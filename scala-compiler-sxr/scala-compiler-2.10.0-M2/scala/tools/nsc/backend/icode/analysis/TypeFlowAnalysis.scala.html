<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/backend/icode/analysis/TypeFlowAnalysis.scala</title>
        <script type="text/javascript" src="../../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend.icode.analysis

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span>mutable, immutable<span class="delimiter">}</span>

/** A data-flow analysis on types, that works on `ICode`.
 *
 *  @author Iulian Dragos
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TypeFlowAnalysis extends Object with ScalaObject" id="16789">TypeFlowAnalysis</a> <a href="#16789" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="239581">global</a>: <a href="../../../Global.scala.html#12873" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> <a href="#239581" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../../../reflect/internal/Definitions.scala.html#39224" title="object TypeFlowAnalysis.this.global.definitions">definitions</a>.<span class="delimiter">{</span> ObjectClass, NothingClass, AnyRefClass, StringClass, ThrowableClass <span class="delimiter">}</span>

  /** The lattice of ICode types.
   */
  <span class="keyword">object</span> <a title="object TypeFlowAnalysis.this.typeLattice" id="239584">typeLattice</a> <span title="ScalaObject" class="keyword">extends</span> <a href="SemiLattice.scala.html#16810" title="scala.tools.nsc.backend.icode.analysis.SemiLattice">SemiLattice</a> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="352646">Elem</a> = icodes.<a href="../TypeKinds.scala.html#232671" title="TypeFlowAnalysis.this.global.icodes.TypeKind">TypeKind</a>

    <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.REFERENCE" id="352647">top</a>    = <a href="../../../Global.scala.html#186153" title="object TypeFlowAnalysis.this.global.icodes">icodes</a>.<a href="../TypeKinds.scala.html#320867" title="(cls: TypeFlowAnalysis.this.global.icodes.global.Symbol)TypeFlowAnalysis.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="../../../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; TypeFlowAnalysis.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.REFERENCE" id="352649">bottom</a> = <a href="../../../Global.scala.html#186153" title="object TypeFlowAnalysis.this.global.icodes">icodes</a>.<a href="../TypeKinds.scala.html#320867" title="(cls: TypeFlowAnalysis.this.global.icodes.global.Symbol)TypeFlowAnalysis.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="../../../../../reflect/internal/Definitions.scala.html#44996" title="object TypeFlowAnalysis.this.global.definitions.NothingClass">NothingClass</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(exceptional: Boolean)(a: scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem, b: scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem)scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem" id="352651">lub2</a><span class="delimiter">(</span><a title="Boolean" id="352655">exceptional</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem" id="352656">a</a>: <a href="../TypeKinds.scala.html#232671" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem">Elem</a>, <a title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem" id="352657">b</a>: <a href="../TypeKinds.scala.html#232671" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem">Elem</a><span class="delimiter">)</span> =
      <span title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem" class="keyword">if</span> <span class="delimiter">(</span><a href="#352656" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem">a</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#352649" title="=&gt; TypeFlowAnalysis.this.global.icodes.REFERENCE">bottom</a><span class="delimiter">)</span> <a href="#352657" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem">b</a>
      <span class="keyword">else</span> <span title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem" class="keyword">if</span> <span class="delimiter">(</span><a href="#352657" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem">b</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#352649" title="=&gt; TypeFlowAnalysis.this.global.icodes.REFERENCE">bottom</a><span class="delimiter">)</span> <a href="#352656" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem">a</a>
      <span class="keyword">else</span> <a href="../../../Global.scala.html#186153" title="object TypeFlowAnalysis.this.global.icodes">icodes</a>.<a href="../TypeKinds.scala.html#232676" title="(a: TypeFlowAnalysis.this.global.icodes.TypeKind, b: TypeFlowAnalysis.this.global.icodes.TypeKind)TypeFlowAnalysis.this.global.icodes.TypeKind">lub</a><span class="delimiter">(</span><a href="#352656" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem">a</a>, <a href="#352657" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeLattice.Elem">b</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** The lattice of type stacks. It is a straight forward extension of
   *  the type lattice (lub is pairwise lub of the list elements).
   */
  <span class="keyword">object</span> <a title="object TypeFlowAnalysis.this.typeStackLattice" id="239586">typeStackLattice</a> <span title="ScalaObject" class="keyword">extends</span> <a href="SemiLattice.scala.html#16810" title="scala.tools.nsc.backend.icode.analysis.SemiLattice">SemiLattice</a> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="../../../Global.scala.html#186153" title="object TypeFlowAnalysis.this.global.icodes">icodes</a>._
    <span class="keyword">type</span> <a title="TypeFlowAnalysis.this.global.icodes.TypeStack" id="352666">Elem</a> = <a href="../TypeStacks.scala.html#232662" title="TypeFlowAnalysis.this.global.icodes.TypeStack">TypeStack</a>

    <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.TypeStack" id="352667">top</a>                   = <a href="../TypeStacks.scala.html#336243" title="()TypeFlowAnalysis.this.global.icodes.TypeStack" class="keyword">new</a> <a href="../TypeStacks.scala.html#232662" title="TypeFlowAnalysis.this.global.icodes.TypeStack">TypeStack</a>
    <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.TypeStack" id="352669">bottom</a>                = <a href="../TypeStacks.scala.html#336243" title="()TypeFlowAnalysis.this.global.icodes.TypeStack" class="keyword">new</a> <a href="../TypeStacks.scala.html#232662" title="TypeFlowAnalysis.this.global.icodes.TypeStack">TypeStack</a>
    <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.TypeStack" id="352671">exceptionHandlerStack</a> = <span title="TypeFlowAnalysis.this.global.icodes.TypeStack" class="keyword">new</span> <a href="../TypeStacks.scala.html#232662" title="TypeFlowAnalysis.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">(</span><span title="(xs: TypeFlowAnalysis.this.global.icodes.REFERENCE*)List[TypeFlowAnalysis.this.global.icodes.REFERENCE]">List</span><span class="delimiter">(</span><a href="../TypeKinds.scala.html#320867" title="(cls: TypeFlowAnalysis.this.global.icodes.global.Symbol)TypeFlowAnalysis.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="../../../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; TypeFlowAnalysis.this.global.Symbol">AnyRefClass</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(exceptional: Boolean)(s1: TypeFlowAnalysis.this.global.icodes.TypeStack, s2: TypeFlowAnalysis.this.global.icodes.TypeStack)scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeStackLattice.Elem" id="352673">lub2</a><span class="delimiter">(</span><a title="Boolean" id="352697">exceptional</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeStack" id="352698">s1</a>: <a href="../TypeStacks.scala.html#232662" title="TypeFlowAnalysis.this.global.icodes.TypeStack">TypeStack</a>, <a title="TypeFlowAnalysis.this.global.icodes.TypeStack" id="352699">s2</a>: <a href="../TypeStacks.scala.html#232662" title="TypeFlowAnalysis.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeStackLattice.Elem" class="keyword">if</span> <span class="delimiter">(</span><a href="#352698" title="TypeFlowAnalysis.this.global.icodes.TypeStack">s1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#352669" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">bottom</a><span class="delimiter">)</span> <a href="#352699" title="TypeFlowAnalysis.this.global.icodes.TypeStack">s2</a>
      <span class="keyword">else</span> <span title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeStackLattice.Elem" class="keyword">if</span> <span class="delimiter">(</span><a href="#352699" title="TypeFlowAnalysis.this.global.icodes.TypeStack">s2</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#352669" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">bottom</a><span class="delimiter">)</span> <a href="#352698" title="TypeFlowAnalysis.this.global.icodes.TypeStack">s1</a>
      <span class="keyword">else</span> <span title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeStackLattice.Elem" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#352698" title="TypeFlowAnalysis.this.global.icodes.TypeStack">s1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#352671" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">exceptionHandlerStack</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#352699" title="TypeFlowAnalysis.this.global.icodes.TypeStack">s2</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#352671" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">exceptionHandlerStack</a><span class="delimiter">)</span><span class="delimiter">)</span> sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;merging with exhan stack&quot;)" class="string">&quot;merging with exhan stack&quot;</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
//        if (s1.length != s2.length)
//          throw new CheckerException(&quot;Incompatible stacks: &quot; + s1 + &quot; and &quot; + s2);
        <span title="TypeFlowAnalysis.this.global.icodes.TypeStack" class="keyword">new</span> <a href="../TypeStacks.scala.html#232662" title="TypeFlowAnalysis.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">(</span><span title="(_1: TypeFlowAnalysis.this.global.icodes.Rep, _2: TypeFlowAnalysis.this.global.icodes.Rep)(TypeFlowAnalysis.this.global.icodes.Rep, TypeFlowAnalysis.this.global.icodes.Rep)" class="delimiter">(</span><a href="#352698" title="TypeFlowAnalysis.this.global.icodes.TypeStack">s1</a>.<a href="../TypeStacks.scala.html#336239" title="=&gt; TypeFlowAnalysis.this.global.icodes.Rep">types</a>, <a href="#352699" title="TypeFlowAnalysis.this.global.icodes.TypeStack">s2</a>.<a href="../TypeStacks.scala.html#336239" title="=&gt; TypeFlowAnalysis.this.global.icodes.Rep">types</a><span class="delimiter">)</span>.<span title="(implicit w1: List[TypeFlowAnalysis.this.global.icodes.TypeKind] =&gt; scala.collection.TraversableLike[TypeFlowAnalysis.this.global.icodes.TypeKind,List[TypeFlowAnalysis.this.global.icodes.TypeKind]], implicit w2: List[TypeFlowAnalysis.this.global.icodes.TypeKind] =&gt; scala.collection.IterableLike[TypeFlowAnalysis.this.global.icodes.TypeKind,List[TypeFlowAnalysis.this.global.icodes.TypeKind]])(TypeFlowAnalysis.this.global.icodes.Rep, TypeFlowAnalysis.this.global.icodes.Rep)#Zipped[List[TypeFlowAnalysis.this.global.icodes.TypeKind],TypeFlowAnalysis.this.global.icodes.TypeKind,List[TypeFlowAnalysis.this.global.icodes.TypeKind],TypeFlowAnalysis.this.global.icodes.TypeKind]">zipped</span> <span title="(f: (TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind) =&gt; TypeFlowAnalysis.this.global.icodes.TypeKind)(implicit cbf: scala.collection.generic.CanBuildFrom[List[TypeFlowAnalysis.this.global.icodes.TypeKind],TypeFlowAnalysis.this.global.icodes.TypeKind,List[TypeFlowAnalysis.this.global.icodes.TypeKind]])List[TypeFlowAnalysis.this.global.icodes.TypeKind]">map</span> <a href="../../../Global.scala.html#186153" title="object TypeFlowAnalysis.this.global.icodes">icodes</a>.<a href="../TypeKinds.scala.html#232676" title="(a: TypeFlowAnalysis.this.global.icodes.TypeKind, b: TypeFlowAnalysis.this.global.icodes.TypeKind)TypeFlowAnalysis.this.global.icodes.TypeKind">lub</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** A map which returns the bottom type for unfound elements */
  <span class="keyword">class</span> <a title="class VarBinding extends scala.collection.mutable.HashMap[TypeFlowAnalysis.this.global.icodes.Local,TypeFlowAnalysis.this.global.icodes.TypeKind] with ScalaObject" id="239588">VarBinding</a> <a href="#239588" title="ScalaObject" class="keyword">extends</a> mutable.<span title="scala.collection.mutable.HashMap[TypeFlowAnalysis.this.global.icodes.Local,TypeFlowAnalysis.this.global.icodes.TypeKind]">HashMap</span><span class="delimiter">[</span>icodes.Local, icodes.TypeKind<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(l: TypeFlowAnalysis.this.global.icodes.Local)TypeFlowAnalysis.this.global.icodes.REFERENCE" id="352805">default</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.Local" id="352829">l</a>: icodes.<a href="../Members.scala.html#232641" title="TypeFlowAnalysis.this.global.icodes.Local">Local</a><span class="delimiter">)</span> = <a href="#239584" title="object TypeFlowAnalysis.this.typeLattice">typeLattice</a>.<a href="#352649" title="=&gt; TypeFlowAnalysis.this.global.icodes.REFERENCE">bottom</a>

    <span class="keyword">def</span> <a title="(o: TypeFlowAnalysis.this.VarBinding)TypeFlowAnalysis.this.VarBinding" id="352806" class="keyword">this</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.VarBinding" id="352838">o</a>: <a href="#239588" title="TypeFlowAnalysis.this.VarBinding">VarBinding</a><span class="delimiter">)</span> = <span title="Unit" class="delimiter">{</span>
      <a href="#239588" title="VarBinding.this.type" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#239588" title="VarBinding.this.type" class="keyword">this</a> <span title="(xs: scala.collection.TraversableOnce[(TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind)])VarBinding.this.type">++=</span> <a href="#352838" title="TypeFlowAnalysis.this.VarBinding">o</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** The type flow lattice contains a binding from local variable
   *  names to types and a type stack.
   */
  <span class="keyword">object</span> <a title="object TypeFlowAnalysis.this.typeFlowLattice" id="239589">typeFlowLattice</a> <span title="ScalaObject" class="keyword">extends</span> <a href="SemiLattice.scala.html#16810" title="scala.tools.nsc.backend.icode.analysis.SemiLattice">SemiLattice</a> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="../../../Global.scala.html#186153" title="object TypeFlowAnalysis.this.global.icodes">icodes</a>._
    <span class="keyword">type</span> <a title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]" id="353026">Elem</a> = <a href="SemiLattice.scala.html#347427" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">IState</a><span class="delimiter">[</span>VarBinding, icodes.TypeStack<span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]" id="353027">top</a>    = <span title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]" class="keyword">new</span> <a href="#353026" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">Elem</a><span class="delimiter">(</span><span title="TypeFlowAnalysis.this.VarBinding" class="keyword">new</span> <a href="#239588" title="TypeFlowAnalysis.this.VarBinding">VarBinding</a>, <a href="#239586" title="object TypeFlowAnalysis.this.typeStackLattice">typeStackLattice</a>.<a href="#352667" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">top</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]" id="353029">bottom</a> = <span title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]" class="keyword">new</span> <a href="#353026" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">Elem</a><span class="delimiter">(</span><span title="TypeFlowAnalysis.this.VarBinding" class="keyword">new</span> <a href="#239588" title="TypeFlowAnalysis.this.VarBinding">VarBinding</a>, <a href="#239586" title="object TypeFlowAnalysis.this.typeStackLattice">typeStackLattice</a>.<a href="#352669" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">bottom</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(exceptional: Boolean)(a: scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.Elem, b: scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.Elem)scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]" id="353031">lub2</a><span class="delimiter">(</span><a title="Boolean" id="353039">exceptional</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.Elem" id="353040">a</a>: <a href="SemiLattice.scala.html#347427" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.Elem">Elem</a>, <a title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.Elem" id="353041">b</a>: <a href="SemiLattice.scala.html#347427" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.Elem">Elem</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> IState<a href="#353052" title="TypeFlowAnalysis.this.VarBinding" id="353046" class="delimiter">(</a><a title="TypeFlowAnalysis.this.VarBinding" id="353052">env1</a>, _<span class="delimiter">)</span> = <a href="#353040" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.Elem">a</a>
      <span class="keyword">val</span> IState<a href="#353055" title="TypeFlowAnalysis.this.VarBinding" id="353047" class="delimiter">(</a><a title="TypeFlowAnalysis.this.VarBinding" id="353055">env2</a>, _<span class="delimiter">)</span> = <a href="#353041" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.Elem">b</a>

      <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.VarBinding" id="353048">resultingLocals</a> = <span title="TypeFlowAnalysis.this.VarBinding" class="keyword">new</span> <a href="#239588" title="TypeFlowAnalysis.this.VarBinding">VarBinding</a>
      <a href="#353046" title="TypeFlowAnalysis.this.VarBinding">env1</a> <span title="(f: ((TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind)) =&gt; TypeFlowAnalysis.this.VarBinding)Unit">foreach</span> <a href="#353082" title="resultingLocals.type" class="delimiter">{</a> <span class="keyword">case</span> <span title="resultingLocals.type" class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.Local" id="353085">k</a>, <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353086">v</a><span class="delimiter">)</span> =&gt;
        <a href="#353048" title="TypeFlowAnalysis.this.VarBinding">resultingLocals</a> <span title="(kv: (TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind))resultingLocals.type">+=</span> <span class="delimiter">(</span><span title="(_1: TypeFlowAnalysis.this.global.icodes.Local, _2: TypeFlowAnalysis.this.typeLattice.Elem)(TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.typeLattice.Elem)" class="delimiter">(</span><a href="#353085" title="TypeFlowAnalysis.this.global.icodes.Local">k</a>, <a href="#239584" title="object TypeFlowAnalysis.this.typeLattice">typeLattice</a>.<a href="#352651" title="(exceptional: Boolean)(a: TypeFlowAnalysis.this.typeLattice.Elem, b: TypeFlowAnalysis.this.typeLattice.Elem)TypeFlowAnalysis.this.typeLattice.Elem">lub2</a><span class="delimiter">(</span><a href="#353039" title="Boolean">exceptional</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#353086" title="TypeFlowAnalysis.this.global.icodes.TypeKind">v</a>, <a href="#353047" title="(key: TypeFlowAnalysis.this.global.icodes.Local)TypeFlowAnalysis.this.global.icodes.TypeKind">env2</a><span class="delimiter">(</span><a href="#353085" title="TypeFlowAnalysis.this.global.icodes.Local">k</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#353047" title="TypeFlowAnalysis.this.VarBinding">env2</a> <span title="(pf: PartialFunction[(TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind),TypeFlowAnalysis.this.VarBinding])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.HashMap[TypeFlowAnalysis.this.global.icodes.Local,TypeFlowAnalysis.this.global.icodes.TypeKind],TypeFlowAnalysis.this.VarBinding,scala.collection.mutable.Iterable[TypeFlowAnalysis.this.VarBinding]])scala.collection.mutable.Iterable[TypeFlowAnalysis.this.VarBinding]">collect</span> <a href="#353138" title="resultingLocals.type" class="delimiter">{</a> <span class="keyword">case</span> <span title="resultingLocals.type" class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.Local" id="353141">k</a>, <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353142">v</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#353048" title="(key: TypeFlowAnalysis.this.global.icodes.Local)TypeFlowAnalysis.this.global.icodes.TypeKind">resultingLocals</a><span class="delimiter">(</span><a href="#353141" title="TypeFlowAnalysis.this.global.icodes.Local">k</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#239584" title="object TypeFlowAnalysis.this.typeLattice">typeLattice</a>.<a href="#352649" title="=&gt; TypeFlowAnalysis.this.global.icodes.REFERENCE">bottom</a> =&gt;
        <a href="#353048" title="TypeFlowAnalysis.this.VarBinding">resultingLocals</a> <span title="(kv: (TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind))resultingLocals.type">+=</span> <span class="delimiter">(</span><span title="(_1: TypeFlowAnalysis.this.global.icodes.Local, _2: TypeFlowAnalysis.this.typeLattice.Elem)(TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.typeLattice.Elem)" class="delimiter">(</span><a href="#353141" title="TypeFlowAnalysis.this.global.icodes.Local">k</a>, <a href="#239584" title="object TypeFlowAnalysis.this.typeLattice">typeLattice</a>.<a href="#352651" title="(exceptional: Boolean)(a: TypeFlowAnalysis.this.typeLattice.Elem, b: TypeFlowAnalysis.this.typeLattice.Elem)TypeFlowAnalysis.this.typeLattice.Elem">lub2</a><span class="delimiter">(</span><a href="#353039" title="Boolean">exceptional</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#353142" title="TypeFlowAnalysis.this.global.icodes.TypeKind">v</a>, <a href="#353046" title="(key: TypeFlowAnalysis.this.global.icodes.Local)TypeFlowAnalysis.this.global.icodes.TypeKind">env1</a><span class="delimiter">(</span><a href="#353141" title="TypeFlowAnalysis.this.global.icodes.Local">k</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.TypeStack" id="353049">stack</a> =
        <span title="TypeFlowAnalysis.this.global.icodes.TypeStack" class="keyword">if</span> <span class="delimiter">(</span><a href="#353039" title="Boolean">exceptional</a><span class="delimiter">)</span> <a href="#239586" title="object TypeFlowAnalysis.this.typeStackLattice">typeStackLattice</a>.<a href="#352671" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">exceptionHandlerStack</a>
        <span class="keyword">else</span> <a href="#239586" title="object TypeFlowAnalysis.this.typeStackLattice">typeStackLattice</a>.<a href="#352673" title="(exceptional: Boolean)(s1: TypeFlowAnalysis.this.global.icodes.TypeStack, s2: TypeFlowAnalysis.this.global.icodes.TypeStack)TypeFlowAnalysis.this.typeStackLattice.Elem">lub2</a><span class="delimiter">(</span><a href="#353039" title="Boolean">exceptional</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#353040" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.Elem">a</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>, <a href="#353041" title="scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.Elem">b</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span>

      <a href="SemiLattice.scala.html#350574" title="(vars: TypeFlowAnalysis.this.VarBinding, stack: TypeFlowAnalysis.this.global.icodes.TypeStack)scala.tools.nsc.backend.icode.analysis.TypeFlowAnalysis.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">IState</a><span class="delimiter">(</span><a href="#353048" title="TypeFlowAnalysis.this.VarBinding">resultingLocals</a>, <a href="#353049" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.Timer" id="239591">timer</a> = <span title="TypeFlowAnalysis.this.Timer" class="keyword">new</span> <a href="#239598" title="TypeFlowAnalysis.this.Timer">Timer</a>

  <span class="keyword">class</span> <a title="class MethodTFA extends Object with scala.tools.nsc.backend.icode.analysis.DataFlowAnalysis[TypeFlowAnalysis.this.typeFlowLattice.type] with ScalaObject" id="239593">MethodTFA</a> <a href="#239593" title="ScalaObject" class="keyword">extends</a> <a href="DataFlowAnalysis.scala.html#16849" title="scala.tools.nsc.backend.icode.analysis.DataFlowAnalysis[TypeFlowAnalysis.this.typeFlowLattice.type]">DataFlowAnalysis</a><span class="delimiter">[</span>typeFlowLattice.<span class="keyword">type</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="../../../Global.scala.html#186153" title="object TypeFlowAnalysis.this.global.icodes">icodes</a>._
    <span class="keyword">import</span> <a href="../../../Global.scala.html#186153" title="object TypeFlowAnalysis.this.global.icodes">icodes</a>.<a href="../Opcodes.scala.html#232654" title="object TypeFlowAnalysis.this.global.icodes.opcodes">opcodes</a>._

    <span class="keyword">type</span> <a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="353253">P</a> = <a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a>
    <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.typeFlowLattice.type" id="353254">lattice</a> = <a href="#239589" title="object TypeFlowAnalysis.this.typeFlowLattice">typeFlowLattice</a>

    <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.REFERENCE" id="353256">STRING</a> = <a href="../../../Global.scala.html#186153" title="object TypeFlowAnalysis.this.global.icodes">icodes</a>.<a href="../TypeKinds.scala.html#320867" title="(cls: TypeFlowAnalysis.this.global.icodes.global.Symbol)TypeFlowAnalysis.this.global.icodes.REFERENCE">REFERENCE</a><span class="delimiter">(</span><a href="../../../../../reflect/internal/Definitions.scala.html#45024" title="=&gt; TypeFlowAnalysis.this.global.Symbol">StringClass</a><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="TypeFlowAnalysis.this.global.icodes.IMethod" id="353259">method</a>: <a href="../Members.scala.html#232640" title="TypeFlowAnalysis.this.global.icodes.IMethod">IMethod</a> = _

    /** Initialize the in/out maps for the analysis of the given method. */
    <span class="keyword">def</span> <a title="(m: TypeFlowAnalysis.this.global.icodes.IMethod)Unit" id="353261">init</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.IMethod" id="353292">m</a>: icodes.<a href="../Members.scala.html#232640" title="TypeFlowAnalysis.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#239593" title="MethodTFA.this.type" class="keyword">this</a>.<a href="#353259" title="(x$1: TypeFlowAnalysis.this.global.icodes.IMethod)Unit">method</a> = <a href="#353292" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a>
      //typeFlowLattice.lubs = 0
      <a href="DataFlowAnalysis.scala.html#348039" title="(f: =&gt; Unit)Unit">init</a> <span class="delimiter">{</span>
        <a href="DataFlowAnalysis.scala.html#348025" title="=&gt; scala.collection.mutable.Set[MethodTFA.this.P]">worklist</a> <span title="(elem: MethodTFA.this.P)MethodTFA.this.worklist.type">+=</span> <a href="#353292" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#322215" title="=&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock">startBlock</a>
        <a href="DataFlowAnalysis.scala.html#348025" title="=&gt; scala.collection.mutable.Set[MethodTFA.this.P]">worklist</a> <span title="(xs: scala.collection.TraversableOnce[MethodTFA.this.P])MethodTFA.this.worklist.type">++=</span> <span class="delimiter">(</span><a href="#353292" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#322228" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.ExceptionHandler]">exh</a> <span title="(f: TypeFlowAnalysis.this.global.icodes.ExceptionHandler =&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeFlowAnalysis.this.global.icodes.ExceptionHandler],TypeFlowAnalysis.this.global.icodes.BasicBlock,scala.collection.TraversableOnce[MethodTFA.this.P]])scala.collection.TraversableOnce[MethodTFA.this.P]">map</span> <span class="delimiter">(</span><a href="#353333" title="TypeFlowAnalysis.this.global.icodes.ExceptionHandler">_</a>.<a href="../ExceptionHandlers.scala.html#322457" title="=&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#353292" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a> <a href="../Members.scala.html#322219" title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreachBlock</a> <span class="delimiter">{</span> <a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="353365">b</a> =&gt;
          <a href="DataFlowAnalysis.scala.html#348027" title="(key: MethodTFA.this.P, value: MethodTFA.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><a href="#353365" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>  = <a href="#239589" title="object TypeFlowAnalysis.this.typeFlowLattice">typeFlowLattice</a>.<a href="#353029" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">bottom</a>
          <a href="DataFlowAnalysis.scala.html#348029" title="(key: MethodTFA.this.P, value: MethodTFA.this.lattice.Elem)Unit">out</a><span class="delimiter">(</span><a href="#353365" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> = <a href="#239589" title="object TypeFlowAnalysis.this.typeFlowLattice">typeFlowLattice</a>.<a href="#353029" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">bottom</a>
        <span class="delimiter">}</span>

        // start block has var bindings for each of its parameters
        <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.VarBinding" id="353300">entryBindings</a>     = <span title="TypeFlowAnalysis.this.VarBinding" class="keyword">new</span> <a href="#239588" title="TypeFlowAnalysis.this.VarBinding">VarBinding</a> <span title="(xs: scala.collection.TraversableOnce[(TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind)])TypeFlowAnalysis.this.VarBinding">++=</span> <span class="delimiter">(</span><a href="#353292" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#322243" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.Local]">params</a> <span title="(f: TypeFlowAnalysis.this.global.icodes.Local =&gt; (TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind))(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeFlowAnalysis.this.global.icodes.Local],(TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind),scala.collection.TraversableOnce[(TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind)]])scala.collection.TraversableOnce[(TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind)]">map</span> <span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.Local" id="353399">p</a> =&gt; <span class="delimiter">(</span><span title="(_1: TypeFlowAnalysis.this.global.icodes.Local, _2: TypeFlowAnalysis.this.global.icodes.TypeKind)(TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind)" class="delimiter">(</span><a href="#353399" title="TypeFlowAnalysis.this.global.icodes.Local">p</a>, <a href="#353399" title="TypeFlowAnalysis.this.global.icodes.Local">p</a>.<a href="../Members.scala.html#322659" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="DataFlowAnalysis.scala.html#348027" title="(key: MethodTFA.this.P, value: MethodTFA.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><a href="#353292" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#322215" title="=&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span> = <a href="#353254" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.type">lattice</a>.<a href="SemiLattice.scala.html#350574" title="(vars: TypeFlowAnalysis.this.VarBinding, stack: TypeFlowAnalysis.this.global.icodes.TypeStack)MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">IState</a><span class="delimiter">(</span><a href="#353300" title="TypeFlowAnalysis.this.VarBinding">entryBindings</a>, <a href="#239586" title="object TypeFlowAnalysis.this.typeStackLattice">typeStackLattice</a>.<a href="#352669" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">bottom</a><span class="delimiter">)</span>

        <a href="#353292" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#322228" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.ExceptionHandler]">exh</a> <span title="(f: TypeFlowAnalysis.this.global.icodes.ExceptionHandler =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="TypeFlowAnalysis.this.global.icodes.ExceptionHandler" id="353462">e</a> =&gt;
          <a href="DataFlowAnalysis.scala.html#348027" title="(key: MethodTFA.this.P, value: MethodTFA.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><a href="#353462" title="TypeFlowAnalysis.this.global.icodes.ExceptionHandler">e</a>.<a href="../ExceptionHandlers.scala.html#322457" title="=&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span> = <a href="#353254" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.type">lattice</a>.<a href="SemiLattice.scala.html#350574" title="(vars: TypeFlowAnalysis.this.VarBinding, stack: TypeFlowAnalysis.this.global.icodes.TypeStack)MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">IState</a><span class="delimiter">(</span><a href="DataFlowAnalysis.scala.html#348027" title="(key: MethodTFA.this.P)MethodTFA.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#353462" title="TypeFlowAnalysis.this.global.icodes.ExceptionHandler">e</a>.<a href="../ExceptionHandlers.scala.html#322457" title="=&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>.<a href="SemiLattice.scala.html#350519" title="=&gt; TypeFlowAnalysis.this.VarBinding">vars</a>, <a href="#239586" title="object TypeFlowAnalysis.this.typeStackLattice">typeStackLattice</a>.<a href="#352671" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">exceptionHandlerStack</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(m: TypeFlowAnalysis.this.global.icodes.IMethod)TypeFlowAnalysis.this.MethodTFA" id="353262" class="keyword">this</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.IMethod" id="353493">m</a>: icodes.<a href="../Members.scala.html#232640" title="TypeFlowAnalysis.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
      <a href="#239593" title="MethodTFA.this.type" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#353261" title="(m: TypeFlowAnalysis.this.global.icodes.IMethod)Unit">init</a><span class="delimiter">(</span><a href="#353493" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="()Unit" id="353263">run</a> = <span class="delimiter">{</span>
      <a href="#239591" title="=&gt; TypeFlowAnalysis.this.Timer">timer</a>.<a href="#250682" title="()Unit">start</a>
      // icodes.lubs0 = 0
      <a href="DataFlowAnalysis.scala.html#348042" title="(f: (MethodTFA.this.P, MethodTFA.this.lattice.Elem) =&gt; MethodTFA.this.lattice.Elem)Unit">forwardAnalysis</a><span class="delimiter">(</span><a href="#353264" title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock, in: MethodTFA.this.lattice.Elem)MethodTFA.this.lattice.Elem">blockTransfer</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Long" id="353510">t</a> = <a href="#239591" title="=&gt; TypeFlowAnalysis.this.Timer">timer</a>.<a href="#250683" title="=&gt; Long">stop</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../ICodes.scala.html#232593" title="=&gt; TypeFlowAnalysis.this.global.icodes.Linearizer">linearizer</a>.<a href="../Linearizers.scala.html#339433" title="(c: TypeFlowAnalysis.this.global.icodes.IMethod)List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">linearize</a><span class="delimiter">(</span><a href="#353259" title="=&gt; TypeFlowAnalysis.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>.<span title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="353551">b</a> =&gt; <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#353551" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#353259" title="=&gt; TypeFlowAnalysis.this.global.icodes.IMethod">method</a>.<a href="../Members.scala.html#322215" title="=&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>
          <a href="../../../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="DataFlowAnalysis.scala.html#348031" title="=&gt; scala.collection.mutable.HashSet[MethodTFA.this.P]">visited</a>.<span title="(elem: MethodTFA.this.P)Boolean">contains</span><span class="delimiter">(</span><a href="#353551" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>,
            <span title="String(&quot;Block &quot;)" class="string">&quot;Block &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353551" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#239593" title="MethodTFA.this.type" class="keyword">this</a>.<a href="#353259" title="=&gt; TypeFlowAnalysis.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has input equal to bottom -- not visited? ..&quot;)" class="string">&quot; has input equal to bottom -- not visited? ..&quot;</span> <span title="(x$1: Any)String">+</span> <a href="DataFlowAnalysis.scala.html#348031" title="=&gt; scala.collection.mutable.HashSet[MethodTFA.this.P]">visited</a><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
      // log(&quot;&quot; + method.symbol.fullName + &quot; [&quot;  + method.code.blocks.size + &quot; blocks] &quot;
      //     + &quot;\n\t&quot; + iterations + &quot; iterations: &quot; + t + &quot; ms.&quot;
      //     + &quot;\n\tlubs: &quot; + typeFlowLattice.lubs + &quot; out of which &quot; + icodes.lubs0 + &quot; typer lubs&quot;)
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock, in: MethodTFA.this.lattice.Elem)MethodTFA.this.lattice.Elem" id="353264">blockTransfer</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="353513">b</a>: <a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="MethodTFA.this.lattice.Elem" id="353514">in</a>: lattice.<a href="SemiLattice.scala.html#347427" title="MethodTFA.this.lattice.Elem">Elem</a><span class="delimiter">)</span>: lattice.<a href="SemiLattice.scala.html#347427" title="MethodTFA.this.lattice.Elem">Elem</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]" id="353563">result</a> = <a href="#353254" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.type">lattice</a>.<a href="SemiLattice.scala.html#350574" title="(vars: TypeFlowAnalysis.this.VarBinding, stack: TypeFlowAnalysis.this.global.icodes.TypeStack)MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">IState</a><span class="delimiter">(</span><a href="#352806" title="(o: TypeFlowAnalysis.this.VarBinding)TypeFlowAnalysis.this.VarBinding" class="keyword">new</a> <a href="#239588" title="TypeFlowAnalysis.this.VarBinding">VarBinding</a><span class="delimiter">(</span><a href="#353514" title="MethodTFA.this.lattice.Elem">in</a>.<a href="SemiLattice.scala.html#350519" title="=&gt; TypeFlowAnalysis.this.VarBinding">vars</a><span class="delimiter">)</span>, <a href="../TypeStacks.scala.html#336244" title="(that: TypeFlowAnalysis.this.global.icodes.TypeStack)TypeFlowAnalysis.this.global.icodes.TypeStack" class="keyword">new</a> <a href="../TypeStacks.scala.html#232662" title="TypeFlowAnalysis.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">(</span><a href="#353514" title="MethodTFA.this.lattice.Elem">in</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="List[TypeFlowAnalysis.this.global.icodes.Instruction]" id="353564">instrs</a> = <a href="#353513" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a>.<a href="../BasicBlocks.scala.html#322151" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.Instruction]">toList</a>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#353564" title="List[TypeFlowAnalysis.this.global.icodes.Instruction]">instrs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#353565" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.Instruction" id="353579">i</a>  = <a href="#353564" title="List[TypeFlowAnalysis.this.global.icodes.Instruction]">instrs</a>.<span title="=&gt; TypeFlowAnalysis.this.global.icodes.Instruction">head</span>
        <a href="#353563" title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">result</a> = <a href="#353266" title="(out: TypeFlowAnalysis.this.typeFlowLattice.Elem, i: TypeFlowAnalysis.this.global.icodes.Instruction)TypeFlowAnalysis.this.typeFlowLattice.Elem">mutatingInterpret</a><span class="delimiter">(</span><a href="#353563" title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">result</a>, <a href="#353579" title="TypeFlowAnalysis.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
        <a href="#353564" title="List[TypeFlowAnalysis.this.global.icodes.Instruction]">instrs</a> = <a href="#353564" title="List[TypeFlowAnalysis.this.global.icodes.Instruction]">instrs</a>.<span title="=&gt; List[TypeFlowAnalysis.this.global.icodes.Instruction]">tail</span>
      <span class="delimiter">}</span>
      <a href="#353563" title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">result</a>
    <span class="delimiter">}</span>

    /** Abstract interpretation for one instruction. */
    <span class="keyword">def</span> <a title="(in: TypeFlowAnalysis.this.typeFlowLattice.Elem, i: TypeFlowAnalysis.this.global.icodes.Instruction)TypeFlowAnalysis.this.typeFlowLattice.Elem" id="353265">interpret</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.typeFlowLattice.Elem" id="353589">in</a>: typeFlowLattice.<a href="SemiLattice.scala.html#347427" title="TypeFlowAnalysis.this.typeFlowLattice.Elem">Elem</a>, <a title="TypeFlowAnalysis.this.global.icodes.Instruction" id="353590">i</a>: <a href="../Opcodes.scala.html#232653" title="TypeFlowAnalysis.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: typeFlowLattice.<a href="SemiLattice.scala.html#347427" title="TypeFlowAnalysis.this.typeFlowLattice.Elem">Elem</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]" id="353592">out</a> = <a href="#353254" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.type">lattice</a>.<a href="SemiLattice.scala.html#350574" title="(vars: TypeFlowAnalysis.this.VarBinding, stack: TypeFlowAnalysis.this.global.icodes.TypeStack)MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">IState</a><span class="delimiter">(</span><a href="#352806" title="(o: TypeFlowAnalysis.this.VarBinding)TypeFlowAnalysis.this.VarBinding" class="keyword">new</a> <a href="#239588" title="TypeFlowAnalysis.this.VarBinding">VarBinding</a><span class="delimiter">(</span><a href="#353589" title="TypeFlowAnalysis.this.typeFlowLattice.Elem">in</a>.<a href="SemiLattice.scala.html#350519" title="=&gt; TypeFlowAnalysis.this.VarBinding">vars</a><span class="delimiter">)</span>, <a href="../TypeStacks.scala.html#336244" title="(that: TypeFlowAnalysis.this.global.icodes.TypeStack)TypeFlowAnalysis.this.global.icodes.TypeStack" class="keyword">new</a> <a href="../TypeStacks.scala.html#232662" title="TypeFlowAnalysis.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">(</span><a href="#353589" title="TypeFlowAnalysis.this.typeFlowLattice.Elem">in</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#353266" title="(out: TypeFlowAnalysis.this.typeFlowLattice.Elem, i: TypeFlowAnalysis.this.global.icodes.Instruction)TypeFlowAnalysis.this.typeFlowLattice.Elem">mutatingInterpret</a><span class="delimiter">(</span><a href="#353592" title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">out</a>, <a href="#353590" title="TypeFlowAnalysis.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(out: TypeFlowAnalysis.this.typeFlowLattice.Elem, i: TypeFlowAnalysis.this.global.icodes.Instruction)TypeFlowAnalysis.this.typeFlowLattice.Elem" id="353266">mutatingInterpret</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.typeFlowLattice.Elem" id="353585">out</a>: typeFlowLattice.<a href="SemiLattice.scala.html#347427" title="TypeFlowAnalysis.this.typeFlowLattice.Elem">Elem</a>, <a title="TypeFlowAnalysis.this.global.icodes.Instruction" id="353586">i</a>: <a href="../Opcodes.scala.html#232653" title="TypeFlowAnalysis.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: typeFlowLattice.<a href="SemiLattice.scala.html#347427" title="TypeFlowAnalysis.this.typeFlowLattice.Elem">Elem</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.VarBinding" id="353605">bindings</a> = <a href="#353585" title="TypeFlowAnalysis.this.typeFlowLattice.Elem">out</a>.<a href="SemiLattice.scala.html#350519" title="=&gt; TypeFlowAnalysis.this.VarBinding">vars</a>
      <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.TypeStack" id="353606">stack</a> = <a href="#353585" title="TypeFlowAnalysis.this.typeFlowLattice.Elem">out</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span>
        // Console.println(&quot;[before] Stack: &quot; + stack);
        // Console.println(i);
      <span class="delimiter">}</span>
      <a href="#353586" title="TypeFlowAnalysis.this.global.icodes.Instruction">i</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>

        <span class="keyword">case</span> <span title="Unit">THIS</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.global.Symbol" id="353612">clasz</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="../TypeKinds.scala.html#232707" title="(t: TypeFlowAnalysis.this.global.icodes.global.Type)TypeFlowAnalysis.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#353612" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">clasz</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">CONSTANT</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.global.Constant" id="353616">const</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="../TypeKinds.scala.html#232707" title="(t: TypeFlowAnalysis.this.global.icodes.global.Type)TypeFlowAnalysis.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#353616" title="TypeFlowAnalysis.this.global.icodes.global.Constant">const</a>.<a href="../../../../../reflect/internal/Constants.scala.html#46274" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">LOAD_ARRAY_ITEM</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353618">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336251" title="=&gt; (TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind)">pop2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353621">idxKind</a>, ARRAY<span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353623">elem</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="../../../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#353621" title="TypeFlowAnalysis.this.global.icodes.TypeKind">idxKind</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../TypeKinds.scala.html#232687" title="object TypeFlowAnalysis.this.global.icodes.INT">INT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#353621" title="TypeFlowAnalysis.this.global.icodes.TypeKind">idxKind</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../TypeKinds.scala.html#232685" title="object TypeFlowAnalysis.this.global.icodes.CHAR">CHAR</a> <span title="(x: Boolean)Boolean">||</span> <a href="#353621" title="TypeFlowAnalysis.this.global.icodes.TypeKind">idxKind</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../TypeKinds.scala.html#232683" title="object TypeFlowAnalysis.this.global.icodes.SHORT">SHORT</a> <span title="(x: Boolean)Boolean">||</span> <a href="#353621" title="TypeFlowAnalysis.this.global.icodes.TypeKind">idxKind</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../TypeKinds.scala.html#232681" title="object TypeFlowAnalysis.this.global.icodes.BYTE">BYTE</a><span class="delimiter">)</span>
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="#353623" title="TypeFlowAnalysis.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="#353618" title="TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">LOAD_LOCAL</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.Local" id="353646">local</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353647">t</a> = <a href="#353605" title="(key: TypeFlowAnalysis.this.global.icodes.Local)TypeFlowAnalysis.this.global.icodes.TypeKind">bindings</a><span class="delimiter">(</span><a href="#353646" title="TypeFlowAnalysis.this.global.icodes.Local">local</a><span class="delimiter">)</span>
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <span class="delimiter">(</span><span title="TypeFlowAnalysis.this.global.icodes.TypeKind" class="keyword">if</span> <span class="delimiter">(</span><a href="#353647" title="TypeFlowAnalysis.this.global.icodes.TypeKind">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#239584" title="object TypeFlowAnalysis.this.typeLattice">typeLattice</a>.<a href="#352649" title="=&gt; TypeFlowAnalysis.this.global.icodes.REFERENCE">bottom</a><span class="delimiter">)</span> <a href="#353646" title="TypeFlowAnalysis.this.global.icodes.Local">local</a>.<a href="../Members.scala.html#322659" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a>  <span class="keyword">else</span> <a href="#353647" title="TypeFlowAnalysis.this.global.icodes.TypeKind">t</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">LOAD_FIELD</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.global.Symbol" id="353673">field</a>, <a title="Boolean" id="353674">isStatic</a><span class="delimiter">)</span> =&gt;
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#353674" title="Boolean">isStatic</a><span class="delimiter">)</span>
            <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="../TypeKinds.scala.html#232707" title="(t: TypeFlowAnalysis.this.global.icodes.global.Type)TypeFlowAnalysis.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#353673" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">field</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">LOAD_MODULE</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.global.Symbol" id="353684">module</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="../TypeKinds.scala.html#232707" title="(t: TypeFlowAnalysis.this.global.icodes.global.Type)TypeFlowAnalysis.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#353684" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">module</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="(TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind)">STORE_ARRAY_ITEM</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353686">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336252" title="=&gt; (TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind)">pop3</a>

        <span class="keyword">case</span> <span title="bindings.type">STORE_LOCAL</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.Local" id="353688">local</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353689">t</a> = <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
          <a href="#353605" title="TypeFlowAnalysis.this.VarBinding">bindings</a> <span title="(kv: (TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind))bindings.type">+=</span> <span class="delimiter">(</span><a href="#353688" title="(x: TypeFlowAnalysis.this.global.icodes.Local)ArrowAssoc[TypeFlowAnalysis.this.global.icodes.Local]">local</a> <span title="(y: TypeFlowAnalysis.this.global.icodes.TypeKind)(TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind)">-&gt;</span> <a href="#353689" title="TypeFlowAnalysis.this.global.icodes.TypeKind">t</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind">STORE_THIS</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>

        <span class="keyword">case</span> <span title="ScalaObject">STORE_FIELD</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.global.Symbol" id="353722">field</a>, <a title="Boolean" id="353723">isStatic</a><span class="delimiter">)</span> =&gt;
          <span title="ScalaObject" class="keyword">if</span> <span class="delimiter">(</span><a href="#353723" title="Boolean">isStatic</a><span class="delimiter">)</span>
            <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
          <span class="keyword">else</span>
            <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336251" title="=&gt; (TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind)">pop2</a>

        <span class="keyword">case</span> <span title="Unit">CALL_PRIMITIVE</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.Primitive" id="353739">primitive</a><span class="delimiter">)</span> =&gt;
          <a href="#353739" title="TypeFlowAnalysis.this.global.icodes.Primitive">primitive</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">Negation</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353741">kind</a><span class="delimiter">)</span> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>; <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="#353741" title="TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">Test</span><span class="delimiter">(</span>_, <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353747">kind</a>, <a title="Boolean" id="353748">zero</a><span class="delimiter">)</span> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#353748" title="Boolean">zero</a><span class="delimiter">)</span> <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="../TypeKinds.scala.html#232679" title="object TypeFlowAnalysis.this.global.icodes.BOOL">BOOL</a>;
            <span class="keyword">case</span> <span title="Unit">Comparison</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336251" title="=&gt; (TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind)">pop2</a>
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="../TypeKinds.scala.html#232687" title="object TypeFlowAnalysis.this.global.icodes.INT">INT</a>

            <span class="keyword">case</span> <span title="Unit">Arithmetic</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.ArithmeticOp" id="353763">op</a>, <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353764">kind</a><span class="delimiter">)</span> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#353763" title="TypeFlowAnalysis.this.global.icodes.ArithmeticOp">op</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../Primitives.scala.html#232787" title="object TypeFlowAnalysis.this.global.icodes.NOT">NOT</a><span class="delimiter">)</span>
                <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
              <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353765">k</a> = <a href="#353764" title="TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../TypeKinds.scala.html#232681" title="TypeFlowAnalysis.this.global.icodes.INT.type">BYTE</a> | <a href="../TypeKinds.scala.html#232683" title="object TypeFlowAnalysis.this.global.icodes.SHORT">SHORT</a> | <a href="../TypeKinds.scala.html#232685" title="object TypeFlowAnalysis.this.global.icodes.CHAR">CHAR</a> =&gt; <a href="../TypeKinds.scala.html#232687" title="object TypeFlowAnalysis.this.global.icodes.INT">INT</a>
                <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind">_</span> =&gt; <a href="#353764" title="TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a>
              <span class="delimiter">}</span>
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="#353765" title="TypeFlowAnalysis.this.global.icodes.TypeKind">k</a>

            <span class="keyword">case</span> <span title="Unit">Logical</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.LogicalOp" id="353782">op</a>, <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353783">kind</a><span class="delimiter">)</span> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336251" title="=&gt; (TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind)">pop2</a>
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="#353783" title="TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a>

            <span class="keyword">case</span> <span title="Unit">Shift</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.ShiftOp" id="353786">op</a>, <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353787">kind</a><span class="delimiter">)</span> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336251" title="=&gt; (TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind)">pop2</a>
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="#353787" title="TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a>

            <span class="keyword">case</span> <span title="Unit">Conversion</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353790">src</a>, <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353791">dst</a><span class="delimiter">)</span> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="#353791" title="TypeFlowAnalysis.this.global.icodes.TypeKind">dst</a>

            <span class="keyword">case</span> <span title="Unit">ArrayLength</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353795">kind</a><span class="delimiter">)</span> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="../TypeKinds.scala.html#232687" title="object TypeFlowAnalysis.this.global.icodes.INT">INT</a>

            <span class="keyword">case</span> <a href="../Primitives.scala.html#232751" title="Unit">StartConcat</a> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="../TypeKinds.scala.html#232705" title="object TypeFlowAnalysis.this.global.icodes.ConcatClass">ConcatClass</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <a href="../Primitives.scala.html#232753" title="Unit">EndConcat</a> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="#353256" title="=&gt; TypeFlowAnalysis.this.global.icodes.REFERENCE">STRING</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Unit">StringConcat</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353801">el</a><span class="delimiter">)</span> =&gt;
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336251" title="=&gt; (TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind)">pop2</a>
              <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="../TypeKinds.scala.html#232705" title="object TypeFlowAnalysis.this.global.icodes.ConcatClass">ConcatClass</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <a title="Unit" id="353802">cm</a> @ CALL_METHOD<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336253" title="(n: Int)List[TypeFlowAnalysis.this.global.icodes.TypeKind]">pop</a> <a href="#353802" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a>.<a href="../Opcodes.scala.html#332779" title="=&gt; Int">consumed</a>
          <a href="#353802" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a>.<a href="../Opcodes.scala.html#332783" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.TypeKind]">producedTypes</a> <span title="(f: TypeFlowAnalysis.this.global.icodes.TypeKind =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a> <a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a> <a href="#353832" title="TypeFlowAnalysis.this.global.icodes.TypeKind">_</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">BOX</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353835">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="../TypeKinds.scala.html#334337" title="(kind: TypeFlowAnalysis.this.global.icodes.TypeKind)TypeFlowAnalysis.this.global.icodes.BOXED">BOXED</a><span class="delimiter">(</span><a href="#353835" title="TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">UNBOX</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353841">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="#353841" title="TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">NEW</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.REFERENCE" id="353845">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="#353845" title="TypeFlowAnalysis.this.global.icodes.REFERENCE">kind</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">CREATE_ARRAY</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353848">elem</a>, <a title="Int" id="353849">dims</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336253" title="(n: Int)List[TypeFlowAnalysis.this.global.icodes.TypeKind]">pop</a><span class="delimiter">(</span><a href="#353849" title="Int">dims</a><span class="delimiter">)</span>
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="../TypeKinds.scala.html#322042" title="(elem: TypeFlowAnalysis.this.global.icodes.TypeKind)TypeFlowAnalysis.this.global.icodes.ARRAY">ARRAY</a><span class="delimiter">(</span><a href="#353848" title="TypeFlowAnalysis.this.global.icodes.TypeKind">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">IS_INSTANCE</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353855">tpe</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="../TypeKinds.scala.html#232679" title="object TypeFlowAnalysis.this.global.icodes.BOOL">BOOL</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">CHECK_CAST</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353859">tpe</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="#353859" title="TypeFlowAnalysis.this.global.icodes.TypeKind">tpe</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind">SWITCH</span><span class="delimiter">(</span><a title="List[List[Int]]" id="353864">tags</a>, <a title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="353865">labels</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>

        <span class="keyword">case</span> <span title="Unit">JUMP</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="353869">whereto</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="(TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind)">CJUMP</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="353874">success</a>, <a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="353875">failure</a>, <a title="TypeFlowAnalysis.this.global.icodes.TestOp" id="353876">cond</a>, <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353877">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336251" title="=&gt; (TypeFlowAnalysis.this.global.icodes.TypeKind, TypeFlowAnalysis.this.global.icodes.TypeKind)">pop2</a>

        <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind">CZJUMP</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="353882">success</a>, <a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="353883">failure</a>, <a title="TypeFlowAnalysis.this.global.icodes.TestOp" id="353884">cond</a>, <a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353885">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>

        <span class="keyword">case</span> <span title="Any">RETURN</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353889">kind</a><span class="delimiter">)</span> =&gt;
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#353889" title="TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../TypeKinds.scala.html#232677" title="object TypeFlowAnalysis.this.global.icodes.UNIT">UNIT</a><span class="delimiter">)</span>
            <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>;

        <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind">THROW</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>

        <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind">DROP</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353906">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>

        <span class="keyword">case</span> <span title="Unit">DUP</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="353910">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336249" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">head</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind">MONITOR_ENTER</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>

        <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind">MONITOR_EXIT</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336250" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">pop</a>

        <span class="keyword">case</span> <span title="Unit">SCOPE_ENTER</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | SCOPE_EXIT<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">LOAD_EXCEPTION</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.global.Symbol" id="353918">clasz</a><span class="delimiter">)</span> =&gt;
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336253" title="(n: Int)List[TypeFlowAnalysis.this.global.icodes.TypeKind]">pop</a><span class="delimiter">(</span><a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336245" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <a href="#353606" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="../TypeKinds.scala.html#232707" title="(t: TypeFlowAnalysis.this.global.icodes.global.Type)TypeFlowAnalysis.this.global.icodes.TypeKind">toTypeKind</a><span class="delimiter">(</span><a href="#353918" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">clasz</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
          <a href="../ICodes.scala.html#232599" title="(msg: String)Nothing">dumpClassesAndAbort</a><span class="delimiter">(</span><span title="String(&quot;Unknown instruction: &quot;)" class="string">&quot;Unknown instruction: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#353586" title="TypeFlowAnalysis.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#353585" title="TypeFlowAnalysis.this.typeFlowLattice.Elem">out</a>
    <span class="delimiter">}</span> // interpret


    <span class="keyword">class</span> <a title="class SimulatedStack extends Object with ScalaObject" id="353267">SimulatedStack</a> <a href="#353267" title="ScalaObject" class="delimiter">{</a>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[MethodTFA.this.InferredType]" id="353923">types</a>: <span title="List[MethodTFA.this.InferredType]">List</span><span class="delimiter">[</span>InferredType<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="353926">depth</a> = <span title="Int(0)" class="int">0</span>

      /** Remove and return the topmost element on the stack. If the
       *  stack is empty, return a reference to a negative index on the
       *  stack, meaning it refers to elements pushed by a predecessor block.
       */
      <span class="keyword">def</span> <a title="=&gt; MethodTFA.this.InferredType" id="353928">pop</a>: <a href="#353268" title="MethodTFA.this.InferredType">InferredType</a> = <a href="#353923" title="=&gt; List[MethodTFA.this.InferredType]">types</a> <span title="MethodTFA.this.InferredType" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="MethodTFA.this.InferredType" id="353945">head</a> :: <a title="List[MethodTFA.this.InferredType]" id="353946">rest</a> =&gt;
          <a href="#353923" title="(x$1: List[MethodTFA.this.InferredType])Unit">types</a> = <a href="#353946" title="List[MethodTFA.this.InferredType]">rest</a>
          <a href="#353945" title="MethodTFA.this.InferredType">head</a>
        <span class="keyword">case</span> <span title="MethodTFA.this.TypeOfStackPos">_</span> =&gt;
          <a href="#353926" title="(x$1: Int)Unit">depth</a> <span title="(x: Int)Int">-=</span> <span title="Int(1)" class="int">1</span>
          <a href="#354456" title="(n: Int)MethodTFA.this.TypeOfStackPos">TypeOfStackPos</a><span class="delimiter">(</span><a href="#353926" title="=&gt; Int">depth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="=&gt; (MethodTFA.this.InferredType, MethodTFA.this.InferredType)" id="353929">pop2</a>: <span title="(MethodTFA.this.InferredType, MethodTFA.this.InferredType)" class="delimiter">(</span>InferredType, InferredType<span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="(_1: MethodTFA.this.InferredType, _2: MethodTFA.this.InferredType)(MethodTFA.this.InferredType, MethodTFA.this.InferredType)" class="delimiter">(</span><a href="#353928" title="=&gt; MethodTFA.this.InferredType">pop</a>, <a href="#353928" title="=&gt; MethodTFA.this.InferredType">pop</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(t: MethodTFA.this.InferredType)Unit" id="353930">push</a><span class="delimiter">(</span><a title="MethodTFA.this.InferredType" id="353974">t</a>: <a href="#353268" title="MethodTFA.this.InferredType">InferredType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#353926" title="(x$1: Int)Unit">depth</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <a href="#353923" title="(x$1: List[MethodTFA.this.InferredType])Unit">types</a> = <a href="#353923" title="=&gt; List[MethodTFA.this.InferredType]">types</a> <a href="#353982" title="(prefix: List[MethodTFA.this.InferredType])List[MethodTFA.this.InferredType]">:::</a> <span title="(xs: MethodTFA.this.InferredType*)List[MethodTFA.this.InferredType]">List</span><span class="delimiter">(</span><a href="#353974" title="MethodTFA.this.InferredType">t</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(k: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit" id="353931">push</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="354008">k</a>: <a href="../TypeKinds.scala.html#232671" title="TypeFlowAnalysis.this.global.icodes.TypeKind">TypeKind</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#353930" title="(t: MethodTFA.this.InferredType)Unit">push</a><span class="delimiter">(</span><a href="#354467" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)MethodTFA.this.Const">Const</a><span class="delimiter">(</span><a href="#354008" title="TypeFlowAnalysis.this.global.icodes.TypeKind">k</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>

	<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class InferredType extends Object with ScalaObject" id="353268">InferredType</a> <a href="#353268" title="ScalaObject" class="delimiter">{</a>
      /** Return the type kind pointed by this inferred type. */
      <span class="keyword">def</span> <a title="(in: MethodTFA.this.lattice.Elem)TypeFlowAnalysis.this.global.icodes.TypeKind" id="353936">getKind</a><span class="delimiter">(</span><a title="MethodTFA.this.lattice.Elem" id="354030">in</a>: lattice.<a href="SemiLattice.scala.html#347427" title="MethodTFA.this.lattice.Elem">Elem</a><span class="delimiter">)</span>: icodes.<a href="../TypeKinds.scala.html#232671" title="TypeFlowAnalysis.this.global.icodes.TypeKind">TypeKind</a> = <a href="#353268" title="MethodTFA.this.InferredType" class="keyword">this</a> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind">Const</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="354050">k</a><span class="delimiter">)</span> =&gt;
          <a href="#354050" title="TypeFlowAnalysis.this.global.icodes.TypeKind">k</a>
        <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind">TypeOfVar</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.Local" id="354078">l</a>: icodes.<a href="../Members.scala.html#232641" title="TypeFlowAnalysis.this.global.icodes.Local">Local</a><span class="delimiter">)</span> =&gt;
          <span title="TypeFlowAnalysis.this.global.icodes.TypeKind" class="keyword">if</span> <span class="delimiter">(</span><a href="#354030" title="MethodTFA.this.lattice.Elem">in</a>.<a href="SemiLattice.scala.html#350519" title="=&gt; TypeFlowAnalysis.this.VarBinding">vars</a>.<span title="(key: TypeFlowAnalysis.this.global.icodes.Local)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#354078" title="TypeFlowAnalysis.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#354030" title="MethodTFA.this.lattice.Elem">in</a>.<a href="SemiLattice.scala.html#350519" title="(key: TypeFlowAnalysis.this.global.icodes.Local)TypeFlowAnalysis.this.global.icodes.TypeKind">vars</a><span class="delimiter">(</span><a href="#354078" title="TypeFlowAnalysis.this.global.icodes.Local">l</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#354078" title="TypeFlowAnalysis.this.global.icodes.Local">l</a>.<a href="../Members.scala.html#322659" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">kind</a>
        <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.TypeKind">TypeOfStackPos</span><span class="delimiter">(</span><a title="Int" id="354119">n</a>: <span title="Int">Int</span><span class="delimiter">)</span> =&gt;
          <a href="../../../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#354030" title="MethodTFA.this.lattice.Elem">in</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336245" title="=&gt; Int">length</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#354119" title="Int">n</a><span class="delimiter">)</span>
          <a href="#354030" title="MethodTFA.this.lattice.Elem">in</a>.<a href="../TypeStacks.scala.html#336254" title="(n: Int)TypeFlowAnalysis.this.global.icodes.TypeKind">stack</a><span class="delimiter">(</span><a href="#354119" title="Int">n</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
	/** A type that does not depend on input to the transfer function. */
	case <span class="keyword">class</span> <a title="class Const extends MethodTFA.this.InferredType with ScalaObject with Product with Serializable" id="354467">Const</a><a href="#354467" title="ScalaObject" class="delimiter">(</a><a title="TypeFlowAnalysis.this.global.icodes.TypeKind" id="354025">t</a>: icodes.<a href="../TypeKinds.scala.html#232671" title="TypeFlowAnalysis.this.global.icodes.TypeKind">TypeKind</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#353268" title="MethodTFA.this.InferredType">InferredType</a>
	/** The type of a given local variable. */
	case <span class="keyword">class</span> <a title="class TypeOfVar extends MethodTFA.this.InferredType with ScalaObject with Product with Serializable" id="354463">TypeOfVar</a><a href="#354463" title="ScalaObject" class="delimiter">(</a><a title="TypeFlowAnalysis.this.global.icodes.Local" id="354460">l</a>: icodes.<a href="../Members.scala.html#232641" title="TypeFlowAnalysis.this.global.icodes.Local">Local</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#353268" title="MethodTFA.this.InferredType">InferredType</a>
	/** The type found at a stack position. */
	case <span class="keyword">class</span> <a title="class TypeOfStackPos extends MethodTFA.this.InferredType with ScalaObject with Product with Serializable" id="354456">TypeOfStackPos</a><a href="#354456" title="ScalaObject" class="delimiter">(</a><a title="Int" id="353962">n</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#353268" title="MethodTFA.this.InferredType">InferredType</a>

	<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Gen extends Object with ScalaObject" id="353278">Gen</a>
	case <span class="keyword">class</span> <a title="class Bind extends MethodTFA.this.Gen with ScalaObject with Product with Serializable" id="354452">Bind</a><a href="#354452" title="ScalaObject" class="delimiter">(</a><a title="TypeFlowAnalysis.this.global.icodes.Local" id="354447">l</a>: icodes.<a href="../Members.scala.html#232641" title="TypeFlowAnalysis.this.global.icodes.Local">Local</a>, <a title="MethodTFA.this.InferredType" id="354448">t</a>: <a href="#353268" title="MethodTFA.this.InferredType">InferredType</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#353278" title="MethodTFA.this.Gen">Gen</a>
	case <span class="keyword">class</span> <a title="class Push extends MethodTFA.this.Gen with ScalaObject with Product with Serializable" id="354443">Push</a><a href="#354443" title="ScalaObject" class="delimiter">(</a><a title="MethodTFA.this.InferredType" id="354440">t</a>: <a href="#353268" title="MethodTFA.this.InferredType">InferredType</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#353278" title="MethodTFA.this.Gen">Gen</a>

    /** A flow transfer function of a basic block. */
	<span class="keyword">class</span> <a title="class TransferFunction extends Object with MethodTFA.this.lattice.Elem =&gt; MethodTFA.this.lattice.Elem with ScalaObject" id="353285">TransferFunction</a><a href="#353285" title="ScalaObject" class="delimiter">(</a><a title="Int" id="354311">consumed</a>: <span title="Int">Int</span>, <a title="List[MethodTFA.this.Gen]" id="354312">gens</a>: <span title="List[MethodTFA.this.Gen]">List</span><span class="delimiter">[</span>Gen<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span class="delimiter">(</span>lattice.Elem =&gt; lattice.Elem<span class="delimiter">)</span> <span class="delimiter">{</span>
	  <span class="keyword">def</span> <a title="(in: MethodTFA.this.lattice.Elem)MethodTFA.this.lattice.Elem" id="354307">apply</a><span class="delimiter">(</span><a title="MethodTFA.this.lattice.Elem" id="354313">in</a>: lattice.<a href="SemiLattice.scala.html#347427" title="MethodTFA.this.lattice.Elem">Elem</a><span class="delimiter">)</span>: lattice.<a href="SemiLattice.scala.html#347427" title="MethodTFA.this.lattice.Elem">Elem</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]" id="354316">out</a> = <a href="#353254" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.type">lattice</a>.<a href="SemiLattice.scala.html#350574" title="(vars: TypeFlowAnalysis.this.VarBinding, stack: TypeFlowAnalysis.this.global.icodes.TypeStack)MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">IState</a><span class="delimiter">(</span><a href="#352806" title="(o: TypeFlowAnalysis.this.VarBinding)TypeFlowAnalysis.this.VarBinding" class="keyword">new</a> <a href="#239588" title="TypeFlowAnalysis.this.VarBinding">VarBinding</a><span class="delimiter">(</span><a href="#354313" title="MethodTFA.this.lattice.Elem">in</a>.<a href="SemiLattice.scala.html#350519" title="=&gt; TypeFlowAnalysis.this.VarBinding">vars</a><span class="delimiter">)</span>, <a href="../TypeStacks.scala.html#336244" title="(that: TypeFlowAnalysis.this.global.icodes.TypeStack)TypeFlowAnalysis.this.global.icodes.TypeStack" class="keyword">new</a> <a href="../TypeStacks.scala.html#232662" title="TypeFlowAnalysis.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">(</span><a href="#354313" title="MethodTFA.this.lattice.Elem">in</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.VarBinding" id="354317">bindings</a> = <a href="#354316" title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">out</a>.<a href="SemiLattice.scala.html#350519" title="=&gt; TypeFlowAnalysis.this.VarBinding">vars</a>
        <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.TypeStack" id="354318">stack</a> = <a href="#354316" title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">out</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>

        <a href="#354316" title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">out</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336253" title="(n: Int)List[TypeFlowAnalysis.this.global.icodes.TypeKind]">pop</a><span class="delimiter">(</span><a href="#354311" title="Int">consumed</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="MethodTFA.this.Gen" id="354352">g</a> &lt;- <a href="#354312" title="(f: MethodTFA.this.Gen =&gt; Any)Unit">gens</a><span class="delimiter">)</span> <a href="#354352" title="MethodTFA.this.Gen">g</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="out.vars.type">Bind</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.Local" id="354380">l</a>, <a title="MethodTFA.this.InferredType" id="354381">t</a><span class="delimiter">)</span> =&gt;
            <a href="#354316" title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">out</a>.<a href="SemiLattice.scala.html#350519" title="=&gt; TypeFlowAnalysis.this.VarBinding">vars</a> <span title="(kv: (TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind))out.vars.type">+=</span> <span class="delimiter">(</span><a href="#354380" title="(x: TypeFlowAnalysis.this.global.icodes.Local)ArrowAssoc[TypeFlowAnalysis.this.global.icodes.Local]">l</a> <span title="(y: TypeFlowAnalysis.this.global.icodes.TypeKind)(TypeFlowAnalysis.this.global.icodes.Local, TypeFlowAnalysis.this.global.icodes.TypeKind)">-&gt;</span> <a href="#354381" title="MethodTFA.this.InferredType">t</a>.<a href="#353936" title="(in: MethodTFA.this.lattice.Elem)TypeFlowAnalysis.this.global.icodes.TypeKind">getKind</a><span class="delimiter">(</span><a href="#354313" title="MethodTFA.this.lattice.Elem">in</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">Push</span><span class="delimiter">(</span><a title="MethodTFA.this.InferredType" id="354428">t</a><span class="delimiter">)</span> =&gt;
            <a href="#354318" title="TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336248" title="(t: TypeFlowAnalysis.this.global.icodes.TypeKind)Unit">push</a><span class="delimiter">(</span><a href="#354428" title="MethodTFA.this.InferredType">t</a>.<a href="#353936" title="(in: MethodTFA.this.lattice.Elem)TypeFlowAnalysis.this.global.icodes.TypeKind">getKind</a><span class="delimiter">(</span><a href="#354313" title="MethodTFA.this.lattice.Elem">in</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#354316" title="MethodTFA.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">out</a>
      <span class="delimiter">}</span>
	<span class="delimiter">}</span>
  <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class CallsiteInfo extends Object with ScalaObject with Product with Serializable" id="355874">CallsiteInfo</a><a href="#355874" title="ScalaObject" class="delimiter">(</a><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="354802">bb</a>: icodes.<a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="TypeFlowAnalysis.this.global.Symbol" id="354803">receiver</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#38726" title="TypeFlowAnalysis.this.global.Symbol">Symbol</a>, <a title="Int" id="354804">stackLength</a>: <span title="Int">Int</span>, <a title="TypeFlowAnalysis.this.global.Symbol" id="354805">concreteMethod</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#38726" title="TypeFlowAnalysis.this.global.Symbol">Symbol</a><span class="delimiter">)</span>

  /**

    A full type-flow analysis on a method computes in- and out-flows for each basic block (that's what MethodTFA does).

    For the purposes of Inliner, doing so guarantees that an abstract typestack-slot is available by the time an inlining candidate (a CALL_METHOD instruction) is visited.
    This subclass (MTFAGrowable) of MethodTFA also aims at performing such analysis on CALL_METHOD instructions, with some differences:

      (a) early screening is performed while the type-flow is being computed (in an override of `blockTransfer`) by testing a subset of the conditions that Inliner checks later.
          The reasoning here is: if the early check fails at some iteration, there's no chance a follow-up iteration (with a yet more lub-ed typestack-slot) will succeed.
          Failure is sufficient to remove that particular CALL_METHOD from the typeflow's `remainingCALLs`.
          A forward note: in case inlining occurs at some basic block B, all blocks reachable from B get their CALL_METHOD instructions considered again as candidates
          (because of the more precise types that -- perhaps -- can be computed).

      (b) in case the early check does not fail, no conclusive decision can be made, thus the CALL_METHOD stays `isOnwatchlist`.

    In other words, `remainingCALLs` tracks those callsites that still remain as candidates for inlining, so that Inliner can focus on those.
    `remainingCALLs` also caches info about the typestack just before the callsite, so as to spare computing them again at inlining time.

    Besides caching, a further optimization involves skipping those basic blocks whose in-flow and out-flow isn't needed anyway (as explained next).
    A basic block lacking a callsite in `remainingCALLs`, when visisted by the standard algorithm, won't cause any inlining.
    But as we know from the way type-flows are computed, computing the in- and out-flow for a basic block relies in general on those of other basic blocks.
    In detail, we want to focus on that sub-graph of the CFG such that control flow may reach a remaining candidate callsite.
    Those basic blocks not in that subgraph can be skipped altogether. That's why:
       - `forwardAnalysis()` in `MTFAGrowable` now checks for inclusion of a basic block in `relevantBBs`
       - same check is performed before adding a block to the worklist, and as part of choosing successors.
    The bookkeeping supporting on-the-fly pruning of irrelevant blocks requires overridding most methods of the dataflow-analysis.

    The rest of the story takes place in Inliner, which does not visit all of the method's basic blocks but only on those represented in `remainingCALLs`.

    @author Miguel Garcia, http://lampwww.epfl.ch/~magarcia/ScalaCompilerCornerReloaded/

   */
  <span class="keyword">class</span> <a title="class MTFAGrowable extends TypeFlowAnalysis.this.MethodTFA with ScalaObject" id="239597">MTFAGrowable</a> <a href="#239597" title="ScalaObject" class="keyword">extends</a> <a href="#239593" title="TypeFlowAnalysis.this.MethodTFA">MethodTFA</a> <span class="delimiter">{</span>

    <span class="keyword">import</span> <a href="../../../Global.scala.html#186153" title="object TypeFlowAnalysis.this.global.icodes">icodes</a>._

    <span class="keyword">val</span> <a title="scala.collection.mutable.Map[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD,TypeFlowAnalysis.this.CallsiteInfo]" id="354553">remainingCALLs</a> = mutable.<span title="object scala.collection.mutable.Map">Map</span>.<span title="[A, B]=&gt; scala.collection.mutable.Map[A,B]">empty</span><span title="scala.collection.mutable.Map[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD,TypeFlowAnalysis.this.CallsiteInfo]" class="delimiter">[</span>opcodes.<a href="../Opcodes.scala.html#244532" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a>, <a href="#355874" title="TypeFlowAnalysis.this.CallsiteInfo">CallsiteInfo</a><span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="354555">preCandidates</a>  = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Set[A]">empty</span><span title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span>

    <span class="keyword">var</span> <a title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="354558">callerLin</a>: <span title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]">Traversable</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span> = <span title="Null(null)" class="keyword">null</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="354560">run</a> <span class="delimiter">{</span>

      <a href="#239591" title="=&gt; TypeFlowAnalysis.this.Timer">timer</a>.<a href="#250682" title="()Unit">start</a>
      <a href="#354596" title="(f: (MTFAGrowable.this.P, MTFAGrowable.this.lattice.Elem) =&gt; MTFAGrowable.this.lattice.Elem)Unit">forwardAnalysis</a><span class="delimiter">(</span><a href="#354564" title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock, in: MTFAGrowable.this.lattice.Elem)MTFAGrowable.this.lattice.Elem">blockTransfer</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Long" id="354605">t</a> = <a href="#239591" title="=&gt; TypeFlowAnalysis.this.Timer">timer</a>.<a href="#250683" title="=&gt; Long">stop</a>

      /* Now that `forwardAnalysis(blockTransfer)` has finished, all inlining candidates can be found in `remainingCALLs`,
         whose keys are callsites and whose values are pieces of information about the typestack just before the callsite in question.
         In order to keep `analyzeMethod()` simple, we collect in `preCandidates` those basic blocks containing at least one candidate. */
      <a href="#354555" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">preCandidates</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">for</span><span class="delimiter">(</span><a title="(TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD, TypeFlowAnalysis.this.CallsiteInfo)" id="354633">rc</a> &lt;- <a href="#354553" title="(f: ((TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD, TypeFlowAnalysis.this.CallsiteInfo)) =&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock])Unit">remainingCALLs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#354555" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">preCandidates</a> <span title="(elem: TypeFlowAnalysis.this.global.icodes.BasicBlock)MTFAGrowable.this.preCandidates.type">+=</span> <a href="#354633" title="(TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD, TypeFlowAnalysis.this.CallsiteInfo)">rc</a>.<span title="=&gt; TypeFlowAnalysis.this.CallsiteInfo">_2</span>.<a href="#354802" title="=&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock">bb</a>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="354684">b</a> &lt;- <a href="#354558" title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Unit)Unit">callerLin</a>; <span class="keyword">if</span> <span class="delimiter">(</span><a href="#354684" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#353259" title="=&gt; TypeFlowAnalysis.this.global.icodes.IMethod">method</a>.<a href="../Members.scala.html#322215" title="=&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#354555" title="(elem: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean">preCandidates</a><span class="delimiter">(</span><a href="#354684" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="DataFlowAnalysis.scala.html#348031" title="=&gt; scala.collection.mutable.HashSet[MTFAGrowable.this.P]">visited</a>.<span title="(elem: MTFAGrowable.this.P)Boolean">contains</span><span class="delimiter">(</span><a href="#354684" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>,
                 <span title="String(&quot;Block &quot;)" class="string">&quot;Block &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#354684" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#239597" title="MTFAGrowable.this.type" class="keyword">this</a>.<a href="#353259" title="=&gt; TypeFlowAnalysis.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has input equal to bottom -- not visited? ..&quot;)" class="string">&quot; has input equal to bottom -- not visited? ..&quot;</span> <span title="(x$1: Any)String">+</span> <a href="DataFlowAnalysis.scala.html#348031" title="=&gt; scala.collection.mutable.HashSet[MTFAGrowable.this.P]">visited</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Boolean" id="354562">shrinkedWatchlist</a> = <span title="Boolean(false)" class="keyword">false</span>

    /*
      This is the method where information cached elsewhere is put to use. References are given those other places that populate those caches.

      The goal is avoiding computing type-flows for blocks we don't need (ie blocks not tracked in `relevantBBs`). The method used to add to `relevantBBs` is `putOnRadar`.

      Moreover, it's often the case that the last CALL_METHOD of interest (&quot;of interest&quot; equates to &quot;being tracked in `isOnWatchlist`) isn't the last instruction on the block.
      There are cases where the typeflows computed past this `lastInstruction` are needed, and cases when they aren't.
      The reasoning behind this decsision is described in `populatePerimeter()`. All `blockTransfer()` needs to do (in order to know at which instruction it can stop)
      is querying `isOnPerimeter`.

      Upon visiting a CALL_METHOD that's an inlining candidate, the relevant pieces of information about the pre-instruction typestack are collected for future use.
      That is, unless the candidacy test fails. The reasoning here is: if such early check fails at some iteration, there's no chance a follow-up iteration
      (with a yet more lub-ed typestack-slot) will succeed. In case of failure we can safely remove the CALL_METHOD from both `isOnWatchlist` and `remainingCALLs`.

     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock, in: MTFAGrowable.this.lattice.Elem)MTFAGrowable.this.lattice.Elem" id="354564">blockTransfer</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="354609">b</a>: <a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="MTFAGrowable.this.lattice.Elem" id="354610">in</a>: lattice.<a href="SemiLattice.scala.html#347427" title="MTFAGrowable.this.lattice.Elem">Elem</a><span class="delimiter">)</span>: lattice.<a href="SemiLattice.scala.html#347427" title="MTFAGrowable.this.lattice.Elem">Elem</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="MTFAGrowable.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]" id="354692">result</a> = <a href="#353254" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.type">lattice</a>.<a href="SemiLattice.scala.html#350574" title="(vars: TypeFlowAnalysis.this.VarBinding, stack: TypeFlowAnalysis.this.global.icodes.TypeStack)MTFAGrowable.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">IState</a><span class="delimiter">(</span><a href="#352806" title="(o: TypeFlowAnalysis.this.VarBinding)TypeFlowAnalysis.this.VarBinding" class="keyword">new</a> <a href="#239588" title="TypeFlowAnalysis.this.VarBinding">VarBinding</a><span class="delimiter">(</span><a href="#354610" title="MTFAGrowable.this.lattice.Elem">in</a>.<a href="SemiLattice.scala.html#350519" title="=&gt; TypeFlowAnalysis.this.VarBinding">vars</a><span class="delimiter">)</span>, <a href="../TypeStacks.scala.html#336244" title="(that: TypeFlowAnalysis.this.global.icodes.TypeStack)TypeFlowAnalysis.this.global.icodes.TypeStack" class="keyword">new</a> <a href="../TypeStacks.scala.html#232662" title="TypeFlowAnalysis.this.global.icodes.TypeStack">TypeStack</a><span class="delimiter">(</span><a href="#354610" title="MTFAGrowable.this.lattice.Elem">in</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" id="354693">stopAt</a> = <span title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" class="keyword">if</span><span class="delimiter">(</span><a href="#354586" title="(elem: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean">isOnPerimeter</a><span class="delimiter">(</span><a href="#354609" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#354588" title="(key: TypeFlowAnalysis.this.global.icodes.BasicBlock)TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">lastInstruction</a><span class="delimiter">(</span><a href="#354609" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>;
      <span class="keyword">var</span> <a title="Boolean" id="354694">isPastLast</a> = <span title="Boolean(false)" class="keyword">false</span>

      <span class="keyword">var</span> <a title="List[TypeFlowAnalysis.this.global.icodes.Instruction]" id="354695">instrs</a> = <a href="#354609" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a>.<a href="../BasicBlocks.scala.html#322151" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.Instruction]">toList</a>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#354694" title="Boolean">isPastLast</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#354695" title="List[TypeFlowAnalysis.this.global.icodes.Instruction]">instrs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#354696" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.Instruction" id="354744">i</a>  = <a href="#354695" title="List[TypeFlowAnalysis.this.global.icodes.Instruction]">instrs</a>.<span title="=&gt; TypeFlowAnalysis.this.global.icodes.Instruction">head</span>

        <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#354565" title="(elem: TypeFlowAnalysis.this.global.icodes.Instruction)Boolean">isOnWatchlist</a><span class="delimiter">(</span><a href="#354744" title="TypeFlowAnalysis.this.global.icodes.Instruction">i</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" id="354765">cm</a> = <a href="#354744" title="TypeFlowAnalysis.this.global.icodes.Instruction">i</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" class="delimiter">[</span>opcodes.<a href="../Opcodes.scala.html#244532" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">]</span>
          <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.global.Symbol" id="354766">msym</a> = <a href="#354765" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a>.<a href="../Opcodes.scala.html#332762" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Symbol">method</a>
          <span class="keyword">val</span> <a title="Int" id="354767">paramsLength</a> = <a href="#354766" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">msym</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Type">info</a>.<a href="../../../../../reflect/internal/Types.scala.html#41527" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.global.Type]">paramTypes</a>.<span title="=&gt; Int">size</span>
          <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.global.Symbol" id="354768">receiver</a> = <a href="#354692" title="MTFAGrowable.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">result</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336239" title="=&gt; TypeFlowAnalysis.this.global.icodes.Rep">types</a>.<span title="(n: Int)List[TypeFlowAnalysis.this.global.icodes.TypeKind]">drop</span><span class="delimiter">(</span><a href="#354767" title="Int">paramsLength</a><span class="delimiter">)</span>.<span title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeKind">head</span> <span title="TypeFlowAnalysis.this.global.icodes.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.icodes.global.Symbol">REFERENCE</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.global.Symbol" id="354775">s</a><span class="delimiter">)</span> =&gt; <a href="#354775" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">s</a>
            <span class="keyword">case</span> <span title="TypeFlowAnalysis.this.global.NoSymbol">_</span>            =&gt; <a href="../../../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; TypeFlowAnalysis.this.global.NoSymbol">NoSymbol</a> // e.g. the scrutinee is BOX(s) or ARRAY
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.inliner.global.Symbol" id="354769">concreteMethod</a> = <a href="../../../Global.scala.html#186263" title="object TypeFlowAnalysis.this.global.inliner">inliner</a>.<a href="../../opt/Inliners.scala.html#243206" title="(sym: TypeFlowAnalysis.this.global.inliner.global.Symbol, clazz: TypeFlowAnalysis.this.global.inliner.global.Symbol)TypeFlowAnalysis.this.global.inliner.global.Symbol">lookupImplFor</a><span class="delimiter">(</span><a href="#354766" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">msym</a>, <a href="#354768" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Boolean" id="354770">isCandidate</a> = <span class="delimiter">{</span>
            <span class="delimiter">(</span> <a href="../../../Global.scala.html#186263" title="object TypeFlowAnalysis.this.global.inliner">inliner</a>.<a href="../../opt/Inliners.scala.html#243219" title="(cls: TypeFlowAnalysis.this.global.inliner.global.Symbol)Boolean">isClosureClass</a><span class="delimiter">(</span><a href="#354768" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">receiver</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#354769" title="TypeFlowAnalysis.this.global.inliner.global.Symbol">concreteMethod</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#46549" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#354768" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">receiver</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#46549" title="=&gt; Boolean">isEffectivelyFinal</a> <span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#354573" title="(msym: TypeFlowAnalysis.this.global.Symbol)Boolean">blackballed</a><span class="delimiter">(</span><a href="#354769" title="TypeFlowAnalysis.this.global.inliner.global.Symbol">concreteMethod</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#354770" title="Boolean">isCandidate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#354553" title="=&gt; scala.collection.mutable.Map[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD,TypeFlowAnalysis.this.CallsiteInfo]">remainingCALLs</a> <span title="(kv: (TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD, TypeFlowAnalysis.this.CallsiteInfo))MTFAGrowable.this.remainingCALLs.type">+=</span> <span title="(x: TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD, y: TypeFlowAnalysis.this.CallsiteInfo)(TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD, TypeFlowAnalysis.this.CallsiteInfo)">Pair</span><span class="delimiter">(</span><a href="#354765" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a>, <a href="#355874" title="(bb: TypeFlowAnalysis.this.global.icodes.BasicBlock, receiver: TypeFlowAnalysis.this.global.Symbol, stackLength: Int, concreteMethod: TypeFlowAnalysis.this.global.Symbol)TypeFlowAnalysis.this.CallsiteInfo">CallsiteInfo</a><span class="delimiter">(</span><a href="#354609" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a>, <a href="#354768" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">receiver</a>, <a href="#354692" title="MTFAGrowable.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">result</a>.<a href="SemiLattice.scala.html#350521" title="=&gt; TypeFlowAnalysis.this.global.icodes.TypeStack">stack</a>.<a href="../TypeStacks.scala.html#336245" title="=&gt; Int">length</a>, <a href="#354769" title="TypeFlowAnalysis.this.global.inliner.global.Symbol">concreteMethod</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#354553" title="=&gt; scala.collection.mutable.Map[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD,TypeFlowAnalysis.this.CallsiteInfo]">remainingCALLs</a>.<span title="(key: TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD)Option[TypeFlowAnalysis.this.CallsiteInfo]">remove</span><span class="delimiter">(</span><a href="#354765" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a><span class="delimiter">)</span>
            <a href="#354565" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.Instruction]">isOnWatchlist</a>.<span title="(elem: TypeFlowAnalysis.this.global.icodes.Instruction)Boolean">remove</span><span class="delimiter">(</span><a href="#354765" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a><span class="delimiter">)</span>
            <a href="#354562" title="(x$1: Boolean)Unit">shrinkedWatchlist</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#354694" title="Boolean">isPastLast</a> = <span class="delimiter">(</span><a href="#354744" title="TypeFlowAnalysis.this.global.icodes.Instruction">i</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#354693" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">stopAt</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#354694" title="Boolean">isPastLast</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#354692" title="MTFAGrowable.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">result</a> = <a href="#353266" title="(out: TypeFlowAnalysis.this.typeFlowLattice.Elem, i: TypeFlowAnalysis.this.global.icodes.Instruction)TypeFlowAnalysis.this.typeFlowLattice.Elem">mutatingInterpret</a><span class="delimiter">(</span><a href="#354692" title="MTFAGrowable.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">result</a>, <a href="#354744" title="TypeFlowAnalysis.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
          <a href="#354695" title="List[TypeFlowAnalysis.this.global.icodes.Instruction]">instrs</a> = <a href="#354695" title="List[TypeFlowAnalysis.this.global.icodes.Instruction]">instrs</a>.<span title="=&gt; List[TypeFlowAnalysis.this.global.icodes.Instruction]">tail</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#354692" title="MTFAGrowable.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">result</a>
    <span class="delimiter">}</span> // end of method blockTransfer

    <span class="keyword">val</span> <a title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.Instruction]" id="354565">isOnWatchlist</a> = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Set[A]">empty</span><span title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.Instruction]" class="delimiter">[</span><a href="../Opcodes.scala.html#232653" title="TypeFlowAnalysis.this.global.icodes.Instruction">Instruction</a><span class="delimiter">]</span>

    /* Each time CallerCalleeInfo.isSafeToInline determines a concrete callee is unsafe to inline in the current caller,
       the fact is recorded in this TFA instance for the purpose of avoiding devoting processing to that callsite next time.
       The condition of &quot;being unsafe to inline in the current caller&quot; sticks across inlinings and TFA re-inits
       because it depends on the instructions of the callee, which stay unchanged during the course of `analyzeInc(caller)`
       (with the caveat of the side-effecting `makePublic` in `helperIsSafeToInline`).*/
    <span class="keyword">val</span> <a title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.Symbol]" id="354567">knownUnsafe</a> = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Set[A]">empty</span><span title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.Symbol]" class="delimiter">[</span><a href="../../../../../reflect/internal/Symbols.scala.html#38726" title="TypeFlowAnalysis.this.global.Symbol">Symbol</a><span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.Symbol]" id="354569">knownSafe</a>   = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Set[A]">empty</span><span title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.Symbol]" class="delimiter">[</span><a href="../../../../../reflect/internal/Symbols.scala.html#38726" title="TypeFlowAnalysis.this.global.Symbol">Symbol</a><span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.Symbol]" id="354571">knownNever</a>  = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Set[A]">empty</span><span title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.Symbol]" class="delimiter">[</span><a href="../../../../../reflect/internal/Symbols.scala.html#38726" title="TypeFlowAnalysis.this.global.Symbol">Symbol</a><span class="delimiter">]</span> // `knownNever` needs be cleared only at the very end of the inlining phase (unlike `knownUnsafe` and `knownSafe`)
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(msym: TypeFlowAnalysis.this.global.Symbol)Boolean" id="354573">blackballed</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.Symbol" id="354784">msym</a>: <a href="../../../../../reflect/internal/Symbols.scala.html#38726" title="TypeFlowAnalysis.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span> <a href="#354567" title="(elem: TypeFlowAnalysis.this.global.Symbol)Boolean">knownUnsafe</a><span class="delimiter">(</span><a href="#354784" title="TypeFlowAnalysis.this.global.Symbol">msym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#354571" title="(elem: TypeFlowAnalysis.this.global.Symbol)Boolean">knownNever</a><span class="delimiter">(</span><a href="#354784" title="TypeFlowAnalysis.this.global.Symbol">msym</a><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="354574">relevantBBs</a>   = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Set[A]">empty</span><span title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cm: TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD)Boolean" id="354576">isPreCandidate</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" id="354865">cm</a>: opcodes.<a href="../Opcodes.scala.html#244532" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.global.Symbol" id="354867">msym</a>  = <a href="#354865" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a>.<a href="../Opcodes.scala.html#332762" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Symbol">method</a>
      <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.opcodes.InvokeStyle" id="354868">style</a> = <a href="#354865" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a>.<a href="../Opcodes.scala.html#332764" title="=&gt; TypeFlowAnalysis.this.global.icodes.opcodes.InvokeStyle">style</a>
      // Dynamic == normal invocations
      // Static(true) == calls to private members
      <span title="=&gt; Boolean">!</span><a href="#354867" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">msym</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#354573" title="(msym: TypeFlowAnalysis.this.global.Symbol)Boolean">blackballed</a><span class="delimiter">(</span><a href="#354867" title="TypeFlowAnalysis.this.global.icodes.global.Symbol">msym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <span class="delimiter">(</span><a href="#354868" title="TypeFlowAnalysis.this.global.icodes.opcodes.InvokeStyle">style</a>.<a href="../Opcodes.scala.html#332714" title="=&gt; Boolean">isDynamic</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#354868" title="TypeFlowAnalysis.this.global.icodes.opcodes.InvokeStyle">style</a>.<a href="../Opcodes.scala.html#332717" title="=&gt; Boolean">hasInstance</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#354868" title="TypeFlowAnalysis.this.global.icodes.opcodes.InvokeStyle">style</a>.<a href="../Opcodes.scala.html#332715" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span><span class="delimiter">)</span>
      // &amp;&amp; !(msym hasAnnotation definitions.ScalaNoInlineClass)
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(m: TypeFlowAnalysis.this.global.icodes.IMethod)Unit" id="354577">init</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.IMethod" id="354869">m</a>: icodes.<a href="../Members.scala.html#232640" title="TypeFlowAnalysis.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#239597" title="TypeFlowAnalysis.this.MTFAGrowable" class="keyword">super</a>.<a href="#353261" title="(m: TypeFlowAnalysis.this.global.icodes.IMethod)Unit">init</a><span class="delimiter">(</span><a href="#354869" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
      <a href="#354553" title="=&gt; scala.collection.mutable.Map[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD,TypeFlowAnalysis.this.CallsiteInfo]">remainingCALLs</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#354567" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.Symbol]">knownUnsafe</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#354569" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.Symbol]">knownSafe</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      // initially populate the watchlist with all callsites standing a chance of being inlined
      <a href="#354565" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.Instruction]">isOnWatchlist</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#354574" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
        /* TODO Do we want to perform inlining in non-finally exception handlers?
         * Seems counterproductive (the larger the method the less likely it will be JITed.
         * It's not that putting on radar only `linearizer linearizeAt (m, m.startBlock)` makes for much shorter inlining times (a minor speedup nonetheless)
         * but the effect on method size could be explored.  */
      <a href="#354581" title="(blocks: Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock])Unit">putOnRadar</a><span class="delimiter">(</span><a href="#354869" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#322218" title="(lin: TypeFlowAnalysis.this.global.icodes.Linearizer)List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">linearizedBlocks</a><span class="delimiter">(</span><a href="../ICodes.scala.html#232593" title="=&gt; TypeFlowAnalysis.this.global.icodes.Linearizer">linearizer</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#354585" title="()Unit">populatePerimeter</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../../../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#354574" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#354574" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a>.<span title="(elem: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean">contains</span><span class="delimiter">(</span><a href="#354869" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#322215" title="=&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>, <span title="String(&quot;you gave me dead code&quot;)" class="string">&quot;you gave me dead code&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock)List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]" id="354578">conclusives</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="354886">b</a>: <a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span>: <span title="List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]">List</span><span class="delimiter">[</span>opcodes.CALL_METHOD<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#354579" title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock)List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]">knownBeforehand</a><span class="delimiter">(</span><a href="#354886" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> <span title="(p: TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD =&gt; Boolean)List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]">filter</span> <span class="delimiter">{</span> <a title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" id="354899">cm</a> =&gt; <a href="../../../Global.scala.html#186263" title="object TypeFlowAnalysis.this.global.inliner">inliner</a>.<a href="../../opt/Inliners.scala.html#243220" title="(sym: TypeFlowAnalysis.this.global.inliner.global.Symbol)Boolean">isMonadicMethod</a><span class="delimiter">(</span><a href="#354899" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a>.<a href="../Opcodes.scala.html#332762" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="../../../Global.scala.html#186263" title="object TypeFlowAnalysis.this.global.inliner">inliner</a>.<a href="../../opt/Inliners.scala.html#243221" title="(sym: TypeFlowAnalysis.this.global.inliner.global.Symbol)Boolean">hasInline</a><span class="delimiter">(</span><a href="#354899" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a>.<a href="../Opcodes.scala.html#332762" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock)List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]" id="354579">knownBeforehand</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="354888">b</a>: <a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span>: <span title="List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]">List</span><span class="delimiter">[</span>opcodes.CALL_METHOD<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#354888" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a>.<a href="../BasicBlocks.scala.html#322151" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.Instruction]">toList</a> <span title="(pf: PartialFunction[TypeFlowAnalysis.this.global.icodes.Instruction,TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD])(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeFlowAnalysis.this.global.icodes.Instruction],TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD,List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]])List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]">collect</span> <a href="#354926" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" class="delimiter">{</a> <span class="keyword">case</span> <a title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" id="354927">c</a> : opcodes.<a href="../Opcodes.scala.html#244532" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a> =&gt; <a href="#354927" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">c</a> <span class="delimiter">}</span> <span title="(p: TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD =&gt; Boolean)List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]">filter</span> <span class="delimiter">{</span> <a title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" id="354960">cm</a> =&gt; <a href="#354576" title="(cm: TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD)Boolean">isPreCandidate</a><span class="delimiter">(</span><a href="#354960" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#354580" title="(cm: TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD)Boolean">isReceiverKnown</a><span class="delimiter">(</span><a href="#354960" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cm: TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD)Boolean" id="354580">isReceiverKnown</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" id="354961">cm</a>: opcodes.<a href="../Opcodes.scala.html#244532" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#354961" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a>.<a href="../Opcodes.scala.html#332762" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Symbol">method</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#46549" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#354961" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a>.<a href="../Opcodes.scala.html#332762" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Symbol">method</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Symbol">owner</a>.<a href="../../../../../reflect/internal/Symbols.scala.html#46549" title="=&gt; Boolean">isEffectivelyFinal</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(blocks: Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock])Unit" id="354581">putOnRadar</a><span class="delimiter">(</span><a title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="354877">blocks</a>: <span title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]">Traversable</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="354978">bb</a> &lt;- <a href="#354877" title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.Instruction])Unit">blocks</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]" id="354979">preCands</a> = <a href="#354978" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">bb</a>.<a href="../BasicBlocks.scala.html#322151" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.Instruction]">toList</a> <span title="(pf: PartialFunction[TypeFlowAnalysis.this.global.icodes.Instruction,TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD])(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeFlowAnalysis.this.global.icodes.Instruction],TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD,List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]])List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]">collect</span> <a href="#354995" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" class="delimiter">{</a>
          <span class="keyword">case</span> <a title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" id="354996">cm</a> : opcodes.<a href="../Opcodes.scala.html#244532" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a>
            <span class="keyword">if</span> <a href="#354576" title="(cm: TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD)Boolean">isPreCandidate</a><span class="delimiter">(</span><a href="#354996" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a><span class="delimiter">)</span> /* &amp;&amp; !isReceiverKnown(cm) */
          =&gt; <a href="#354996" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">cm</a>
        <span class="delimiter">}</span>
        <a href="#354565" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.Instruction]">isOnWatchlist</a> <span title="(xs: scala.collection.TraversableOnce[TypeFlowAnalysis.this.global.icodes.Instruction])MTFAGrowable.this.isOnWatchlist.type">++=</span> <a href="#354979" title="List[TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]">preCands</a>
      <span class="delimiter">}</span>
      <a href="#354574" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a> <span title="(xs: scala.collection.TraversableOnce[TypeFlowAnalysis.this.global.icodes.BasicBlock])MTFAGrowable.this.relevantBBs.type">++=</span> <a href="#354877" title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]">blocks</a>
    <span class="delimiter">}</span>

    /* the argument is also included in the result */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock)Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="354582">transitivePreds</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355027">b</a>: <a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span>: <span title="Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">Set</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span> = <span class="delimiter">{</span> <a href="#354583" title="(starters: Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock])Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">transitivePreds</a><span class="delimiter">(</span><span title="(xs: TypeFlowAnalysis.this.global.icodes.BasicBlock*)List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">List</span><span class="delimiter">(</span><a href="#355027" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

    /* those BBs in the argument are also included in the result */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(starters: Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock])Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="354583">transitivePreds</a><span class="delimiter">(</span><a title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355033">starters</a>: <span title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]">Traversable</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">Set</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355044">result</a> = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Set[A]">empty</span><span title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span>
      <span class="keyword">var</span> <a title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355045">toVisit</a>: <span title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span> = <a href="#355033" title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]">starters</a>.<span title="=&gt; List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toList</span>.<span title="=&gt; List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">distinct</span>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#355045" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#355046" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355050">h</a>   = <a href="#355045" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a>.<span title="=&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock">head</span>
        <a href="#355045" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a> = <a href="#355045" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a>.<span title="=&gt; List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">tail</span>
        <a href="#355044" title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">result</a> <span title="(elem: TypeFlowAnalysis.this.global.icodes.BasicBlock)result.type">+=</span> <a href="#355050" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">h</a>
        <span class="keyword">for</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355083">p</a> &lt;- <a href="#355050" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">h</a>.<a href="../BasicBlocks.scala.html#322190" title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Unit)Unit">predecessors</a>; <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#355044" title="(elem: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean">result</a><span class="delimiter">(</span><a href="#355083" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#355045" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#355083" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#355045" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a> = <a href="#355083" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a> <a href="#355084" title="(x: TypeFlowAnalysis.this.global.icodes.BasicBlock)List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">::</a> <a href="#355045" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#355044" title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">result</a>.<span title="scala.collection.immutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toSet</span>
    <span class="delimiter">}</span>

    /* those BBs in the argument are also included in the result */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(starters: Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock])Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="354584">transitiveSuccs</a><span class="delimiter">(</span><a title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355103">starters</a>: <span title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]">Traversable</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">Set</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355105">result</a> = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Set[A]">empty</span><span title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span>
      <span class="keyword">var</span> <a title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355106">toVisit</a>: <span title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span> = <a href="#355103" title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]">starters</a>.<span title="=&gt; List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toList</span>.<span title="=&gt; List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">distinct</span>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#355106" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#355107" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355110">h</a>   = <a href="#355106" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a>.<span title="=&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock">head</span>
        <a href="#355106" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a> = <a href="#355106" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a>.<span title="=&gt; List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">tail</span>
        <a href="#355105" title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">result</a> <span title="(elem: TypeFlowAnalysis.this.global.icodes.BasicBlock)result.type">+=</span> <a href="#355110" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">h</a>
        <span class="keyword">for</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355141">p</a> &lt;- <a href="#355110" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">h</a>.<a href="../BasicBlocks.scala.html#322188" title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Unit)Unit">successors</a>; <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#355105" title="(elem: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean">result</a><span class="delimiter">(</span><a href="#355141" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#355106" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#355141" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#355106" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a> = <a href="#355141" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a> <a href="#355142" title="(x: TypeFlowAnalysis.this.global.icodes.BasicBlock)List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">::</a> <a href="#355106" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toVisit</a> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#355105" title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">result</a>.<span title="scala.collection.immutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toSet</span>
    <span class="delimiter">}</span>

    /* A basic block B is &quot;on the perimeter&quot; of the current control-flow subgraph if none of its successors belongs to that subgraph.
     * In that case, for the purposes of inlining, we're interested in the typestack right before the last inline candidate in B, not in those afterwards.
     * In particular we can do without computing the outflow at B. */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="354585">populatePerimeter</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#354586" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">isOnPerimeter</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="355154">done</a> = <span title="Boolean(true)" class="keyword">true</span>
      <a href="#355155" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#355157" title="(scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock], scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock])" class="delimiter">(</a><a href="#355156" title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355157">frontier</a>, <a href="#355156" title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355158">toPrune</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#354574" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a> <span title="(p: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Boolean)scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">filter</span> <a href="#354590" title="(x: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean">hasNoRelevantSuccs</a><span class="delimiter">)</span> <span title="(p: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Boolean)(scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock], scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock])">partition</span> <a href="#354591" title="(x: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean">isWatching</a>
        <a href="#354586" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">isOnPerimeter</a> <span title="(xs: scala.collection.TraversableOnce[TypeFlowAnalysis.this.global.icodes.BasicBlock])MTFAGrowable.this.isOnPerimeter.type">++=</span> <a href="#355157" title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">frontier</a>
        <a href="#354574" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a>   <span title="(xs: scala.collection.TraversableOnce[TypeFlowAnalysis.this.global.icodes.BasicBlock])MTFAGrowable.this.relevantBBs.type">--=</span> <a href="#355158" title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toPrune</a>
        <a href="#355154" title="Boolean">done</a> = <a href="#355158" title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">toPrune</a>.<span title="=&gt; Boolean">isEmpty</span>
      <span class="delimiter">}</span> <span class="keyword">while</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#355154" title="Boolean">done</a><span class="delimiter">)</span>

      <a href="#354588" title="=&gt; scala.collection.mutable.Map[TypeFlowAnalysis.this.global.icodes.BasicBlock,TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]">lastInstruction</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">for</span><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355358">b</a> &lt;- <a href="#354586" title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; (TypeFlowAnalysis.this.global.icodes.BasicBlock, Option[TypeFlowAnalysis.this.global.icodes.Instruction]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock],(TypeFlowAnalysis.this.global.icodes.BasicBlock, Option[TypeFlowAnalysis.this.global.icodes.Instruction]),scala.collection.mutable.Set[(TypeFlowAnalysis.this.global.icodes.BasicBlock, Option[TypeFlowAnalysis.this.global.icodes.Instruction])]])scala.collection.mutable.Set[(TypeFlowAnalysis.this.global.icodes.BasicBlock, Option[TypeFlowAnalysis.this.global.icodes.Instruction])]">isOnPerimeter</a>; <span class="keyword">val</span> <a title="Option[TypeFlowAnalysis.this.global.icodes.Instruction]" id="355359">lastIns</a> = <a href="#355358" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a>.<a href="../BasicBlocks.scala.html#322151" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.Instruction]">toList</a>.<span title="=&gt; List[TypeFlowAnalysis.this.global.icodes.Instruction]">reverse</span> <span title="(p: TypeFlowAnalysis.this.global.icodes.Instruction =&gt; Boolean)Option[TypeFlowAnalysis.this.global.icodes.Instruction]">find</span> <a href="#354565" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.Instruction]">isOnWatchlist</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#354588" title="=&gt; scala.collection.mutable.Map[TypeFlowAnalysis.this.global.icodes.BasicBlock,TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]">lastInstruction</a> <span title="(kv: (TypeFlowAnalysis.this.global.icodes.BasicBlock, TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD))MTFAGrowable.this.lastInstruction.type">+=</span> <span class="delimiter">(</span><a href="#355358" title="(x: TypeFlowAnalysis.this.global.icodes.BasicBlock)ArrowAssoc[TypeFlowAnalysis.this.global.icodes.BasicBlock]">b</a> <span title="(y: TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD)(TypeFlowAnalysis.this.global.icodes.BasicBlock, TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD)">-&gt;</span> <a href="#355359" title="Option[TypeFlowAnalysis.this.global.icodes.Instruction]">lastIns</a>.<span title="=&gt; TypeFlowAnalysis.this.global.icodes.Instruction">get</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD" class="delimiter">[</span>opcodes.<a href="../Opcodes.scala.html#244532" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // assertion: &quot;no relevant block can have a predecessor that is on perimeter&quot;
      <a href="../../../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="keyword">for</span> <span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355420">b</a> &lt;- <a href="#354574" title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; TypeFlowAnalysis.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock],TypeFlowAnalysis.this.global.icodes.BasicBlock,scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]])scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a>; <span class="keyword">if</span> <a href="#354583" title="(starters: Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock])Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">transitivePreds</a><span class="delimiter">(</span><a href="#355420" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a>.<a href="../BasicBlocks.scala.html#322190" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">predecessors</a><span class="delimiter">)</span> <span title="(p: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Boolean)Boolean">exists</span> <a href="#354586" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">isOnPerimeter</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#355420" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="354586">isOnPerimeter</a>   = mutable.<span title="object scala.collection.mutable.Set">Set</span>.<span title="[A]=&gt; scala.collection.mutable.Set[A]">empty</span><span title="scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" class="delimiter">[</span><a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">]</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[TypeFlowAnalysis.this.global.icodes.BasicBlock,TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]" id="354588">lastInstruction</a> = mutable.<span title="object scala.collection.mutable.Map">Map</span>.<span title="[A, B]=&gt; scala.collection.mutable.Map[A,B]">empty</span><span title="scala.collection.mutable.Map[TypeFlowAnalysis.this.global.icodes.BasicBlock,TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD]" class="delimiter">[</span><a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a>, opcodes.<a href="../Opcodes.scala.html#244532" title="TypeFlowAnalysis.this.global.icodes.opcodes.CALL_METHOD">CALL_METHOD</a><span class="delimiter">]</span>

    <span class="keyword">def</span> <a title="(x: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean" id="354590">hasNoRelevantSuccs</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355161">x</a>: <a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#355161" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">x</a>.<a href="../BasicBlocks.scala.html#322188" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">successors</a> <span title="(p: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Boolean)Boolean">exists</span> <a href="#354574" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(x: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean" id="354591">isWatching</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355169">x</a>: <a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span><a href="#355169" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">x</a>.<a href="../BasicBlocks.scala.html#322151" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.Instruction]">toList</a> <span title="(p: TypeFlowAnalysis.this.global.icodes.Instruction =&gt; Boolean)Boolean">exists</span> <a href="#354565" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.Instruction]">isOnWatchlist</a><span class="delimiter">)</span>




    /**

      This method is invoked after one or more inlinings have been performed in basic blocks whose in-flow is non-bottom (this makes a difference later).
      What we know about those inlinings is given by:

        - `staleOut`: These are the blocks where a callsite was inlined.
                      For each callsite, all instructions in that block before the callsite were left in the block, and the rest moved to an `afterBlock`.
                      The out-flow of these basic blocks is thus in general stale, that's why we'll add them to the TFA worklist.

        - `inlined` : These blocks were spliced into the method's CFG as part of inlining. Being new blocks, they haven't been visited yet by the typeflow analysis.

        - `staleIn` : These blocks are what `doInline()` calls `afterBlock`s, ie the new home for instructions that previously appearead
                      after a callsite in a `staleOut` block.

      Based on the above information, we have to bring up-to-date the caches that `forwardAnalysis` and `blockTransfer` use to skip blocks and instructions.
      Those caches are `relevantBBs` and `isOnPerimeter` (for blocks) and `isOnWatchlist` and `lastInstruction` (for CALL_METHODs).
      Please notice that all `inlined` and `staleIn` blocks are reachable from `staleOut` blocks.

      The update takes place in two steps:

        (1) `staleOut foreach { so =&gt; putOnRadar(linearizer linearizeAt (m, so)) }`
            This results in initial populations for `relevantBBs` and `isOnWatchlist`.
            Because of the way `isPreCandidate` reuses previous decision-outcomes that are still valid,
            this already prunes some candidates standing no chance of being inlined.

        (2) `populatePerimeter()`
            Based on the CFG-subgraph determined in (1) as reflected in `relevantBBs`,
            this method detects some blocks whose typeflows aren't needed past a certain CALL_METHOD
            (not needed because none of its successors is relevant for the purposes of inlining, see `hasNoRelevantSuccs`).
            The blocks thus chosen are said to be &quot;on the perimeter&quot; of the CFG-subgraph.
            For each of them, its `lastInstruction` (after which no more typeflows are needed) is found.

     */
    <span class="keyword">def</span> <a title="(m: TypeFlowAnalysis.this.global.icodes.IMethod, staleOut: List[TypeFlowAnalysis.this.global.icodes.BasicBlock], inlined: scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock], staleIn: scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock])Unit" id="354592">reinit</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.IMethod" id="355472">m</a>: icodes.<a href="../Members.scala.html#232640" title="TypeFlowAnalysis.this.global.icodes.IMethod">IMethod</a>, <a title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355473">staleOut</a>: <span title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">List</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span>, <a title="scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355474">inlined</a>: collection.<span title="scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">Set</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span>, <a title="scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355475">staleIn</a>: collection.<span title="scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">Set</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#239597" title="MTFAGrowable.this.type" class="keyword">this</a>.<a href="#353259" title="=&gt; TypeFlowAnalysis.this.global.icodes.IMethod">method</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span> <a href="#239597" title="MTFAGrowable.this.type" class="keyword">this</a>.<a href="#353259" title="=&gt; TypeFlowAnalysis.this.global.icodes.IMethod">method</a>.<a href="../Members.scala.html#322208" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#355472" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#322208" title="=&gt; TypeFlowAnalysis.this.global.icodes.global.Symbol">symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#354577" title="(m: TypeFlowAnalysis.this.global.icodes.IMethod)Unit">init</a><span class="delimiter">(</span><a href="#355472" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#355473" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">staleOut</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#355474" title="scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">inlined</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#355475" title="scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">staleIn</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // this promotes invoking reinit if in doubt, no performance degradation will ensue!
        <span title="Nothing" class="keyword">return</span>;
      <span class="delimiter">}</span>

      <a href="DataFlowAnalysis.scala.html#348025" title="=&gt; scala.collection.mutable.Set[MTFAGrowable.this.P]">worklist</a>.<span title="()Unit">clear</span> // calling reinit(f: =&gt; Unit) would also clear visited, thus forgetting about blocks visited before reinit.

      // asserts conveying an idea what CFG shapes arrive here:
      //   staleIn foreach (p =&gt; assert( !in.isDefinedAt(p), p))
      //   staleIn foreach (p =&gt; assert(!out.isDefinedAt(p), p))
      //   inlined foreach (p =&gt; assert( !in.isDefinedAt(p), p))
      //   inlined foreach (p =&gt; assert(!out.isDefinedAt(p), p))
      //   inlined foreach (p =&gt; assert(!p.successors.isEmpty || p.lastInstruction.isInstanceOf[icodes.opcodes.THROW], p))
      //   staleOut foreach (p =&gt; assert(  in.isDefinedAt(p), p))

      // remainingCALLs.clear()
      <a href="#354565" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.Instruction]">isOnWatchlist</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#354574" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>

      // never rewrite in(m.startBlock)
      <a href="#355473" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">staleOut</a> <span title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355513">b</a> =&gt;
        <a href="#354593" title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock)Unit">enqueue</a><span class="delimiter">(</span><a href="#355513" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>
        <a href="DataFlowAnalysis.scala.html#348029" title="(key: MTFAGrowable.this.P, value: MTFAGrowable.this.lattice.Elem)Unit">out</a><span class="delimiter">(</span><a href="#355513" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>    = <a href="#239589" title="object TypeFlowAnalysis.this.typeFlowLattice">typeFlowLattice</a>.<a href="#353029" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">bottom</a>
      <span class="delimiter">}</span>
      // nothing else is added to the worklist, bb's reachable via succs will be tfa'ed
      <a href="#354595" title="(blocks: scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock])Unit">blankOut</a><span class="delimiter">(</span><a href="#355474" title="scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">inlined</a><span class="delimiter">)</span>
      <a href="#354595" title="(blocks: scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock])Unit">blankOut</a><span class="delimiter">(</span><a href="#355475" title="scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">staleIn</a><span class="delimiter">)</span>
      // no need to add startBlocks from m.exh

      <a href="#355473" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">staleOut</a> <span title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355540">so</a> =&gt; <a href="#354581" title="(blocks: Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock])Unit">putOnRadar</a><span class="delimiter">(</span><a href="../ICodes.scala.html#232593" title="=&gt; TypeFlowAnalysis.this.global.icodes.Linearizer">linearizer</a> <a href="../Linearizers.scala.html#339434" title="(c: TypeFlowAnalysis.this.global.icodes.IMethod, start: TypeFlowAnalysis.this.global.icodes.BasicBlock)List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">linearizeAt</a> <span class="delimiter">(</span><a href="#355472" title="TypeFlowAnalysis.this.global.icodes.IMethod">m</a>, <a href="#355540" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">so</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      <a href="#354585" title="()Unit">populatePerimeter</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="delimiter">}</span> // end of method reinit

    /* this is not a general purpose method to add to the worklist,
     * because the assert is expected to hold only when called from MTFAGrowable.reinit() */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock)Unit" id="354593">enqueue</a><span class="delimiter">(</span><a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355520">b</a>: <a href="../BasicBlocks.scala.html#232649" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">BasicBlock</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="DataFlowAnalysis.scala.html#348027" title="(key: MTFAGrowable.this.P)MTFAGrowable.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#355520" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#239589" title="object TypeFlowAnalysis.this.typeFlowLattice">typeFlowLattice</a>.<a href="#353029" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">bottom</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="DataFlowAnalysis.scala.html#348025" title="=&gt; scala.collection.mutable.Set[MTFAGrowable.this.P]">worklist</a>.<span title="(elem: MTFAGrowable.this.P)Boolean">contains</span><span class="delimiter">(</span><a href="#355520" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="DataFlowAnalysis.scala.html#348025" title="=&gt; scala.collection.mutable.Set[MTFAGrowable.this.P]">worklist</a> <span title="(elem: MTFAGrowable.this.P)MTFAGrowable.this.worklist.type">+=</span> <a href="#355520" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a> <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /* this is not a general purpose method to add to the worklist,
     * because the assert is expected to hold only when called from MTFAGrowable.reinit() */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(bs: Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock])Unit" id="354594">enqueue</a><span class="delimiter">(</span><a title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355518">bs</a>: <span title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]">Traversable</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#355518" title="Traversable[TypeFlowAnalysis.this.global.icodes.BasicBlock]">bs</a> <span title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <a href="#354593" title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock)Unit">enqueue</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(blocks: scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock])Unit" id="354595">blankOut</a><span class="delimiter">(</span><a title="scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355527">blocks</a>: collection.<span title="scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">Set</span><span class="delimiter">[</span>BasicBlock<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#355527" title="scala.collection.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">blocks</a> <span title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355625">b</a> =&gt;
        <a href="DataFlowAnalysis.scala.html#348027" title="(key: MTFAGrowable.this.P, value: MTFAGrowable.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><a href="#355625" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>  = <a href="#239589" title="object TypeFlowAnalysis.this.typeFlowLattice">typeFlowLattice</a>.<a href="#353029" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">bottom</a>
        <a href="DataFlowAnalysis.scala.html#348029" title="(key: MTFAGrowable.this.P, value: MTFAGrowable.this.lattice.Elem)Unit">out</a><span class="delimiter">(</span><a href="#355625" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> = <a href="#239589" title="object TypeFlowAnalysis.this.typeFlowLattice">typeFlowLattice</a>.<a href="#353029" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">bottom</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /*
      This is basically the plain-old forward-analysis part of a dataflow algorithm,
      adapted to skip non-relevant blocks (as determined by `reinit()` via `populatePerimeter()`).

      The adaptations are:

        - only relevant blocks dequeued from the worklist move on to have the transfer function applied

        - `visited` now means the transfer function was applied to the block,
          but please notice that this does not imply anymore its out-flow to be different from bottom,
          because a block on the perimeter will have per-instruction typeflows computed only up to its `lastInstruction`.
          In case you need to know whether a visted block `v` has been &quot;fully visited&quot;, evaluate `out(v) ne typeflowLattice.bottom`

        - given that the transfer function may remove callsite-candidates from the watchlist (thus, they are not candidates anymore)
          there's an opportunity to detect whether a previously relevant block has been left without candidates.
          That's what `shrinkedWatchlist` detects. Provided the block was on the perimeter, we know we can skip it from now now,
          and we can also constrain the CFG-subgraph by finding a new perimeter (thus the invocation to `populatePerimeter()`).
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(f: (MTFAGrowable.this.P, MTFAGrowable.this.lattice.Elem) =&gt; MTFAGrowable.this.lattice.Elem)Unit" id="354596">forwardAnalysis</a><span class="delimiter">(</span><a title="(MTFAGrowable.this.P, MTFAGrowable.this.lattice.Elem) =&gt; MTFAGrowable.this.lattice.Elem" id="354606">f</a>: <span class="delimiter">(</span>P, lattice.Elem<span class="delimiter">)</span> =&gt; lattice.Elem<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="DataFlowAnalysis.scala.html#348025" title="=&gt; scala.collection.mutable.Set[MTFAGrowable.this.P]">worklist</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#354574" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#355631" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="DataFlowAnalysis.scala.html#348033" title="=&gt; Boolean">stat</a><span class="delimiter">)</span> <a href="DataFlowAnalysis.scala.html#348037" title="(x$1: Int)Unit">iterations</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="keyword">val</span> <a title="MTFAGrowable.this.P" id="355632">point</a> = <a href="DataFlowAnalysis.scala.html#348025" title="=&gt; scala.collection.mutable.Set[MTFAGrowable.this.P]">worklist</a>.<span title="=&gt; Iterator[MTFAGrowable.this.P]">iterator</span>.<span title="()MTFAGrowable.this.P">next</span>; <a href="DataFlowAnalysis.scala.html#348025" title="=&gt; scala.collection.mutable.Set[MTFAGrowable.this.P]">worklist</a> <span title="(elem: MTFAGrowable.this.P)MTFAGrowable.this.worklist.type">-=</span> <a href="#355632" title="MTFAGrowable.this.P">point</a>;
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#354574" title="(elem: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean">relevantBBs</a><span class="delimiter">(</span><a href="#355632" title="MTFAGrowable.this.P">point</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#354562" title="(x$1: Boolean)Unit">shrinkedWatchlist</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">val</span> <a title="MTFAGrowable.this.lattice.Elem" id="355657">output</a> = <a href="#354606" title="(v1: MTFAGrowable.this.P, v2: MTFAGrowable.this.lattice.Elem)MTFAGrowable.this.lattice.Elem">f</a><span class="delimiter">(</span><a href="#355632" title="MTFAGrowable.this.P">point</a>, <a href="DataFlowAnalysis.scala.html#348027" title="(key: MTFAGrowable.this.P)MTFAGrowable.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#355632" title="MTFAGrowable.this.P">point</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="DataFlowAnalysis.scala.html#348031" title="=&gt; scala.collection.mutable.HashSet[MTFAGrowable.this.P]">visited</a> <span title="(elem: MTFAGrowable.this.P)MTFAGrowable.this.visited.type">+=</span> <a href="#355632" title="MTFAGrowable.this.P">point</a>;
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#354586" title="(elem: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean">isOnPerimeter</a><span class="delimiter">(</span><a href="#355632" title="MTFAGrowable.this.P">point</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#354562" title="=&gt; Boolean">shrinkedWatchlist</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#354591" title="(x: TypeFlowAnalysis.this.global.icodes.BasicBlock)Boolean">isWatching</a><span class="delimiter">(</span><a href="#355632" title="MTFAGrowable.this.P">point</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#354574" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a> <span title="(elem: TypeFlowAnalysis.this.global.icodes.BasicBlock)MTFAGrowable.this.relevantBBs.type">-=</span> <a href="#355632" title="MTFAGrowable.this.P">point</a>;
              <a href="#354585" title="()Unit">populatePerimeter</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Boolean" id="355702">propagate</a> = <span class="delimiter">(</span><span class="delimiter">(</span><a href="#353254" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.type">lattice</a>.<a href="#353029" title="=&gt; MTFAGrowable.this.lattice.IState[TypeFlowAnalysis.this.VarBinding,TypeFlowAnalysis.this.global.icodes.TypeStack]">bottom</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="DataFlowAnalysis.scala.html#348029" title="(key: MTFAGrowable.this.P)MTFAGrowable.this.lattice.Elem">out</a><span class="delimiter">(</span><a href="#355632" title="MTFAGrowable.this.P">point</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#355657" title="MTFAGrowable.this.lattice.Elem">output</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="DataFlowAnalysis.scala.html#348029" title="(key: MTFAGrowable.this.P)MTFAGrowable.this.lattice.Elem">out</a><span class="delimiter">(</span><a href="#355632" title="MTFAGrowable.this.P">point</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#355702" title="Boolean">propagate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="DataFlowAnalysis.scala.html#348029" title="(key: MTFAGrowable.this.P, value: MTFAGrowable.this.lattice.Elem)Unit">out</a><span class="delimiter">(</span><a href="#355632" title="MTFAGrowable.this.P">point</a><span class="delimiter">)</span> = <a href="#355657" title="MTFAGrowable.this.lattice.Elem">output</a>
              <span class="keyword">val</span> <a title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]" id="355741">succs</a> = <a href="#355632" title="MTFAGrowable.this.P">point</a>.<a href="../BasicBlocks.scala.html#322188" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">successors</a> <span title="(p: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Boolean)List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">filter</span> <a href="#354574" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">relevantBBs</a>
              <a href="#355741" title="List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">succs</a> <span title="(f: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="TypeFlowAnalysis.this.global.icodes.BasicBlock" id="355765">p</a> =&gt;
                <a href="../../../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#355765" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a>.<a href="../BasicBlocks.scala.html#322190" title="=&gt; List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">predecessors</a> <span title="(p: TypeFlowAnalysis.this.global.icodes.BasicBlock =&gt; Boolean)List[TypeFlowAnalysis.this.global.icodes.BasicBlock]">filter</span> <a href="#354586" title="=&gt; scala.collection.mutable.Set[TypeFlowAnalysis.this.global.icodes.BasicBlock]">isOnPerimeter</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="MTFAGrowable.this.lattice.Elem" id="355766">updated</a> = <a href="#353254" title="=&gt; TypeFlowAnalysis.this.typeFlowLattice.type">lattice</a>.<a href="SemiLattice.scala.html#347435" title="(xs: List[MTFAGrowable.this.lattice.Elem], exceptional: Boolean)MTFAGrowable.this.lattice.Elem">lub</a><span class="delimiter">(</span><span title="(xs: MTFAGrowable.this.lattice.Elem*)List[MTFAGrowable.this.lattice.Elem]">List</span><span class="delimiter">(</span><a href="#355657" title="MTFAGrowable.this.lattice.Elem">output</a>, <a href="DataFlowAnalysis.scala.html#348027" title="(key: MTFAGrowable.this.P)MTFAGrowable.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#355765" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#355765" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a>.<a href="../BasicBlocks.scala.html#322135" title="=&gt; Boolean">exceptionHandlerStart</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#355766" title="MTFAGrowable.this.lattice.Elem">updated</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="DataFlowAnalysis.scala.html#348027" title="(key: MTFAGrowable.this.P)MTFAGrowable.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#355765" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="DataFlowAnalysis.scala.html#348027" title="(key: MTFAGrowable.this.P, value: MTFAGrowable.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><a href="#355765" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a><span class="delimiter">)</span> = <a href="#355766" title="MTFAGrowable.this.lattice.Elem">updated</a>
                  <a href="#354593" title="(b: TypeFlowAnalysis.this.global.icodes.BasicBlock)Unit">enqueue</a><span class="delimiter">(</span><a href="#355765" title="TypeFlowAnalysis.this.global.icodes.BasicBlock">p</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class Timer extends Object with ScalaObject" id="239598">Timer</a> <a href="#239598" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">var</span> <a title="Long" id="250676">millis</a> = <span title="Long(0L)" class="long">0L</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Long" id="250679">lastStart</a> = <span title="Long(0L)" class="long">0L</span>

    <span class="keyword">def</span> <a title="()Unit" id="250681">reset</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#250676" title="(x$1: Long)Unit">millis</a> = <span title="Long(0L)" class="long">0L</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="()Unit" id="250682">start</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#250679" title="(x$1: Long)Unit">lastStart</a> = <span title="object System">System</span>.<span title="()Long">currentTimeMillis</span>
    <span class="delimiter">}</span>

    /** Stop the timer and return the number of milliseconds since the last
     * call to start. The 'millis' field is increased by the elapsed time.
     */
    <span class="keyword">def</span> <a title="=&gt; Long" id="250683">stop</a>: <span title="Long">Long</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Long" id="355831">elapsed</a> = <span title="object System">System</span>.<span title="()Long">currentTimeMillis</span> <span title="(x: Long)Long">-</span> <a href="#250679" title="=&gt; Long">lastStart</a>
      <a href="#250676" title="(x$1: Long)Unit">millis</a> <span title="(x: Long)Long">+=</span> <a href="#355831" title="Long">elapsed</a>
      <a href="#355831" title="Long">elapsed</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>