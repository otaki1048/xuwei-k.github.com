<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/matching/ParallelMatching.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * Copyright 2007 Google Inc. All Rights Reserved.
 * Author: bqe@google.com (Burak Emir)
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> matching

<span class="keyword">import</span> <span title="object PartialFunction">PartialFunction</span>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable <span class="delimiter">}</span>
<span class="keyword">import</span> util.Position
<span class="keyword">import</span> transform.ExplicitOuter
<span class="keyword">import</span> symtab.Flags
<span class="keyword">import</span> mutable.ListBuffer
<span class="keyword">import</span> annotation.elidable

<span class="keyword">trait</span> <a title="trait ParallelMatching extends Object with scala.tools.nsc.ast.TreeDSL with scala.tools.nsc.matching.MatchSupport with scala.tools.nsc.matching.Matrix with scala.tools.nsc.matching.Patterns with scala.tools.nsc.matching.PatternBindings with ScalaObject" id="25409">ParallelMatching</a> <span title="ScalaObject" class="keyword">extends</span> ast.<a href="../ast/TreeDSL.scala.html#14381" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a>
      <span class="keyword">with</span> <a href="MatchSupport.scala.html#25493" title="scala.tools.nsc.matching.MatchSupport">MatchSupport</a>
      <span class="keyword">with</span> <a href="Matrix.scala.html#26078" title="scala.tools.nsc.matching.Matrix">Matrix</a>
      <span class="keyword">with</span> <a href="Patterns.scala.html#25517" title="scala.tools.nsc.matching.Patterns">Patterns</a>
      <span class="keyword">with</span> <a href="PatternBindings.scala.html#25997" title="scala.tools.nsc.matching.PatternBindings">PatternBindings</a>
<span class="delimiter">{</span>
  self: ExplicitOuter =&gt;

  <span class="keyword">import</span> <a href="../transform/TypingTransformers.scala.html#242086" title="=&gt; scala.tools.nsc.Global">global</a>.<span class="delimiter">{</span> typer =&gt; _, _ <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object ParallelMatching.this.global.definitions">definitions</a>.<span class="delimiter">{</span>
    AnyRefClass, IntClass, BooleanClass, SomeClass, OptionClass,
    getProductArgs, productProj, Object_eq, Any_asInstanceOf
  <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#187433" title="object ParallelMatching.this.CODE">CODE</a>._
  <span class="keyword">import</span> <a href="MatchSupport.scala.html#242461" title="object ParallelMatching.this.Types">Types</a>._
  <span class="keyword">import</span> <a href="MatchSupport.scala.html#242463" title="object ParallelMatching.this.Debug">Debug</a>._

  /** Transition **/
  <span class="keyword">def</span> <a title="(xs: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.Pattern]" id="242450">toPats</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="540928">xs</a>: <span title="List[ParallelMatching.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[ParallelMatching.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#540928" title="List[ParallelMatching.this.global.Tree]">xs</a> <span title="(f: ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Tree],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">map</span> <a href="Patterns.scala.html#242430" title="object ParallelMatching.this.Pattern">Pattern</a>.<a href="Patterns.scala.html#543525" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern">apply</a>

  /** The umbrella matrix class. **/
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class MatchMatrix extends Object with ParallelMatching.this.MatchMatrixOptimizer with ParallelMatching.this.MatrixExhaustiveness with ScalaObject" id="242451">MatchMatrix</a><a href="#242451" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="ParallelMatching.this.MatrixContext" id="540517">context</a>: <a href="Matrix.scala.html#242492" title="ParallelMatching.this.MatrixContext">MatrixContext</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="MatrixAdditions.scala.html#242480" title="ParallelMatching.this.MatchMatrixOptimizer">MatchMatrixOptimizer</a> <span class="keyword">with</span> <a href="MatrixAdditions.scala.html#242481" title="ParallelMatching.this.MatrixExhaustiveness">MatrixExhaustiveness</a> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#540517" title="=&gt; ParallelMatching.this.MatrixContext">context</a>._

    <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.MatrixContext#MatrixInit" id="540448">data</a>: MatrixContext#<a href="Matrix.scala.html#540324" title="ParallelMatching.this.MatrixContext#MatrixInit">MatrixInit</a>

    <span class="keyword">lazy</span> <span class="keyword">val</span> MatrixInit<a href="#540452" title="(List[MatchMatrix.this.context.PatternVar], List[ParallelMatching.this.global.CaseDef], ParallelMatching.this.global.Tree)" id="540450" class="delimiter">(</a><a href="#540449" title="List[MatchMatrix.this.context.PatternVar]" id="540452">roots</a>, <a href="#540449" title="List[ParallelMatching.this.global.CaseDef]" id="540454">cases</a>, <a href="#540449" title="ParallelMatching.this.global.Tree" id="540456">failTree</a><span class="delimiter">)</span> = <a href="#540448" title="=&gt; ParallelMatching.this.MatrixContext#MatrixInit">data</a>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#540460" title="(List[MatchMatrix.this.Row], List[Product with Serializable with MatchMatrix.this.State])" id="540458" class="delimiter">(</a><a href="#540457" title="List[MatchMatrix.this.Row]" id="540460">rows</a>, <a href="#540457" title="List[Product with Serializable with MatchMatrix.this.State]" id="540462">targets</a><span class="delimiter">)</span>                    = <a href="#540499" title="(roots: List[MatchMatrix.this.context.PatternVar], cases: List[ParallelMatching.this.global.CaseDef])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]">expand</a><span class="delimiter">(</span><a href="#540451" title="=&gt; List[MatchMatrix.this.context.PatternVar]">roots</a>, <a href="#540453" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a><span class="delimiter">)</span>.<span title="(implicit asPair: ((MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)) =&gt; (MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State))(List[MatchMatrix.this.Row], List[Product with Serializable with MatchMatrix.this.State])">unzip</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="540464">expansion</a>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a>                     = <a href="#540469" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="Matrix.scala.html#540327" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">roots</a>, <a href="#540459" title="=&gt; List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Int,ParallelMatching.this.global.Symbol]" id="540465">shortCuts</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35655" title="object ParallelMatching.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110762" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Int,ParallelMatching.this.global.Symbol]" class="delimiter">[</span><span title="Int">Int</span>, <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(theLabel: ParallelMatching.this.global.Symbol)Int" id="540467">createShortCut</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="543590">theLabel</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="543592">key</a> = <a href="#540465" title="=&gt; scala.collection.mutable.HashMap[Int,ParallelMatching.this.global.Symbol]">shortCuts</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
      <a href="#540465" title="(key: Int, value: ParallelMatching.this.global.Symbol)Unit">shortCuts</a><span class="delimiter">(</span><a href="#543592" title="Int">key</a><span class="delimiter">)</span> = <a href="#543590" title="ParallelMatching.this.global.Symbol">theLabel</a>
      <span title="=&gt; Int">-</span><a href="#543592" title="Int">key</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(namePrefix: String, body: ParallelMatching.this.global.Tree, params: List[ParallelMatching.this.global.Symbol], restpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.LabelDef" id="540468">createLabelDef</a><span class="delimiter">(</span><a title="String" id="541033">namePrefix</a>: <span title="String">String</span>, <a title="ParallelMatching.this.global.Tree" id="541034">body</a>: <span title="ParallelMatching.this.global.Tree">Tree</span>, <a title="List[ParallelMatching.this.global.Symbol]" id="541039">params</a>: <span title="List[ParallelMatching.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="object Nil">Nil</span>, <a title="ParallelMatching.this.global.Type" id="541040">restpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ParallelMatching.this.global.Type">Type</a> = <a href="Matrix.scala.html#540313" title="=&gt; ParallelMatching.this.global.Type">matchResultType</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.TermName" id="541041">labelName</a> = <a href="Matrix.scala.html#540305" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#188695" title="(prefix: String)ParallelMatching.this.global.TermName">freshTermName</a><span class="delimiter">(</span><a href="#541033" title="String">namePrefix</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.MethodSymbol" id="541042">labelSym</a>  = <a href="Matrix.scala.html#540311" title="=&gt; ParallelMatching.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46388" title="(name: ParallelMatching.this.global.TermName, pos: ParallelMatching.this.global.Position)ParallelMatching.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#541041" title="ParallelMatching.this.global.TermName">labelName</a>, <a href="Matrix.scala.html#540311" title="=&gt; ParallelMatching.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; ParallelMatching.this.global.Position">pos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.MethodType" id="541043">labelInfo</a> = <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[ParallelMatching.this.global.Symbol], resultType: ParallelMatching.this.global.Type)ParallelMatching.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#541039" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#541040" title="ParallelMatching.this.global.Type">restpe</a><span class="delimiter">)</span>

      <a href="../../../reflect/internal/Trees.scala.html#39374" title="(sym: ParallelMatching.this.global.Symbol, params: List[ParallelMatching.this.global.Symbol], rhs: ParallelMatching.this.global.Tree)ParallelMatching.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#541042" title="ParallelMatching.this.global.MethodSymbol">labelSym</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: ParallelMatching.this.global.Type)labelSym.type">setInfo</a> <a href="#541043" title="ParallelMatching.this.global.MethodType">labelInfo</a>, <a href="#541039" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#541034" title="ParallelMatching.this.global.Tree">body</a> <span title="(tp: ParallelMatching.this.global.Type)body.type">setType</span> <a href="#541040" title="ParallelMatching.this.global.Type">restpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** This is the recursively focal point for translating the current
     *  list of pattern variables and a list of pattern match rows into
     *  a tree suitable for entering erasure.
     *
     *  The first time it is called, the variables are (copies of) the
     *  original pattern matcher roots, and the rows correspond to the
     *  original casedefs.
     */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep" id="540469">make</a><span class="delimiter">(</span><a title="MatchMatrix.this.context.PatternVarGroup" id="543586">roots1</a>: <a href="Matrix.scala.html#540332" title="MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a>, <a title="List[MatchMatrix.this.Row]" id="543587">rows1</a>: <span title="List[MatchMatrix.this.Row]">List</span><span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a> = <span class="delimiter">{</span>
      <a href="MatchSupport.scala.html#539109" title="(cat: String, f: String, xs: Any*)Unit">traceCategory</a><span class="delimiter">(</span><span title="String(&quot;New Match&quot;)" class="string">&quot;New Match&quot;</span>, <span title="String(&quot;%sx%s (%s)&quot;)" class="string">&quot;%sx%s (%s)&quot;</span>, <a href="#543586" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>.<a href="Matrix.scala.html#541338" title="=&gt; Int">size</a>, <a href="#543587" title="List[MatchMatrix.this.Row]">rows1</a>.<span title="=&gt; Int">size</span>, <a href="#543586" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>.<a href="Matrix.scala.html#541333" title="=&gt; List[ParallelMatching.this.global.Symbol]">syms</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(opat: ParallelMatching.this.Pattern, j: Int)ParallelMatching.this.Pattern" id="543601">classifyPat</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="543606">opat</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a>, <a title="Int" id="543607">j</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a> = <a href="#543606" title="ParallelMatching.this.Pattern">opat</a> <a href="Patterns.scala.html#542847" title="(pv: ParallelMatching.this.PatternVar)ParallelMatching.this.Pattern">simplify</a> <a href="Matrix.scala.html#541343" title="(i: Int)MatchMatrix.this.context.PatternVar">roots1</a><span class="delimiter">(</span><a href="#543607" title="Int">j</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="543602">newRows</a> = <a href="#543587" title="List[MatchMatrix.this.Row]">rows1</a> <span title="(f: MatchMatrix.this.Row =&gt; scala.collection.GenTraversableOnce[MatchMatrix.this.Row])(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">flatMap</span> <span class="delimiter">(</span><a href="#543629" title="MatchMatrix.this.Row">_</a> <a href="#540911" title="(classifyPat: (ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern)List[MatchMatrix.this.Row]">expandAlternatives</a> <a href="#543601" title="(opat: ParallelMatching.this.Pattern, j: Int)ParallelMatching.this.Pattern">classifyPat</a><span class="delimiter">)</span>
      <span title="MatchMatrix.this.Rep" class="keyword">if</span> <span class="delimiter">(</span><a href="#543587" title="List[MatchMatrix.this.Row]">rows1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">!=</span> <a href="#543602" title="List[MatchMatrix.this.Row]">newRows</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#540469" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#543586" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>, <a href="#543602" title="List[MatchMatrix.this.Row]">newRows</a><span class="delimiter">)</span>  // recursive call if any change
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="543667">rep</a> = <a href="#549898" title="(tvars: MatchMatrix.this.context.PatternVarGroup, rows: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">Rep</a><span class="delimiter">(</span><a href="#543586" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>, <a href="#543602" title="List[MatchMatrix.this.Row]">newRows</a><span class="delimiter">)</span>
        <span title="MatchMatrix.this.ExhaustivenessChecker" class="keyword">new</span> <a href="MatrixAdditions.scala.html#540509" title="MatchMatrix.this.ExhaustivenessChecker">ExhaustivenessChecker</a><span class="delimiter">(</span><a href="#543667" title="MatchMatrix.this.Rep">rep</a>, <a href="#540451" title="=&gt; List[MatchMatrix.this.context.PatternVar]">roots</a>.<span title="=&gt; MatchMatrix.this.context.PatternVar">head</span>.<a href="Matrix.scala.html#540377" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; ParallelMatching.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="MatrixAdditions.scala.html#542707" title="=&gt; MatchMatrix.this.Rep">check</a>
        <a href="#543667" title="MatchMatrix.this.Rep">rep</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="540470">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;MatchMatrix(%s) { %s }&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="Matrix.scala.html#540313" title="=&gt; ParallelMatching.this.global.Type">matchResultType</a>, <a href="MatchSupport.scala.html#539117" title="(s: Seq[Any])String">indentAll</a><span class="delimiter">(</span><a href="#540461" title="=&gt; List[Product with Serializable with MatchMatrix.this.State]">targets</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /**
     * Encapsulates a symbol being matched on.  It is created from a
     * PatternVar, which encapsulates the symbol's creation and assignment.
     *
     * We never match on trees directly - a temporary variable is created
     * (in a PatternVar) for any expression being matched on.
     */
    <span class="keyword">class</span> <a title="class Scrutinee extends Object with ScalaObject" id="540471">Scrutinee</a><a href="#540471" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVar" id="543713">pv</a>: <a href="Matrix.scala.html#540333" title="MatchMatrix.this.context.PatternVar">PatternVar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object ParallelMatching.this.global.definitions">definitions</a>._

      // presenting a face of our symbol
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Symbol" id="543687">sym</a>   = <a href="#543713" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#540377" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="543688">tpe</a>   = <a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ParallelMatching.this.global.Type">tpe</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Position" id="543689">pos</a>   = <a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; ParallelMatching.this.global.Position">pos</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.gen.global.Tree" id="543690">id</a>    = <a href="../ast/TreeDSL.scala.html#244840" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)ParallelMatching.this.global.gen.global.Tree">setPos</span> <a href="#543689" title="=&gt; ParallelMatching.this.global.Position">pos</a>  // attributed ident

      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.Symbol]" id="543691">accessors</a>     = <span title="List[ParallelMatching.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#543699" title="=&gt; Boolean">isCaseClass</a><span class="delimiter">)</span> <a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46668" title="=&gt; List[ParallelMatching.this.global.Symbol]">caseFieldAccessors</a> <span class="keyword">else</span> <span title="object Nil">Nil</span>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.Type]" id="543692">accessorTypes</a> = <a href="#543691" title="=&gt; List[ParallelMatching.this.global.Symbol]">accessors</a> <span title="(f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Type,List[ParallelMatching.this.global.Type]])List[ParallelMatching.this.global.Type]">map</span> <span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="543771">x</a> =&gt; <span class="delimiter">(</span><a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type">memberType</a> <a href="#543771" title="ParallelMatching.this.global.Symbol">x</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; ParallelMatching.this.global.Type">resultType</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVarGroup" id="543694">accessorPatternVars</a>  = <a href="Matrix.scala.html#541322" title="(xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a><span class="delimiter">(</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="543908">accessor</a>, <a title="ParallelMatching.this.global.Type" id="543909">tpe</a><span class="delimiter">)</span> &lt;- <a href="#543691" title="=&gt; List[ParallelMatching.this.global.Symbol]">accessors</a> <a href="#543881" title="(f: ((ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type)) =&gt; MatchMatrix.this.context.PatternVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type)],MatchMatrix.this.context.PatternVar,List[MatchMatrix.this.context.PatternVar]])List[MatchMatrix.this.context.PatternVar]">zip</a> <a href="#543692" title="=&gt; List[ParallelMatching.this.global.Type]">accessorTypes</a><span class="delimiter">)</span> <span class="keyword">yield</span>
          <a href="#543708" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#543909" title="ParallelMatching.this.global.Type">tpe</a>, <a title="ParallelMatching.this.global.Symbol" id="543922">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#244795" title="(lhs: ParallelMatching.this.global.Tree, op: ParallelMatching.this.global.Symbol, args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">fn</a><span class="delimiter">(</span><a href="#543690" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>, <a href="#543908" title="ParallelMatching.this.global.Symbol">accessor</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]" id="543695">extraValDefs</a> = <span title="List[ParallelMatching.this.global.analyzer.global.ValDef]" class="keyword">if</span> <span class="delimiter">(</span><a href="#543713" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#540372" title="=&gt; ParallelMatching.this.global.Tree">rhs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="object Nil">Nil</span> <span class="keyword">else</span> <span title="(xs: ParallelMatching.this.global.analyzer.global.ValDef*)List[ParallelMatching.this.global.analyzer.global.ValDef]">List</span><span class="delimiter">(</span><a href="#543713" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#540381" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]" id="543696">allValDefs</a> = <a href="#543695" title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]">extraValDefs</a> <a href="#543978" title="(prefix: List[ParallelMatching.this.global.analyzer.global.ValDef])List[ParallelMatching.this.global.analyzer.global.ValDef]">:::</a> <a href="#543693" title="=&gt; MatchMatrix.this.context.PatternVarGroup">accessorPatternVars</a>.<a href="Matrix.scala.html#541334" title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]">valDefs</a>

      // tests
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="543697">isDefined</a>      = <a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ParallelMatching.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="543698">isSubrangeType</a> = <a href="MatchSupport.scala.html#539066" title="(elem: ParallelMatching.this.global.Symbol)Boolean">subrangeTypes</a><span class="delimiter">(</span><a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="543699">isCaseClass</a>    = <a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46776" title="=&gt; Boolean">isCase</a>

      // sequences
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="543700">seqType</a>         = <a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; ParallelMatching.this.global.Type">widen</a> <a href="../../../reflect/internal/Types.scala.html#41553" title="(clazz: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type">baseType</a> <a href="../../../reflect/internal/Definitions.scala.html#45130" title="=&gt; ParallelMatching.this.global.Symbol">SeqClass</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="543701">elemType</a>        = <a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41517" title="(n: Int)ParallelMatching.this.global.Type">typeArgs</a> <span title="Int(0)" class="int">0</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(i: Int)ParallelMatching.this.global.Apply" id="543702">elemAt</a><span class="delimiter">(</span><a title="Int" id="544033">i</a>: <span title="Int">Int</span><span class="delimiter">)</span>  = <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#284848" title="(args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">DOT</a> <span class="delimiter">(</span><a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41545" title="(name: ParallelMatching.this.global.Name)ParallelMatching.this.global.Symbol">member</a> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ParallelMatching.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; ParallelMatching.this.global.nme.NameType">apply</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#284810" title="(x: Any)ParallelMatching.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#544033" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(i: Int)MatchMatrix.this.context.PatternVar" id="543703">createElemVar</a><span class="delimiter">(</span><a title="Int" id="544055">i</a>: <span title="Int">Int</span><span class="delimiter">)</span>   = <a href="#543708" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#543701" title="=&gt; ParallelMatching.this.global.Type">elemType</a>, <a title="ParallelMatching.this.global.Symbol" id="544059">_</a> =&gt; <a href="#543702" title="(i: Int)ParallelMatching.this.global.Apply">elemAt</a><span class="delimiter">(</span><a href="#544055" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(drop: Int)MatchMatrix.this.context.PatternVar" id="543704">createSeqVar</a><span class="delimiter">(</span><a title="Int" id="544060">drop</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <a href="#543708" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#543700" title="=&gt; ParallelMatching.this.global.Type">seqType</a>, <a title="ParallelMatching.this.global.Symbol" id="544064">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#284884" title="(count: Int)ParallelMatching.this.global.Tree">DROP</a> <a href="#544060" title="Int">drop</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(count: Int)List[MatchMatrix.this.context.PatternVar]" id="543705">createSequenceVars</a><span class="delimiter">(</span><a title="Int" id="544069">count</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[MatchMatrix.this.context.PatternVar]">List</span><span class="delimiter">[</span>PatternVar<span class="delimiter">]</span> =
        <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <a href="#544069" title="Int">count</a><span class="delimiter">)</span>.<span title="=&gt; List[Int]">toList</span> <span title="(f: Int =&gt; MatchMatrix.this.context.PatternVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],MatchMatrix.this.context.PatternVar,List[MatchMatrix.this.context.PatternVar]])List[MatchMatrix.this.context.PatternVar]">map</span> <span class="delimiter">(</span><a title="Int" id="544204">i</a> =&gt; <span title="MatchMatrix.this.context.PatternVar" class="keyword">if</span> <span class="delimiter">(</span><a href="#544204" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#544069" title="Int">count</a><span class="delimiter">)</span> <a href="#543703" title="(i: Int)MatchMatrix.this.context.PatternVar">createElemVar</a><span class="delimiter">(</span><a href="#544204" title="Int">i</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#543704" title="(drop: Int)MatchMatrix.this.context.PatternVar">createSeqVar</a><span class="delimiter">(</span><a href="#544204" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>

      // for propagating &quot;unchecked&quot; to synthetic vars
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="543706">isChecked</a> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <a href="Matrix.scala.html#242489" title="=&gt; Long">NO_EXHAUSTIVE</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; List[Long]" id="543707">flags</a>: <span title="List[Long]">List</span><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <span title="(xs: Long*)List[Long]">List</span><span class="delimiter">(</span><a href="Matrix.scala.html#242489" title="=&gt; Long">NO_EXHAUSTIVE</a><span class="delimiter">)</span> <span title="(p: Long =&gt; Boolean)List[Long]">filter</span> <span class="delimiter">(</span><a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <a href="#544250" title="Long">_</a><span class="delimiter">)</span>

      // this is probably where this actually belongs
      <span class="keyword">def</span> <a title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar" id="543708">createVar</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="543910">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ParallelMatching.this.global.Type">Type</a>, <a title="ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree" id="543911">f</a>: Symbol =&gt; Tree<span class="delimiter">)</span> = <a href="#540517" title="=&gt; ParallelMatching.this.MatrixContext">context</a>.<a href="Matrix.scala.html#540336" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree, checked: Boolean)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#543910" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#543911" title="ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree">f</a>, <a href="#543706" title="=&gt; Boolean">isChecked</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(headType: ParallelMatching.this.global.Type)MatchMatrix.this.Scrutinee" id="543709">castedTo</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="544252">headType</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ParallelMatching.this.global.Type">Type</a><span class="delimiter">)</span> =
        <span title="MatchMatrix.this.Scrutinee" class="keyword">if</span> <span class="delimiter">(</span><a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#544252" title="ParallelMatching.this.global.Type">headType</a><span class="delimiter">)</span> <a href="#540471" title="MatchMatrix.this.Scrutinee" class="keyword">this</a>
        <span class="keyword">else</span> <span title="MatchMatrix.this.Scrutinee" class="keyword">new</span> <a href="#540471" title="MatchMatrix.this.Scrutinee">Scrutinee</a><span class="delimiter">(</span><a href="#543708" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#544252" title="ParallelMatching.this.global.Type">headType</a>, <a title="ParallelMatching.this.global.Symbol" id="544260">lhs</a> =&gt; <a href="../Global.scala.html#186149" title="object ParallelMatching.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92362" title="(value: ParallelMatching.this.global.gen.global.Tree, tpe: ParallelMatching.this.global.gen.global.Type, any: Boolean, wrapInApply: Boolean)ParallelMatching.this.global.gen.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="#543690" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>, <a href="#544260" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="543710">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;(%s: %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#543690" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>, <a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(scrut: MatchMatrix.this.Scrutinee, ps: List[ParallelMatching.this.Pattern])Option[MatchMatrix.this.PatternSwitch]" id="540472">isPatternSwitch</a><span class="delimiter">(</span><a title="MatchMatrix.this.Scrutinee" id="544273">scrut</a>: <a href="#540471" title="MatchMatrix.this.Scrutinee">Scrutinee</a>, <a title="List[ParallelMatching.this.Pattern]" id="544274">ps</a>: <span title="List[ParallelMatching.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[MatchMatrix.this.PatternSwitch]">Option</span><span class="delimiter">[</span>PatternSwitch<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Boolean" id="544276">isSwitchableConst</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="544278">x</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <span title="(x: ParallelMatching.this.Pattern)(pf: PartialFunction[ParallelMatching.this.Pattern,Boolean])Boolean">cond</span><span class="delimiter">(</span><a href="#544278" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span> <a href="#544287" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <a title="Boolean(true)" id="544288">x</a>: <a href="Patterns.scala.html#242386" title="ParallelMatching.this.LiteralPattern">LiteralPattern</a> <span class="keyword">if</span> <a href="#544288" title="ParallelMatching.this.LiteralPattern">x</a>.<a href="Patterns.scala.html#544299" title="=&gt; Boolean">isSwitchable</a> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Boolean" id="544277">isSwitchableDefault</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="544324">x</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="#544276" title="(x: ParallelMatching.this.Pattern)Boolean">isSwitchableConst</a><span class="delimiter">(</span><a href="#544324" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#544324" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#542849" title="=&gt; Boolean">isDefault</a>

      // TODO - scala&gt; (5: Any) match { case 5 =&gt; 5 ; case 6 =&gt; 7 }
      // ... should compile to a switch.  It doesn't because the scrut isn't Int/Char, but
      // that could be handle in an if/else since every pattern requires an Int.
      // More immediately, Byte and Short scruts should also work.
      <span title="Option[MatchMatrix.this.PatternSwitch]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#544273" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543698" title="=&gt; Boolean">isSubrangeType</a><span class="delimiter">)</span> <span title="object None">None</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#544359" title="(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="#544358" title="List[ParallelMatching.this.Pattern]" id="544359">_lits</a>, <a href="#544358" title="List[ParallelMatching.this.Pattern]" id="544360">others</a><span class="delimiter">)</span> = <a href="#544274" title="List[ParallelMatching.this.Pattern]">ps</a> <span title="(p: ParallelMatching.this.Pattern =&gt; Boolean)(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])">span</span> <a href="#544276" title="(x: ParallelMatching.this.Pattern)Boolean">isSwitchableConst</a>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.LiteralPattern]" id="544361">lits</a> = <a href="#544359" title="List[ParallelMatching.this.Pattern]">_lits</a> <span title="(pf: PartialFunction[ParallelMatching.this.Pattern,ParallelMatching.this.LiteralPattern])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.LiteralPattern,List[ParallelMatching.this.LiteralPattern]])List[ParallelMatching.this.LiteralPattern]">collect</span> <a href="#544392" title="ParallelMatching.this.LiteralPattern" class="delimiter">{</a> <span class="keyword">case</span> <a title="ParallelMatching.this.LiteralPattern" id="544393">x</a>: <a href="Patterns.scala.html#242386" title="ParallelMatching.this.LiteralPattern">LiteralPattern</a> =&gt; <a href="#544393" title="ParallelMatching.this.LiteralPattern">x</a> <span class="delimiter">}</span>

        <span title="(x: List[ParallelMatching.this.Pattern])(pf: PartialFunction[List[ParallelMatching.this.Pattern],MatchMatrix.this.PatternSwitch])Option[MatchMatrix.this.PatternSwitch]">condOpt</span><span class="delimiter">(</span><a href="#544360" title="List[ParallelMatching.this.Pattern]">others</a><span class="delimiter">)</span> <a href="#544434" title="MatchMatrix.this.PatternSwitch" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="MatchMatrix.this.PatternSwitch">Nil</span>                                =&gt; <span title="MatchMatrix.this.PatternSwitch" class="keyword">new</span> <a href="#540473" title="MatchMatrix.this.PatternSwitch">PatternSwitch</a><span class="delimiter">(</span><a href="#544273" title="MatchMatrix.this.Scrutinee">scrut</a>, <a href="#544361" title="List[ParallelMatching.this.LiteralPattern]">lits</a>, <span title="object None">None</span><span class="delimiter">)</span>
          // TODO: This needs to also allow the case that the last is a compatible type pattern.
          <span class="keyword">case</span> <a href="#544439" title="MatchMatrix.this.PatternSwitch">List</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="544450">x</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#544277" title="(x: ParallelMatching.this.Pattern)Boolean">isSwitchableDefault</a><span class="delimiter">(</span><a href="#544450" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span>  =&gt; <span title="MatchMatrix.this.PatternSwitch" class="keyword">new</span> <a href="#540473" title="MatchMatrix.this.PatternSwitch">PatternSwitch</a><span class="delimiter">(</span><a href="#544273" title="MatchMatrix.this.Scrutinee">scrut</a>, <a href="#544361" title="List[ParallelMatching.this.LiteralPattern]">lits</a>, <span title="(x: ParallelMatching.this.Pattern)Some[ParallelMatching.this.Pattern]">Some</span><span class="delimiter">(</span><a href="#544450" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class PatternSwitch extends MatchMatrix.this.PatternMatch with ScalaObject" id="540473">PatternSwitch</a><a href="#540473" title="ScalaObject" class="delimiter">(</a>
      <a title="MatchMatrix.this.Scrutinee" id="544435">scrut</a>: <a href="#540471" title="MatchMatrix.this.Scrutinee">Scrutinee</a>,
      <span class="keyword">override</span> <span class="keyword">val</span> <a title="List[ParallelMatching.this.LiteralPattern]" id="544436">ps</a>: <span title="List[ParallelMatching.this.LiteralPattern]">List</span><span class="delimiter">[</span>LiteralPattern<span class="delimiter">]</span>,
      <span class="keyword">val</span> <a title="Option[ParallelMatching.this.Pattern]" id="544437">defaultPattern</a>: <span title="Option[ParallelMatching.this.Pattern]">Option</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span>
    <span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#549999" title="MatchMatrix.this.PatternMatch">PatternMatch</a><span class="delimiter">(</span><a href="#544435" title="MatchMatrix.this.Scrutinee">scrut</a>, <a href="#544436" title="List[ParallelMatching.this.LiteralPattern]">ps</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#186186" title="(requirement: Boolean)Unit">require</a><span class="delimiter">(</span><a href="#544435" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543698" title="=&gt; Boolean">isSubrangeType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#544436" title="=&gt; List[ParallelMatching.this.LiteralPattern]">ps</a> <span title="(p: ParallelMatching.this.LiteralPattern =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a href="#544471" title="ParallelMatching.this.LiteralPattern">_</a>.<a href="Patterns.scala.html#544299" title="=&gt; Boolean">isSwitchable</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class PatternMatch extends Object with ScalaObject with Product with Serializable" id="549999">PatternMatch</a><a href="#549999" title="ScalaObject" class="delimiter">(</a><a title="MatchMatrix.this.Scrutinee" id="549541">scrut</a>: <a href="#540471" title="MatchMatrix.this.Scrutinee">Scrutinee</a>, <a title="List[ParallelMatching.this.Pattern]" id="549542">ps</a>: <span title="List[ParallelMatching.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.Pattern" id="544332">head</a> = <a href="#549542" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<span title="=&gt; ParallelMatching.this.Pattern">head</span>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="544333">tail</a> = <a href="#549542" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<span title="=&gt; List[ParallelMatching.this.Pattern]">tail</span>
      <span class="keyword">def</span> <a title="=&gt; Int" id="544334">size</a> = <a href="#549542" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<span title="=&gt; Int">length</span>

      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="544335">headType</a> = <a href="#544332" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#542850" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a>
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="544336">dummyCount</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#544332" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#542857" title="=&gt; Boolean">isCaseClass</a><span class="delimiter">)</span> <a href="#544335" title="=&gt; ParallelMatching.this.global.Type">headType</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46668" title="=&gt; List[ParallelMatching.this.global.Symbol]">caseFieldAccessors</a>.<span title="=&gt; Int">length</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="544338">dummies</a> = <a href="Patterns.scala.html#242372" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><a href="#544336" title="=&gt; Int">dummyCount</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(i: Int)ParallelMatching.this.Pattern" id="544339">apply</a><span class="delimiter">(</span><a title="Int" id="544501">i</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a> = <a href="#549542" title="(n: Int)ParallelMatching.this.Pattern">ps</a><span class="delimiter">(</span><a href="#544501" title="Int">i</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="()List[(ParallelMatching.this.Pattern, Int)]" id="544340">pzip</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#549542" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],(ParallelMatching.this.Pattern, Int),List[(ParallelMatching.this.Pattern, Int)]])List[(ParallelMatching.this.Pattern, Int)]">zipWithIndex</span>
      <span class="keyword">def</span> <a title="[T](others: List[T])List[(ParallelMatching.this.Pattern, T)]" id="544341">pzip</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="544343">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="544550">others</a>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#549542" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#544550" title="List[T]">others</a>.<span title="=&gt; Int">size</span>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Internal error: ps = %s, others = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#549542" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>, <a href="#544550" title="List[T]">others</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#549542" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a> <span title="(that: scala.collection.GenIterable[T])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],(ParallelMatching.this.Pattern, T),List[(ParallelMatching.this.Pattern, T)]])List[(ParallelMatching.this.Pattern, T)]">zip</span> <a href="#544550" title="List[T]">others</a>
      <span class="delimiter">}</span>

      // Any unapply - returns Some(true) if a type test is needed before the unapply can
      // be called (e.g. def unapply(x: Foo) = { ... } but our scrutinee is type Any.)
      <span class="keyword">object</span> <a title="object PatternMatch.this.AnyUnapply" id="544344">AnyUnapply</a> <span title="ScalaObject" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Option[Boolean]" id="544627">unapply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="544629">x</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>: <span title="Option[Boolean]">Option</span><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = <span title="(x: ParallelMatching.this.global.Tree)(pf: PartialFunction[ParallelMatching.this.global.Tree,Boolean])Option[Boolean]">condOpt</span><span class="delimiter">(</span><a href="#544629" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#542846" title="=&gt; ParallelMatching.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#544640" title="Boolean" class="delimiter">{</a>
          <span class="keyword">case</span> <a href="Patterns.scala.html#544642" title="Boolean">UnapplyParamType</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="544648">tpe</a><span class="delimiter">)</span> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#549541" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#544648" title="ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(rest: MatchMatrix.this.Rep)MatchMatrix.this.RuleApplication" id="544346">mkRule</a><span class="delimiter">(</span><a title="MatchMatrix.this.Rep" id="544655">rest</a>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span>: <a href="#540477" title="MatchMatrix.this.RuleApplication">RuleApplication</a> = <span class="delimiter">{</span>
        <a href="MatchSupport.scala.html#539110" title="(s: String)(x: MatchMatrix.this.RuleApplication)MatchMatrix.this.RuleApplication">tracing</a><span class="delimiter">(</span><span title="String(&quot;Rule&quot;)" class="string">&quot;Rule&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#544332" title="=&gt; ParallelMatching.this.Pattern">head</a> <span title="MatchMatrix.this.RuleApplication" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="MatchMatrix.this.MixEquals" id="544681">x</a> <span class="keyword">if</span> <a href="PatternBindings.scala.html#242501" title="(tpe: ParallelMatching.this.global.Type)Boolean">isEquals</a><span class="delimiter">(</span><a href="#544681" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#542846" title="=&gt; ParallelMatching.this.global.Tree">tree</a>.<span title="=&gt; ParallelMatching.this.global.Type">tpe</span><span class="delimiter">)</span>        =&gt; <span title="MatchMatrix.this.MixEquals" class="keyword">new</span> <a href="#540484" title="MatchMatrix.this.MixEquals">MixEquals</a><span class="delimiter">(</span><a href="#549999" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#544655" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="MatchMatrix.this.MixSequence" id="544723">x</a>: <a href="Patterns.scala.html#242417" title="ParallelMatching.this.SequencePattern">SequencePattern</a>               =&gt; <span title="MatchMatrix.this.MixSequence" class="keyword">new</span> <a href="#540483" title="MatchMatrix.this.MixSequence">MixSequence</a><span class="delimiter">(</span><a href="#549999" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#544655" title="MatchMatrix.this.Rep">rest</a>, <a href="#544723" title="ParallelMatching.this.SequencePattern">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#544627" title="MatchMatrix.this.MixUnapply">AnyUnapply</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>                =&gt; <span title="MatchMatrix.this.MixUnapply" class="keyword">new</span> <a href="#540482" title="MatchMatrix.this.MixUnapply">MixUnapply</a><span class="delimiter">(</span><a href="#549999" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#544655" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="MatchMatrix.this.RuleApplication">_</span> =&gt;
            <a href="#540472" title="(scrut: MatchMatrix.this.Scrutinee, ps: List[ParallelMatching.this.Pattern])Option[MatchMatrix.this.PatternSwitch]">isPatternSwitch</a><span class="delimiter">(</span><a href="#549541" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#549542" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span> <span title="MatchMatrix.this.RuleApplication" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="MatchMatrix.this.MixLiteralInts">Some</span><span class="delimiter">(</span><a title="MatchMatrix.this.PatternSwitch" id="544810">x</a><span class="delimiter">)</span>  =&gt; <span title="MatchMatrix.this.MixLiteralInts" class="keyword">new</span> <a href="#540481" title="MatchMatrix.this.MixLiteralInts">MixLiteralInts</a><span class="delimiter">(</span><a href="#544810" title="MatchMatrix.this.PatternSwitch">x</a>, <a href="#544655" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="MatchMatrix.this.MixTypes">_</span>        =&gt; <span title="MatchMatrix.this.MixTypes" class="keyword">new</span> <a href="#540485" title="MatchMatrix.this.MixTypes">MixTypes</a><span class="delimiter">(</span><a href="#549999" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#544655" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="544347">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s match {%s}&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#549541" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="MatchSupport.scala.html#539117" title="(s: Seq[Any])String">indentAll</a><span class="delimiter">(</span><a href="#549542" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> // PatternMatch

    /***** Rule Applications *****/

    <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RuleApplication extends Object with ScalaObject" id="540477">RuleApplication</a> <a href="#540477" title="ScalaObject" class="delimiter">{</a>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.PatternMatch" id="544658">pmatch</a>: <a href="#549999" title="MatchMatrix.this.PatternMatch">PatternMatch</a>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.Rep" id="544659">rest</a>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="544660">cond</a>: <span title="ParallelMatching.this.global.Tree">Tree</span>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="544661">success</a>: <span title="ParallelMatching.this.global.Tree">Tree</span>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="544662">failure</a>: <span title="ParallelMatching.this.global.Tree">Tree</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> PatternMatch<a href="#544666" title="(MatchMatrix.this.Scrutinee, List[ParallelMatching.this.Pattern])" id="544664" class="delimiter">(</a><a href="#544663" title="MatchMatrix.this.Scrutinee" id="544666">scrut</a>, <a href="#544663" title="List[ParallelMatching.this.Pattern]" id="544668">patterns</a><span class="delimiter">)</span> = <a href="#544658" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.Pattern" id="544670">head</a> = <a href="#544658" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#544332" title="=&gt; ParallelMatching.this.Pattern">head</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544672">codegen</a>: <span title="ParallelMatching.this.global.Tree">Tree</span> = <a href="../ast/TreeDSL.scala.html#244834" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.IfStart">IF</a> <span class="delimiter">(</span><a href="#544660" title="=&gt; ParallelMatching.this.global.Tree">cond</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#284832" title="(x: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.IfStart">THEN</a> <span class="delimiter">(</span><a href="#544661" title="=&gt; ParallelMatching.this.global.Tree">success</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#284833" title="(elsep: ParallelMatching.this.global.Tree)ParallelMatching.this.global.If">ELSE</a> <span class="delimiter">(</span><a href="#544662" title="=&gt; ParallelMatching.this.global.Tree">failure</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(xs: List[MatchMatrix.this.Row])ParallelMatching.this.global.Tree" id="544673">mkFail</a><span class="delimiter">(</span><a title="List[MatchMatrix.this.Row]" id="544992">xs</a>: <span title="List[MatchMatrix.this.Row]">List</span><span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="ParallelMatching.this.global.Tree">Tree</span> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#544992" title="List[MatchMatrix.this.Row]">xs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#540455" title="=&gt; ParallelMatching.this.global.Tree">failTree</a>
        <span class="keyword">else</span> <a href="#544674" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#544992" title="List[MatchMatrix.this.Row]">xs</a><span class="delimiter">)</span>.<a href="#540562" title="()ParallelMatching.this.global.Tree">toTree</a>

      <span class="keyword">def</span> <a title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep" id="544674">remake</a><span class="delimiter">(</span>
        <a title="List[MatchMatrix.this.Row]" id="544994">rows</a>: <span title="List[MatchMatrix.this.Row]">List</span><span class="delimiter">[</span>Row<span class="delimiter">]</span>,
        <a title="MatchMatrix.this.context.PatternVarGroup" id="544998">pvgroup</a>: <a href="Matrix.scala.html#540332" title="MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a> = <a href="Matrix.scala.html#540330" title="=&gt; MatchMatrix.this.context.PatternVarGroup">emptyPatternVarGroup</a>,
        <a title="Boolean" id="544999">includeScrut</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a> =
      <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[MatchMatrix.this.context.PatternVar]" id="545004">scrutpvs</a> = <span title="List[MatchMatrix.this.context.PatternVar]" class="keyword">if</span> <span class="delimiter">(</span><a href="#544999" title="Boolean">includeScrut</a><span class="delimiter">)</span> <span title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</span><span class="delimiter">(</span><a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543713" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="object Nil">Nil</span>
        <a href="#540469" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#544998" title="MatchMatrix.this.context.PatternVarGroup">pvgroup</a>.<a href="Matrix.scala.html#541330" title="=&gt; List[MatchMatrix.this.context.PatternVar]">pvs</a> <a href="Matrix.scala.html#541341" title="(ts: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">:::</a> <a href="#545004" title="List[MatchMatrix.this.context.PatternVar]">scrutpvs</a> <a href="Matrix.scala.html#541341" title="(ts: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">:::</a> <a href="#544659" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#543668" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>, <a href="#544994" title="List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** translate outcome of the rule application into code (possible involving recursive application of rewriting) */
      <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="544675">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="ParallelMatching.this.global.Tree">Tree</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="544676">toString</a> =
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Rule/%s (%s =^= %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#540477" title="()Class[_]">getClass</a>.<span title="()String">getSimpleName</span>, <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#544669" title="=&gt; ParallelMatching.this.Pattern">head</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** {case ... if guard =&gt; bx} else {guardedRest} */
    /** VariableRule: The top-most rows has only variable (non-constructor) patterns. */
    case <span class="keyword">class</span> <a title="class VariableRule extends MatchMatrix.this.RuleApplication with ScalaObject with Product with Serializable" id="549995">VariableRule</a><a href="#549995" title="ScalaObject" class="delimiter">(</a><a title="ParallelMatching.this.Bindings" id="549696">subst</a>: <a href="PatternBindings.scala.html#242516" title="ParallelMatching.this.Bindings">Bindings</a>, <a title="ParallelMatching.this.global.Tree" id="549697">guard</a>: <span title="ParallelMatching.this.global.Tree">Tree</span>, <a title="MatchMatrix.this.Rep" id="549698">guardedRest</a>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a>, <a title="Int" id="549699">bx</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#540477" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.PatternMatch" id="545038">pmatch</a>: <a href="#549999" title="MatchMatrix.this.PatternMatch">PatternMatch</a> = <a href="MatchSupport.scala.html#242457" title="=&gt; Nothing">impossible</a>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.Rep" id="545039">rest</a>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a> = <a href="#549698" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#545043" title="(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" id="545041" class="delimiter">(</a><a href="#545040" title="List[ParallelMatching.this.global.ValDef]" id="545043">valDefs</a>, <a href="#545040" title="ParallelMatching.this.global.Tree" id="545045">successTree</a><span class="delimiter">)</span> = <a href="#540461" title="(n: Int)Product with Serializable with MatchMatrix.this.State">targets</a><span class="delimiter">(</span><a href="#549699" title="=&gt; Int">bx</a><span class="delimiter">)</span> <a href="#540940" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)">applyBindings</a> <a href="#549696" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#545065" title="=&gt; scala.collection.immutable.Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">toMap</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="545047">cond</a>    = <a href="#549697" title="=&gt; ParallelMatching.this.global.Tree">guard</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="545049">success</a> = <a href="#545044" title="=&gt; ParallelMatching.this.global.Tree">successTree</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="545051">failure</a> = <a href="#549698" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>.<a href="#540562" title="()ParallelMatching.this.global.Tree">toTree</a>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="545052">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="ParallelMatching.this.global.Tree">Tree</span> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#549699" title="=&gt; Int">bx</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#244841" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="#540465" title="(key: Int)ParallelMatching.this.global.Symbol">shortCuts</a><span class="delimiter">(</span><span title="=&gt; Int">-</span><a href="#549699" title="=&gt; Int">bx</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="MatrixAdditions.scala.html#540298" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span>
          <a href="#545042" title="=&gt; List[ParallelMatching.this.global.ValDef]">valDefs</a>,
          <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#545046" title="=&gt; ParallelMatching.this.global.Tree">cond</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#545048" title="=&gt; ParallelMatching.this.global.Tree">success</a> <span class="keyword">else</span> <a href="#544671" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
        <span class="delimiter">)</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="545053">toString</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;(case %d) {\n  Bindings: %s\n\n  if (%s) { %s }\n  else { %s }\n}&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
        <a href="#549699" title="=&gt; Int">bx</a>, <a href="#549696" title="=&gt; ParallelMatching.this.Bindings">subst</a>, <a href="#549697" title="=&gt; ParallelMatching.this.global.Tree">guard</a>, <a href="#545048" title="=&gt; ParallelMatching.this.global.Tree">success</a>, <a href="#549698" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class MixLiteralInts extends MatchMatrix.this.RuleApplication with ScalaObject" id="540481">MixLiteralInts</a><a href="#540481" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternSwitch" id="544852">pmatch</a>: <a href="#540473" title="MatchMatrix.this.PatternSwitch">PatternSwitch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="544853">rest</a>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#540477" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[ParallelMatching.this.LiteralPattern]" id="544818">literals</a> = <a href="#544852" title="=&gt; MatchMatrix.this.PatternSwitch">pmatch</a>.<a href="#544436" title="=&gt; List[ParallelMatching.this.LiteralPattern]">ps</a>
      <span class="keyword">val</span> <a title="Option[ParallelMatching.this.Pattern]" id="544820">defaultPattern</a> = <a href="#544852" title="=&gt; MatchMatrix.this.PatternSwitch">pmatch</a>.<a href="#544437" title="=&gt; Option[ParallelMatching.this.Pattern]">defaultPattern</a>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544823">casted</a>: <span title="ParallelMatching.this.global.Tree">Tree</span> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="MatchSupport.scala.html#539065" title="implicit scala.tools.nsc.matching.MatchSupport.Types.enrichType : (x: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#539083" title="=&gt; Boolean">isInt</a><span class="delimiter">)</span> <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#244848" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: ParallelMatching.this.CODE.SelectStart)ParallelMatching.this.global.Select">DOT</a> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ParallelMatching.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59308" title="=&gt; ParallelMatching.this.global.nme.NameType">toInt</a> <span class="keyword">else</span> <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543690" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>

      // creates a row transformer for injecting the default case bindings at a given index
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(index: Int)MatchMatrix.this.Row =&gt; MatchMatrix.this.Row" id="544824">addDefaultVars</a><span class="delimiter">(</span><a title="Int" id="545315">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: Row =&gt; Row =
        <span title="MatchMatrix.this.Row =&gt; MatchMatrix.this.Row" class="keyword">if</span> <span class="delimiter">(</span><a href="#544829" title="=&gt; List[ParallelMatching.this.global.Symbol]">defaultVars</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#545409" title="(x: MatchMatrix.this.Row)MatchMatrix.this.Row">identity</a>
        <span class="keyword">else</span> <a href="#544825" title="(r: MatchMatrix.this.Row, vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">rebindAll</a><span class="delimiter">(</span><a href="#545412" title="MatchMatrix.this.Row">_</a>, <a href="#544339" title="(i: Int)ParallelMatching.this.Pattern">pmatch</a><span class="delimiter">(</span><a href="#545315" title="Int">index</a><span class="delimiter">)</span>.<a href="PatternBindings.scala.html#542836" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>

      // add bindings for all the given vs to the given tvar
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(r: MatchMatrix.this.Row, vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row" id="544825">rebindAll</a><span class="delimiter">(</span><a title="MatchMatrix.this.Row" id="545343">r</a>: <a href="#549962" title="MatchMatrix.this.Row">Row</a>, <a title="Iterable[ParallelMatching.this.global.Symbol]" id="545344">vs</a>: <span title="Iterable[ParallelMatching.this.global.Symbol]">Iterable</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Symbol" id="545345">tvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#545343" title="MatchMatrix.this.Row">r</a> <a href="#540909" title="(b: ParallelMatching.this.Bindings)MatchMatrix.this.Row">rebind</a> <a href="#545343" title="MatchMatrix.this.Row">r</a>.<a href="#540916" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#545066" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#545344" title="Iterable[ParallelMatching.this.global.Symbol]">vs</a>, <a href="#545345" title="ParallelMatching.this.global.Symbol">tvar</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(Tag: Int, orig: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings" id="544826">bindVars</a><span class="delimiter">(</span><a title="Int" id="545413">Tag</a>: <span title="Int">Int</span>, <a title="ParallelMatching.this.Bindings" id="545414">orig</a>: <a href="PatternBindings.scala.html#242516" title="ParallelMatching.this.Bindings">Bindings</a><span class="delimiter">)</span>: <a href="PatternBindings.scala.html#242516" title="ParallelMatching.this.Bindings">Bindings</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings" id="545416">myBindVars</a><span class="delimiter">(</span><a title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="545417">rest</a>: <span title="List[(Int, List[ParallelMatching.this.global.Symbol])]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Int, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>, <a title="ParallelMatching.this.Bindings" id="545418">bnd</a>: <a href="PatternBindings.scala.html#242516" title="ParallelMatching.this.Bindings">Bindings</a><span class="delimiter">)</span>: <a href="PatternBindings.scala.html#242516" title="ParallelMatching.this.Bindings">Bindings</a> = <a href="#545417" title="List[(Int, List[ParallelMatching.this.global.Symbol])]">rest</a> <span title="ParallelMatching.this.Bindings" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.Bindings">Nil</span> =&gt; <a href="#545418" title="ParallelMatching.this.Bindings">bnd</a>
          <span class="keyword">case</span> <span title="ParallelMatching.this.Bindings" class="delimiter">(</span><a href="#545413" title="Int">Tag</a>,<a title="List[ParallelMatching.this.global.Symbol]" id="545427">vs</a><span class="delimiter">)</span>::<a title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="545428">xs</a> =&gt; <a href="#545416" title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">myBindVars</a><span class="delimiter">(</span><a href="#545428" title="List[(Int, List[ParallelMatching.this.global.Symbol])]">xs</a>, <a href="#545418" title="ParallelMatching.this.Bindings">bnd</a>.<a href="PatternBindings.scala.html#545066" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#545427" title="List[ParallelMatching.this.global.Symbol]">vs</a>, <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.Bindings" class="delimiter">(</span>_,  <a title="List[ParallelMatching.this.global.Symbol]" id="545437">vs</a><span class="delimiter">)</span>::<a title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="545438">xs</a> =&gt; <a href="#545416" title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">myBindVars</a><span class="delimiter">(</span><a href="#545438" title="List[(Int, List[ParallelMatching.this.global.Symbol])]">xs</a>, <a href="#545418" title="ParallelMatching.this.Bindings">bnd</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#545416" title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">myBindVars</a><span class="delimiter">(</span><a href="#544837" title="=&gt; List[(Int, List[ParallelMatching.this.global.Symbol])]">varMap</a>, <a href="#545414" title="ParallelMatching.this.Bindings">orig</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // bound vars and rows for default pattern (only one row, but a list is easier to use later)
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#544830" title="(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])" id="544828" class="delimiter">(</a><a href="#544827" title="List[ParallelMatching.this.global.Symbol]" id="544830">defaultVars</a>, <a href="#544827" title="List[MatchMatrix.this.Row]" id="544832">defaultRows</a><span class="delimiter">)</span> = <a href="#544820" title="=&gt; Option[ParallelMatching.this.Pattern]">defaultPattern</a> <span title="(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)">None</span>    =&gt; <span title="(_1: scala.collection.immutable.Nil.type, _2: scala.collection.immutable.Nil.type)(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)" class="delimiter">(</span><span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])">Some</span><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="545324">p</a><span class="delimiter">)</span> =&gt; <span title="(_1: List[ParallelMatching.this.global.Symbol], _2: List[MatchMatrix.this.Row])(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])" class="delimiter">(</span><a href="#545324" title="ParallelMatching.this.Pattern">p</a>.<a href="PatternBindings.scala.html#542836" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <span title="(xs: MatchMatrix.this.Row*)List[MatchMatrix.this.Row]">List</span><span class="delimiter">(</span><a href="#544825" title="(r: MatchMatrix.this.Row, vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">rebindAll</a><span class="delimiter">(</span><a href="#544853" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="#543669" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#544818" title="=&gt; List[ParallelMatching.this.LiteralPattern]">literals</a>.<span title="=&gt; Int">size</span>, <a href="#545324" title="ParallelMatching.this.Pattern">p</a>.<a href="PatternBindings.scala.html#542836" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // literalMap is a map from each literal to a list of row indices.
      // varMap is a list from each literal to a list of the defined vars.
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#544836" title="(List[(Int, Int)], List[(Int, List[ParallelMatching.this.global.Symbol])])" id="544834" class="delimiter">(</a><a href="#544833" title="List[(Int, Int)]" id="544836">litPairs</a>, <a href="#544833" title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="544838">varMap</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
        <a href="#544818" title="=&gt; List[ParallelMatching.this.LiteralPattern]">literals</a>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.LiteralPattern],(ParallelMatching.this.LiteralPattern, Int),List[(ParallelMatching.this.LiteralPattern, Int)]])List[(ParallelMatching.this.LiteralPattern, Int)]">zipWithIndex</span> <span title="(f: ((ParallelMatching.this.LiteralPattern, Int)) =&gt; ((Int, Int), (Int, List[ParallelMatching.this.global.Symbol])))(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.LiteralPattern, Int)],((Int, Int), (Int, List[ParallelMatching.this.global.Symbol])),List[((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))]])List[((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))]">map</span> <a href="#545498" title="((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))" class="delimiter">(</span><a title="ParallelMatching.this.LiteralPattern" id="545501">lit</a>, <a title="Int" id="545502">index</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Int" id="545503">tag</a>  = <a href="#545501" title="ParallelMatching.this.LiteralPattern">lit</a>.<a href="Patterns.scala.html#544300" title="=&gt; Int">intValue</a>
            <span title="(_1: (Int, Int), _2: (Int, List[ParallelMatching.this.global.Symbol]))((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))" class="delimiter">(</span><a href="#545503" title="(x: Int)ArrowAssoc[Int]">tag</a> <span title="(y: Int)(Int, Int)">-&gt;</span> <a href="#545502" title="Int">index</a>, <a href="#545503" title="(x: Int)ArrowAssoc[Int]">tag</a> <span title="(y: List[ParallelMatching.this.global.Symbol])(Int, List[ParallelMatching.this.global.Symbol])">-&gt;</span> <a href="#545501" title="ParallelMatching.this.LiteralPattern">lit</a>.<a href="PatternBindings.scala.html#542836" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span title="(implicit asPair: (((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))) =&gt; ((Int, Int), (Int, List[ParallelMatching.this.global.Symbol])))(List[(Int, Int)], List[(Int, List[ParallelMatching.this.global.Symbol])])">unzip</span>
      <span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[Int,List[Int]]" id="544839">literalMap</a> = <a href="#544835" title="=&gt; List[(Int, Int)]">litPairs</a> <span title="(f: ((Int, Int)) =&gt; Int)scala.collection.immutable.Map[Int,List[(Int, Int)]]">groupBy</span> <span class="delimiter">(</span><a href="#545598" title="(Int, Int)">_</a>.<span title="=&gt; Int">_1</span><span class="delimiter">)</span> <span title="(f: ((Int, List[(Int, Int)])) =&gt; (Int, List[Int]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,List[(Int, Int)]],(Int, List[Int]),scala.collection.immutable.Map[Int,List[Int]]])scala.collection.immutable.Map[Int,List[Int]]">map</span> <a href="#545627" title="(Int, List[Int])" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, List[Int])" class="delimiter">(</span><a title="Int" id="545630">k</a>, <a title="List[(Int, Int)]" id="545631">vs</a><span class="delimiter">)</span> =&gt; <span title="(_1: Int, _2: List[Int])(Int, List[Int])" class="delimiter">(</span><a href="#545630" title="Int">k</a>, <a href="#545631" title="List[(Int, Int)]">vs</a> <span title="(f: ((Int, Int)) =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, Int)],Int,List[Int]])List[Int]">map</span> <span class="delimiter">(</span><a href="#545652" title="(Int, Int)">_</a>.<span title="=&gt; Int">_2</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.CaseDef]" id="544841">cases</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="545773">tag</a>, <a title="List[Int]" id="545774">indices</a><span class="delimiter">)</span> &lt;- <a href="#544839" title="=&gt; scala.collection.immutable.Map[Int,List[Int]]">literalMap</a>.<a href="#545746" title="(f: ((Int, List[Int])) =&gt; ParallelMatching.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, List[Int])],ParallelMatching.this.global.CaseDef,List[ParallelMatching.this.global.CaseDef]])List[ParallelMatching.this.global.CaseDef]">toList</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="545775">newRows</a> = <a href="#545774" title="List[Int]">indices</a> <span title="(f: Int =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</span> <span class="delimiter">(</span><a title="Int" id="545794">i</a> =&gt; <a href="#544824" title="(index: Int)MatchMatrix.this.Row =&gt; MatchMatrix.this.Row">addDefaultVars</a><span title="(v1: MatchMatrix.this.Row)MatchMatrix.this.Row" class="delimiter">(</span><a href="#545794" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#544853" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="#543669" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#545794" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="545776">r</a>       = <a href="#544998" title="MatchMatrix.this.context.PatternVarGroup" id="545885">remake</a><span class="delimiter">(</span><a href="#545775" title="List[MatchMatrix.this.Row]">newRows</a> <a title="List[MatchMatrix.this.Row]" id="545883">++</a> <a href="#544831" title="=&gt; List[MatchMatrix.this.Row]">defaultRows</a>, includeScrut = <a title="Boolean(false)" id="545884" class="keyword">false</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="545777">r2</a>      = <a href="#540469" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#545776" title="MatchMatrix.this.Rep">r</a>.<a href="#543668" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>, <a href="#545776" title="MatchMatrix.this.Rep">r</a>.<a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <span title="(f: MatchMatrix.this.Row =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</span> <span class="delimiter">(</span><a title="MatchMatrix.this.Row" id="545902">x</a> =&gt; <a href="#545902" title="MatchMatrix.this.Row">x</a> <a href="#540909" title="(b: ParallelMatching.this.Bindings)MatchMatrix.this.Row">rebind</a> <a href="#544826" title="(Tag: Int, orig: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">bindVars</a><span class="delimiter">(</span><a href="#545773" title="Int">tag</a>, <a href="#545902" title="MatchMatrix.this.Row">x</a>.<a href="#540916" title="=&gt; ParallelMatching.this.Bindings">subst</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="../ast/TreeDSL.scala.html#244812" title="(pat: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.CaseStart">CASE</a><span class="delimiter">(</span><a href="../transform/TypingTransformers.scala.html#242086" title="(value: ParallelMatching.this.global.Constant)ParallelMatching.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)ParallelMatching.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#545773" title="Int">tag</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285474" title="(body: ParallelMatching.this.global.Tree)ParallelMatching.this.global.CaseDef">==&gt;</a> <a href="#545777" title="MatchMatrix.this.Rep">r2</a>.<a href="#540562" title="()ParallelMatching.this.global.Tree">toTree</a>
        <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544843">defaultTree</a> = <a href="#544998" title="MatchMatrix.this.context.PatternVarGroup" id="545963">remake</a><span class="delimiter">(</span><a href="#544831" title="List[MatchMatrix.this.Row]" id="545961">defaultRows</a>, includeScrut = <a title="Boolean(false)" id="545962" class="keyword">false</a><span class="delimiter">)</span>.<a href="#540562" title="()ParallelMatching.this.global.Tree">toTree</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.CaseDef" id="544844">defaultCase</a> = <a href="../ast/TreeDSL.scala.html#244812" title="(pat: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.CaseStart">CASE</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#285069" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.Ident">WILD</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45539" title="=&gt; ParallelMatching.this.global.Symbol">IntClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285474" title="(body: ParallelMatching.this.global.Tree)ParallelMatching.this.global.CaseDef">==&gt;</a> <a href="#544842" title="=&gt; ParallelMatching.this.global.Tree">defaultTree</a>

      // cond/success/failure only used if there is exactly one case.
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Apply" id="544846">cond</a>    = <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#284863" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">MEMBER_==</a> <a href="#544840" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a>.<span title="=&gt; ParallelMatching.this.global.CaseDef">head</span>.<span title="=&gt; ParallelMatching.this.global.Tree">pat</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544848">success</a> = <a href="#544840" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a>.<span title="=&gt; ParallelMatching.this.global.CaseDef">head</span>.<span title="=&gt; ParallelMatching.this.global.Tree">body</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544850">failure</a> = <a href="#544842" title="=&gt; ParallelMatching.this.global.Tree">defaultTree</a>

      // only one case becomes if/else, otherwise match
      <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="544851">tree</a><span class="delimiter">(</span><span class="delimiter">)</span> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#544840" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#544671" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
        <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">casted</a> <a href="../ast/TreeDSL.scala.html#284880" title="(cases: ParallelMatching.this.global.CaseDef*)ParallelMatching.this.global.Match">MATCH</a> <span class="delimiter">(</span><a href="#544840" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a> <span title="(elem: ParallelMatching.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.CaseDef],ParallelMatching.this.global.CaseDef,List[ParallelMatching.this.global.CaseDef]])List[ParallelMatching.this.global.CaseDef]">:+</span> <a href="#544844" title="=&gt; ParallelMatching.this.global.CaseDef">defaultCase</a>: _*<span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** mixture rule for unapply pattern
     */
    <span class="keyword">class</span> <a title="class MixUnapply extends MatchMatrix.this.RuleApplication with ScalaObject" id="540482">MixUnapply</a><a href="#540482" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="544807">pmatch</a>: <a href="#549999" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="544808">rest</a>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#540477" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="Patterns.scala.html#543526" title="(other: Any)Option[ParallelMatching.this.global.Tree]">Pattern</a><a href="#544782" title="(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree])" class="delimiter">(</a>UnApply<span class="delimiter">(</span><a href="#544781" title="ParallelMatching.this.global.Tree" id="544782">unMethod</a>, <a href="#544781" title="List[ParallelMatching.this.global.Tree]" id="544784">unArgs</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#544669" title="=&gt; ParallelMatching.this.Pattern">head</a>
      <span class="keyword">val</span> Apply<a href="#544787" title="(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree])" class="delimiter">(</a><a href="#544786" title="ParallelMatching.this.global.Tree" id="544787">unTarget</a>, _ :: <a href="#544786" title="List[ParallelMatching.this.global.Tree]" id="544789">trailing</a><span class="delimiter">)</span> = <a href="#544782" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>

      <span class="keyword">object</span> <a title="object MixUnapply.this.SameUnapplyCall" id="544791">SameUnapplyCall</a> <span title="ScalaObject" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(t: ParallelMatching.this.global.Tree)Boolean" id="546069">isSame</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="546072">t</a>: <span title="ParallelMatching.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="PatternBindings.scala.html#242505" title="(t1: ParallelMatching.this.global.Tree, t2: ParallelMatching.this.global.Tree)Boolean">isEquivalentTree</a><span class="delimiter">(</span><a href="#544787" title="=&gt; ParallelMatching.this.global.Tree">unTarget</a>, <a href="#546072" title="ParallelMatching.this.global.Tree">t</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Option[List[ParallelMatching.this.global.Tree]]" id="546070">unapply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="546087">x</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = /*tracing(&quot;SameUnapplyCall (%s vs. %s)&quot;.format(unTarget, x))*/<span class="delimiter">(</span><a href="#546087" title="ParallelMatching.this.Pattern">x</a> <span title="Option[List[ParallelMatching.this.global.Tree]]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Patterns.scala.html#543526" title="Some[List[ParallelMatching.this.global.Tree]]">Pattern</a><span class="delimiter">(</span>UnApply<span class="delimiter">(</span>Apply<span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="546097">fn</a>, _<span class="delimiter">)</span>, <a title="List[ParallelMatching.this.global.Tree]" id="546098">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546069" title="(t: ParallelMatching.this.global.Tree)Boolean">isSame</a><span class="delimiter">(</span><a href="#546097" title="ParallelMatching.this.global.Tree">fn</a><span class="delimiter">)</span> =&gt; <span title="(x: List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]">Some</span><span class="delimiter">(</span><a href="#546098" title="List[ParallelMatching.this.global.Tree]">args</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="None.type">_</span>                                                  =&gt; <span title="object None">None</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">object</span> <a title="object MixUnapply.this.SameUnapplyPattern" id="544793">SameUnapplyPattern</a> <span title="ScalaObject" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(t: ParallelMatching.this.global.Tree)Boolean" id="546114">isSame</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="546118">t</a>: <span title="ParallelMatching.this.global.Tree">Tree</span><span class="delimiter">)</span>   = <a href="PatternBindings.scala.html#242505" title="(t1: ParallelMatching.this.global.Tree, t2: ParallelMatching.this.global.Tree)Boolean">isEquivalentTree</a><span class="delimiter">(</span><a href="#544782" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>, <a href="#546118" title="ParallelMatching.this.global.Tree">t</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Boolean" id="546115">apply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="546121">x</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="#546116" title="(x: ParallelMatching.this.Pattern)Option[List[ParallelMatching.this.global.Tree]]">unapply</a><span class="delimiter">(</span><a href="#546121" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Option[List[ParallelMatching.this.global.Tree]]" id="546116">unapply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="546124">x</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = /*tracing(&quot;SameUnapplyPattern (%s vs. %s)&quot;.format(unMethod, x))*/<span class="delimiter">(</span><a href="#546124" title="ParallelMatching.this.Pattern">x</a> <span title="Option[List[ParallelMatching.this.global.Tree]]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Patterns.scala.html#543526" title="Some[List[ParallelMatching.this.global.Tree]]">Pattern</a><span class="delimiter">(</span>UnApply<span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="546130">t</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#546114" title="(t: ParallelMatching.this.global.Tree)Boolean">isSame</a><span class="delimiter">(</span><a href="#546130" title="ParallelMatching.this.global.Tree">t</a><span class="delimiter">)</span> =&gt; <span title="(x: List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]">Some</span><span class="delimiter">(</span><a href="#544784" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="None.type">_</span>                                   =&gt; <span title="object None">None</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]" id="544796">zipped</a>      = <a href="#544807" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a> <a href="#544341" title="(others: List[MatchMatrix.this.Row])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">pzip</a> <a href="#544808" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVar" id="544798">unapplyResult</a>: <a href="Matrix.scala.html#540333" title="MatchMatrix.this.context.PatternVar">PatternVar</a> =
        <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543708" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#544782" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>.<span title="=&gt; ParallelMatching.this.global.Type">tpe</span>, <a href="../transform/TypingTransformers.scala.html#242086" title="(fun: ParallelMatching.this.global.Tree, args: List[ParallelMatching.this.global.Tree])ParallelMatching.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#544787" title="=&gt; ParallelMatching.this.global.Tree">unTarget</a>, <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543690" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a> <a href="#546190" title="(x: ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]">::</a> <a href="#544789" title="=&gt; List[ParallelMatching.this.global.Tree]">trailing</a><span class="delimiter">)</span> <span title="(tp: ParallelMatching.this.global.Type)ParallelMatching.this.global.Apply">setType</span> <a href="#546177" title="ParallelMatching.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544800">cond</a>: <span title="ParallelMatching.this.global.Tree">Tree</span> = <a href="#544797" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="Matrix.scala.html#540378" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; ParallelMatching.this.global.Type">normalize</a> <span title="ParallelMatching.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="ParallelMatching.this.global.analyzer.global.Tree">TypeRef</span><span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#45547" title="=&gt; ParallelMatching.this.global.Symbol">BooleanClass</a>, _<span class="delimiter">)</span>  =&gt; <a href="#544797" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="Matrix.scala.html#540379" title="=&gt; ParallelMatching.this.global.analyzer.global.Tree">ident</a>
        <span class="keyword">case</span> <span title="ParallelMatching.this.global.Literal">TypeRef</span><span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#45203" title="=&gt; ParallelMatching.this.global.Symbol">SomeClass</a>, _<span class="delimiter">)</span>     =&gt; <a href="../ast/TreeDSL.scala.html#244784" title="=&gt; ParallelMatching.this.global.Literal">TRUE</a>
        <span class="keyword">case</span> <span title="ParallelMatching.this.global.Select">_</span>                            =&gt; <a href="../ast/TreeDSL.scala.html#244837" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Select">NOT</a><span class="delimiter">(</span><a href="#544797" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">ident</a> <a href="../ast/TreeDSL.scala.html#244848" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: ParallelMatching.this.CODE.SelectStart)ParallelMatching.this.global.Select">DOT</a> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ParallelMatching.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59178" title="=&gt; ParallelMatching.this.global.nme.NameType">isEmpty</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544802">failure</a> =
        <a href="#544673" title="(xs: List[MatchMatrix.this.Row])ParallelMatching.this.global.Tree">mkFail</a><span class="delimiter">(</span><a href="#544795" title="=&gt; List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">zipped</a>.<span title="=&gt; List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">tail</span> <span title="(p: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; Boolean)List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">filterNot</span> <span class="delimiter">(</span><a title="(ParallelMatching.this.Pattern, MatchMatrix.this.Row)" id="546235">x</a> =&gt; <a href="#546115" title="(x: ParallelMatching.this.Pattern)Boolean">SameUnapplyPattern</a><span class="delimiter">(</span><a href="#546235" title="(ParallelMatching.this.Pattern, MatchMatrix.this.Row)">x</a>.<span title="=&gt; ParallelMatching.this.Pattern">_1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</span> <a href="#546255" title="MatchMatrix.this.Row" class="delimiter">{</a> <span class="keyword">case</span> <span title="MatchMatrix.this.Row" class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="546258">pat</a>, <a title="MatchMatrix.this.Row" id="546259">r</a><span class="delimiter">)</span> =&gt; <a href="#546259" title="MatchMatrix.this.Row">r</a> <a href="#540907" title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row">insert</a> <a href="#546258" title="ParallelMatching.this.Pattern">pat</a> <span class="delimiter">}</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; (List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" id="544803">doSuccess</a>: <span title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</span>List<span class="delimiter">[</span>PatternVar<span class="delimiter">]</span>, List<span class="delimiter">[</span>PatternVar<span class="delimiter">]</span>, List<span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        // pattern variable for the unapply result of Some(x).get
        <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="546316">unMethodTypeArg</a> = <a href="#544782" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>.<span title="=&gt; ParallelMatching.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41553" title="(clazz: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type">baseType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45201" title="=&gt; ParallelMatching.this.global.Symbol">OptionClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[ParallelMatching.this.global.Type]">typeArgs</a> <span title="ParallelMatching.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.NoType.type">Nil</span>      =&gt; <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;No type argument for unapply result! &quot;)" class="string">&quot;No type argument for unapply result! &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#544782" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>.<span title="=&gt; ParallelMatching.this.global.Type">tpe</span><span class="delimiter">)</span> ; <a href="../../../reflect/internal/Types.scala.html#38827" title="object ParallelMatching.this.global.NoType">NoType</a>
          <span class="keyword">case</span> <a title="ParallelMatching.this.global.Type" id="546333">arg</a> :: _ =&gt; <a href="#546333" title="ParallelMatching.this.global.Type">arg</a>
        <span class="delimiter">}</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVar" id="546318">pv</a> = <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543708" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#546316" title="=&gt; ParallelMatching.this.global.Type">unMethodTypeArg</a>, <a title="ParallelMatching.this.global.Symbol" id="546335">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#244794" title="(lhs: ParallelMatching.this.global.Tree, op: ParallelMatching.this.global.Name, args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">fn</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244840" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#544797" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="Matrix.scala.html#540370" title="=&gt; ParallelMatching.this.global.Symbol">lhs</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ParallelMatching.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59158" title="=&gt; ParallelMatching.this.global.nme.NameType">get</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Symbol" id="546319">tuple</a> = <a href="#546317" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#540370" title="=&gt; ParallelMatching.this.global.Symbol">lhs</a>

        // at this point it's Some[T1,T2...]
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.Type]" id="546321">tpes</a>  = <a href="../../../reflect/internal/Definitions.scala.html#45259" title="(tpe: ParallelMatching.this.global.Type)List[ParallelMatching.this.global.Type]">getProductArgs</a><span class="delimiter">(</span><a href="#546319" title="=&gt; ParallelMatching.this.global.Symbol">tuple</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>

        // one pattern variable per tuple element
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[MatchMatrix.this.context.PatternVar]" id="546323">tuplePVs</a> =
          <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="546413">tpe</a>, <a title="Int" id="546414">i</a><span class="delimiter">)</span> &lt;- <a href="#546320" title="=&gt; List[ParallelMatching.this.global.Type]">tpes</a>.<a href="#546386" title="(f: ((ParallelMatching.this.global.Type, Int)) =&gt; MatchMatrix.this.context.PatternVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.global.Type, Int)],MatchMatrix.this.context.PatternVar,List[MatchMatrix.this.context.PatternVar]])List[MatchMatrix.this.context.PatternVar]">zipWithIndex</a><span class="delimiter">)</span> <span class="keyword">yield</span>
            <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543708" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#546413" title="ParallelMatching.this.global.Type">tpe</a>, <a title="ParallelMatching.this.global.Symbol" id="546416">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#244795" title="(lhs: ParallelMatching.this.global.Tree, op: ParallelMatching.this.global.Symbol, args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">fn</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244840" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#546319" title="=&gt; ParallelMatching.this.global.Symbol">tuple</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#45255" title="(z: ParallelMatching.this.global.Symbol, j: Int)ParallelMatching.this.global.Symbol">productProj</a><span class="delimiter">(</span><a href="#546319" title="=&gt; ParallelMatching.this.global.Symbol">tuple</a>, <a href="#546414" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // the filter prevents infinite unapply recursion
        <span class="keyword">def</span> <a title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]" id="546324">mkNewRows</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree]" id="546458">sameFilter</a>: <span class="delimiter">(</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="546459">dum</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#544784" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#544784" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a>.<span title="=&gt; Int">length</span> <span class="keyword">else</span> <a href="#546320" title="=&gt; List[ParallelMatching.this.global.Type]">tpes</a>.<span title="=&gt; Int">size</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="546494">pat</a>, <a title="MatchMatrix.this.Row" id="546495">r</a><span class="delimiter">)</span> &lt;- <a href="#544795" title="(f: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">zipped</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#546494" title="ParallelMatching.this.Pattern">pat</a> <span title="MatchMatrix.this.Row" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#546070" title="MatchMatrix.this.Row">SameUnapplyCall</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="546497">xs</a><span class="delimiter">)</span>  =&gt; <a href="#546495" title="MatchMatrix.this.Row">r</a>.<a href="#540910" title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">insert2</a><span class="delimiter">(</span><a href="#242450" title="(xs: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#546458" title="(v1: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]">sameFilter</a><span class="delimiter">(</span><a href="#546497" title="List[ParallelMatching.this.global.Tree]">xs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</span> <a href="Patterns.scala.html#242374" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>, <a href="#546494" title="ParallelMatching.this.Pattern">pat</a>.<a href="PatternBindings.scala.html#542836" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="MatchMatrix.this.Row">_</span>                    =&gt; <a href="#546495" title="MatchMatrix.this.Row">r</a> <a href="#540908" title="(hs: List[ParallelMatching.this.Pattern])MatchMatrix.this.Row">insert</a> <span class="delimiter">(</span><a href="Patterns.scala.html#242372" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><a href="#546459" title="Int">dum</a><span class="delimiter">)</span> <span title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</span> <a href="#546494" title="ParallelMatching.this.Pattern">pat</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // 0 is Boolean, 1 is Option[T], 2+ is Option[(T1,T2,...)]
        <a href="#544784" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a>.<span title="=&gt; Int">length</span> <span title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type, List[MatchMatrix.this.Row])" class="int">0</span>  =&gt; <span title="(_1: scala.collection.immutable.Nil.type, _2: scala.collection.immutable.Nil.type, _3: List[MatchMatrix.this.Row])(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type, List[MatchMatrix.this.Row])" class="delimiter">(</span><span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>, <a href="#546324" title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]">mkNewRows</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="546669">xs</a><span class="delimiter">)</span> =&gt; <span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="int">1</span>  =&gt; <span title="(_1: List[MatchMatrix.this.context.PatternVar], _2: List[MatchMatrix.this.context.PatternVar], _3: List[MatchMatrix.this.Row])(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</span><span title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</span><span class="delimiter">(</span><a href="#546317" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span>, <span title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</span><span class="delimiter">(</span><a href="#546317" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span>, <a href="#546324" title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]">mkNewRows</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="546694">xs</a> =&gt; <span title="(xs: ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#546694" title="List[ParallelMatching.this.global.Tree]">xs</a>.<span title="=&gt; ParallelMatching.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])">_</span>  =&gt; <span title="(_1: List[MatchMatrix.this.context.PatternVar], _2: List[MatchMatrix.this.context.PatternVar], _3: List[MatchMatrix.this.Row])(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</span><a href="#546317" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a> <a href="#546711" title="(x: MatchMatrix.this.context.PatternVar)List[MatchMatrix.this.context.PatternVar]">::</a> <a href="#546322" title="=&gt; List[MatchMatrix.this.context.PatternVar]">tuplePVs</a>, <a href="#546322" title="=&gt; List[MatchMatrix.this.context.PatternVar]">tuplePVs</a>, <a href="#546324" title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]">mkNewRows</a><span class="delimiter">(</span><a href="#546722" title="(x: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]">identity</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544805">success</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#546728" title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="#546727" title="List[MatchMatrix.this.context.PatternVar]" id="546728">squeezePVs</a>, <a href="#546727" title="List[MatchMatrix.this.context.PatternVar]" id="546729">pvs</a>, <a href="#546727" title="List[MatchMatrix.this.Row]" id="546730">rows</a><span class="delimiter">)</span> = <a href="#544803" title="=&gt; (List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])">doSuccess</a>
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="546731">srep</a> = <a href="#544674" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#546730" title="List[MatchMatrix.this.Row]">rows</a>, <a href="Matrix.scala.html#540327" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">pvs</a><span class="delimiter">)</span>.<a href="#540562" title="()ParallelMatching.this.global.Tree">toTree</a>

        <a href="MatrixAdditions.scala.html#540298" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><a href="#546728" title="List[MatchMatrix.this.context.PatternVar]">squeezePVs</a> <span title="(f: MatchMatrix.this.context.PatternVar =&gt; ParallelMatching.this.global.analyzer.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.context.PatternVar],ParallelMatching.this.global.analyzer.global.ValDef,List[ParallelMatching.this.global.Tree]])List[ParallelMatching.this.global.Tree]">map</span> <span class="delimiter">(</span><a href="#546763" title="MatchMatrix.this.context.PatternVar">_</a>.<a href="Matrix.scala.html#540381" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span>, <a href="#546731" title="ParallelMatching.this.global.Tree">srep</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="544806">tree</a><span class="delimiter">(</span><span class="delimiter">)</span> =
        <a href="MatrixAdditions.scala.html#540298" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><span title="(xs: ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]">List</span><span class="delimiter">(</span><a href="Matrix.scala.html#540307" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="#544797" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="Matrix.scala.html#540381" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#544671" title="=&gt; ParallelMatching.this.global.Tree">codegen</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Handle Sequence patterns (including Star patterns.)
     *  Note: pivot == head, just better typed.
     */
    <span class="keyword">sealed</span> <span class="keyword">class</span> <a title="class MixSequence extends MatchMatrix.this.RuleApplication with ScalaObject" id="540483">MixSequence</a><a href="#540483" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="544770">pmatch</a>: <a href="#549999" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="544771">rest</a>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a>, <a title="ParallelMatching.this.SequencePattern" id="544772">pivot</a>: <a href="Patterns.scala.html#242417" title="ParallelMatching.this.SequencePattern">SequencePattern</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#540477" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <a href="../Global.scala.html#186186" title="(requirement: Boolean)Unit">require</a><span class="delimiter">(</span><a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#544669" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#542854" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="544753">hasStar</a> = <a href="#544772" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#544738" title="=&gt; Boolean">hasStar</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Int" id="544754">pivotLen</a>    = <a href="#544772" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#544742" title="=&gt; Int">nonStarLength</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="544755">seqDummies</a>  = <a href="Patterns.scala.html#242372" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><a href="#544772" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#544732" title="=&gt; List[ParallelMatching.this.global.Tree]">elems</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

      // Should the given pattern join the expanded pivot in the success matrix? If so,
      // this partial function will be defined for the pattern, and the result of the apply
      // is the expanded sequence of new patterns.
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.runtime.AbstractPartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]" id="544757">successMatrixFn</a> = <a href="#546854" title="scala.runtime.AbstractPartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]{}" class="keyword">new</a> <a title="anonymous class $anon extends scala.runtime.AbstractPartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]" id="546854">scala</a>.runtime.<span title="scala.runtime.AbstractPartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]">AbstractPartialFunction</span><span class="delimiter">[</span>Pattern, List<span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: ParallelMatching.this.SequenceLikePattern)Boolean" id="546856">seqIsDefinedAt</a><span class="delimiter">(</span><a title="ParallelMatching.this.SequenceLikePattern" id="546862">x</a>: <a href="Patterns.scala.html#242416" title="ParallelMatching.this.SequenceLikePattern">SequenceLikePattern</a><span class="delimiter">)</span> = <span title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</span><a href="#544753" title="=&gt; Boolean">hasStar</a>, <a href="#546862" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544738" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(true)" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>   =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>  =&gt; <a href="#544754" title="=&gt; Int">pivotLen</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#546862" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544742" title="=&gt; Int">nonStarLength</a>
          <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>  =&gt; <a href="#544754" title="=&gt; Int">pivotLen</a> <span title="(x: Int)Boolean">&gt;=</span> <a href="#546862" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544742" title="=&gt; Int">nonStarLength</a>
          <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> =&gt; <a href="#544754" title="=&gt; Int">pivotLen</a> <span title="(x: Int)Boolean">==</span> <a href="#546862" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544742" title="=&gt; Int">nonStarLength</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(pat: ParallelMatching.this.Pattern)Boolean" id="546857">_isDefinedAt</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="546859">pat</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="#546859" title="ParallelMatching.this.Pattern">pat</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="546861">x</a>: <a href="Patterns.scala.html#242416" title="ParallelMatching.this.SequenceLikePattern">SequenceLikePattern</a> =&gt; <a href="#546856" title="(x: ParallelMatching.this.SequenceLikePattern)Boolean">seqIsDefinedAt</a><span class="delimiter">(</span><a href="#546861" title="ParallelMatching.this.SequenceLikePattern">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean(true)">WildcardPattern</span><span class="delimiter">(</span><span class="delimiter">)</span>      =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span>                      =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(pat: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]" id="546858">apply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="546932">pat</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>: <span title="List[ParallelMatching.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#546932" title="ParallelMatching.this.Pattern">pat</a> <span title="List[ParallelMatching.this.Pattern]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="List[ParallelMatching.this.Pattern]" id="546935">x</a>: <a href="Patterns.scala.html#242416" title="ParallelMatching.this.SequenceLikePattern">SequenceLikePattern</a> =&gt;
            <span class="keyword">def</span> <a title="=&gt; Boolean" id="546936">isSameLength</a>  = <a href="#544754" title="=&gt; Int">pivotLen</a> <span title="(x: Int)Boolean">==</span> <a href="#546935" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544742" title="=&gt; Int">nonStarLength</a>
            <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="546937">rebound</a>       = <a href="#546935" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544741" title="=&gt; List[ParallelMatching.this.Pattern]">nonStarPatterns</a> <span title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</span> <span class="delimiter">(</span><a href="#546935" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544739" title="=&gt; List[ParallelMatching.this.Pattern]">elemPatterns</a>.<span title="=&gt; ParallelMatching.this.Pattern">last</span> <a href="PatternBindings.scala.html#542837" title="(t: ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern">rebindTo</a> <a href="../ast/TreeDSL.scala.html#285069" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.Ident">WILD</a><span class="delimiter">(</span><a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543700" title="=&gt; ParallelMatching.this.global.Type">seqType</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span title="(_1: Boolean, _2: Boolean, _3: Boolean)(Boolean, Boolean, Boolean)" class="delimiter">(</span><a href="#544772" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#544738" title="=&gt; Boolean">hasStar</a>, <a href="#546935" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544738" title="=&gt; Boolean">hasStar</a>, <a href="#546936" title="=&gt; Boolean">isSameLength</a><span class="delimiter">)</span> <span title="List[ParallelMatching.this.Pattern]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>   =&gt; <a href="#546937" title="=&gt; List[ParallelMatching.this.Pattern]">rebound</a> <span title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</span> <a href="Patterns.scala.html#242374" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>  =&gt; <span class="delimiter">(</span><a href="#544755" title="=&gt; List[ParallelMatching.this.Pattern]">seqDummies</a> <span title="(n: Int)List[ParallelMatching.this.Pattern]">drop</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</span> <a href="#546935" title="ParallelMatching.this.SequenceLikePattern">x</a>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>  =&gt; <a href="#546935" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544739" title="=&gt; List[ParallelMatching.this.Pattern]">elemPatterns</a> <span title="(that: scala.collection.GenTraversableOnce[ParallelMatching.this.Pattern])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">++</span> <span title="(xs: ParallelMatching.this.Pattern*)List[ParallelMatching.this.Pattern]">List</span><span class="delimiter">(</span><a href="Patterns.scala.html#242376" title="=&gt; ParallelMatching.this.Pattern">NilPattern</a>, <a href="Patterns.scala.html#242374" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]" class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>  =&gt; <a href="#546937" title="=&gt; List[ParallelMatching.this.Pattern]">rebound</a>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]" class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> =&gt; <a href="#546935" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544739" title="=&gt; List[ParallelMatching.this.Pattern]">elemPatterns</a> <span title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</span> <a href="Patterns.scala.html#242374" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]">_</span>                    =&gt; <a href="#544755" title="=&gt; List[ParallelMatching.this.Pattern]">seqDummies</a>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]">_</span>  =&gt; <a href="#544755" title="=&gt; List[ParallelMatching.this.Pattern]">seqDummies</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      // Should the given pattern be in the fail matrix? This is true of any sequences
      // as long as the result of the length test on the pivot doesn't make it impossible:
      // for instance if neither sequence is right ignoring and they are of different
      // lengths, the later one cannot match since its length must be wrong.
      <span class="keyword">def</span> <a title="(c: ParallelMatching.this.Pattern)Boolean" id="544758">failureMatrixFn</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="547373">c</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#544772" title="ParallelMatching.this.SequencePattern">pivot</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#547373" title="ParallelMatching.this.Pattern">c</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#547373" title="ParallelMatching.this.Pattern">c</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="547376">x</a>: <a href="Patterns.scala.html#242416" title="ParallelMatching.this.SequenceLikePattern">SequenceLikePattern</a> =&gt;
          <span title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</span><a href="#544753" title="=&gt; Boolean">hasStar</a>, <a href="#547376" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544738" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean(true)" class="delimiter">(</span>_, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>      =&gt; <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>  =&gt; <a href="#544754" title="=&gt; Int">pivotLen</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#547376" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544742" title="=&gt; Int">nonStarLength</a>
            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> =&gt; <a href="#544754" title="=&gt; Int">pivotLen</a> <span title="(x: Int)Boolean">!=</span> <a href="#547376" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#544742" title="=&gt; Int">nonStarLength</a>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Boolean(true)">WildcardPattern</span><span class="delimiter">(</span><span class="delimiter">)</span>      =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span>                      =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>

      // divide the remaining rows into success/failure branches, expanding subsequences of patterns
      <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="544759">successRows</a> = <a href="#544770" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a> <a href="#544341" title="(others: List[MatchMatrix.this.Row])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">pzip</a> <a href="#544771" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <span title="(pf: PartialFunction[(ParallelMatching.this.Pattern, MatchMatrix.this.Row),MatchMatrix.this.Row])(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">collect</span> <a href="#546849" title="MatchMatrix.this.Row" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="MatchMatrix.this.Row" class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="546852">c</a>, <a title="MatchMatrix.this.Row" id="546853">row</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#544756" title="=&gt; scala.runtime.AbstractPartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]">successMatrixFn</a> <span title="(x: ParallelMatching.this.Pattern)Boolean">isDefinedAt</span> <a href="#546852" title="ParallelMatching.this.Pattern">c</a> =&gt; <a href="#546853" title="MatchMatrix.this.Row">row</a> <a href="#540908" title="(hs: List[ParallelMatching.this.Pattern])MatchMatrix.this.Row">insert</a> <a href="#544756" title="(v1: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">successMatrixFn</a><span class="delimiter">(</span><a href="#546852" title="ParallelMatching.this.Pattern">c</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="544761">failRows</a> = <a href="#544770" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a> <a href="#544341" title="(others: List[MatchMatrix.this.Row])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">pzip</a> <a href="#544771" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <span title="(pf: PartialFunction[(ParallelMatching.this.Pattern, MatchMatrix.this.Row),MatchMatrix.this.Row])(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">collect</span> <a href="#547368" title="MatchMatrix.this.Row" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="MatchMatrix.this.Row" class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="547371">c</a>, <a title="MatchMatrix.this.Row" id="547372">row</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#544758" title="(c: ParallelMatching.this.Pattern)Boolean">failureMatrixFn</a><span class="delimiter">(</span><a href="#547371" title="ParallelMatching.this.Pattern">c</a><span class="delimiter">)</span> =&gt; <a href="#547372" title="MatchMatrix.this.Row">row</a> <a href="#540907" title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row">insert</a> <a href="#547371" title="ParallelMatching.this.Pattern">c</a>
      <span class="delimiter">}</span>

      // the discrimination test for sequences is a call to lengthCompare.  Note that
      // this logic must be fully consistent wiith successMatrixFn and failureMatrixFn above:
      // any inconsistency will (and frequently has) manifested as pattern matcher crashes.
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544764">cond</a> = <span class="delimiter">{</span>
        // the method call symbol
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Symbol" id="547436">methodOp</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a>                = <a href="#544669" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#542854" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41545" title="(name: ParallelMatching.this.global.Name)ParallelMatching.this.global.Symbol">member</a> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ParallelMatching.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59190" title="=&gt; ParallelMatching.this.global.nme.NameType">lengthCompare</a>

        // the comparison to perform.  If the pivot is right ignoring, then a scrutinee sequence
        // of &gt;= pivot length could match it; otherwise it must be exactly equal.
        <span class="keyword">val</span> <a title="(ParallelMatching.this.global.Tree, ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree" id="547437">compareOp</a>: <span class="delimiter">(</span>Tree, Tree<span class="delimiter">)</span> =&gt; Tree = <span title="(ParallelMatching.this.global.Tree, ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#544753" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">_</a> <a href="../ast/TreeDSL.scala.html#284873" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">INT_&gt;=</a> <a href="#547445" title="ParallelMatching.this.global.Tree">_</a> <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">_</a> <a href="../ast/TreeDSL.scala.html#284874" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">INT_==</a> <a href="#547455" title="ParallelMatching.this.global.Tree">_</a>

        // scrutinee.lengthCompare(pivotLength) [== | &gt;=] 0
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree" id="547438">compareFn</a>: Tree =&gt; Tree         = <span class="delimiter">(</span>t: <span title="ParallelMatching.this.global.Tree">Tree</span><span class="delimiter">)</span> =&gt; <a href="#547437" title="(v1: ParallelMatching.this.global.Tree, v2: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">compareOp</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">t</a> <a href="../ast/TreeDSL.scala.html#284848" title="(args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">DOT</a> <a href="#547436" title="ParallelMatching.this.global.Symbol">methodOp</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#284810" title="(x: Any)ParallelMatching.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#544754" title="=&gt; Int">pivotLen</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#244788" title="=&gt; ParallelMatching.this.global.Literal">ZERO</a><span class="delimiter">)</span>

        // wrapping in a null check on the scrutinee
        // XXX this needs to use the logic in &quot;def condition&quot;
        <a href="../ast/TreeDSL.scala.html#244776" title="(f: ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree, ifNull: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree">nullSafe</a><span title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree" class="delimiter">(</span><a href="#547438" title="ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree">compareFn</a>, <a href="../ast/TreeDSL.scala.html#244786" title="=&gt; ParallelMatching.this.global.Literal">FALSE</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543690" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a><span class="delimiter">)</span>
        // condition(head.tpe, scrut.id, head.boundVariables.nonEmpty)
      <span class="delimiter">}</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544766">success</a> = <span class="delimiter">{</span>
        // one pattern var per sequence element up to elemCount, and one more for the rest of the sequence
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[MatchMatrix.this.context.PatternVar]" id="547484">pvs</a> = <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a> <a href="#543705" title="(count: Int)List[MatchMatrix.this.context.PatternVar]">createSequenceVars</a> <a href="#544754" title="=&gt; Int">pivotLen</a>

        <a href="MatrixAdditions.scala.html#540298" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><a href="#547483" title="=&gt; List[MatchMatrix.this.context.PatternVar]">pvs</a> <span title="(f: MatchMatrix.this.context.PatternVar =&gt; ParallelMatching.this.global.analyzer.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.context.PatternVar],ParallelMatching.this.global.analyzer.global.ValDef,List[ParallelMatching.this.global.Tree]])List[ParallelMatching.this.global.Tree]">map</span> <span class="delimiter">(</span><a href="#547501" title="MatchMatrix.this.context.PatternVar">_</a>.<a href="Matrix.scala.html#540381" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span>, <a href="#544674" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#544759" title="=&gt; List[MatchMatrix.this.Row]">successRows</a>, <a href="Matrix.scala.html#540327" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">pvs</a>, <a href="#544753" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span>.<a href="#540562" title="()ParallelMatching.this.global.Tree">toTree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544768">failure</a>  = <a href="#544674" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#544761" title="=&gt; List[MatchMatrix.this.Row]">failRows</a><span class="delimiter">)</span>.<a href="#540562" title="()ParallelMatching.this.global.Tree">toTree</a>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="544769">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="ParallelMatching.this.global.Tree">Tree</span> = <a href="#544671" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class MixEquals extends MatchMatrix.this.RuleApplication with ScalaObject" id="540484">MixEquals</a><a href="#540484" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="544721">pmatch</a>: <a href="#549999" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="544722">rest</a>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#540477" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.gen.global.Tree" id="544706">rhs</a> =
        <a href="PatternBindings.scala.html#242503" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.Type">decodedEqualsType</a><span class="delimiter">(</span><a href="#544669" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#542854" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="ParallelMatching.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.gen.global.Tree">SingleType</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="547536">pre</a>, <a title="ParallelMatching.this.global.Symbol" id="547537">sym</a><span class="delimiter">)</span> =&gt; <a href="../ast/TreeDSL.scala.html#244842" title="(pre: ParallelMatching.this.global.Type, sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="#547536" title="ParallelMatching.this.global.Type">pre</a>, <a href="#547537" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Tree">PseudoType</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="547570">o</a><span class="delimiter">)</span>        =&gt; <a href="#547570" title="ParallelMatching.this.global.Tree">o</a>
        <span class="delimiter">}</span>
      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.LabelDef" id="544708">labelDef</a> =
        <a href="#540468" title="(namePrefix: String, body: ParallelMatching.this.global.Tree, params: List[ParallelMatching.this.global.Symbol], restpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.LabelDef">createLabelDef</a><span class="delimiter">(</span><span title="String(&quot;fail%&quot;)" class="string">&quot;fail%&quot;</span>, <a href="#544674" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><span title="(_1: List[MatchMatrix.this.Row], _2: List[ParallelMatching.this.Pattern])(List[MatchMatrix.this.Row], List[ParallelMatching.this.Pattern])" class="delimiter">(</span><a href="#544722" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<span title="=&gt; List[MatchMatrix.this.Row]">tail</span>, <a href="#544721" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#544333" title="=&gt; List[ParallelMatching.this.Pattern]">tail</a><span class="delimiter">)</span>.<span title="(implicit w1: List[MatchMatrix.this.Row] =&gt; scala.collection.TraversableLike[MatchMatrix.this.Row,List[MatchMatrix.this.Row]], implicit w2: List[ParallelMatching.this.Pattern] =&gt; scala.collection.IterableLike[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])(List[MatchMatrix.this.Row], List[ParallelMatching.this.Pattern])#Zipped[List[MatchMatrix.this.Row],MatchMatrix.this.Row,List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern]">zipped</span> <span title="(f: (MatchMatrix.this.Row, ParallelMatching.this.Pattern) =&gt; MatchMatrix.this.Row)(implicit cbf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</span> <span class="delimiter">(</span><a href="#547629" title="MatchMatrix.this.Row">_</a> <a href="#540907" title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row">insert</a> <a href="#547630" title="ParallelMatching.this.Pattern">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#540562" title="()ParallelMatching.this.global.Tree">toTree</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544710">cond</a>       = <a href="Matrix.scala.html#540307" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">rhs</a> <a href="../ast/TreeDSL.scala.html#284863" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">MEMBER_==</a> <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543690" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Row" id="544712">successOne</a> = <a href="#544722" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<span title="=&gt; MatchMatrix.this.Row">head</span>.<a href="#540910" title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">insert2</a><span class="delimiter">(</span><span title="(xs: ParallelMatching.this.WildcardPattern*)List[ParallelMatching.this.WildcardPattern]">List</span><span class="delimiter">(</span><a href="Patterns.scala.html#242374" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a><span class="delimiter">)</span>, <a href="#544669" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="PatternBindings.scala.html#542836" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Row" id="544714">successTwo</a> = <a href="#549962" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">Row</a><span class="delimiter">(</span><a href="Patterns.scala.html#242372" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">+</span> <a href="#544722" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#543668" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#541338" title="=&gt; Int">size</a><span class="delimiter">)</span>, <a href="PatternBindings.scala.html#242517" title="=&gt; ParallelMatching.this.Bindings">NoBinding</a>, <a href="../transform/TypingTransformers.scala.html#242086" title="object ParallelMatching.this.global.EmptyTree">EmptyTree</a>, <a href="#540467" title="(theLabel: ParallelMatching.this.global.Symbol)Int">createShortCut</a><span class="delimiter">(</span><a href="#544707" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>.<span title="=&gt; ParallelMatching.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544716">success</a>    = <a href="#544674" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><span title="(xs: MatchMatrix.this.Row*)List[MatchMatrix.this.Row]">List</span><span class="delimiter">(</span><a href="#544711" title="=&gt; MatchMatrix.this.Row">successOne</a>, <a href="#544713" title="=&gt; MatchMatrix.this.Row">successTwo</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#540562" title="()ParallelMatching.this.global.Tree">toTree</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.LabelDef" id="544718">failure</a>    = <a href="#544707" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="544719">tree</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#544671" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="544720">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;MixEquals(%s == %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#544669" title="=&gt; ParallelMatching.this.Pattern">head</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Mixture rule for type tests.
     *  moreSpecific: more specific patterns
     *      subsumed: more general patterns (subsuming current), rows index and subpatterns
     *     remaining: remaining, rows index and pattern
     */
    <span class="keyword">class</span> <a title="class MixTypes extends MatchMatrix.this.RuleApplication with ScalaObject" id="540485">MixTypes</a><a href="#540485" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="544897">pmatch</a>: <a href="#549999" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="544898">rest</a>: <a href="#549898" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#540477" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      case <span class="keyword">class</span> <a title="class Yes extends Object with ScalaObject with Product with Serializable" id="548586">Yes</a><a href="#548586" title="ScalaObject" class="delimiter">(</a><a title="Int" id="547823">bx</a>: <span title="Int">Int</span>, <a title="ParallelMatching.this.Pattern" id="547824">moreSpecific</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a>, <a title="List[ParallelMatching.this.Pattern]" id="547825">subsumed</a>: <span title="List[ParallelMatching.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span>
      case <span class="keyword">class</span> <a title="class No extends Object with ScalaObject with Product with Serializable" id="548582">No</a><a href="#548582" title="ScalaObject" class="delimiter">(</a><a title="Int" id="547848">bx</a>: <span title="Int">Int</span>, <a title="ParallelMatching.this.Pattern" id="547849">remaining</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#544868" title="(List[MixTypes.this.Yes], List[MixTypes.this.No])" class="delimiter">(</a><a href="#544867" title="List[MixTypes.this.Yes]" id="544868">yeses</a>, <a href="#544867" title="List[MixTypes.this.No]" id="544870">noes</a><span class="delimiter">)</span> = <span title="(List[MixTypes.this.Yes], List[MixTypes.this.No]) @unchecked" class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]" id="547695">_ys</a> = <span title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]">ListBuffer</span><span class="delimiter">[</span>Yes<span class="delimiter">]</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[MixTypes.this.No]" id="547696">_ns</a> = <span title="scala.collection.mutable.ListBuffer[MixTypes.this.No]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[MixTypes.this.No]">ListBuffer</span><span class="delimiter">[</span>No<span class="delimiter">]</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="547739">pattern</a>, <a title="Int" id="547740">j</a><span class="delimiter">)</span> &lt;- <a href="#544897" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#544340" title="()List[(ParallelMatching.this.Pattern, Int)]">pzip</a><a href="#547710" title="(f: ((ParallelMatching.this.Pattern, Int)) =&gt; Option[scala.collection.mutable.ListBuffer[MixTypes.this.No]])Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // scrutinee, head of pattern group
          <span class="keyword">val</span> <a href="#547742" title="(ParallelMatching.this.global.Type, ParallelMatching.this.global.Type)" class="delimiter">(</a><a href="#547741" title="ParallelMatching.this.global.Type" id="547742">s</a>, <a href="#547741" title="ParallelMatching.this.global.Type" id="547743">p</a><span class="delimiter">)</span> = <span title="(_1: ParallelMatching.this.global.Type, _2: ParallelMatching.this.global.Type)(ParallelMatching.this.global.Type, ParallelMatching.this.global.Type)" class="delimiter">(</span><a href="#547739" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#542854" title="=&gt; ParallelMatching.this.global.Type">tpe</a>, <a href="#544669" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#542850" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="=&gt; Boolean" id="547744">isEquivalent</a>  = <a href="#544669" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#542850" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#547739" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#542854" title="=&gt; ParallelMatching.this.global.Type">tpe</a>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="547745">isObjectTest</a>  = <a href="#547739" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#542858" title="=&gt; Boolean">isObject</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#547743" title="ParallelMatching.this.global.Type">p</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#547739" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#542850" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="=&gt; Boolean" id="547746">sMatchesP</a> = <a href="PatternBindings.scala.html#242504" title="(arg1: ParallelMatching.this.global.Type, arg2: ParallelMatching.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#547742" title="ParallelMatching.this.global.Type">s</a>, <a href="#547743" title="ParallelMatching.this.global.Type">p</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="547747">pMatchesS</a> = <a href="PatternBindings.scala.html#242504" title="(arg1: ParallelMatching.this.global.Type, arg2: ParallelMatching.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#547743" title="ParallelMatching.this.global.Type">p</a>, <a href="#547742" title="ParallelMatching.this.global.Type">s</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(yes: ParallelMatching.this.Pattern)ParallelMatching.this.Pattern" id="547748">ifEquiv</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="547801">yes</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a> = <span title="ParallelMatching.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#547744" title="=&gt; Boolean">isEquivalent</a><span class="delimiter">)</span> <a href="#547801" title="ParallelMatching.this.Pattern">yes</a> <span class="keyword">else</span> <a href="#547739" title="ParallelMatching.this.Pattern">pattern</a>

          <span class="keyword">def</span> <a title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]" id="547749">passl</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="547804">p</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a> = <a href="Patterns.scala.html#242374" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>, <a title="List[ParallelMatching.this.Pattern]" id="547805">ps</a>: <span title="List[ParallelMatching.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#544897" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#544338" title="=&gt; List[ParallelMatching.this.Pattern]">dummies</a><span class="delimiter">)</span> = <span title="(x: MixTypes.this.Yes)Some[MixTypes.this.Yes]">Some</span><span class="delimiter">(</span><a href="#548586" title="(bx: Int, moreSpecific: ParallelMatching.this.Pattern, subsumed: List[ParallelMatching.this.Pattern])MixTypes.this.Yes">Yes</a><span class="delimiter">(</span><a href="#547740" title="Int">j</a>, <a href="#547804" title="ParallelMatching.this.Pattern">p</a>, <a href="#547805" title="List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="()Some[MixTypes.this.No]" id="547750">passr</a><span class="delimiter">(</span><span class="delimiter">)</span>                                                           = <span title="(x: MixTypes.this.No)Some[MixTypes.this.No]">Some</span><span class="delimiter">(</span> <a href="#548582" title="(bx: Int, remaining: ParallelMatching.this.Pattern)MixTypes.this.No">No</a><span class="delimiter">(</span><a href="#547740" title="Int">j</a>, <a href="#547739" title="ParallelMatching.this.Pattern">pattern</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(pp: ParallelMatching.this.global.Tree)Some[MixTypes.this.Yes]" id="547751">typed</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="547856">pp</a>: <span title="ParallelMatching.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#547749" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><a href="#547748" title="(yes: ParallelMatching.this.Pattern)ParallelMatching.this.Pattern">ifEquiv</a><span class="delimiter">(</span><a href="Patterns.scala.html#543525" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#547856" title="ParallelMatching.this.global.Tree">pp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="()Some[MixTypes.this.Yes]" id="547752">subs</a><span class="delimiter">(</span><span class="delimiter">)</span>          = <a href="#547749" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><a href="#547748" title="(yes: ParallelMatching.this.Pattern)ParallelMatching.this.Pattern">ifEquiv</a><span class="delimiter">(</span><a href="Patterns.scala.html#242374" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a><span class="delimiter">)</span>, <a href="#547739" title="ParallelMatching.this.Pattern">pattern</a> <a href="Patterns.scala.html#542852" title="(pm: ParallelMatching.this.MatchMatrix#PatternMatch)List[ParallelMatching.this.Pattern]">subpatterns</a> <a href="#544897" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a href="#547754" title="(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="delimiter">(</a><a href="#547753" title="Option[MixTypes.this.Yes]" id="547754">oneY</a>, <a href="#547753" title="Option[MixTypes.this.No]" id="547755">oneN</a><span class="delimiter">)</span> = <a href="#547739" title="ParallelMatching.this.Pattern">pattern</a> <span title="(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="Patterns.scala.html#543526" title="(None.type, Some[MixTypes.this.No])">Pattern</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#284811" title="(x: Any)Option[Any]">LIT</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#547743" title="ParallelMatching.this.global.Type">p</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#547742" title="ParallelMatching.this.global.Type">s</a><span class="delimiter">)</span>       =&gt; <span title="(_1: None.type, _2: Some[MixTypes.this.No])(None.type, Some[MixTypes.this.No])" class="delimiter">(</span><span title="object None">None</span>, <a href="#547750" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>      // (1)
            <span class="keyword">case</span> <a title="(Some[MixTypes.this.Yes], None.type)" id="547871">x</a> <span class="keyword">if</span> <a href="#547745" title="=&gt; Boolean">isObjectTest</a>                      =&gt; <span title="(_1: Some[MixTypes.this.Yes], _2: None.type)(Some[MixTypes.this.Yes], None.type)" class="delimiter">(</span><a href="#547749" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span>    // (2)
            <span class="keyword">case</span> <a href="Patterns.scala.html#543526" title="(Some[MixTypes.this.Yes], None.type)">Pattern</a><span class="delimiter">(</span>Typed<span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="547881">pp</a>, _<span class="delimiter">)</span><span class="delimiter">)</span>     <span class="keyword">if</span> <a href="#547746" title="=&gt; Boolean">sMatchesP</a> =&gt; <span title="(_1: Some[MixTypes.this.Yes], _2: None.type)(Some[MixTypes.this.Yes], None.type)" class="delimiter">(</span><a href="#547751" title="(pp: ParallelMatching.this.global.Tree)Some[MixTypes.this.Yes]">typed</a><span class="delimiter">(</span><a href="#547881" title="ParallelMatching.this.global.Tree">pp</a><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span>  // (4)
            // The next line used to be this which &quot;fixed&quot; 1697 but introduced
            // numerous regressions including #3136.
            // case Pattern(_: UnApply, _)              =&gt; (passl(), passr)
            <span class="keyword">case</span> <a href="Patterns.scala.html#543526" title="(None.type, Some[MixTypes.this.No])">Pattern</a><span class="delimiter">(</span>_: <span title="ParallelMatching.this.global.UnApply">UnApply</span><span class="delimiter">)</span>                    =&gt; <span title="(_1: None.type, _2: Some[MixTypes.this.No])(None.type, Some[MixTypes.this.No])" class="delimiter">(</span><span title="object None">None</span>, <a href="#547750" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="(Some[MixTypes.this.Yes], None.type)" id="547895">x</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#547895" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#542849" title="=&gt; Boolean">isDefault</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#547746" title="=&gt; Boolean">sMatchesP</a>         =&gt; <span title="(_1: Some[MixTypes.this.Yes], _2: None.type)(Some[MixTypes.this.Yes], None.type)" class="delimiter">(</span><a href="#547752" title="()Some[MixTypes.this.Yes]">subs</a><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="(Some[MixTypes.this.Yes], Some[MixTypes.this.No])" id="547902">x</a> <span class="keyword">if</span>  <a href="#547902" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#542849" title="=&gt; Boolean">isDefault</a> <span title="(x: Boolean)Boolean">||</span> <a href="#547747" title="=&gt; Boolean">pMatchesS</a>         =&gt; <span title="(_1: Some[MixTypes.this.Yes], _2: Some[MixTypes.this.No])(Some[MixTypes.this.Yes], Some[MixTypes.this.No])" class="delimiter">(</span><a href="#547749" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#547750" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(None.type, Some[MixTypes.this.No])">_</span>                                      =&gt; <span title="(_1: None.type, _2: Some[MixTypes.this.No])(None.type, Some[MixTypes.this.No])" class="delimiter">(</span><span title="object None">None</span>, <a href="#547750" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#547754" title="Option[MixTypes.this.Yes]">oneY</a> <span title="(f: MixTypes.this.Yes =&gt; scala.collection.mutable.ListBuffer[MixTypes.this.Yes])Option[scala.collection.mutable.ListBuffer[MixTypes.this.Yes]]">map</span> <span class="delimiter">(</span><a href="#547695" title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]">_ys</a> <a href="#547975" title="(x: MixTypes.this.Yes)_ys.type">+=</a><span class="delimiter">)</span>
          <a href="#547755" title="Option[MixTypes.this.No]">oneN</a> <span title="(f: MixTypes.this.No =&gt; scala.collection.mutable.ListBuffer[MixTypes.this.No])Option[scala.collection.mutable.ListBuffer[MixTypes.this.No]]">map</span> <span class="delimiter">(</span><a href="#547696" title="scala.collection.mutable.ListBuffer[MixTypes.this.No]">_ns</a> <a href="#547992" title="(x: MixTypes.this.No)_ns.type">+=</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="(_1: List[MixTypes.this.Yes], _2: List[MixTypes.this.No])(List[MixTypes.this.Yes], List[MixTypes.this.No])" class="delimiter">(</span><a href="#547695" title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]">_ys</a>.<span title="=&gt; List[MixTypes.this.Yes]">toList</span>, <a href="#547696" title="scala.collection.mutable.ListBuffer[MixTypes.this.No]">_ns</a>.<span title="=&gt; List[MixTypes.this.No]">toList</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[ParallelMatching.this.Pattern]" id="544872">moreSpecific</a> = <a href="#544868" title="=&gt; List[MixTypes.this.Yes]">yeses</a> <span title="(f: MixTypes.this.Yes =&gt; ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.Yes],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">map</span> <span class="delimiter">(</span><a href="#548033" title="MixTypes.this.Yes">_</a>.<a href="#547824" title="=&gt; ParallelMatching.this.Pattern">moreSpecific</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[(Int, List[ParallelMatching.this.Pattern])]" id="544874">subsumed</a> = <a href="#544868" title="=&gt; List[MixTypes.this.Yes]">yeses</a> <span title="(f: MixTypes.this.Yes =&gt; (Int, List[ParallelMatching.this.Pattern]))(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.Yes],(Int, List[ParallelMatching.this.Pattern]),List[(Int, List[ParallelMatching.this.Pattern])]])List[(Int, List[ParallelMatching.this.Pattern])]">map</span> <span class="delimiter">(</span><a title="MixTypes.this.Yes" id="548071">x</a> =&gt; <span title="(_1: Int, _2: List[ParallelMatching.this.Pattern])(Int, List[ParallelMatching.this.Pattern])" class="delimiter">(</span><a href="#548071" title="MixTypes.this.Yes">x</a>.<a href="#547823" title="=&gt; Int">bx</a>, <a href="#548071" title="MixTypes.this.Yes">x</a>.<a href="#547825" title="=&gt; List[ParallelMatching.this.Pattern]">subsumed</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[(Int, ParallelMatching.this.Pattern)]" id="544876">remaining</a> = <a href="#544870" title="=&gt; List[MixTypes.this.No]">noes</a> <span title="(f: MixTypes.this.No =&gt; (Int, ParallelMatching.this.Pattern))(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.No],(Int, ParallelMatching.this.Pattern),List[(Int, ParallelMatching.this.Pattern)]])List[(Int, ParallelMatching.this.Pattern)]">map</span> <span class="delimiter">(</span><a title="MixTypes.this.No" id="548121">x</a> =&gt; <span title="(_1: Int, _2: ParallelMatching.this.Pattern)(Int, ParallelMatching.this.Pattern)" class="delimiter">(</span><a href="#548121" title="MixTypes.this.No">x</a>.<a href="#547848" title="=&gt; Int">bx</a>, <a href="#548121" title="MixTypes.this.No">x</a>.<a href="#547849" title="=&gt; ParallelMatching.this.Pattern">remaining</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[(Int, List[ParallelMatching.this.Pattern])]" id="544878">mkZipped</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span>Yes<span class="delimiter">(</span><a title="Int" id="548312">j</a>, <a title="ParallelMatching.this.Pattern" id="548313">moreSpecific</a>, <a title="List[ParallelMatching.this.Pattern]" id="548314">subsumed</a><span class="delimiter">)</span> &lt;- <a href="#544868" title="(f: MixTypes.this.Yes =&gt; (Int, List[ParallelMatching.this.Pattern]))(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.Yes],(Int, List[ParallelMatching.this.Pattern]),List[(Int, List[ParallelMatching.this.Pattern])]])List[(Int, List[ParallelMatching.this.Pattern])]">yeses</a><span class="delimiter">)</span> <span class="keyword">yield</span>
          <a href="#548312" title="(x: Int)ArrowAssoc[Int]">j</a> <span title="(y: List[ParallelMatching.this.Pattern])(Int, List[ParallelMatching.this.Pattern])">-&gt;</span> <span class="delimiter">(</span><a href="#548313" title="ParallelMatching.this.Pattern">moreSpecific</a> <a href="#548330" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <a href="#548314" title="List[ParallelMatching.this.Pattern]">subsumed</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Scrutinee" id="544880">casted</a> = <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a> <a href="#543709" title="(headType: ParallelMatching.this.global.Type)MatchMatrix.this.Scrutinee">castedTo</a> <a href="#544897" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#544335" title="=&gt; ParallelMatching.this.global.Type">headType</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544882">cond</a>   = <a href="#540500" title="(tpe: ParallelMatching.this.global.Type, scrut: MatchMatrix.this.Scrutinee, isBound: Boolean)ParallelMatching.this.global.Tree">condition</a><span class="delimiter">(</span><a href="#544879" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a>, <a href="#544665" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#544669" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="PatternBindings.scala.html#542836" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="544883">isAnyMoreSpecific</a> = <a href="#544868" title="=&gt; List[MixTypes.this.Yes]">yeses</a> <span title="(p: MixTypes.this.Yes =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="MixTypes.this.Yes" id="548388">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#548388" title="MixTypes.this.Yes">x</a>.<a href="#547824" title="=&gt; ParallelMatching.this.Pattern">moreSpecific</a>.<a href="Patterns.scala.html#542855" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#544887" title="(List[(Int, List[ParallelMatching.this.Pattern])], List[MatchMatrix.this.context.PatternVar])" id="544885" class="delimiter">(</a><a href="#544884" title="List[(Int, List[ParallelMatching.this.Pattern])]" id="544887">subtests</a>, <a href="#544884" title="List[MatchMatrix.this.context.PatternVar]" id="544889">subtestVars</a><span class="delimiter">)</span> =
        <span title="(List[(Int, List[ParallelMatching.this.Pattern])], List[MatchMatrix.this.context.PatternVar])" class="keyword">if</span> <span class="delimiter">(</span><a href="#544883" title="=&gt; Boolean">isAnyMoreSpecific</a><span class="delimiter">)</span>  <span title="(_1: List[(Int, List[ParallelMatching.this.Pattern])], _2: List[MatchMatrix.this.context.PatternVar])(List[(Int, List[ParallelMatching.this.Pattern])], List[MatchMatrix.this.context.PatternVar])" class="delimiter">(</span><a href="#544878" title="=&gt; List[(Int, List[ParallelMatching.this.Pattern])]">mkZipped</a>, <span title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</span><span class="delimiter">(</span><a href="#544879" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#543713" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>                    <span title="(_1: List[(Int, List[ParallelMatching.this.Pattern])], _2: scala.collection.immutable.Nil.type)(List[(Int, List[ParallelMatching.this.Pattern])], scala.collection.immutable.Nil.type)" class="delimiter">(</span><a href="#544874" title="=&gt; List[(Int, List[ParallelMatching.this.Pattern])]">subsumed</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="544891">newRows</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="548457">j</a>, <a title="List[ParallelMatching.this.Pattern]" id="548458">ps</a><span class="delimiter">)</span> &lt;- <a href="#544886" title="(f: ((Int, List[ParallelMatching.this.Pattern])) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, List[ParallelMatching.this.Pattern])],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">subtests</a><span class="delimiter">)</span> <span class="keyword">yield</span>
          <span class="delimiter">(</span><a href="#544898" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="#543669" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#548457" title="Int">j</a><span class="delimiter">)</span>.<a href="#540910" title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">insert2</a><span class="delimiter">(</span><a href="#548458" title="List[ParallelMatching.this.Pattern]">ps</a>, <a href="#544339" title="(i: Int)ParallelMatching.this.Pattern">pmatch</a><span class="delimiter">(</span><a href="#548457" title="Int">j</a><span class="delimiter">)</span>.<a href="PatternBindings.scala.html#542836" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#544879" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#543687" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544893">success</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="548493">srep</a> = <a href="#544674" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#544890" title="=&gt; List[MatchMatrix.this.Row]">newRows</a>, <a href="#544888" title="=&gt; List[MatchMatrix.this.context.PatternVar]">subtestVars</a> <a href="Matrix.scala.html#541341" title="(ts: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">:::</a> <a href="#544879" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#543693" title="=&gt; MatchMatrix.this.context.PatternVarGroup">accessorPatternVars</a>, includeScrut = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <a href="MatrixAdditions.scala.html#540298" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><a href="#544879" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#543696" title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]">allValDefs</a>, <a href="#548493" title="MatchMatrix.this.Rep">srep</a>.<a href="#540562" title="()ParallelMatching.this.global.Tree">toTree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="544895">failure</a> =
        <a href="#544673" title="(xs: List[MatchMatrix.this.Row])ParallelMatching.this.global.Tree">mkFail</a><span class="delimiter">(</span><a href="#544876" title="=&gt; List[(Int, ParallelMatching.this.Pattern)]">remaining</a> <span title="(f: ((Int, ParallelMatching.this.Pattern)) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, ParallelMatching.this.Pattern)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</span> <a href="#548512" title="MatchMatrix.this.Row" class="delimiter">{</a> <span class="keyword">case</span> <span title="MatchMatrix.this.Row" class="delimiter">(</span><a title="Int" id="548515">p1</a>, <a title="ParallelMatching.this.Pattern" id="548516">p2</a><span class="delimiter">)</span> =&gt; <a href="#544898" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="#543669" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#548515" title="Int">p1</a> <a href="#540907" title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row">insert</a> <a href="#548516" title="ParallelMatching.this.Pattern">p2</a> <span class="delimiter">}</span><span class="delimiter">)</span>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="544896">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="ParallelMatching.this.global.Tree">Tree</span> = <a href="#544671" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
    <span class="delimiter">}</span>

    /*** States, Rows, Etc. ***/

    case <span class="keyword">class</span> <a title="class Row extends Object with ScalaObject with Product with Serializable" id="549962">Row</a><a href="#549962" title="ScalaObject" class="delimiter">(</a><a title="List[ParallelMatching.this.Pattern]" id="540915">pats</a>: <span title="List[ParallelMatching.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span>, <a title="ParallelMatching.this.Bindings" id="540916">subst</a>: <a href="PatternBindings.scala.html#242516" title="ParallelMatching.this.Bindings">Bindings</a>, <a title="ParallelMatching.this.global.Tree" id="540917">guard</a>: <span title="ParallelMatching.this.global.Tree">Tree</span>, <a title="Int" id="540918">bx</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="540903">nobindings</a> = <a href="#540916" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#545064" title="()List[ParallelMatching.this.Binding]">get</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; String" id="540904">bindstr</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#540903" title="=&gt; Boolean">nobindings</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="MatchSupport.scala.html#539106" title="(x: Any)String">pp</a><span class="delimiter">(</span><a href="#540916" title="=&gt; ParallelMatching.this.Bindings">subst</a><span class="delimiter">)</span>

      /** Extracts the 'i'th pattern. */
      <span class="keyword">def</span> <a title="(i: Int)(ParallelMatching.this.Pattern, MatchMatrix.this.Row)" id="540905">extractColumn</a><span class="delimiter">(</span><a title="Int" id="548603">i</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#548607" title="(ParallelMatching.this.Pattern, List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="#548606" title="ParallelMatching.this.Pattern" id="548607">x</a>, <a href="#548606" title="List[ParallelMatching.this.Pattern]" id="548608">xs</a><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#242468" title="(xs: List[ParallelMatching.this.Pattern], n: Int)(ParallelMatching.this.Pattern, List[ParallelMatching.this.Pattern])">extractIndex</a><span title="(ParallelMatching.this.Pattern, List[ParallelMatching.this.Pattern]) @unchecked" class="delimiter">(</span><a href="#540915" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a>, <a href="#548603" title="Int">i</a><span class="delimiter">)</span>
        <span title="(_1: ParallelMatching.this.Pattern, _2: MatchMatrix.this.Row)(ParallelMatching.this.Pattern, MatchMatrix.this.Row)" class="delimiter">(</span><a href="#548607" title="ParallelMatching.this.Pattern">x</a>, <a href="#549962" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#548608" title="List[ParallelMatching.this.Pattern]">xs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Replaces the 'i'th pattern with the argument. */
      <span class="keyword">def</span> <a title="(i: Int, p: ParallelMatching.this.Pattern)MatchMatrix.this.Row" id="540906">replaceAt</a><span class="delimiter">(</span><a title="Int" id="548641">i</a>: <span title="Int">Int</span>, <a title="ParallelMatching.this.Pattern" id="548642">p</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.Pattern]" id="548645">newps</a> = <span class="delimiter">(</span><a href="#540915" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a> <span title="(n: Int)List[ParallelMatching.this.Pattern]">take</span> <a href="#548641" title="Int">i</a><span class="delimiter">)</span> <a href="#548646" title="(prefix: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:::</a> <a href="#548642" title="ParallelMatching.this.Pattern">p</a> <a href="#548647" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <span class="delimiter">(</span><a href="#540915" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a> <span title="(n: Int)List[ParallelMatching.this.Pattern]">drop</span> <span class="delimiter">(</span><a href="#548641" title="Int">i</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#549962" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#548645" title="List[ParallelMatching.this.Pattern]">newps</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row" id="540907">insert</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="546276">h</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>              = <a href="#549962" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#546276" title="ParallelMatching.this.Pattern">h</a> <a href="#546279" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <a href="#540915" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(hs: List[ParallelMatching.this.Pattern])MatchMatrix.this.Row" id="540908">insert</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.Pattern]" id="546262">hs</a>: <span title="List[ParallelMatching.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span>       = <a href="#549962" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#546262" title="List[ParallelMatching.this.Pattern]">hs</a> <a href="#546268" title="(prefix: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:::</a> <a href="#540915" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a><span class="delimiter">)</span>  // prepends supplied pattern
      <span class="keyword">def</span> <a title="(b: ParallelMatching.this.Bindings)MatchMatrix.this.Row" id="540909">rebind</a><span class="delimiter">(</span><a title="ParallelMatching.this.Bindings" id="545348">b</a>: <a href="PatternBindings.scala.html#242516" title="ParallelMatching.this.Bindings">Bindings</a><span class="delimiter">)</span>             = <a href="#540915" title="List[ParallelMatching.this.Pattern]" id="545376">copy</a><span class="delimiter">(</span>subst = <a href="#545348" title="ParallelMatching.this.Bindings" id="545373">b</a><span class="delimiter">)</span>           // substitutes for bindings

      <span class="keyword">def</span> <a title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row" id="540910">insert2</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.Pattern]" id="546498">hs</a>: <span title="List[ParallelMatching.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span>, <a title="Iterable[ParallelMatching.this.global.Symbol]" id="546499">vs</a>: <span title="Iterable[ParallelMatching.this.global.Symbol]">Iterable</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Symbol" id="546500">tvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="MatchSupport.scala.html#539110" title="(s: String)(x: MatchMatrix.this.Row)MatchMatrix.this.Row">tracing</a><span class="delimiter">(</span><span title="String(&quot;insert2&quot;)" class="string">&quot;insert2&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#549962" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#546498" title="List[ParallelMatching.this.Pattern]">hs</a> <a href="#546507" title="(prefix: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:::</a> <a href="#540915" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a>, subst = <a href="#540916" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#545066" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#546499" title="Iterable[ParallelMatching.this.global.Symbol]">vs</a>, <a href="#546500" title="ParallelMatching.this.global.Symbol">tvar</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      // returns this rows with alternatives expanded
      <span class="keyword">def</span> <a title="(classifyPat: (ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern)List[MatchMatrix.this.Row]" id="540911">expandAlternatives</a><span class="delimiter">(</span><a title="(ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern" id="543630">classifyPat</a>: <span class="delimiter">(</span>Pattern, Int<span class="delimiter">)</span> =&gt; Pattern<span class="delimiter">)</span>: <span title="List[MatchMatrix.this.Row]">List</span><span class="delimiter">[</span>Row<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(p: ParallelMatching.this.Pattern)Boolean" id="548664">isNotAlternative</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="548669">p</a>: <a href="Patterns.scala.html#242440" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><span title="(x: ParallelMatching.this.global.Tree)(pf: PartialFunction[ParallelMatching.this.global.Tree,Boolean])Boolean">cond</span><span class="delimiter">(</span><a href="#548669" title="ParallelMatching.this.Pattern">p</a>.<a href="Patterns.scala.html#542846" title="=&gt; ParallelMatching.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#548678" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean(true)">_</span>: <span title="ParallelMatching.this.global.Alternative">Alternative</span> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">}</span>

        // classify all the top level patterns - alternatives come back unaltered
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.Pattern]" id="548665">newPats</a>: <span title="List[ParallelMatching.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#540915" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a>.<span title="(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],(ParallelMatching.this.Pattern, Int),List[(ParallelMatching.this.Pattern, Int)]])List[(ParallelMatching.this.Pattern, Int)]">zipWithIndex</span> <span title="(f: ((ParallelMatching.this.Pattern, Int)) =&gt; ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, Int)],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">map</span> <a href="#543630" title="(ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern">classifyPat</a>.<span title="=&gt; ((ParallelMatching.this.Pattern, Int)) =&gt; ParallelMatching.this.Pattern">tupled</span>
        // see if any alternatives were in there
        <span class="keyword">val</span> <a href="#548667" title="(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="#548666" title="List[ParallelMatching.this.Pattern]" id="548667">ps</a>, <a href="#548666" title="List[ParallelMatching.this.Pattern]" id="548668">others</a><span class="delimiter">)</span> = <a href="#548665" title="List[ParallelMatching.this.Pattern]">newPats</a> <span title="(p: ParallelMatching.this.Pattern =&gt; Boolean)(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])">span</span> <a href="#548664" title="(p: ParallelMatching.this.Pattern)Boolean">isNotAlternative</a>
        // make a new row for each alternative, with it spliced into the original position
        <span title="List[MatchMatrix.this.Row]" class="keyword">if</span> <span class="delimiter">(</span><a href="#548668" title="List[ParallelMatching.this.Pattern]">others</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="(xs: MatchMatrix.this.Row*)List[MatchMatrix.this.Row]">List</span><span class="delimiter">(</span><a href="#549962" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#548667" title="List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="PatternBindings.scala.html#242510" title="(p: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">extractBindings</a><span class="delimiter">(</span><a href="#548668" title="List[ParallelMatching.this.Pattern]">others</a>.<span title="=&gt; ParallelMatching.this.Pattern">head</span><span class="delimiter">)</span> <span title="(f: ParallelMatching.this.Pattern =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</span> <span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="548805">x</a> =&gt; <a href="#540906" title="(i: Int, p: ParallelMatching.this.Pattern)MatchMatrix.this.Row">replaceAt</a><span class="delimiter">(</span><a href="#548667" title="List[ParallelMatching.this.Pattern]">ps</a>.<span title="=&gt; Int">size</span>, <a href="#548805" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="540912">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="548835">bs</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#540903" title="=&gt; Boolean">nobindings</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#540904" title="=&gt; String">bindstr</a>
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Row(%d)(%s%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#540918" title="=&gt; Int">bx</a>, <a href="MatchSupport.scala.html#539106" title="(x: Any)String">pp</a><span class="delimiter">(</span><a href="#540915" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a><span class="delimiter">)</span>, <a href="#548835" title="String">bs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class State extends Object with ScalaObject" id="540489">State</a> <a href="#540489" title="ScalaObject" class="delimiter">{</a>
      <span class="keyword">def</span> <a title="=&gt; Int" id="540935">bx</a>: <span title="Int">Int</span>                   // index into the list of rows
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.Symbol]" id="540936">params</a>: <span title="List[ParallelMatching.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>      // bound names to be supplied as arguments to labeldef
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="540937">body</a>: <span title="ParallelMatching.this.global.Tree">Tree</span>                // body to execute upon match
      <span class="keyword">def</span> <a title="=&gt; Option[ParallelMatching.this.global.LabelDef]" id="540938">label</a>: <span title="Option[ParallelMatching.this.global.LabelDef]">Option</span><span class="delimiter">[</span>LabelDef<span class="delimiter">]</span>   // label definition for this state

      // Called with a bindings map when a match is achieved.
      // Returns a list of variable declarations based on the labeldef parameters
      // and the given substitution, and the body to execute.
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" id="540939">applyBindingsImpl</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="548881">subst</a>: <span title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</span><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" class="delimiter">(</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span>, Tree<span class="delimiter">)</span>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" id="540940">applyBindings</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="545085">subst</a>: <span title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</span><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" class="delimiter">(</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span>, Tree<span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#540942" title="(x$1: Int)Unit">_referenceCount</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <a href="#540939" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)">applyBindingsImpl</a><span class="delimiter">(</span><a href="#545085" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="540942">_referenceCount</a>   = <span title="Int(0)" class="int">0</span>
      <span class="keyword">def</span> <a title="=&gt; Int" id="540944">referenceCount</a>            = <a href="#540942" title="=&gt; Int">_referenceCount</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="540945">unreached</a>                 = <a href="#540944" title="=&gt; Int">referenceCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span>
      <span class="keyword">def</span> <a title="(sym: ParallelMatching.this.global.Symbol)Boolean" id="540946">shouldInline</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="542600">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#540944" title="=&gt; Int">referenceCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#540938" title="=&gt; Option[ParallelMatching.this.global.LabelDef]">label</a>.<span title="(p: ParallelMatching.this.global.LabelDef =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#542610" title="ParallelMatching.this.global.LabelDef">_</a>.<span title="=&gt; ParallelMatching.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#542600" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>

      // Creates a simple Ident if the symbol's type conforms to
      // the val definition's type, or a casted Ident if not.
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree" id="540947">newValIdent</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="548889">lhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a>, <a title="ParallelMatching.this.global.Symbol" id="548890">rhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="ParallelMatching.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#548890" title="ParallelMatching.this.global.Symbol">rhs</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548889" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../transform/TypingTransformers.scala.html#242086" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#548890" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../Global.scala.html#186149" title="object ParallelMatching.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92356" title="(target: ParallelMatching.this.global.gen.global.Tree, method: ParallelMatching.this.global.gen.global.Symbol, targs: List[ParallelMatching.this.global.gen.global.Type])ParallelMatching.this.global.gen.global.Tree">mkTypeApply</a><span class="delimiter">(</span><a href="../transform/TypingTransformers.scala.html#242086" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#548890" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#45309" title="=&gt; ParallelMatching.this.global.Symbol">Any_asInstanceOf</a>, <span title="(xs: ParallelMatching.this.global.Type*)List[ParallelMatching.this.global.Type]">List</span><span class="delimiter">(</span><a href="#548889" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.ValDef" id="540948">newValDefinition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="548936">lhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a>, <a title="ParallelMatching.this.global.Symbol" id="548937">rhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="Matrix.scala.html#540309" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#187813" title="(vdef: ParallelMatching.this.global.analyzer.global.ValDef)ParallelMatching.this.global.analyzer.global.ValDef">typedValDef</a> <a href="../../../reflect/internal/Trees.scala.html#39363" title="(sym: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Tree)ParallelMatching.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#548936" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#540947" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">newValIdent</a><span class="delimiter">(</span><a href="#548936" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#548937" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.Tree" id="540949">newValReference</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="548958">lhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a>, <a title="ParallelMatching.this.global.Symbol" id="548959">rhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="Matrix.scala.html#540309" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#187859" title="(tree: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">typed</a> <a href="#540947" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">newValIdent</a><span class="delimiter">(</span><a href="#548958" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#548959" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.ValDef]" id="540950">valDefsFor</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="548970">subst</a>: <span title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</span><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#540952" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(f: (ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; ParallelMatching.this.global.analyzer.global.ValDef)List[ParallelMatching.this.global.analyzer.global.ValDef]">mapSubst</a><span class="delimiter">(</span><a href="#548970" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#540948" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.ValDef">newValDefinition</a><span class="delimiter">)</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.Tree]" id="540951">identsFor</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="548997">subst</a>: <span title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</span><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span>  = <a href="#540952" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(f: (ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; ParallelMatching.this.global.analyzer.global.Tree)List[ParallelMatching.this.global.analyzer.global.Tree]">mapSubst</a><span class="delimiter">(</span><a href="#548997" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#540949" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.Tree">newValReference</a><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(f: (ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; T)List[T]" id="540952">mapSubst</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="540954">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="548973">subst</a>: <span title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</span><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; T" id="548974">f</a>: <span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span> =&gt; T<span class="delimiter">)</span>: <span title="List[T]">List</span><span class="delimiter">[</span>T<span class="delimiter">]</span> =
        <a href="#540936" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a> <span title="(f: ParallelMatching.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[T])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Symbol],T,List[T]])List[T]">flatMap</span> <span class="delimiter">{</span> <a title="ParallelMatching.this.global.Symbol" id="549028">lhs</a> =&gt;
          <a href="#548973" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a> <span title="(key: ParallelMatching.this.global.Symbol)Option[ParallelMatching.this.global.Symbol]">get</span> <a href="#549028" title="ParallelMatching.this.global.Symbol">lhs</a> <span title="(f: ParallelMatching.this.global.Symbol =&gt; T)Option[T]">map</span> <span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="549035">rhs</a> =&gt; <a href="#548974" title="(v1: ParallelMatching.this.global.Symbol, v2: ParallelMatching.this.global.Symbol)T">f</a><span class="delimiter">(</span><a href="#549028" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#549035" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(xo: Option[T])Iterable[T]">orElse</span> <span class="delimiter">{</span>
            // This should not happen; the code should be structured so it is
            // impossible, but that still lies ahead.
            <a href="Matrix.scala.html#540305" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: ParallelMatching.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#549028" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; ParallelMatching.this.global.Position">pos</a>, <span title="String(&quot;No binding&quot;)" class="string">&quot;No binding&quot;</span><span class="delimiter">)</span>
            <span title="object None">None</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

      // typer is not able to digest a body of type Nothing being assigned result type Unit
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="540955">caseResultType</a> =
        <span title="ParallelMatching.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#540937" title="=&gt; ParallelMatching.this.global.Tree">body</a>.<a href="MatchSupport.scala.html#539065" title="implicit scala.tools.nsc.matching.MatchSupport.Types.enrichType : (x: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#539086" title="=&gt; Boolean">isNothing</a><span class="delimiter">)</span> <a href="#540937" title="=&gt; ParallelMatching.this.global.Tree">body</a>.<span title="=&gt; ParallelMatching.this.global.Type">tpe</span> <span class="keyword">else</span> <a href="Matrix.scala.html#540313" title="=&gt; ParallelMatching.this.global.Type">matchResultType</a>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class LiteralState extends MatchMatrix.this.State with ScalaObject with Product with Serializable" id="549958">LiteralState</a><a href="#549958" title="ScalaObject" class="delimiter">(</a><a title="Int" id="540970">bx</a>: <span title="Int">Int</span>, <a title="List[ParallelMatching.this.global.Symbol]" id="540971">params</a>: <span title="List[ParallelMatching.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Tree" id="540972">body</a>: <span title="ParallelMatching.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#540489" title="MatchMatrix.this.State">State</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; None.type" id="540966">label</a> = <span title="object None">None</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.Tree)" id="540967">applyBindingsImpl</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="549128">subst</a>: <span title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</span><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
        <span title="(_1: List[ParallelMatching.this.global.analyzer.global.ValDef], _2: ParallelMatching.this.global.Tree)(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.Tree)" class="delimiter">(</span><a href="#540950" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.ValDef]">valDefsFor</a><span class="delimiter">(</span><a href="#549128" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>, <a href="#540972" title="=&gt; ParallelMatching.this.global.Tree">body</a>.<span title="=&gt; LiteralState.this.body.type">duplicate</span> <span title="(tp: ParallelMatching.this.global.Type)LiteralState.this.body.type">setType</span> <a href="#540955" title="=&gt; ParallelMatching.this.global.Type">caseResultType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class FinalState extends MatchMatrix.this.State with ScalaObject with Product with Serializable" id="549928">FinalState</a><a href="#549928" title="ScalaObject" class="delimiter">(</a><a title="Int" id="541001">bx</a>: <span title="Int">Int</span>, <a title="List[ParallelMatching.this.global.Symbol]" id="541002">params</a>: <span title="List[ParallelMatching.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Tree" id="541003">body</a>: <span title="ParallelMatching.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#540489" title="MatchMatrix.this.State">State</a> <span class="delimiter">{</span>
      <a href="MatchSupport.scala.html#539109" title="(cat: String, f: String, xs: Any*)Unit">traceCategory</a><span class="delimiter">(</span><span title="String(&quot;Final State&quot;)" class="string">&quot;Final State&quot;</span>, <span title="String(&quot;(%s) =&gt; %s&quot;)" class="string">&quot;(%s) =&gt; %s&quot;</span>, <a href="#540997" title="=&gt; String">paramsString</a>, <a href="#541003" title="=&gt; ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Some[ParallelMatching.this.global.LabelDef]" id="540993">label</a> = <span title="(x: ParallelMatching.this.global.LabelDef)Some[ParallelMatching.this.global.LabelDef]">Some</span><span class="delimiter">(</span><a href="#540994" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.LabelDef" id="540995">labelDef</a> = <a href="#540468" title="(namePrefix: String, body: ParallelMatching.this.global.Tree, params: List[ParallelMatching.this.global.Symbol], restpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.LabelDef">createLabelDef</a><span class="delimiter">(</span><span title="String(&quot;body%&quot;)" class="string">&quot;body%&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#541001" title="=&gt; Int">bx</a>, <a href="#541003" title="=&gt; ParallelMatching.this.global.Tree">body</a>, <a href="#541002" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#540955" title="=&gt; ParallelMatching.this.global.Type">caseResultType</a><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.TermTree with Serializable)" id="540996">applyBindingsImpl</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="549257">subst</a>: <span title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</span><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ParallelMatching extends ParallelMatching.this.global.TermTree with Serializable" id="549260">tree</a> =
          <span title="ParallelMatching extends ParallelMatching.this.global.TermTree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#540944" title="=&gt; Int">referenceCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#244840" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods" class="delimiter">(</a><a href="#540994" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>.<span title="=&gt; ParallelMatching.this.global.Symbol">symbol</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#284879" title="(params: List[ParallelMatching.this.global.Tree])ParallelMatching.this.global.Apply">APPLY</a> <a href="#540951" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.Tree]">identsFor</a><span class="delimiter">(</span><a href="#549257" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#540994" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>

        <span title="(_1: List[ParallelMatching.this.global.analyzer.global.ValDef], _2: ParallelMatching.this.global.TermTree with Serializable)(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.TermTree with Serializable)" class="delimiter">(</span><a href="#540950" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.ValDef]">valDefsFor</a><span class="delimiter">(</span><a href="#549257" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>, <a href="#549260" title="ParallelMatching extends ParallelMatching.this.global.TermTree with Serializable">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; String" id="540997">paramsString</a> = <a href="#541002" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a> <span title="(f: ParallelMatching.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="549224">s</a> =&gt; <a href="#549224" title="ParallelMatching.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <span title="(other: String)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#549224" title="ParallelMatching.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="540998">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#539106" title="(x: Any)String">pp</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;(%s) =&gt; %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="MatchSupport.scala.html#539106" title="(x: Any)String">pp</a><span class="delimiter">(</span><a href="#541002" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a><span class="delimiter">)</span>, <a href="#541003" title="=&gt; ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class Rep extends Object with ScalaObject with Product with Serializable" id="549898">Rep</a><a href="#549898" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVarGroup" id="543668">tvars</a>: <a href="Matrix.scala.html#540332" title="MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a>, <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="543669">rows</a>: <span title="List[MatchMatrix.this.Row]">List</span><span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> Row<a href="#540546" title="(List[ParallelMatching.this.Pattern], ParallelMatching.this.Bindings, ParallelMatching.this.global.Tree, Int)" id="540544" class="delimiter">(</a><a href="#540543" title="List[ParallelMatching.this.Pattern]" id="540546">pats</a>, <a href="#540543" title="ParallelMatching.this.Bindings" id="540548">subst</a>, <a href="#540543" title="ParallelMatching.this.global.Tree" id="540550">guard</a>, <a href="#540543" title="Int" id="540552">index</a><span class="delimiter">)</span> = <a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<span title="=&gt; MatchMatrix.this.Row">head</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="540554">guardedRest</a>        = <span title="MatchMatrix.this.Rep" class="keyword">if</span> <span class="delimiter">(</span><a href="#540549" title="=&gt; ParallelMatching.this.global.Tree">guard</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#549898" title="(tvars: MatchMatrix.this.context.PatternVarGroup, rows: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">Rep</a><span class="delimiter">(</span><a href="Matrix.scala.html#540327" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">Nil</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#540469" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#543668" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>, <a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<span title="=&gt; List[MatchMatrix.this.Row]">tail</span><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="#540558" title="(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])" id="540556" class="delimiter">(</a><a href="#540555" title="List[ParallelMatching.this.Pattern]" id="540558">defaults</a>, <a href="#540555" title="List[ParallelMatching.this.Pattern]" id="540560">others</a><span class="delimiter">)</span> = <a href="#540545" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a> <span title="(p: ParallelMatching.this.Pattern =&gt; Boolean)(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])">span</span> <span class="delimiter">(</span><a href="#549412" title="ParallelMatching.this.Pattern">_</a>.<a href="Patterns.scala.html#542849" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span>

      /** Cut out the column containing the non-default pattern. */
      <span class="keyword">class</span> <a title="class Cut extends Object with ScalaObject" id="540561">Cut</a><a href="#540561" title="ScalaObject" class="delimiter">(</a><a title="Int" id="549535">index</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        /** The first two separate out the 'i'th pattern in each row from the remainder. */
        <span class="keyword">private</span> <span class="keyword">val</span> <a href="#549427" title="(List[ParallelMatching.this.Pattern], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="#549426" title="List[ParallelMatching.this.Pattern]" id="549427">_column</a>, <a href="#549426" title="List[MatchMatrix.this.Row]" id="549429">_rows</a><span class="delimiter">)</span> = <a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <span title="(f: MatchMatrix.this.Row =&gt; (ParallelMatching.this.Pattern, MatchMatrix.this.Row))(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],(ParallelMatching.this.Pattern, MatchMatrix.this.Row),List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">map</span> <span class="delimiter">(</span><a href="#549460" title="MatchMatrix.this.Row">_</a> <a href="#540905" title="(i: Int)(ParallelMatching.this.Pattern, MatchMatrix.this.Row)">extractColumn</a> <a href="#549535" title="Int">index</a><span class="delimiter">)</span> <span title="(implicit asPair: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; (ParallelMatching.this.Pattern, MatchMatrix.this.Row))(List[ParallelMatching.this.Pattern], List[MatchMatrix.this.Row])">unzip</span>

        /** Now the 'i'th tvar is separated out and used as a new Scrutinee. */
        <span class="keyword">private</span> <span class="keyword">val</span> <a href="#549432" title="(MatchMatrix.this.context.PatternVar, MatchMatrix.this.context.PatternVarGroup)" class="delimiter">(</a><a href="#549431" title="MatchMatrix.this.context.PatternVar" id="549432">_pv</a>, <a href="#549431" title="MatchMatrix.this.context.PatternVarGroup" id="549434">_tvars</a><span class="delimiter">)</span> = <a href="#543668" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a> <a href="Matrix.scala.html#541336" title="(index: Int)(MatchMatrix.this.context.PatternVar, MatchMatrix.this.context.PatternVarGroup)">extractIndex</a> <a href="#549535" title="Int">index</a>

        /** The non-default pattern (others.head) replaces the column head. */
        <span class="keyword">private</span> <span class="keyword">val</span> <a href="#549437" title="(List[ParallelMatching.this.Pattern], MatchMatrix.this.Rep)" class="delimiter">(</a><a href="#549436" title="List[ParallelMatching.this.Pattern]" id="549437">_ncol</a>, <a href="#549436" title="MatchMatrix.this.Rep" id="549439">_nrep</a><span class="delimiter">)</span> =
          <span title="(_1: List[ParallelMatching.this.Pattern], _2: MatchMatrix.this.Rep)(List[ParallelMatching.this.Pattern], MatchMatrix.this.Rep)" class="delimiter">(</span><a href="#540559" title="=&gt; List[ParallelMatching.this.Pattern]">others</a>.<span title="=&gt; ParallelMatching.this.Pattern">head</span> <a href="#549519" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <a href="#549427" title="=&gt; List[ParallelMatching.this.Pattern]">_column</a>.<span title="=&gt; List[ParallelMatching.this.Pattern]">tail</span>, <a href="#540469" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#549434" title="=&gt; MatchMatrix.this.context.PatternVarGroup">_tvars</a>, <a href="#549429" title="=&gt; List[MatchMatrix.this.Row]">_rows</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="()MatchMatrix.this.RuleApplication" id="549441">mix</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="MatchMatrix.this.Scrutinee" id="549538">newScrut</a> = <span title="MatchMatrix.this.Scrutinee" class="keyword">new</span> <a href="#540471" title="MatchMatrix.this.Scrutinee">Scrutinee</a><span class="delimiter">(</span><a href="Matrix.scala.html#540334" title="(lhs: ParallelMatching.this.global.Symbol, checked: Boolean)MatchMatrix.this.context.PatternVar">specialVar</a><span class="delimiter">(</span><a href="#549432" title="=&gt; MatchMatrix.this.context.PatternVar">_pv</a>.<a href="Matrix.scala.html#540377" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>, <a href="#549432" title="=&gt; MatchMatrix.this.context.PatternVar">_pv</a>.<a href="Matrix.scala.html#540374" title="=&gt; Boolean">checked</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#549999" title="(scrut: MatchMatrix.this.Scrutinee, ps: List[ParallelMatching.this.Pattern])MatchMatrix.this.PatternMatch">PatternMatch</a><span class="delimiter">(</span><a href="#549538" title="MatchMatrix.this.Scrutinee">newScrut</a>, <a href="#549437" title="=&gt; List[ParallelMatching.this.Pattern]">_ncol</a><span class="delimiter">)</span> <a href="#544346" title="(rest: MatchMatrix.this.Rep)MatchMatrix.this.RuleApplication">mkRule</a> <a href="#549439" title="=&gt; MatchMatrix.this.Rep">_nrep</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Converts this to a tree - recursively acquires subreps. */
      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="540562">toTree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="ParallelMatching.this.global.Tree">Tree</span> = <a href="MatchSupport.scala.html#539110" title="(s: String)(x: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">tracing</a><span class="delimiter">(</span><span title="String(&quot;toTree&quot;)" class="string">&quot;toTree&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Matrix.scala.html#540309" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#187859" title="(tree: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">typed</a> <a href="#540565" title="()ParallelMatching.this.global.Tree">applyRule</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      /** The VariableRule. */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="()MatchMatrix.this.VariableRule" id="540563">variable</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ParallelMatching.this.Bindings" id="549559">binding</a> = <span class="delimiter">(</span><a href="#540557" title="=&gt; List[ParallelMatching.this.Pattern]">defaults</a> <span title="(f: ParallelMatching.this.Pattern =&gt; List[ParallelMatching.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],List[ParallelMatching.this.global.Symbol],List[List[ParallelMatching.this.global.Symbol]]])List[List[ParallelMatching.this.global.Symbol]]">map</span> <span class="delimiter">(</span><a href="#549576" title="ParallelMatching.this.Pattern">_</a>.<a href="PatternBindings.scala.html#542836" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenIterable[MatchMatrix.this.context.PatternVar])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[ParallelMatching.this.global.Symbol]],(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar),List[(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)]])List[(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)]">zip</span> <a href="#543668" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#541330" title="=&gt; List[MatchMatrix.this.context.PatternVar]">pvs</a><span class="delimiter">)</span> .
          <span title="(z: ParallelMatching.this.Bindings)(f: (ParallelMatching.this.Bindings, (List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)) =&gt; ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">foldLeft</span><span class="delimiter">(</span><a href="#540547" title="=&gt; ParallelMatching.this.Bindings">subst</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="ParallelMatching.this.Bindings" id="549688">b</a>, <a title="(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)" id="549689">pair</a><span class="delimiter">)</span> =&gt; <a href="#549688" title="ParallelMatching.this.Bindings">b</a>.<a href="PatternBindings.scala.html#545066" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#549689" title="(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)">pair</a>.<span title="=&gt; List[ParallelMatching.this.global.Symbol]">_1</span>, <a href="#549689" title="(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)">pair</a>.<span title="=&gt; MatchMatrix.this.context.PatternVar">_2</span>.<a href="Matrix.scala.html#540370" title="=&gt; ParallelMatching.this.global.Symbol">lhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <a href="#549995" title="(subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, guardedRest: MatchMatrix.this.Rep, bx: Int)MatchMatrix.this.VariableRule">VariableRule</a><span class="delimiter">(</span><a href="#549559" title="ParallelMatching.this.Bindings">binding</a>, <a href="#540549" title="=&gt; ParallelMatching.this.global.Tree">guard</a>, <a href="#540553" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>, <a href="#540551" title="=&gt; Int">index</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      /** The MixtureRule: picks a rewrite rule to apply. */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="()MatchMatrix.this.RuleApplication" id="540564">mixture</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="Rep.this.Cut" class="keyword">new</span> <a href="#540561" title="Rep.this.Cut">Cut</a><span class="delimiter">(</span><a href="#540557" title="=&gt; List[ParallelMatching.this.Pattern]">defaults</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <a href="#549441" title="()MatchMatrix.this.RuleApplication">mix</a><span class="delimiter">(</span><span class="delimiter">)</span>

      /** Applying the rule will result in one of:
        *
        *   VariableRule - if all patterns are default patterns
        *    MixtureRule - if one or more patterns are not default patterns
        *          Error - no rows remaining
        */
      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="540565">applyRule</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="ParallelMatching.this.global.Tree">Tree</span> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#540455" title="=&gt; ParallelMatching.this.global.Tree">failTree</a>
        <span class="keyword">else</span> <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#540559" title="=&gt; List[ParallelMatching.this.Pattern]">others</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#540563" title="()MatchMatrix.this.VariableRule">variable</a>.<a href="#545052" title="()ParallelMatching.this.global.Tree">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#540564" title="()MatchMatrix.this.RuleApplication">mixture</a>.<a href="#544675" title="()ParallelMatching.this.global.Tree">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(x: Any)String" id="540566">ppn</a><span class="delimiter">(</span><a title="Any" id="549712">x</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#539107" title="(x: Any, newlines: Boolean)String">pp</a><span class="delimiter">(</span><a href="#549712" title="Any">x</a>, newlines = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="540567">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#543668" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#541337" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Rep(%d) = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<span title="=&gt; Int">size</span>, <a href="#540566" title="(x: Any)String">ppn</a><span class="delimiter">(</span><a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Rep(%dx%d)%s%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#543668" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#541338" title="=&gt; Int">size</a>, <a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<span title="=&gt; Int">size</span>, <a href="#540566" title="(x: Any)String">ppn</a><span class="delimiter">(</span><a href="#543668" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a><span class="delimiter">)</span>, <a href="#540566" title="(x: Any)String">ppn</a><span class="delimiter">(</span><a href="#543669" title="=&gt; List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Expands the patterns recursively. */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(roots: List[MatchMatrix.this.context.PatternVar], cases: List[ParallelMatching.this.global.CaseDef])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]" id="540499">expand</a><span class="delimiter">(</span><a title="List[MatchMatrix.this.context.PatternVar]" id="540677">roots</a>: <span title="List[MatchMatrix.this.context.PatternVar]">List</span><span class="delimiter">[</span>PatternVar<span class="delimiter">]</span>, <a title="List[ParallelMatching.this.global.CaseDef]" id="540678">cases</a>: <span title="List[ParallelMatching.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#539110" title="(s: String)(x: List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]">tracing</a><span class="delimiter">(</span><span title="String(&quot;expand&quot;)" class="string">&quot;expand&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span>CaseDef<span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="540787">pat</a>, <a title="ParallelMatching.this.global.Tree" id="540788">guard</a>, <a title="ParallelMatching.this.global.Tree" id="540789">body</a><span class="delimiter">)</span>, <a title="Int" id="540790">bx</a><span class="delimiter">)</span> &lt;- <a href="#540678" title="List[ParallelMatching.this.global.CaseDef]">cases</a>.<a href="#540746" title="(f: ((ParallelMatching.this.global.CaseDef, Int)) =&gt; (MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State))(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.global.CaseDef, Int)],(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State),List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]">zipWithIndex</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.Tree]" id="540791">subtrees</a> = <a href="#540787" title="ParallelMatching.this.global.Tree">pat</a> <span title="List[ParallelMatching.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="List[ParallelMatching.this.global.Tree]" id="540795">x</a> <span class="keyword">if</span> <a href="#540677" title="List[MatchMatrix.this.context.PatternVar]">roots</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(1)" class="int">1</span> =&gt; <span title="(xs: ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#540795" title="ParallelMatching.this.global.Tree">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="List[ParallelMatching.this.global.Tree]">Apply</span><span class="delimiter">(</span>_, <a title="List[ParallelMatching.this.global.Tree]" id="540813">args</a><span class="delimiter">)</span>         =&gt; <a href="#540813" title="List[ParallelMatching.this.global.Tree]">args</a>
          <span class="keyword">case</span> <a href="../ast/TreeDSL.scala.html#285070" title="List[ParallelMatching.this.global.Tree]">WILD</a><span class="delimiter">(</span><span class="delimiter">)</span>                 =&gt; <a href="Patterns.scala.html#242373" title="(i: Int)List[ParallelMatching.this.global.Tree]">emptyTrees</a><span class="delimiter">(</span><a href="#540677" title="List[MatchMatrix.this.context.PatternVar]">roots</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.Symbol]" id="540792">params</a> = <a href="#540787" title="ParallelMatching.this.global.Tree">pat</a> <span title="(f: ParallelMatching.this.global.Tree =&gt; Boolean)List[ParallelMatching.this.global.Tree]">filter</span> <span class="delimiter">(</span><a href="#540832" title="ParallelMatching.this.global.Tree">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="ParallelMatching.this.global.Bind">Bind</span><span class="delimiter">]</span><span class="delimiter">)</span> <span title="(f: ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Symbol,List[ParallelMatching.this.global.Symbol]])List[ParallelMatching.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#540854" title="ParallelMatching.this.global.Tree">_</a>.<span title="=&gt; ParallelMatching.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span title="=&gt; List[ParallelMatching.this.global.Symbol]">distinct</span>
        <span class="keyword">val</span> <a title="MatchMatrix.this.Row" id="540793">row</a>    = <a href="#549962" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">Row</a><span class="delimiter">(</span><a href="#242450" title="(xs: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#540791" title="List[ParallelMatching.this.global.Tree]">subtrees</a><span class="delimiter">)</span>, <a href="PatternBindings.scala.html#242517" title="=&gt; ParallelMatching.this.Bindings">NoBinding</a>, <a href="#540788" title="ParallelMatching.this.global.Tree">guard</a>, <a href="#540790" title="Int">bx</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="MatchMatrix extends Product with Serializable with MatchMatrix.this.State" id="540794">state</a>  = <a href="#540789" title="ParallelMatching.this.global.Tree">body</a> <span title="MatchMatrix extends Product with Serializable with MatchMatrix.this.State" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="MatchMatrix.this.LiteralState" id="540930">x</a>: <span title="ParallelMatching.this.global.Literal">Literal</span> =&gt; <a href="#549958" title="(bx: Int, params: List[ParallelMatching.this.global.Symbol], body: ParallelMatching.this.global.Tree)MatchMatrix.this.LiteralState">LiteralState</a><span class="delimiter">(</span><a href="#540790" title="Int">bx</a>, <a href="#540792" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#540789" title="ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="MatchMatrix.this.FinalState">_</span>          =&gt; <a href="#549928" title="(bx: Int, params: List[ParallelMatching.this.global.Symbol], body: ParallelMatching.this.global.Tree)MatchMatrix.this.FinalState">FinalState</a><span class="delimiter">(</span><a href="#540790" title="Int">bx</a>, <a href="#540792" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#540789" title="ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#540793" title="(x: MatchMatrix.this.Row)ArrowAssoc[MatchMatrix.this.Row]">row</a> <span title="(y: Product with Serializable with MatchMatrix.this.State)(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)">-&gt;</span> <a href="#540794" title="MatchMatrix extends Product with Serializable with MatchMatrix.this.State">state</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** returns the condition in &quot;if (cond) k1 else k2&quot;
     */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(tpe: ParallelMatching.this.global.Type, scrut: MatchMatrix.this.Scrutinee, isBound: Boolean)ParallelMatching.this.global.Tree" id="540500">condition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="548372">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ParallelMatching.this.global.Type">Type</a>, <a title="MatchMatrix.this.Scrutinee" id="548373">scrut</a>: <a href="#540471" title="MatchMatrix.this.Scrutinee">Scrutinee</a>, <a title="Boolean" id="548374">isBound</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="ParallelMatching.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#548373" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543697" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="549763">cond</a> = <a href="Matrix.scala.html#540307" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="#540501" title="(tpe: ParallelMatching.this.global.Type, scrutTree: ParallelMatching.this.global.Tree, isBound: Boolean)ParallelMatching.this.global.Tree">condition</a><span class="delimiter">(</span><a href="#548372" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#548373" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543690" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>, <a href="#548374" title="Boolean">isBound</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#39037" title="(patType: ParallelMatching.this.global.Type, selType: ParallelMatching.this.global.Type, currentOwner: ParallelMatching.this.global.Symbol)Boolean">needsOuterTest</a><span class="delimiter">(</span><a href="#548372" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#548373" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543688" title="=&gt; ParallelMatching.this.global.Type">tpe</a>, <a href="Matrix.scala.html#540311" title="=&gt; ParallelMatching.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#549763" title="ParallelMatching.this.global.Tree">cond</a>
      <span class="keyword">else</span> <a href="#540502" title="(cond: ParallelMatching.this.global.Tree, tpe2test: ParallelMatching.this.global.Type, scrut: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">addOuterCondition</a><span class="delimiter">(</span><a href="#549763" title="ParallelMatching.this.global.Tree">cond</a>, <a href="#548372" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#548373" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#543690" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(tpe: ParallelMatching.this.global.Type, scrutTree: ParallelMatching.this.global.Tree, isBound: Boolean)ParallelMatching.this.global.Tree" id="540501">condition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="548368">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ParallelMatching.this.global.Type">Type</a>, <a title="ParallelMatching.this.global.Tree" id="548369">scrutTree</a>: <span title="ParallelMatching.this.global.Tree">Tree</span>, <a title="Boolean" id="548370">isBound</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="ParallelMatching.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#548368" title="ParallelMatching.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object ParallelMatching.this.global.NoType">NoType</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#548369" title="ParallelMatching.this.global.Tree">scrutTree</a>.<span title="=&gt; ParallelMatching.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object ParallelMatching.this.global.NoType">NoType</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="549824">isMatchUnlessNull</a> = <a href="#548369" title="ParallelMatching.this.global.Tree">scrutTree</a>.<span title="=&gt; ParallelMatching.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#548368" title="ParallelMatching.this.global.Type">tpe</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="MatchSupport.scala.html#539065" title="implicit scala.tools.nsc.matching.MatchSupport.Types.enrichType : (x: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#539079" title="=&gt; Boolean">isAnyRef</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="549825">isRef</a>             = <a href="#548369" title="ParallelMatching.this.global.Tree">scrutTree</a>.<a href="MatchSupport.scala.html#539065" title="implicit scala.tools.nsc.matching.MatchSupport.Types.enrichType : (x: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#539079" title="=&gt; Boolean">isAnyRef</a>

      // See ticket #1503 for the motivation behind checking for a binding.
      // The upshot is that it is unsound to assume equality means the right
      // type, but if the value doesn't appear on the right hand side of the
      // match that's unimportant; so we add an instance check only if there
      // is a binding.
      <span class="keyword">def</span> <a title="()Unit" id="549826">bindingWarning</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#548370" title="Boolean">isBound</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186698" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Matrix.scala.html#540305" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: ParallelMatching.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#548369" title="ParallelMatching.this.global.Tree">scrutTree</a>.<span title="=&gt; ParallelMatching.this.global.Position">pos</span>,
            <span title="String(&quot;A bound pattern such as \'x @ Pattern\' now matches fewer cases than the same pattern with no binding.&quot;)" class="string">&quot;A bound pattern such as 'x @ Pattern' now matches fewer cases than the same pattern with no binding.&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree" id="549827">genEquals</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="549844">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="ParallelMatching.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="549845">t1</a>: <span title="ParallelMatching.this.global.Tree">Tree</span> = <a href="../ast/TreeDSL.scala.html#244841" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods" class="delimiter">(</a><a href="#549844" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#284863" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">MEMBER_==</a> <a href="#548369" title="ParallelMatching.this.global.Tree">scrutTree</a>

        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#548370" title="Boolean">isBound</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#549826" title="()Unit">bindingWarning</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">t1</a> <a href="../ast/TreeDSL.scala.html#284862" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">AND</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="../ast/TreeDSL.scala.html#284886" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.gen.global.Tree">IS</a> <a href="#548368" title="ParallelMatching.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; ParallelMatching.this.global.Type">widen</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#549845" title="ParallelMatching.this.global.Tree">t1</a>
      <span class="delimiter">}</span>

      <a href="Matrix.scala.html#540309" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#187859" title="(tree: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <a href="#548368" title="ParallelMatching.this.global.Type">tpe</a> <span title="ParallelMatching.this.global.analyzer.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Apply">ConstantType</span><span class="delimiter">(</span>Constant<span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#549825" title="=&gt; Boolean">isRef</a>  =&gt; <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="../ast/TreeDSL.scala.html#284869" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">OBJ_EQ</a> <a href="../ast/TreeDSL.scala.html#244790" title="=&gt; ParallelMatching.this.global.Literal">NULL</a>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Apply">ConstantType</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Constant" id="549871">const</a><span class="delimiter">)</span>                    =&gt; <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="../ast/TreeDSL.scala.html#284863" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">MEMBER_==</a> <a href="../transform/TypingTransformers.scala.html#242086" title="(value: ParallelMatching.this.global.Constant)ParallelMatching.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#549871" title="ParallelMatching.this.global.Constant">const</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Tree">SingleType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38829" title="object ParallelMatching.this.global.NoPrefix">NoPrefix</a>, <a title="ParallelMatching.this.global.Symbol" id="549879">sym</a><span class="delimiter">)</span>              =&gt; <a href="#549827" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree">genEquals</a><span class="delimiter">(</span><a href="#549879" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Tree">SingleType</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="549882">pre</a>, <a title="ParallelMatching.this.global.Symbol" id="549883">sym</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#549883" title="ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46534" title="=&gt; Boolean">isStable</a>   =&gt; <a href="#549827" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree">genEquals</a><span class="delimiter">(</span><a href="#549883" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Tree">ThisType</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="549885">sym</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#549885" title="ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a>          =&gt; <a href="#549827" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree">genEquals</a><span class="delimiter">(</span><a href="#549885" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Apply">_</span> <span class="keyword">if</span> <a href="#549824" title="=&gt; Boolean">isMatchUnlessNull</a>                 =&gt; <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="../ast/TreeDSL.scala.html#284870" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">OBJ_NE</a> <a href="../ast/TreeDSL.scala.html#244790" title="=&gt; ParallelMatching.this.global.Literal">NULL</a>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.gen.global.Tree">_</span>                                      =&gt; <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="../ast/TreeDSL.scala.html#284886" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.gen.global.Tree">IS</a> <a href="#548368" title="ParallelMatching.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** adds a test comparing the dynamic outer to the static outer */
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(cond: ParallelMatching.this.global.Tree, tpe2test: ParallelMatching.this.global.Type, scrut: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree" id="540502">addOuterCondition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="549777">cond</a>: <span title="ParallelMatching.this.global.Tree">Tree</span>, <a title="ParallelMatching.this.global.Type" id="549778">tpe2test</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ParallelMatching.this.global.Type">Type</a>, <a title="ParallelMatching.this.global.Tree" id="549779">scrut</a>: <span title="ParallelMatching.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> TypeRef<a href="#549787" title="ParallelMatching.this.global.Type" id="549782" class="delimiter">(</a><a title="ParallelMatching.this.global.Type" id="549787">prefix</a>, _, _<span class="delimiter">)</span> = <a href="#549778" title="ParallelMatching.this.global.Type">tpe2test</a>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="549783">theRef</a> = <a href="Matrix.scala.html#540307" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="#549782" title="ParallelMatching.this.global.Type">prefix</a> <span title="ParallelMatching.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38829" title="Nothing">NoPrefix</a>         =&gt; <a href="../Global.scala.html#186187" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;assertion failed: NoPrefix&quot;)" class="string">&quot;assertion failed: NoPrefix&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="ParallelMatching.this.global.gen.global.Tree">ThisType</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="549791">clazz</a><span class="delimiter">)</span>  =&gt; <a href="../ast/TreeDSL.scala.html#244839" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">THIS</a><span class="delimiter">(</span><a href="#549791" title="ParallelMatching.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="ParallelMatching.this.global.gen.global.Tree" id="549793">pre</a>              =&gt; <a href="../ast/TreeDSL.scala.html#244842" title="(pre: ParallelMatching.this.global.Type, sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="#549793" title="ParallelMatching.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; ParallelMatching.this.global.Type">prefix</a>, <a href="#549793" title="ParallelMatching.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41503" title="=&gt; ParallelMatching.this.global.Symbol">termSymbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
      <a href="../transform/ExplicitOuter.scala.html#242323" title="(clazz: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#549778" title="ParallelMatching.this.global.Type">tpe2test</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="ParallelMatching.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="ParallelMatching.this.global.Tree">NoSymbol</a> =&gt; <a href="../Global.scala.html#186188" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><a href="Matrix.scala.html#540305" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: ParallelMatching.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#549779" title="ParallelMatching.this.global.Tree">scrut</a>.<span title="=&gt; ParallelMatching.this.global.Position">pos</span>, <span title="String(&quot;no outer acc for &quot;)" class="string">&quot;no outer acc for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#549778" title="ParallelMatching.this.global.Type">tpe2test</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> ; <a href="#549777" title="ParallelMatching.this.global.Tree">cond</a>
        <span class="keyword">case</span> <a title="ParallelMatching.this.global.Tree" id="549799">outerAcc</a> =&gt;
          <span class="keyword">val</span> <a title="ParallelMatching.this.global.gen.global.Tree" id="549800">casted</a> = <a href="../Global.scala.html#186149" title="object ParallelMatching.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92362" title="(value: ParallelMatching.this.global.gen.global.Tree, tpe: ParallelMatching.this.global.gen.global.Type, any: Boolean, wrapInApply: Boolean)ParallelMatching.this.global.gen.global.Tree">mkAsInstanceOf</a><span class="delimiter">(</span><a href="#549779" title="ParallelMatching.this.global.Tree">scrut</a>, <a href="#549778" title="ParallelMatching.this.global.Type">tpe2test</a>, any = <span title="Boolean(true)" class="keyword">true</span>, wrapInApply = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">cond</a> <a href="../ast/TreeDSL.scala.html#284862" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">AND</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">casted</a> <a href="../ast/TreeDSL.scala.html#284848" title="(args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">DOT</a> <a href="#549799" title="ParallelMatching.this.global.Symbol">outerAcc</a><span class="delimiter">)</span><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods" class="delimiter">(</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#284869" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">OBJ_EQ</a> <a href="#549783" title="ParallelMatching.this.global.Tree">theRef</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>