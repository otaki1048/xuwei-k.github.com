<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/matching/Patterns.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * Author: Paul Phillips
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> matching

<span class="keyword">import</span> symtab.Flags
<span class="keyword">import</span> <span title="object PartialFunction">PartialFunction</span>._

/** Patterns are wrappers for Trees with enhanced semantics.
 *
 *  @author Paul Phillips
 */

<span class="keyword">trait</span> <a title="trait Patterns extends Object with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="25517">Patterns</a> <span title="ScalaObject" class="keyword">extends</span> ast.<a href="../ast/TreeDSL.scala.html#14381" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> <span class="delimiter">{</span>
  self: transform.ExplicitOuter =&gt;

  <span class="keyword">import</span> <a href="../transform/TypingTransformers.scala.html#242086" title="=&gt; scala.tools.nsc.Global">global</a>.<span class="delimiter">{</span> typer =&gt; _, _ <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object Patterns.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#187433" title="object Patterns.this.CODE">CODE</a>._
  <span class="keyword">import</span> <a href="MatchSupport.scala.html#242463" title="object Patterns.this.Debug">Debug</a>._
  <span class="keyword">import</span> <a href="../ast/Trees.scala.html#186424" title="object Patterns.this.global.treeInfo">treeInfo</a>.<span class="delimiter">{</span> unbind, isStar, isVarPattern, isVariableName <span class="delimiter">}</span>

  <span class="keyword">type</span> <a title="Patterns.this.MatchMatrix#PatternMatch" id="242368">PatternMatch</a>       = MatchMatrix#<a href="ParallelMatching.scala.html#540474" title="Patterns.this.MatchMatrix#PatternMatch">PatternMatch</a>
  <span class="keyword">private</span> <span class="keyword">type</span> <a title="Patterns.this.MatrixContext#PatternVar" id="242369">PatternVar</a> = MatrixContext#<a href="Matrix.scala.html#540333" title="Patterns.this.MatrixContext#PatternVar">PatternVar</a>

  // private def unapplyArgs(x: Any) = x match {
  //   case UnApply(Apply(TypeApply(_, targs), args), _) =&gt; (targs map (_.symbol), args map (_.symbol))
  //   case _                                            =&gt; (Nil, Nil)
  // }
  //
  // private def unapplyCall(x: Any) = x match {
  //   case UnApply(t, _)  =&gt; treeInfo.methPart(t).symbol
  //   case _              =&gt; NoSymbol
  // }

  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.TermSymbol" id="242371">dummyMethod</a> =
    <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Patterns.this.global.NoSymbol">NoSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46398" title="(name: Patterns.this.global.TermName, pos: Patterns.this.global.Position, newFlags: Long)Patterns.this.global.TermSymbol">newTermSymbol</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#38394" title="(s: String)Patterns.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;matching$dummy&quot;)" class="string">&quot;matching$dummy&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  // Fresh patterns
  <span class="keyword">def</span> <a title="(i: Int)List[Patterns.this.Pattern]" id="242372">emptyPatterns</a><span class="delimiter">(</span><a title="Int" id="544499">i</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <span title="object List">List</span>.<span title="(n: Int)(elem: =&gt; Patterns.this.WildcardPattern)List[Patterns.this.WildcardPattern]">fill</span><span class="delimiter">(</span><a href="#544499" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#242374" title="=&gt; Patterns.this.WildcardPattern">NoPattern</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(i: Int)List[Patterns.this.global.Tree]" id="242373">emptyTrees</a><span class="delimiter">(</span><a title="Int" id="540815">i</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[Patterns.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span title="object List">List</span>.<span title="(n: Int)(elem: =&gt; Patterns.this.global.EmptyTree.type)List[Patterns.this.global.EmptyTree.type]">fill</span><span class="delimiter">(</span><a href="#540815" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../transform/TypingTransformers.scala.html#242086" title="object Patterns.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>

  // An empty pattern
  <span class="keyword">def</span> <a title="=&gt; Patterns.this.WildcardPattern" id="242374">NoPattern</a> = <a href="#552455" title="()Patterns.this.WildcardPattern">WildcardPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>

  // The constant null pattern
  <span class="keyword">def</span> <a title="=&gt; Patterns.this.LiteralPattern" id="242375">NullPattern</a> = <a href="#552430" title="(tree: Patterns.this.global.Literal)Patterns.this.LiteralPattern">LiteralPattern</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244790" title="=&gt; Patterns.this.global.Literal">NULL</a><span class="delimiter">)</span>

  // The Nil pattern
  <span class="keyword">def</span> <a title="=&gt; Patterns.this.Pattern" id="242376">NilPattern</a> = <a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object Patterns.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92366" title="=&gt; Patterns.this.global.gen.global.Tree">mkNil</a><span class="delimiter">)</span>

  // 8.1.1
  case <span class="keyword">class</span> <a title="class VariablePattern extends Patterns.this.Pattern with Patterns.this.NamePattern with ScalaObject with Product with Serializable" id="552476">VariablePattern</a><a href="#552476" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Ident" id="551812">tree</a>: <span title="Patterns.this.global.Ident">Ident</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242437" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Ident<a href="#550538" title="Patterns.this.global.Name" id="550529" class="delimiter">(</a><a title="Patterns.this.global.Name" id="550538">name</a><span class="delimiter">)</span> = <a href="#551812" title="=&gt; Patterns.this.global.Ident">tree</a>
    <a href="../Global.scala.html#186186" title="(requirement: Boolean)Unit">require</a><span class="delimiter">(</span><a href="../../../reflect/internal/TreeInfo.scala.html#120077" title="(pat: Patterns.this.global.treeInfo.global.Tree)Boolean">isVarPattern</a><span class="delimiter">(</span><a href="#551812" title="=&gt; Patterns.this.global.Ident">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#550528" title="=&gt; Patterns.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Patterns.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; Patterns.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="550530">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#550528" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.1 (b)
  case <span class="keyword">class</span> <a title="class WildcardPattern extends Patterns.this.Pattern with ScalaObject with Product with Serializable" id="552455">WildcardPattern</a><a href="#552455" title="ScalaObject" class="delimiter">(</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242440" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.EmptyTree.type" id="546548">tree</a> = <a href="../transform/TypingTransformers.scala.html#242086" title="object Patterns.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546549">isDefault</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="546550">description</a> = <span title="String(&quot;_&quot;)" class="string">&quot;_&quot;</span>
  <span class="delimiter">}</span>

  // 8.1.2
  case <span class="keyword">class</span> <a title="class TypedPattern extends Patterns.this.Pattern with ScalaObject with Product with Serializable" id="552451">TypedPattern</a><a href="#552451" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Typed" id="551794">tree</a>: <span title="Patterns.this.global.Typed">Typed</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242440" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Typed<a href="#550633" title="(Patterns.this.global.Tree, Patterns.this.global.Tree)" id="550631" class="delimiter">(</a><a href="#550630" title="Patterns.this.global.Tree" id="550633">expr</a>, <a href="#550630" title="Patterns.this.global.Tree" id="550635">tpt</a><span class="delimiter">)</span> = <a href="#551794" title="=&gt; Patterns.this.global.Typed">tree</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="550636">subpatternsForVars</a>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <span title="(xs: Patterns.this.Pattern*)List[Patterns.this.Pattern]">List</span><span class="delimiter">(</span><a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#550632" title="=&gt; Patterns.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="550637">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="550662">pv</a>: <a href="Matrix.scala.html#540333" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#550632" title="=&gt; Patterns.this.global.Tree">expr</a><span class="delimiter">)</span> <span title="Patterns.this.Pattern" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Patterns.this.Pattern">ExtractorPattern</span><span class="delimiter">(</span><a title="Patterns.this.global.UnApply" id="550710">ua</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#550662" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#540377" title="=&gt; Patterns.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Patterns.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Patterns.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#550634" title="=&gt; Patterns.this.global.Tree">tpt</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span> =&gt; <a href="#552451" title="TypedPattern.this.type" class="keyword">this</a> <a href="PatternBindings.scala.html#542837" title="(t: Patterns.this.global.Tree)Patterns.this.Pattern">rebindTo</a> <a href="#550632" title="=&gt; Patterns.this.global.Tree">expr</a>
      <span class="keyword">case</span> <span title="Patterns.this.TypedPattern">_</span>                                              =&gt; <a href="#552451" title="Patterns.this.TypedPattern" class="keyword">this</a>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="550638">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#550632" title="=&gt; Patterns.this.global.Tree">expr</a><span class="delimiter">)</span>, <a href="#550634" title="=&gt; Patterns.this.global.Tree">tpt</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.3
  case <span class="keyword">class</span> <a title="class LiteralPattern extends Patterns.this.Pattern with ScalaObject with Product with Serializable" id="552430">LiteralPattern</a><a href="#552430" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Literal" id="550515">tree</a>: <span title="Patterns.this.global.Literal">Literal</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242440" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Literal<a href="#544296" title="(Patterns.this.global.Constant, Any)" id="544294" class="delimiter">(</a><a href="#544293" title="Patterns.this.global.Constant" id="544296">const</a> @ Constant<span class="delimiter">(</span><a href="#544293" title="Any" id="544298">value</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#550515" title="=&gt; Patterns.this.global.Literal">tree</a>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="544299">isSwitchable</a> = <span title="(x: Int)(pf: PartialFunction[Int,Boolean])Boolean">cond</span><span class="delimiter">(</span><a href="#544295" title="=&gt; Patterns.this.global.Constant">const</a>.<a href="../../../reflect/internal/Constants.scala.html#46263" title="=&gt; Int">tag</a><span class="delimiter">)</span> <a href="#544323" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean(true)">ByteTag</span> | <span title="Int(4)">ShortTag</span> | <span title="Int(6)">IntTag</span> | <span title="Int(5)">CharTag</span> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="544300">intValue</a> = <a href="#544295" title="=&gt; Patterns.this.global.Constant">const</a>.<a href="../../../reflect/internal/Constants.scala.html#46281" title="=&gt; Int">intValue</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="544301">description</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="550744">s</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#544297" title="=&gt; Any">value</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="String(&quot;null&quot;)" class="string">&quot;null&quot;</span> <span class="keyword">else</span> <a href="#544297" title="=&gt; Any">value</a>.<span title="()String">toString</span>
      <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Lit(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#550744" title="String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  // 8.1.4 (a)
  case <span class="keyword">class</span> <a title="class ApplyIdentPattern extends Patterns.this.Pattern with Patterns.this.ApplyPattern with Patterns.this.NamePattern with ScalaObject with Product with Serializable" id="552409">ApplyIdentPattern</a><a href="#552409" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Apply" id="552032">tree</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242439" title="Patterns.this.ApplyPattern">ApplyPattern</a> <span class="keyword">with</span> <a href="#242437" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    // XXX - see bug 3411 for code which violates this assumption
    // require (!isVarPattern(fn) &amp;&amp; args.isEmpty)
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="(Patterns.this.global.Ident, Patterns.this.global.Name)" id="550781">ident</a> @ Ident<span class="delimiter">(</span><a href="#550778" title="Patterns.this.global.Name" id="550783">name</a><span class="delimiter">)</span> = <a href="#550767" title="=&gt; Patterns.this.global.Tree">fn</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="550784">sufficientType</a> = <a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#550780" title="=&gt; Patterns.this.global.Ident">ident</a><span class="delimiter">)</span>.<a href="#542861" title="=&gt; Patterns.this.global.Type">equalsCheck</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="550785">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="550822">pv</a>: <a href="Matrix.scala.html#540333" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <a href="#552409" title="ApplyIdentPattern.this.type" class="keyword">this</a>.<a href="PatternBindings.scala.html#542841" title="()Patterns.this.Pattern">rebindToObjectCheck</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="550786">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Id(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#550782" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  // 8.1.4 (b)
  case <span class="keyword">class</span> <a title="class ApplySelectPattern extends Patterns.this.Pattern with Patterns.this.ApplyPattern with Patterns.this.SelectPattern with ScalaObject with Product with Serializable" id="552388">ApplySelectPattern</a><a href="#552388" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Apply" id="552040">tree</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242439" title="Patterns.this.ApplyPattern">ApplyPattern</a> <span class="keyword">with</span> <a href="#242436" title="Patterns.this.SelectPattern">SelectPattern</a> <span class="delimiter">{</span>
    <a href="../Global.scala.html#186186" title="(requirement: Boolean)Unit">require</a> <span class="delimiter">(</span><a href="#550769" title="=&gt; List[Patterns.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Apply<a href="#550882" title="Patterns.this.global.Select" id="550855" class="delimiter">(</a><a title="Patterns.this.global.Select" id="550882">select</a>: <span title="Patterns.this.global.Select">Select</span>, _<span class="delimiter">)</span> = <a href="#552040" title="=&gt; Patterns.this.global.Apply">tree</a>

    <span class="keyword">override</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.Type" id="550857">sufficientType</a> = <a href="#550864" title="=&gt; Patterns.this.global.Tree">qualifier</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span> <span title="Patterns.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Patterns.this.global.Type" id="550897">t</a>: <a href="../../../reflect/internal/Types.scala.html#38831" title="Patterns.this.global.ThisType">ThisType</a>  =&gt; <a href="../../../reflect/internal/Types.scala.html#38930" title="(pre: Patterns.this.global.Type, sym: Patterns.this.global.Symbol)Patterns.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#550897" title="Patterns.this.global.ThisType">t</a>, <a href="#542853" title="=&gt; Patterns.this.global.Symbol">sym</a><span class="delimiter">)</span>   // this.X
      <span class="keyword">case</span> <span title="Patterns.this.global.Type">_</span>            =&gt;
        <a href="#550864" title="=&gt; Patterns.this.global.Tree">qualifier</a> <span title="Patterns.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Patterns.this.PseudoType">_</span>: <span title="Patterns.this.global.Apply">Apply</span> =&gt; <a href="PatternBindings.scala.html#547542" title="(o: Patterns.this.global.Tree)Patterns.this.PseudoType">PseudoType</a><span class="delimiter">(</span><a href="#552040" title="=&gt; Patterns.this.global.Apply">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Patterns.this.global.Type">_</span>        =&gt; <a href="../../../reflect/internal/Types.scala.html#38930" title="(pre: Patterns.this.global.Type, sym: Patterns.this.global.Symbol)Patterns.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#550864" title="=&gt; Patterns.this.global.Tree">qualifier</a><span class="delimiter">)</span>.<a href="#542850" title="=&gt; Patterns.this.global.Type">necessaryType</a>, <a href="#542853" title="=&gt; Patterns.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="550858">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="550900">pv</a>: <a href="Matrix.scala.html#540333" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <a href="#552388" title="ApplySelectPattern.this.type" class="keyword">this</a>.<a href="PatternBindings.scala.html#542841" title="()Patterns.this.Pattern">rebindToObjectCheck</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="550859">description</a> = <a href="#550869" title="=&gt; Option[String]">backticked</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String">Some</span><span class="delimiter">(</span><a title="String" id="550909">s</a><span class="delimiter">)</span>  =&gt; <span title="String(&quot;this.&quot;)" class="string">&quot;this.&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#550909" title="String">s</a>
      <span class="keyword">case</span> <span title="String">_</span>        =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Sel(%s.%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#550864" title="=&gt; Patterns.this.global.Tree">qualifier</a><span class="delimiter">)</span>, <a href="#550866" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>
  // 8.1.4 (c)
  case <span class="keyword">class</span> <a title="class StableIdPattern extends Patterns.this.Pattern with Patterns.this.SelectPattern with ScalaObject with Product with Serializable" id="552367">StableIdPattern</a><a href="#552367" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Select" id="551856">tree</a>: <span title="Patterns.this.global.Select">Select</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242436" title="Patterns.this.SelectPattern">SelectPattern</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Select" id="550933">select</a> = <a href="#551856" title="=&gt; Patterns.this.global.Select">tree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="550934">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;St(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#550935" title="=&gt; List[Patterns.this.global.Name]">printableSegments</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot; . &quot;)" class="string">&quot; . &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.global.Name]" id="550935">printableSegments</a> =
      <a href="#550868" title="=&gt; List[Patterns.this.global.Name]">pathSegments</a> <span title="(p: Patterns.this.global.Name =&gt; Boolean)List[Patterns.this.global.Name]">filter</span> <span class="delimiter">(</span><a title="Patterns.this.global.Name" id="550966">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#550966" title="Patterns.this.global.Name">x</a>.<a href="../../../reflect/internal/Names.scala.html#52121" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#550966" title="Patterns.this.global.Name">x</a>.<span title="()String">toString</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;$iw&quot;)" class="string">&quot;$iw&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  // 8.1.4 (d)
  case <span class="keyword">class</span> <a title="class ObjectPattern extends Patterns.this.Pattern with Patterns.this.ApplyPattern with ScalaObject with Product with Serializable" id="552346">ObjectPattern</a><a href="#552346" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Apply" id="552024">tree</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242439" title="Patterns.this.ApplyPattern">ApplyPattern</a> <span class="delimiter">{</span>  // NamePattern?
    <a href="../Global.scala.html#186186" title="(requirement: Boolean)Unit">require</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#550767" title="=&gt; Patterns.this.global.Tree">fn</a>.<span title="=&gt; Boolean">isType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#542856" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="550995">sufficientType</a> = <a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41511" title="=&gt; Patterns.this.global.Type">narrow</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="550996">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="551011">pv</a>: <a href="Matrix.scala.html#540333" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <a href="#552346" title="ObjectPattern.this.type" class="keyword">this</a>.<a href="PatternBindings.scala.html#542841" title="()Patterns.this.Pattern">rebindToObjectCheck</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="550997">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Obj(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#550767" title="=&gt; Patterns.this.global.Tree">fn</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  // 8.1.4 (e)
  case <span class="keyword">class</span> <a title="class SimpleIdPattern extends Patterns.this.Pattern with Patterns.this.NamePattern with ScalaObject with Product with Serializable" id="552325">SimpleIdPattern</a><a href="#552325" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Ident" id="551820">tree</a>: <span title="Patterns.this.global.Ident">Ident</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242437" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Ident<a href="#551050" title="Patterns.this.global.Name" id="551041" class="delimiter">(</a><a title="Patterns.this.global.Name" id="551050">name</a><span class="delimiter">)</span> = <a href="#551820" title="=&gt; Patterns.this.global.Ident">tree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="551042">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Id(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#551040" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.5
  case <span class="keyword">class</span> <a title="class ConstructorPattern extends Patterns.this.Pattern with Patterns.this.ApplyPattern with Patterns.this.NamePattern with ScalaObject with Product with Serializable" id="552304">ConstructorPattern</a><a href="#552304" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Apply" id="552016">tree</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242439" title="Patterns.this.ApplyPattern">ApplyPattern</a> <span class="keyword">with</span> <a href="#242437" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    <a href="../Global.scala.html#186185" title="(requirement: Boolean, message: =&gt; Any)Unit">require</a><span class="delimiter">(</span><a href="#550767" title="=&gt; Patterns.this.global.Tree">fn</a>.<span title="=&gt; Boolean">isType</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#552304" title="ConstructorPattern.this.type" class="keyword">this</a>.<a href="#542857" title="=&gt; Boolean">isCaseClass</a>, <span title="String(&quot;tree: &quot;)" class="string">&quot;tree: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#552016" title="=&gt; Patterns.this.global.Apply">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; fn: &quot;)" class="string">&quot; fn: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#550767" title="=&gt; Patterns.this.global.Tree">fn</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Name" id="551077">name</a> = <a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Patterns.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Patterns.this.global.Name">name</a>
    <span class="keyword">def</span> <a title="=&gt; String" id="551078">cleanName</a> = <a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Patterns.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46575" title="=&gt; String">decodedName</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="551079">hasPrefix</a> = <a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Patterns.this.global.Type">prefix</a>.<a href="../../../reflect/internal/Types.scala.html#41588" title="=&gt; String">prefixString</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="551080">prefixedName</a> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#551079" title="=&gt; Boolean">hasPrefix</a><span class="delimiter">)</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s.%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Patterns.this.global.Type">prefix</a>.<a href="../../../reflect/internal/Types.scala.html#41588" title="=&gt; String">prefixString</a>, <a href="#551078" title="=&gt; String">cleanName</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#551078" title="=&gt; String">cleanName</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="551081">isColonColon</a> = <a href="#551078" title="=&gt; String">cleanName</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;::&quot;)" class="string">&quot;::&quot;</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pm: Patterns.this.MatchMatrix#PatternMatch)List[Patterns.this.Pattern]" id="551082">subpatterns</a><span class="delimiter">(</span><a title="Patterns.this.MatchMatrix#PatternMatch" id="551126">pm</a>: MatchMatrix#<a href="ParallelMatching.scala.html#540474" title="Patterns.this.MatchMatrix#PatternMatch">PatternMatch</a><span class="delimiter">)</span> =
      <span title="List[Patterns.this.Pattern]" class="keyword">if</span> <span class="delimiter">(</span><a href="#551126" title="Patterns.this.MatchMatrix#PatternMatch">pm</a>.<a href="ParallelMatching.scala.html#544332" title="=&gt; Patterns.this.Pattern">head</a>.<a href="#542857" title="=&gt; Boolean">isCaseClass</a><span class="delimiter">)</span> <a href="ParallelMatching.scala.html#242450" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#550769" title="=&gt; List[Patterns.this.global.Tree]">args</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#552304" title="Patterns.this.ConstructorPattern" class="keyword">super</a>.<a href="#542852" title="(pm: Patterns.this.MatchMatrix#PatternMatch)List[Patterns.this.Pattern]">subpatterns</a><span class="delimiter">(</span><a href="#551126" title="Patterns.this.MatchMatrix#PatternMatch">pm</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="551083">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="551135">pv</a>: <a href="Matrix.scala.html#540333" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> =
      <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#550769" title="=&gt; List[Patterns.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#552304" title="ConstructorPattern.this.type" class="keyword">this</a> <a href="PatternBindings.scala.html#542839" title="(tpe: Patterns.this.global.Type)Patterns.this.Pattern">rebindToEmpty</a> <a href="#552016" title="=&gt; Patterns.this.global.Apply">tree</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span>
      <span class="keyword">else</span> <a href="#552304" title="Patterns.this.ConstructorPattern" class="keyword">this</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="551084">description</a> = <span class="delimiter">{</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#551081" title="=&gt; Boolean">isColonColon</a><span class="delimiter">)</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s :: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#550769" title="(n: Int)Patterns.this.global.Tree">args</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#550769" title="(n: Int)Patterns.this.global.Tree">args</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#551077" title="=&gt; Patterns.this.global.Name">name</a>, <a href="ParallelMatching.scala.html#242450" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#550769" title="=&gt; List[Patterns.this.global.Tree]">args</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  // 8.1.6
  case <span class="keyword">class</span> <a title="class TuplePattern extends Patterns.this.Pattern with Patterns.this.ApplyPattern with ScalaObject with Product with Serializable" id="552283">TuplePattern</a><a href="#552283" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Apply" id="552008">tree</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242439" title="Patterns.this.ApplyPattern">ApplyPattern</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="551185">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;((%s))&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#550769" title="=&gt; List[Patterns.this.global.Tree]">args</a>.<span title="=&gt; Int">size</span>, <a href="ParallelMatching.scala.html#242450" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#550769" title="=&gt; List[Patterns.this.global.Tree]">args</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.7 / 8.1.8 (unapply and unapplySeq calls)
  case <span class="keyword">class</span> <a title="class ExtractorPattern extends Patterns.this.Pattern with Patterns.this.UnapplyPattern with ScalaObject with Product with Serializable" id="552262">ExtractorPattern</a><a href="#552262" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.UnApply" id="551981">tree</a>: <span title="Patterns.this.global.UnApply">UnApply</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242438" title="Patterns.this.UnapplyPattern">UnapplyPattern</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="550688">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="551217">pv</a>: <a href="Matrix.scala.html#540333" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#551217" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#540377" title="=&gt; Patterns.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <a href="Matrix.scala.html#242489" title="=&gt; Long">NO_EXHAUSTIVE</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="MatchSupport.scala.html#539108" title="(f: String, xs: Any*)Unit">TRACE</a><span class="delimiter">(</span><span title="String(&quot;Setting NO_EXHAUSTIVE on &quot;)" class="string">&quot;Setting NO_EXHAUSTIVE on &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#551217" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#540377" title="=&gt; Patterns.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; due to extractor &quot;)" class="string">&quot; due to extractor &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#551981" title="=&gt; Patterns.this.global.UnApply">tree</a><span class="delimiter">)</span>
        <a href="#551217" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#540377" title="=&gt; Patterns.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)Patterns.this.global.Symbol">setFlag</a> <a href="Matrix.scala.html#242489" title="=&gt; Long">NO_EXHAUSTIVE</a>
      <span class="delimiter">}</span>

      <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#551217" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#540378" title="=&gt; Patterns.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Patterns.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#550677" title="=&gt; Patterns.this.global.Symbol">arg</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Patterns.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="#552262" title="Patterns.this.ExtractorPattern" class="keyword">this</a>
      <span class="keyword">else</span> <a href="#552262" title="ExtractorPattern.this.type" class="keyword">this</a> <a href="PatternBindings.scala.html#542837" title="(t: Patterns.this.global.Tree)Patterns.this.Pattern">rebindTo</a> <a href="#550679" title="=&gt; Patterns.this.global.Typed">uaTyped</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="550689">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Unapply(%s =&gt; %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#550680" title="=&gt; Patterns.this.global.Type">necessaryType</a>, <a href="#550683" title="=&gt; String">resTypesString</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // Special List handling.  It was like that when I got here.
  case <span class="keyword">class</span> <a title="class ListExtractorPattern extends Patterns.this.Pattern with Patterns.this.UnapplyPattern with Patterns.this.SequenceLikePattern with ScalaObject with Product with Serializable" id="552258">ListExtractorPattern</a><a href="#552258" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.UnApply" id="551971">tree</a>: <span title="Patterns.this.global.UnApply">UnApply</span>, <a title="Patterns.this.global.Tree" id="551972">tpt</a>: <span title="Patterns.this.global.Tree">Tree</span>, <a title="List[Patterns.this.global.Tree]" id="551973">elems</a>: <span title="List[Patterns.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242438" title="Patterns.this.UnapplyPattern">UnapplyPattern</a> <span class="keyword">with</span> <a href="#242416" title="Patterns.this.SequenceLikePattern">SequenceLikePattern</a> <span class="delimiter">{</span>
    // As yet I can't testify this is doing any good relative to using
    // tpt.tpe, but it doesn't seem to hurt either.
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.analyzer.global.Type" id="551375">packedType</a> = <a href="../transform/TypingTransformers.scala.html#242086" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#186285" title="object Patterns.this.global.typer">typer</a>.<a href="../typechecker/Typers.scala.html#187874" title="(tree: Patterns.this.global.analyzer.global.Tree, pt: Patterns.this.global.analyzer.global.Type)Patterns.this.global.analyzer.global.Type">computeType</a><span class="delimiter">(</span><a href="#551972" title="=&gt; Patterns.this.global.Tree">tpt</a>, <a href="#551972" title="=&gt; Patterns.this.global.Tree">tpt</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.Type" id="551377">consRef</a>    = <a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Patterns.this.global.Type, args: List[Patterns.this.global.Type])Patterns.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45122" title="=&gt; Patterns.this.global.Symbol">ConsClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46625" title="=&gt; Patterns.this.global.Type">typeConstructor</a>, <span title="(xs: Patterns.this.global.analyzer.global.Type*)List[Patterns.this.global.analyzer.global.Type]">List</span><span class="delimiter">(</span><a href="#551374" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.Type" id="551379">listRef</a>    = <a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Patterns.this.global.Type, args: List[Patterns.this.global.Type])Patterns.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45128" title="=&gt; Patterns.this.global.Symbol">ListClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46625" title="=&gt; Patterns.this.global.Type">typeConstructor</a>, <span title="(xs: Patterns.this.global.analyzer.global.Type*)List[Patterns.this.global.analyzer.global.Type]">List</span><span class="delimiter">(</span><a href="#551374" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Patterns.this.global.Type" id="551381">seqRef</a>     = <a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Patterns.this.global.Type, args: List[Patterns.this.global.Type])Patterns.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45130" title="=&gt; Patterns.this.global.Symbol">SeqClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46625" title="=&gt; Patterns.this.global.Type">typeConstructor</a>, <span title="(xs: Patterns.this.global.analyzer.global.Type*)List[Patterns.this.global.analyzer.global.Type]">List</span><span class="delimiter">(</span><a href="#551374" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="551382">thisSeqRef</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Patterns.this.global.Type" id="551427">tc</a> = <span class="delimiter">(</span><a href="#551971" title="=&gt; Patterns.this.global.UnApply">tree</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41553" title="(clazz: Patterns.this.global.Symbol)Patterns.this.global.Type">baseType</a> <a href="../../../reflect/internal/Definitions.scala.html#45130" title="=&gt; Patterns.this.global.Symbol">SeqClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41516" title="=&gt; Patterns.this.global.Type">typeConstructor</a>
      <span title="Patterns.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#551427" title="Patterns.this.global.Type">tc</a>.<a href="../../../reflect/internal/Types.scala.html#41528" title="=&gt; List[Patterns.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Patterns.this.global.Type, args: List[Patterns.this.global.Type])Patterns.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#551427" title="Patterns.this.global.Type">tc</a>, <span title="(xs: Patterns.this.global.analyzer.global.Type*)List[Patterns.this.global.analyzer.global.Type]">List</span><span class="delimiter">(</span><a href="#551374" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#551380" title="=&gt; Patterns.this.global.Type">seqRef</a>
    <span class="delimiter">}</span>

    // Fold a list into a well-typed x :: y :: etc :: tree.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(hd: Patterns.this.global.Tree, tl: Patterns.this.global.Tree)Patterns.this.global.Tree" id="551383">listFolder</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="551445">hd</a>: <span title="Patterns.this.global.Tree">Tree</span>, <a title="Patterns.this.global.Tree" id="551446">tl</a>: <span title="Patterns.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Patterns.this.global.Tree">Tree</span> = <a href="../../../reflect/internal/TreeInfo.scala.html#120104" title="(x: Patterns.this.global.treeInfo.global.Tree)Patterns.this.global.treeInfo.global.Tree">unbind</a><span class="delimiter">(</span><a href="#551445" title="Patterns.this.global.Tree">hd</a><span class="delimiter">)</span> <span title="Patterns.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Patterns.this.global.Tree" id="551449">t</a> @ Star<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="PatternBindings.scala.html#242506" title="(oldTree: Patterns.this.global.Tree, newTree: Patterns.this.global.Tree)Patterns.this.global.Tree">moveBindings</a><span class="delimiter">(</span><a href="#551445" title="Patterns.this.global.Tree">hd</a>, <a href="../ast/TreeDSL.scala.html#285069" title="(tpe: Patterns.this.global.Type)Patterns.this.global.Ident">WILD</a><span class="delimiter">(</span><a href="#551449" title="Patterns.this.global.Star">t</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Patterns.this.global.Apply">_</span>           =&gt;
        <span class="keyword">val</span> <a title="Patterns.this.global.MethodType" id="551454">consType</a>    = <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[Patterns.this.global.Symbol], resultType: Patterns.this.global.Type)Patterns.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#242370" title="=&gt; Patterns.this.global.TermSymbol">dummyMethod</a> <a href="../../../reflect/internal/Symbols.scala.html#46419" title="(argtypes: List[Patterns.this.global.Type])List[Patterns.this.global.Symbol]">newSyntheticValueParams</a> <span title="(xs: Patterns.this.global.Type*)List[Patterns.this.global.Type]">List</span><span class="delimiter">(</span><a href="#551374" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a>, <a href="#551378" title="=&gt; Patterns.this.global.Type">listRef</a><span class="delimiter">)</span>, <a href="#551376" title="=&gt; Patterns.this.global.Type">consRef</a><span class="delimiter">)</span>

        <a href="../transform/TypingTransformers.scala.html#242086" title="(fun: Patterns.this.global.Tree, args: List[Patterns.this.global.Tree])Patterns.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../transform/TypingTransformers.scala.html#242086" title="(tp: Patterns.this.global.Type)Patterns.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#551454" title="Patterns.this.global.MethodType">consType</a><span class="delimiter">)</span>, <span title="(xs: Patterns.this.global.Tree*)List[Patterns.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#551445" title="Patterns.this.global.Tree">hd</a>, <a href="#551446" title="Patterns.this.global.Tree">tl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Patterns.this.global.Type)Patterns.this.global.Apply">setType</span> <a href="#551376" title="=&gt; Patterns.this.global.Type">consRef</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.gen.global.Tree" id="551384">foldedPatterns</a> = <a href="#551973" title="=&gt; List[Patterns.this.global.Tree]">elems</a>.<span title="(z: Patterns.this.global.gen.global.Tree)(f: (Patterns.this.global.Tree, Patterns.this.global.gen.global.Tree) =&gt; Patterns.this.global.gen.global.Tree)Patterns.this.global.gen.global.Tree">foldRight</span><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object Patterns.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92366" title="=&gt; Patterns.this.global.gen.global.Tree">mkNil</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="551527">x</a>, <a title="Patterns.this.global.gen.global.Tree" id="551528">y</a><span class="delimiter">)</span> =&gt; <a href="#551383" title="(hd: Patterns.this.global.Tree, tl: Patterns.this.global.Tree)Patterns.this.global.Tree">listFolder</a><span class="delimiter">(</span><a href="#551527" title="Patterns.this.global.Tree">x</a>, <a href="#551528" title="Patterns.this.global.gen.global.Tree">y</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="551385">necessaryType</a> = <span title="Patterns.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#544741" title="=&gt; List[Patterns.this.Pattern]">nonStarPatterns</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#551376" title="=&gt; Patterns.this.global.Type">consRef</a> <span class="keyword">else</span> <a href="#551378" title="=&gt; Patterns.this.global.Type">listRef</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="551386">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="551533">pv</a>: <a href="Matrix.scala.html#540333" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#551533" title="Patterns.this.PatternVar">pv</a>.<a href="Matrix.scala.html#540378" title="=&gt; Patterns.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Patterns.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#551385" title="=&gt; Patterns.this.global.Type">necessaryType</a><span class="delimiter">)</span>
        <a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#551384" title="=&gt; Patterns.this.global.gen.global.Tree">foldedPatterns</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#552258" title="ListExtractorPattern.this.type" class="keyword">this</a> <a href="PatternBindings.scala.html#542837" title="(t: Patterns.this.global.Tree)Patterns.this.Pattern">rebindTo</a> <span class="delimiter">(</span><a href="../transform/TypingTransformers.scala.html#242086" title="(expr: Patterns.this.global.Tree, tpt: Patterns.this.global.Tree)Patterns.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#551971" title="=&gt; Patterns.this.global.UnApply">tree</a>, <a href="../transform/TypingTransformers.scala.html#242086" title="(tp: Patterns.this.global.Type)Patterns.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#551385" title="=&gt; Patterns.this.global.Type">necessaryType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Patterns.this.global.Type)Patterns.this.global.Typed">setType</span> <a href="#551385" title="=&gt; Patterns.this.global.Type">necessaryType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="551387">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;List(%s =&gt; %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#551374" title="=&gt; Patterns.this.global.analyzer.global.Type">packedType</a>, <a href="#550683" title="=&gt; String">resTypesString</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait SequenceLikePattern extends Patterns.this.Pattern with ScalaObject" id="242416">SequenceLikePattern</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#242440" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.global.Tree]" id="544737">elems</a>: <span title="List[Patterns.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="544738">hasStar</a> = <a href="#544737" title="=&gt; List[Patterns.this.global.Tree]">elems</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/TreeInfo.scala.html#120105" title="(x: Patterns.this.global.treeInfo.global.Tree)Boolean">isStar</a><span class="delimiter">(</span><a href="#544737" title="=&gt; List[Patterns.this.global.Tree]">elems</a>.<span title="=&gt; Patterns.this.global.Tree">last</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="544739">elemPatterns</a>    = <a href="ParallelMatching.scala.html#242450" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#544737" title="=&gt; List[Patterns.this.global.Tree]">elems</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.global.Tree]" id="544740">nonStarElems</a>    = <span title="List[Patterns.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#544738" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span> <a href="#544737" title="=&gt; List[Patterns.this.global.Tree]">elems</a>.<span title="=&gt; List[Patterns.this.global.Tree]">init</span> <span class="keyword">else</span> <a href="#544737" title="=&gt; List[Patterns.this.global.Tree]">elems</a>
    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="544741">nonStarPatterns</a> = <a href="ParallelMatching.scala.html#242450" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#544740" title="=&gt; List[Patterns.this.global.Tree]">nonStarElems</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="544742">nonStarLength</a>   = <a href="#544740" title="=&gt; List[Patterns.this.global.Tree]">nonStarElems</a>.<span title="=&gt; Int">length</span>
  <span class="delimiter">}</span>

  // 8.1.8 (b) (literal ArrayValues)
  case <span class="keyword">class</span> <a title="class SequencePattern extends Patterns.this.Pattern with Patterns.this.SequenceLikePattern with ScalaObject with Product with Serializable" id="552228">SequencePattern</a><a href="#552228" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.ArrayValue" id="551847">tree</a>: <span title="Patterns.this.global.ArrayValue">ArrayValue</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242440" title="Patterns.this.Pattern">Pattern</a> <span class="keyword">with</span> <a href="#242416" title="Patterns.this.SequenceLikePattern">SequenceLikePattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> ArrayValue<a href="#544731" title="(Patterns.this.global.Tree, List[Patterns.this.global.Tree])" id="544729" class="delimiter">(</a><a href="#544728" title="Patterns.this.global.Tree" id="544731">elemtpt</a>, <a href="#544728" title="List[Patterns.this.global.Tree]" id="544733">elems</a><span class="delimiter">)</span> = <a href="#551847" title="=&gt; Patterns.this.global.ArrayValue">tree</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="544734">subpatternsForVars</a>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#544739" title="=&gt; List[Patterns.this.Pattern]">elemPatterns</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="544735">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Seq(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#544739" title="=&gt; List[Patterns.this.Pattern]">elemPatterns</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.8 (c)
  case <span class="keyword">class</span> <a title="class StarPattern extends Patterns.this.Pattern with ScalaObject with Product with Serializable" id="552207">StarPattern</a><a href="#552207" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Star" id="551865">tree</a>: <span title="Patterns.this.global.Star">Star</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242440" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Star<a href="#551626" title="Patterns.this.global.Tree" id="551619" class="delimiter">(</a><a title="Patterns.this.global.Tree" id="551626">elem</a><span class="delimiter">)</span> = <a href="#551865" title="=&gt; Patterns.this.global.Star">tree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="551620">description</a> = <span title="String(&quot;_*&quot;)" class="string">&quot;_*&quot;</span>
  <span class="delimiter">}</span>
  // XXX temporary?
  case <span class="keyword">class</span> <a title="class ThisPattern extends Patterns.this.Pattern with Patterns.this.NamePattern with ScalaObject with Product with Serializable" id="552186">ThisPattern</a><a href="#552186" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.This" id="551874">tree</a>: <span title="Patterns.this.global.This">This</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242437" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> This<a href="#551660" title="Patterns.this.global.TypeName" id="551651" class="delimiter">(</a><a title="Patterns.this.global.TypeName" id="551660">name</a><span class="delimiter">)</span> = <a href="#551874" title="=&gt; Patterns.this.global.This">tree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="551652">description</a> = <span title="String(&quot;this&quot;)" class="string">&quot;this&quot;</span>
  <span class="delimiter">}</span>

  // 8.1.9
  // InfixPattern ... subsumed by Constructor/Extractor Patterns

  // 8.1.10
  case <span class="keyword">class</span> <a title="class AlternativePattern extends Patterns.this.Pattern with ScalaObject with Product with Serializable" id="552165">AlternativePattern</a><a href="#552165" title="ScalaObject" class="delimiter">(</a><a title="Patterns.this.global.Alternative" id="551780">tree</a>: <span title="Patterns.this.global.Alternative">Alternative</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242440" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> Alternative<a href="#551693" title="List[Patterns.this.global.Tree]" id="551685" class="delimiter">(</a><a title="List[Patterns.this.global.Tree]" id="551693">subtrees</a><span class="delimiter">)</span> = <a href="#551780" title="=&gt; Patterns.this.global.Alternative">tree</a>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="551686">alts</a> = <a href="ParallelMatching.scala.html#242450" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#551684" title="=&gt; List[Patterns.this.global.Tree]">subtrees</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="551687">description</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Alt(%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#551686" title="=&gt; List[Patterns.this.Pattern]">alts</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot; | &quot;)" class="string">&quot; | &quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // 8.1.11
  // XMLPattern ... for now, subsumed by SequencePattern, but if we want
  //   to make it work right, it probably needs special handling.

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Patterns.this.global.Tree)Nothing" id="242429">abortUnknownTree</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="551722">tree</a>: <span title="Patterns.this.global.Tree">Tree</span><span class="delimiter">)</span> =
    <a href="../Global.scala.html#186187" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Unknown Tree reached pattern matcher: %s/%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#551722" title="Patterns.this.global.Tree">tree</a>, <a href="#551722" title="Patterns.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">object</span> <a title="object Patterns.this.Pattern" id="242430">Pattern</a> <span title="ScalaObject" class="delimiter">{</span>
    // a small tree -&gt; pattern cache
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Patterns.this.global.Tree,Patterns.this.Pattern]" id="543523">cache</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35655" title="object Patterns.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110762" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Patterns.this.global.Tree,Patterns.this.Pattern]" class="delimiter">[</span><span title="Patterns.this.global.Tree">Tree</span>, <a href="#242440" title="Patterns.this.Pattern">Pattern</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern" id="543525">apply</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="543527">tree</a>: <span title="Patterns.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="#242440" title="Patterns.this.Pattern">Pattern</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#543523" title="=&gt; scala.collection.mutable.HashMap[Patterns.this.global.Tree,Patterns.this.Pattern]">cache</a> <span title="(key: Patterns.this.global.Tree)Boolean">contains</span> <a href="#543527" title="Patterns.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="#543523" title="(key: Patterns.this.global.Tree)Patterns.this.Pattern">cache</a><span class="delimiter">(</span><a href="#543527" title="Patterns.this.global.Tree">tree</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Patterns.this.Pattern" id="551733">p</a> = <a href="#543527" title="Patterns.this.global.Tree">tree</a> <span title="Patterns.this.Pattern" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Patterns.this.Pattern" id="551768">x</a>: <span title="Patterns.this.global.Bind">Bind</span>              =&gt; <a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">apply</a><span class="delimiter">(</span><a href="../../../reflect/internal/TreeInfo.scala.html#120104" title="(x: Patterns.this.global.treeInfo.global.Tree)Patterns.this.global.treeInfo.global.Tree">unbind</a><span class="delimiter">(</span><a href="#543527" title="Patterns.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="PatternBindings.scala.html#542835" title="(x: Patterns.this.global.Bind)Patterns.this.Pattern">setBound</a> <a href="#551768" title="Patterns.this.global.Bind">x</a>
        <span class="keyword">case</span> <a href="../transform/TypingTransformers.scala.html#242086" title="Patterns.this.WildcardPattern">EmptyTree</a>            =&gt; <a href="#552455" title="()Patterns.this.WildcardPattern">WildcardPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Patterns.this.WildcardPattern">Ident</span><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Patterns.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; Patterns.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>  =&gt; <a href="#552455" title="()Patterns.this.WildcardPattern">WildcardPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.AlternativePattern" id="551773">x</a> @ Alternative<span class="delimiter">(</span><a title="List[Patterns.this.global.Tree]" id="551775">ps</a><span class="delimiter">)</span>  =&gt; <a href="#552165" title="(tree: Patterns.this.global.Alternative)Patterns.this.AlternativePattern">AlternativePattern</a><span class="delimiter">(</span><a href="#551773" title="Patterns.this.global.Alternative">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.Pattern" id="551784">x</a>: <span title="Patterns.this.global.Apply">Apply</span>             =&gt; <a href="#551786" title="(x: Patterns.this.global.Apply)Patterns.this.Pattern">ApplyPattern</a><span class="delimiter">(</span><a href="#551784" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.TypedPattern" id="551789">x</a>: <span title="Patterns.this.global.Typed">Typed</span>             =&gt; <a href="#552451" title="(tree: Patterns.this.global.Typed)Patterns.this.TypedPattern">TypedPattern</a><span class="delimiter">(</span><a href="#551789" title="Patterns.this.global.Typed">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.LiteralPattern" id="551798">x</a>: <span title="Patterns.this.global.Literal">Literal</span>           =&gt; <a href="#552430" title="(tree: Patterns.this.global.Literal)Patterns.this.LiteralPattern">LiteralPattern</a><span class="delimiter">(</span><a href="#551798" title="Patterns.this.global.Literal">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.Pattern" id="551800">x</a>: <span title="Patterns.this.global.UnApply">UnApply</span>           =&gt; <a href="#551804" title="(x: Patterns.this.global.UnApply)Patterns.this.Pattern">UnapplyPattern</a><span class="delimiter">(</span><a href="#551800" title="Patterns.this.global.UnApply">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns extends Patterns.this.NamePattern with Product with Serializable" id="551807">x</a>: <span title="Patterns.this.global.Ident">Ident</span>             =&gt; <span title="Patterns extends Patterns.this.NamePattern with Product with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/TreeInfo.scala.html#120077" title="(pat: Patterns.this.global.treeInfo.global.Tree)Boolean">isVarPattern</a><span class="delimiter">(</span><a href="#551807" title="Patterns.this.global.Ident">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#552476" title="(tree: Patterns.this.global.Ident)Patterns.this.VariablePattern">VariablePattern</a><span class="delimiter">(</span><a href="#551807" title="Patterns.this.global.Ident">x</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#552325" title="(tree: Patterns.this.global.Ident)Patterns.this.SimpleIdPattern">SimpleIdPattern</a><span class="delimiter">(</span><a href="#551807" title="Patterns.this.global.Ident">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.SequencePattern" id="551842">x</a>: <span title="Patterns.this.global.ArrayValue">ArrayValue</span>        =&gt; <a href="#552228" title="(tree: Patterns.this.global.ArrayValue)Patterns.this.SequencePattern">SequencePattern</a><span class="delimiter">(</span><a href="#551842" title="Patterns.this.global.ArrayValue">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.StableIdPattern" id="551851">x</a>: <span title="Patterns.this.global.Select">Select</span>            =&gt; <a href="#552367" title="(tree: Patterns.this.global.Select)Patterns.this.StableIdPattern">StableIdPattern</a><span class="delimiter">(</span><a href="#551851" title="Patterns.this.global.Select">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.StarPattern" id="551860">x</a>: <span title="Patterns.this.global.Star">Star</span>              =&gt; <a href="#552207" title="(tree: Patterns.this.global.Star)Patterns.this.StarPattern">StarPattern</a><span class="delimiter">(</span><a href="#551860" title="Patterns.this.global.Star">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Patterns.this.ThisPattern" id="551869">x</a>: <span title="Patterns.this.global.This">This</span>              =&gt; <a href="#552186" title="(tree: Patterns.this.global.This)Patterns.this.ThisPattern">ThisPattern</a><span class="delimiter">(</span><a href="#551869" title="Patterns.this.global.This">x</a><span class="delimiter">)</span> // XXX ?
        <span class="keyword">case</span> <span title="Nothing">_</span>                    =&gt; <a href="#242429" title="(tree: Patterns.this.global.Tree)Nothing">abortUnknownTree</a><span class="delimiter">(</span><a href="#543527" title="Patterns.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#543523" title="(key: Patterns.this.global.Tree, value: Patterns.this.Pattern)Unit">cache</a><span class="delimiter">(</span><a href="#543527" title="Patterns.this.global.Tree">tree</a><span class="delimiter">)</span> = <a href="#551733" title="Patterns.this.Pattern">p</a>

      // limiting the trace output
      <a href="#551733" title="Patterns.this.Pattern">p</a> <span title="Patterns.this.Pattern" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Patterns.this.Pattern">WildcardPattern</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#551733" title="Patterns.this.Pattern">p</a>
        <span class="keyword">case</span> <span title="Patterns.this.Pattern">_</span>: <a href="#552430" title="Patterns.this.LiteralPattern">LiteralPattern</a>  =&gt; <a href="#551733" title="Patterns.this.Pattern">p</a>
        <span class="keyword">case</span> <span title="Patterns.this.Pattern">_</span>                  =&gt; <a href="MatchSupport.scala.html#539110" title="(s: String)(x: Patterns.this.Pattern)Patterns.this.Pattern">tracing</a><span class="delimiter">(</span><span title="String(&quot;Pattern&quot;)" class="string">&quot;Pattern&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#551733" title="Patterns.this.Pattern">p</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    // matching on Pattern(...) always skips the bindings.
    <span class="keyword">def</span> <a title="(other: Any)Option[Patterns.this.global.Tree]" id="543526">unapply</a><span class="delimiter">(</span><a title="Any" id="546034">other</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Option[Patterns.this.global.Tree]">Option</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#546034" title="Any">other</a> <span title="Option[Patterns.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Option[Patterns.this.global.Tree]" id="551888">x</a>: <span title="Patterns.this.global.Tree">Tree</span>    =&gt; <a href="#543526" title="(other: Any)Option[Patterns.this.global.Tree]">unapply</a><span class="delimiter">(</span><a href="#543525" title="(tree: Patterns.this.global.Tree)Patterns.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#551888" title="Patterns.this.global.Tree">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Some[Patterns.this.global.Tree]" id="551889">x</a>: <a href="#242440" title="Patterns.this.Pattern">Pattern</a> =&gt; <span title="(x: Patterns.this.global.Tree)Some[Patterns.this.global.Tree]">Some</span><span class="delimiter">(</span><a href="#551889" title="Patterns.this.Pattern">x</a>.<a href="#542846" title="=&gt; Patterns.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span>          =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Patterns.this.UnapplyPattern" id="242432">UnapplyPattern</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">object</span> <a title="object scala.tools.nsc.matching.Patterns.UnapplyPattern.UnapplySeq" id="551802">UnapplySeq</a> <span title="ScalaObject" class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: Patterns.this.global.UnApply)Option[(Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree])]" id="551895">unapply</a><span class="delimiter">(</span><a title="Patterns.this.global.UnApply" id="551897">x</a>: <span title="Patterns.this.global.UnApply">UnApply</span><span class="delimiter">)</span> = <a href="#551897" title="Patterns.this.global.UnApply">x</a> <span title="Option[(Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree])]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Some[(Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree])]">UnApply</span><span class="delimiter">(</span>
        Apply<span class="delimiter">(</span>TypeApply<span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="551912">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Patterns.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59280" title="=&gt; Patterns.this.global.nme.NameType">unapplySeq</a><span class="delimiter">)</span>, <a href="#551914" title="(x: List[Patterns.this.global.Tree])Some[List[Patterns.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="551925">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>, _<span class="delimiter">)</span>,
        <a href="#551927" title="(x: List[Patterns.this.global.Tree])Some[List[Patterns.this.global.Tree]]">List</a><span class="delimiter">(</span>ArrayValue<span class="delimiter">(</span>_, <a title="List[Patterns.this.global.Tree]" id="551940">elems</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span title="(x: (Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree]))Some[(Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree])]">Some</span><span class="delimiter">(</span><span title="(_1: Patterns.this.global.Symbol, _2: Patterns.this.global.Tree, _3: List[Patterns.this.global.Tree])(Patterns.this.global.Symbol, Patterns.this.global.Tree, List[Patterns.this.global.Tree])" class="delimiter">(</span><a href="#551912" title="Patterns.this.global.Tree">qual</a>.<span title="=&gt; Patterns.this.global.Symbol">symbol</span>, <a href="#551925" title="Patterns.this.global.Tree">tpt</a>, <a href="#551940" title="List[Patterns.this.global.Tree]">elems</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
          <span title="object None">None</span>
       <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(x: Patterns.this.global.UnApply)Patterns.this.Pattern" id="551804">apply</a><span class="delimiter">(</span><a title="Patterns.this.global.UnApply" id="551805">x</a>: <span title="Patterns.this.global.UnApply">UnApply</span><span class="delimiter">)</span>: <a href="#242440" title="Patterns.this.Pattern">Pattern</a> = <a href="#551805" title="Patterns.this.global.UnApply">x</a> <span title="Patterns.this.Pattern" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#551895" title="Patterns.this.ListExtractorPattern">UnapplySeq</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45136" title="=&gt; Patterns.this.global.Symbol">ListModule</a>, <a title="Patterns.this.global.Tree" id="551965">tpt</a>, <a title="List[Patterns.this.global.Tree]" id="551966">elems</a><span class="delimiter">)</span> =&gt;
        <a href="#552258" title="(tree: Patterns.this.global.UnApply, tpt: Patterns.this.global.Tree, elems: List[Patterns.this.global.Tree])Patterns.this.ListExtractorPattern">ListExtractorPattern</a><span class="delimiter">(</span><a href="#551805" title="Patterns.this.global.UnApply">x</a>, <a href="#551965" title="Patterns.this.global.Tree">tpt</a>, <a href="#551966" title="List[Patterns.this.global.Tree]">elems</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Patterns.this.ExtractorPattern">_</span> =&gt;
        <a href="#552262" title="(tree: Patterns.this.global.UnApply)Patterns.this.ExtractorPattern">ExtractorPattern</a><span class="delimiter">(</span><a href="#551805" title="Patterns.this.global.UnApply">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  // right now a tree like x @ Apply(fn, Nil) where !fn.isType
  // is handled by creating a singleton type:
  //
  //    val stype = Types.singleType(x.tpe.prefix, x.symbol)
  //
  // and then passing that as a type argument to EqualsPatternClass:
  //
  //    val tpe = typeRef(NoPrefix, EqualsPatternClass, List(stype))
  //
  // then creating a Typed pattern and rebinding.
  //
  //    val newpat = Typed(EmptyTree, TypeTree(tpe)) setType tpe)
  //
  // This is also how Select(qual, name) is handled.
  <span class="keyword">object</span> <a title="object Patterns.this.ApplyPattern" id="242434">ApplyPattern</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(x: Patterns.this.global.Apply)Patterns.this.Pattern" id="551786">apply</a><span class="delimiter">(</span><a title="Patterns.this.global.Apply" id="551787">x</a>: <span title="Patterns.this.global.Apply">Apply</span><span class="delimiter">)</span>: <a href="#242440" title="Patterns.this.Pattern">Pattern</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Apply<a href="#551987" title="(Patterns.this.global.Tree, List[Patterns.this.global.Tree])" class="delimiter">(</a><a href="#551986" title="Patterns.this.global.Tree" id="551987">fn</a>, <a href="#551986" title="List[Patterns.this.global.Tree]" id="551988">args</a><span class="delimiter">)</span> = <a href="#551787" title="Patterns.this.global.Apply">x</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="551989">isModule</a>  = <a href="#551787" title="Patterns.this.global.Apply">x</a>.<span title="=&gt; Patterns.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">||</span> <a href="#551787" title="Patterns.this.global.Apply">x</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41503" title="=&gt; Patterns.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="551990">isTuple</a>   = <a href="../../../reflect/internal/Definitions.scala.html#45245" title="(tp: Patterns.this.global.Type)Boolean">isTupleTypeOrSubtype</a><span class="delimiter">(</span><a href="#551987" title="Patterns.this.global.Tree">fn</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span><span class="delimiter">)</span>

      <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#551987" title="Patterns.this.global.Tree">fn</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#551990" title="=&gt; Boolean">isTuple</a><span class="delimiter">)</span> <a href="#552283" title="(tree: Patterns.this.global.Apply)Patterns.this.TuplePattern">TuplePattern</a><span class="delimiter">(</span><a href="#551787" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#552304" title="(tree: Patterns.this.global.Apply)Patterns.this.ConstructorPattern">ConstructorPattern</a><span class="delimiter">(</span><a href="#551787" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#551988" title="List[Patterns.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Patterns.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#551989" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <a href="#552346" title="(tree: Patterns.this.global.Apply)Patterns.this.ObjectPattern">ObjectPattern</a><span class="delimiter">(</span><a href="#551787" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#551987" title="Patterns.this.global.Tree">fn</a> <span title="Patterns.this.Pattern" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Patterns.this.ApplyIdentPattern">_</span>: <span title="Patterns.this.global.Ident">Ident</span>   =&gt; <a href="#552409" title="(tree: Patterns.this.global.Apply)Patterns.this.ApplyIdentPattern">ApplyIdentPattern</a><span class="delimiter">(</span><a href="#551787" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Patterns.this.ApplySelectPattern">_</span>: <span title="Patterns.this.global.Select">Select</span>  =&gt; <a href="#552388" title="(tree: Patterns.this.global.Apply)Patterns.this.ApplySelectPattern">ApplySelectPattern</a><span class="delimiter">(</span><a href="#551787" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#242429" title="(tree: Patterns.this.global.Tree)Nothing">abortUnknownTree</a><span class="delimiter">(</span><a href="#551787" title="Patterns.this.global.Apply">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Some intermediate pattern classes with shared structure **/

  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait SelectPattern extends Patterns.this.Pattern with Patterns.this.NamePattern with ScalaObject" id="242436">SelectPattern</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#242437" title="Patterns.this.NamePattern">NamePattern</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Select" id="550861">select</a>: <span title="Patterns.this.global.Select">Select</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Select<a href="#550865" title="(Patterns.this.global.Tree, Patterns.this.global.Name)" id="550863" class="delimiter">(</a><a href="#550862" title="Patterns.this.global.Tree" id="550865">qualifier</a>, <a href="#550862" title="Patterns.this.global.Name" id="550867">name</a><span class="delimiter">)</span> = <a href="#550861" title="=&gt; Patterns.this.global.Select">select</a>
    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.global.Name]" id="550868">pathSegments</a> = <a href="#550870" title="(t: Patterns.this.global.Tree)List[Patterns.this.global.Name]">getPathSegments</a><span class="delimiter">(</span><a href="#542846" title="=&gt; Patterns.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Option[String]" id="550869">backticked</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#550864" title="=&gt; Patterns.this.global.Tree">qualifier</a> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Some[String]">_</span>: <span title="Patterns.this.global.This">This</span> <span class="keyword">if</span> <a href="../../../reflect/internal/TreeInfo.scala.html#120090" title="(name: Patterns.this.global.treeInfo.global.Name)Boolean">isVariableName</a><span class="delimiter">(</span><a href="#550866" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span>  =&gt; <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;`%s`&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#550866" title="=&gt; Patterns.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span>                                =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(t: Patterns.this.global.Tree)List[Patterns.this.global.Name]" id="550870">getPathSegments</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="550955">t</a>: <span title="Patterns.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Patterns.this.global.Name]">List</span><span class="delimiter">[</span>Name<span class="delimiter">]</span> = <a href="#550955" title="Patterns.this.global.Tree">t</a> <span title="List[Patterns.this.global.Name]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[Patterns.this.global.Name]">Select</span><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="552057">q</a>, <a title="Patterns.this.global.Name" id="552058">name</a><span class="delimiter">)</span>  =&gt; <a href="#552058" title="Patterns.this.global.Name">name</a> <a href="#552059" title="(x: Patterns.this.global.Name)List[Patterns.this.global.Name]">::</a> <a href="#550870" title="(t: Patterns.this.global.Tree)List[Patterns.this.global.Name]">getPathSegments</a><span class="delimiter">(</span><a href="#552057" title="Patterns.this.global.Tree">q</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[Patterns.this.global.Name]">Apply</span><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="552069">f</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>    =&gt; <a href="#550870" title="(t: Patterns.this.global.Tree)List[Patterns.this.global.Name]">getPathSegments</a><span class="delimiter">(</span><a href="#552069" title="Patterns.this.global.Tree">f</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                =&gt; <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait NamePattern extends Patterns.this.Pattern with ScalaObject" id="242437">NamePattern</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#242440" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Name" id="550520">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Patterns.this.global.Name">Name</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="550521">sufficientType</a> = <a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41511" title="=&gt; Patterns.this.global.Type">narrow</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="550522">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="550824">pv</a>: <a href="Matrix.scala.html#540333" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span> = <a href="#242437" title="NamePattern.this.type" class="keyword">this</a>.<a href="PatternBindings.scala.html#542840" title="()Patterns.this.Pattern">rebindToEqualsCheck</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="550523">description</a> = <a href="#550520" title="=&gt; Patterns.this.global.Name">name</a>.<span title="()String">toString</span>
  <span class="delimiter">}</span>

  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait UnapplyPattern extends Patterns.this.Pattern with ScalaObject" id="242438">UnapplyPattern</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#242440" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> UnApply<a href="#550672" title="(Patterns.this.global.Tree, List[Patterns.this.global.Tree])" id="550670" class="delimiter">(</a><a href="#550669" title="Patterns.this.global.Tree" id="550672">unfn</a>, <a href="#550669" title="List[Patterns.this.global.Tree]" id="550674">args</a><span class="delimiter">)</span> = <a href="#542846" title="=&gt; Patterns.this.global.Tree">tree</a>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Apply<a href="#551245" title="Patterns.this.global.Tree" id="550676" class="delimiter">(</a><a title="Patterns.this.global.Tree" id="551245">fn</a>, _<span class="delimiter">)</span> = <a href="#550671" title="=&gt; Patterns.this.global.Tree">unfn</a>
    <span class="keyword">lazy</span> <span class="keyword">val</span> MethodType<a href="#551271" title="Patterns.this.global.Symbol" id="550678" class="delimiter">(</a><a href="#551249" title="(x: List[Patterns.this.global.Symbol])Some[List[Patterns.this.global.Symbol]]">List</a><span class="delimiter">(</span><a title="Patterns.this.global.Symbol" id="551271">arg</a>, _*<span class="delimiter">)</span>, _<span class="delimiter">)</span> = <a href="#550675" title="=&gt; Patterns.this.global.Tree">fn</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Typed" id="550679">uaTyped</a> = <a href="../transform/TypingTransformers.scala.html#242086" title="(expr: Patterns.this.global.Tree, tpt: Patterns.this.global.Tree)Patterns.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#542846" title="=&gt; Patterns.this.global.Tree">tree</a>, <a href="../transform/TypingTransformers.scala.html#242086" title="(tp: Patterns.this.global.Type)Patterns.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#550677" title="=&gt; Patterns.this.global.Symbol">arg</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Patterns.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Patterns.this.global.Type)Patterns.this.global.Typed">setType</span> <a href="#550677" title="=&gt; Patterns.this.global.Symbol">arg</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Patterns.this.global.Type">tpe</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="550680">necessaryType</a> = <a href="#550677" title="=&gt; Patterns.this.global.Symbol">arg</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Patterns.this.global.Type">tpe</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="550681">subpatternsForVars</a> = <a href="#550673" title="=&gt; List[Patterns.this.global.Tree]">args</a> <span title="List[Patterns.this.Pattern]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#552077" title="List[Patterns.this.Pattern]">List</a><span class="delimiter">(</span>ArrayValue<span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="552090">elemtpe</a>, <a title="List[Patterns.this.global.Tree]" id="552091">elems</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="ParallelMatching.scala.html#242450" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#552091" title="List[Patterns.this.global.Tree]">elems</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[Patterns.this.Pattern]">_</span>                                =&gt; <a href="ParallelMatching.scala.html#242450" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#550673" title="=&gt; List[Patterns.this.global.Tree]">args</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.global.analyzer.global.Type]" id="550682">resTypes</a> = <a href="../Global.scala.html#186231" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: Patterns.this.global.type}">analyzer</a>.<a href="../typechecker/Unapplies.scala.html#187557" title="(ufn: Patterns.this.global.analyzer.global.Symbol, ufntpe: Patterns.this.global.analyzer.global.Type)List[Patterns.this.global.analyzer.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#550671" title="=&gt; Patterns.this.global.Tree">unfn</a>.<span title="=&gt; Patterns.this.global.Symbol">symbol</span>, <a href="#550671" title="=&gt; Patterns.this.global.Tree">unfn</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="550683">resTypesString</a> = <a href="#550682" title="=&gt; List[Patterns.this.global.analyzer.global.Type]">resTypes</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String(&quot;Boolean&quot;)">Nil</span>  =&gt; <span title="String(&quot;Boolean&quot;)" class="string">&quot;Boolean&quot;</span>
      <span class="keyword">case</span> <a title="String" id="551345">xs</a>   =&gt; <a href="#551345" title="List[Patterns.this.global.analyzer.global.Type]">xs</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">sealed</span> <span class="keyword">trait</span> <a title="trait ApplyPattern extends Patterns.this.Pattern with ScalaObject" id="242439">ApplyPattern</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#242440" title="Patterns.this.Pattern">Pattern</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> Apply<a href="#550768" title="(Patterns.this.global.Tree, List[Patterns.this.global.Tree])" id="550766" class="delimiter">(</a><a href="#550765" title="Patterns.this.global.Tree" id="550768">fn</a>, <a href="#550765" title="List[Patterns.this.global.Tree]" id="550770">args</a><span class="delimiter">)</span> = <a href="#542846" title="=&gt; Patterns.this.global.Tree">tree</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="550771">subpatternsForVars</a>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="ParallelMatching.scala.html#242450" title="(xs: List[Patterns.this.global.Tree])List[Patterns.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#550769" title="=&gt; List[Patterns.this.global.Tree]">args</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="550772">dummies</a> =
      <span title="List[Patterns.this.Pattern]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#242439" title="ApplyPattern.this.type" class="keyword">this</a>.<a href="#542857" title="=&gt; Boolean">isCaseClass</a><span class="delimiter">)</span> <span title="object Nil">Nil</span>
      <span class="keyword">else</span> <a href="#242372" title="(i: Int)List[Patterns.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><a href="#542851" title="=&gt; Patterns.this.global.Type">sufficientType</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Patterns.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46668" title="=&gt; List[Patterns.this.global.Symbol]">caseFieldAccessors</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="550773">isConstructorPattern</a> = <a href="#550767" title="=&gt; Patterns.this.global.Tree">fn</a>.<span title="=&gt; Boolean">isType</span>
  <span class="delimiter">}</span>

  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Pattern extends Object with Patterns.this.PatternBindingLogic with ScalaObject" id="242440">Pattern</a> <a href="#242440" title="ScalaObject" class="keyword">extends</a> <a href="PatternBindings.scala.html#242512" title="Patterns.this.PatternBindingLogic">PatternBindingLogic</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Tree" id="542846">tree</a>: <span title="Patterns.this.global.Tree">Tree</span>

    // returns either a simplification of this pattern or identity.
    <span class="keyword">def</span> <a title="(pv: Patterns.this.PatternVar)Patterns.this.Pattern" id="542847">simplify</a><span class="delimiter">(</span><a title="Patterns.this.PatternVar" id="543608">pv</a>: <a href="Matrix.scala.html#540333" title="Patterns.this.PatternVar">PatternVar</a><span class="delimiter">)</span>: <a href="#242440" title="Patterns.this.Pattern">Pattern</a> = <a href="#242440" title="Patterns.this.Pattern" class="keyword">this</a>

    // the right number of dummies for this pattern
    <span class="keyword">def</span> <a title="=&gt; List[Patterns.this.Pattern]" id="542848">dummies</a>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <span title="object Nil">Nil</span>

    // Is this a default pattern (untyped &quot;_&quot; or an EmptyTree inserted by the matcher)
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="542849">isDefault</a> = <span title="Boolean(false)" class="keyword">false</span>

    // what type must a scrutinee have to have any chance of matching this pattern?
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="542850">necessaryType</a> = <a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>

    // what type could a scrutinee have which would automatically indicate a match?
    // (nullness and guards will still be checked.)
    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="542851">sufficientType</a> = <a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>

    // the subpatterns for this pattern (at the moment, that means constructor arguments)
    <span class="keyword">def</span> <a title="(pm: Patterns.this.MatchMatrix#PatternMatch)List[Patterns.this.Pattern]" id="542852">subpatterns</a><span class="delimiter">(</span><a title="Patterns.this.MatchMatrix#PatternMatch" id="547858">pm</a>: MatchMatrix#<a href="ParallelMatching.scala.html#540474" title="Patterns.this.MatchMatrix#PatternMatch">PatternMatch</a><span class="delimiter">)</span>: <span title="List[Patterns.this.Pattern]">List</span><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#547858" title="Patterns.this.MatchMatrix#PatternMatch">pm</a>.<a href="ParallelMatching.scala.html#544338" title="=&gt; List[Patterns.this.Pattern]">dummies</a>

    <span class="keyword">def</span>    <a title="=&gt; Patterns.this.global.Symbol" id="542853">sym</a>  = <a href="#542846" title="=&gt; Patterns.this.global.Tree">tree</a>.<span title="=&gt; Patterns.this.global.Symbol">symbol</span>
    <span class="keyword">def</span>    <a title="=&gt; Patterns.this.global.Type" id="542854">tpe</a>  = <a href="#542846" title="=&gt; Patterns.this.global.Tree">tree</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="542855">isEmpty</a> = <a href="#542846" title="=&gt; Patterns.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isEmpty</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="542856">isModule</a>    = <a href="#542853" title="=&gt; Patterns.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">||</span> <a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41503" title="=&gt; Patterns.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="542857">isCaseClass</a> = <a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Patterns.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46776" title="=&gt; Boolean">isCase</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="542858">isObject</a>    = <span class="delimiter">(</span><a href="#542853" title="=&gt; Patterns.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#542853" title="=&gt; Patterns.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Patterns.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Patterns.this.global.Type">prefix</a>.<a href="../../../reflect/internal/Types.scala.html#41491" title="=&gt; Boolean">isStable</a>  // XXX not entire logic

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="542859">hasStar</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="(tpe: Patterns.this.global.Type)Pattern.this.type" id="542860">setType</a><span class="delimiter">(</span><a title="Patterns.this.global.Type" id="552109">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Patterns.this.global.Type">Type</a><span class="delimiter">)</span>: <span class="keyword">this</span>.<span class="keyword">type</span> = <span class="delimiter">{</span>
      <a href="#542846" title="=&gt; Patterns.this.global.Tree">tree</a> <span title="(tp: Patterns.this.global.Type)Patterns.this.global.Tree">setType</span> <a href="#552109" title="Patterns.this.global.Type">tpe</a>
      <a href="#242440" title="Pattern.this.type" class="keyword">this</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Patterns.this.global.Type" id="542861">equalsCheck</a> =
      <a href="MatchSupport.scala.html#539110" title="(s: String)(x: Patterns.this.global.Type)Patterns.this.global.Type">tracing</a><span class="delimiter">(</span><span title="String(&quot;equalsCheck&quot;)" class="string">&quot;equalsCheck&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span>
        <span title="Patterns.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#542853" title="=&gt; Patterns.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46480" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#38930" title="(pre: Patterns.this.global.Type, sym: Patterns.this.global.Symbol)Patterns.this.global.Type">singleType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38829" title="object Patterns.this.global.NoPrefix">NoPrefix</a>, <a href="#542853" title="=&gt; Patterns.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#542854" title="=&gt; Patterns.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41511" title="=&gt; Patterns.this.global.Type">narrow</a>
      <span class="delimiter">)</span>

    /** Standard methods **/
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="542862">equals</a><span class="delimiter">(</span><a title="Any" id="550596">other</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#550596" title="Any">other</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="550599">x</a>: <a href="#242440" title="Patterns.this.Pattern">Pattern</a> =&gt; <a href="#242440" title="Pattern.this.type" class="keyword">this</a>.<a href="PatternBindings.scala.html#542834" title="=&gt; Patterns.this.global.Tree">boundTree</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#550599" title="Patterns.this.Pattern">x</a>.<a href="PatternBindings.scala.html#542834" title="=&gt; Patterns.this.global.Tree">boundTree</a>
      <span class="keyword">case</span> <span title="Boolean">_</span>          =&gt; <a href="#242440" title="Patterns.this.Pattern" class="keyword">super</a>.<span title="(x$1: Any)Boolean">equals</span><span class="delimiter">(</span><a href="#550596" title="Any">other</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="542863">hashCode</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="PatternBindings.scala.html#542834" title="=&gt; Patterns.this.global.Tree">boundTree</a>.<span title="()Int">hashCode</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="542864">description</a> = <a href="#242440" title="Patterns.this.Pattern" class="keyword">super</a>.<span title="()String">toString</span>

    <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="542865">toString</a> = <a href="#542864" title="=&gt; String">description</a>

    <span class="keyword">def</span> <a title="()String" id="542866">toTypeString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s &lt;: x &lt;: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#542850" title="=&gt; Patterns.this.global.Type">necessaryType</a>, <a href="#542851" title="=&gt; Patterns.this.global.Type">sufficientType</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /*** Extractors ***/

  <span class="keyword">object</span> <a title="object Patterns.this.UnapplyParamType" id="242441">UnapplyParamType</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(x: Patterns.this.global.Tree)Option[Patterns.this.global.Type]" id="544642">unapply</a><span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="544643">x</a>: <span title="Patterns.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Option[Patterns.this.global.Type]">Option</span><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span title="(x: Patterns.this.global.treeInfo.global.Tree)(pf: PartialFunction[Patterns.this.global.treeInfo.global.Tree,Patterns.this.global.Type])Option[Patterns.this.global.Type]">condOpt</span><span class="delimiter">(</span><a href="../../../reflect/internal/TreeInfo.scala.html#120104" title="(x: Patterns.this.global.treeInfo.global.Tree)Patterns.this.global.treeInfo.global.Tree">unbind</a><span class="delimiter">(</span><a href="#544643" title="Patterns.this.global.Tree">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#552129" title="Patterns.this.global.Type" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Patterns.this.global.Type">UnApply</span><span class="delimiter">(</span>Apply<span class="delimiter">(</span><a title="Patterns.this.global.Tree" id="552136">fn</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#552136" title="Patterns.this.global.Tree">fn</a>.<span title="=&gt; Patterns.this.global.Type">tpe</span> <span title="Patterns.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Patterns.this.global.Type" id="552137">m</a>: <a href="../../../reflect/internal/Types.scala.html#38881" title="Patterns.this.global.MethodType">MethodType</a> =&gt; <a href="#552137" title="Patterns.this.global.MethodType">m</a>.<a href="../../../reflect/internal/Types.scala.html#62361" title="=&gt; List[Patterns.this.global.Type]">paramTypes</a>.<span title="=&gt; Patterns.this.global.Type">head</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>