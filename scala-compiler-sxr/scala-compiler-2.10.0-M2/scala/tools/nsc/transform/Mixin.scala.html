<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/Mixin.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Mixin extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="29109">Mixin</a> <a href="#29109" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#28089" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#14381" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#187429" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object Mixin.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#187433" title="object Mixin.this.CODE">CODE</a>._

  /** The name of the phase: */
  <span class="keyword">val</span> <a title="String" id="243019">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;mixin&quot;)" class="string">&quot;mixin&quot;</span>

  /** The phase might set the following new flags: */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="243021">phaseNewFlags</a>: <span title="Long">Long</span> = <a href="../../../reflect/internal/Flags.scala.html#38542" title="=&gt; Long">lateMODULE</a> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#38544" title="=&gt; Long">notOVERRIDE</a>

  /** This map contains a binding (class -&gt; info) if
   *  the class with this info at phase mixinPhase has been treated for mixin composition
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Type]" id="243022">treatedClassInfos</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35655" title="object Mixin.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110762" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Type]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Types.scala.html#38813" title="Mixin.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  /** Map a lazy, mixedin field accessor to it's trait member accessor */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" id="243024">initializer</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35655" title="object Mixin.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110762" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">]</span>

  /** Deferred bitmaps that will be added during the transformation of a class */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]" id="243026">deferredBitmaps</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35655" title="object Mixin.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110762" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: List[Mixin.this.global.Tree])scala.collection.mutable.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]">withDefaultValue</span> <span title="object Nil">Nil</span>

// --------- helper functions -----------------------------------------------

  /** A member of a trait is implemented statically if its implementation after the
   *  mixin transform is in the static implementation module. To be statically
   *  implemented, a member must be a method that belonged to the trait's implementation class
   *  before (e.g. it is not abstract). Not statically implemented are
   *   - non-private modules: these are implemented directly in the mixin composition class
   *     (private modules, on the other hand, are implemented statically, but their
   *      module variable is not. all such private modules are lifted, because
   *      non-lifted private modules have been eliminated in ExplicitOuter)
   *   - field accessors and superaccessors, except for lazy value accessors which become initializer
   *     methods in the impl class (because they can have arbitrary initializers)
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="243028">isImplementedStatically</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605070">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="#605070" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#605070" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605070" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">||</span> <a href="#605070" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>PRIVATE <span title="Long(17179869188L)">|</span> LIFTED<span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#605070" title="Mixin.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>ACCESSOR <span title="Long(402653184L)">|</span> SUPERACCESSOR<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#605070" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  /** A member of a trait is static only if it belongs only to the
   *  implementation class, not the interface, and it is implemented
   *  statically.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="243029">isStaticOnly</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605081">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#243028" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#605081" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#605081" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46543" title="=&gt; Boolean">isImplOnly</a>

  /** A member of a trait is forwarded if it is implemented statically and it
   *  is also visible in the trait's interface. In that case, a forwarder to
   *  the member's static implementation will be added to the class that
   *  inherits the trait.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="243030">isForwarded</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605084">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#243028" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#605084" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605084" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46543" title="=&gt; Boolean">isImplOnly</a>

  /** Maps the type of an implementation class to its interface;
   *  maps all other types to themselves.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Mixin.this.global.Type)Mixin.this.global.Type" id="243031">toInterface</a><span class="delimiter">(</span><a title="Mixin.this.global.Type" id="605087">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Mixin.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Mixin.this.global.Type">Type</a> =
    <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188852" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#605087" title="Mixin.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46697" title="=&gt; Mixin.this.global.Symbol">toInterface</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="243032">isFieldWithBitmap</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605095">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#605095" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a> // ensure that nested objects are transformed
    // For checkinit consider normal value getters
    // but for lazy values only take into account lazy getters
    <a href="#605095" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#605095" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605095" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a>
  <span class="delimiter">}</span>

  /** Does this field require an initialized bit?
   *  Note: fields of classes inheriting DelayedInit are not checked.
   *        This is because the they are neither initialized in the constructor
   *        nor do they have a setter (not if they are vals anyway). The usual
   *        logic for setting bitmaps does therefor not work for such fields.
   *        That's why they are excluded.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="243033">needsInitFlag</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605098">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
        <a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186678" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">checkInit</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#605098" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46483" title="=&gt; Boolean">isGetter</a>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605098" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46489" title="=&gt; Boolean">isInitializedToDefault</a>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605098" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>PARAMACCESSOR | SPECIALIZED <span title="Long(1102195982336L)">|</span> LAZY<span class="delimiter">)</span>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605098" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(137438953472L)">PRESUPER</span><span class="delimiter">)</span>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605098" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46532" title="=&gt; Boolean">isOuterAccessor</a>
     <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#605098" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: Mixin.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#45080" title="=&gt; Mixin.this.global.Symbol">DelayedInitClass</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  /** Maps all parts of this type that refer to implementation classes to
   *  their corresponding interfaces.
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Mixin.this.global.TypeMap" id="243034">toInterfaceMap</a> = <a href="#604994" title="Mixin.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#38980" title="anonymous class $anon extends Mixin.this.global.TypeMap" id="604994">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Mixin.this.global.Type)Mixin.this.global.Type" id="604996">apply</a><span class="delimiter">(</span><a title="Mixin.this.global.Type" id="604997">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Mixin.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Mixin.this.global.Type">Type</a> = <a href="../../../reflect/internal/Types.scala.html#74772" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">mapOver</a><span class="delimiter">(</span> <a href="#604997" title="Mixin.this.global.Type">tp</a> <span title="Mixin.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="Mixin.this.global.Type" id="605033">pre</a>, <a title="Mixin.this.global.Symbol" id="605034">sym</a>, <a title="List[Mixin.this.global.Type]" id="605035">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#605034" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#38934" title="(pre: Mixin.this.global.Type, sym: Mixin.this.global.Symbol, args: List[Mixin.this.global.Type])Mixin.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#605033" title="Mixin.this.global.Type">pre</a>, <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188852" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#605034" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46697" title="=&gt; Mixin.this.global.Symbol">toInterface</a><span class="delimiter">)</span>, <a href="#605035" title="List[Mixin.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Type">_</span> =&gt; <a href="#604997" title="Mixin.this.global.Type">tp</a>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** The implementation class corresponding to a currently compiled interface.
   *  todo: try to use Symbol.implClass instead?
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="243036">implClass</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605117">iface</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605119">impl</a> = <a href="#605117" title="Mixin.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46673" title="=&gt; Mixin.this.global.Symbol">implClass</a>
    <span title="Mixin.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#605119" title="Mixin.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#605119" title="Mixin.this.global.Symbol">impl</a> <span class="keyword">else</span> <a href="../Global.scala.html#186247" title="object Mixin.this.global.erasure">erasure</a>.<a href="AddInterfaces.scala.html#242712" title="(iface: Mixin.this.global.erasure.global.Symbol)Mixin.this.global.erasure.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#605117" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Returns the symbol that is accessed by a super-accessor in a mixin composition.
   *
   *  @param base       The class in which everything is mixed together
   *  @param member     The symbol statically referred to by the superaccessor in the trait
   *  @param mixinClass The mixin class that produced the superaccessor
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol, mixinClass: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="243037">rebindSuper</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605128">base</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="605129">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="605130">mixinClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a> =
    <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188840" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Symbol]" id="605136">bcs</a> = <a href="#605128" title="Mixin.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41581" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a>.<span title="(p: Mixin.this.global.Symbol =&gt; Boolean)List[Mixin.this.global.Symbol]">dropWhile</span><span class="delimiter">(</span><a href="#605130" title="Mixin.this.global.Symbol">mixinClass</a> <a href="#605152" title="(x$1: AnyRef)Boolean">!=</a><span class="delimiter">)</span>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>
      <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="605137">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a>
      <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;starting rebindsuper &quot;)" class="string">&quot;starting rebindsuper &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605128" title="Mixin.this.global.Symbol">base</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605129" title="Mixin.this.global.Symbol">member</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605129" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605130" title="Mixin.this.global.Symbol">mixinClass</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605128" title="Mixin.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41581" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605136" title="List[Mixin.this.global.Symbol]">bcs</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605136" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#605137" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#605138" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605169">other</a> = <a href="#605136" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41539" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#605129" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>;
          <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;rebindsuper &quot;)" class="string">&quot;rebindsuper &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605136" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605169" title="Mixin.this.global.Symbol">other</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605169" title="Mixin.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605169" title="Mixin.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#605137" title="Mixin.this.global.Symbol">sym</a> = <a href="#605129" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46699" title="(ofclazz: Mixin.this.global.Symbol, site: Mixin.this.global.Type)Mixin.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#605136" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span>, <a href="#605128" title="Mixin.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; Mixin.this.global.Type">thisType</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46655" title="(cond: Mixin.this.global.Symbol =&gt; Boolean)Mixin.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605184">sym</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#605184" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>DEFERRED <span title="Long(67108880L)">|</span> BRIDGE<span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#605136" title="List[Mixin.this.global.Symbol]">bcs</a> = <a href="#605136" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span>
      <span class="delimiter">}</span>
      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#605137" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#605129" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span>
      <a href="#605137" title="Mixin.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>

// --------- type transformation -----------------------------------------------

  <span class="keyword">def</span> <a title="(member: Mixin.this.global.Symbol)Boolean" id="243038">isConcreteAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605203">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#605203" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46804" title="=&gt; Boolean">hasAccessorFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605203" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#605203" title="Mixin.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>

  /** Is member overridden (either directly or via a bridge) in base class sequence `bcs`? */
  <span class="keyword">def</span> <a title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean" id="243039">isOverriddenAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605206">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Symbol]" id="605207">bcs</a>: <span title="List[Mixin.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#231974" title="=&gt; scala.tools.nsc.Phase">ownPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Boolean" id="605213">hasOverridingAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605214">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#605214" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41539" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#605206" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46653" title="=&gt; List[Mixin.this.global.Symbol]">alternatives</a>.<span title="(p: Mixin.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span>
        <a title="Mixin.this.global.Symbol" id="605223">sym</a> =&gt;
          <a href="#243038" title="(member: Mixin.this.global.Symbol)Boolean">isConcreteAccessor</a><span class="delimiter">(</span><a href="#605223" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span title="=&gt; Boolean">!</span><a href="#605223" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(34359738368L)">MIXEDIN</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="../../../reflect/internal/Types.scala.html#39076" title="(tp1: Mixin.this.global.Type, tp2: Mixin.this.global.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#605223" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>, <a href="#605206" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#605207" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#605206" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
    <span class="delimiter">(</span><a href="#605213" title="(clazz: Mixin.this.global.Symbol)Boolean">hasOverridingAccessor</a><span class="delimiter">(</span><a href="#605207" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; Mixin.this.global.Symbol">head</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#243039" title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a><span class="delimiter">(</span><a href="#605206" title="Mixin.this.global.Symbol">member</a>, <a href="#605207" title="List[Mixin.this.global.Symbol]">bcs</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">tail</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Add given member to given class, and mark member as mixed-in.
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="243040">addMember</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605234">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="605235">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;new member of &quot;)" class="string">&quot;new member of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605234" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605235" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46757" title="=&gt; String">defString</a><span class="delimiter">)</span>
    <a href="#605234" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Mixin.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">enter</a> <a href="#605235" title="Mixin.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)Mixin.this.global.Symbol">setFlag</a> <span title="Long(34359738368L)">MIXEDIN</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="243041">needsExpandedSetterName</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605241">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#605241" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#605241" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <a href="#605241" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46809" title="=&gt; Boolean">hasStableFlag</a>
    <span class="keyword">else</span> <span title="=&gt; Boolean">!</span><a href="#605241" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46780" title="=&gt; Boolean">isMutable</a>
  <span class="delimiter">)</span>

  /** Add getters and setters for all non-module fields of an implementation
   *  class to its interface unless they are already present. This is done
   *  only once per class. The mixedin flag is used to remember whether late
   *  members have been added to an interface.
   *    - lazy fields don't get a setter.
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)Unit" id="243042">addLateInterfaceMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605244">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#243022" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Type]">treatedClassInfos</a> <span title="(key: Mixin.this.global.Symbol)Option[Mixin.this.global.Type]">get</span> <a href="#605244" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="(x: Mixin.this.global.Type)Some[Mixin.this.global.Type]">Some</span><span class="delimiter">(</span><a href="#605244" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#243022" title="(key: Mixin.this.global.Symbol, value: Mixin.this.global.Type)Unit">treatedClassInfos</a><span class="delimiter">(</span><a href="#605244" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> = <a href="#605244" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>
      <a href="../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../Global.scala.html#186319" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188852" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span>

      /** Create a new getter. Getters are never private or local. They are
       *  always accessors and deferred. */
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="605257">newGetter</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605272">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        // println(&quot;creating new getter for &quot;+ field +&quot; : &quot;+ field.info +&quot; at &quot;+ field.locationString+(field hasFlag MUTABLE))
        <span class="keyword">val</span> <a title="Long" id="605273">newFlags</a> = <a href="#605272" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46586" title="=&gt; Long">flags</a> <span title="(x: Long)Long">&amp;</span> <span title="=&gt; Long">~</span><a href="../../../reflect/internal/Flags.scala.html#38467" title="=&gt; Long">PrivateLocal</a> <span title="(x: Int)Long">|</span> <span title="Int(134217728)">ACCESSOR</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a> <span title="(x: Int)Long">|</span> <span class="delimiter">(</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#605272" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46780" title="=&gt; Boolean">isMutable</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(4194304)">STABLE</span> <span class="delimiter">)</span>
        // TODO preserve pre-erasure info?
        <a href="#605244" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46387" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59432" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterName</a><span class="delimiter">(</span><a href="#605272" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Names.scala.html#38367" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#605272" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="#605273" title="Long">newFlags</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Mixin.this.global.Type)Mixin.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#605272" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Create a new setter. Setters are never private or local. They are
       *  always accessors and deferred. */
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="605258">newSetter</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605305">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        //println(&quot;creating new setter for &quot;+field+field.locationString+(field hasFlag MUTABLE))
        <span class="keyword">val</span> <a title="Mixin.this.global.TermName" id="605306">setterName</a> = <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59434" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59432" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterName</a><span class="delimiter">(</span><a href="#605305" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Names.scala.html#38367" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Long" id="605307">newFlags</a>   = <a href="#605305" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46586" title="=&gt; Long">flags</a> <span title="(x: Long)Long">&amp;</span> <span title="=&gt; Long">~</span><a href="../../../reflect/internal/Flags.scala.html#38467" title="=&gt; Long">PrivateLocal</a> <span title="(x: Int)Long">|</span> <span title="Int(134217728)">ACCESSOR</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a>
        <span class="keyword">val</span> <a title="Mixin.this.global.MethodSymbol" id="605308">setter</a>     = <a href="#605244" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46387" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#605306" title="Mixin.this.global.TermName">setterName</a>, <a href="#605305" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="#605307" title="Long">newFlags</a><span class="delimiter">)</span>
        // TODO preserve pre-erasure info?
        <a href="#605308" title="Mixin.this.global.MethodSymbol">setter</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Mixin.this.global.Type)setter.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#605308" title="Mixin.this.global.MethodSymbol">setter</a>.<a href="../../../reflect/internal/Symbols.scala.html#46419" title="(argtypes: List[Mixin.this.global.Type])List[Mixin.this.global.Symbol]">newSyntheticValueParams</a><span class="delimiter">(</span><span title="(xs: Mixin.this.global.Type*)List[Mixin.this.global.Type]">List</span><span class="delimiter">(</span><a href="#605305" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#243041" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a><span class="delimiter">(</span><a href="#605305" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#605308" title="Mixin.this.global.MethodSymbol">setter</a>.<a href="../../../reflect/internal/Symbols.scala.html#46572" title="(name: Mixin.this.global.Name)Unit">name</a> = <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59427" title="(name: Mixin.this.global.TermName, base: Mixin.this.global.Symbol)Mixin.this.global.TermName">expandedSetterName</a><span class="delimiter">(</span><a href="#605308" title="Mixin.this.global.MethodSymbol">setter</a>.<a href="../../../reflect/internal/Symbols.scala.html#70125" title="=&gt; Mixin.this.global.TermName">name</a>, <a href="#605244" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        
        <a href="#605308" title="Mixin.this.global.MethodSymbol">setter</a>
      <span class="delimiter">}</span>

      <a href="#605244" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a> // make sure info is up to date, so that implClass is set.
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605259">impl</a> = <a href="#243036" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#605244" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#605259" title="Mixin.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605364">member</a> &lt;- <a href="#605259" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#60513" title="(p: Mixin.this.global.Symbol =&gt; Any)Unit">decls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605364" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605364" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605364" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46544" title="=&gt; Boolean">isModuleVar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#605364" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605364" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a>, <a href="#605364" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#605364" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#605259" title="Mixin.this.global.Symbol">impl</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/HasFlags.scala.html#46782" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#605364" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46715" title="(base: Mixin.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#605244" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> // this will also make getter&amp;setter not private
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605365">getter</a> = <a href="#605364" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#605244" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#605365" title="Mixin.this.global.Symbol">getter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#243040" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#605244" title="Mixin.this.global.Symbol">clazz</a>, <a href="#605257" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol">newGetter</a><span class="delimiter">(</span><a href="#605364" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605364" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38860" title="Mixin.this.global.ConstantType">ConstantType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605364" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605381">setter</a> = <a href="#605364" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46711" title="(base: Mixin.this.global.Symbol, hasExpandedName: Boolean)Mixin.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#605244" title="Mixin.this.global.Symbol">clazz</a>, <a href="#243041" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a><span class="delimiter">(</span><a href="#605364" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#605381" title="Mixin.this.global.Symbol">setter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#243040" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#605244" title="Mixin.this.global.Symbol">clazz</a>, <a href="#605258" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Symbol">newSetter</a><span class="delimiter">(</span><a href="#605364" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;new defs of &quot;)" class="string">&quot;new defs of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605244" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605244" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Mixin.this.global.Scope">decls</a><span class="delimiter">)</span>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Add all members to be mixed in into a (non-trait-) class
   *  These are:
   *    for every mixin trait T that is not also inherited by the superclass:
   *     add late interface members to T and then:
   *      - if a member M of T is forwarded to the implementation class, add
   *        a forwarder for M unless one exists already.
   *        The alias of the forwarder is the static member it forwards to.
   *      - for every abstract accessor in T, add a field and an implementation for that accessor
   *      - for every super accessor in T, add an implementation of that accessor
   *      - for every module in T, add a module
   */
  <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, unit: Mixin.this.global.CompilationUnit)Unit" id="243043">addMixedinMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605398">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.CompilationUnit" id="605399">unit</a> : <a href="../CompilationUnits.scala.html#186387" title="Mixin.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(iface: Mixin.this.global.Symbol, clazz: Mixin.this.global.Symbol, imember: Mixin.this.global.Symbol)Mixin.this.global.Symbol" id="605401">cloneBeforeErasure</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605402">iface</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="605403">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="605404">imember</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605405">newSym</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188848" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605410">res</a> = <a href="#605404" title="Mixin.this.global.Symbol">imember</a>.<a href="../../../reflect/internal/Symbols.scala.html#46657" title="(newOwner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#605403" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        // since we used the member (imember) from the interface that represents the trait that's being mixed in,
        // have to instantiate the interface type params (that may occur in imember's info) as they are seen from the class
        // we can't use the member that we get from the implementation class, as it's a clone that was made after erasure,
        // and thus it does not know its info at the beginning of erasure anymore
        // optimize: no need if iface has no typeparams
        <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#605402" title="Mixin.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Mixin.this.global.Symbol]">typeParams</a> <span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#605410" title="Mixin.this.global.Symbol">res</a>.<a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Mixin.this.global.Type)res.type">setInfo</a><span class="delimiter">(</span><a href="#605403" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; Mixin.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#41553" title="(clazz: Mixin.this.global.Symbol)Mixin.this.global.Type">baseType</a><span class="delimiter">(</span><a href="#605402" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41555" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#605404" title="Mixin.this.global.Symbol">imember</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#605410" title="Mixin.this.global.Symbol">res</a>
      <span class="delimiter">}</span> // clone before erasure got rid of type info we'll need to generate a javaSig
      // now we'll have the type info at (the beginning of) erasure in our history,
      <a href="#605405" title="Mixin.this.global.Symbol">newSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46615" title="(info: Mixin.this.global.Type)Mixin.this.global.Symbol">updateInfo</a><span class="delimiter">(</span><a href="#605404" title="Mixin.this.global.Symbol">imember</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41583" title="(owner: Mixin.this.global.Symbol)Mixin.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#605405" title="Mixin.this.global.Symbol">newSym</a><span class="delimiter">)</span><span class="delimiter">)</span> // and now newSym has the info that's been transformed to fit this period (no need for asSeenFrom as phase.erasedTypes)
      <a href="#605405" title="Mixin.this.global.Symbol">newSym</a> // TODO: verify we need the updateInfo and document why
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(1048576L)">JAVA</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#243022" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Mixin.this.global.Type]">treatedClassInfos</a> <span title="(key: Mixin.this.global.Symbol)Option[Mixin.this.global.Type]">get</span> <a href="#605398" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="(x: Mixin.this.global.Type)Some[Mixin.this.global.Type]">Some</span><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#243022" title="(key: Mixin.this.global.Symbol, value: Mixin.this.global.Type)Unit">treatedClassInfos</a><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> = <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>

      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a>, <a href="#605398" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Boolean">nonEmpty</span>, <a href="#605398" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>

      // first complete the superclass with mixed in members
      <a href="#243043" title="(clazz: Mixin.this.global.Symbol, unit: Mixin.this.global.CompilationUnit)Unit">addMixedinMembers</a><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46680" title="=&gt; Mixin.this.global.Symbol">superClass</a>, <a href="#605399" title="Mixin.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

      //Console.println(&quot;adding members of &quot; + clazz.info.baseClasses.tail.takeWhile(superclazz !=) + &quot; to &quot; + clazz);//DEBUG

      /** Mix in members of implementation class mixinClass into class clazz */
      <span class="keyword">def</span> <a title="(impl: Mixin.this.global.Symbol, iface: Mixin.this.global.Symbol)Unit" id="605444">mixinImplClassMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605454">impl</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="605455">iface</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span>
          // XXX this should be impl.isImplClass, except that we get impl classes
          // coming through under -optimise which do not agree that they are (because
          // the IMPLCLASS flag is unset, I believe.) See ticket #4285.
          <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59416" title="(name: Mixin.this.global.Name)Boolean">isImplClassName</a><span class="delimiter">(</span><a href="#605454" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#605454" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a>,
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s (%s) is not a an implementation class, it cannot mix in %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#605454" title="Mixin.this.global.Symbol">impl</a>, <a href="#605454" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46755" title="=&gt; String">defaultFlagString</a>, <a href="#605455" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605454" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#186190" title="(msg: =&gt; String)Unit">debugwarn</a><span class="delimiter">(</span><span title="String(&quot;!!! &quot;)" class="string">&quot;!!! &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605454" title="Mixin.this.global.Symbol">impl</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has an impl class name, but !isImplClass: &quot;)" class="string">&quot; has an impl class name, but !isImplClass: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605454" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46755" title="=&gt; String">defaultFlagString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, mixing in &quot;)" class="string">&quot;, mixing in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605455" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605484">member</a> &lt;- <a href="#605454" title="Mixin.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#60513" title="(p: Mixin.this.global.Symbol =&gt; Any)Unit">decls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#243030" title="(sym: Mixin.this.global.Symbol)Boolean">isForwarded</a><span class="delimiter">(</span><a href="#605484" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605485">imember</a> = <a href="#605484" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46701" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overriddenSymbol</a><span class="delimiter">(</span><a href="#605455" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
            // atPhase(currentRun.erasurePhase){
            //   println(&quot;&quot;+(clazz, iface, clazz.typeParams, iface.typeParams, imember, clazz.thisType.baseType(iface), clazz.thisType.baseType(iface).memberInfo(imember), imember.info substSym(iface.typeParams, clazz.typeParams)  ))
            // }
            // Console.println(&quot;mixin member &quot;+member+&quot;:&quot;+member.tpe+member.locationString+&quot; &quot;+imember+&quot; &quot;+imember.overridingSymbol(clazz)+&quot; to &quot;+clazz+&quot; with scope &quot;+clazz.info.decls)//DEBUG
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#605485" title="Mixin.this.global.Symbol">imember</a>.<a href="../../../reflect/internal/Symbols.scala.html#46702" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41595" title="(name: Mixin.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Mixin.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="#605484" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a>, <span title="Long(0L)" class="int">0</span>, <a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46653" title="=&gt; List[Mixin.this.global.Symbol]">alternatives</a>.<span title="(elem: Any)Boolean">contains</span><span class="delimiter">(</span><a href="#605485" title="Mixin.this.global.Symbol">imember</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605497">member1</a> = <a href="#243040" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span>
                    <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>,
                    <a href="#605401" title="(iface: Mixin.this.global.Symbol, clazz: Mixin.this.global.Symbol, imember: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneBeforeErasure</a><span class="delimiter">(</span><a href="#605455" title="Mixin.this.global.Symbol">iface</a>, <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>, <a href="#605485" title="Mixin.this.global.Symbol">imember</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46380" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a> <a href="../../../reflect/internal/Symbols.scala.html#46590" title="(mask: Long)Mixin.this.global.Symbol">resetFlag</a> <span class="delimiter">(</span><span title="Int(16)">DEFERRED</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#605497" title="Mixin.this.global.Symbol">member1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.TermSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38727" title="Mixin.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span> <a href="../../../reflect/internal/Symbols.scala.html#70135" title="(alias: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">setAlias</a> <a href="#605484" title="Mixin.this.global.Symbol">member</a>;
                <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Mix in members of trait mixinClass into class clazz. Also,
       *  for each lazy field in mixinClass, add a link from its mixed in member to its
       *  initializer method inside the implclass.
       */
      <span class="keyword">def</span> <a title="(mixinClass: Mixin.this.global.Symbol)Unit" id="605445">mixinTraitMembers</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605516">mixinClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // For all members of a trait's interface do:
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605538">member</a> &lt;- <a href="#605516" title="Mixin.this.global.Symbol">mixinClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#60513" title="(p: Mixin.this.global.Symbol =&gt; Any)Unit">decls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#243038" title="(member: Mixin.this.global.Symbol)Boolean">isConcreteAccessor</a><span class="delimiter">(</span><a href="#605538" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#243039" title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a><span class="delimiter">(</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>, <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41581" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#186190" title="(msg: =&gt; String)Unit">debugwarn</a><span class="delimiter">(</span><span title="String(&quot;!!! is overridden val: &quot;)" class="string">&quot;!!! is overridden val: &quot;</span><span title="(x$1: Any)String">+</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              // mixin field accessors
              <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605540">member1</a> = <a href="#243040" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span>
                <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>,
                <a href="#605401" title="(iface: Mixin.this.global.Symbol, clazz: Mixin.this.global.Symbol, imember: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneBeforeErasure</a><span class="delimiter">(</span><a href="#605516" title="Mixin.this.global.Symbol">mixinClass</a>, <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>, <a href="#605538" title="Mixin.this.global.Symbol">member</a><span class="delimiter">)</span> //member.cloneSymbol(clazz)
                  <a href="../../../reflect/internal/Symbols.scala.html#46380" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a>
                  <a href="../../../reflect/internal/Symbols.scala.html#46590" title="(mask: Long)Mixin.this.global.Symbol">resetFlag</a> <span class="delimiter">(</span><span title="Int(16)">DEFERRED</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>
              // println(&quot;mixing in: &quot;+ (member, member.info, member1.info))
              // atPhase(currentRun.erasurePhase){
              //   println(&quot;before erasure: &quot;+ (member.info, member1.info))
              // }
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="605545">init</a> = <a href="#243036" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#605516" title="Mixin.this.global.Symbol">mixinClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41537" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#605545" title="Mixin.this.global.Symbol">init</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;Could not find initializer for &quot;)" class="string">&quot;Could not find initializer for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>
                <a href="#243024" title="(key: Mixin.this.global.Symbol, value: Mixin.this.global.Symbol)Unit">initializer</a><span class="delimiter">(</span><a href="#605540" title="Mixin.this.global.Symbol">member1</a><span class="delimiter">)</span> = <a href="#605545" title="Mixin.this.global.Symbol">init</a>
              <span class="delimiter">}</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46484" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span>
                <a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, ConstantType<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                    // member is a constant; only getter is needed
                    ;
                  <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, TypeRef<span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                    // member is a value of type unit. No field needed
                    ;
                  <span class="keyword">case</span> <span title="Mixin.this.global.Symbol">_</span> =&gt; // otherwise mixin a field as well
                    // atPhase: the private field is moved to the implementation class by erasure,
                    // so it can no longer be found in the member's owner (the trait)
                    <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605567">accessed</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188840" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; Mixin.this.global.Symbol">accessed</a><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="Mixin.this.global.TermSymbol" id="605568">sym</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.TermSymbol)Mixin.this.global.TermSymbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188848" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">{</span> // #3857, need to retain info before erasure when cloning (since cloning only carries over the current entry in the type history)
                      <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46383" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59433" title="(name: Mixin.this.global.TermName)Mixin.this.global.TermName">getterToLocal</a><span class="delimiter">(</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Names.scala.html#38367" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Mixin.this.global.Type">resultType</a><span class="delimiter">)</span> // so we have a type history entry before erasure
                    <span class="delimiter">}</span>
                    <a href="#605568" title="Mixin.this.global.TermSymbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46615" title="(info: Mixin.this.global.Type)Mixin.this.global.Symbol">updateInfo</a><span class="delimiter">(</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Mixin.this.global.Type">resultType</a><span class="delimiter">)</span> // info at current phase
                    <a href="#243040" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a>,
                              <a href="#605568" title="Mixin.this.global.TermSymbol">sym</a>
                                <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#38467" title="=&gt; Long">PrivateLocal</a> <span title="(x: Long)Long">|</span> <a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46591" title="(mask: Long)Long">getFlag</a><span class="delimiter">(</span>MUTABLE <span title="Long(2147487744L)">|</span> LAZY<span class="delimiter">)</span><span class="delimiter">)</span>
                                <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><span title="Long" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46809" title="=&gt; Boolean">hasStableFlag</a><span class="delimiter">)</span> <span title="Long(4096L)">MUTABLE</span> <span class="keyword">else</span> <span title="Long(0L)" class="int">0</span><span class="delimiter">)</span>
                                <a href="../../../reflect/internal/Symbols.scala.html#46641" title="(annots: List[Mixin.this.global.AnnotationInfo])sym.type">setAnnotations</a> <a href="#605567" title="Mixin.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[Mixin.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46790" title="=&gt; Boolean">isSuperAccessor</a><span class="delimiter">)</span> <span class="delimiter">{</span> // mixin super accessors
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605623">member1</a> = <a href="#243040" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a>, <a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46657" title="(newOwner: Mixin.this.global.Symbol)Mixin.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46380" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a>
            <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#605623" title="Mixin.this.global.Symbol">member1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46675" title="=&gt; Mixin.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#605623" title="Mixin.this.global.Symbol">member1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605624">alias1</a> = <a href="#243037" title="(base: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol, mixinClass: Mixin.this.global.Symbol)Mixin.this.global.Symbol">rebindSuper</a><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a>, <a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46675" title="=&gt; Mixin.this.global.Symbol">alias</a>, <a href="#605516" title="Mixin.this.global.Symbol">mixinClass</a><span class="delimiter">)</span>
            <a href="#605623" title="Mixin.this.global.Symbol">member1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.TermSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38727" title="Mixin.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span> <a href="../../../reflect/internal/Symbols.scala.html#70135" title="(alias: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">setAlias</a> <a href="#605624" title="Mixin.this.global.Symbol">alias1</a>

          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46773" title="(mask: Long)Boolean">hasNoFlags</a><span class="delimiter">(</span>LIFTED <span title="Long(17246978048L)">|</span> BRIDGE<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // mixin objects: todo what happens with abstract objects?
            <a href="#243040" title="(clazz: Mixin.this.global.Symbol, member: Mixin.this.global.Symbol)Mixin.this.global.Symbol">addMember</a><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a>, <a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46658" title="(newOwner: Mixin.this.global.Symbol, newFlags: Long)Mixin.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#605398" title="Mixin.this.global.Symbol">clazz</a>, <a href="#605538" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46586" title="=&gt; Long">flags</a> <span title="(x: Long)Long">&amp;</span> <span title="=&gt; Long">~</span><span class="delimiter">(</span><span title="Int(16)">DEFERRED</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46380" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605683">mc</a> &lt;- <a href="#605398" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46682" title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">mixinClasses</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#605683" title="Mixin.this.global.Symbol">mc</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38538" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // @SEAN: adding trait tracking so we don't have to recompile transitive closures
          <a href="#605399" title="Mixin.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188701" title="=&gt; scala.collection.mutable.HashSet[Mixin.this.global.Symbol]">depends</a> <span title="(elem: Mixin.this.global.Symbol)unit.depends.type">+=</span> <a href="#605683" title="Mixin.this.global.Symbol">mc</a>
          <a href="#243042" title="(clazz: Mixin.this.global.Symbol)Unit">addLateInterfaceMembers</a><span class="delimiter">(</span><a href="#605683" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>
          <a href="#605445" title="(mixinClass: Mixin.this.global.Symbol)Unit">mixinTraitMembers</a><span class="delimiter">(</span><a href="#605683" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>
          <a href="#605444" title="(impl: Mixin.this.global.Symbol, iface: Mixin.this.global.Symbol)Unit">mixinImplClassMembers</a><span class="delimiter">(</span><a href="#243036" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#605683" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>, <a href="#605683" title="Mixin.this.global.Symbol">mc</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** The info transform for this phase does the following:
   *   - The parents of every class are mapped from implementation class to interface
   *   - Implementation classes become modules that inherit nothing
   *     and that define all.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol, tp: Mixin.this.global.Type)Mixin.this.global.Type" id="243044">transformInfo</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605694">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Type" id="605695">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Mixin.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Mixin.this.global.Type">Type</a> = <a href="#605695" title="Mixin.this.global.Type">tp</a> <span title="Mixin.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Mixin.this.global.Type">ClassInfoType</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Type]" id="605702">parents</a>, <a title="Mixin.this.global.Scope" id="605703">decls</a>, <a title="Mixin.this.global.Symbol" id="605704">clazz</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Type]" id="605705">parents1</a> = <a href="#605702" title="List[Mixin.this.global.Type]">parents</a>
      <span class="keyword">var</span> <a title="Mixin.this.global.Scope" id="605706">decls1</a> = <a href="#605703" title="Mixin.this.global.Scope">decls</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605704" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#605704" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#605704" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#605704" title="Mixin.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)clazz.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38542" title="=&gt; Long">lateMODULE</a>
          <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="605713">sourceModule</a> = <a href="#605704" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#60506" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#605694" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52126" title="=&gt; Mixin.this.global.TermName">toTermName</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#605713" title="Mixin.this.global.Symbol">sourceModule</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#605713" title="Mixin.this.global.Symbol">sourceModule</a> <a href="../../../reflect/internal/Symbols.scala.html#46380" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#605694" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a>
            <a href="#605713" title="Mixin.this.global.Symbol">sourceModule</a>.<a href="../../../reflect/internal/Symbols.scala.html#46587" title="(fs: Long)Unit">flags</a> = MODULE <span title="Long(288L)">|</span> FINAL
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#605713" title="Mixin.this.global.Symbol">sourceModule</a> = <span class="delimiter">(</span>
              <a href="#605704" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46401" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.ModuleSymbol">newModuleSymbol</a><span class="delimiter">(</span><a href="#605694" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52126" title="=&gt; Mixin.this.global.TermName">toTermName</a>, <a href="#605694" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a>, MODULE <span title="Long(288L)">|</span> FINAL<span class="delimiter">)</span>
                <a href="../../../reflect/internal/Symbols.scala.html#70138" title="(clazz: Mixin.this.global.Symbol)Mixin.this.global.TermSymbol">setModuleClass</a> <a href="#605694" title="Mixin.this.global.Symbol">sym</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.ClassSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38735" title="Mixin.this.global.ClassSymbol">ClassSymbol</a><span class="delimiter">]</span>
            <span class="delimiter">)</span>
            <a href="#605704" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Mixin.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">enter</a> <a href="#605713" title="Mixin.this.global.Symbol">sourceModule</a>
          <span class="delimiter">}</span>
          <a href="#605713" title="Mixin.this.global.Symbol">sourceModule</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Mixin.this.global.Type)Mixin.this.global.Symbol">setInfo</a> <a href="#605694" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>
          // Companion module isn't visible for anonymous class at this point anyway
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#605704" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46672" title="=&gt; Mixin.this.global.Symbol">sourceModule</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#605704" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46503" title="=&gt; Boolean">isAnonymousClass</a>,
            <a href="#605704" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)String">+</span> <span title="String(&quot; has no sourceModule: sym = &quot;)" class="string">&quot; has no sourceModule: sym = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605694" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; sym.tpe = &quot;)" class="string">&quot; sym.tpe = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605694" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="#605705" title="List[Mixin.this.global.Type]">parents1</a> = List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#605706" title="Mixin.this.global.Scope">decls1</a> = <a href="../../../reflect/internal/Scopes.scala.html#39177" title="(elems: Mixin.this.global.Symbol*)Mixin.this.global.Scope">newScopeWith</a><span class="delimiter">(</span><a href="#605703" title="Mixin.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#60510" title="=&gt; List[Mixin.this.global.Symbol]">toList</a> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)List[Mixin.this.global.Symbol]">filter</span> <a href="#243028" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a>: _*<span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#605702" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#605705" title="List[Mixin.this.global.Type]">parents1</a> = <a href="#605702" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; Mixin.this.global.Type">head</span> <a href="#605767" title="(x: Mixin.this.global.Type)List[Mixin.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#605702" title="List[Mixin.this.global.Type]">parents</a>.<span title="=&gt; List[Mixin.this.global.Type]">tail</span> <span title="(f: Mixin.this.global.Type =&gt; Mixin.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Type],Mixin.this.global.Type,List[Mixin.this.global.Type]])List[Mixin.this.global.Type]">map</span> <a href="#243031" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      //decls1 = atPhase(phase.next)(newScopeWith(decls1.toList: _*))//debug
      <span title="Mixin.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#605705" title="List[Mixin.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#605702" title="List[Mixin.this.global.Type]">parents</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#605706" title="Mixin.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#605703" title="Mixin.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#605695" title="Mixin.this.global.Type">tp</a>
      <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#70033" title="(parents: List[Mixin.this.global.Type], decls: Mixin.this.global.Scope, typeSymbol: Mixin.this.global.Symbol)Mixin.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#605705" title="List[Mixin.this.global.Type]">parents1</a>, <a href="#605706" title="Mixin.this.global.Scope">decls1</a>, <a href="#605704" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Mixin.this.global.Type">MethodType</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Symbol]" id="605832">params</a>, <a title="Mixin.this.global.Type" id="605833">restp</a><span class="delimiter">)</span> =&gt;
      <a href="../../../reflect/internal/Types.scala.html#74770" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterfaceMap</a><span class="delimiter">(</span>
        <span title="Mixin.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#243028" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#605694" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605845">ownerParam</a> = <a href="#605694" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46420" title="(argtype: Mixin.this.global.Type)Mixin.this.global.Symbol">newSyntheticValueParam</a><span class="delimiter">(</span><a href="#243031" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#605694" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46666" title="=&gt; Mixin.this.global.Type">typeOfThis</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#605845" title="Mixin.this.global.Symbol">ownerParam</a> <a href="#605847" title="(x: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">::</a> <a href="#605832" title="List[Mixin.this.global.Symbol]">params</a>, <a href="#605833" title="Mixin.this.global.Type">restp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span>
          <a href="#605695" title="Mixin.this.global.Type">tp</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="Mixin.this.global.Type">_</span> =&gt;
      <a href="#605695" title="Mixin.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  /** Return a map of single-use fields to the lazy value that uses them during initialization.
   *  Each field has to be private and defined in the enclosing class, and there must
   *  be exactly one lazy value using it.
   *
   *  Such fields will be nulled after the initializer has memoized the lazy value.
   */
  <span class="keyword">def</span> <a title="(templ: Mixin.this.global.Template)scala.collection.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" id="243045">singleUseFields</a><span class="delimiter">(</span><a title="Mixin.this.global.Template" id="605853">templ</a>: <span title="Mixin.this.global.Template">Template</span><span class="delimiter">)</span>: collection.<span title="scala.collection.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">Map</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="usedIn extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" id="605855">usedIn</a> = <a href="#605858" title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" class="keyword">new</a> <a title="anonymous class $anon extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]" id="605858">mutable</a>.<span title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">HashMap</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(key: Mixin.this.global.Symbol)scala.collection.immutable.Nil.type" id="605860">default</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="605861">key</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object SingleUseTraverser" id="605856">SingleUseTraverser</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../ast/TreeDSL.scala.html#187429" title="Mixin.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Unit" id="605913">traverse</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="605915">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#605915" title="Mixin.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Assign</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="605920">lhs</a>, <a title="Mixin.this.global.Tree" id="605921">rhs</a><span class="delimiter">)</span> =&gt; <a href="#605913" title="(tree: Mixin.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#605921" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span> // assignments don't count
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#605915" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#605915" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="605927">sym</a> = <a href="#605915" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#605927" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46804" title="=&gt; Boolean">hasAccessorFlag</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#605927" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605927" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#605927" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46782" title="=&gt; Boolean">isPrivate</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span title="=&gt; Mixin.this.global.Symbol">currentOwner</span>.<a href="../../../reflect/internal/Symbols.scala.html#46483" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Mixin.this.global.Symbol">currentOwner</span>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; Mixin.this.global.Symbol">accessed</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#605927" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> // getter
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#39224" title="object Mixin.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#45476" title="(sym: Mixin.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#605927" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#605927" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#605853" title="Mixin.this.global.Template">templ</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605927" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#605915" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;added use in: &quot;)" class="string">&quot;added use in: &quot;</span> <span title="(x$1: Any)String">+</span> <span title="=&gt; Mixin.this.global.Symbol">currentOwner</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; -- &quot;)" class="string">&quot; -- &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605915" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
                <a href="#605855" title="(key: Mixin.this.global.Symbol, value: List[Mixin.this.global.Symbol])Unit">usedIn</a><span class="delimiter">(</span><a href="#605927" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">::=</span> <span title="=&gt; Mixin.this.global.Symbol">currentOwner</span>

              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">super</span>.<span title="(tree: Mixin.this.global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#605915" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#605856" title="(tree: Mixin.this.global.Template)Mixin.this.global.Template">SingleUseTraverser</a><span class="delimiter">(</span><a href="#605853" title="Mixin.this.global.Template">templ</a><span class="delimiter">)</span>
    <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;usedIn: &quot;)" class="string">&quot;usedIn: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#605855" title="usedIn extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">usedIn</a><span class="delimiter">)</span>
    <a href="#605855" title="usedIn extends scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">usedIn</a> <span title="(p: ((Mixin.this.global.Symbol, List[Mixin.this.global.Symbol])) =&gt; Boolean)scala.collection.mutable.HashMap[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">filter</span> <a href="#605978" title="Boolean" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_, <a title="Mixin.this.global.Symbol" id="605985">member</a> :: <span title="object Nil">Nil</span><span class="delimiter">)</span> =&gt; <a href="#605985" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46480" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#605985" title="Mixin.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span>                  =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

// --------- term transformation -----------------------------------------------

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: Mixin.this.global.CompilationUnit)Mixin.this.global.Transformer" id="243046">newTransformer</a><span class="delimiter">(</span><a title="Mixin.this.global.CompilationUnit" id="605986">unit</a>: <a href="../CompilationUnits.scala.html#186387" title="Mixin.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#186434" title="Mixin.this.global.Transformer">Transformer</a> =
    <span title="Mixin.this.MixinTransformer" class="keyword">new</span> <a href="#243047" title="Mixin.this.MixinTransformer">MixinTransformer</a><span class="delimiter">(</span><a href="#605986" title="Mixin.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class MixinTransformer extends Mixin.this.global.Transformer with ScalaObject" id="243047">MixinTransformer</a><a href="#243047" title="ScalaObject" class="delimiter">(</a><a title="Mixin.this.global.CompilationUnit" id="606018">unit</a> : <a href="../CompilationUnits.scala.html#186387" title="Mixin.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#186434" title="Mixin.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>

    /** Within a static implementation method: the parameter referring to the
     *  current object.  Undefined everywhere else.
     */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Mixin.this.global.Symbol" id="605993">self</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a> = _

    /** The rootContext used for typing */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Mixin.this.global.erasure.Context" id="605995">rootContext</a> =
      <a href="../Global.scala.html#186247" title="object Mixin.this.global.erasure">erasure</a>.<a href="../typechecker/Contexts.scala.html#187288" title="object Mixin.this.global.erasure.NoContext">NoContext</a>.<a href="../typechecker/Contexts.scala.html#188205" title="(tree: Mixin.this.global.erasure.global.Tree, owner: Mixin.this.global.erasure.global.Symbol, scope: Mixin.this.global.erasure.global.Scope)Mixin.this.global.erasure.Context">make</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#187429" title="object Mixin.this.global.EmptyTree">EmptyTree</a>, <a href="../../../reflect/internal/Definitions.scala.html#44950" title="=&gt; Mixin.this.global.ModuleClassSymbol">RootClass</a>, <a href="../../../reflect/internal/Scopes.scala.html#39175" title="()Mixin.this.global.Scope">newScope</a><span class="delimiter">)</span>

    /** The typer */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Mixin.this.global.erasure.Typer" id="605998">localTyper</a>: erasure.<a href="../typechecker/Typers.scala.html#187422" title="Mixin.this.global.erasure.Typer">Typer</a> = _
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree" id="606000">typedPos</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="606038">pos</a>: <a href="../util/Position.scala.html#33991" title="Mixin.this.global.Position">Position</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="606039">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#605998" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#187859" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">typed</a> <span class="delimiter">{</span> <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#606038" title="Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606039" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree, pt: Mixin.this.global.Type)Mixin.this.global.erasure.global.Tree" id="606001">localTyped</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="606059">pos</a>: <a href="../util/Position.scala.html#33991" title="Mixin.this.global.Position">Position</a>, <a title="Mixin.this.global.Tree" id="606060">tree</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Mixin.this.global.Type" id="606061">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Mixin.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#605998" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#187861" title="(tree: Mixin.this.global.erasure.global.Tree, pt: Mixin.this.global.erasure.global.Type)Mixin.this.global.erasure.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#606059" title="Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606060" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#606061" title="Mixin.this.global.Type">pt</a><span class="delimiter">)</span>

    /** Map lazy values to the fields they should null after initialization. */
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]" id="606003">lazyValNullables</a>: <span title="Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]">Map</span><span class="delimiter">[</span>Symbol, Set<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = _

    /** Map a field symbol to a unique integer denoting its position in the class layout.
     *  For each class, fields defined by the class come after inherited fields. Mixed-in
     *  fields count as fields defined by the class itself.
     */
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]" id="606005">fieldOffset</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35655" title="object Mixin.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110762" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    /** The first transform; called in a pre-order traversal at phase mixin
     *  (that is, every node is processed before its children).
     *  What transform does:
     *   - For every non-trait class, add all mixed in members to the class info.
     *   - For every trait, add all late interface members to the class info
     *   - For every static implementation method:
     *       - remove override flag
     *       - create a new method definition that also has a `self` parameter
     *         (which comes first) Iuli: this position is assumed by tail call elimination
     *         on a different receiver. Storing a new 'this' assumes it is located at
     *         index 0 in the local variable table. See 'STORE_THIS' and GenJVM/GenMSIL.
     *   - Map implementation class types in type-apply's to their interfaces
     *   - Remove all fields in implementation classes
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="606007">preTransform</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="606072">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="606074">sym</a> = <a href="#606072" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
      <a href="#606072" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Template</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="606087">parents</a>, <a title="Mixin.this.global.ValDef" id="606088">self</a>, <a title="List[Mixin.this.global.Tree]" id="606089">body</a><span class="delimiter">)</span> =&gt;
          <a href="#605998" title="(x$1: Mixin.this.global.erasure.Typer)Unit">localTyper</a> = <a href="../Global.scala.html#186247" title="object Mixin.this.global.erasure">erasure</a>.<a href="Erasure.scala.html#242757" title="(context: Mixin.this.global.erasure.Context)Mixin.this.global.erasure.Eraser">newTyper</a><span class="delimiter">(</span><a href="#605995" title="=&gt; Mixin.this.global.erasure.Context">rootContext</a>.<a href="../typechecker/Contexts.scala.html#188208" title="(tree: Mixin.this.global.erasure.global.Tree, owner: Mixin.this.global.erasure.global.Symbol)Mixin.this.global.erasure.Context">make</a><span class="delimiter">(</span><a href="#606072" title="Mixin.this.global.Tree">tree</a>, <a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a><span class="delimiter">)</span>//todo: needed?

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#45476" title="(sym: Mixin.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#243043" title="(clazz: Mixin.this.global.Symbol, unit: Mixin.this.global.CompilationUnit)Unit">addMixedinMembers</a><span class="delimiter">(</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>, <a href="#606018" title="Mixin.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38538" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span>
            <a href="#243042" title="(clazz: Mixin.this.global.Symbol)Unit">addLateInterfaceMembers</a><span class="delimiter">(</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>

          <a href="#606072" title="Mixin.this.global.Tree">tree</a>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="Mixin.this.global.Modifiers" id="606137">mods</a>, <a title="Mixin.this.global.Name" id="606138">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="606139">tparams</a>, <a href="#606141" title="(x: List[List[Mixin.this.global.ValDef]])Some[List[List[Mixin.this.global.ValDef]]]">List</a><span class="delimiter">(</span><a title="List[Mixin.this.global.ValDef]" id="606163">vparams</a><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="606164">tpt</a>, <a title="Mixin.this.global.Tree" id="606165">rhs</a><span class="delimiter">)</span> =&gt;
          <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#243028" title="(sym: Mixin.this.global.Symbol)Boolean">isImplementedStatically</a><span class="delimiter">(</span><a href="#606074" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#606074" title="Mixin.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38544" title="=&gt; Long">notOVERRIDE</a>
              <a href="#605993" title="(x$1: Mixin.this.global.Symbol)Unit">self</a> = <a href="#606074" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46385" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58943" title="=&gt; Mixin.this.global.nme.NameType">SELF</a>, <a href="#606074" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a> <a href="#243031" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46666" title="=&gt; Mixin.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.ValDef" id="606166">selfdef</a> = <a href="../../../reflect/internal/Trees.scala.html#39364" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#605993" title="=&gt; Mixin.this.global.Symbol">self</a><span class="delimiter">)</span> <span title="(tp: Mixin.this.global.Type)Mixin.this.global.ValDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object Mixin.this.global.NoType">NoType</a>
              <a href="#243047" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#606072" title="Mixin.this.global.Tree">tree</a>, <a href="#606137" title="Mixin.this.global.Modifiers">mods</a>, <a href="#606138" title="Mixin.this.global.Name">name</a>, <a href="#606139" title="List[Mixin.this.global.TypeDef]">tparams</a>, <span title="(xs: List[Mixin.this.global.ValDef]*)List[List[Mixin.this.global.ValDef]]">List</span><span class="delimiter">(</span><a href="#606166" title="Mixin.this.global.ValDef">selfdef</a> <a href="#606206" title="(x: Mixin.this.global.ValDef)List[Mixin.this.global.ValDef]">::</a> <a href="#606163" title="List[Mixin.this.global.ValDef]">vparams</a><span class="delimiter">)</span>, <a href="#606164" title="Mixin.this.global.Tree">tpt</a>, <a href="#606165" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="../ast/TreeDSL.scala.html#187429" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#606074" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46484" title="=&gt; Boolean">isSetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188840" title="=&gt; scala.tools.nsc.Phase">picklerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606074" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#606074" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46646" title="(sym: Mixin.this.global.Symbol, args: Mixin.this.global.Tree*)sym.type">addAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45078" title="=&gt; Mixin.this.global.Symbol">TraitSetterAnnotationClass</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#606072" title="Mixin.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Mixin.this.global.TypeApply" id="606241">tapp</a> @ TypeApply<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="606244">fn</a>, <a href="#606246" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="606268">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#606270" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#606268" title="Mixin.this.global.Tree">arg</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Type" id="606282">ifacetpe</a> = <a href="#243031" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#606268" title="Mixin.this.global.Tree">arg</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span><span class="delimiter">)</span>
            <a href="#606268" title="Mixin.this.global.Tree">arg</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="#606282" title="Mixin.this.global.Type">ifacetpe</a>
            <a href="#606241" title="Mixin.this.global.TypeApply">tapp</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[Mixin.this.global.Symbol], resultType: Mixin.this.global.Type)Mixin.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#606282" title="Mixin.this.global.Type">ifacetpe</a><span class="delimiter">)</span>
            <a href="#606072" title="Mixin.this.global.Tree">tree</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="#606282" title="Mixin.this.global.Type">ifacetpe</a>
          <span class="delimiter">}</span>
          <a href="#606072" title="Mixin.this.global.Tree">tree</a>
        <span class="keyword">case</span> <span title="Mixin.this.global.EmptyTree.type">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a> =&gt;
          <a href="../ast/TreeDSL.scala.html#187429" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
          <a href="#606072" title="Mixin.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Create an identifier which references self parameter.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position)Mixin.this.global.gen.global.Tree" id="606008">selfRef</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="606299">pos</a>: <a href="../util/Position.scala.html#33991" title="Mixin.this.global.Position">Position</a><span class="delimiter">)</span> =
      <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92353" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#605993" title="=&gt; Mixin.this.global.Symbol">self</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.gen.global.Tree">setPos</span> <a href="#606299" title="Mixin.this.global.Position">pos</a>

    /** Replace a super reference by this or the self parameter, depending
     *  on whether we are in an implementation class or not.
     *  Leave all other trees unchanged.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree" id="606009">transformSuper</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="606310">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#606310" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.gen.global.Tree">Super</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="606319">qual</a>, _<span class="delimiter">)</span> =&gt;
        <a href="#606010" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformThis</a><span class="delimiter">(</span><a href="#606319" title="Mixin.this.global.Tree">qual</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
        <a href="#606310" title="Mixin.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

    /** Replace a this reference to the current implementation class by the self
     *  parameter. Leave all other trees unchanged.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree" id="606010">transformThis</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="606320">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#606320" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.gen.global.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#606320" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a> =&gt;
        <a href="../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#606320" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; Mixin.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <a href="#606008" title="(pos: Mixin.this.global.Position)Mixin.this.global.gen.global.Tree">selfRef</a><span class="delimiter">(</span><a href="#606320" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
        <a href="#606320" title="Mixin.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

    /** Create a static reference to given symbol &lt;code&gt;sym&lt;/code&gt; of the
     *  form &lt;code&gt;M.sym&lt;/code&gt; where M is the symbol's implementation module.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="606011">staticRef</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606334">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#606334" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>        //todo: needed?
      <a href="#606334" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>  //todo: needed?

      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span>
        <a href="#606334" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46672" title="=&gt; Mixin.this.global.Symbol">sourceModule</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a>,
        <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606334" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606334" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606334" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Mixin.this.global.Scope">decls</a>
      <span class="delimiter">)</span>
      <a href="../ast/TreeDSL.scala.html#244841" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#606334" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46672" title="=&gt; Mixin.this.global.Symbol">sourceModule</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#244848" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.global.Select">DOT</a> <a href="#606334" title="Mixin.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="606012">needsInitAndHasOffset</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606360">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#243033" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#606360" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#606005" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]">fieldOffset</a> <span title="(key: Mixin.this.global.Symbol)Boolean">contains</span> <a href="#606360" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>

    /** Examines the symbol and returns a name indicating what brand of
     *  bitmap it requires.  The possibilities are the BITMAP_* vals
     *  defined in StdNames.  If it needs no bitmap, nme.NO_NAME.
     */
    <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Mixin.this.global.Name" id="606013">bitmapCategory</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606366">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Mixin.this.global.Name">Name</a> = <span class="delimiter">{</span>
      <span class="keyword">import</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>._
      <span class="keyword">val</span> <a title="Boolean" id="606369">isNormal</a> = <span class="delimiter">(</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#243032" title="(field: Mixin.this.global.Symbol)Boolean">isFieldWithBitmap</a><span class="delimiter">(</span><a href="#606366" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Boolean(true)" class="keyword">true</span>
        // bitmaps for checkinit fields are not inherited
        <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#243033" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#606366" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#606366" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <a href="../../../reflect/internal/StdNames.scala.html#59371" title="=&gt; Mixin.this.global.nme.NameType">NO_NAME</a>
      <span class="delimiter">)</span>
      <span title="Mixin.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#606366" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; Mixin.this.global.Symbol">accessed</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: Mixin.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#45419" title="=&gt; Mixin.this.global.Symbol">TransientAttr</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Mixin.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#606369" title="Boolean">isNormal</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdNames.scala.html#58632" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_TRANSIENT</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/StdNames.scala.html#58638" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_CHECKINIT_TRANSIENT</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Mixin.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#606366" title="Mixin.this.global.Symbol">field</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Int(4)">PRIVATE</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#38546" title="=&gt; Long">notPRIVATE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Mixin.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#606369" title="Boolean">isNormal</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdNames.scala.html#58634" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_PRIVATE</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/StdNames.scala.html#58636" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_CHECKINIT</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Mixin.this.global.Name" class="keyword">if</span> <span class="delimiter">(</span><a href="#606369" title="Boolean">isNormal</a><span class="delimiter">)</span> <a href="../../../reflect/internal/StdNames.scala.html#58630" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_NORMAL</a>
        <span class="keyword">else</span> <a href="../../../reflect/internal/StdNames.scala.html#58636" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_CHECKINIT</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Add all new definitions to a non-trait class
     *  These fall into the following categories:
     *    - for a trait interface:
     *       - abstract accessors for all fields in the implementation class
     *    - for a non-trait class:
     *       - A field for every in a mixin class
     *       - Setters and getters for such fields
     *           - getters for mixed in lazy fields are completed
     *       - module variables and module creators for every module in a mixin class
     *         (except if module is lifted -- in this case the module variable
     *          is local to some function, and the creator method is static.)
     *       - A super accessor for every super accessor in a mixin class
     *       - Forwarders for all methods that are implemented statically
     *  All superaccessors are completed with right-hand sides (@see completeSuperAccessor)
     *  @param clazz  The class to which definitions are added
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="606014">addNewDefs</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606381">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="606382">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" id="606384">newDefs</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</span><span title="(elems: Mixin.this.global.Tree*)scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]" class="delimiter">[</span><span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      /** Attribute given tree and anchor at given position */
      <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="606385">attributedDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="606414">pos</a>: <a href="../util/Position.scala.html#33991" title="Mixin.this.global.Position">Position</a>, <a title="Mixin.this.global.Tree" id="606415">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;add new def to &quot;)" class="string">&quot;add new def to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606381" title="Mixin.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606415" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#606000" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#606414" title="Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606415" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** The position of given symbol, or, if this is undefined,
       *  the position of the current class.
       */
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position" id="606386">position</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606416">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Mixin.this.global.Position" class="keyword">if</span> <span class="delimiter">(</span><a href="#606416" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Positions.scala.html#186524" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#606381" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a> <span class="keyword">else</span> <a href="#606416" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a>

      /** Add tree at given position as new definition */
      <span class="keyword">def</span> <a title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit" id="606387">addDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Position" id="606422">pos</a>: <a href="../util/Position.scala.html#33991" title="Mixin.this.global.Position">Position</a>, <a title="Mixin.this.global.Tree" id="606423">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#606384" title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]">newDefs</a> <span title="(x: Mixin.this.global.Tree)newDefs.type">+=</span> <a href="#606385" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Mixin.this.global.Tree">attributedDef</a><span class="delimiter">(</span><a href="#606422" title="Mixin.this.global.Position">pos</a>, <a href="#606423" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Add new method definition.
       *
       *  @param sym   The method symbol.
       *  @param rhs   The method body.
       */
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit" id="606388">addDefDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606433">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="606435">rhs</a>: <span title="Mixin.this.global.Tree">Tree</span> = <a href="../ast/TreeDSL.scala.html#187429" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> = <a href="#606387" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#606386" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position">position</a><span class="delimiter">(</span><a href="#606433" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#39370" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#606433" title="Mixin.this.global.Symbol">sym</a>, <a href="#606435" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit" id="606389">addValDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606458">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="606460">rhs</a>: <span title="Mixin.this.global.Tree">Tree</span> = <a href="../ast/TreeDSL.scala.html#187429" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> = <a href="#606387" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#606386" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position">position</a><span class="delimiter">(</span><a href="#606458" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Trees.scala.html#39363" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#606458" title="Mixin.this.global.Symbol">sym</a>, <a href="#606460" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

      /** Add `newdefs` to `stats`, removing any abstract method definitions
       *  in &lt;code&gt;stats&lt;/code&gt; that are matched by some symbol defined in
       *  &lt;code&gt;newDefs&lt;/code&gt;.
       */
      <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree], newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="606390">add</a><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="606471">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[Mixin.this.global.Tree]" id="606472">newDefs</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Mixin.this.global.Symbol]" id="606473">newSyms</a> = <a href="#606472" title="List[Mixin.this.global.Tree]">newDefs</a> <span title="(f: Mixin.this.global.Tree =&gt; Mixin.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]])List[Mixin.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#606491" title="Mixin.this.global.Tree">_</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Boolean" id="606474">isNotDuplicate</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="606519">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#606519" title="Mixin.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">DefDef</span><span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="606528">sym</a> = <a href="#606519" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#606528" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#606473" title="List[Mixin.this.global.Symbol]">newSyms</a> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606535">nsym</a> =&gt; <a href="#606535" title="Mixin.this.global.Symbol">nsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#606528" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#606535" title="Mixin.this.global.Symbol">nsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41577" title="(that: Mixin.this.global.Type)Boolean">matches</a> <a href="#606528" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt;
            <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span>
        <span title="List[Mixin.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#606472" title="List[Mixin.this.global.Tree]">newDefs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#606471" title="List[Mixin.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <a href="#606472" title="List[Mixin.this.global.Tree]">newDefs</a> <a href="#606542" title="(prefix: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">:::</a> <span class="delimiter">(</span><a href="#606471" title="List[Mixin.this.global.Tree]">stats</a> <span title="(p: Mixin.this.global.Tree =&gt; Boolean)List[Mixin.this.global.Tree]">filter</span> <a href="#606474" title="(tree: Mixin.this.global.Tree)Boolean">isNotDuplicate</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, tree: Mixin.this.global.Tree)Unit" id="606391">addDeferredBitmap</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606556">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="606557">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // Append the set of deferred defs
        <a href="#243026" title="(key: Mixin.this.global.Symbol, value: List[Mixin.this.global.Tree])Unit">deferredBitmaps</a><span class="delimiter">(</span><a href="#606556" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Mixin.this.global.Tree)List[Mixin.this.global.Tree]">::=</span> <a href="#606000" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#606556" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606557" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** If `stat` is a superaccessor, complete it by adding a right-hand side.
       *  Note: superaccessors are always abstract until this point.
       *   The method to call in a superaccessor is stored in the accessor symbol's alias field.
       *  The rhs is:
       *    super.A(xs)  where A is the super accessor's alias and xs are its formal parameters.
       *  This rhs is typed and then mixin transformed.
       */
      <span class="keyword">def</span> <a title="(stat: Mixin.this.global.Tree)Mixin.this.global.Tree" id="606392">completeSuperAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="606607">stat</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#606607" title="Mixin.this.global.Tree">stat</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="Mixin.this.global.Modifiers" id="606616">mods</a>, <a title="Mixin.this.global.Name" id="606617">name</a>, <a title="List[Mixin.this.global.TypeDef]" id="606618">tparams</a>, <a href="#606620" title="(x: List[List[Mixin.this.global.ValDef]])Some[List[List[Mixin.this.global.ValDef]]]">List</a><span class="delimiter">(</span><a title="List[Mixin.this.global.ValDef]" id="606631">vparams</a><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="606632">tpt</a>, <a href="../ast/TreeDSL.scala.html#187429" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#606607" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#46790" title="=&gt; Boolean">isSuperAccessor</a> =&gt;
          <span class="keyword">val</span> <a title="Mixin.this.global.Apply" id="606633">rhs0</a> = <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39380" title="(sym: Mixin.this.global.Symbol, mix: Mixin.this.global.TypeName)Mixin.this.global.Tree">Super</a><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#606381" title="Mixin.this.global.Symbol">clazz</a>, <a href="../../../reflect/internal/StdNames.scala.html#39303" title="object Mixin.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59323" title="=&gt; Mixin.this.global.tpnme.NameType">EMPTY</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#284848" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#606607" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46675" title="=&gt; Mixin.this.global.Symbol">alias</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606631" title="List[Mixin.this.global.ValDef]">vparams</a> <span title="(f: Mixin.this.global.ValDef =&gt; Mixin.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.ValDef],Mixin.this.global.Ident,List[Mixin.this.global.Ident]])List[Mixin.this.global.Ident]">map</span> <span class="delimiter">(</span><a title="Mixin.this.global.ValDef" id="606682">v</a> =&gt; <a href="../ast/TreeDSL.scala.html#187429" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#606682" title="Mixin.this.global.ValDef">v</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.erasure.global.Tree" id="606634">rhs1</a> = <a href="#606001" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree, pt: Mixin.this.global.Type)Mixin.this.global.erasure.global.Tree">localTyped</a><span class="delimiter">(</span><a href="#606607" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Position">pos</span>, <a href="#606633" title="Mixin.this.global.Apply">rhs0</a>, <a href="#606607" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Mixin.this.global.Type">resultType</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="606635">rhs2</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Tree)Mixin.this.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188852" title="=&gt; scala.tools.nsc.Phase">mixinPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606017" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#606634" title="Mixin.this.global.erasure.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;complete super acc &quot;)" class="string">&quot;complete super acc &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606607" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606634" title="Mixin.this.global.erasure.global.Tree">rhs1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606607" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46675" title="=&gt; Mixin.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606607" title="Mixin.this.global.Tree">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46675" title="=&gt; Mixin.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#38538" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span><span class="delimiter">)</span>//debug
          <a href="#243047" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#606607" title="Mixin.this.global.Tree">stat</a>, <a href="#606616" title="Mixin.this.global.Modifiers">mods</a>, <a href="#606617" title="Mixin.this.global.Name">name</a>, <a href="#606618" title="List[Mixin.this.global.TypeDef]">tparams</a>, <span title="(xs: List[Mixin.this.global.ValDef]*)List[List[Mixin.this.global.ValDef]]">List</span><span class="delimiter">(</span><a href="#606631" title="List[Mixin.this.global.ValDef]">vparams</a><span class="delimiter">)</span>, <a href="#606632" title="Mixin.this.global.Tree">tpt</a>, <a href="#606635" title="Mixin.this.global.Tree">rhs2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
          <a href="#606607" title="Mixin.this.global.Tree">stat</a>
      <span class="delimiter">}</span>

      <span class="keyword">import</span> <a href="../Global.scala.html#186249" title="object Mixin.this.global.lazyVals">lazyVals</a>._

      /**
       *  Private or transient lazy vals use bitmaps that are private for the class context,
       *  unlike public or protected vals, which can use inherited bitmaps.
       *  Similarly fields in the checkinit mode use private bitmaps.
       */
      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="606394">isLocalBitmapField</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606754">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
           <a href="#606754" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; Mixin.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: Mixin.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45419" title="=&gt; Mixin.this.global.Symbol">TransientAttr</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <a href="#606754" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Int(4)">PRIVATE</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#38546" title="=&gt; Long">notPRIVATE</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <a href="#606406" title="(field: Mixin.this.global.Symbol)Boolean">isCheckInitField</a><span class="delimiter">(</span><a href="#606754" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      /**
       *  Return the bitmap field for 'offset'. Depending on the hierarchy it is possible to reuse
       *  the bitmap of its parents. If that does not exist yet we create one.
       */
      <span class="keyword">def</span> <a title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol" id="606395">bitmapFor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606767">clazz0</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="606768">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Symbol" id="606769">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Boolean" id="606771">searchParents</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Name" id="606772">category</a>   = <a href="#606013" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Name">bitmapCategory</a><span class="delimiter">(</span><a href="#606769" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="category.ThisNameType" id="606773">bitmapName</a> = <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58627" title="(bitmapPrefix: Mixin.this.global.Name, n: Int)bitmapPrefix.ThisNameType">newBitmapName</a><span class="delimiter">(</span><a href="#606772" title="Mixin.this.global.Name">category</a>, <a href="#606768" title="Int">offset</a> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#242833" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="606774">sym</a>        = <a href="#606767" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#606773" title="category.ThisNameType">bitmapName</a><span class="delimiter">)</span>

        <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#606774" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46465" title="=&gt; Boolean">isOverloaded</a>, <a href="#606774" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Symbol" id="606775">createBitmap</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.TermSymbol" id="606789">sym</a> = <a href="#606767" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../../../reflect/internal/Symbols.scala.html#46384" title="(name: Mixin.this.global.TermName, pos: Mixin.this.global.Position, newFlags: Long)Mixin.this.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#38367" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: Mixin.this.global.Name)Mixin.this.global.TermName">bitmapName</a>, <a href="#606767" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Mixin.this.global.Type)Mixin.this.global.TermSymbol">setInfo</a> <a href="../../../reflect/internal/Definitions.scala.html#45539" title="=&gt; Mixin.this.global.Symbol">IntClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>
          <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.TermSymbol)Mixin.this.global.TermSymbol">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; Mixin.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188838" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606789" title="Mixin.this.global.TermSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46646" title="(sym: Mixin.this.global.Symbol, args: Mixin.this.global.Tree*)sym.type">addAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#45423" title="=&gt; Mixin.this.global.Symbol">VolatileAttr</a><span class="delimiter">)</span>

          <a href="#606772" title="Mixin.this.global.Name">category</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="sym.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58632" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_TRANSIENT</a> | <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58638" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_CHECKINIT_TRANSIENT</a> =&gt; <a href="#606789" title="Mixin.this.global.TermSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46646" title="(sym: Mixin.this.global.Symbol, args: Mixin.this.global.Tree*)sym.type">addAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#45419" title="=&gt; Mixin.this.global.Symbol">TransientAttr</a>
            <span class="keyword">case</span> <span title="Unit">_</span>                                                     =&gt;
          <span class="delimiter">}</span>
          <a href="#606772" title="Mixin.this.global.Name">category</a> <span title="sym.type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="sym.type">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58630" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_NORMAL</a> <span class="keyword">if</span> <a href="#606769" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a> =&gt; <a href="#606789" title="Mixin.this.global.TermSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)sym.type">setFlag</a> <span title="Long(1L)">PROTECTED</span>
            <span class="keyword">case</span> <span title="sym.type">_</span>                                 =&gt; <a href="#606789" title="Mixin.this.global.TermSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38467" title="=&gt; Long">PrivateLocal</a>
          <span class="delimiter">}</span>

          <a href="#606767" title="Mixin.this.global.Symbol">clazz0</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#606789" title="Mixin.this.global.TermSymbol">sym</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#606767" title="Mixin.this.global.Symbol">clazz0</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#606381" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="#606387" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="../ast/TreeDSL.scala.html#244825" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.ValSymStart">VAL</a><span class="delimiter">(</span><a href="#606789" title="Mixin.this.global.TermSymbol">sym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285599" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.ValDef">===</a> <a href="../ast/TreeDSL.scala.html#244788" title="=&gt; Mixin.this.global.Literal">ZERO</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            //FIXME: the assertion below will not work because of the way bitmaps are added.
            // They should be added during infoTransform, so that in separate compilation, bitmap
            // is a member of clazz and doesn't fail the condition couple lines below.
            // This works, as long as we assume that the previous classes were compiled correctly.
            //assert(clazz0.sourceFile != null)
            <a href="#606391" title="(clazz: Mixin.this.global.Symbol, tree: Mixin.this.global.Tree)Unit">addDeferredBitmap</a><span class="delimiter">(</span><a href="#606767" title="Mixin.this.global.Symbol">clazz0</a>, <a href="../ast/TreeDSL.scala.html#244825" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.ValSymStart">VAL</a><span class="delimiter">(</span><a href="#606789" title="Mixin.this.global.TermSymbol">sym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285599" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.ValDef">===</a> <a href="../ast/TreeDSL.scala.html#244788" title="=&gt; Mixin.this.global.Literal">ZERO</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#606789" title="Mixin.this.global.TermSymbol">sym</a>
        <span class="delimiter">}</span>

        <span title="Mixin.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#606774" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#606774" title="Mixin.this.global.Symbol">sym</a>
        <span class="keyword">else</span> <span title="Mixin.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#606771" title="Boolean">searchParents</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#606394" title="(field: Mixin.this.global.Symbol)Boolean">isLocalBitmapField</a><span class="delimiter">(</span><a href="#606769" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#606396" title="(clazz0: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Option[Mixin.this.global.Symbol]">bitmapForParents</a><span class="delimiter">(</span><a href="#606767" title="Mixin.this.global.Symbol">clazz0</a>, <a href="#606768" title="Int">offset</a>, <a href="#606769" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span> <span title="(default: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">getOrElse</span> <a href="#606775" title="=&gt; Mixin.this.global.Symbol">createBitmap</a>
        <span class="keyword">else</span>
          <a href="#606775" title="=&gt; Mixin.this.global.Symbol">createBitmap</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(clazz0: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Option[Mixin.this.global.Symbol]" id="606396">bitmapForParents</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606845">clazz0</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="606846">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Symbol" id="606847">valSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[Mixin.this.global.Symbol]">Option</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(fs: Int)Int" id="606853">requiredBitmaps</a><span class="delimiter">(</span><a title="Int" id="606855">fs</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Int">Int</span> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#606855" title="Int">fs</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span> <span class="keyword">else</span> <span class="delimiter">(</span><a href="#606855" title="Int">fs</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#242833" title="=&gt; Int">FLAGS_PER_WORD</a>
        <span class="keyword">val</span> <a title="Int" id="606854">bitmapNum</a> = <a href="#606846" title="Int">offset</a> <span title="(x: Int)Int">/</span> <a href="../Global.scala.html#242833" title="=&gt; Int">FLAGS_PER_WORD</a>

        // filter private and transient
        // since we do not inherit normal values (in checkinit mode) also filter them out
        // !!! Not sure how that comment relates to this code...
        <a href="#606407" title="(clazz: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">superClassesToCheck</a><span class="delimiter">(</span><a href="#606845" title="Mixin.this.global.Symbol">clazz0</a><span class="delimiter">)</span> <span title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Mixin.this.global.Symbol" id="606904">cl</a> =&gt;
          <span class="keyword">val</span> <a title="Int" id="606905">fields0</a> = <a href="#606408" title="(clazz0: Mixin.this.global.Symbol)Int">usedBits</a><span class="delimiter">(</span><a href="#606904" title="Mixin.this.global.Symbol">cl</a><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#606853" title="(fs: Int)Int">requiredBitmaps</a><span class="delimiter">(</span><a href="#606905" title="Int">fields0</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#606854" title="Int">bitmapNum</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="606911">fields1</a> = <a href="#606904" title="Mixin.this.global.Symbol">cl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Mixin.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#60516" title="(p: Mixin.this.global.Symbol =&gt; Boolean)Mixin.this.global.Scope">filter</a> <a href="#606405" title="(field: Mixin.this.global.Symbol)Boolean">isNonLocalFieldWithBitmap</a> <a href="../../../reflect/internal/Scopes.scala.html#60496" title="=&gt; Int">size</a>;
            <span title="Nothing" class="keyword">return</span> <span class="delimiter">{</span>
              <span title="Option[Mixin.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#606853" title="(fs: Int)Int">requiredBitmaps</a><span class="delimiter">(</span><a href="#606905" title="Int">fields0</a> <span title="(x: Int)Int">+</span> <a href="#606911" title="Int">fields1</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;=</span> <a href="#606854" title="Int">bitmapNum</a><span class="delimiter">)</span>
                <span title="(x: Mixin.this.global.Symbol)Some[Mixin.this.global.Symbol]">Some</span><span class="delimiter">(</span><a href="#606395" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#606904" title="Mixin.this.global.Symbol">cl</a>, <a href="#606846" title="Int">offset</a>, <a href="#606847" title="Mixin.this.global.Symbol">valSym</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="object None">None</span> // Don't waste time, since we won't find bitmap anyway
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="object None">None</span>
      <span class="delimiter">}</span>

      /** Return an (untyped) tree of the form 'Clazz.this.bmp = Clazz.this.bmp | mask'. */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="606397">mkSetFlag</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606933">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Int" id="606934">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Symbol" id="606935">valSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="606936">bmp</a>   = <a href="#606395" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#606933" title="Mixin.this.global.Symbol">clazz</a>, <a href="#606934" title="Int">offset</a>, <a href="#606935" title="Mixin.this.global.Symbol">valSym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="606937">mask</a>  = <a href="../ast/TreeDSL.scala.html#284810" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">&lt;&lt;</span> <span class="delimiter">(</span><a href="#606934" title="Int">offset</a> <span title="(x: Int)Int">%</span> <a href="../Global.scala.html#242833" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.CODE.SelectStart" id="606938">x</a>     = <a href="../ast/TreeDSL.scala.html#187429" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#606933" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#284882" title="(sym: Mixin.this.global.Symbol)Mixin.this.CODE.SelectStart">DOT</a> <a href="#606936" title="Mixin.this.global.Symbol">bmp</a>

        <a href="../ast/TreeDSL.scala.html#244849" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.CODE.TreeMethods">x</a> <a href="../ast/TreeDSL.scala.html#284883" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">===</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244849" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.CODE.TreeMethods">x</a> <a href="../ast/TreeDSL.scala.html#284871" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_|</a> <a href="#606937" title="Mixin.this.global.Literal">mask</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Return an (untyped) tree of the form 'clazz.this.bitmapSym &amp; mask (==|!=) 0', the
       *  precise comparison operator depending on the value of 'equalToZero'.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, mask: Mixin.this.global.Tree, bitmapSym: Mixin.this.global.Symbol, equalToZero: Boolean)Mixin.this.global.Tree" id="606398">mkTest</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606981">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="606982">mask</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Mixin.this.global.Symbol" id="606983">bitmapSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Boolean" id="606984">equalToZero</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Apply" id="606985">lhs</a> = <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#187429" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#606981" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#244849" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: Mixin.this.CODE.SelectStart)Mixin.this.CODE.TreeMethods">DOT</a> <a href="#606983" title="Mixin.this.global.Symbol">bitmapSym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#284872" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_&amp;</a> <a href="#606982" title="Mixin.this.global.Tree">mask</a>
        <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#606984" title="Boolean">equalToZero</a><span class="delimiter">)</span>  <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">lhs</a> <a href="../ast/TreeDSL.scala.html#284874" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_==</a> <a href="../ast/TreeDSL.scala.html#244788" title="=&gt; Mixin.this.global.Literal">ZERO</a>
        <span class="keyword">else</span>              <a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">lhs</a> <a href="../ast/TreeDSL.scala.html#284875" title="(other: Mixin.this.global.Tree)Mixin.this.global.Apply">INT_!=</a> <a href="../ast/TreeDSL.scala.html#244788" title="=&gt; Mixin.this.global.Literal">ZERO</a>
      <span class="delimiter">}</span>

      /** return a 'lazified' version of rhs. It uses double-checked locking to ensure
       *  initialization is performed at most once. Private fields used only in this
       *  initializer are subsequently set to null.
       *
       *  @param clazz The class symbol
       *  @param init The tree which initializes the field ( f = &lt;rhs&gt; )
       *  @param fieldSym The symbol of this lazy field
       *  @param offset The offset of this field in the flags bitmap
       *
       *  The result will be a tree of the form
       *  {
       *    if ((bitmap$n &amp; MASK) == 0) {
       *       synchronized(this) {
       *         if ((bitmap$n &amp; MASK) == 0) {
       *           init // l$ = &lt;rhs&gt;
       *           bitmap$n = bimap$n | MASK
       *         }
       *       }
       *       this.f1 = null
       *       ... this.fn = null
       *    }
       *    l$
       *  }
       *  where bitmap$n is an int value acting as a bitmap of initialized values. It is
       *  the 'n' is (offset / 32), the MASK is (1 &lt;&lt; (offset % 32)).
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree" id="606399">mkLazyDef</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="607024">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Symbol" id="607025">lzyVal</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="607026">init</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Mixin.this.global.Tree" id="607027">retVal</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Int" id="607028">offset</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Assign" id="607029">nullify</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="607036">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../ast/TreeDSL.scala.html#187429" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="../ast/TreeDSL.scala.html#187429" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#607024" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#607036" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46678" title="=&gt; Mixin.this.global.Symbol">accessedOrSelf</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#284883" title="(rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">===</a> <a href="../ast/TreeDSL.scala.html#284810" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="607030">bitmapSym</a> = <a href="#606395" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#607024" title="Mixin.this.global.Symbol">clazz</a>, <a href="#607028" title="Int">offset</a>, <a href="#607025" title="Mixin.this.global.Symbol">lzyVal</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="607031">mask</a>      = <a href="../ast/TreeDSL.scala.html#284810" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">&lt;&lt;</span> <span class="delimiter">(</span><a href="#607028" title="Int">offset</a> <span title="(x: Int)Int">%</span> <a href="../Global.scala.html#242833" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Tree" id="607032">cond</a>      = <a href="#606398" title="(clazz: Mixin.this.global.Symbol, mask: Mixin.this.global.Tree, bitmapSym: Mixin.this.global.Symbol, equalToZero: Boolean)Mixin.this.global.Tree">mkTest</a><span class="delimiter">(</span><a href="#607024" title="Mixin.this.global.Symbol">clazz</a>, <a href="#607031" title="Mixin.this.global.Literal">mask</a>, <a href="#607030" title="Mixin.this.global.Symbol">bitmapSym</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Mixin.this.global.Assign]" id="607033">nulls</a>     = <a href="#606003" title="(key: Mixin.this.global.Symbol)Set[Mixin.this.global.Symbol]">lazyValNullables</a><span class="delimiter">(</span><a href="#607025" title="Mixin.this.global.Symbol">lzyVal</a><span class="delimiter">)</span>.<span title="=&gt; List[Mixin.this.global.Symbol]">toList</span> <span title="(f: Mixin.this.global.Symbol =&gt; Int)(implicit ord: scala.math.Ordering[Int])List[Mixin.this.global.Symbol]">sortBy</span> <span class="delimiter">(</span><a href="#607122" title="Mixin.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46374" title="=&gt; Int">id</a><span class="delimiter">)</span> <span title="(f: Mixin.this.global.Symbol =&gt; Mixin.this.global.Assign)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Symbol],Mixin.this.global.Assign,List[Mixin.this.global.Assign]])List[Mixin.this.global.Assign]">map</span> <a href="#607029" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Assign">nullify</a>
        <span class="keyword">def</span> <a title="=&gt; List[Mixin.this.global.Tree]" id="607034">syncBody</a>  = <a href="#607026" title="List[Mixin.this.global.Tree]">init</a> <a href="#607225" title="(prefix: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">:::</a> <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#606397" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#607024" title="Mixin.this.global.Symbol">clazz</a>, <a href="#607028" title="Int">offset</a>, <a href="#607025" title="Mixin.this.global.Symbol">lzyVal</a><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#244791" title="=&gt; Mixin.this.global.Literal">UNIT</a><span class="delimiter">)</span>

        <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;nulling fields inside &quot;)" class="string">&quot;nulling fields inside &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607025" title="Mixin.this.global.Symbol">lzyVal</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607033" title="List[Mixin.this.global.Assign]">nulls</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="607035">result</a>    = <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239110" title="(clazz: Mixin.this.global.gen.global.Symbol, cond: Mixin.this.global.gen.global.Tree, syncBody: List[Mixin.this.global.gen.global.Tree], stats: List[Mixin.this.global.gen.global.Tree])Mixin.this.global.gen.global.Tree">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a href="#607024" title="Mixin.this.global.Symbol">clazz</a>, <a href="#607032" title="=&gt; Mixin.this.global.Tree">cond</a>, <a href="#607034" title="=&gt; List[Mixin.this.global.Tree]">syncBody</a>, <a href="#607033" title="List[Mixin.this.global.Assign]">nulls</a><span class="delimiter">)</span>
        <a href="#606000" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#607026" title="List[Mixin.this.global.Tree]">init</a>.<span title="=&gt; Mixin.this.global.Tree">head</span>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244836" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#607035" title="Mixin.this.global.gen.global.Tree">result</a>, <a href="#607027" title="Mixin.this.global.Tree">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(attrThis: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree" id="606400">mkInnerClassAccessorDoubleChecked</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="607251">attrThis</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Mixin.this.global.Tree" id="607252">rhs</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> =
        <a href="#607252" title="Mixin.this.global.Tree">rhs</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Mixin.this.global.Block">Block</span><span class="delimiter">(</span><a href="#607259" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="607270">assign</a><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="607271">returnTree</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> Assign<a href="#607277" title="Mixin.this.global.Tree" id="607272" class="delimiter">(</a><a title="Mixin.this.global.Tree" id="607277">moduleVarRef</a>, _<span class="delimiter">)</span> = <a href="#607270" title="Mixin.this.global.Tree">assign</a>
            <span class="keyword">val</span> <a title="Mixin.this.global.Apply" id="607273">cond</a>                    = <a href="../ast/TreeDSL.scala.html#187429" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#187429" title="(qualifier: Mixin.this.global.Tree, name: Mixin.this.global.Name)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="#607272" title="Mixin.this.global.Tree">moduleVarRef</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59128" title="=&gt; Mixin.this.global.nme.NameType">eq</a><span class="delimiter">)</span>, <span title="(xs: Mixin.this.global.Literal*)List[Mixin.this.global.Literal]">List</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244790" title="=&gt; Mixin.this.global.Literal">NULL</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="607274">doubleSynchrTree</a>        = <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239111" title="(attrThis: Mixin.this.global.gen.global.Tree, cond: Mixin.this.global.gen.global.Tree, syncBody: List[Mixin.this.global.gen.global.Tree], stats: List[Mixin.this.global.gen.global.Tree])Mixin.this.global.gen.global.Tree">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a href="#607251" title="Mixin.this.global.Tree">attrThis</a>, <a href="#607273" title="Mixin.this.global.Apply">cond</a>, <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#607270" title="Mixin.this.global.Tree">assign</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
            <a href="../ast/TreeDSL.scala.html#187429" title="(stats: List[Mixin.this.global.Tree], expr: Mixin.this.global.Tree)Mixin.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Mixin.this.global.gen.global.Tree*)List[Mixin.this.global.gen.global.Tree]">List</span><span class="delimiter">(</span><a href="#607274" title="Mixin.this.global.gen.global.Tree">doubleSynchrTree</a><span class="delimiter">)</span>, <a href="#607271" title="Mixin.this.global.Tree">returnTree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Mixin.this.global.EmptyTree.type">_</span> =&gt;
            <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;Invalid getter &quot;)" class="string">&quot;Invalid getter &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607252" title="Mixin.this.global.Tree">rhs</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; for module in class &quot;)" class="string">&quot; for module in class &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606381" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="../ast/TreeDSL.scala.html#187429" title="object Mixin.this.global.EmptyTree">EmptyTree</a>
        <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, retVal: Mixin.this.global.Tree, offset: Int, pos: Mixin.this.global.Position, fieldSym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="606401">mkCheckedAccessor</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="607369">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="607370">retVal</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a title="Int" id="607371">offset</a>: <span title="Int">Int</span>, <a title="Mixin.this.global.Position" id="607372">pos</a>: <a href="../util/Position.scala.html#33991" title="Mixin.this.global.Position">Position</a>, <a title="Mixin.this.global.Symbol" id="607373">fieldSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="607374">bitmapSym</a> = <a href="#606395" title="(clazz0: Mixin.this.global.Symbol, offset: Int, field: Mixin.this.global.Symbol, searchParents: Boolean)Mixin.this.global.Symbol">bitmapFor</a><span class="delimiter">(</span><a href="#607369" title="Mixin.this.global.Symbol">clazz</a>, <a href="#607371" title="Int">offset</a>, <a href="#607373" title="Mixin.this.global.Symbol">fieldSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#607373" title="Mixin.this.global.Symbol">fieldSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Mixin.this.global.Literal" id="607375">mask</a>      = <a href="../ast/TreeDSL.scala.html#284810" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <span title="(x: Int)Int">&lt;&lt;</span> <span class="delimiter">(</span><a href="#607371" title="Int">offset</a> <span title="(x: Int)Int">%</span> <a href="../Global.scala.html#242833" title="=&gt; Int">FLAGS_PER_WORD</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="String" id="607376">msg</a>       = <span title="String(&quot;Uninitialized field: &quot;)" class="string">&quot;Uninitialized field: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#606018" title="Mixin.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188689" title="=&gt; scala.tools.nsc.util.SourceFile">source</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607372" title="Mixin.this.global.Position">pos</a>.<a href="../util/Position.scala.html#187155" title="=&gt; Int">line</a>
        <span class="keyword">val</span> <a title="Mixin.this.global.If" id="607377">result</a>    =
          <a href="../ast/TreeDSL.scala.html#244834" title="(tree: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">IF</a> <span class="delimiter">(</span><a href="#606398" title="(clazz: Mixin.this.global.Symbol, mask: Mixin.this.global.Tree, bitmapSym: Mixin.this.global.Symbol, equalToZero: Boolean)Mixin.this.global.Tree">mkTest</a><span class="delimiter">(</span><a href="#607369" title="Mixin.this.global.Symbol">clazz</a>, <a href="#607375" title="Mixin.this.global.Literal">mask</a>, <a href="#607374" title="Mixin.this.global.Symbol">bitmapSym</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span> .
            <a href="../ast/TreeDSL.scala.html#284832" title="(x: Mixin.this.global.Tree)Mixin.this.CODE.IfStart">THEN</a> <span class="delimiter">(</span><a href="#607370" title="Mixin.this.global.Tree">retVal</a><span class="delimiter">)</span> .
            <a href="../ast/TreeDSL.scala.html#284833" title="(elsep: Mixin.this.global.Tree)Mixin.this.global.If">ELSE</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244817" title="(sym: Mixin.this.global.Symbol, msg: Mixin.this.global.Tree)Mixin.this.global.Throw">THROW</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45014" title="=&gt; Mixin.this.global.Symbol">UninitializedErrorClass</a>, <a href="../ast/TreeDSL.scala.html#284810" title="(x: Any)Mixin.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#607376" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <a href="#606000" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#607372" title="Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244836" title="(xs: Mixin.this.global.Tree*)Mixin.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#607377" title="Mixin.this.global.If">result</a>, <a href="#607370" title="Mixin.this.global.Tree">retVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Complete lazy field accessors. Applies only to classes,
       *  for it's own (non inherited) lazy fields. If 'checkinit'
       *  is enabled, getters that check for the initialized bit are
       *  generated, and the class constructor is changed to set the
       *  initialized bits.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]" id="606402">addCheckedGetters</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="607396">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="List[Mixin.this.global.Tree]" id="607397">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(stat: Mixin.this.global.DefDef)Mixin.this.global.DefDef" id="607398">dd</a><span class="delimiter">(</span><a title="Mixin.this.global.DefDef" id="607399">stat</a>: <span title="Mixin.this.global.DefDef">DefDef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> DefDef<a href="#607401" title="(Mixin.this.global.Modifiers, Mixin.this.global.Name, List[Mixin.this.global.TypeDef], List[List[Mixin.this.global.ValDef]], Mixin.this.global.Tree, Mixin.this.global.Tree)" class="delimiter">(</a><a href="#607400" title="Mixin.this.global.Modifiers" id="607401">mods</a>, <a href="#607400" title="Mixin.this.global.Name" id="607402">name</a>, <a href="#607400" title="List[Mixin.this.global.TypeDef]" id="607403">tp</a>, <a href="#607400" title="List[List[Mixin.this.global.ValDef]]" id="607404">vp</a>, <a href="#607400" title="Mixin.this.global.Tree" id="607405">tpt</a>, <a href="#607400" title="Mixin.this.global.Tree" id="607406">rhs</a><span class="delimiter">)</span> = <a href="#607399" title="Mixin.this.global.DefDef">stat</a>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="607407">sym</a> = <a href="#607399" title="Mixin.this.global.DefDef">stat</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="607408">isUnit</a> = <a href="#607407" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="607409">isEmpty</a> = <a href="#607406" title="Mixin.this.global.Tree">rhs</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../ast/TreeDSL.scala.html#187429" title="object Mixin.this.global.EmptyTree">EmptyTree</a>

          <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#607407" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#607409" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#606005" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]">fieldOffset</a> <span title="(key: Mixin.this.global.Symbol)Boolean">contains</span> <a href="#607407" title="Mixin.this.global.Symbol">sym</a>, <a href="#607407" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <a href="#243047" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#607399" title="Mixin.this.global.DefDef">stat</a>, <a href="#607401" title="Mixin.this.global.Modifiers">mods</a>, <a href="#607402" title="Mixin.this.global.Name">name</a>, <a href="#607403" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#607404" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#607405" title="Mixin.this.global.Tree">tpt</a>,
              <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#607408" title="=&gt; Boolean">isUnit</a><span class="delimiter">)</span>
                <a href="#606399" title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree">mkLazyDef</a><span class="delimiter">(</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a>, <a href="#607407" title="Mixin.this.global.Symbol">sym</a>, <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#607406" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#244791" title="=&gt; Mixin.this.global.Literal">UNIT</a>, <a href="#606005" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#607407" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> Block<a href="#607507" title="(List[Mixin.this.global.Tree], Mixin.this.global.Tree)" class="delimiter">(</a><a href="#607506" title="List[Mixin.this.global.Tree]" id="607507">stats</a>, <a href="#607506" title="Mixin.this.global.Tree" id="607508">res</a><span class="delimiter">)</span> = <a href="#607406" title="Mixin.this.global.Tree">rhs</a>
                <a href="#606399" title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree">mkLazyDef</a><span class="delimiter">(</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a>, <a href="#607407" title="Mixin.this.global.Symbol">sym</a>, <a href="#607507" title="List[Mixin.this.global.Tree]">stats</a>, <a href="../ast/TreeDSL.scala.html#187429" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#187429" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#607508" title="Mixin.this.global.Tree">res</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span>, <a href="#606005" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#607407" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#243033" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#607407" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#607409" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>IMPLCLASS <span title="Long(137472507904L)">|</span> TRAIT<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#606005" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]">fieldOffset</a> <span title="(key: Mixin.this.global.Symbol)Boolean">contains</span> <a href="#607407" title="Mixin.this.global.Symbol">sym</a>, <a href="#607407" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <a href="#243047" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#607399" title="Mixin.this.global.DefDef">stat</a>, <a href="#607401" title="Mixin.this.global.Modifiers">mods</a>, <a href="#607402" title="Mixin.this.global.Name">name</a>, <a href="#607403" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#607404" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#607405" title="Mixin.this.global.Tree">tpt</a>,
              <span class="delimiter">(</span><a href="#606401" title="(clazz: Mixin.this.global.Symbol, retVal: Mixin.this.global.Tree, offset: Int, pos: Mixin.this.global.Position, fieldSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkCheckedAccessor</a><span title="(v1: Mixin.this.global.Tree)Mixin.this.global.Tree" class="delimiter">(</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a>, <a href="#607575" title="Mixin.this.global.Tree">_</a>: <span title="Mixin.this.global.Tree">Tree</span>, <a href="#606005" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#607407" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#607399" title="Mixin.this.global.DefDef">stat</a>.<span title="=&gt; Mixin.this.global.Position">pos</span>, <a href="#607407" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span>
                <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#607407" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Mixin.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#244791" title="=&gt; Mixin.this.global.Literal">UNIT</a>
                <span class="keyword">else</span> <a href="#607406" title="Mixin.this.global.Tree">rhs</a>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#607407" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#243047" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#607399" title="Mixin.this.global.DefDef">stat</a>, <a href="#607401" title="Mixin.this.global.Modifiers">mods</a>, <a href="#607402" title="Mixin.this.global.Name">name</a>, <a href="#607403" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#607404" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#607405" title="Mixin.this.global.Tree">tpt</a>, <a href="#606404" title="(clazz: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree">addInitBits</a><span class="delimiter">(</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a>, <a href="#607406" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186678" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">checkInit</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#607407" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46484" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="607607">getter</a> = <a href="#607407" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#243033" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#607607" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#606005" title="=&gt; scala.collection.mutable.HashMap[Mixin.this.global.Symbol,Int]">fieldOffset</a>.<span title="(key: Mixin.this.global.Symbol)Boolean">isDefinedAt</span><span class="delimiter">(</span><a href="#607607" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#243047" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#607399" title="Mixin.this.global.DefDef">stat</a>, <a href="#607401" title="Mixin.this.global.Modifiers">mods</a>, <a href="#607402" title="Mixin.this.global.Name">name</a>, <a href="#607403" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#607404" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#607405" title="Mixin.this.global.Tree">tpt</a>,
                <a href="../ast/TreeDSL.scala.html#187429" title="(stats: List[Mixin.this.global.Tree], expr: Mixin.this.global.Tree)Mixin.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Mixin.this.global.erasure.global.Tree*)List[Mixin.this.global.erasure.global.Tree]">List</span><span class="delimiter">(</span><a href="#607406" title="Mixin.this.global.Tree">rhs</a>, <a href="#605998" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#187859" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">typed</a><span class="delimiter">(</span><a href="#606397" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a>, <a href="#606005" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#607607" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span>, <a href="#607607" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#244791" title="=&gt; Mixin.this.global.Literal">UNIT</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#607399" title="Mixin.this.global.DefDef">stat</a>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Mixin.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#607407" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">||</span> <a href="#607396" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#607407" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46453" title="=&gt; Boolean">isBridge</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#243047" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, mods: Mixin.this.global.Modifiers, name: Mixin.this.global.Name, tparams: List[Mixin.this.global.TypeDef], vparamss: List[List[Mixin.this.global.ValDef]], tpt: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#607399" title="Mixin.this.global.DefDef">stat</a>, <a href="#607401" title="Mixin.this.global.Modifiers">mods</a>, <a href="#607402" title="Mixin.this.global.Name">name</a>, <a href="#607403" title="List[Mixin.this.global.TypeDef]">tp</a>, <a href="#607404" title="List[List[Mixin.this.global.ValDef]]">vp</a>, <a href="#607405" title="Mixin.this.global.Tree">tpt</a>,
              <a href="#606000" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#607399" title="Mixin.this.global.DefDef">stat</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#606400" title="(attrThis: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree">mkInnerClassAccessorDoubleChecked</a><span class="delimiter">(</span>
                  // Martin to Hubert: I think this can be replaced by selfRef(tree.pos)
                  // @PP: It does not seem so, it crashes for me trying to bootstrap.
                  <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92353" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedIdent</a><span class="delimiter">(</span><a href="#607404" title="List[List[Mixin.this.global.ValDef]]">vp</a>.<span title="=&gt; List[Mixin.this.global.ValDef]">head</span>.<span title="=&gt; Mixin.this.global.ValDef">head</span>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92352" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#607396" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>,
                  <a href="#607406" title="Mixin.this.global.Tree">rhs</a>
                <span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#607399" title="Mixin.this.global.DefDef">stat</a>
        <span class="delimiter">}</span>
        <a href="#607397" title="List[Mixin.this.global.Tree]">stats</a> <span title="(f: Mixin.this.global.Tree =&gt; Mixin.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],Mixin.this.global.Tree,List[Mixin.this.global.Tree]])List[Mixin.this.global.Tree]">map</span> <a href="#607679" title="Mixin.this.global.Tree" class="delimiter">{</a>
          <span class="keyword">case</span> <a title="Mixin.this.global.DefDef" id="607680">defn</a>: <span title="Mixin.this.global.DefDef">DefDef</span> =&gt; <a href="#607398" title="(stat: Mixin.this.global.DefDef)Mixin.this.global.DefDef">dd</a><span class="delimiter">(</span><a href="#607680" title="Mixin.this.global.DefDef">defn</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Mixin.this.global.Tree" id="607681">stat</a>         =&gt; <a href="#607681" title="Mixin.this.global.Tree">stat</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">class</span> <a title="class AddInitBitsTransformer extends Mixin.this.global.Transformer with ScalaObject" id="606403">AddInitBitsTransformer</a><a href="#606403" title="ScalaObject" class="delimiter">(</a><a title="Mixin.this.global.Symbol" id="607716">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#186434" title="Mixin.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="(lhs: Mixin.this.global.Tree)List[Mixin.this.global.erasure.global.Tree]" id="607712">checkedGetter</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="607717">lhs</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="607720">sym</a> = <a href="#607716" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a> <a href="../../../reflect/internal/Types.scala.html#41537" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">decl</a> <a href="#607717" title="Mixin.this.global.Tree">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46709" title="=&gt; Mixin.this.global.TermName">getterName</a> <a href="../../../reflect/internal/Symbols.scala.html#46655" title="(cond: Mixin.this.global.Symbol =&gt; Boolean)Mixin.this.global.Symbol">suchThat</a> <span class="delimiter">(</span><a href="#607722" title="Mixin.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46483" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span>
          <span title="List[Mixin.this.global.erasure.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#606012" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitAndHasOffset</a><span class="delimiter">(</span><a href="#607720" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;adding checked getter for: &quot;)" class="string">&quot;adding checked getter for: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607720" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#607717" title="Mixin.this.global.Tree">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46755" title="=&gt; String">defaultFlagString</a><span class="delimiter">)</span>
            <span title="(xs: Mixin.this.global.erasure.global.Tree*)List[Mixin.this.global.erasure.global.Tree]">List</span><span class="delimiter">(</span><a href="#605998" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#187859" title="(tree: Mixin.this.global.erasure.global.Tree)Mixin.this.global.erasure.global.Tree">typed</a> <a href="#606397" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#607716" title="Mixin.this.global.Symbol">clazz</a>, <a href="#606005" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#607720" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#607720" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="object Nil">Nil</span>
        <span class="delimiter">}</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[Mixin.this.global.Tree], exprOwner: Mixin.this.global.Symbol)List[Mixin.this.global.Tree]" id="607713">transformStats</a><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="607753">stats</a>: <span title="List[Mixin.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Mixin.this.global.Symbol" id="607754">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          // !!! Ident(self) is never referenced, is it supposed to be confirming
          // that self is anything in particular?
          <a href="#606403" title="AddInitBitsTransformer" class="keyword">super</a>.<span title="(stats: List[Mixin.this.global.Tree], exprOwner: Mixin.this.global.Symbol)List[Mixin.this.global.Tree]">transformStats</span><span class="delimiter">(</span>
            <a href="#607753" title="List[Mixin.this.global.Tree]">stats</a> <span title="(f: Mixin.this.global.Tree =&gt; scala.collection.GenTraversableOnce[Mixin.this.global.erasure.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],Mixin.this.global.erasure.global.Tree,List[Mixin.this.global.Tree]])List[Mixin.this.global.Tree]">flatMap</span> <a href="#607778" title="List[Mixin.this.global.erasure.global.Tree]" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="List[Mixin.this.global.erasure.global.Tree]" id="607779">stat</a> @ Assign<span class="delimiter">(</span><a title="Mixin.this.global.Select" id="607782">lhs</a> @ Select<span class="delimiter">(</span>This<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="607790">rhs</a><span class="delimiter">)</span> =&gt; <a href="#607779" title="Mixin.this.global.Assign">stat</a> <a href="#607791" title="(x: Mixin.this.global.erasure.global.Tree)List[Mixin.this.global.erasure.global.Tree]">::</a> <a href="#607712" title="(lhs: Mixin.this.global.Tree)List[Mixin.this.global.erasure.global.Tree]">checkedGetter</a><span class="delimiter">(</span><a href="#607782" title="Mixin.this.global.Select">lhs</a><span class="delimiter">)</span>
              // remove initialization for default values
              <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Apply</span><span class="delimiter">(</span><a title="Mixin.this.global.Select" id="607801">lhs</a> @ Select<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Mixin.this.global.Name" id="607809">self</a><span class="delimiter">)</span>, _<span class="delimiter">)</span>, <a href="#607811" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#187429" title="object Mixin.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#607801" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46484" title="=&gt; Boolean">isSetter</a> =&gt; <span title="object Nil">Nil</span>
              <span class="keyword">case</span> <a title="List[Mixin.this.global.Tree]" id="607822">stat</a> =&gt; <span title="(xs: Mixin.this.global.Tree*)List[Mixin.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#607822" title="Mixin.this.global.Tree">stat</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>,
            <a href="#607754" title="Mixin.this.global.Symbol">exprOwner</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Adds statements to set the 'init' bit for each field initialized
       *  in the body of a constructor.
       */
      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree" id="606404">addInitBits</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="607604">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <a title="Mixin.this.global.Tree" id="607605">rhs</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> =
        <span title="AddInitBitsTransformer" class="keyword">new</span> <a href="#606403" title="AddInitBitsTransformer">AddInitBitsTransformer</a><span class="delimiter">(</span><a href="#607604" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</span> <a href="#607605" title="Mixin.this.global.Tree">rhs</a>

      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="606405">isNonLocalFieldWithBitmap</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606917">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#243032" title="(field: Mixin.this.global.Symbol)Boolean">isFieldWithBitmap</a><span class="delimiter">(</span><a href="#606917" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#606394" title="(field: Mixin.this.global.Symbol)Boolean">isLocalBitmapField</a><span class="delimiter">(</span><a href="#606917" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(field: Mixin.this.global.Symbol)Boolean" id="606406">isCheckInitField</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606766">field</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#243033" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#606766" title="Mixin.this.global.Symbol">field</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#606766" title="Mixin.this.global.Symbol">field</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a>

      <span class="keyword">def</span> <a title="(clazz: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]" id="606407">superClassesToCheck</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606872">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#606872" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46683" title="=&gt; List[Mixin.this.global.Symbol]">ancestors</a> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)List[Mixin.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#606878" title="Mixin.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> TRAIT <span title="Long(34603008L)">|</span> JAVA<span class="delimiter">)</span>

      /**
       * Return the number of bits used by superclass fields.
       */
      <span class="keyword">def</span> <a title="(clazz0: Mixin.this.global.Symbol)Int" id="606408">usedBits</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="606906">clazz0</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> =
        <a href="#606407" title="(clazz: Mixin.this.global.Symbol)List[Mixin.this.global.Symbol]">superClassesToCheck</a><span class="delimiter">(</span><a href="#606906" title="Mixin.this.global.Symbol">clazz0</a><span class="delimiter">)</span> <span title="(f: Mixin.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[Mixin.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Symbol],Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]])List[Mixin.this.global.Symbol]">flatMap</span> <span class="delimiter">(</span><a href="#607877" title="Mixin.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Mixin.this.global.Scope">decls</a><span class="delimiter">)</span> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)Int">count</span> <span class="delimiter">{</span> <a title="Mixin.this.global.Symbol" id="607911">f</a> =&gt;
          <a href="#607911" title="Mixin.this.global.Symbol">f</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#606906" title="Mixin.this.global.Symbol">clazz0</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#606405" title="(field: Mixin.this.global.Symbol)Boolean">isNonLocalFieldWithBitmap</a><span class="delimiter">(</span><a href="#607911" title="Mixin.this.global.Symbol">f</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      // begin addNewDefs

      /** Fill the map from fields to offset numbers.
       *  Instead of field symbols, the map keeps their getter symbols. This makes
       *  code generation easier later.
       */
      <span class="keyword">def</span> <a title="()Unit" id="606409">buildBitmapOffsets</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(zero: Int, fields: List[Mixin.this.global.Symbol])Unit" id="607917">fold</a><span class="delimiter">(</span><a title="Int" id="607918">zero</a>: <span title="Int">Int</span>, <a title="List[Mixin.this.global.Symbol]" id="607919">fields</a>: <span title="List[Mixin.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Int" id="607920">idx</a> = <a href="#607918" title="Int">zero</a>
          <a href="#607919" title="List[Mixin.this.global.Symbol]">fields</a> <span title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="Mixin.this.global.Symbol" id="607940">f</a> =&gt;
            <a href="#607920" title="Int">idx</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
            <a href="#606005" title="(key: Mixin.this.global.Symbol, value: Int)Unit">fieldOffset</a><span class="delimiter">(</span><a href="#607940" title="Mixin.this.global.Symbol">f</a><span class="delimiter">)</span> = <a href="#607920" title="Int">idx</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#606381" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Mixin.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#60510" title="=&gt; List[Mixin.this.global.Symbol]">toList</a> <span title="(f: Mixin.this.global.Symbol =&gt; Mixin.this.global.Name)scala.collection.immutable.Map[Mixin.this.global.Name,List[Mixin.this.global.Symbol]]">groupBy</span> <a href="#606013" title="(field: Mixin.this.global.Symbol)Mixin.this.global.Name">bitmapCategory</a> <span title="(f: ((Mixin.this.global.Name, List[Mixin.this.global.Symbol])) =&gt; Unit)Unit">foreach</span> <a href="#607994" title="Unit" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59371" title="=&gt; Mixin.this.global.nme.NameType">NO_NAME</a>, _<span class="delimiter">)</span>            =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58630" title="=&gt; Mixin.this.global.nme.NameType">BITMAP_NORMAL</a>, <a title="List[Mixin.this.global.Symbol]" id="607999">fields</a><span class="delimiter">)</span> =&gt; <a href="#607917" title="(zero: Int, fields: List[Mixin.this.global.Symbol])Unit">fold</a><span class="delimiter">(</span><a href="#606408" title="(clazz0: Mixin.this.global.Symbol)Int">usedBits</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#607999" title="List[Mixin.this.global.Symbol]">fields</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span>_, <a title="List[Mixin.this.global.Symbol]" id="608002">fields</a><span class="delimiter">)</span>                 =&gt; <a href="#607917" title="(zero: Int, fields: List[Mixin.this.global.Symbol])Unit">fold</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#608002" title="List[Mixin.this.global.Symbol]">fields</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#606409" title="()Unit">buildBitmapOffsets</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="List[Mixin.this.global.Tree]" id="606410">stats1</a> = <a href="#606402" title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">addCheckedGetters</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a>, <a href="#606382" title="List[Mixin.this.global.Tree]">stats</a><span class="delimiter">)</span>

      // add deferred bitmaps
      <a href="#243026" title="=&gt; scala.collection.mutable.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Tree]]">deferredBitmaps</a> <span title="(key: Mixin.this.global.Symbol)Option[List[Mixin.this.global.Tree]]">remove</span> <a href="#606381" title="Mixin.this.global.Symbol">clazz</a> <span title="(f: List[Mixin.this.global.Tree] =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="List[Mixin.this.global.Tree]" id="608009">d</a> =&gt; <a href="#606410" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#606390" title="(stats: List[Mixin.this.global.Tree], newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">add</a><span class="delimiter">(</span><a href="#606410" title="List[Mixin.this.global.Tree]">stats1</a>, <a href="#608009" title="List[Mixin.this.global.Tree]">d</a><span class="delimiter">)</span> <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree" id="606411">accessedReference</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="608011">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#608011" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Literal">MethodType</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, ConstantType<span class="delimiter">(</span><a title="Mixin.this.global.Constant" id="608015">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../ast/TreeDSL.scala.html#187429" title="(value: Mixin.this.global.Constant)Mixin.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#608015" title="Mixin.this.global.Constant">c</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
          // if it is a mixed-in lazy value, complete the accessor
          <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#608011" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#608011" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46483" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Boolean" id="608018">isUnit</a>    = <a href="#608011" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Mixin.this.global.Symbol">UnitClass</a>
            <span class="keyword">val</span> <a title="Mixin.this.global.Apply" id="608019">initCall</a>  = <a href="../ast/TreeDSL.scala.html#187429" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#606011" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a><span class="delimiter">(</span><a href="#243024" title="(key: Mixin.this.global.Symbol)Mixin.this.global.Symbol">initializer</a><span class="delimiter">(</span><a href="#608011" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92352" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#608072" title="(x: Mixin.this.global.gen.global.Tree)List[Mixin.this.global.gen.global.Tree]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Select" id="608020">selection</a> = <a href="../ast/TreeDSL.scala.html#187429" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#187429" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#608011" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; Mixin.this.global.Symbol">accessed</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin extends Mixin.this.global.TermTree with Serializable" id="608021">init</a>      = <span title="Mixin extends Mixin.this.global.TermTree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#608018" title="Boolean">isUnit</a><span class="delimiter">)</span> <a href="#608019" title="Mixin.this.global.Apply">initCall</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Assign)Mixin.this.global.Assign">atPos</a><span class="delimiter">(</span><a href="#608011" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#187429" title="(lhs: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#608020" title="Mixin.this.global.Select">selection</a>, <a href="#608019" title="Mixin.this.global.Apply">initCall</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin extends Mixin.this.global.Tree with Serializable" id="608022">returns</a>   = <span title="Mixin extends Mixin.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#608018" title="Boolean">isUnit</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#244791" title="=&gt; Mixin.this.global.Literal">UNIT</a> <span class="keyword">else</span> <a href="#608020" title="Mixin.this.global.Select">selection</a>

            <a href="#606399" title="(clazz: Mixin.this.global.Symbol, lzyVal: Mixin.this.global.Symbol, init: List[Mixin.this.global.Tree], retVal: Mixin.this.global.Tree, offset: Int)Mixin.this.global.Tree">mkLazyDef</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a>, <a href="#608011" title="Mixin.this.global.Symbol">sym</a>, <span title="(xs: Mixin.this.global.TermTree with Serializable*)List[Mixin.this.global.TermTree with Serializable]">List</span><span class="delimiter">(</span><a href="#608021" title="Mixin extends Mixin.this.global.TermTree with Serializable">init</a><span class="delimiter">)</span>, <a href="#608022" title="Mixin extends Mixin.this.global.Tree with Serializable">returns</a>, <a href="#606005" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#608011" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#608011" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#608011" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Mixin.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a> <span title="Mixin extends Mixin.this.global.Tree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="Mixin.this.global.Literal">UnitClass</a>  =&gt; <a href="../ast/TreeDSL.scala.html#244791" title="=&gt; Mixin.this.global.Literal">UNIT</a>
            <span class="keyword">case</span> <span title="Mixin.this.global.Select">_</span>          =&gt; <a href="../ast/TreeDSL.scala.html#187429" title="(qualifier: Mixin.this.global.Tree, sym: Mixin.this.global.Symbol)Mixin.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#187429" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">This</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#608011" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; Mixin.this.global.Symbol">accessed</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(sym: Mixin.this.global.Symbol)Boolean" id="606412">isOverriddenSetter</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="608229">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Mixin.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59423" title="(name: Mixin.this.global.Name)Boolean">isTraitSetterName</a><span class="delimiter">(</span><a href="#608229" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="608231">other</a> = <a href="#608229" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46705" title="=&gt; Mixin.this.global.Symbol">nextOverriddenSymbol</a>
          <a href="#243039" title="(member: Mixin.this.global.Symbol, bcs: List[Mixin.this.global.Symbol])Boolean">isOverriddenAccessor</a><span class="delimiter">(</span><a href="#608231" title="Mixin.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#608231" title="Mixin.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#606381" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41581" title="=&gt; List[Mixin.this.global.Symbol]">baseClasses</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      // for all symbols `sym` in the class definition, which are mixed in:
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="608244">sym</a> &lt;- <a href="#606381" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">decls</a> ; <span class="keyword">if</span> <a href="#608244" title="Mixin.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(34359738368L)">MIXEDIN</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // if current class is a trait interface, add an abstract method for accessor `sym`
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38538" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#606388" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        // if class is not a trait add accessor definitions
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46804" title="=&gt; Boolean">hasAccessorFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">||</span> <a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // add accessor definitions
            <a href="#606388" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>, <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="608245">accessedRef</a> = <a href="#606411" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">accessedReference</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46484" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#606412" title="(sym: Mixin.this.global.Symbol)Boolean">isOverriddenSetter</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#244791" title="=&gt; Mixin.this.global.Literal">UNIT</a>
                <span class="keyword">else</span> <a href="#608245" title="Mixin.this.global.Tree">accessedRef</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Literal</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#608245" title="Mixin.this.global.Tree">accessedRef</a>
                  <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
                    <span class="keyword">val</span> <a title="Mixin.this.global.Assign" id="608247">init</a>   = <a href="../ast/TreeDSL.scala.html#187429" title="(lhs: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#608245" title="Mixin.this.global.Tree">accessedRef</a>, <a href="../ast/TreeDSL.scala.html#187429" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46717" title="=&gt; Mixin.this.global.Symbol">firstParam</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="608248">getter</a> = <a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>

                    <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#243033" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#608248" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#608247" title="Mixin.this.global.Assign">init</a>
                    <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#39381" title="(stats: Mixin.this.global.Tree*)Mixin.this.global.Block">Block</a><span class="delimiter">(</span><a href="#608247" title="Mixin.this.global.Assign">init</a>, <a href="#606397" title="(clazz: Mixin.this.global.Symbol, offset: Int, valSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkSetFlag</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a>, <a href="#606005" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#608248" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span>, <a href="#608248" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#244791" title="=&gt; Mixin.this.global.Literal">UNIT</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#243033" title="(sym: Mixin.this.global.Symbol)Boolean">needsInitFlag</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#606401" title="(clazz: Mixin.this.global.Symbol, retVal: Mixin.this.global.Tree, offset: Int, pos: Mixin.this.global.Position, fieldSym: Mixin.this.global.Symbol)Mixin.this.global.Tree">mkCheckedAccessor</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a>, <a href="#608245" title="Mixin.this.global.Tree">accessedRef</a>, <a href="#606005" title="(key: Mixin.this.global.Symbol)Int">fieldOffset</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Mixin.this.global.Position">pos</a>, <a href="#608244" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239078" title="(tree: Mixin.this.global.gen.global.Tree)Mixin.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="#608245" title="Mixin.this.global.Tree">accessedRef</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> LIFTED <span title="Long(17246978048L)">|</span> BRIDGE<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // add modules
            <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.ValDef" id="608312">vdef</a> = <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239089" title="(accessor: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.ValDef">mkModuleVarDef</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <a href="#606387" title="(pos: Mixin.this.global.Position, tree: Mixin.this.global.Tree)Unit">addDef</a><span class="delimiter">(</span><a href="#606386" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Position">position</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#608312" title="Mixin.this.global.gen.global.ValDef">vdef</a><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="608313">rhs</a>          = <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239092" title="(accessor: Mixin.this.global.gen.global.Symbol, tpe: Mixin.this.global.gen.global.Type)Mixin.this.global.gen.global.Tree">newModule</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>, <a href="#608312" title="Mixin.this.global.gen.global.ValDef">vdef</a>.<span title="=&gt; Mixin.this.global.gen.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.gen.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="608314">assignAndRet</a> = <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239088" title="(lhs: Mixin.this.global.gen.global.Symbol, rhs: Mixin.this.global.gen.global.Tree)Mixin.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#608312" title="Mixin.this.global.gen.global.ValDef">vdef</a>.<span title="=&gt; Mixin.this.global.gen.global.Symbol">symbol</span>, <a href="#608313" title="Mixin.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.gen.global.Tree" id="608315">attrThis</a>     = <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92352" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="608316">rhs1</a>         = <a href="#606400" title="(attrThis: Mixin.this.global.Tree, rhs: Mixin.this.global.Tree)Mixin.this.global.Tree">mkInnerClassAccessorDoubleChecked</a><span class="delimiter">(</span><a href="#608315" title="Mixin.this.global.gen.global.Tree">attrThis</a>, <a href="#608314" title="Mixin.this.global.gen.global.Tree">assignAndRet</a><span class="delimiter">)</span>

            <a href="#606388" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>, <a href="#608316" title="Mixin.this.global.Tree">rhs1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // add fields
            <a href="#606389" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addValDef</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46790" title="=&gt; Boolean">isSuperAccessor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // add superaccessors
            <a href="#606388" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            // add forwarders
            <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46675" title="=&gt; Mixin.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#608244" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
            // debuglog(&quot;New forwarder: &quot; + sym.defString + &quot; =&gt; &quot; + sym.alias.defString)
            <a href="#606388" title="(sym: Mixin.this.global.Symbol, rhs: Mixin.this.global.Tree)Unit">addDefDef</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>, <a href="../ast/TreeDSL.scala.html#187429" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#606011" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a><span class="delimiter">(</span><a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46675" title="=&gt; Mixin.this.global.Symbol">alias</a><span class="delimiter">)</span>, <a href="../Global.scala.html#186149" title="object Mixin.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92352" title="(sym: Mixin.this.global.gen.global.Symbol)Mixin.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#608340" title="(x: Mixin.this.global.gen.global.Tree)List[Mixin.this.global.gen.global.Tree]">::</a> <a href="#608244" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46629" title="=&gt; List[List[Mixin.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[Mixin.this.global.Symbol]">head</span>.<span title="(f: Mixin.this.global.Symbol =&gt; Mixin.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Symbol],Mixin.this.global.Ident,List[Mixin.this.global.Ident]])List[Mixin.this.global.Ident]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Mixin.this.global.Ident,List[Mixin.this.global.Ident]]" class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#187429" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Ident">Ident</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#606410" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#606390" title="(stats: List[Mixin.this.global.Tree], newDefs: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">add</a><span class="delimiter">(</span><a href="#606410" title="List[Mixin.this.global.Tree]">stats1</a>, <a href="#606384" title="scala.collection.mutable.ListBuffer[Mixin.this.global.Tree]">newDefs</a>.<span title="=&gt; List[Mixin.this.global.Tree]">toList</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#606381" title="Mixin.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#606410" title="List[Mixin.this.global.Tree]">stats1</a> = <a href="#606410" title="List[Mixin.this.global.Tree]">stats1</a> <span title="(f: Mixin.this.global.Tree =&gt; Mixin.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Tree],Mixin.this.global.Tree,List[Mixin.this.global.Tree]])List[Mixin.this.global.Tree]">map</span> <a href="#606392" title="(stat: Mixin.this.global.Tree)Mixin.this.global.Tree">completeSuperAccessor</a>
      <a href="#606410" title="List[Mixin.this.global.Tree]">stats1</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(templ: Mixin.this.global.Template)Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]" id="606015">nullableFields</a><span class="delimiter">(</span><a title="Mixin.this.global.Template" id="608470">templ</a>: <span title="Mixin.this.global.Template">Template</span><span class="delimiter">)</span>: <span title="Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]">Map</span><span class="delimiter">[</span>Symbol, Set<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Scope" id="608472">scope</a> = <a href="#608470" title="Mixin.this.global.Template">templ</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Mixin.this.global.Scope">decls</a>
      // if there are no lazy fields, take the fast path and save a traversal of the whole AST
      <span title="Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#608472" title="Mixin.this.global.Scope">scope</a> <span title="(p: Mixin.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#608479" title="Mixin.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Mixin.this.global.Symbol,scala.collection.immutable.Set[Mixin.this.global.Symbol]]" id="608480">map</a> = mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</span><span title="(elems: (Mixin.this.global.Symbol, Set[Mixin.this.global.Symbol])*)scala.collection.mutable.Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a>, <span title="Set[Mixin.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(d: scala.collection.immutable.Set[Mixin.this.global.Symbol])scala.collection.mutable.Map[Mixin.this.global.Symbol,scala.collection.immutable.Set[Mixin.this.global.Symbol]]">withDefaultValue</span> <span title="(elems: Mixin.this.global.Symbol*)scala.collection.immutable.Set[Mixin.this.global.Symbol]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span>
        // check what fields can be nulled for
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="608530">field</a>, <a title="List[Mixin.this.global.Symbol]" id="608531">users</a><span class="delimiter">)</span> &lt;- <a href="#243045" title="(templ: Mixin.this.global.Template)scala.collection.Map[Mixin.this.global.Symbol,List[Mixin.this.global.Symbol]]">singleUseFields</a><a href="#608501" title="(f: ((Mixin.this.global.Symbol, List[Mixin.this.global.Symbol])) =&gt; Unit)Unit" class="delimiter">(</a><a href="#608470" title="Mixin.this.global.Template">templ</a><span class="delimiter">)</span>; <a title="Mixin.this.global.Symbol" id="608551">lazyFld</a> &lt;- <a href="#608531" title="(f: Mixin.this.global.Symbol =&gt; Unit)Unit">users</a><span class="delimiter">)</span>
          <a href="#608480" title="(key: Mixin.this.global.Symbol, value: scala.collection.immutable.Set[Mixin.this.global.Symbol])Unit">map</a><span class="delimiter">(</span><a href="#608551" title="Mixin.this.global.Symbol">lazyFld</a><span class="delimiter">)</span> <span title="(elem: Mixin.this.global.Symbol)scala.collection.immutable.Set[Mixin.this.global.Symbol]">+=</span> <a href="#608530" title="Mixin.this.global.Symbol">field</a>

        <a href="#608480" title="scala.collection.mutable.Map[Mixin.this.global.Symbol,scala.collection.immutable.Set[Mixin.this.global.Symbol]]">map</a>.<span title="(implicit ev: &lt;:&lt;[(Mixin.this.global.Symbol, scala.collection.immutable.Set[Mixin.this.global.Symbol]),(Mixin.this.global.Symbol, Set[Mixin.this.global.Symbol])])scala.collection.immutable.Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]">toMap</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="(elems: (Mixin.this.global.Symbol, Nothing)*)scala.collection.immutable.Map[Mixin.this.global.Symbol,Nothing]">Map</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** The transform that gets applied to a tree after it has been completely
     *  traversed and possible modified by a preTransform.
     *  This step will
     *    - change every node type that refers to an implementation class to its
     *      corresponding interface, unless the node's symbol is an implementation class.
     *    - change parents of templates to conform to parents in the symbol info
     *    - add all new definitions to a class or interface
     *    - remove widening casts
     *    - change calls to methods which are defined only in implementation classes
     *      to static calls of methods in implementation modules (@see staticCall)
     *    - change super calls to methods in implementation classes to static calls
     *      (@see staticCall)
     *    - change `this` in implementation modules to references to the self parameter
     *    - refer to fields in some implementation class via an abstract method in the interface.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="606016">postTransform</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="608616">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="608618">sym</a> = <a href="#608616" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>
      // assert(tree.tpe ne null, tree.getClass +&quot; : &quot;+ tree +&quot; in &quot;+ localTyper.context.tree)
      // change every node type that refers to an implementation class to its
      // corresponding interface, unless the node's symbol is an implementation class.
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#608616" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#608616" title="Mixin.this.global.Tree">tree</a>.<span title="(t: Mixin.this.global.Type)Unit">tpe</span> = <a href="#243031" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#608616" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span><span class="delimiter">)</span>

      <a href="#608616" title="Mixin.this.global.Tree">tree</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Mixin.this.global.Template">Template</span><span class="delimiter">(</span><a title="List[Mixin.this.global.Tree]" id="608626">parents</a>, <a title="Mixin.this.global.ValDef" id="608627">self</a>, <a title="List[Mixin.this.global.Tree]" id="608628">body</a><span class="delimiter">)</span> =&gt;
          // change parents of templates to conform to parents in the symbol info
          <span class="keyword">val</span> <a title="List[Mixin.this.global.TypeTree]" id="608629">parents1</a> = <a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Mixin.this.global.Type]">parents</a> <span title="(f: Mixin.this.global.Type =&gt; Mixin.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Mixin.this.global.Type],Mixin.this.global.TypeTree,List[Mixin.this.global.TypeTree]])List[Mixin.this.global.TypeTree]">map</span> <span class="delimiter">(</span><a title="Mixin.this.global.Type" id="608650">t</a> =&gt; <a href="../ast/TreeDSL.scala.html#187429" title="(tp: Mixin.this.global.Type)Mixin.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#608650" title="Mixin.this.global.Type">t</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.TypeTree">setPos</span> <a href="#608616" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span>
          // mark fields which can be nulled afterward
          <a href="#606003" title="(x$1: Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]])Unit">lazyValNullables</a> = <a href="#606015" title="(templ: Mixin.this.global.Template)Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]">nullableFields</a><span class="delimiter">(</span><a href="#608616" title="Mixin.this.global.Tree">tree</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Mixin.this.global.Template" class="delimiter">[</span><span title="Mixin.this.global.Template">Template</span><span class="delimiter">]</span><span class="delimiter">)</span> <span title="(d: Set[Mixin.this.global.Symbol])scala.collection.immutable.Map[Mixin.this.global.Symbol,Set[Mixin.this.global.Symbol]]">withDefaultValue</span> <span title="(elems: Mixin.this.global.Symbol*)scala.collection.immutable.Set[Mixin.this.global.Symbol]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span>
          // add all new definitions to current class or interface
          <a href="#243047" title="=&gt; Mixin.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Mixin.this.global.Tree, parents: List[Mixin.this.global.Tree], self: Mixin.this.global.ValDef, body: List[Mixin.this.global.Tree])Mixin.this.global.Template">Template</span><span class="delimiter">(</span><a href="#608616" title="Mixin.this.global.Tree">tree</a>, <a href="#608629" title="List[Mixin.this.global.TypeTree]">parents1</a>, <a href="#608627" title="Mixin.this.global.ValDef">self</a>, <a href="#606014" title="(clazz: Mixin.this.global.Symbol, stats: List[Mixin.this.global.Tree])List[Mixin.this.global.Tree]">addNewDefs</a><span class="delimiter">(</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>, <a href="#608628" title="List[Mixin.this.global.Tree]">body</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // remove widening casts
        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Apply</span><span class="delimiter">(</span>TypeApply<span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="608708">qual</a>, _<span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="608713">targ</a> :: _<span class="delimiter">)</span>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../reflect/internal/Definitions.scala.html#45111" title="(sym: Mixin.this.global.Symbol)Boolean">isCastSymbol</a><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#608708" title="Mixin.this.global.Tree">qual</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Mixin.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#608713" title="Mixin.this.global.Tree">targ</a>.<span title="=&gt; Mixin.this.global.Type">tpe</span><span class="delimiter">)</span> =&gt;
          <a href="#608708" title="Mixin.this.global.Tree">qual</a>

        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="608727">qual</a>, _<span class="delimiter">)</span>, <a title="List[Mixin.this.global.Tree]" id="608728">args</a><span class="delimiter">)</span> =&gt;
          /** Changes &lt;code&gt;qual.m(args)&lt;/code&gt; where m refers to an implementation
           *  class method to Q.m(S, args) where Q is the implementation module of
           *  &lt;code&gt;m&lt;/code&gt; and S is the self parameter for the call, which
           *  is determined as follows:
           *     - if qual != super, qual itself
           *     - if qual == super, and we are in an implementation class,
           *       the current self parameter.
           *     - if qual == super, and we are not in an implementation class, `this`
           */
          <span class="keyword">def</span> <a title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree" id="608729">staticCall</a><span class="delimiter">(</span><a title="Mixin.this.global.Symbol" id="608730">target</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Mixin.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Symbol" id="608731">implSym</a> = <a href="#243036" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Mixin.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: Mixin.this.global.Name)Mixin.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Mixin.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#608730" title="Mixin.this.global.Symbol">target</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a>,
              <span title="(xs: Object*)List[Object]">List</span><span class="delimiter">(</span><a href="#608618" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <span title="(other: String)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span>, <a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a>, <a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>, <a href="#243036" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#608731" title="=&gt; Mixin.this.global.Symbol">implSym</a>,
                  <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Type)Mixin.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69292" title="=&gt; scala.reflect.internal.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#608731" title="=&gt; Mixin.this.global.Symbol">implSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>
            <span class="delimiter">)</span>
            <a href="#606000" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#608616" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#187429" title="(fun: Mixin.this.global.Tree, args: List[Mixin.this.global.Tree])Mixin.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#606011" title="(sym: Mixin.this.global.Symbol)Mixin.this.global.Tree">staticRef</a><span class="delimiter">(</span><a href="#608730" title="Mixin.this.global.Symbol">target</a><span class="delimiter">)</span>, <a href="#606009" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformSuper</a><span class="delimiter">(</span><a href="#608727" title="Mixin.this.global.Tree">qual</a><span class="delimiter">)</span> <a href="#608779" title="(x: Mixin.this.global.Tree)List[Mixin.this.global.Tree]">::</a> <a href="#608728" title="List[Mixin.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#243029" title="(sym: Mixin.this.global.Symbol)Boolean">isStaticOnly</a><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // change calls to methods which are defined only in implementation
            // classes to static calls of methods in implementation modules
            <a href="#608729" title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree">staticCall</a><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#608727" title="Mixin.this.global.Tree">qual</a> <span title="Mixin.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Super</span><span class="delimiter">(</span>_, <a title="Mixin.this.global.TypeName" id="608797">mix</a><span class="delimiter">)</span> =&gt;
              // change super calls to methods in implementation classes to static calls.
              // Transform references super.m(args) as follows:
              //  - if `m` refers to a trait, insert a static call to the corresponding static
              //    implementation
              //  - otherwise return tree unchanged
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#608797" title="Mixin.this.global.TypeName">mix</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39303" title="object Mixin.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59323" title="=&gt; Mixin.this.global.tpnme.NameType">EMPTY</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; Mixin.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span>
                <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;illegal super in trait: &quot;)" class="string">&quot;illegal super in trait: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; Mixin.this.global.Symbol">enclClass</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#608616" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>;
              <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38538" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Mixin.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46804" title="=&gt; Boolean">hasAccessorFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#608728" title="List[Mixin.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span>, <a href="#608728" title="List[Mixin.this.global.Tree]">args</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="608806">sym1</a> = <a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46702" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; Mixin.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
                  <a href="#606000" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#608616" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#606009" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformSuper</a><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods" class="delimiter">(</a><a href="#608727" title="Mixin.this.global.Tree">qual</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#284848" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#608806" title="Mixin.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#608729" title="(target: Mixin.this.global.Symbol)Mixin.this.global.erasure.global.Tree">staticCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Symbol)Mixin.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69292" title="=&gt; scala.reflect.internal.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46702" title="(ofclazz: Mixin.this.global.Symbol)Mixin.this.global.Symbol">overridingSymbol</a><span class="delimiter">(</span><a href="#243036" title="(iface: Mixin.this.global.Symbol)Mixin.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; Mixin.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a>, <a href="#243047" title="=&gt; Mixin.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; Mixin.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
                <a href="#608616" title="Mixin.this.global.Tree">tree</a>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
              <a href="#608616" title="Mixin.this.global.Tree">tree</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.gen.global.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#606010" title="(tree: Mixin.this.global.Tree)Mixin.this.global.gen.global.Tree">transformThis</a><span class="delimiter">(</span><a href="#608616" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">Select</span><span class="delimiter">(</span>Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a title="Mixin.this.global.Name" id="608842">name</a><span class="delimiter">)</span> =&gt;
          <a href="#608616" title="Mixin.this.global.Tree">tree</a>

        <span class="keyword">case</span> <span title="Mixin.this.global.erasure.global.Tree">Select</span><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="608847">qual</a>, <a title="Mixin.this.global.Name" id="608848">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#243029" title="(sym: Mixin.this.global.Symbol)Boolean">isStaticOnly</a><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;no method allowed here: %s%s %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>, <a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46543" title="=&gt; Boolean">isImplOnly</a>, <a href="../../../reflect/internal/Flags.scala.html#38619" title="(flags: Long)String">flagsToString</a><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46586" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          // refer to fields in some implementation class via an abstract
          // getter in the interface.
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="608849">iface</a>  = <a href="#243031" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>
          <span class="keyword">val</span> <a title="Mixin.this.global.Symbol" id="608850">getter</a> = <a href="#608618" title="Mixin.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: Mixin.this.global.Symbol)Mixin.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#608849" title="Mixin.this.global.Symbol">iface</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#608850" title="Mixin.this.global.Symbol">getter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Mixin.this.global.NoSymbol">NoSymbol</a>, <a href="#608618" title="Mixin.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#606000" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#608616" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">qual</a> <a href="../ast/TreeDSL.scala.html#284848" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#608850" title="Mixin.this.global.Symbol">getter</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.erasure.global.Tree">Assign</span><span class="delimiter">(</span>Apply<span class="delimiter">(</span><a title="Mixin.this.global.Select" id="608885">lhs</a> @ Select<span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="608890">qual</a>, _<span class="delimiter">)</span>, <a href="#608892" title="(x: List[Mixin.this.global.Tree])Some[List[Mixin.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="Mixin.this.global.Tree" id="608903">rhs</a><span class="delimiter">)</span> =&gt;
          // assign to fields in some implementation class via an abstract
          // setter in the interface.
          <span class="keyword">def</span> <a title="=&gt; Mixin.this.global.Symbol" id="608904">setter</a> = <a href="#608885" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46711" title="(base: Mixin.this.global.Symbol, hasExpandedName: Boolean)Mixin.this.global.Symbol">setter</a><span class="delimiter">(</span>
            <a href="#243031" title="(tp: Mixin.this.global.Type)Mixin.this.global.Type">toInterface</a><span class="delimiter">(</span><a href="#608885" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Mixin.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Mixin.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Mixin.this.global.Symbol">typeSymbol</a>,
            <a href="#243041" title="(field: Mixin.this.global.Symbol)Boolean">needsExpandedSetterName</a><span class="delimiter">(</span><a href="#608885" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46380" title="(pos: scala.tools.nsc.util.Position)Mixin.this.global.Symbol">setPos</a> <a href="#608885" title="Mixin.this.global.Select">lhs</a>.<span title="=&gt; Mixin.this.global.Position">pos</span>

          <a href="#606000" title="(pos: Mixin.this.global.Position)(tree: Mixin.this.global.Tree)Mixin.this.global.erasure.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#608616" title="Mixin.this.global.Tree">tree</a>.<span title="=&gt; Mixin.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Mixin.this.global.Tree)Mixin.this.CODE.TreeMethods">qual</a> <a href="../ast/TreeDSL.scala.html#284848" title="(args: Mixin.this.global.Tree*)Mixin.this.global.Apply">DOT</a> <a href="#608904" title="=&gt; Mixin.this.global.Symbol">setter</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#608903" title="Mixin.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Mixin.this.global.Tree">_</span> =&gt;
          <a href="#608616" title="Mixin.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** The main transform method.
     *  This performs pre-order traversal preTransform at mixin phase;
     *  when coming back, it performs a postTransform at phase after.
     */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree" id="606017">transform</a><span class="delimiter">(</span><a title="Mixin.this.global.Tree" id="606729">tree</a>: <span title="Mixin.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Mixin.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Mixin.this.global.erasure.Typer" id="608923">saved</a> = <a href="#605998" title="=&gt; Mixin.this.global.erasure.Typer">localTyper</a>
      <span class="keyword">val</span> <a title="Mixin.this.global.Tree" id="608924">tree1</a> = <a href="#243047" title="Mixin.this.MixinTransformer" class="keyword">super</a>.<span title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">transform</span><span class="delimiter">(</span><a href="#606007" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">preTransform</a><span class="delimiter">(</span><a href="#606729" title="Mixin.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
      // localTyper needed when not flattening inner classes. parts after an
      // inner class will otherwise be typechecked with a wrong scope
      <span class="keyword">try</span> <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Mixin.this.global.Tree)Mixin.this.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#606016" title="(tree: Mixin.this.global.Tree)Mixin.this.global.Tree">postTransform</a><span class="delimiter">(</span><a href="#608924" title="Mixin.this.global.Tree">tree1</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">finally</span> <a href="#605998" title="(x$1: Mixin.this.global.erasure.Typer)Unit">localTyper</a> = <a href="#608923" title="Mixin.this.global.erasure.Typer">saved</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>