<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/ExplicitOuter.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>.<span class="delimiter">{</span> CASE =&gt; _, _ <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> matching.<span class="delimiter">{</span> Patterns, ParallelMatching <span class="delimiter">}</span>

/** This class ...
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ExplicitOuter extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.matching.Patterns with scala.tools.nsc.matching.ParallelMatching with scala.tools.nsc.transform.TypingTransformers with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="27570">ExplicitOuter</a> <a href="#27570" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#28089" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a>
      <span class="keyword">with</span> <a href="../matching/Patterns.scala.html#25517" title="scala.tools.nsc.matching.Patterns">Patterns</a>
      <span class="keyword">with</span> <a href="../matching/ParallelMatching.scala.html#25409" title="scala.tools.nsc.matching.ParallelMatching">ParallelMatching</a>
      <span class="keyword">with</span> <a href="TypingTransformers.scala.html#28392" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a>
      <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#14381" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a>
<span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#242086" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object ExplicitOuter.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#187433" title="object ExplicitOuter.this.CODE">CODE</a>._
  <span class="keyword">import</span> <a href="../matching/MatchSupport.scala.html#242463" title="object ExplicitOuter.this.Debug">Debug</a>.TRACE

  /** The following flags may be set by this phase: */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="242310">phaseNewFlags</a>: <span title="Long">Long</span> = <a href="../../../reflect/internal/Flags.scala.html#38548" title="=&gt; Long">notPROTECTED</a>

  /** the name of the phase: */
  <span class="keyword">val</span> <a title="String" id="242311">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;explicitouter&quot;)" class="string">&quot;explicitouter&quot;</span>

  /** This class does not change linearization */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="242313">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: ExplicitOuter.this.global.CompilationUnit)ExplicitOuter.this.global.Transformer" id="242314">newTransformer</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.CompilationUnit" id="599552">unit</a>: <a href="../CompilationUnits.scala.html#186387" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#186434" title="ExplicitOuter.this.global.Transformer">Transformer</a> =
    <span title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">new</span> <a href="#242328" title="ExplicitOuter.this.ExplicitOuterTransformer">ExplicitOuterTransformer</a><span class="delimiter">(</span><a href="#599552" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  /** Is given clazz an inner class? */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)Boolean" id="242315">isInner</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="599576">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <span title="=&gt; Boolean">!</span><a href="#599576" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#599576" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46674" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46548" title="=&gt; Boolean">isStaticOwner</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(parent: ExplicitOuter.this.global.Type, clazz: ExplicitOuter.this.global.Symbol)Boolean" id="242316">haveSameOuter</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="599579">parent</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ExplicitOuter.this.global.Type">Type</a>, <a title="ExplicitOuter.this.global.Symbol" id="599580">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#599579" title="ExplicitOuter.this.global.Type">parent</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="599586">pre</a>, <a title="ExplicitOuter.this.global.Symbol" id="599587">sym</a>, _<span class="delimiter">)</span>   =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="599588">owner</a> = <a href="#599580" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>

      <a href="#599587" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#599588" title="ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#599588" title="ExplicitOuter.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#599587" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <a href="#599588" title="ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: ExplicitOuter.this.global.Type)Boolean">=:=</a> <a href="#599586" title="ExplicitOuter.this.global.Type">pre</a>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                      =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  /** Does given clazz define an outer field? */
  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)Boolean" id="242317">hasOuterField</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="599597">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.Type]" id="599600">parents</a> = <a href="#599597" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[ExplicitOuter.this.global.Type]">parents</a>

    <a href="#242315" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#599597" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#599597" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
      <a href="#599600" title="List[ExplicitOuter.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#242316" title="(parent: ExplicitOuter.this.global.Type, clazz: ExplicitOuter.this.global.Symbol)Boolean">haveSameOuter</a><span class="delimiter">(</span><a href="#599600" title="List[ExplicitOuter.this.global.Type]">parents</a>.<span title="=&gt; ExplicitOuter.this.global.Type">head</span>, <a href="#599597" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol" id="242318">outerField</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="599602">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="599604">result</a> = <a href="#599602" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: ExplicitOuter.this.global.Name)ExplicitOuter.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58937" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER_LOCAL</a><span class="delimiter">)</span>
    <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#599604" title="ExplicitOuter.this.global.Symbol">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;no outer field in &quot;)" class="string">&quot;no outer field in &quot;</span><span title="(x$1: Any)String">+</span><a href="#599602" title="ExplicitOuter.this.global.Symbol">clazz</a><span title="(x$1: Any)String">+</span><span title="String(&quot; at &quot;)" class="string">&quot; at &quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span>

    <a href="#599604" title="ExplicitOuter.this.global.Symbol">result</a>
  <span class="delimiter">}</span>
  
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermName" id="242319">innerClassConstructorParamName</a>: <a href="../../../reflect/internal/Names.scala.html#38409" title="ExplicitOuter.this.global.TermName">TermName</a> = <a href="../../../reflect/internal/Names.scala.html#38394" title="(s: String)ExplicitOuter.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;arg&quot;)" class="string">&quot;arg&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58935" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class RemoveBindingsTransformer extends ExplicitOuter.this.global.Transformer with ScalaObject" id="242321">RemoveBindingsTransformer</a><a href="#242321" title="ScalaObject" class="delimiter">(</a><a title="Set[ExplicitOuter.this.global.Symbol]" id="599637">toRemove</a>: <span title="Set[ExplicitOuter.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#186434" title="ExplicitOuter.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="599634">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="599638">tree</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#599638" title="ExplicitOuter.this.global.Tree">tree</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Bind</span><span class="delimiter">(</span>_, <a title="ExplicitOuter.this.global.Tree" id="599648">body</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#599637" title="(elem: ExplicitOuter.this.global.Symbol)Boolean">toRemove</a><span class="delimiter">(</span><a href="#599638" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span><span class="delimiter">)</span> =&gt;
        <a href="../matching/MatchSupport.scala.html#539108" title="(f: String, xs: Any*)Unit">TRACE</a><span class="delimiter">(</span><span title="String(&quot;Dropping unused binding: &quot;)" class="string">&quot;Dropping unused binding: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#599638" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span><span class="delimiter">)</span>
        <a href="#242321" title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">super</a>.<span title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</span><span class="delimiter">(</span><a href="#599648" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span>                                      =&gt; <a href="#242321" title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">super</a>.<span title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</span><span class="delimiter">(</span><a href="#599638" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Issue a migration warning for instance checks which might be on an Array and
   *  for which the type parameter conforms to Seq, because these answers changed in 2.8.
   */
  <span class="keyword">def</span> <a title="(lhs: ExplicitOuter.this.global.Type, rhs: ExplicitOuter.this.global.Type)Boolean" id="242322">isArraySeqTest</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="599672">lhs</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ExplicitOuter.this.global.Type">Type</a>, <a title="ExplicitOuter.this.global.Type" id="599673">rhs</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span> =
    <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45152" title="=&gt; ExplicitOuter.this.global.Symbol">ArrayClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: ExplicitOuter.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#599672" title="ExplicitOuter.this.global.Type">lhs</a>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; ExplicitOuter.this.global.Type">widen</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#599673" title="ExplicitOuter.this.global.Type">rhs</a>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; ExplicitOuter.this.global.Type">widen</a> <a href="../../../reflect/internal/Types.scala.html#41572" title="(that: ExplicitOuter.this.global.Type)Boolean">matchesPattern</a> <a href="../../../reflect/internal/Definitions.scala.html#45130" title="=&gt; ExplicitOuter.this.global.Symbol">SeqClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol" id="242323">outerAccessor</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="549796">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="599681">firstTry</a> = <a href="#549796" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41537" title="(name: ExplicitOuter.this.global.Name)ExplicitOuter.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58640" title="(name: ExplicitOuter.this.global.TermName, base: ExplicitOuter.this.global.Symbol, separator: String)ExplicitOuter.this.global.TermName">expandedName</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58935" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#549796" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="ExplicitOuter.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#599681" title="ExplicitOuter.this.global.Symbol">firstTry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#599681" title="ExplicitOuter.this.global.Symbol">firstTry</a>.<a href="../../../reflect/internal/Symbols.scala.html#46679" title="=&gt; ExplicitOuter.this.global.Symbol">outerSource</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#549796" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#599681" title="ExplicitOuter.this.global.Symbol">firstTry</a>
    <span class="keyword">else</span> <a href="#549796" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; ExplicitOuter.this.global.Scope">decls</a> <span title="(p: ExplicitOuter.this.global.Symbol =&gt; Boolean)Option[ExplicitOuter.this.global.Symbol]">find</span> <span class="delimiter">(</span><a href="#599704" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46679" title="=&gt; ExplicitOuter.this.global.Symbol">outerSource</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#549796" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(default: =&gt; ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">getOrElse</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>
   <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.MethodSymbol" id="242324">newOuterAccessor</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="599715">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="599718">accFlags</a> = SYNTHETIC | METHOD <span title="Int(6291520)">|</span> STABLE <span title="(x: Int)Int">|</span> <span class="delimiter">(</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#599715" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span title="Int(16)">DEFERRED</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span> <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodSymbol" id="599719">sym</a>      = <a href="#599715" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46402" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.MethodSymbol">newMethodSymbol</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58935" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#599715" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <a href="#599718" title="=&gt; Long">accFlags</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="599720">restpe</a>   = <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#599715" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#599715" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46674" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#599715" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46674" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>
    
    <a href="#599719" title="ExplicitOuter.this.global.MethodSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46718" title="(base: ExplicitOuter.this.global.Symbol)Unit">expandName</a> <a href="#599715" title="ExplicitOuter.this.global.Symbol">clazz</a>
    <a href="#599719" title="ExplicitOuter.this.global.MethodSymbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#70128" title="(x: ExplicitOuter.this.global.Symbol)Unit">referenced</a> = <a href="#599715" title="ExplicitOuter.this.global.Symbol">clazz</a>
    <a href="#599719" title="ExplicitOuter.this.global.MethodSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: ExplicitOuter.this.global.Type)sym.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#599720" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.TermSymbol" id="242325">newOuterField</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="599747">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Long" id="599750">accFlags</a> = SYNTHETIC <span title="Int(538968064)">|</span> PARAMACCESSOR <span title="(x: Long)Long">|</span> <span class="delimiter">(</span> <span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="#599747" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46549" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Flags.scala.html#38467" title="=&gt; Long">PrivateLocal</a> <span class="keyword">else</span> <span title="Long(1L)">PROTECTED</span> <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermSymbol" id="599751">sym</a>      = <a href="#599747" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46383" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58937" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER_LOCAL</a>, <a href="#599747" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <a href="#599750" title="Long">accFlags</a><span class="delimiter">)</span>

    <a href="#599751" title="ExplicitOuter.this.global.TermSymbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: ExplicitOuter.this.global.Type)sym.type">setInfo</a> <a href="#599747" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46674" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>
  <span class="delimiter">}</span>

  /** &lt;p&gt;
   *    The type transformation method:
   *  &lt;/p&gt;
   *  &lt;ol&gt;
   *    &lt;li&gt;
   *      Add an outer parameter to the formal parameters of a constructor
   *      in a inner non-trait class;
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Add a protected $outer field to an inner class which is
   *      not a trait.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      &lt;p&gt;
   *        Add an outer accessor $outer$$C to every inner class
   *        with fully qualified name C that is not an interface.
   *        The outer accessor is abstract for traits, concrete for other
   *        classes.
   *      &lt;/p&gt;
   *      &lt;p&gt;
   *        3a. Also add overriding accessor defs to every class that inherits
   *        mixin classes with outer accessor defs (unless the superclass
   *        already inherits the same mixin).
   *      &lt;/p&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Make all super accessors and modules in traits non-private, mangling
   *      their names.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Remove protected flag from all members of traits.
   *    &lt;/li&gt;
   *  &lt;/ol&gt;
   *  Note: this transformInfo need not be reflected as the JVM reflection already
   *  elides outer pointers.
   */
  <span class="keyword">def</span> <a title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type" id="242326">transformInfo</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="599772">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a>, <a title="ExplicitOuter.this.global.Type" id="599773">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ExplicitOuter.this.global.Type">Type</a> = <a href="#599773" title="ExplicitOuter.this.global.Type">tp</a> <span title="ExplicitOuter.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">MethodType</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Symbol]" id="599779">params</a>, <a title="ExplicitOuter.this.global.Type" id="599780">restpe1</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="599781">restpe</a> = <a href="#242326" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>, <a href="#599780" title="ExplicitOuter.this.global.Type">restpe1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>ACCESSOR <span title="Long(402653184L)">|</span> SUPERACCESSOR<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // 5
        <a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46715" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46595" title="(flag: Int)Any">setNotFlag</a> <span title="Int(1)">PROTECTED</span> // 6
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46490" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#242315" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // 1
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermSymbol" id="599789">p</a> = <a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46385" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="#242319" title="=&gt; ExplicitOuter.this.global.TermName">innerClassConstructorParamName</a>, <a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span>
                   .<a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46674" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; ExplicitOuter.this.global.Type">thisType</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#599789" title="ExplicitOuter.this.global.TermSymbol">p</a> <a href="#599796" title="(x: ExplicitOuter.this.global.Symbol)List[ExplicitOuter.this.global.Symbol]">::</a> <a href="#599779" title="List[ExplicitOuter.this.global.Symbol]">params</a>, <a href="#599781" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#599781" title="ExplicitOuter.this.global.Type">restpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#599780" title="ExplicitOuter.this.global.Type">restpe1</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#599779" title="List[ExplicitOuter.this.global.Symbol]">params</a>, <a href="#599781" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#599773" title="ExplicitOuter.this.global.Type">tp</a>
    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">ClassInfoType</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Type]" id="599805">parents</a>, <a title="ExplicitOuter.this.global.Scope" id="599806">decls</a>, <a title="ExplicitOuter.this.global.Symbol" id="599807">clazz</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Scope" id="599808">decls1</a> = <a href="#599806" title="ExplicitOuter.this.global.Scope">decls</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#242315" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46785" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#599808" title="ExplicitOuter.this.global.Scope">decls1</a> = <a href="#599806" title="ExplicitOuter.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#60494" title="=&gt; ExplicitOuter.this.global.Scope">cloneScope</a>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodSymbol" id="599809">outerAcc</a> = <a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46387" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58935" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> // 3
        <a href="#599809" title="ExplicitOuter.this.global.MethodSymbol">outerAcc</a> <a href="../../../reflect/internal/Symbols.scala.html#46718" title="(base: ExplicitOuter.this.global.Symbol)Unit">expandName</a> <a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a>
        
        <a href="#599808" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">enter</a> <a href="#242324" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.MethodSymbol">newOuterAccessor</a><span class="delimiter">(</span><a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#242317" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">hasOuterField</a><span class="delimiter">(</span><a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> //2
          <a href="#599808" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">enter</a> <a href="#242325" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.TermSymbol">newOuterField</a><span class="delimiter">(</span><a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#599805" title="List[ExplicitOuter.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="599854">mc</a> &lt;- <a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46682" title="(f: ExplicitOuter.this.global.Symbol =&gt; Any)Unit">mixinClasses</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="599855">mixinOuterAcc</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#242323" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#599854" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#599855" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#599808" title="ExplicitOuter.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#599806" title="ExplicitOuter.this.global.Scope">decls</a><span class="delimiter">)</span> <a href="#599808" title="ExplicitOuter.this.global.Scope">decls1</a> = <a href="#599806" title="ExplicitOuter.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#60494" title="=&gt; ExplicitOuter.this.global.Scope">cloneScope</a>
            <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="599866">newAcc</a> = <a href="#599855" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46658" title="(newOwner: ExplicitOuter.this.global.Symbol, newFlags: Long)ExplicitOuter.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a>, <a href="#599855" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46586" title="=&gt; Long">flags</a> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(16)">DEFERRED</span><span class="delimiter">)</span>
            <a href="#599866" title="ExplicitOuter.this.global.Symbol">newAcc</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: ExplicitOuter.this.global.Type)newAcc.type">setInfo</a> <span class="delimiter">(</span><a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Type">memberType</a> <a href="#599855" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a><span class="delimiter">)</span>
            <a href="#599808" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">enter</a> <a href="#599866" title="ExplicitOuter.this.global.Symbol">newAcc</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#599808" title="ExplicitOuter.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#599806" title="ExplicitOuter.this.global.Scope">decls</a><span class="delimiter">)</span> <a href="#599773" title="ExplicitOuter.this.global.Type">tp</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#70033" title="(parents: List[ExplicitOuter.this.global.Type], decls: ExplicitOuter.this.global.Scope, typeSymbol: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#599805" title="List[ExplicitOuter.this.global.Type]">parents</a>, <a href="#599808" title="ExplicitOuter.this.global.Scope">decls1</a>, <a href="#599807" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">PolyType</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Symbol]" id="599897">tparams</a>, <a title="ExplicitOuter.this.global.Type" id="599898">restp</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="599899">restp1</a> = <a href="#242326" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>, <a href="#599898" title="ExplicitOuter.this.global.Type">restp</a><span class="delimiter">)</span>
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#599898" title="ExplicitOuter.this.global.Type">restp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#599899" title="ExplicitOuter.this.global.Type">restp1</a><span class="delimiter">)</span> <a href="#599773" title="ExplicitOuter.this.global.Type">tp</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#62451" title="(typeParams: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#599897" title="List[ExplicitOuter.this.global.Symbol]">tparams</a>, <a href="#599899" title="ExplicitOuter.this.global.Type">restp1</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">_</span> =&gt;
      // Local fields of traits need to be unconditionally unprivatized.
      // Reason: Those fields might need to be unprivatized if referenced by an inner class.
      // On the other hand, mixing in the trait into a separately compiled
      // class needs to have a common naming scheme, independently of whether
      // the field was accessed from an inner class or not. See #2946
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46805" title="=&gt; Boolean">hasLocalFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46697" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46715" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#599772" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#599773" title="ExplicitOuter.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  /** A base class for transformers that maintain outerParam
   *  values for outer parameters of constructors.
   *  The class provides methods for referencing via outer.
   */
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class OuterPathTransformer extends ExplicitOuter.this.TypingTransformer with ScalaObject" id="242327">OuterPathTransformer</a><a href="#242327" title="ScalaObject" class="delimiter">(</a><a title="ExplicitOuter.this.global.CompilationUnit" id="599914">unit</a>: <a href="../CompilationUnits.scala.html#186387" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="TypingTransformers.scala.html#242088" title="ExplicitOuter.this.TypingTransformer">TypingTransformer</a><span class="delimiter">(</span><a href="#599914" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    /** The directly enclosing outer parameter, if we are in a constructor */
    <span class="keyword">protected</span> <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Symbol" id="599559">outerParam</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>

    /** The first outer selection from currently transformed tree.
     *  The result is typed but not positioned.
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="599561">outerValue</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span> =
      <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#599559" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#244840" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#599559" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#599562" title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">outerSelect</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244839" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">THIS</a><span class="delimiter">(</span><a href="#242327" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Select and apply outer accessor from 'base'
     *  The result is typed but not positioned.
     *  If the outer access is from current class and current class is final
     *  take outer field instead of accessor
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="599562">outerSelect</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="599924">base</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="599927">outerAcc</a> = <a href="#242323" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#599924" title="ExplicitOuter.this.global.Tree">base</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; ExplicitOuter.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46697" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="599928">currentClass</a> = <a href="#242327" title="OuterPathTransformer.this.type" class="keyword">this</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</span> //todo: !!! if this line is removed, we get a build failure that protected$currentClass need an override modifier
      // outerFld is the $outer field of the current class, if the reference can
      // use it (i.e. reference is allowed to be of the form this.$outer),
      // otherwise it is NoSymbol
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="599929">outerFld</a> =
        <span title="ExplicitOuter.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#599927" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#599928" title="ExplicitOuter.this.global.Symbol">currentClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#599924" title="ExplicitOuter.this.global.Tree">base</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: ExplicitOuter.this.global.Type)Boolean">=:=</a> <a href="#599928" title="ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#599927" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46549" title="=&gt; Boolean">isEffectivelyFinal</a><span class="delimiter">)</span>
          <a href="#242318" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="#599928" title="ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46655" title="(cond: ExplicitOuter.this.global.Symbol =&gt; Boolean)ExplicitOuter.this.global.Symbol">suchThat</a> <span class="delimiter">(</span><a href="#599943" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#599928" title="ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">val</span> <a title="ExplicitOuter extends ExplicitOuter.this.global.Tree with Serializable" id="599930">path</a> =
        <span title="ExplicitOuter extends ExplicitOuter.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#599929" title="ExplicitOuter.this.global.Symbol">outerFld</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="TypingTransformers.scala.html#242086" title="(qualifier: ExplicitOuter.this.global.Tree, sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span><a href="#599924" title="ExplicitOuter.this.global.Tree">base</a>, <a href="#599929" title="ExplicitOuter.this.global.Symbol">outerFld</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="TypingTransformers.scala.html#242086" title="(fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#242086" title="(qualifier: ExplicitOuter.this.global.Tree, sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span><a href="#599924" title="ExplicitOuter.this.global.Tree">base</a>, <a href="#599927" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>

      <a href="TypingTransformers.scala.html#597938" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#187859" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <a href="#599930" title="ExplicitOuter extends ExplicitOuter.this.global.Tree with Serializable">path</a>
    <span class="delimiter">}</span>

    /** The path
     *  &lt;blockquote&gt;&lt;pre&gt;`base'.$outer$$C1 ... .$outer$$Cn&lt;/pre&gt;&lt;/blockquote&gt;
     *  which refers to the outer instance of class to of
     *  value base. The result is typed but not positioned.
     *
     *  @param base ...
     *  @param from ...
     *  @param to   ...
     *  @return     ...
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree" id="599563">outerPath</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="600042">base</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span>, <a title="ExplicitOuter.this.global.Symbol" id="600043">from</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a>, <a title="ExplicitOuter.this.global.Symbol" id="600044">to</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      //Console.println(&quot;outerPath from &quot;+from+&quot; to &quot;+to+&quot; at &quot;+base+&quot;:&quot;+base.tpe)
      //assert(base.tpe.widen.baseType(from.toInterface) != NoType, &quot;&quot;+base.tpe.widen+&quot; &quot;+from.toInterface)//DEBUG
      <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#600043" title="ExplicitOuter.this.global.Symbol">from</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#600044" title="ExplicitOuter.this.global.Symbol">to</a> <span title="(x: Boolean)Boolean">||</span> <a href="#600043" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#600043" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../../../reflect/internal/Symbols.scala.html#46697" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#600044" title="ExplicitOuter.this.global.Symbol">to</a><span class="delimiter">)</span> <a href="#600042" title="ExplicitOuter.this.global.Tree">base</a>
      <span class="keyword">else</span> <a href="#599563" title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">outerPath</a><span class="delimiter">(</span><a href="#599562" title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">outerSelect</a><span class="delimiter">(</span><a href="#600042" title="ExplicitOuter.this.global.Tree">base</a><span class="delimiter">)</span>, <a href="#600043" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../../../reflect/internal/Symbols.scala.html#46674" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>, <a href="#600044" title="ExplicitOuter.this.global.Symbol">to</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="599564">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="600055">tree</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="600060">savedOuterParam</a> = <a href="#599559" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#600055" title="ExplicitOuter.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Template</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
            <a href="#599559" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>
          <span class="keyword">case</span> <span title="Unit">DefDef</span><span class="delimiter">(</span>_, _, _, <a title="List[List[ExplicitOuter.this.global.ValDef]]" id="600095">vparamss</a>, _, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#600055" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46490" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#242315" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#600055" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#599559" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="#600095" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<span title="=&gt; List[ExplicitOuter.this.global.ValDef]">head</span>.<span title="=&gt; ExplicitOuter.this.global.ValDef">head</span>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>
              <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#599559" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; ExplicitOuter.this.global.Name">name</a> <a href="../../../reflect/internal/Names.scala.html#52147" title="(prefix: ExplicitOuter.this.global.Name)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58935" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#599559" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; ExplicitOuter.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="#242327" title="ExplicitOuter.this.OuterPathTransformer" class="keyword">super</a>.<a href="TypingTransformers.scala.html#597953" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#600055" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <a href="#599559" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="#600060" title="ExplicitOuter.this.global.Symbol">savedOuterParam</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** &lt;p&gt;
   *    The phase performs the following transformations on terms:
   *  &lt;/p&gt;
   *  &lt;ol&gt;
   *    &lt;li&gt; &lt;!-- 1 --&gt;
   *      &lt;p&gt;
   *        An class which is not an interface and is not static gets an outer
   *        accessor (@see outerDefs).
   *      &lt;/p&gt;
   *      &lt;p&gt;
   *        1a. A class which is not a trait gets an outer field.
   *      &lt;/p&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 4 --&gt;
   *      A constructor of a non-trait inner class gets an outer parameter.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 5 --&gt;
   *      A reference C.this where C refers to an
   *      outer class is replaced by a selection
   *      this.$outer$$C1 ... .$outer$$Cn (@see outerPath)
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 7 --&gt;
   *      A call to a constructor Q.&lt;init&gt;(args) or Q.$init$(args) where Q != this and
   *      the constructor belongs to a non-static class is augmented by an outer argument.
   *      E.g. Q.&lt;init&gt;(OUTER, args) where OUTER
   *      is the qualifier corresponding to the singleton type Q.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      A call to a constructor this.&lt;init&gt;(args) in a
   *      secondary constructor is augmented to this.&lt;init&gt;(OUTER, args)
   *      where OUTER is the last parameter of the secondary constructor.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 9 --&gt;
   *      Remove private modifier from class members M
   *      that are accessed from an inner class.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 10 --&gt;
   *      Remove protected modifier from class members M
   *      that are accessed without a super qualifier accessed from an inner
   *      class or trait.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 11 --&gt;
   *      Remove private and protected modifiers
   *      from type symbols
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 12 --&gt;
   *      Remove private modifiers from members of traits
   *    &lt;/li&gt;
   *  &lt;/ol&gt;
   *  &lt;p&gt;
   *    Note: The whole transform is run in phase explicitOuter.next.
   *  &lt;/p&gt;
   */
  <span class="keyword">class</span> <a title="class ExplicitOuterTransformer extends ExplicitOuter.this.OuterPathTransformer with ScalaObject" id="242328">ExplicitOuterTransformer</a><a href="#242328" title="ScalaObject" class="delimiter">(</a><a title="ExplicitOuter.this.global.CompilationUnit" id="599575">unit</a>: <a href="../CompilationUnits.scala.html#186387" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#242327" title="ExplicitOuter.this.OuterPathTransformer">OuterPathTransformer</a><span class="delimiter">(</span><a href="#599575" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    transformer =&gt;

    /** The definition tree of the outer accessor of current class
     */
    <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="599569">outerFieldDef</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <a href="../ast/TreeDSL.scala.html#244825" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.ValSymStart">VAL</a><span class="delimiter">(</span><a href="#242318" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285599" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.ValDef">===</a> <a href="TypingTransformers.scala.html#242086" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a>

    /** The definition tree of the outer accessor of current class
     */
    <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="599570">outerAccessorDef</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="600138">outerAcc</a> = <a href="#242323" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Tree" id="600139">rhs</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span> =
        <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#600138" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <a href="TypingTransformers.scala.html#242086" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">else</span> <a href="TypingTransformers.scala.html#242086" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.TreeMethods" class="delimiter">(</a><a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#244848" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: ExplicitOuter.this.CODE.SelectStart)ExplicitOuter.this.global.Select">DOT</a> <a href="#242318" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>

      /** If we don't re-type the tree, we see self-type related crashes like #266.
       */
      <a href="TypingTransformers.scala.html#597938" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#187859" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244822" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#600138" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285519" title="(pos: scala.tools.nsc.util.Position)ExplicitOuter.this.CODE.DefSymStart">withPos</a> <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; ExplicitOuter.this.global.Position">pos</a> <a href="../ast/TreeDSL.scala.html#285517" title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.CODE.DefSymStart">withType</a> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285599" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <a href="#600139" title="ExplicitOuter.this.global.Tree">rhs</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** The definition tree of the outer accessor for class mixinClass.
     *
     *  @param mixinClass The mixin class which defines the abstract outer
     *                    accessor which is implemented by the generated one.
     *  @pre mixinClass is an inner class
     */
    <span class="keyword">def</span> <a title="(mixinClass: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree" id="599571">mixinOuterAccessorDef</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="600188">mixinClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="600190">outerAcc</a>    = <a href="#242323" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#600188" title="ExplicitOuter.this.global.Symbol">mixinClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46702" title="(ofclazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">overridingSymbol</a> <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>
      <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Type" id="600191">mixinPrefix</a> = <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#41553" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Type">baseType</a> <a href="#600188" title="ExplicitOuter.this.global.Symbol">mixinClass</a> <a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; ExplicitOuter.this.global.Type">prefix</a>;
      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#600190" title="ExplicitOuter.this.global.Symbol">outerAcc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;No outer accessor for inner mixin &quot;)" class="string">&quot;No outer accessor for inner mixin &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#600188" title="ExplicitOuter.this.global.Symbol">mixinClass</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>
      // I added the mixinPrefix.typeArgs.nonEmpty condition to address the
      // crash in SI-4970.  I feel quite sure this can be improved.
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.gen.global.Tree" id="600192">path</a> = <span class="delimiter">(</span>
        <span title="ExplicitOuter.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#600188" title="ExplicitOuter.this.global.Symbol">mixinClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <a href="../Global.scala.html#186149" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92352" title="(sym: ExplicitOuter.this.global.gen.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#600188" title="ExplicitOuter.this.global.Symbol">mixinClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; ExplicitOuter.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="ExplicitOuter.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#600191" title="=&gt; ExplicitOuter.this.global.Type">mixinPrefix</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[ExplicitOuter.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="../Global.scala.html#186149" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92352" title="(sym: ExplicitOuter.this.global.gen.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#600191" title="=&gt; ExplicitOuter.this.global.Type">mixinPrefix</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; ExplicitOuter.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../Global.scala.html#186149" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92341" title="(tpe: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#600191" title="=&gt; ExplicitOuter.this.global.Type">mixinPrefix</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <a href="TypingTransformers.scala.html#597938" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#187859" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244822" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#600190" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285519" title="(pos: scala.tools.nsc.util.Position)ExplicitOuter.this.CODE.DefSymStart">withPos</a> <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285599" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <span class="delimiter">{</span>
          // Need to cast for nested outer refs in presence of self-types. See ticket #3274.
          <a href="../Global.scala.html#186149" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92349" title="(tree: ExplicitOuter.this.global.gen.global.Tree, pt: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#242328" title="ExplicitOuterTransformer.this.type">transformer</a>.<a href="#599573" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#600192" title="ExplicitOuter.this.global.gen.global.Tree">path</a><span class="delimiter">)</span>, <a href="#600190" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; ExplicitOuter.this.global.Type">resultType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Match)ExplicitOuter.this.global.analyzer.global.Tree" id="599572">matchTranslation</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Match" id="600240">tree</a>: <span title="ExplicitOuter.this.global.Match">Match</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Match<a href="#600244" title="(ExplicitOuter.this.global.Tree, List[ExplicitOuter.this.global.CaseDef])" class="delimiter">(</a><a href="#600243" title="ExplicitOuter.this.global.Tree" id="600244">selector</a>, <a href="#600243" title="List[ExplicitOuter.this.global.CaseDef]" id="600245">cases</a><span class="delimiter">)</span> = <a href="#600240" title="ExplicitOuter.this.global.Match">tree</a>
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Tree" id="600246">nselector</a> = <a href="#599573" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#600244" title="ExplicitOuter.this.global.Tree">selector</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(vs: List[ExplicitOuter.this.global.Symbol], guard: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree" id="600247">makeGuardDef</a><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Symbol]" id="600277">vs</a>: <span title="List[ExplicitOuter.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ExplicitOuter.this.global.Tree" id="600278">guard</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermName" id="600279">gdname</a> = <a href="#599575" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188695" title="(prefix: String)ExplicitOuter.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="String(&quot;gd&quot;)" class="string">&quot;gd&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodSymbol" id="600280">method</a> = <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46387" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#600279" title="ExplicitOuter.this.global.TermName">gdname</a>, <a href="#600240" title="ExplicitOuter.this.global.Match">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span>, <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.Symbol]" id="600281">params</a> = <a href="#600280" title="ExplicitOuter.this.global.MethodSymbol">method</a> <a href="../../../reflect/internal/Symbols.scala.html#46419" title="(argtypes: List[ExplicitOuter.this.global.Type])List[ExplicitOuter.this.global.Symbol]">newSyntheticValueParams</a> <a href="#600277" title="List[ExplicitOuter.this.global.Symbol]">vs</a>.<span title="(f: ExplicitOuter.this.global.Symbol =&gt; ExplicitOuter.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Symbol],ExplicitOuter.this.global.Type,List[ExplicitOuter.this.global.Type]])List[ExplicitOuter.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,ExplicitOuter.this.global.Type,List[ExplicitOuter.this.global.Type]]" class="delimiter">(</span><a href="#600306" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="#600280" title="ExplicitOuter.this.global.MethodSymbol">method</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: ExplicitOuter.this.global.Type)method.type">setInfo</a> <span title="ExplicitOuter.this.global.MethodType" class="keyword">new</span> <a href="../../../reflect/internal/Types.scala.html#38881" title="ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#600281" title="List[ExplicitOuter.this.global.Symbol]">params</a>, <a href="../../../reflect/internal/Definitions.scala.html#45547" title="=&gt; ExplicitOuter.this.global.Symbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>

        <a href="TypingTransformers.scala.html#597938" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#187859" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
          <a href="../ast/TreeDSL.scala.html#244822" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#600280" title="ExplicitOuter.this.global.MethodSymbol">method</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285599" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.TreeOps">guard</a>.<a href="../../../reflect/internal/Trees.scala.html#58444" title="(pairs: (ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.Symbol)*)ExplicitOuter.this.global.Tree">changeOwner</a><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.TreeOps" class="delimiter">(</a><a href="#242328" title="(x: ExplicitOuter.this.global.Symbol)ArrowAssoc[ExplicitOuter.this.global.Symbol]">currentOwner</a> <span title="(y: ExplicitOuter.this.global.MethodSymbol)(ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.MethodSymbol)">-&gt;</span> <a href="#600280" title="ExplicitOuter.this.global.MethodSymbol">method</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#58445" title="(pairs: (ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.Symbol)*)ExplicitOuter.this.global.Tree">substTreeSyms</a><span class="delimiter">(</span><a href="#600277" title="List[ExplicitOuter.this.global.Symbol]">vs</a> <span title="(that: scala.collection.GenIterable[ExplicitOuter.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Symbol],(ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.Symbol),List[(ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.Symbol)]])List[(ExplicitOuter.this.global.Symbol, ExplicitOuter.this.global.Symbol)]">zip</span> <a href="#600281" title="List[ExplicitOuter.this.global.Symbol]">params</a>: _*<span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" id="600248">nguard</a> = <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.CaseDef]" id="600249">ncases</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span>CaseDef<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="600493">pat</a>, <a title="ExplicitOuter.this.global.Tree" id="600494">guard</a>, <a title="ExplicitOuter.this.global.Tree" id="600495">body</a><span class="delimiter">)</span> &lt;- <a href="#600245" title="(f: ExplicitOuter.this.global.CaseDef =&gt; ExplicitOuter.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.CaseDef],ExplicitOuter.this.global.CaseDef,List[ExplicitOuter.this.global.CaseDef]])List[ExplicitOuter.this.global.CaseDef]">cases</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
          // Strip out any unused pattern bindings up front
          <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.Symbol]" id="600496">patternIdents</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Bind" id="600535">b</a> @ Bind<span class="delimiter">(</span>_, _<span class="delimiter">)</span> &lt;- <a href="#600493" title="(f: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,List[ExplicitOuter.this.global.Symbol]])List[ExplicitOuter.this.global.Symbol]">pat</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#600535" title="ExplicitOuter.this.global.Bind">b</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>
          <span class="keyword">val</span> <a title="Set[ExplicitOuter.this.global.Symbol]" id="600497">references</a>: <span title="Set[ExplicitOuter.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="(elems: ExplicitOuter.this.global.Tree*)scala.collection.immutable.Set[ExplicitOuter.this.global.Tree]">Set</span><span class="delimiter">(</span><a href="#600494" title="ExplicitOuter.this.global.Tree">guard</a>, <a href="#600495" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span> <span title="(f: ExplicitOuter.this.global.Tree =&gt; scala.collection.GenTraversableOnce[ExplicitOuter.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,Set[ExplicitOuter.this.global.Symbol]])Set[ExplicitOuter.this.global.Symbol]">flatMap</span> <span class="delimiter">{</span> <a title="ExplicitOuter.this.global.Tree" id="600597">t</a> =&gt; <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Ident" id="600626">id</a> @ Ident<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Name" id="600630">name</a><span class="delimiter">)</span> &lt;- <a href="#600597" title="(f: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,List[ExplicitOuter.this.global.Symbol]])List[ExplicitOuter.this.global.Symbol]">t</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#600626" title="ExplicitOuter.this.global.Ident">id</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span> <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="#600499" title="(List[ExplicitOuter.this.global.Symbol], List[ExplicitOuter.this.global.Symbol])" class="delimiter">(</a><a href="#600498" title="List[ExplicitOuter.this.global.Symbol]" id="600499">used</a>, <a href="#600498" title="List[ExplicitOuter.this.global.Symbol]" id="600500">unused</a><span class="delimiter">)</span> = <a href="#600496" title="List[ExplicitOuter.this.global.Symbol]">patternIdents</a> <span title="(p: ExplicitOuter.this.global.Symbol =&gt; Boolean)(List[ExplicitOuter.this.global.Symbol], List[ExplicitOuter.this.global.Symbol])">partition</span> <a href="#600497" title="Set[ExplicitOuter.this.global.Symbol]">references</a>
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="600501">strippedPat</a> = <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#600500" title="List[ExplicitOuter.this.global.Symbol]">unused</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#600493" title="ExplicitOuter.this.global.Tree">pat</a> <span class="keyword">else</span> <span title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">new</span> <a href="#242321" title="ExplicitOuter.this.RemoveBindingsTransformer">RemoveBindingsTransformer</a><span class="delimiter">(</span><a href="#600500" title="List[ExplicitOuter.this.global.Symbol]">unused</a>.<span title="scala.collection.immutable.Set[ExplicitOuter.this.global.Symbol]">toSet</span><span class="delimiter">)</span> <a href="#599634" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a> <a href="#600493" title="ExplicitOuter.this.global.Tree">pat</a>

          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="600502">gdcall</a> =
            <span title="ExplicitOuter.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#600494" title="ExplicitOuter.this.global.Tree">guard</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="TypingTransformers.scala.html#242086" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="TypingTransformers.scala.html#242086" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="600712">guardDef</a> = <a href="#600247" title="(vs: List[ExplicitOuter.this.global.Symbol], guard: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">makeGuardDef</a><span class="delimiter">(</span><a href="#600499" title="List[ExplicitOuter.this.global.Symbol]">used</a>, <a href="#600494" title="ExplicitOuter.this.global.Tree">guard</a><span class="delimiter">)</span>
              <a href="#600248" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a> <span title="(x: ExplicitOuter.this.global.Tree)nguard.type">+=</span> <a href="#599573" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#600712" title="ExplicitOuter.this.global.analyzer.global.Tree">guardDef</a><span class="delimiter">)</span> // building up list of guards

              <a href="TypingTransformers.scala.html#597938" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#187859" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">(</span><a href="TypingTransformers.scala.html#242086" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Ident">Ident</a><a href="../ast/TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.TreeMethods" class="delimiter">(</a><a href="#600712" title="ExplicitOuter.this.global.analyzer.global.Tree">guardDef</a>.<span title="=&gt; ExplicitOuter.this.global.analyzer.global.Symbol">symbol</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#284879" title="(params: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="#600499" title="List[ExplicitOuter.this.global.Symbol]">used</a> <span title="(f: ExplicitOuter.this.global.Symbol =&gt; ExplicitOuter.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Symbol],ExplicitOuter.this.global.Ident,List[ExplicitOuter.this.global.Ident]])List[ExplicitOuter.this.global.Ident]">map</span> <a href="TypingTransformers.scala.html#242086" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Ident">Ident</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244812" title="(pat: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.CaseStart">CASE</a><span class="delimiter">(</span><a href="#599573" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#600501" title="ExplicitOuter.this.global.Tree">strippedPat</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285473" title="(g: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.CaseStart">IF</a> <a href="#600502" title="ExplicitOuter.this.global.analyzer.global.Tree">gdcall</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#285474" title="(body: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.CaseDef">==&gt;</a> <a href="#599573" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#600495" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpe: ExplicitOuter.this.global.Type)Boolean" id="600250">isUncheckedAnnotation</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="600837">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#600837" title="ExplicitOuter.this.global.Type">tpe</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: ExplicitOuter.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#45421" title="=&gt; ExplicitOuter.this.global.Symbol">UncheckedClass</a>
      <span class="keyword">def</span> <a title="(tpe: ExplicitOuter.this.global.Type)Boolean" id="600251">isSwitchAnnotation</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="600839">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#600839" title="ExplicitOuter.this.global.Type">tpe</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: ExplicitOuter.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#45385" title="=&gt; ExplicitOuter.this.global.Symbol">SwitchClass</a>

      <span class="keyword">val</span> <a href="#600253" title="(Boolean, Boolean)" class="delimiter">(</a><a href="#600252" title="Boolean" id="600253">checkExhaustive</a>, <a href="#600252" title="Boolean" id="600254">requireSwitch</a><span class="delimiter">)</span> = <a href="#600246" title="ExplicitOuter.this.global.Tree">nselector</a> <span title="(Boolean, Boolean)" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(Boolean, Boolean)">Typed</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="600843">nselector1</a>, <a title="ExplicitOuter.this.global.Tree" id="600844">tpt</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="600845">unchecked</a> = <a href="#600250" title="(tpe: ExplicitOuter.this.global.Type)Boolean">isUncheckedAnnotation</a><span class="delimiter">(</span><a href="#600844" title="ExplicitOuter.this.global.Tree">tpt</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#600845" title="Boolean">unchecked</a><span class="delimiter">)</span>
            <a href="#600246" title="ExplicitOuter.this.global.Tree">nselector</a> = <a href="#600843" title="ExplicitOuter.this.global.Tree">nselector1</a>

          // Don't require a tableswitch if there are 1-2 casedefs
          // since the matcher intentionally emits an if-then-else.
          <span title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#600845" title="Boolean">unchecked</a>, <a href="#600251" title="(tpe: ExplicitOuter.this.global.Type)Boolean">isSwitchAnnotation</a><span class="delimiter">(</span><a href="#600844" title="ExplicitOuter.this.global.Tree">tpt</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#600249" title="List[ExplicitOuter.this.global.CaseDef]">ncases</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Boolean, Boolean)">_</span>  =&gt;
          <span title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="600255">t</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">atPos</a><span class="delimiter">(</span><a href="#600240" title="ExplicitOuter.this.global.Match">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.MatrixContext" id="600879">context</a>     = <a href="../matching/Matrix.scala.html#540644" title="(cunit: ExplicitOuter.this.global.CompilationUnit, handleOuter: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Tree, typer: ExplicitOuter.this.global.analyzer.Typer, owner: ExplicitOuter.this.global.Symbol, matchResultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.MatrixContext">MatrixContext</a><span class="delimiter">(</span><a href="../Global.scala.html#186320" title="=&gt; ExplicitOuter.this.global.CompilationUnit">currentUnit</a>, <a href="#599573" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a>, <a href="TypingTransformers.scala.html#597938" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a>, <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>, <a href="#600240" title="ExplicitOuter.this.global.Match">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="600880">t_untyped</a>   = <a href="../matching/Matrix.scala.html#242491" title="(selector: ExplicitOuter.this.global.Tree, cases: List[ExplicitOuter.this.global.CaseDef], isChecked: Boolean, context: ExplicitOuter.this.MatrixContext)ExplicitOuter.this.global.Tree">handlePattern</a><span class="delimiter">(</span><a href="#600246" title="ExplicitOuter.this.global.Tree">nselector</a>, <a href="#600249" title="List[ExplicitOuter.this.global.CaseDef]">ncases</a>, <a href="#600253" title="Boolean">checkExhaustive</a>, <a href="#600879" title="ExplicitOuter.this.MatrixContext">context</a><span class="delimiter">)</span>

        /* if @switch annotation is present, verify the resulting tree is a Match */
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#600254" title="Boolean">requireSwitch</a><span class="delimiter">)</span> <a href="#600880" title="ExplicitOuter.this.global.Tree">t_untyped</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Block</span><span class="delimiter">(</span>_, Match<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span>  =&gt; // ok
          <span class="keyword">case</span> <span title="Unit">_</span>                      =&gt;
            <a href="#599575" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: ExplicitOuter.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#600240" title="ExplicitOuter.this.global.Match">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span>, <span title="String(&quot;could not emit switch for @switch annotated match&quot;)" class="string">&quot;could not emit switch for @switch annotated match&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="TypingTransformers.scala.html#597938" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#187861" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree, pt: ExplicitOuter.this.global.analyzer.global.Type)ExplicitOuter.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#600880" title="ExplicitOuter.this.global.Tree">t_untyped</a>, <a href="#600879" title="ExplicitOuter.this.MatrixContext">context</a>.<a href="../matching/Matrix.scala.html#540313" title="=&gt; ExplicitOuter.this.global.Type">matchResultType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="ExplicitOuter.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#600248" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#600255" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a>
      <span class="keyword">else</span> <a href="TypingTransformers.scala.html#242086" title="(stats: List[ExplicitOuter.this.global.Tree], expr: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Block">Block</a><span class="delimiter">(</span><a href="#600248" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a>.<span title="=&gt; List[ExplicitOuter.this.global.Tree]">toList</span>, <a href="#600255" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a><span class="delimiter">)</span> <span title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Block">setType</span> <a href="#600255" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a>.<span title="=&gt; ExplicitOuter.this.global.analyzer.global.Type">tpe</span>
    <span class="delimiter">}</span>

    /** The main transformation method */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="599573">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="600231">tree</a>: <span title="ExplicitOuter.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="ExplicitOuter.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="600933">sym</a> = <a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46444" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <span class="delimiter">{</span> //(9)
        <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46595" title="(flag: Int)Any">setNotFlag</a> <span title="Int(4)">PRIVATE</span>
        <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46595" title="(flag: Int)Any">setNotFlag</a> <span title="Int(1)">PROTECTED</span>
      <span class="delimiter">}</span>
      <a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Template</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Tree]" id="600943">parents</a>, <a title="ExplicitOuter.this.global.ValDef" id="600944">self</a>, <a title="List[ExplicitOuter.this.global.Tree]" id="600945">decls</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" id="600946">newDefs</a> = <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
          <a href="TypingTransformers.scala.html#597950" title="(tree: ExplicitOuter.this.global.Tree, owner: ExplicitOuter.this.global.Symbol)(trans: =&gt; Unit)Unit">atOwner</a><span class="delimiter">(</span><a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46785" title="=&gt; Boolean">isInterface</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38538" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#242315" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#242317" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">hasOuterField</a><span class="delimiter">(</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#600946" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <span title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</span> <a href="#599569" title="=&gt; ExplicitOuter.this.global.Tree">outerFieldDef</a> // (1a)
                <a href="#600946" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <span title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</span> <a href="#599570" title="=&gt; ExplicitOuter.this.global.Tree">outerAccessorDef</a> // (1)
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
                <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="601035">mc</a> &lt;- <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46682" title="(f: ExplicitOuter.this.global.Symbol =&gt; Any)Unit">mixinClasses</a><span class="delimiter">)</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#242323" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#601035" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                    <a href="#600946" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <span title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</span> <a href="#599571" title="(mixinClass: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">mixinOuterAccessorDef</a><span class="delimiter">(</span><a href="#601035" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#242328" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#599564" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span>
            <a href="#242328" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<span title="(tree: ExplicitOuter.this.global.Tree, parents: List[ExplicitOuter.this.global.Tree], self: ExplicitOuter.this.global.ValDef, body: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Template">Template</span><span class="delimiter">(</span><a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#600943" title="List[ExplicitOuter.this.global.Tree]">parents</a>, <a href="#600944" title="ExplicitOuter.this.global.ValDef">self</a>,
                          <span title="List[ExplicitOuter.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#600946" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#600945" title="List[ExplicitOuter.this.global.Tree]">decls</a> <span class="keyword">else</span> <a href="#600945" title="List[ExplicitOuter.this.global.Tree]">decls</a> <a href="#601057" title="(prefix: List[ExplicitOuter.this.global.Tree])List[ExplicitOuter.this.global.Tree]">:::</a> <a href="#600946" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a>.<span title="=&gt; List[ExplicitOuter.this.global.Tree]">toList</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Modifiers" id="601084">mods</a>, <a title="ExplicitOuter.this.global.Name" id="601085">name</a>, <a title="List[ExplicitOuter.this.global.TypeDef]" id="601086">tparams</a>, <a title="List[List[ExplicitOuter.this.global.ValDef]]" id="601087">vparamss</a>, <a title="ExplicitOuter.this.global.Tree" id="601088">tpt</a>, <a title="ExplicitOuter.this.global.Tree" id="601089">rhs</a><span class="delimiter">)</span> =&gt;
          <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46490" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#601089" title="ExplicitOuter.this.global.Tree">rhs</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Nothing">Literal</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                sys.<span title="(message: String)Nothing">error</span><span class="delimiter">(</span><span title="String(&quot;unexpected case&quot;)" class="string">&quot;unexpected case&quot;</span><span class="delimiter">)</span> //todo: remove
              <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span> =&gt;
                <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="601091">clazz</a> = <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>
                <span class="keyword">val</span> <a title="List[List[ExplicitOuter.this.global.ValDef]]" id="601092">vparamss1</a> =
                  <span title="List[List[ExplicitOuter.this.global.ValDef]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#242315" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#601091" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (4)
                    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermSymbol" id="601093">outerParam</a> =
                      <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46385" title="(name: ExplicitOuter.this.global.TermName, pos: ExplicitOuter.this.global.Position, newFlags: Long)ExplicitOuter.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58935" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.TermSymbol">setInfo</a> <a href="#242318" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="#601091" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; ExplicitOuter.this.global.Type">info</a>
                    <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39364" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#601093" title="ExplicitOuter.this.global.TermSymbol">outerParam</a><span class="delimiter">)</span> <span title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.ValDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object ExplicitOuter.this.global.NoType">NoType</a><span class="delimiter">)</span> <a href="#601101" title="(x: ExplicitOuter.this.global.ValDef)List[ExplicitOuter.this.global.ValDef]">::</a> <a href="#601087" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<span title="=&gt; List[ExplicitOuter.this.global.ValDef]">head</span><span class="delimiter">)</span> <a href="#601100" title="(x: List[ExplicitOuter.this.global.ValDef])List[List[ExplicitOuter.this.global.ValDef]]">::</a> <a href="#601087" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<span title="=&gt; List[List[ExplicitOuter.this.global.ValDef]]">tail</span>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#601087" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>
                <a href="#242328" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#599564" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<span title="(tree: ExplicitOuter.this.global.Tree, mods: ExplicitOuter.this.global.Modifiers, name: ExplicitOuter.this.global.Name, tparams: List[ExplicitOuter.this.global.TypeDef], vparamss: List[List[ExplicitOuter.this.global.ValDef]], tpt: ExplicitOuter.this.global.Tree, rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#601084" title="ExplicitOuter.this.global.Modifiers">mods</a>, <a href="#601085" title="ExplicitOuter.this.global.Name">name</a>, <a href="#601086" title="List[ExplicitOuter.this.global.TypeDef]">tparams</a>, <a href="#601092" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss1</a>, <a href="#601088" title="ExplicitOuter.this.global.Tree">tpt</a>, <a href="#601089" title="ExplicitOuter.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#242328" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#599564" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">This</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.TypeName" id="601157">qual</a><span class="delimiter">)</span> =&gt;
          <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46806" title="=&gt; Boolean">hasModuleFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46545" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a>
          <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#599563" title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">outerPath</a><span class="delimiter">(</span><a href="#599561" title="=&gt; ExplicitOuter.this.global.Tree">outerValue</a>, <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46674" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>, <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> // (5)

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Select</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="601172">qual</a>, <a title="ExplicitOuter.this.global.Name" id="601173">name</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span> // (3)
            <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46715" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="601174">qsym</a> = <a href="#601172" title="ExplicitOuter.this.global.Tree">qual</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; ExplicitOuter.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; ExplicitOuter.this.global.Symbol">typeSymbol</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46783" title="=&gt; Boolean">isProtected</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> //(4)
              <span class="delimiter">(</span><a href="#601174" title="ExplicitOuter.this.global.Symbol">qsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#601172" title="ExplicitOuter.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="ExplicitOuter.this.global.Super">Super</span><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#601174" title="ExplicitOuter.this.global.Symbol">qsym</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: ExplicitOuter.this.global.Symbol)Boolean">isSubClass</a> <a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38548" title="=&gt; Long">notPROTECTED</a>
          <a href="#242328" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#599564" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Select" id="601195">sel</a> @ Select<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="601200">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; ExplicitOuter.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[ExplicitOuter.this.global.Tree]" id="601201">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#242315" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#601195" title="ExplicitOuter.this.global.Select">sel</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="601203">outerVal</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#601200" title="ExplicitOuter.this.global.Tree">qual</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            // it's a call between constructors of same class
            <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span>: <span title="ExplicitOuter.this.global.This">This</span>  =&gt;
              <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#599559" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a>, <a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
              <a href="#599561" title="=&gt; ExplicitOuter.this.global.Tree">outerValue</a>
            <span class="keyword">case</span> <span title="ExplicitOuter.this.global.gen.global.Tree">_</span>        =&gt;
              <a href="../Global.scala.html#186149" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92341" title="(tpe: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#601200" title="ExplicitOuter.this.global.Tree">qual</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; ExplicitOuter.this.global.Type">prefix</a> <span title="ExplicitOuter.this.global.gen.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38829" title="ExplicitOuter.this.global.Type">NoPrefix</a> =&gt; <a href="#600933" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46674" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>
                <span class="keyword">case</span> <a title="ExplicitOuter.this.global.Type" id="601218">x</a>        =&gt; <a href="#601218" title="ExplicitOuter.this.global.Type">x</a>
              <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <a href="#242328" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#599564" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<span title="(tree: ExplicitOuter.this.global.Tree, fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#601195" title="ExplicitOuter.this.global.Select">sel</a>, <a href="#601203" title="ExplicitOuter.this.global.Tree">outerVal</a> <a href="#601225" title="(x: ExplicitOuter.this.global.Tree)List[ExplicitOuter.this.global.Tree]">::</a> <a href="#601201" title="List[ExplicitOuter.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // entry point for pattern matcher translation
        <span class="keyword">case</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="601231">mch</a>: <span title="ExplicitOuter.this.global.Match">Match</span> <span class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#186204" title="object ExplicitOuter.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#233001" title="=&gt; Boolean">virtPatmat</a><span class="delimiter">)</span> =&gt; // don't use old pattern matcher as fallback when the user wants the virtualizing one
          <a href="#599572" title="(tree: ExplicitOuter.this.global.Match)ExplicitOuter.this.global.analyzer.global.Tree">matchTranslation</a><span class="delimiter">(</span><a href="#601231" title="ExplicitOuter.this.global.Match">mch</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186204" title="object ExplicitOuter.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#233001" title="=&gt; Boolean">virtPatmat</a><span class="delimiter">)</span> <span class="delimiter">{</span> // this turned out to be expensive, hence the hacky `if` and `return`
            <a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              // for patmatvirtualiser
              // base.&lt;outer&gt;.eq(o) --&gt; base.$outer().eq(o) if there's an accessor, else the whole tree becomes TRUE
              // TODO remove the synthetic `&lt;outer&gt;` method from outerFor??
              <span class="keyword">case</span> <span title="Nothing">Apply</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Select" id="601237">eqsel</a>@Select<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Apply" id="601242">eqapp</a>@Apply<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Select" id="601247">sel</a>@Select<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="601252">base</a>, <a title="ExplicitOuter.this.global.Name" id="601253">outerAcc</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>, <a title="ExplicitOuter.this.global.Name" id="601254">eq</a><span class="delimiter">)</span>, <a title="List[ExplicitOuter.this.global.Tree]" id="601255">args</a><span class="delimiter">)</span>  <span class="keyword">if</span> <a href="#601253" title="ExplicitOuter.this.global.Name">outerAcc</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58939" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER_SYNTH</a> =&gt;
                <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="601260">outerFor</a> = <a href="#601247" title="ExplicitOuter.this.global.Select">sel</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46697" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a> // TODO: toInterface necessary?
                <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="601261">acc</a> = <a href="#242323" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#601260" title="ExplicitOuter.this.global.Symbol">outerFor</a><span class="delimiter">)</span>
                <span title="Nothing" class="keyword">if</span><span class="delimiter">(</span><a href="#601261" title="ExplicitOuter.this.global.Symbol">acc</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // println(&quot;WARNING: no outer for &quot;+ outerFor)
                  <span title="Nothing" class="keyword">return</span> <a href="#599573" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#244784" title="=&gt; ExplicitOuter.this.global.Literal">TRUE</a><span class="delimiter">)</span> // urgh... drop condition if there's no accessor
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  // println(&quot;(base, acc)= &quot;+(base, acc))
                  <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="601267">outerSelect</a> = <a href="TypingTransformers.scala.html#597938" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#187859" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <a href="TypingTransformers.scala.html#242086" title="(fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="TypingTransformers.scala.html#242086" title="(qualifier: ExplicitOuter.this.global.Tree, sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span><a href="#601252" title="ExplicitOuter.this.global.Tree">base</a>, <a href="#601261" title="ExplicitOuter.this.global.Symbol">acc</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
                  // achieves the same as: localTyper typed atPos(tree.pos)(outerPath(base, base.tpe.typeSymbol, outerFor.outerClass))
                  // println(&quot;(b, tpsym, outerForI, outerFor, outerClass)= &quot;+ (base, base.tpe.typeSymbol, outerFor, sel.symbol.owner, outerFor.outerClass))
                  // println(&quot;outerSelect = &quot;+ outerSelect)
                  <span title="Nothing" class="keyword">return</span> <a href="#599573" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<span title="(tree: ExplicitOuter.this.global.Tree, fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#242328" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<span title="(tree: ExplicitOuter.this.global.Tree, qualifier: ExplicitOuter.this.global.Tree, selector: ExplicitOuter.this.global.Name)ExplicitOuter.this.global.Select">Select</span><span class="delimiter">(</span><a href="#601237" title="ExplicitOuter.this.global.Select">eqsel</a>, <a href="#601267" title="ExplicitOuter.this.global.analyzer.global.Tree">outerSelect</a>, <a href="#601254" title="ExplicitOuter.this.global.Name">eq</a><span class="delimiter">)</span>, <a href="#601255" title="List[ExplicitOuter.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186698" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">TypeApply</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Select" id="601312">fn</a> @ Select<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="601317">qual</a>, _<span class="delimiter">)</span>, <a title="List[ExplicitOuter.this.global.Tree]" id="601318">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#601312" title="ExplicitOuter.this.global.Select">fn</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45321" title="=&gt; ExplicitOuter.this.global.Symbol">Object_isInstanceOf</a> <span title="(x: Boolean)Boolean">||</span> <a href="#601312" title="ExplicitOuter.this.global.Select">fn</a>.<span title="=&gt; ExplicitOuter.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45307" title="=&gt; ExplicitOuter.this.global.Symbol">Any_isInstanceOf</a> =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#242322" title="(lhs: ExplicitOuter.this.global.Type, rhs: ExplicitOuter.this.global.Type)Boolean">isArraySeqTest</a><span class="delimiter">(</span><a href="#601317" title="ExplicitOuter.this.global.Tree">qual</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span>, <a href="#601318" title="List[ExplicitOuter.this.global.Tree]">args</a>.<span title="=&gt; ExplicitOuter.this.global.Tree">head</span>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#599575" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: ExplicitOuter.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a>.<span title="=&gt; ExplicitOuter.this.global.Position">pos</span>, <span title="String(&quot;An Array will no longer match as Seq[_].&quot;)" class="string">&quot;An Array will no longer match as Seq[_].&quot;</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="601232">x</a> = <a href="#242328" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#599564" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#600231" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#601232" title="ExplicitOuter.this.global.Tree">x</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#601232" title="ExplicitOuter.this.global.Tree">x</a>
          <span class="keyword">else</span> <a href="#601232" title="ExplicitOuter.this.global.Tree">x</a> <span title="(tp: ExplicitOuter.this.global.Type)x.type">setType</span> <a href="#242326" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#242328" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>, <a href="#601232" title="ExplicitOuter.this.global.Tree">x</a>.<span title="=&gt; ExplicitOuter.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** The transformation method for whole compilation units */
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: ExplicitOuter.this.global.CompilationUnit)Unit" id="599574">transformUnit</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.CompilationUnit" id="601333">unit</a>: <a href="../CompilationUnits.scala.html#186387" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#242328" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#268474" title="(unit: ExplicitOuter.this.global.CompilationUnit)Unit">transformUnit</a><span class="delimiter">(</span><a href="#601333" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(prev: tools.nsc.Phase)ExplicitOuter.this.StdPhase" id="242329">newPhase</a><span class="delimiter">(</span><a title="tools.nsc.Phase" id="244773">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#8452" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../SubComponent.scala.html#231975" title="ExplicitOuter.this.StdPhase">StdPhase</a> =
    <span title="ExplicitOuter.this.Phase" class="keyword">new</span> <a href="#242330" title="ExplicitOuter.this.Phase">Phase</a><span class="delimiter">(</span><a href="#244773" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class Phase extends ExplicitOuter.this.Phase with ScalaObject" id="242330">Phase</a><a href="#242330" title="ScalaObject" class="delimiter">(</a><a title="tools.nsc.Phase" id="601360">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#8452" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#27570" title="scala.tools.nsc.transform.ExplicitOuter" class="keyword">super</a>.<a href="InfoTransform.scala.html#242150" title="ExplicitOuter.this.Phase">Phase</a><span class="delimiter">(</span><a href="#601360" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="601358">checkable</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>