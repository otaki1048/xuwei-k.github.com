<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/AddInterfaces.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> collection.mutable.ListBuffer

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class AddInterfaces extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject" id="27942">AddInterfaces</a> <a href="#27942" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#28089" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../SubComponent.scala.html#231956" title="=&gt; scala.tools.nsc.Global">global</a>._                  // the global environment
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object AddInterfaces.this.global.definitions">definitions</a>._             // standard classes and methods

  /** The phase sets lateINTERFACE for non-interface traits that now
   *  become interfaces. It sets lateDEFERRED for formerly concrete
   *  methods in such traits.
   */
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="242701">phaseNewFlags</a>: <span title="Long">Long</span> = <a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#38538" title="=&gt; Long">lateINTERFACE</a>

  /** Type reference after erasure; defined in Erasure.
   */
  <span class="keyword">def</span> <a title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Type" id="242702">erasedTypeRef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="589829">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="AddInterfaces.this.global.Type">Type</a>

  /** Erasure calculation; defined in Erasure.
   */
  <span class="keyword">def</span> <a title="(sym: AddInterfaces.this.global.Symbol, tpe: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" id="242703">erasure</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="362643">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="AddInterfaces.this.global.Type" id="362644">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="AddInterfaces.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="AddInterfaces.this.global.Type">Type</a>

  /** A lazily constructed map that associates every non-interface trait with
   *  its implementation class.
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" id="242704">implClassMap</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35655" title="object AddInterfaces.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110762" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  /** A lazily constructed map that associates every concrete method in a non-interface
   *  trait that's currently compiled with its corresponding method in the trait's
   *  implementation class.
   */
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" id="242706">implMethodMap</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35655" title="object AddInterfaces.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110762" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(prev: tools.nsc.Phase)AddInterfaces.this.StdPhase" id="242708">newPhase</a><span class="delimiter">(</span><a title="tools.nsc.Phase" id="244771">prev</a>: scala.tools.nsc.<a href="../../../reflect/internal/Phase.scala.html#8452" title="tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../SubComponent.scala.html#231975" title="AddInterfaces.this.StdPhase">StdPhase</a> = <span class="delimiter">{</span>
    <a href="#242704" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implClassMap</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#242706" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implMethodMap</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#27942" title="scala.tools.nsc.transform.AddInterfaces" class="keyword">super</a>.<a href="InfoTransform.scala.html#242147" title="(prev: tools.nsc.Phase)AddInterfaces.this.StdPhase">newPhase</a><span class="delimiter">(</span><a href="#244771" title="tools.nsc.Phase">prev</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Is given trait member symbol a member of the trait's interface
   *  after this transform is performed?
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: AddInterfaces.this.global.Symbol)Boolean" id="242709">isInterfaceMember</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="589832">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
    <a href="#589832" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46444" title="=&gt; Boolean">isType</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
      // !!! Shouldn't the following code be equivalent to leaving
      // out the &quot;sym.info&quot; call and starting with &quot;sym.initialize.isMethod&quot; ?
      // Because, it is not, which I found a little disturbing.  The compiler
      // fails to bootstrap with an error somewhere.
      <a href="#589832" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; AddInterfaces.this.global.Type">info</a>    // initialize to set lateMETHOD flag if necessary

      <span class="delimiter">(</span>     <a href="#589832" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#589832" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46812" title="=&gt; Boolean">isLabel</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#589832" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46782" title="=&gt; Boolean">isPrivate</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#589832" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(67108864L)">BRIDGE</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#589832" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46522" title="=&gt; Boolean">hasBridgeAnnotation</a><span class="delimiter">)</span> // count @bridge annotated classes as interface members
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#589832" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#589832" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46543" title="=&gt; Boolean">isImplOnly</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>

  /** Does symbol need an implementation method? */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: AddInterfaces.this.global.Symbol)Boolean" id="242710">needsImplMethod</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="589835">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="#589835" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#242709" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#589835" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#589835" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span>DEFERRED <span title="Long(268435472L)">|</span> SUPERACCESSOR<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#589835" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; scala.reflect.internal.Phase" id="242711">implClassPhase</a> = <a href="../Global.scala.html#186319" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188848" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a>

  /** Return the implementation class of a trait; create a new one of one does not yet exist */
  <span class="keyword">def</span> <a title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol" id="242712">implClass</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="589616">iface</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; AddInterfaces.this.global.Type">info</a>

    <a href="#242704" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implClassMap</a>.<span title="(key: AddInterfaces.this.global.Symbol, default: =&gt; AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">getOrElse</span><span class="delimiter">(</span><a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>, <span class="delimiter">{</span>
      <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="#242711" title="=&gt; scala.reflect.internal.Phase">implClassPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s.implClass == %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>, <a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46673" title="=&gt; AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="AddInterfaces.this.global.TypeName" id="589864">implName</a> = <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object AddInterfaces.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59443" title="(name: AddInterfaces.this.global.Name)AddInterfaces.this.global.TypeName">implClassName</a><span class="delimiter">(</span><a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; AddInterfaces.this.global.Name">name</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="AddInterfaces.this.global.Symbol" id="589865">impl</a>     = <span title="AddInterfaces.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41537" title="(name: AddInterfaces.this.global.Name)AddInterfaces.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#589864" title="AddInterfaces.this.global.TypeName">implName</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; AddInterfaces.this.global.NoSymbol">NoSymbol</a>

        // !!! Why does forcing the impl's info here lead to a crash?
        // See test case pos/trait-force-info.scala for a minimization.
        // It crashes like this:
        //
        // [log lazyvals] trait ContextTrees.implClass == class ContextTrees$class
        // error: java.lang.AssertionError: assertion failed: (scala.tools.nsc.typechecker.Contexts$NoContext$,scala.tools.nsc.typechecker.Contexts,NoContext$,trait Contexts in package typechecker) /  while parsing (/scala/trunk/build/pack/lib/scala-compiler.jar(scala/tools/nsc/interactive/ContextTrees$class.class),Some(class ContextTrees$class))trait Contexts.NoContext$ linkedModule: &lt;none&gt;List()

        <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="589866">originalImpl</a> = <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; AddInterfaces.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // Unlink a pre-existing symbol only if the implementation class is
          // visible on the compilation classpath.  In general this is true under
          // -optimise and not otherwise, but the classpath can use arbitrary
          // logic so the classpath must be queried.
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186147" title="=&gt; scala.tools.nsc.util.ClassPath[AddInterfaces.this.global.platform.BinaryRepr]">classPath</a>.<a href="../util/ClassPath.scala.html#238164" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[AddInterfaces.this.global.platform.BinaryRepr]">context</a>.<a href="../util/ClassPath.scala.html#238229" title="(name: String)Boolean">isValidName</a><span class="delimiter">(</span><a href="#589864" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">implName</a> <span title="(other: String)String">+</span> <span title="String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;unlinking impl class &quot;)" class="string">&quot;unlinking impl class &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span>
            <a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; AddInterfaces.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#60505" title="(sym: AddInterfaces.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span>
            <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; AddInterfaces.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;not unlinking existing &quot;)" class="string">&quot;not unlinking existing &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; as the impl class is not visible on the classpath.&quot;)" class="string">&quot; as the impl class is not visible on the classpath.&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; AddInterfaces.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a> = <a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46661" title="(owner: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; AddInterfaces.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46572" title="(name: AddInterfaces.this.global.Name)Unit">name</a> = <a href="#589864" title="AddInterfaces.this.global.TypeName">implName</a>
          <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46720" title="(f: AddInterfaces.this.global.AbstractFileType)Unit">sourceFile</a> = <a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46719" title="=&gt; AddInterfaces.this.global.AbstractFileType">sourceFile</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
            <a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; AddInterfaces.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">enter</a> <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188866" title="(sym: AddInterfaces.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Global.scala.html#186319" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188803" title="(key: AddInterfaces.this.global.Symbol, value: scala.tools.nsc.io.AbstractFile)Unit">symSource</a><span class="delimiter">(</span><a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> = <a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46719" title="=&gt; AddInterfaces.this.global.AbstractFileType">sourceFile</a>
        <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a> <a href="../../../reflect/internal/Symbols.scala.html#46380" title="(pos: scala.tools.nsc.util.Position)AddInterfaces.this.global.Symbol">setPos</a> <a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; AddInterfaces.this.global.Position">pos</a>
        <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46587" title="(fs: Long)Unit">flags</a> = <a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46586" title="=&gt; Long">flags</a> <span title="(x: Long)Long">&amp;</span> <span title="=&gt; Long">~</span><span class="delimiter">(</span><span title="Int(128)">INTERFACE</span> <span title="(x: Long)Long">|</span> <a href="../../../reflect/internal/Flags.scala.html#38538" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <span title="(x: Long)Long">|</span> <span title="Long(137438953472L)">IMPLCLASS</span>
        <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: AddInterfaces.this.global.Type)AddInterfaces.this.global.Symbol">setInfo</a> <span title="AddInterfaces.this.LazyImplClassType" class="keyword">new</span> <a href="#242713" title="AddInterfaces.this.LazyImplClassType">LazyImplClassType</a><span class="delimiter">(</span><a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a><span class="delimiter">)</span>
        <a href="#242704" title="(key: AddInterfaces.this.global.Symbol, value: AddInterfaces.this.global.Symbol)Unit">implClassMap</a><span class="delimiter">(</span><a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a><span class="delimiter">)</span> = <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a>
        <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
          <span title="String(&quot;generating impl class &quot;)" class="string">&quot;generating impl class &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46749" title="=&gt; String">debugLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#589616" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#589866" title="AddInterfaces.this.global.Symbol">originalImpl</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; AddInterfaces.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="String(&quot; (cloned from &quot;)" class="string">&quot; (cloned from &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#589866" title="AddInterfaces.this.global.Symbol">originalImpl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46749" title="=&gt; String">debugLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#589865" title="AddInterfaces.this.global.Symbol">impl</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** A lazy type to set the info of an implementation class
   *  The parents of an implementation class for trait iface are:
   *
   *  - superclass: Object
   *  - mixin classes: mixin classes of iface where every non-interface
   *  trait is mapped to its implementation class, followed by iface itself.
   *
   *  The declarations of a mixin class are:
   *  - for every interface member of iface: its implementation method, if one is needed
   *  - every former member of iface that is implementation only
   */
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class LazyImplClassType extends AddInterfaces.this.global.LazyType with ScalaObject" id="242713">LazyImplClassType</a><a href="#242713" title="ScalaObject" class="delimiter">(</a><a title="AddInterfaces.this.global.Symbol" id="589963">iface</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#38926" title="AddInterfaces.this.global.LazyType">LazyType</a> <span class="delimiter">{</span>
    /** Compute the decls of implementation class implClass,
     *  given the decls ifaceDecls of its interface.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(implClass: AddInterfaces.this.global.Symbol, ifaceDecls: AddInterfaces.this.global.Scope)AddInterfaces.this.global.Scope" id="589960">implDecls</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="589978">implClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="AddInterfaces.this.global.Scope" id="589979">ifaceDecls</a>: <a href="../../../reflect/internal/Scopes.scala.html#39174" title="AddInterfaces.this.global.Scope">Scope</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Scopes.scala.html#39174" title="AddInterfaces.this.global.Scope">Scope</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Scope" id="589981">decls</a> = <a href="../../../reflect/internal/Scopes.scala.html#39175" title="()AddInterfaces.this.global.Scope">newScope</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#589979" title="AddInterfaces.this.global.Scope">ifaceDecls</a> <a href="../../../reflect/internal/Scopes.scala.html#60506" title="(name: AddInterfaces.this.global.Name)AddInterfaces.this.global.Symbol">lookup</a> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object AddInterfaces.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58931" title="=&gt; AddInterfaces.this.global.nme.NameType">MIXIN_CONSTRUCTOR</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; AddInterfaces.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#589981" title="AddInterfaces.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">enter</a> <span class="delimiter">(</span>
          <a href="#589978" title="AddInterfaces.this.global.Symbol">implClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46387" title="(name: AddInterfaces.this.global.TermName, pos: AddInterfaces.this.global.Position, newFlags: Long)AddInterfaces.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object AddInterfaces.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58931" title="=&gt; AddInterfaces.this.global.nme.NameType">MIXIN_CONSTRUCTOR</a>, <a href="#589978" title="AddInterfaces.this.global.Symbol">implClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; AddInterfaces.this.global.Position">pos</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: AddInterfaces.this.global.Type)AddInterfaces.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[AddInterfaces.this.global.Symbol], resultType: AddInterfaces.this.global.Type)AddInterfaces.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; AddInterfaces.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; AddInterfaces.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="590022">sym</a> &lt;- <a href="#589979" title="AddInterfaces.this.global.Scope">ifaceDecls</a>.<a href="../../../reflect/internal/Scopes.scala.html#60512" title="(f: AddInterfaces.this.global.Symbol =&gt; Any)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#242709" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#590022" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#242710" title="(sym: AddInterfaces.this.global.Symbol)Boolean">needsImplMethod</a><span class="delimiter">(</span><a href="#590022" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="590023">impl</a> = <a href="#590022" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46657" title="(newOwner: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#589978" title="AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46590" title="(mask: Long)AddInterfaces.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188866" title="(sym: AddInterfaces.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#589978" title="AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#242706" title="(key: AddInterfaces.this.global.Symbol, value: AddInterfaces.this.global.Symbol)Unit">implMethodMap</a><span class="delimiter">(</span><a href="#590022" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#590023" title="AddInterfaces.this.global.Symbol">impl</a>
            <a href="#589981" title="AddInterfaces.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">enter</a> <a href="#590023" title="AddInterfaces.this.global.Symbol">impl</a>
            <a href="#590022" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)sym.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#590022" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46565" title="(owner: AddInterfaces.this.global.Symbol)Unit">owner</a> = <a href="#589978" title="AddInterfaces.this.global.Symbol">implClass</a>
          // note: OK to destructively modify the owner here,
          // because symbol will not be accessible from outside the sourcefile.
          // mixin constructors are corrected separately; see TermSymbol.owner
          <a href="#589981" title="AddInterfaces.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">enter</a> <a href="#590022" title="AddInterfaces.this.global.Symbol">sym</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#589981" title="AddInterfaces.this.global.Scope">decls</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: AddInterfaces.this.global.Symbol)Unit" id="589961">complete</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="590048">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      /** If `tp` refers to a non-interface trait, return a
       *  reference to its implementation class. Otherwise return `tp`.
       */
      <span class="keyword">def</span> <a title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" id="590053">mixinToImplClass</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="590055">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="AddInterfaces.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="AddInterfaces.this.global.Type">Type</a> = <a href="#242703" title="(sym: AddInterfaces.this.global.Symbol, tpe: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#590048" title="AddInterfaces.this.global.Symbol">sym</a>,
        <a href="#590055" title="AddInterfaces.this.global.Type">tp</a> <span title="AddInterfaces.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span> //@MATN: no normalize needed (comes after erasure)
          <span class="keyword">case</span> <span title="AddInterfaces.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="590059">pre</a>, <a title="AddInterfaces.this.global.Symbol" id="590060">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#590060" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46542" title="=&gt; Boolean">needsImplClass</a> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#38934" title="(pre: AddInterfaces.this.global.Type, sym: AddInterfaces.this.global.Symbol, args: List[AddInterfaces.this.global.Type])AddInterfaces.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#590059" title="AddInterfaces.this.global.Type">pre</a>, <a href="#242712" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#590060" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="AddInterfaces.this.global.Type">_</span> =&gt;
            <a href="#590055" title="AddInterfaces.this.global.Type">tp</a>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" id="590054">implType</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="590064">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="AddInterfaces.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="AddInterfaces.this.global.Type">Type</a> = <a href="#590064" title="AddInterfaces.this.global.Type">tp</a> <span title="AddInterfaces.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.ClassInfoType">ClassInfoType</span><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Type]" id="590068">parents</a>, <a title="AddInterfaces.this.global.Scope" id="590069">decls</a>, _<span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#242711" title="=&gt; scala.reflect.internal.Phase">implClassPhase</a>, <a href="#590064" title="AddInterfaces.this.global.Type">tp</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Types.scala.html#70033" title="(parents: List[AddInterfaces.this.global.Type], decls: AddInterfaces.this.global.Scope, typeSymbol: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
            <a href="../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; AddInterfaces.this.global.Symbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; AddInterfaces.this.global.Type">tpe</a> <a href="#590084" title="(elem: AddInterfaces.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Type],AddInterfaces.this.global.Type,List[AddInterfaces.this.global.Type]])List[AddInterfaces.this.global.Type]">+:</a> <span class="delimiter">(</span><a href="#590068" title="List[AddInterfaces.this.global.Type]">parents</a>.<span title="=&gt; List[AddInterfaces.this.global.Type]">tail</span> <span title="(f: AddInterfaces.this.global.Type =&gt; AddInterfaces.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Type],AddInterfaces.this.global.Type,List[AddInterfaces.this.global.Type]])List[AddInterfaces.this.global.Type]">map</span> <a href="#590053" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">mixinToImplClass</a> <span title="(p: AddInterfaces.this.global.Type =&gt; Boolean)List[AddInterfaces.this.global.Type]">filter</span> <span class="delimiter">(</span><a href="#590137" title="AddInterfaces.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; AddInterfaces.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; AddInterfaces.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(elem: AddInterfaces.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Type],AddInterfaces.this.global.Type,List[AddInterfaces.this.global.Type]])List[AddInterfaces.this.global.Type]">:+</span> <a href="#589963" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; AddInterfaces.this.global.Type">tpe</a>,
            <a href="#589960" title="(implClass: AddInterfaces.this.global.Symbol, ifaceDecls: AddInterfaces.this.global.Scope)AddInterfaces.this.global.Scope">implDecls</a><span class="delimiter">(</span><a href="#590048" title="AddInterfaces.this.global.Symbol">sym</a>, <a href="#590069" title="AddInterfaces.this.global.Scope">decls</a><span class="delimiter">)</span>,
            <a href="#590048" title="AddInterfaces.this.global.Symbol">sym</a>
          <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.Type">PolyType</span><span class="delimiter">(</span>_, <a title="AddInterfaces.this.global.Type" id="590265">restpe</a><span class="delimiter">)</span> =&gt;
          <a href="#590054" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">implType</a><span class="delimiter">(</span><a href="#590265" title="AddInterfaces.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#590048" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: AddInterfaces.this.global.Type)sym.type">setInfo</a> <a href="#590054" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">implType</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188848" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#589963" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; AddInterfaces.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(clazz: AddInterfaces.this.global.Symbol)Unit" id="589962">load</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="590273">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#589961" title="(sym: AddInterfaces.this.global.Symbol)Unit">complete</a><span class="delimiter">(</span><a href="#590273" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" id="242714">transformMixinInfo</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="590277">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="AddInterfaces.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="AddInterfaces.this.global.Type">Type</a> = <a href="#590277" title="AddInterfaces.this.global.Type">tp</a> <span title="AddInterfaces.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="AddInterfaces.this.global.ClassInfoType">ClassInfoType</span><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Type]" id="590282">parents</a>, <a title="AddInterfaces.this.global.Scope" id="590283">decls</a>, <a title="AddInterfaces.this.global.Symbol" id="590284">clazz</a><span class="delimiter">)</span> =&gt;
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#590284" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46542" title="=&gt; Boolean">needsImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#590284" title="AddInterfaces.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)clazz.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38538" title="=&gt; Long">lateINTERFACE</a>
        <a href="#242712" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#590284" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span> // generate an impl class
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.Type]" id="590285">parents1</a> = <a href="#590282" title="List[AddInterfaces.this.global.Type]">parents</a> <span title="List[AddInterfaces.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Nil</span>      =&gt; <span title="object Nil">Nil</span>
        <span class="keyword">case</span> <a title="List[AddInterfaces.this.global.Type]" id="590297">hd</a> :: <a title="List[AddInterfaces.this.global.Type]" id="590298">tl</a> =&gt;
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#590297" title="AddInterfaces.this.global.Type">hd</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; AddInterfaces.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a>, <a href="#590284" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span title="List[AddInterfaces.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#590284" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#242702" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Type">erasedTypeRef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; AddInterfaces.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span> <a href="#590303" title="(x: AddInterfaces.this.global.Type)List[AddInterfaces.this.global.Type]">::</a> <a href="#590298" title="List[AddInterfaces.this.global.Type]">tl</a>
          <span class="keyword">else</span> <a href="#590282" title="List[AddInterfaces.this.global.Type]">parents</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Scope" id="590286">decls1</a> = <a href="../../../reflect/internal/Scopes.scala.html#39179" title="(owner: AddInterfaces.this.global.Symbol)(op: =&gt; AddInterfaces.this.global.Scope)AddInterfaces.this.global.Scope">scopeTransform</a><span class="delimiter">(</span><a href="#590284" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#590283" title="AddInterfaces.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#60516" title="(p: AddInterfaces.this.global.Symbol =&gt; Boolean)AddInterfaces.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="590318">sym</a> =&gt;
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#590284" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46785" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <a href="#242709" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#590318" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#590318" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46444" title="=&gt; Boolean">isType</a> <span title="(x: Boolean)Boolean">||</span> <a href="#590318" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      //if (!clazz.isPackageClass) System.out.println(&quot;Decls of &quot;+clazz+&quot; after explicitOuter = &quot; + decls1);//DEBUG
      //if ((parents1 eq parents) &amp;&amp; (decls1 eq decls)) tp
      //else
      <a href="../../../reflect/internal/Types.scala.html#70033" title="(parents: List[AddInterfaces.this.global.Type], decls: AddInterfaces.this.global.Scope, typeSymbol: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#590285" title="List[AddInterfaces.this.global.Type]">parents1</a>, <a href="#590286" title="AddInterfaces.this.global.Scope">decls1</a>, <a href="#590284" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="AddInterfaces.this.global.Type">_</span> =&gt;
      <a href="#590277" title="AddInterfaces.this.global.Type">tp</a>
  <span class="delimiter">}</span>

// Tree transformation --------------------------------------------------------------

  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class ChangeOwnerAndReturnTraverser extends AddInterfaces.this.global.ChangeOwnerTraverser with ScalaObject" id="242715">ChangeOwnerAndReturnTraverser</a><a href="#242715" title="ScalaObject" class="delimiter">(</a><a title="AddInterfaces.this.global.Symbol" id="590328">oldowner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="AddInterfaces.this.global.Symbol" id="590329">newowner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>
          <span class="keyword">extends</span> <a href="../../../reflect/internal/Trees.scala.html#39391" title="AddInterfaces.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#590328" title="AddInterfaces.this.global.Symbol">oldowner</a>, <a href="#590329" title="AddInterfaces.this.global.Symbol">newowner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)Unit" id="590324">traverse</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="590332">tree</a>: <span title="AddInterfaces.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#590332" title="AddInterfaces.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Return</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="590338">expr</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#590332" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#590328" title="AddInterfaces.this.global.Symbol">oldowner</a><span class="delimiter">)</span> <a href="#590332" title="AddInterfaces.this.global.Tree">tree</a>.<span title="(sym: AddInterfaces.this.global.Symbol)Unit">symbol</span> = <a href="#590329" title="AddInterfaces.this.global.Symbol">newowner</a>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
      <a href="#242715" title="AddInterfaces.this.ChangeOwnerAndReturnTraverser" class="keyword">super</a>.<a href="../../../reflect/internal/Trees.scala.html#127159" title="(tree: AddInterfaces.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#590332" title="AddInterfaces.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" id="242716">ifaceMemberDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="590348">tree</a>: <span title="AddInterfaces.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="AddInterfaces.this.global.Tree">Tree</span> =
    <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#590348" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#242709" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#590348" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../SubComponent.scala.html#231956" title="object AddInterfaces.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">else</span> <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#242710" title="(sym: AddInterfaces.this.global.Symbol)Boolean">needsImplMethod</a><span class="delimiter">(</span><a href="#590348" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#39370" title="(sym: AddInterfaces.this.global.Symbol, rhs: AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#590348" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span>, <a href="../SubComponent.scala.html#231956" title="object AddInterfaces.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#590348" title="AddInterfaces.this.global.Tree">tree</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template" id="242717">ifaceTemplate</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Template" id="589625">templ</a>: <span title="AddInterfaces.this.global.Template">Template</span><span class="delimiter">)</span>: <span title="AddInterfaces.this.global.Template">Template</span> =
    <a href="../SubComponent.scala.html#231956" title="=&gt; AddInterfaces.this.global.TreeCopier">treeCopy</a>.<span title="(tree: AddInterfaces.this.global.Tree, parents: List[AddInterfaces.this.global.Tree], self: AddInterfaces.this.global.ValDef, body: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template">Template</span><span class="delimiter">(</span><a href="#589625" title="AddInterfaces.this.global.Template">templ</a>, <a href="#589625" title="AddInterfaces.this.global.Template">templ</a>.<span title="=&gt; List[AddInterfaces.this.global.Tree]">parents</span>, <a href="../../../reflect/internal/Trees.scala.html#39365" title="object AddInterfaces.this.global.emptyValDef">emptyValDef</a>, <a href="#589625" title="AddInterfaces.this.global.Template">templ</a>.<span title="=&gt; List[AddInterfaces.this.global.Tree]">body</span> <span title="(f: AddInterfaces.this.global.Tree =&gt; AddInterfaces.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">map</span> <a href="#242716" title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">ifaceMemberDef</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree, ifaceMethod: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree" id="242718">implMethodDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="590420">tree</a>: <span title="AddInterfaces.this.global.Tree">Tree</span>, <a title="AddInterfaces.this.global.Symbol" id="590421">ifaceMethod</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="AddInterfaces.this.global.Tree">Tree</span> =
    <a href="#242706" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implMethodMap</a>.<span title="(key: AddInterfaces.this.global.Symbol)Option[AddInterfaces.this.global.Symbol]">get</span><span class="delimiter">(</span><a href="#590421" title="AddInterfaces.this.global.Symbol">ifaceMethod</a><span class="delimiter">)</span> <span title="AddInterfaces.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="AddInterfaces.this.global.Tree">Some</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="590427">implMethod</a><span class="delimiter">)</span> =&gt;
        <a href="#590420" title="AddInterfaces.this.global.Tree">tree</a>.<span title="(sym: AddInterfaces.this.global.Symbol)Unit">symbol</span> = <a href="#590427" title="AddInterfaces.this.global.Symbol">implMethod</a>
        <span title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" class="keyword">new</span> <a href="#242715" title="AddInterfaces.this.ChangeOwnerAndReturnTraverser">ChangeOwnerAndReturnTraverser</a><span class="delimiter">(</span><a href="#590421" title="AddInterfaces.this.global.Symbol">ifaceMethod</a>, <a href="#590427" title="AddInterfaces.this.global.Symbol">implMethod</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#590420" title="AddInterfaces.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Nothing">None</span> =&gt;
        <a href="../Global.scala.html#186187" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;implMethod missing for &quot;)" class="string">&quot;implMethod missing for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#590421" title="AddInterfaces.this.global.Symbol">ifaceMethod</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" id="242719">implMemberDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="590436">tree</a>: <span title="AddInterfaces.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="AddInterfaces.this.global.Tree">Tree</span> =
    <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#590436" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#242709" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#590436" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#590436" title="AddInterfaces.this.global.Tree">tree</a>
    <span class="keyword">else</span> <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#242710" title="(sym: AddInterfaces.this.global.Symbol)Boolean">needsImplMethod</a><span class="delimiter">(</span><a href="#590436" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#242718" title="(tree: AddInterfaces.this.global.Tree, ifaceMethod: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">implMethodDef</a><span class="delimiter">(</span><a href="#590436" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#590436" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="../SubComponent.scala.html#231956" title="object AddInterfaces.this.global.EmptyTree">EmptyTree</a>

  /** Add mixin constructor definition
   *    def $init$(): Unit = ()
   *  to `stats` unless there is already one.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: AddInterfaces.this.global.Symbol, stats: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]" id="242720">addMixinConstructorDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="590438">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="List[AddInterfaces.this.global.Tree]" id="590439">stats</a>: <span title="List[AddInterfaces.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[AddInterfaces.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
    <span title="List[AddInterfaces.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#186424" title="object AddInterfaces.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120078" title="(stats: List[AddInterfaces.this.global.treeInfo.global.Tree])AddInterfaces.this.global.treeInfo.global.Tree">firstConstructor</a><span class="delimiter">(</span><a href="#590439" title="List[AddInterfaces.this.global.Tree]">stats</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../SubComponent.scala.html#231956" title="object AddInterfaces.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#590439" title="List[AddInterfaces.this.global.Tree]">stats</a>
    <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#39370" title="(sym: AddInterfaces.this.global.Symbol, rhs: AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#590438" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46664" title="=&gt; AddInterfaces.this.global.Symbol">primaryConstructor</a>, <a href="../SubComponent.scala.html#231956" title="(stats: List[AddInterfaces.this.global.Tree], expr: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Block">Block</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="../SubComponent.scala.html#231956" title="(value: AddInterfaces.this.global.Constant)AddInterfaces.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)AddInterfaces.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#590447" title="(x: AddInterfaces.this.global.Tree)List[AddInterfaces.this.global.Tree]">::</a> <a href="#590439" title="List[AddInterfaces.this.global.Tree]">stats</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: AddInterfaces.this.global.Symbol, templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template" id="242721">implTemplate</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="590499">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="AddInterfaces.this.global.Template" id="590500">templ</a>: <span title="AddInterfaces.this.global.Template">Template</span><span class="delimiter">)</span>: <span title="AddInterfaces.this.global.Template">Template</span> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: AddInterfaces.this.global.Position)(tree: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template">atPos</a><span class="delimiter">(</span><a href="#590500" title="AddInterfaces.this.global.Template">templ</a>.<span title="=&gt; AddInterfaces.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="AddInterfaces.this.global.Template" id="590509">templ1</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: AddInterfaces.this.global.Position)(tree: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template">atPos</a><span class="delimiter">(</span><a href="#590500" title="AddInterfaces.this.global.Template">templ</a>.<span title="=&gt; AddInterfaces.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../SubComponent.scala.html#231956" title="(parents: List[AddInterfaces.this.global.Tree], self: AddInterfaces.this.global.ValDef, body: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template">Template</a><span class="delimiter">(</span><a href="#590500" title="AddInterfaces.this.global.Template">templ</a>.<span title="=&gt; List[AddInterfaces.this.global.Tree]">parents</span>, <a href="../../../reflect/internal/Trees.scala.html#39365" title="object AddInterfaces.this.global.emptyValDef">emptyValDef</a>,
               <a href="#242720" title="(clazz: AddInterfaces.this.global.Symbol, stats: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">addMixinConstructorDef</a><span class="delimiter">(</span><a href="#590499" title="AddInterfaces.this.global.Symbol">clazz</a>, <a href="#590500" title="AddInterfaces.this.global.Template">templ</a>.<span title="=&gt; List[AddInterfaces.this.global.Tree]">body</span> <span title="(f: AddInterfaces.this.global.Tree =&gt; AddInterfaces.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">map</span> <a href="#242719" title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">implMemberDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Template">setSymbol</span><span class="delimiter">(</span><a href="#590499" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46386" title="(pos: AddInterfaces.this.global.Position)AddInterfaces.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#590500" title="AddInterfaces.this.global.Template">templ</a>.<span title="=&gt; AddInterfaces.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.TreeOps">templ1</a>.<a href="../../../reflect/internal/Trees.scala.html#58444" title="(pairs: (AddInterfaces.this.global.Symbol, AddInterfaces.this.global.Symbol)*)AddInterfaces.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="#590500" title="AddInterfaces.this.global.Template">templ</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="(x: AddInterfaces.this.global.Symbol)ArrowAssoc[AddInterfaces.this.global.Symbol]">owner</a> <span title="(y: AddInterfaces.this.global.Symbol)(AddInterfaces.this.global.Symbol, AddInterfaces.this.global.Symbol)">-&gt;</span> <a href="#590499" title="AddInterfaces.this.global.Symbol">clazz</a>, <a href="#590500" title="AddInterfaces.this.global.Template">templ</a>.<span title="(x: AddInterfaces.this.global.Symbol)ArrowAssoc[AddInterfaces.this.global.Symbol]">symbol</span> <span title="(y: AddInterfaces.this.global.Symbol)(AddInterfaces.this.global.Symbol, AddInterfaces.this.global.Symbol)">-&gt;</span> <a href="#590509" title="AddInterfaces.this.global.Template">templ1</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span><span class="delimiter">)</span>
    <a href="#590509" title="AddInterfaces.this.global.Template">templ1</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(trees: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]" id="242722">implClassDefs</a><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Tree]" id="589574">trees</a>: <span title="List[AddInterfaces.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[AddInterfaces.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#589574" title="List[AddInterfaces.this.global.Tree]">trees</a> <span title="(pf: PartialFunction[AddInterfaces.this.global.Tree,AddInterfaces.this.global.ClassDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.ClassDef,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">collect</span> <a href="#590630" title="AddInterfaces.this.global.ClassDef" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="AddInterfaces.this.global.ClassDef" id="590631">cd</a>: <span title="AddInterfaces.this.global.ClassDef">ClassDef</span> <span class="keyword">if</span> <a href="#590631" title="AddInterfaces.this.global.ClassDef">cd</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46542" title="=&gt; Boolean">needsImplClass</a> =&gt;
        <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="590632">clazz</a> = <a href="#242712" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#590631" title="AddInterfaces.this.global.ClassDef">cd</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; AddInterfaces.this.global.Symbol">initialize</a>
        <a href="../../../reflect/internal/Trees.scala.html#39361" title="(sym: AddInterfaces.this.global.Symbol, impl: AddInterfaces.this.global.Template)AddInterfaces.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#590632" title="AddInterfaces.this.global.Symbol">clazz</a>, <a href="#242721" title="(clazz: AddInterfaces.this.global.Symbol, templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template">implTemplate</a><span class="delimiter">(</span><a href="#590632" title="AddInterfaces.this.global.Symbol">clazz</a>, <a href="#590631" title="AddInterfaces.this.global.ClassDef">cd</a>.<span title="=&gt; AddInterfaces.this.global.Template">impl</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** Add calls to supermixin constructors
   *    `super[mix].$init$()`
   *  to tree, which is assumed to be the body of a constructor of class clazz.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree, clazz: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree" id="242723">addMixinConstructorCalls</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="589667">tree</a>: <span title="AddInterfaces.this.global.Tree">Tree</span>, <a title="AddInterfaces.this.global.Symbol" id="589668">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="AddInterfaces.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(impl: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree" id="590674">mixinConstructorCall</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="590676">impl</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="AddInterfaces.this.global.Tree">Tree</span> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: AddInterfaces.this.global.Position)(tree: AddInterfaces.this.global.Apply)AddInterfaces.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#589667" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; AddInterfaces.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../SubComponent.scala.html#231956" title="(fun: AddInterfaces.this.global.Tree, args: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#231956" title="(qualifier: AddInterfaces.this.global.Tree, sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Select">Select</a><span class="delimiter">(</span><a href="../SubComponent.scala.html#231956" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">This</a><span class="delimiter">(</span><a href="#589668" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#590676" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46664" title="=&gt; AddInterfaces.this.global.Symbol">primaryConstructor</a><span class="delimiter">)</span>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.Tree]" id="590675">mixinConstructorCalls</a>: <span title="List[AddInterfaces.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="590768">mc</a> &lt;- <a href="#589668" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46682" title="=&gt; List[AddInterfaces.this.global.Symbol]">mixinClasses</a>.<span title="(f: AddInterfaces.this.global.Symbol =&gt; AddInterfaces.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Symbol],AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">reverse</span>
           <span class="keyword">if</span> <a href="#590768" title="AddInterfaces.this.global.Symbol">mc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#38538" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#590768" title="AddInterfaces.this.global.Symbol">mc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#45016" title="=&gt; AddInterfaces.this.global.Symbol">ScalaObjectClass</a><span class="delimiter">)</span>
      <span class="keyword">yield</span> <a href="#590674" title="(impl: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">mixinConstructorCall</a><span class="delimiter">(</span><a href="#242712" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#590768" title="AddInterfaces.this.global.Symbol">mc</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="delimiter">(</span><a href="#589667" title="AddInterfaces.this.global.Tree">tree</a>: @<span title="AddInterfaces.this.global.Tree @unchecked">unchecked</span><span class="delimiter">)</span> <span title="AddInterfaces.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="AddInterfaces.this.global.Block">Block</span><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Tree]" id="590800">stats</a>, <a title="AddInterfaces.this.global.Tree" id="590801">expr</a><span class="delimiter">)</span> =&gt;
        // needs `hasSymbol` check because `supercall` could be a block (named / default args)
        <span class="keyword">val</span> <a href="#590803" title="(List[AddInterfaces.this.global.Tree], AddInterfaces.this.global.Tree, List[AddInterfaces.this.global.Tree])" class="delimiter">(</a><a href="#590802" title="List[AddInterfaces.this.global.Tree]" id="590803">presuper</a>, <a href="#590802" title="AddInterfaces.this.global.Tree" id="590804">supercall</a> :: <a href="#590802" title="List[AddInterfaces.this.global.Tree]" id="590805">rest</a><span class="delimiter">)</span> = <a href="#590800" title="List[AddInterfaces.this.global.Tree]">stats</a> <span title="(p: AddInterfaces.this.global.Tree =&gt; Boolean)(List[AddInterfaces.this.global.Tree], List[AddInterfaces.this.global.Tree])">span</span> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="590811">t</a> =&gt; <a href="#590811" title="AddInterfaces.this.global.Tree">t</a>.<span title="(f: AddInterfaces.this.global.Symbol =&gt; Boolean)Boolean">hasSymbolWhich</span><span class="delimiter">(</span><a href="#590814" title="AddInterfaces.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(137438953472L)">PRESUPER</span><span class="delimiter">)</span><span class="delimiter">)</span>
        // assert(supercall.symbol.isClassConstructor, supercall)
        <a href="../SubComponent.scala.html#231956" title="=&gt; AddInterfaces.this.global.TreeCopier">treeCopy</a>.<span title="(tree: AddInterfaces.this.global.Tree, stats: List[AddInterfaces.this.global.Tree], expr: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Block">Block</span><span class="delimiter">(</span><a href="#589667" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#590803" title="List[AddInterfaces.this.global.Tree]">presuper</a> <a href="#590841" title="(prefix: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">:::</a> <span class="delimiter">(</span><a href="#590804" title="AddInterfaces.this.global.Tree">supercall</a> <a href="#590842" title="(x: AddInterfaces.this.global.Tree)List[AddInterfaces.this.global.Tree]">::</a> <a href="#590675" title="List[AddInterfaces.this.global.Tree]">mixinConstructorCalls</a> <a href="#590843" title="(prefix: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">:::</a> <a href="#590805" title="List[AddInterfaces.this.global.Tree]">rest</a><span class="delimiter">)</span>, <a href="#590801" title="AddInterfaces.this.global.Tree">expr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="AddInterfaces.this.global.Transformer" id="242724">mixinTransformer</a> = <a href="#589560" title="AddInterfaces.this.global.Transformer" class="keyword">new</a> <a href="../ast/Trees.scala.html#186434" title="anonymous class $anon extends AddInterfaces.this.global.Transformer" id="589560">Transformer</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[AddInterfaces.this.global.Tree], exprOwner: AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]" id="589562">transformStats</a><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Tree]" id="589564">stats</a>: <span title="List[AddInterfaces.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="AddInterfaces.this.global.Symbol" id="589565">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[AddInterfaces.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
      <span class="delimiter">(</span><a href="#589560" title="AddInterfaces.this.global.Transformer" class="keyword">super</a>.<span title="(stats: List[AddInterfaces.this.global.Tree], exprOwner: AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]">transformStats</span><span class="delimiter">(</span><a href="#589564" title="List[AddInterfaces.this.global.Tree]">stats</a>, <a href="#589565" title="AddInterfaces.this.global.Symbol">exprOwner</a><span class="delimiter">)</span> <a href="#589571" title="(prefix: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">:::</a>
       <a href="#589560" title="AddInterfaces.this.global.Transformer" class="keyword">super</a>.<span title="(stats: List[AddInterfaces.this.global.Tree], exprOwner: AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]">transformStats</span><span class="delimiter">(</span><a href="#242722" title="(trees: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">implClassDefs</a><span class="delimiter">(</span><a href="#589564" title="List[AddInterfaces.this.global.Tree]">stats</a><span class="delimiter">)</span>, <a href="#589565" title="AddInterfaces.this.global.Symbol">exprOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" id="589563">transform</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="589568">tree</a>: <span title="AddInterfaces.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="AddInterfaces.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="589596">sym</a> = <a href="#589568" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; AddInterfaces.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Tree" id="589597">tree1</a> = <a href="#589568" title="AddInterfaces.this.global.Tree">tree</a> <span title="AddInterfaces.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.ClassDef">ClassDef</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Modifiers" id="589612">mods</a>, <a title="AddInterfaces.this.global.TypeName" id="589613">name</a>, <a title="List[AddInterfaces.this.global.TypeDef]" id="589614">tparams</a>, <a title="AddInterfaces.this.global.Template" id="589615">impl</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#589596" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46542" title="=&gt; Boolean">needsImplClass</a><span class="delimiter">)</span> =&gt;
          <a href="#242712" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#589596" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; AddInterfaces.this.global.Symbol">initialize</a> // to force lateDEFERRED flags
          <a href="#589560" title="=&gt; AddInterfaces.this.global.TreeCopier">treeCopy</a>.<span title="(tree: AddInterfaces.this.global.Tree, mods: AddInterfaces.this.global.Modifiers, name: AddInterfaces.this.global.Name, tparams: List[AddInterfaces.this.global.TypeDef], impl: AddInterfaces.this.global.Template)AddInterfaces.this.global.ClassDef">ClassDef</span><span class="delimiter">(</span><a href="#589568" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#589612" title="AddInterfaces.this.global.Modifiers">mods</a> <a href="../../../reflect/internal/Trees.scala.html#85210" title="(flag: Long)AddInterfaces.this.global.Modifiers">|</a> <span title="Long(128L)">INTERFACE</span>, <a href="#589613" title="AddInterfaces.this.global.TypeName">name</a>, <a href="#589614" title="List[AddInterfaces.this.global.TypeDef]">tparams</a>, <a href="#242717" title="(templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template">ifaceTemplate</a><span class="delimiter">(</span><a href="#589615" title="AddInterfaces.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Modifiers" id="589649">mods</a>, <a title="AddInterfaces.this.global.Name" id="589650">name</a>, <a title="List[AddInterfaces.this.global.TypeDef]" id="589651">tparams</a>, <a title="List[List[AddInterfaces.this.global.ValDef]]" id="589652">vparamss</a>, <a title="AddInterfaces.this.global.Tree" id="589653">tpt</a>, <a title="AddInterfaces.this.global.Tree" id="589654">rhs</a><span class="delimiter">)</span>
        <span class="keyword">if</span> <span class="delimiter">(</span><a href="#589596" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46490" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#589596" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46539" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#589596" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#45152" title="=&gt; AddInterfaces.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> =&gt;
          <a href="#589560" title="=&gt; AddInterfaces.this.global.TreeCopier">treeCopy</a>.<span title="(tree: AddInterfaces.this.global.Tree, mods: AddInterfaces.this.global.Modifiers, name: AddInterfaces.this.global.Name, tparams: List[AddInterfaces.this.global.TypeDef], vparamss: List[List[AddInterfaces.this.global.ValDef]], tpt: AddInterfaces.this.global.Tree, rhs: AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#589568" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#589649" title="AddInterfaces.this.global.Modifiers">mods</a>, <a href="#589650" title="AddInterfaces.this.global.Name">name</a>, <a href="#589651" title="List[AddInterfaces.this.global.TypeDef]">tparams</a>, <a href="#589652" title="List[List[AddInterfaces.this.global.ValDef]]">vparamss</a>, <a href="#589653" title="AddInterfaces.this.global.Tree">tpt</a>,
                      <a href="#242723" title="(tree: AddInterfaces.this.global.Tree, clazz: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">addMixinConstructorCalls</a><span class="delimiter">(</span><a href="#589654" title="AddInterfaces.this.global.Tree">rhs</a>, <a href="#589596" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; AddInterfaces.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> // (3)
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.Template">Template</span><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Tree]" id="589682">parents</a>, <a title="AddInterfaces.this.global.ValDef" id="589683">self</a>, <a title="List[AddInterfaces.this.global.Tree]" id="589684">body</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.TypeTree]" id="589685">parents1</a> = <a href="#589596" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[AddInterfaces.this.global.Type]">parents</a> <span title="(f: AddInterfaces.this.global.Type =&gt; AddInterfaces.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Type],AddInterfaces.this.global.TypeTree,List[AddInterfaces.this.global.TypeTree]])List[AddInterfaces.this.global.TypeTree]">map</span> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="589710">t</a> =&gt; <a href="../SubComponent.scala.html#231956" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#589710" title="AddInterfaces.this.global.Type">t</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)AddInterfaces.this.global.TypeTree">setPos</span> <a href="#589568" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; AddInterfaces.this.global.Position">pos</span><span class="delimiter">)</span>
          <a href="#589560" title="=&gt; AddInterfaces.this.global.TreeCopier">treeCopy</a>.<span title="(tree: AddInterfaces.this.global.Tree, parents: List[AddInterfaces.this.global.Tree], self: AddInterfaces.this.global.ValDef, body: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template">Template</span><span class="delimiter">(</span><a href="#589568" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#589685" title="List[AddInterfaces.this.global.TypeTree]">parents1</a>, <a href="../../../reflect/internal/Trees.scala.html#39365" title="object AddInterfaces.this.global.emptyValDef">emptyValDef</a>, <a href="#589684" title="List[AddInterfaces.this.global.Tree]">body</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589596" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46542" title="=&gt; Boolean">needsImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="589758">impl</a> = <a href="#242712" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#589596" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="AddInterfaces.this.global.Symbol" id="589759">owner</a> = <a href="#589560" title="=&gt; AddInterfaces.this.global.Symbol">currentOwner</a>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#589759" title="AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#589596" title="AddInterfaces.this.global.Symbol">sym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#589759" title="AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#589758" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> <a href="#589759" title="AddInterfaces.this.global.Symbol">owner</a> = <a href="#589759" title="AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>;
            <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#589759" title="AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#589758" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> <a href="../SubComponent.scala.html#231956" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">This</a><span class="delimiter">(</span><a href="#589758" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)AddInterfaces.this.global.Tree">setPos</span> <a href="#589568" title="AddInterfaces.this.global.Tree">tree</a>.<span title="=&gt; AddInterfaces.this.global.Position">pos</span>
            <span class="keyword">else</span> <a href="#589568" title="AddInterfaces.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#589568" title="AddInterfaces.this.global.Tree">tree</a>
/* !!!
        case Super(qual, mix) =&gt;
          val mix1 = mix
            if (mix == tpnme.EMPTY) mix
            else {
              val ps = atPhase(currentRun.erasurePhase) {
                sym.info.parents dropWhile (p =&gt; p.symbol.name != mix)
              }
              assert(!ps.isEmpty, tree);
              if (ps.head.symbol.needsImplClass) implClass(ps.head.symbol).name
              else mix
            }
          if (sym.needsImplClass) Super(implClass(sym), mix1) setPos tree.pos
          else treeCopy.Super(tree, qual, mix1)
*/
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.Tree">_</span> =&gt;
          <a href="#589568" title="AddInterfaces.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
      <a href="#589560" title="AddInterfaces.this.global.Transformer" class="keyword">super</a>.<span title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">transform</span><span class="delimiter">(</span><a href="#589597" title="AddInterfaces.this.global.Tree">tree1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
/*
    val ensureNoEscapes = new TypeTraverser {
      def ensureNoEscape(sym: Symbol) {
        if (sym.hasFlag(PRIVATE)) {
          var o = currentOwner;
          while (o != NoSymbol &amp;&amp; o != sym.owner &amp;&amp; !o.isLocal &amp;&amp; !o.hasFlag(PRIVATE))
          o = o.owner
          if (o == sym.owner) sym.makeNotPrivate(base);
        }
      }
      def traverse(t: Type): TypeTraverser = {
        t match {
          case TypeRef(qual, sym, args) =&gt;
            ensureNoEscape(sym)
            mapOver(t)
          case ClassInfoType(parents, decls, clazz) =&gt;
            parents foreach { p =&gt; traverse; () }
            traverse(t.typeOfThis)
          case _ =&gt;
            mapOver(t)
        }
        this
      }
    }

*/

        </pre>
    </body>
</html>