<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/ast/TreeGen.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> ast

<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> symtab.SymbolTable

/** XXX to resolve: TreeGen only assumes global is a SymbolTable, but
 *  TreeDSL at the moment expects a Global.  Can we get by with SymbolTable?
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TreeGen extends scala.reflect.internal.TreeGen with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="14042">TreeGen</a> <a href="#14042" title="ScalaObject" class="keyword">extends</a> reflect.internal.<a href="../../../reflect/internal/TreeGen.scala.html#8635" title="scala.reflect.internal.TreeGen">TreeGen</a> <span class="keyword">with</span> <a href="TreeDSL.scala.html#14381" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="239075">global</a>: <a href="../Global.scala.html#12873" title="scala.tools.nsc.Global">Global</a>

  <span class="keyword">import</span> <a href="#239075" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object TreeGen.this.global.definitions">definitions</a>._

  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="239078">mkCheckInit</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286530">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Type" id="286532">tpe</a> =
      <span title="TreeGen.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#286530" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#286530" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#286530" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>
      <span class="keyword">else</span> <a href="#286530" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; TreeGen.this.global.Type">tpe</a>

    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#239075" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#186943" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnSelectNullable</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <a href="#286532" title="TreeGen.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: TreeGen.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#45074" title="=&gt; TreeGen.this.global.Symbol">NotNullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; TreeGen.this.global.Type">tpe</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#286532" title="TreeGen.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41493" title="=&gt; Boolean">isNotNull</a><span class="delimiter">)</span>
      <a href="#239094" title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59106" title="=&gt; TreeGen.this.global.nme.NameType">checkInitialized</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#286530" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="#286530" title="TreeGen.this.global.Tree">tree</a>
  <span class="delimiter">}</span>
  
  /** Builds a fully attributed wildcard import node.
   */
  <span class="keyword">def</span> <a title="(pkg: TreeGen.this.global.Symbol)TreeGen.this.global.Import" id="239079">mkWildcardImport</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="286561">pkg</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="TreeGen.this.global.Import">Import</span> = <span class="delimiter">{</span>
    <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#286561" title="TreeGen.this.global.Symbol">pkg</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>, <a href="#14042" title="scala.tools.nsc.ast.TreeGen" class="keyword">this</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.gen.global.Tree" id="286563">qual</a> = <a href="../Global.scala.html#186149" title="object TreeGen.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92351" title="(sym: TreeGen.this.global.gen.global.Symbol)TreeGen.this.global.gen.global.Tree">mkAttributedStableRef</a><span class="delimiter">(</span><a href="#286561" title="TreeGen.this.global.Symbol">pkg</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="286564">importSym</a> = <span class="delimiter">(</span>
      <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; TreeGen.this.global.NoSymbol">NoSymbol</a>
        <a href="../../../reflect/internal/Symbols.scala.html#46397" title="(pos: TreeGen.this.global.Position)TreeGen.this.global.TermSymbol">newImport</a> <a href="../symtab/Positions.scala.html#186524" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>
          <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)TreeGen.this.global.TermSymbol">setFlag</a> <span title="Long(2097152L)">SYNTHETIC</span>
          <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a> <a href="../Global.scala.html#186231" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: TreeGen.this.global.type}">analyzer</a>.<a href="../typechecker/Contexts.scala.html#284720" title="(expr: TreeGen.this.global.analyzer.global.Tree)TreeGen.this.global.analyzer.ImportType">ImportType</a><span class="delimiter">(</span><a href="#286563" title="TreeGen.this.global.gen.global.Tree">qual</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Import" id="286565">importTree</a> = <span class="delimiter">(</span>
      <a href="#239075" title="(expr: TreeGen.this.global.Tree, selectors: List[TreeGen.this.global.ImportSelector])TreeGen.this.global.Import">Import</a><span class="delimiter">(</span><a href="#286563" title="TreeGen.this.global.gen.global.Tree">qual</a>, <span title="(xs: TreeGen.this.global.ImportSelector*)List[TreeGen.this.global.ImportSelector]">List</span><span class="delimiter">(</span><a href="#239075" title="(name: TreeGen.this.global.Name, namePos: Int, rename: TreeGen.this.global.Name, renamePos: Int)TreeGen.this.global.ImportSelector">ImportSelector</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; TreeGen.this.global.nme.NameType">WILDCARD</a>, -<span title="Int(-1)" class="int">1</span>, <span title="Null(null)" class="keyword">null</span>, -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Import">setSymbol</span> <a href="#286564" title="TreeGen.this.global.TermSymbol">importSym</a>
          <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Import">setType</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object TreeGen.this.global.NoType">NoType</a>
    <span class="delimiter">)</span>
    <a href="#286565" title="TreeGen.this.global.Import">importTree</a>
  <span class="delimiter">}</span>

  // wrap the given expression in a SoftReference so it can be gc-ed
  <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="239080">mkSoftRef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286621">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#286621" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../reflect/internal/Trees.scala.html#39377" title="(sym: TreeGen.this.global.Symbol, args: TreeGen.this.global.Tree*)TreeGen.this.global.Tree">New</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45162" title="=&gt; TreeGen.this.global.Symbol">SoftReferenceClass</a>, <a href="#286621" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  // annotate the expression with @unchecked
  <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="239081">mkUnchecked</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286645">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Annotated)TreeGen.this.global.Annotated">atPos</a><span class="delimiter">(</span><a href="#286645" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    // This can't be &quot;Annotated(New(UncheckedClass), expr)&quot; because annotations
    // are very picky about things and it crashes the compiler with &quot;unexpected new&quot;.
    <a href="#239075" title="(annot: TreeGen.this.global.Tree, arg: TreeGen.this.global.Tree)TreeGen.this.global.Annotated">Annotated</a><span class="delimiter">(</span><a href="#239075" title="(tpt: TreeGen.this.global.Tree, argss: List[List[TreeGen.this.global.Tree]])TreeGen.this.global.Tree">New</a><span class="delimiter">(</span><a href="../../../reflect/internal/TreeGen.scala.html#92327" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Select">scalaDot</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45421" title="=&gt; TreeGen.this.global.Symbol">UncheckedClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; TreeGen.this.global.Name">name</a><span class="delimiter">)</span>, <span title="(xs: scala.collection.immutable.Nil.type*)List[scala.collection.immutable.Nil.type]">List</span><span class="delimiter">(</span><span title="object Nil">Nil</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#286645" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  // if it's a Match, mark the selector unchecked; otherwise nothing.
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="239082">mkUncheckedMatch</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286671">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#286671" title="TreeGen.this.global.Tree">tree</a> <span title="TreeGen.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Match">Match</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286676">selector</a>, <a title="List[TreeGen.this.global.CaseDef]" id="286677">cases</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Match)TreeGen.this.global.Match">atPos</a><span class="delimiter">(</span><a href="#286671" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#239075" title="(selector: TreeGen.this.global.Tree, cases: List[TreeGen.this.global.CaseDef])TreeGen.this.global.Match">Match</a><span class="delimiter">(</span><a href="#239081" title="(expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree">mkUnchecked</a><span class="delimiter">(</span><a href="#286676" title="TreeGen.this.global.Tree">selector</a><span class="delimiter">)</span>, <a href="#286677" title="List[TreeGen.this.global.CaseDef]">cases</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">_</span>                      =&gt; <a href="#286671" title="TreeGen.this.global.Tree">tree</a>
  <span class="delimiter">}</span>

  // must be kept in synch with the codegen in PatMatVirtualiser
  <span class="keyword">object</span> <a title="object TreeGen.this.VirtualCaseDef" id="239083">VirtualCaseDef</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(b: TreeGen.this.global.Block)Option[(TreeGen.this.global.Assign, TreeGen.this.global.Tree, TreeGen.this.global.Tree)]" id="286689">unapply</a><span class="delimiter">(</span><a title="TreeGen.this.global.Block" id="286691">b</a>: <span title="TreeGen.this.global.Block">Block</span><span class="delimiter">)</span>: <span title="Option[(TreeGen.this.global.Assign, TreeGen.this.global.Tree, TreeGen.this.global.Tree)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Assign, Tree, Tree<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#286691" title="TreeGen.this.global.Block">b</a> <span title="Option[(TreeGen.this.global.Assign, TreeGen.this.global.Tree, TreeGen.this.global.Tree)]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Some[(TreeGen.this.global.Assign, TreeGen.this.global.Tree, TreeGen.this.global.Tree)]">Block</span><span class="delimiter">(</span><a href="#286699" title="(x: List[TreeGen.this.global.Tree])Some[List[TreeGen.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="TreeGen.this.global.Assign" id="286721">assign</a>@Assign<span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286724">keepGoingLhs</a>, <a title="TreeGen.this.global.Tree" id="286725">falseLit</a><span class="delimiter">)</span>, <a title="TreeGen.this.global.Tree" id="286726">matchRes</a><span class="delimiter">)</span>, <a title="TreeGen.this.global.Tree" id="286727">zero</a><span class="delimiter">)</span> =&gt; <span title="(x: (TreeGen.this.global.Assign, TreeGen.this.global.Tree, TreeGen.this.global.Tree))Some[(TreeGen.this.global.Assign, TreeGen.this.global.Tree, TreeGen.this.global.Tree)]">Some</span><span class="delimiter">(</span><span title="(_1: TreeGen.this.global.Assign, _2: TreeGen.this.global.Tree, _3: TreeGen.this.global.Tree)(TreeGen.this.global.Assign, TreeGen.this.global.Tree, TreeGen.this.global.Tree)" class="delimiter">(</span><a href="#286721" title="TreeGen.this.global.Assign">assign</a>, <a href="#286726" title="TreeGen.this.global.Tree">matchRes</a>, <a href="#286727" title="TreeGen.this.global.Tree">zero</a><span class="delimiter">)</span><span class="delimiter">)</span> // TODO: check tree annotation
      <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  // TODO: would be so much nicer if we would know during match-translation (i.e., type checking)
  // whether we should emit missingCase-style apply (and isDefinedAt), instead of transforming trees post-factum
  <span class="keyword">class</span> <a title="class MatchMatcher extends Object with ScalaObject" id="239085">MatchMatcher</a> <a href="#239085" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="(orig: TreeGen.this.global.Tree, selector: TreeGen.this.global.Tree, cases: List[TreeGen.this.global.CaseDef], wrap: TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="286741">caseMatch</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286749">orig</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="286750">selector</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.CaseDef]" id="286751">cases</a>: <span title="List[TreeGen.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree" id="286752">wrap</a>: Tree =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="#286745" title="(t: TreeGen.this.global.Tree)TreeGen.this.global.Tree">unknownTree</a><span class="delimiter">(</span><a href="#286749" title="TreeGen.this.global.Tree">orig</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(orig: TreeGen.this.global.Tree, _match: TreeGen.this.global.Tree, targs: List[TreeGen.this.global.Tree], scrut: TreeGen.this.global.Tree, matcher: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="286742">caseVirtualizedMatch</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286756">orig</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="286757">_match</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.Tree]" id="286758">targs</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="TreeGen.this.global.Tree" id="286759">scrut</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="286760">matcher</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="#286745" title="(t: TreeGen.this.global.Tree)TreeGen.this.global.Tree">unknownTree</a><span class="delimiter">(</span><a href="#286756" title="TreeGen.this.global.Tree">orig</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(orig: TreeGen.this.global.Tree, zero: TreeGen.this.global.ValDef, x: TreeGen.this.global.ValDef, matchRes: TreeGen.this.global.ValDef, keepGoing: TreeGen.this.global.ValDef, stats: List[TreeGen.this.global.Tree], epilogue: TreeGen.this.global.Tree, wrap: TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="286743">caseVirtualizedMatchOpt</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286762">orig</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.ValDef" id="286763">zero</a>: <span title="TreeGen.this.global.ValDef">ValDef</span>, <a title="TreeGen.this.global.ValDef" id="286764">x</a>: <span title="TreeGen.this.global.ValDef">ValDef</span>, <a title="TreeGen.this.global.ValDef" id="286765">matchRes</a>: <span title="TreeGen.this.global.ValDef">ValDef</span>, <a title="TreeGen.this.global.ValDef" id="286766">keepGoing</a>: <span title="TreeGen.this.global.ValDef">ValDef</span>, <a title="List[TreeGen.this.global.Tree]" id="286767">stats</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="TreeGen.this.global.Tree" id="286768">epilogue</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree" id="286769">wrap</a>: Tree =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <a href="#286745" title="(t: TreeGen.this.global.Tree)TreeGen.this.global.Tree">unknownTree</a><span class="delimiter">(</span><a href="#286762" title="TreeGen.this.global.Tree">orig</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(matchExpr: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="286744">apply</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286771">matchExpr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">(</span><a href="#286771" title="TreeGen.this.global.Tree">matchExpr</a>: @<span title="TreeGen.this.global.Tree @unchecked">unchecked</span><span class="delimiter">)</span> <span title="TreeGen.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      // old-style match or virtpatmat switch
      <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">Match</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286775">selector</a>, <a title="List[TreeGen.this.global.CaseDef]" id="286776">cases</a><span class="delimiter">)</span> =&gt; // println(&quot;simple match: &quot;+ (selector, cases) + &quot;for:\n&quot;+ matchExpr )
        <a href="#286741" title="(orig: TreeGen.this.global.Tree, selector: TreeGen.this.global.Tree, cases: List[TreeGen.this.global.CaseDef], wrap: TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">caseMatch</a><span class="delimiter">(</span><a href="#286771" title="TreeGen.this.global.Tree">matchExpr</a>, <a href="#286775" title="TreeGen.this.global.Tree">selector</a>, <a href="#286776" title="List[TreeGen.this.global.CaseDef]">cases</a>, <a href="#286782" title="(x: TreeGen.this.global.Tree)TreeGen.this.global.Tree">identity</a><span class="delimiter">)</span>
      // old-style match or virtpatmat switch
      <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">Block</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="286794">vd</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> :: <span title="object Nil">Nil</span>, <a title="TreeGen.this.global.Match" id="286795">orig</a>@Match<span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286798">selector</a>, <a title="List[TreeGen.this.global.CaseDef]" id="286799">cases</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; // println(&quot;block match: &quot;+ (selector, cases, vd) + &quot;for:\n&quot;+ matchExpr )
        <a href="#286741" title="(orig: TreeGen.this.global.Tree, selector: TreeGen.this.global.Tree, cases: List[TreeGen.this.global.CaseDef], wrap: TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">caseMatch</a><span class="delimiter">(</span><a href="#286771" title="TreeGen.this.global.Tree">matchExpr</a>, <a href="#286798" title="TreeGen.this.global.Tree">selector</a>, <a href="#286799" title="List[TreeGen.this.global.CaseDef]">cases</a>, <a title="TreeGen.this.global.Tree" id="286801">m</a> =&gt; <a href="#286746" title="(orig: TreeGen.this.global.Tree, stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">copyBlock</a><span class="delimiter">(</span><a href="#286771" title="TreeGen.this.global.Tree">matchExpr</a>, <span title="(xs: TreeGen.this.global.ValDef*)List[TreeGen.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#286794" title="TreeGen.this.global.ValDef">vd</a><span class="delimiter">)</span>, <a href="#286801" title="TreeGen.this.global.Tree">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
      // virtpatmat
      <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">Apply</span><span class="delimiter">(</span>Apply<span class="delimiter">(</span>TypeApply<span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286829">tgt</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59234" title="=&gt; TreeGen.this.global.nme.NameType">runOrElse</a><span class="delimiter">)</span>, <a title="List[TreeGen.this.global.Tree]" id="286830">targs</a><span class="delimiter">)</span>, <a href="#286832" title="(x: List[TreeGen.this.global.Tree])Some[List[TreeGen.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286843">scrut</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#286845" title="(x: List[TreeGen.this.global.Tree])Some[List[TreeGen.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286856">matcher</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../Global.scala.html#186204" title="object TreeGen.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#233001" title="=&gt; Boolean">virtPatmat</a> =&gt; // println(&quot;virt match: &quot;+ (tgt, targs, scrut, matcher) + &quot;for:\n&quot;+ matchExpr )
        <a href="#286742" title="(orig: TreeGen.this.global.Tree, _match: TreeGen.this.global.Tree, targs: List[TreeGen.this.global.Tree], scrut: TreeGen.this.global.Tree, matcher: TreeGen.this.global.Tree)TreeGen.this.global.Tree">caseVirtualizedMatch</a><span class="delimiter">(</span><a href="#286771" title="TreeGen.this.global.Tree">matchExpr</a>, <a href="#286829" title="TreeGen.this.global.Tree">tgt</a>, <a href="#286830" title="List[TreeGen.this.global.Tree]">targs</a>, <a href="#286843" title="TreeGen.this.global.Tree">scrut</a>, <a href="#286856" title="TreeGen.this.global.Tree">matcher</a><span class="delimiter">)</span>
      // optimized version of virtpatmat
      <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">Block</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="286869">zero</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> :: <span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="286877">x</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> :: <span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="286882">matchRes</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> :: <span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="286887">keepGoing</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> :: <a title="List[TreeGen.this.global.Tree]" id="286888">stats</a>, <a title="TreeGen.this.global.Tree" id="286889">epilogue</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../Global.scala.html#186204" title="object TreeGen.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#233001" title="=&gt; Boolean">virtPatmat</a> =&gt; // TODO: check tree annotation // println(&quot;virtopt match: &quot;+ (zero, x, matchRes, keepGoing, stats) + &quot;for:\n&quot;+ matchExpr )
        <a href="#286743" title="(orig: TreeGen.this.global.Tree, zero: TreeGen.this.global.ValDef, x: TreeGen.this.global.ValDef, matchRes: TreeGen.this.global.ValDef, keepGoing: TreeGen.this.global.ValDef, stats: List[TreeGen.this.global.Tree], epilogue: TreeGen.this.global.Tree, wrap: TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">caseVirtualizedMatchOpt</a><span class="delimiter">(</span><a href="#286771" title="TreeGen.this.global.Tree">matchExpr</a>, <a href="#286869" title="TreeGen.this.global.ValDef">zero</a>, <a href="#286877" title="TreeGen.this.global.ValDef">x</a>, <a href="#286882" title="TreeGen.this.global.ValDef">matchRes</a>, <a href="#286887" title="TreeGen.this.global.ValDef">keepGoing</a>, <a href="#286888" title="List[TreeGen.this.global.Tree]">stats</a>, <a href="#286889" title="TreeGen.this.global.Tree">epilogue</a>, <a href="#286895" title="(x: TreeGen.this.global.Tree)TreeGen.this.global.Tree">identity</a><span class="delimiter">)</span>
      // optimized version of virtpatmat
      <span class="keyword">case</span> <span title="TreeGen.this.global.Tree">Block</span><span class="delimiter">(</span><a title="List[TreeGen.this.global.Tree]" id="286901">outerStats</a>, <a title="TreeGen.this.global.Block" id="286902">orig</a>@Block<span class="delimiter">(</span><span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="286911">zero</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> :: <span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="286916">x</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> :: <span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="286921">matchRes</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> :: <span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="286926">keepGoing</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> :: <a title="List[TreeGen.this.global.Tree]" id="286927">stats</a>, <a title="TreeGen.this.global.Tree" id="286928">epilogue</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../Global.scala.html#186204" title="object TreeGen.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#233001" title="=&gt; Boolean">virtPatmat</a> =&gt; // TODO: check tree annotation // println(&quot;virt opt block match: &quot;+ (zero, x, matchRes, keepGoing, stats, outerStats) + &quot;for:\n&quot;+ matchExpr )
        <a href="#286743" title="(orig: TreeGen.this.global.Tree, zero: TreeGen.this.global.ValDef, x: TreeGen.this.global.ValDef, matchRes: TreeGen.this.global.ValDef, keepGoing: TreeGen.this.global.ValDef, stats: List[TreeGen.this.global.Tree], epilogue: TreeGen.this.global.Tree, wrap: TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">caseVirtualizedMatchOpt</a><span class="delimiter">(</span><a href="#286771" title="TreeGen.this.global.Tree">matchExpr</a>, <a href="#286911" title="TreeGen.this.global.ValDef">zero</a>, <a href="#286916" title="TreeGen.this.global.ValDef">x</a>, <a href="#286921" title="TreeGen.this.global.ValDef">matchRes</a>, <a href="#286926" title="TreeGen.this.global.ValDef">keepGoing</a>, <a href="#286927" title="List[TreeGen.this.global.Tree]">stats</a>, <a href="#286928" title="TreeGen.this.global.Tree">epilogue</a>, <a title="TreeGen.this.global.Tree" id="286930">m</a> =&gt; <a href="#286746" title="(orig: TreeGen.this.global.Tree, stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">copyBlock</a><span class="delimiter">(</span><a href="#286771" title="TreeGen.this.global.Tree">matchExpr</a>, <a href="#286901" title="List[TreeGen.this.global.Tree]">outerStats</a>, <a href="#286930" title="TreeGen.this.global.Tree">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="TreeGen.this.global.Tree" id="286931">other</a> =&gt;
        <a href="#286745" title="(t: TreeGen.this.global.Tree)TreeGen.this.global.Tree">unknownTree</a><span class="delimiter">(</span><a href="#286931" title="TreeGen.this.global.Tree @unchecked">other</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(t: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="286745">unknownTree</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286754">t</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span title="Nothing" class="keyword">throw</span> <span title="MatchError" class="keyword">new</span> <span title="MatchError">MatchError</span><span class="delimiter">(</span><a href="#286754" title="TreeGen.this.global.Tree">t</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(orig: TreeGen.this.global.Tree, stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block" id="286746">copyBlock</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286802">orig</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.Tree]" id="286803">stats</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="TreeGen.this.global.Tree" id="286804">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Block">Block</span> = <a href="#239075" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#286803" title="List[TreeGen.this.global.Tree]">stats</a>, <a href="#286804" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(cases: List[TreeGen.this.global.CaseDef])List[TreeGen.this.global.CaseDef]" id="286747">dropSyntheticCatchAll</a><span class="delimiter">(</span><a title="List[TreeGen.this.global.CaseDef]" id="286958">cases</a>: <span title="List[TreeGen.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[TreeGen.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span> =
      <span title="List[TreeGen.this.global.CaseDef]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#186204" title="object TreeGen.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#233001" title="=&gt; Boolean">virtPatmat</a><span class="delimiter">)</span> <a href="#286958" title="List[TreeGen.this.global.CaseDef]">cases</a>
      <span class="keyword">else</span> <a href="#286958" title="List[TreeGen.this.global.CaseDef]">cases</a> <span title="(p: TreeGen.this.global.CaseDef =&gt; Boolean)List[TreeGen.this.global.CaseDef]">filter</span> <a href="#286963" title="Boolean" class="delimiter">{</a>
             <span class="keyword">case</span> <span title="Boolean(false)">CaseDef</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286971">pat</a>, <a href="#239075" title="object TreeGen.this.global.EmptyTree">EmptyTree</a>, Throw<span class="delimiter">(</span>Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="286984">exTpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; TreeGen.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#186424" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120097" title="(tree: TreeGen.this.global.treeInfo.global.Tree)Boolean">isWildcardArg</a><span class="delimiter">(</span><a href="#286971" title="TreeGen.this.global.Tree">pat</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#286984" title="TreeGen.this.global.Tree">exTpt</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Definitions.scala.html#45006" title="=&gt; TreeGen.this.global.Symbol">MatchErrorClass</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
             <span class="keyword">case</span> <span title="Boolean(true)">CaseDef</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287004">pat</a>, <a title="TreeGen.this.global.Tree" id="287005">guard</a>, <a title="TreeGen.this.global.Tree" id="287006">body</a><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
           <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(matchExpr: TreeGen.this.global.Tree, defaultAction: TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="239086">withDefaultCase</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287007">matchExpr</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree" id="287008">defaultAction</a>: Tree/*scrutinee*/ =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">object</span> <a title="object withDefaultTransformer" id="287010">withDefaultTransformer</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#239085" title="TreeGen.this.MatchMatcher">MatchMatcher</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(orig: TreeGen.this.global.Tree, selector: TreeGen.this.global.Tree, cases: List[TreeGen.this.global.CaseDef], wrap: TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="287013">caseMatch</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287017">orig</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="287018">selector</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.CaseDef]" id="287019">cases</a>: <span title="List[TreeGen.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree" id="287020">wrap</a>: Tree =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[TreeGen.this.global.CaseDef]" id="287022">casesNoSynthCatchAll</a> = <a href="#286747" title="(cases: List[TreeGen.this.global.CaseDef])List[TreeGen.this.global.CaseDef]">dropSyntheticCatchAll</a><span class="delimiter">(</span><a href="#287019" title="List[TreeGen.this.global.CaseDef]">cases</a><span class="delimiter">)</span>
        <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#287022" title="List[TreeGen.this.global.CaseDef]">casesNoSynthCatchAll</a> <span title="(p: TreeGen.this.global.CaseDef =&gt; Boolean)Boolean">exists</span> <a href="Trees.scala.html#186424" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120098" title="(cdef: TreeGen.this.global.treeInfo.global.CaseDef)Boolean">isDefaultCase</a><span class="delimiter">)</span> <a href="#287017" title="TreeGen.this.global.Tree">orig</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="TreeGen.this.global.CaseDef" id="287031">defaultCase</a> = <a href="#239075" title="(pat: TreeGen.this.global.Tree, guard: TreeGen.this.global.Tree, body: TreeGen.this.global.Tree)TreeGen.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#239075" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; TreeGen.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>, <a href="#239075" title="object TreeGen.this.global.EmptyTree">EmptyTree</a>, <a href="#287008" title="(v1: TreeGen.this.global.Tree)TreeGen.this.global.Tree">defaultAction</a><span class="delimiter">(</span><a href="#287018" title="TreeGen.this.global.Tree">selector</a>.<span title="=&gt; selector.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#287020" title="(v1: TreeGen.this.global.Tree)TreeGen.this.global.Tree">wrap</a><span class="delimiter">(</span><a href="#239075" title="(selector: TreeGen.this.global.Tree, cases: List[TreeGen.this.global.CaseDef])TreeGen.this.global.Match">Match</a><span class="delimiter">(</span><a href="#287018" title="TreeGen.this.global.Tree">selector</a>, <a href="#287022" title="List[TreeGen.this.global.CaseDef]">casesNoSynthCatchAll</a> <span title="(elem: TreeGen.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.CaseDef],TreeGen.this.global.CaseDef,List[TreeGen.this.global.CaseDef]])List[TreeGen.this.global.CaseDef]">:+</span> <a href="#287031" title="TreeGen.this.global.CaseDef">defaultCase</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(orig: TreeGen.this.global.Tree, _match: TreeGen.this.global.Tree, targs: List[TreeGen.this.global.Tree], scrut: TreeGen.this.global.Tree, matcher: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="287014">caseVirtualizedMatch</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287118">orig</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="287119">_match</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.Tree]" id="287120">targs</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="TreeGen.this.global.Tree" id="287121">scrut</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="287122">matcher</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span> <span class="keyword">import</span> <a href="TreeDSL.scala.html#187433" title="object TreeGen.this.CODE">CODE</a>._
        <span class="delimiter">(</span><span class="delimiter">(</span><a href="TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: TreeGen.this.global.Tree)TreeGen.this.CODE.TreeMethods">matcher</a> <a href="TreeDSL.scala.html#244845" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: TreeGen.this.global.Tree)TreeGen.this.CODE.TreeMethods">APPLY</a> <span class="delimiter">(</span><a href="#287121" title="TreeGen.this.global.Tree">scrut</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="TreeDSL.scala.html#244849" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethodsFromSelectStart : (ss: TreeGen.this.CODE.SelectStart)TreeGen.this.CODE.TreeMethods">DOT</a> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59160" title="=&gt; TreeGen.this.global.nme.NameType">getOrElse</a><span class="delimiter">)</span> <a href="TreeDSL.scala.html#284878" title="(params: TreeGen.this.global.Tree*)TreeGen.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="#287008" title="(v1: TreeGen.this.global.Tree)TreeGen.this.global.Tree">defaultAction</a><span class="delimiter">(</span><a href="#287121" title="TreeGen.this.global.Tree">scrut</a>.<span title="=&gt; scrut.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span> // TODO: pass targs
      <span class="delimiter">}</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(orig: TreeGen.this.global.Tree, zero: TreeGen.this.global.ValDef, x: TreeGen.this.global.ValDef, matchRes: TreeGen.this.global.ValDef, keepGoing: TreeGen.this.global.ValDef, stats: List[TreeGen.this.global.Tree], epilogue: TreeGen.this.global.Tree, wrap: TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="287015">caseVirtualizedMatchOpt</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287171">orig</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.ValDef" id="287172">zero</a>: <span title="TreeGen.this.global.ValDef">ValDef</span>, <a title="TreeGen.this.global.ValDef" id="287173">x</a>: <span title="TreeGen.this.global.ValDef">ValDef</span>, <a title="TreeGen.this.global.ValDef" id="287174">matchRes</a>: <span title="TreeGen.this.global.ValDef">ValDef</span>, <a title="TreeGen.this.global.ValDef" id="287175">keepGoing</a>: <span title="TreeGen.this.global.ValDef">ValDef</span>, <a title="List[TreeGen.this.global.Tree]" id="287176">stats</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="TreeGen.this.global.Tree" id="287177">epilogue</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree =&gt; TreeGen.this.global.Tree" id="287178">wrap</a>: Tree =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span> <span class="keyword">import</span> <a href="TreeDSL.scala.html#187433" title="object TreeGen.this.CODE">CODE</a>._
        <a href="#287178" title="(v1: TreeGen.this.global.Tree)TreeGen.this.global.Tree">wrap</a><span class="delimiter">(</span><a href="#239075" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span>
          <a href="#287172" title="TreeGen.this.global.ValDef">zero</a> <a href="#287192" title="(x: TreeGen.this.global.Tree)List[TreeGen.this.global.Tree]">::</a>
          <a href="#287173" title="TreeGen.this.global.ValDef">x</a> <a href="#287193" title="(x: TreeGen.this.global.Tree)List[TreeGen.this.global.Tree]">::</a>
          <a href="#287174" title="TreeGen.this.global.ValDef">matchRes</a> <a href="#287194" title="(x: TreeGen.this.global.Tree)List[TreeGen.this.global.Tree]">::</a>
          <a href="#287175" title="TreeGen.this.global.ValDef">keepGoing</a> <a href="#287195" title="(x: TreeGen.this.global.Tree)List[TreeGen.this.global.Tree]">::</a>
          <a href="#287176" title="List[TreeGen.this.global.Tree]">stats</a>,
          // replace `if (keepGoing) throw new MatchError(...) else matchRes` by `if (keepGoing) ${defaultAction(`x`)} else matchRes`
          <span class="delimiter">(</span><a href="TreeDSL.scala.html#244834" title="(tree: TreeGen.this.global.Tree)TreeGen.this.CODE.IfStart">IF</a> <span class="delimiter">(</span><a href="TreeDSL.scala.html#244841" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="#287175" title="TreeGen.this.global.ValDef">keepGoing</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="TreeDSL.scala.html#284832" title="(x: TreeGen.this.global.Tree)TreeGen.this.CODE.IfStart">THEN</a> <a href="#287008" title="(v1: TreeGen.this.global.Tree)TreeGen.this.global.Tree">defaultAction</a><span class="delimiter">(</span><a href="#287173" title="TreeGen.this.global.ValDef">x</a>.<span title="=&gt; TreeGen.this.global.Tree">rhs</span>.<span title="=&gt; x.rhs.type">duplicate</span><span class="delimiter">)</span> <a href="TreeDSL.scala.html#284833" title="(elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">ELSE</a> <a href="TreeDSL.scala.html#244841" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="#287174" title="TreeGen.this.global.ValDef">matchRes</a>.<span title="=&gt; TreeGen.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#286744" title="(matchExpr: TreeGen.this.global.Tree)TreeGen.this.global.Tree">withDefaultTransformer</a><span class="delimiter">(</span><a href="#287007" title="TreeGen.this.global.Tree">matchExpr</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="keyword">def</span> <a title="(cvar: TreeGen.this.global.Symbol, expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="239087">mkCached</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="287231">cvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="287232">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="287234">cvarRef</a> = <a href="../../../reflect/internal/TreeGen.scala.html#92346" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkUnattributedRef</a><span class="delimiter">(</span><a href="#287231" title="TreeGen.this.global.Symbol">cvar</a><span class="delimiter">)</span>
    <a href="#239075" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span>
      <span title="(xs: TreeGen.this.global.If*)List[TreeGen.this.global.If]">List</span><span class="delimiter">(</span>
        <a href="#239075" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#239075" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#239075" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#287234" title="TreeGen.this.global.Tree">cvarRef</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59128" title="=&gt; TreeGen.this.global.nme.NameType">eq</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Literal*)List[TreeGen.this.global.Literal]">List</span><span class="delimiter">(</span><a href="#239075" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)TreeGen.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
           <a href="#239075" title="(lhs: TreeGen.this.global.Tree, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#287234" title="TreeGen.this.global.Tree">cvarRef</a>, <a href="#287232" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>,
           <a href="#239075" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>,
      <a href="#287234" title="TreeGen.this.global.Tree">cvarRef</a>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // Builds a tree of the form &quot;{ lhs = rhs ; lhs  }&quot;
  <span class="keyword">def</span> <a title="(lhs: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="239088">mkAssignAndReturn</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="287325">lhs</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="287326">rhs</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="287328">lhsRef</a> = <a href="../../../reflect/internal/TreeGen.scala.html#92346" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkUnattributedRef</a><span class="delimiter">(</span><a href="#287325" title="TreeGen.this.global.Symbol">lhs</a><span class="delimiter">)</span>
    <a href="#239075" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#239075" title="(lhs: TreeGen.this.global.Tree, rhs: TreeGen.this.global.Tree)TreeGen.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#287328" title="TreeGen.this.global.Tree">lhsRef</a>, <a href="#287326" title="TreeGen.this.global.Tree">rhs</a><span class="delimiter">)</span> <a href="#287337" title="(x: TreeGen.this.global.Assign)List[TreeGen.this.global.Assign]">::</a> <span title="object Nil">Nil</span>, <a href="#287328" title="TreeGen.this.global.Tree">lhsRef</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol)TreeGen.this.global.ValDef" id="239089">mkModuleVarDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="287353">accessor</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="287356">inClass</a>    = <a href="#287353" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a>
    <span class="keyword">val</span> <a title="Long" id="287357">extraFlags</a> = <span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="#287356" title="Boolean">inClass</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Flags.scala.html#38467" title="=&gt; Long">PrivateLocal</a> <span title="(x: Int)Long">|</span> <span title="Int(2097152)">SYNTHETIC</span> <span class="keyword">else</span> <span title="Long(0L)" class="int">0</span>
    
    <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="287358">mval</a> = <span class="delimiter">(</span>
      <a href="#287353" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46384" title="(name: TreeGen.this.global.TermName, pos: TreeGen.this.global.Position, newFlags: Long)TreeGen.this.global.TermSymbol">newVariable</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58641" title="(name: TreeGen.this.global.TermName)TreeGen.this.global.TermName">moduleVarName</a><span class="delimiter">(</span><a href="#287353" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Names.scala.html#38367" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: TreeGen.this.global.Name)TreeGen.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#287353" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; TreeGen.this.global.Position">pos</a>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <span title="Int(1073741824)">MODULEVAR</span> <span title="(x: Long)Long">|</span> <a href="#287357" title="Long">extraFlags</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a> <a href="#287353" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; TreeGen.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41523" title="=&gt; TreeGen.this.global.Type">finalResultType</a>
        <a href="../../../reflect/internal/Symbols.scala.html#46646" title="(sym: TreeGen.this.global.Symbol, args: TreeGen.this.global.Tree*)TreeGen.this.global.TermSymbol">addAnnotation</a> <a href="../../../reflect/internal/Definitions.scala.html#45423" title="=&gt; TreeGen.this.global.Symbol">VolatileAttr</a>
    <span class="delimiter">)</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#287356" title="Boolean">inClass</a><span class="delimiter">)</span>
      <a href="#287358" title="TreeGen.this.global.TermSymbol">mval</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; TreeGen.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; TreeGen.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Symbol">enter</a> <a href="#287358" title="TreeGen.this.global.TermSymbol">mval</a>

    <a href="../../../reflect/internal/Trees.scala.html#39364" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#287358" title="TreeGen.this.global.TermSymbol">mval</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // def m: T = { if (m$ eq null) m$ = new m$class(...) m$ }
  // where (...) are eventual outer accessors
  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, mvar: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="239090">mkCachedModuleAccessDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="287410">accessor</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Symbol" id="287411">mvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="../../../reflect/internal/Trees.scala.html#39370" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#287410" title="TreeGen.this.global.Symbol">accessor</a>, <a href="#239087" title="(cvar: TreeGen.this.global.Symbol, expr: TreeGen.this.global.Tree)TreeGen.this.global.Tree">mkCached</a><span class="delimiter">(</span><a href="#287411" title="TreeGen.this.global.Symbol">mvar</a>, <a href="#239092" title="(accessor: TreeGen.this.global.Symbol, tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree">newModule</a><span class="delimiter">(</span><a href="#287410" title="TreeGen.this.global.Symbol">accessor</a>, <a href="#287411" title="TreeGen.this.global.Symbol">mvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, msym: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="239091">mkModuleAccessDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="287484">accessor</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Symbol" id="287485">msym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="../../../reflect/internal/Trees.scala.html#39370" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#287484" title="TreeGen.this.global.Symbol">accessor</a>, <a href="#239075" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#239075" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">This</a><span class="delimiter">(</span><a href="#287485" title="TreeGen.this.global.Symbol">msym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; TreeGen.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#287485" title="TreeGen.this.global.Symbol">msym</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol, tpe: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="239092">newModule</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="287450">accessor</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Type" id="287451">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[TreeGen.this.global.Type]" id="287454">ps</a> = <a href="#287451" title="TreeGen.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46664" title="=&gt; TreeGen.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; TreeGen.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41527" title="=&gt; List[TreeGen.this.global.Type]">paramTypes</a>
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#287454" title="List[TreeGen.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#39378" title="(tpe: TreeGen.this.global.Type, args: TreeGen.this.global.Tree*)TreeGen.this.global.Tree">New</a><span class="delimiter">(</span><a href="#287451" title="TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#39378" title="(tpe: TreeGen.this.global.Type, args: TreeGen.this.global.Tree*)TreeGen.this.global.Tree">New</a><span class="delimiter">(</span><a href="#287451" title="TreeGen.this.global.Type">tpe</a>, <a href="#239075" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">This</a><span class="delimiter">(</span><a href="#287450" title="TreeGen.this.global.Symbol">accessor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; TreeGen.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; TreeGen.this.global.Symbol">enclClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  // def m: T;
  <span class="keyword">def</span> <a title="(accessor: TreeGen.this.global.Symbol)TreeGen.this.global.DefDef" id="239093">mkModuleAccessDcl</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="287530">accessor</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="../../../reflect/internal/Trees.scala.html#39370" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#287530" title="TreeGen.this.global.Symbol">accessor</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)accessor.type">setFlag</a> <a href="../../../reflect/internal/Flags.scala.html#38534" title="=&gt; Long">lateDEFERRED</a>, <a href="#239075" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="239094">mkRuntimeCall</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="286551">meth</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="TreeGen.this.global.Name">Name</a>, <a title="List[TreeGen.this.global.Tree]" id="286552">args</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#239095" title="(meth: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="#286551" title="TreeGen.this.global.Name">meth</a>, <span title="object Nil">Nil</span>, <a href="#286552" title="List[TreeGen.this.global.Tree]">args</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(meth: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="239095">mkRuntimeCall</a><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="286547">meth</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="TreeGen.this.global.Name">Name</a>, <a title="List[TreeGen.this.global.Type]" id="286548">targs</a>: <span title="List[TreeGen.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="286549">args</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="../../../reflect/internal/TreeGen.scala.html#92334" title="(receiver: TreeGen.this.global.Symbol, methodName: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkMethodCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45055" title="=&gt; TreeGen.this.global.Symbol">ScalaRunTimeModule</a>, <a href="#286547" title="TreeGen.this.global.Name">meth</a>, <a href="#286548" title="List[TreeGen.this.global.Type]">targs</a>, <a href="#286549" title="List[TreeGen.this.global.Tree]">args</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(message: String)TreeGen.this.global.Tree" id="239096">mkSysErrorCall</a><span class="delimiter">(</span><a title="String" id="287580">message</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="../../../reflect/internal/TreeGen.scala.html#92336" title="(method: TreeGen.this.global.Symbol, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkMethodCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45035" title="=&gt; TreeGen.this.global.Symbol">Sys_error</a>, <span title="(xs: TreeGen.this.global.Literal*)List[TreeGen.this.global.Literal]">List</span><span class="delimiter">(</span><a href="#239075" title="(value: TreeGen.this.global.Constant)TreeGen.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)TreeGen.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#287580" title="String">message</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  /** A creator for a call to a scala.reflect.Manifest or ClassManifest factory method.
   *
   *  @param    full          full or partial manifest (target will be Manifest or ClassManifest)
   *  @param    constructor   name of the factory method (e.g. &quot;classType&quot;)
   *  @param    tparg         the type argument
   *  @param    args          value arguments
   *  @return   the tree
   */
  <span class="keyword">def</span> <a title="(full: Boolean, constructor: String, tparg: TreeGen.this.global.Type, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="239097">mkManifestFactoryCall</a><span class="delimiter">(</span><a title="Boolean" id="287596">full</a>: <span title="Boolean">Boolean</span>, <a title="String" id="287597">constructor</a>: <span title="String">String</span>, <a title="TreeGen.this.global.Type" id="287598">tparg</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="TreeGen.this.global.Type">Type</a>, <a title="List[TreeGen.this.global.Tree]" id="287599">args</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="../../../reflect/internal/TreeGen.scala.html#92334" title="(receiver: TreeGen.this.global.Symbol, methodName: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkMethodCall</a><span class="delimiter">(</span>
      <span title="TreeGen.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#287596" title="Boolean">full</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#45191" title="=&gt; TreeGen.this.global.Symbol">FullManifestModule</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#45187" title="=&gt; TreeGen.this.global.Symbol">PartialManifestModule</a>,
      <a href="../../../reflect/internal/Names.scala.html#38394" title="(s: String)TreeGen.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#287597" title="String">constructor</a><span class="delimiter">)</span>,
      <span title="(xs: TreeGen.this.global.Type*)List[TreeGen.this.global.Type]">List</span><span class="delimiter">(</span><a href="#287598" title="TreeGen.this.global.Type">tparg</a><span class="delimiter">)</span>,
      <a href="#287599" title="List[TreeGen.this.global.Tree]">args</a>
    <span class="delimiter">)</span>

  /** Make a synchronized block on 'monitor'. */
  <span class="keyword">def</span> <a title="(monitor: TreeGen.this.global.Tree, body: TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="239098">mkSynchronized</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287618">monitor</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="287619">body</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#239075" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#239075" title="(qualifier: TreeGen.this.global.Tree, sym: TreeGen.this.global.Symbol)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#287618" title="TreeGen.this.global.Tree">monitor</a>, <a href="../../../reflect/internal/Definitions.scala.html#45325" title="=&gt; TreeGen.this.global.Symbol">Object_synchronized</a><span class="delimiter">)</span>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#287619" title="TreeGen.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed" id="239099">wildcardStar</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287664">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span> =
    <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: TreeGen.this.global.Position)(tree: TreeGen.this.global.Typed)TreeGen.this.global.Typed">atPos</a><span class="delimiter">(</span><a href="#287664" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#239075" title="(expr: TreeGen.this.global.Tree, tpt: TreeGen.this.global.Tree)TreeGen.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#287664" title="TreeGen.this.global.Tree">tree</a>, <a href="#239075" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39303" title="object TreeGen.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#63635" title="=&gt; TreeGen.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(vparam: TreeGen.this.global.Symbol)TreeGen.this.global.Tree with Serializable" id="239100">paramToArg</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="287688">vparam</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Ident" id="287691">arg</a> = <a href="#239075" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#287688" title="TreeGen.this.global.Symbol">vparam</a><span class="delimiter">)</span>
    <span title="TreeGen extends TreeGen.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45110" title="(tp: TreeGen.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#287688" title="TreeGen.this.global.Symbol">vparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; TreeGen.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#239099" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="#287691" title="TreeGen.this.global.Ident">arg</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#287691" title="TreeGen.this.global.Ident">arg</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(vparam: TreeGen.this.global.ValDef)TreeGen.this.global.Tree with Serializable" id="239101">paramToArg</a><span class="delimiter">(</span><a title="TreeGen.this.global.ValDef" id="287714">vparam</a>: <span title="TreeGen.this.global.ValDef">ValDef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Ident" id="287717">arg</a> = <a href="#239075" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#287714" title="TreeGen.this.global.ValDef">vparam</a>.<span title="=&gt; TreeGen.this.global.TermName">name</span><span class="delimiter">)</span>
    <span title="TreeGen extends TreeGen.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#186424" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120084" title="(tpt: TreeGen.this.global.treeInfo.global.Tree)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#287714" title="TreeGen.this.global.ValDef">vparam</a>.<span title="=&gt; TreeGen.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#239099" title="(tree: TreeGen.this.global.Tree)TreeGen.this.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="#287717" title="TreeGen.this.global.Ident">arg</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#287717" title="TreeGen.this.global.Ident">arg</a>
  <span class="delimiter">}</span>

  /** Make forwarder to method `target`, passing all parameters in `params` */
  <span class="keyword">def</span> <a title="(target: TreeGen.this.global.Tree, vparamss: List[List[TreeGen.this.global.Symbol]])TreeGen.this.global.Tree" id="239102">mkForwarder</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287742">target</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[List[TreeGen.this.global.Symbol]]" id="287743">vparamss</a>: <span title="List[List[TreeGen.this.global.Symbol]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> =
    <span class="delimiter">(</span><a href="#287742" title="TreeGen.this.global.Tree">target</a> <a href="#287746" title="(z: TreeGen.this.global.Tree)(op: (TreeGen.this.global.Tree, List[TreeGen.this.global.Symbol]) =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">/:</a> <a href="#287743" title="List[List[TreeGen.this.global.Symbol]]">vparamss</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287759">fn</a>, <a title="List[TreeGen.this.global.Symbol]" id="287760">vparams</a><span class="delimiter">)</span> =&gt; <a href="#239075" title="(fun: TreeGen.this.global.Tree, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#287759" title="TreeGen.this.global.Tree">fn</a>, <a href="#287760" title="List[TreeGen.this.global.Symbol]">vparams</a> <span title="(f: TreeGen.this.global.Symbol =&gt; TreeGen.this.global.Tree with Serializable)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeGen.this.global.Symbol],TreeGen.this.global.Tree with Serializable,List[TreeGen.this.global.Tree with Serializable]])List[TreeGen.this.global.Tree with Serializable]">map</span> <a href="#239100" title="(vparam: TreeGen.this.global.Symbol)TreeGen.this.global.Tree with Serializable">paramToArg</a><span class="delimiter">)</span><span class="delimiter">)</span>

  /** Applies a wrapArray call to an array, making it a WrappedArray.
   *  Don't let a reference type parameter be inferred, in case it's a singleton:
   *  apply the element type directly.
   */
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, elemtp: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="239103">mkWrapArray</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287831">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="287832">elemtp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="../../../reflect/internal/TreeGen.scala.html#92334" title="(receiver: TreeGen.this.global.Symbol, methodName: TreeGen.this.global.Name, targs: List[TreeGen.this.global.Type], args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkMethodCall</a><span class="delimiter">(</span>
      <a href="../../../reflect/internal/Definitions.scala.html#45040" title="=&gt; TreeGen.this.global.Symbol">PredefModule</a>,
      <a href="../../../reflect/internal/Definitions.scala.html#45242" title="(elemtp: TreeGen.this.global.Type)TreeGen.this.global.TermName">wrapArrayMethodName</a><span class="delimiter">(</span><a href="#287832" title="TreeGen.this.global.Type">elemtp</a><span class="delimiter">)</span>,
      <span title="List[TreeGen.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45479" title="(tp: TreeGen.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#287832" title="TreeGen.this.global.Type">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object Nil">Nil</span> <span class="keyword">else</span> <span title="(xs: TreeGen.this.global.Type*)List[TreeGen.this.global.Type]">List</span><span class="delimiter">(</span><a href="#287832" title="TreeGen.this.global.Type">elemtp</a><span class="delimiter">)</span>,
      <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#287831" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Generate a cast for tree Tree representing Array with
   *  elem type elemtp to expected type pt.
   */
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree, elemtp: TreeGen.this.global.Type, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree" id="239104">mkCastArray</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287859">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Type" id="287860">elemtp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="TreeGen.this.global.Type">Type</a>, <a title="TreeGen.this.global.Type" id="287861">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="TreeGen.this.global.Type">Type</a><span class="delimiter">)</span> =
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#287860" title="TreeGen.this.global.Type">elemtp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; TreeGen.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44982" title="=&gt; TreeGen.this.global.Symbol">AnyClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#45479" title="(tp: TreeGen.this.global.Type)Boolean">isScalaValueType</a><span class="delimiter">(</span><a href="#287859" title="TreeGen.this.global.Tree">tree</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[TreeGen.this.global.Type]">typeArgs</a>.<span title="=&gt; TreeGen.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../reflect/internal/TreeGen.scala.html#92349" title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#239094" title="(meth: TreeGen.this.global.Name, args: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object TreeGen.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59268" title="=&gt; TreeGen.this.global.nme.NameType">toObjectArray</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#287859" title="TreeGen.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#287861" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="keyword">else</span>
      <a href="../../../reflect/internal/TreeGen.scala.html#92349" title="(tree: TreeGen.this.global.Tree, pt: TreeGen.this.global.Type)TreeGen.this.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#287859" title="TreeGen.this.global.Tree">tree</a>, <a href="#287861" title="TreeGen.this.global.Type">pt</a><span class="delimiter">)</span>

  /** Translate names in Select/Ident nodes to type names.
   */
  <span class="keyword">def</span> <a title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.RefTree]" id="239105">convertToTypeName</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287885">tree</a>: <span title="TreeGen.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Option[TreeGen.this.global.RefTree]">Option</span><span class="delimiter">[</span>RefTree<span class="delimiter">]</span> = <a href="#287885" title="TreeGen.this.global.Tree">tree</a> <span title="Option[TreeGen.this.global.RefTree]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Select]">Select</span><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287891">qual</a>, <a title="TreeGen.this.global.Name" id="287892">name</a><span class="delimiter">)</span> =&gt; <span title="(x: TreeGen.this.global.Select)Some[TreeGen.this.global.Select]">Some</span><span class="delimiter">(</span><a href="#239075" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.Name)TreeGen.this.global.Select">Select</a><span class="delimiter">(</span><a href="#287891" title="TreeGen.this.global.Tree">qual</a>, <a href="#287892" title="TreeGen.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52127" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Some[TreeGen.this.global.Ident]">Ident</span><span class="delimiter">(</span><a title="TreeGen.this.global.Name" id="287919">name</a><span class="delimiter">)</span>        =&gt; <span title="(x: TreeGen.this.global.Ident)Some[TreeGen.this.global.Ident]">Some</span><span class="delimiter">(</span><a href="#239075" title="(name: TreeGen.this.global.Name)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#287919" title="TreeGen.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52127" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">_</span>                  =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>

  /** Try to convert Select(qual, name) to a SelectFromTypeTree.
   */
  <span class="keyword">def</span> <a title="(qual: TreeGen.this.global.Tree, origName: TreeGen.this.global.Name)TreeGen.this.global.Tree with Serializable" id="239106">convertToSelectFromType</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287933">qual</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Name" id="287934">origName</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="#239105" title="(tree: TreeGen.this.global.Tree)Option[TreeGen.this.global.RefTree]">convertToTypeName</a><span class="delimiter">(</span><a href="#287933" title="TreeGen.this.global.Tree">qual</a><span class="delimiter">)</span> <span title="TreeGen extends TreeGen.this.global.Tree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.SelectFromTypeTree">Some</span><span class="delimiter">(</span><a title="TreeGen.this.global.RefTree" id="287938">qual1</a><span class="delimiter">)</span>  =&gt; <a href="#239075" title="(qualifier: TreeGen.this.global.Tree, name: TreeGen.this.global.TypeName)TreeGen.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#287938" title="TreeGen.this.global.RefTree">qual1</a> <span title="(pos: TreeGen.this.global.Position)qual1.type">setPos</span> <a href="#287933" title="TreeGen.this.global.Tree">qual</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span>, <a href="#287934" title="TreeGen.this.global.Name">origName</a>.<a href="../../../reflect/internal/Names.scala.html#52127" title="=&gt; TreeGen.this.global.TypeName">toTypeName</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="TreeGen.this.global.EmptyTree.type">_</span>            =&gt; <a href="#239075" title="object TreeGen.this.global.EmptyTree">EmptyTree</a>
  <span class="delimiter">}</span>

  /** Create a ValDef initialized to the given expression, setting the
   *  symbol to its packed type, and an function for creating Idents
   *  which refer to it.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree, owner: TreeGen.this.global.Symbol, name: TreeGen.this.global.Name)(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)" id="239107">mkPackedValDef</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="287959">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Symbol" id="287960">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Name" id="287961">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="TreeGen.this.global.Name">Name</a><span class="delimiter">)</span>: <span title="(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)" class="delimiter">(</span>ValDef, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Ident<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.analyzer.global.Type" id="287963">packedType</a> = <a href="../Global.scala.html#186285" title="object TreeGen.this.global.typer">typer</a>.<a href="../typechecker/Typers.scala.html#187847" title="(tree: TreeGen.this.global.analyzer.global.Tree, owner: TreeGen.this.global.analyzer.global.Symbol)TreeGen.this.global.analyzer.global.Type">packedType</a><span class="delimiter">(</span><a href="#287959" title="TreeGen.this.global.Tree">expr</a>, <a href="#287960" title="TreeGen.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.TermSymbol" id="287964">sym</a> = <a href="#287960" title="TreeGen.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46383" title="(name: TreeGen.this.global.TermName, pos: TreeGen.this.global.Position, newFlags: Long)TreeGen.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#38367" title="implicit scala.reflect.internal.Names.promoteTermNamesAsNecessary : (name: TreeGen.this.global.Name)TreeGen.this.global.TermName">name</a>, <a href="#287959" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187133" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: TreeGen.this.global.Type)TreeGen.this.global.TermSymbol">setInfo</a> <a href="#287963" title="TreeGen.this.global.analyzer.global.Type">packedType</a>

    <span title="(_1: TreeGen.this.global.ValDef, _2: () =&gt; TreeGen.this.global.Ident)(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)" class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39363" title="(sym: TreeGen.this.global.Symbol, rhs: TreeGen.this.global.Tree)TreeGen.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#287964" title="TreeGen.this.global.TermSymbol">sym</a>, <a href="#287959" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#239075" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#287964" title="TreeGen.this.global.TermSymbol">sym</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Ident">setPos</span> <a href="#287964" title="TreeGen.this.global.TermSymbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; TreeGen.this.global.Position">pos</a>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a> <span title="(tp: TreeGen.this.global.Type)TreeGen.this.global.Ident">setType</span> <a href="#287959" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Type">tpe</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Used in situations where you need to access value of an expression several times
   */
  <span class="keyword">def</span> <a title="(expr: TreeGen.this.global.Tree, owner: TreeGen.this.global.Symbol, unit: TreeGen.this.global.CompilationUnit)(within: (() =&gt; TreeGen.this.global.Tree) =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="239108">evalOnce</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="288012">expr</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Symbol" id="288013">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.CompilationUnit" id="288014">unit</a>: <a href="../CompilationUnits.scala.html#186387" title="TreeGen.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(() =&gt; TreeGen.this.global.Tree) =&gt; TreeGen.this.global.Tree" id="288015">within</a>: <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Boolean" id="288017">used</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#186424" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120062" title="(tree: TreeGen.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#288012" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#288015" title="(v1: () =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#288017" title="Boolean">used</a><span class="delimiter">)</span> <a href="#288012" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; expr.type">duplicate</span> <span class="keyword">else</span> <span class="delimiter">{</span> <a href="#288017" title="Boolean">used</a> = <span title="Boolean(true)" class="keyword">true</span>; <a href="#288012" title="TreeGen.this.global.Tree">expr</a> <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#288022" title="(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)" class="delimiter">(</a><a href="#288021" title="TreeGen.this.global.ValDef" id="288022">valDef</a>, <a href="#288021" title="() =&gt; TreeGen.this.global.Ident" id="288023">identFn</a><span class="delimiter">)</span> = <a href="#239107" title="(expr: TreeGen.this.global.Tree, owner: TreeGen.this.global.Symbol, name: TreeGen.this.global.Name)(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)">mkPackedValDef</a><span title="(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident) @unchecked" class="delimiter">(</span><a href="#288012" title="TreeGen.this.global.Tree">expr</a>, <a href="#288013" title="TreeGen.this.global.Symbol">owner</a>, <a href="#288014" title="TreeGen.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188695" title="(prefix: String)TreeGen.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="String(&quot;ev$&quot;)" class="string">&quot;ev$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="288024">containing</a> = <a href="#288015" title="(v1: () =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><a href="#288023" title="() =&gt; TreeGen.this.global.Ident">identFn</a><span class="delimiter">)</span>
      <a href="../../../reflect/internal/Positions.scala.html#39425" title="(tree: TreeGen.this.global.Tree, others: List[TreeGen.this.global.Tree])Unit">ensureNonOverlapping</a><span class="delimiter">(</span><a href="#288024" title="TreeGen.this.global.Tree">containing</a>, <span title="(xs: TreeGen.this.global.Tree*)List[TreeGen.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#288012" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#239075" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: TreeGen.this.global.ValDef*)List[TreeGen.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#288022" title="TreeGen.this.global.ValDef">valDef</a><span class="delimiter">)</span>, <a href="#288024" title="TreeGen.this.global.Tree">containing</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Block">setPos</span> <span class="delimiter">(</span><a href="#288024" title="TreeGen.this.global.Tree">containing</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span> <a href="../util/Position.scala.html#187145" title="(pos: scala.tools.nsc.util.Position)scala.tools.nsc.util.Position">union</a> <a href="#288012" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(exprs: List[TreeGen.this.global.Tree], owner: TreeGen.this.global.Symbol, unit: TreeGen.this.global.CompilationUnit)(within: List[() =&gt; TreeGen.this.global.Tree] =&gt; TreeGen.this.global.Tree)TreeGen.this.global.Tree" id="239109">evalOnceAll</a><span class="delimiter">(</span><a title="List[TreeGen.this.global.Tree]" id="288076">exprs</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="TreeGen.this.global.Symbol" id="288077">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.CompilationUnit" id="288078">unit</a>: <a href="../CompilationUnits.scala.html#186387" title="TreeGen.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="List[() =&gt; TreeGen.this.global.Tree] =&gt; TreeGen.this.global.Tree" id="288079">within</a>: <span class="delimiter">(</span>List<span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]" id="288081">vdefs</a> = <span title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">ListBuffer</span><span class="delimiter">[</span>ValDef<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]" id="288082">exprs1</a> = <span title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="Array[Boolean]" id="288083">used</a> = <span title="Array[Boolean]" class="keyword">new</span> <span title="Array[Boolean]">Array</span><span class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">(</span><a href="#288076" title="List[TreeGen.this.global.Tree]">exprs</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
    <span class="keyword">var</span> <a title="Int" id="288084">i</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="288106">expr</a> &lt;- <a href="#288076" title="(f: TreeGen.this.global.Tree =&gt; Unit)Unit">exprs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="exprs1.type" class="keyword">if</span> <span class="delimiter">(</span><a href="Trees.scala.html#186424" title="object TreeGen.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120062" title="(tree: TreeGen.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#288106" title="TreeGen.this.global.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#288082" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a> <span title="(x: () =&gt; TreeGen.this.global.Tree)exprs1.type">+=</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="288116">idx</a> = <a href="#288084" title="Int">i</a>
          <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#288083" title="(i: Int)Boolean">used</a><span class="delimiter">(</span><a href="#288116" title="Int">idx</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#288106" title="TreeGen.this.global.Tree">expr</a>.<span title="=&gt; expr.type">duplicate</span> <span class="keyword">else</span> <span class="delimiter">{</span> <a href="#288083" title="(i: Int, x: Boolean)Unit">used</a><span class="delimiter">(</span><a href="#288116" title="Int">idx</a><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>; <a href="#288106" title="TreeGen.this.global.Tree">expr</a> <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="#288121" title="(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)" class="delimiter">(</a><a href="#288120" title="TreeGen.this.global.ValDef" id="288121">valDef</a>, <a href="#288120" title="() =&gt; TreeGen.this.global.Ident" id="288122">identFn</a><span class="delimiter">)</span> = <a href="#239107" title="(expr: TreeGen.this.global.Tree, owner: TreeGen.this.global.Symbol, name: TreeGen.this.global.Name)(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident)">mkPackedValDef</a><span title="(TreeGen.this.global.ValDef, () =&gt; TreeGen.this.global.Ident) @unchecked" class="delimiter">(</span><a href="#288106" title="TreeGen.this.global.Tree">expr</a>, <a href="#288077" title="TreeGen.this.global.Symbol">owner</a>, <a href="#288078" title="TreeGen.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188695" title="(prefix: String)TreeGen.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="String(&quot;ev$&quot;)" class="string">&quot;ev$&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#288081" title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">vdefs</a> <span title="(x: TreeGen.this.global.ValDef)vdefs.type">+=</span> <a href="#288121" title="TreeGen.this.global.ValDef">valDef</a>
        <a href="#288082" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a> <span title="(x: () =&gt; TreeGen.this.global.Tree)exprs1.type">+=</span> <a href="#288122" title="() =&gt; TreeGen.this.global.Ident">identFn</a>
      <span class="delimiter">}</span>
      <a href="#288084" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="List[TreeGen.this.global.ValDef]" id="288085">prefix</a> = <a href="#288081" title="scala.collection.mutable.ListBuffer[TreeGen.this.global.ValDef]">vdefs</a>.<span title="=&gt; List[TreeGen.this.global.ValDef]">toList</span>
    <span class="keyword">val</span> <a title="TreeGen.this.global.Tree" id="288086">containing</a> = <a href="#288079" title="(v1: List[() =&gt; TreeGen.this.global.Tree])TreeGen.this.global.Tree">within</a><span class="delimiter">(</span><a href="#288082" title="scala.collection.mutable.ListBuffer[() =&gt; TreeGen.this.global.Tree]">exprs1</a>.<span title="=&gt; List[() =&gt; TreeGen.this.global.Tree]">toList</span><span class="delimiter">)</span>
    <a href="../../../reflect/internal/Positions.scala.html#39425" title="(tree: TreeGen.this.global.Tree, others: List[TreeGen.this.global.Tree])Unit">ensureNonOverlapping</a><span class="delimiter">(</span><a href="#288086" title="TreeGen.this.global.Tree">containing</a>, <a href="#288076" title="List[TreeGen.this.global.Tree]">exprs</a><span class="delimiter">)</span>
    <span title="TreeGen.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#288085" title="List[TreeGen.this.global.ValDef]">prefix</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#288086" title="TreeGen.this.global.Tree">containing</a>
    <span class="keyword">else</span> <a href="#239075" title="(stats: List[TreeGen.this.global.Tree], expr: TreeGen.this.global.Tree)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#288085" title="List[TreeGen.this.global.ValDef]">prefix</a>, <a href="#288086" title="TreeGen.this.global.Tree">containing</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)TreeGen.this.global.Block">setPos</span> <span class="delimiter">(</span><a href="#288085" title="List[TreeGen.this.global.ValDef]">prefix</a>.<span title="=&gt; TreeGen.this.global.ValDef">head</span>.<span title="=&gt; TreeGen.this.global.Position">pos</span> <a href="../util/Position.scala.html#187145" title="(pos: scala.tools.nsc.util.Position)scala.tools.nsc.util.Position">union</a> <a href="#288086" title="TreeGen.this.global.Tree">containing</a>.<span title="=&gt; TreeGen.this.global.Position">pos</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Return a double-checked locking idiom around the syncBody tree. It guards with `cond` and
   *  synchronizez on `clazz.this`. Additional statements can be included after initialization,
   *  (outside the synchronized block).
   *
   *  The idiom works only if the condition is using a volatile field.
   *  @see http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html
   */
  <span class="keyword">def</span> <a title="(clazz: TreeGen.this.global.Symbol, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="239110">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a title="TreeGen.this.global.Symbol" id="288180">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="TreeGen.this.global.Symbol">Symbol</a>, <a title="TreeGen.this.global.Tree" id="288181">cond</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.Tree]" id="288182">syncBody</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="288183">stats</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> =
    <a href="#239111" title="(attrThis: TreeGen.this.global.Tree, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a href="../../../reflect/internal/TreeGen.scala.html#92352" title="(sym: TreeGen.this.global.Symbol)TreeGen.this.global.Tree">mkAttributedThis</a><span class="delimiter">(</span><a href="#288180" title="TreeGen.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#288181" title="TreeGen.this.global.Tree">cond</a>, <a href="#288182" title="List[TreeGen.this.global.Tree]">syncBody</a>, <a href="#288183" title="List[TreeGen.this.global.Tree]">stats</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(attrThis: TreeGen.this.global.Tree, cond: TreeGen.this.global.Tree, syncBody: List[TreeGen.this.global.Tree], stats: List[TreeGen.this.global.Tree])TreeGen.this.global.Tree" id="239111">mkDoubleCheckedLocking</a><span class="delimiter">(</span><a title="TreeGen.this.global.Tree" id="288189">attrThis</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="TreeGen.this.global.Tree" id="288190">cond</a>: <span title="TreeGen.this.global.Tree">Tree</span>, <a title="List[TreeGen.this.global.Tree]" id="288191">syncBody</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[TreeGen.this.global.Tree]" id="288192">stats</a>: <span title="List[TreeGen.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="TreeGen.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
    <a href="#239075" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#288190" title="TreeGen.this.global.Tree">cond</a>,
       <a href="../../../reflect/internal/Trees.scala.html#39381" title="(stats: TreeGen.this.global.Tree*)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span>
         <a href="#239098" title="(monitor: TreeGen.this.global.Tree, body: TreeGen.this.global.Tree)TreeGen.this.global.Tree">mkSynchronized</a><span class="delimiter">(</span>
           <a href="#288189" title="TreeGen.this.global.Tree">attrThis</a>,
           <a href="#239075" title="(cond: TreeGen.this.global.Tree, thenp: TreeGen.this.global.Tree, elsep: TreeGen.this.global.Tree)TreeGen.this.global.If">If</a><span class="delimiter">(</span><a href="#288190" title="TreeGen.this.global.Tree">cond</a>, <a href="../../../reflect/internal/Trees.scala.html#39381" title="(stats: TreeGen.this.global.Tree*)TreeGen.this.global.Block">Block</a><span class="delimiter">(</span><a href="#288191" title="List[TreeGen.this.global.Tree]">syncBody</a>: _*<span class="delimiter">)</span>, <a href="#239075" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#288201" title="(x: TreeGen.this.global.Tree)List[TreeGen.this.global.Tree]">::</a>
         <a href="#288192" title="List[TreeGen.this.global.Tree]">stats</a>: _*<span class="delimiter">)</span>,
       <a href="#239075" title="object TreeGen.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>