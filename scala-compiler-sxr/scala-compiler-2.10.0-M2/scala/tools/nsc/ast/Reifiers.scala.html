<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/ast/Reifiers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Gilles Dubochet
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> ast

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> scala.reflect.api.<span title="object scala.reflect.api.Modifier">Modifier</span>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.tools.nsc.util.FreshNameCreator
<span class="keyword">import</span> scala.runtime.<span title="object scala.runtime.ScalaRunTime">ScalaRunTime</span>.<span class="delimiter">{</span> isAnyVal, isTuple <span class="delimiter">}</span>

/** Given a tree or type, generate a tree that when executed at runtime produces the original tree or type.
 *  See more info in the comments to `reify' in scala.reflect.macro.Context.
 *
 *  @author Martin Odersky
 *  @version 2.10
 */
<span class="keyword">trait</span> <a title="trait Reifiers extends Object with ScalaObject" id="13796">Reifiers</a> <span title="ScalaObject" class="delimiter">{</span> self: Global =&gt;

  <span class="keyword">def</span> <a title="(tree: Reifiers.this.Tree)Reifiers.this.Tree" id="186447">reify</a><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="255734">tree</a>: <span title="Reifiers.this.Tree">Tree</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
    <span class="keyword">class</span> <a title="class Reifier extends Object with ScalaObject" id="265249">Reifier</a> <a href="#265249" title="ScalaObject" class="delimiter">{</a>
      <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object Reifiers.this.definitions">definitions</a>._
      <span class="keyword">import</span> <a href="#265250" title="object Reifier">Reifier</a>._

      <span class="keyword">final</span> <span class="keyword">val</span> <a title="String(&quot;scala.&quot;)" id="265256">scalaPrefix</a> = <span title="String(&quot;scala.&quot;)" class="string">&quot;scala.&quot;</span>
      <span class="keyword">final</span> <span class="keyword">val</span> <a title="String(&quot;$local&quot;)" id="265258">localPrefix</a> = <span title="String(&quot;$local&quot;)" class="string">&quot;$local&quot;</span>
      <span class="keyword">final</span> <span class="keyword">val</span> <a title="String(&quot;$memo&quot;)" id="265260">memoizerName</a> = <span title="String(&quot;$memo&quot;)" class="string">&quot;$memo&quot;</span>

      <span class="keyword">val</span> <a title="Boolean" id="265262">reifyDebug</a> = <a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186842" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Yreifydebug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a>

      <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[Reifiers.this.Symbol]" id="265264">reifiableSyms</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.ArrayBuffer[A]">ArrayBuffer</span><span title="(elems: Reifiers.this.Symbol*)scala.collection.mutable.ArrayBuffer[Reifiers.this.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> // the symbols that are reified with the tree
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Reifiers.this.Symbol,Int]" id="265266">symIndex</a> = mutable.<span title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</span><span title="(elems: (Reifiers.this.Symbol, Int)*)scala.collection.mutable.HashMap[Reifiers.this.Symbol,Int]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> // the index of a reifiable symbol in `reifiableSyms`
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Reifiers.this.Symbol]" id="265269">boundSyms</a> = <span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Reifiers.this.Symbol*)scala.collection.immutable.Set[Reifiers.this.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> // set of all symbols that are bound in tree to be reified

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Reifiers.this.Type)Boolean" id="265271">definedInLiftedCode</a><span class="delimiter">(</span><a title="Reifiers.this.Type" id="265351">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Reifiers.this.Type">Type</a><span class="delimiter">)</span> =
        <a href="#265351" title="Reifiers.this.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41568" title="(p: Reifiers.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Reifiers.this.Type" id="265357">tp</a> =&gt; <a href="#265269" title="=&gt; scala.collection.immutable.Set[Reifiers.this.Symbol]">boundSyms</a> <span title="(elem: Reifiers.this.Symbol)Boolean">contains</span> <a href="#265357" title="Reifiers.this.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Reifiers.this.Symbol">typeSymbol</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Reifiers.this.Symbol)Boolean" id="265272">definedInLiftedCode</a><span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="265371">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#265269" title="=&gt; scala.collection.immutable.Set[Reifiers.this.Symbol]">boundSyms</a> <span title="(elem: Reifiers.this.Symbol)Boolean">contains</span> <a href="#265371" title="Reifiers.this.Symbol">sym</a>

      /**
       * Generate tree of the form
       *
       *    { val $mr = scala.reflect.runtime.Mirror
       *      $local1 = new TypeSymbol(owner1, NoPosition, name1)
       *      ...
       *      $localN = new TermSymbol(ownerN, NoPositiion, nameN)
       *      $local1.setInfo(tpe1)
       *      ...
       *      $localN.setInfo(tpeN)
       *      $localN.setAnnotations(annotsN)
       *      rtree
       *    }
       *
       *  where
       *
       *   - `$localI` are free type symbols in the environment, as well as local symbols
       *      of refinement types.
       *   - `tpeI` are the info's of `symI`
       *   - `rtree` is code that generates `data` at runtime, maintaining all attributes.
       *   - `data` is typically a tree or a type.
       */
      <span class="keyword">def</span> <a title="(data: Any)Reifiers.this.Tree" id="265273">reifyTopLevel</a><span class="delimiter">(</span><a title="Any" id="265379">data</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Reifiers.this.Tree" id="265381">rtree</a> = <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#265379" title="Any">data</a><span class="delimiter">)</span>
        <a href="#13796" title="(stats: List[Reifiers.this.Tree], expr: Reifiers.this.Tree)Reifiers.this.Block">Block</a><span class="delimiter">(</span><a href="#265321" title="=&gt; Reifiers.this.ValDef">mirrorAlias</a> <a href="#265399" title="(x: Reifiers.this.Tree)List[Reifiers.this.Tree]">::</a> <a href="#265322" title="=&gt; List[Reifiers.this.Tree]">reifySymbolTableSetup</a>, <a href="#265381" title="Reifiers.this.Tree">rtree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Reifiers.this.Symbol)Boolean" id="265274">isLocatable</a><span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="265450">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#265450" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#265450" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Reifiers.this.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#265450" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46469" title="=&gt; Boolean">isTypeParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#265450" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46563" title="=&gt; Int">paramPos</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Reifiers.this.Symbol)Unit" id="265275">registerReifiableSymbol</a><span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="265458">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#265266" title="=&gt; scala.collection.mutable.HashMap[Reifiers.this.Symbol,Int]">symIndex</a> <span title="(key: Reifiers.this.Symbol)Boolean">contains</span> <a href="#265458" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#265458" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Reifiers.this.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46569" title="=&gt; Iterator[Reifiers.this.Symbol]">ownersIterator</a> <span title="(p: Reifiers.this.Symbol =&gt; Boolean)Option[Reifiers.this.Symbol]">find</span> <span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="265469">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#265274" title="(sym: Reifiers.this.Symbol)Boolean">isLocatable</a><span class="delimiter">(</span><a href="#265469" title="Reifiers.this.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(f: Reifiers.this.Symbol =&gt; Unit)Unit">foreach</span> <a href="#265275" title="(sym: Reifiers.this.Symbol)Unit">registerReifiableSymbol</a>
          <a href="#265266" title="(key: Reifiers.this.Symbol, value: Int)Unit">symIndex</a><span class="delimiter">(</span><a href="#265458" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span> = <a href="#265264" title="=&gt; scala.collection.mutable.ArrayBuffer[Reifiers.this.Symbol]">reifiableSyms</a>.<span title="=&gt; Int">length</span>
          <a href="#265264" title="=&gt; scala.collection.mutable.ArrayBuffer[Reifiers.this.Symbol]">reifiableSyms</a> <span title="(elem: Reifiers.this.Symbol)Reifier.this.reifiableSyms.type">+=</span> <a href="#265458" title="Reifiers.this.Symbol">sym</a>
        <span class="delimiter">}</span>

      // helper methods

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Reifiers.this.Symbol)Reifiers.this.TermName" id="265276">localName</a><span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="265489">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Names.scala.html#38409" title="Reifiers.this.TermName">TermName</a> =
        <a href="../../../reflect/internal/Names.scala.html#38394" title="(s: String)Reifiers.this.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;$local&quot;)">localPrefix</span> <span title="(x$1: Any)String">+</span> <a href="#265266" title="(key: Reifiers.this.Symbol)Int">symIndex</a><span class="delimiter">(</span><a href="#265489" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fname: String, args: Reifiers.this.Tree*)Reifiers.this.Tree" id="265277">call</a><span class="delimiter">(</span><a title="String" id="265532">fname</a>: <span title="String">String</span>, <a title="Reifiers.this.Tree*" id="265533">args</a>: <span title="Reifiers.this.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#13796" title="(fun: Reifiers.this.Tree, args: List[Reifiers.this.Tree])Reifiers.this.Apply">Apply</a><span class="delimiter">(</span><a href="#265319" title="(fullname: String)Reifiers.this.Tree">termPath</a><span class="delimiter">(</span><a href="#265532" title="String">fname</a><span class="delimiter">)</span>, <a href="#265533" title="Reifiers.this.Tree*">args</a>.<span title="=&gt; List[Reifiers.this.Tree]">toList</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)Reifiers.this.Tree" id="265278">mirrorSelect</a><span class="delimiter">(</span><a title="String" id="265559">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#265319" title="(fullname: String)Reifiers.this.Tree">termPath</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#39298" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: Reifiers.this.TermName)String">MIRROR_PREFIX</a> <span title="(x$1: Any)String">+</span> <a href="#265559" title="String">name</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: Reifiers.this.TermName, args: Reifiers.this.Tree*)Reifiers.this.Tree" id="265279">mirrorCall</a><span class="delimiter">(</span><a title="Reifiers.this.TermName" id="265597">name</a>: <a href="../../../reflect/internal/Names.scala.html#38409" title="Reifiers.this.TermName">TermName</a>, <a title="Reifiers.this.Tree*" id="265598">args</a>: <span title="Reifiers.this.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#265277" title="(fname: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">call</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58927" title="=&gt; Reifiers.this.nme.NameType">MIRROR_PREFIX</a> <a href="../../../reflect/internal/Names.scala.html#52174" title="(suffix: Reifiers.this.Name)Reifiers.this.nme.MIRROR_PREFIX.ThisNameType">append</a> <a href="#265597" title="Reifiers.this.TermName">name</a><span class="delimiter">)</span>, <a href="#265598" title="Reifiers.this.Tree*">args</a>: _*<span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree" id="265280">mirrorCall</a><span class="delimiter">(</span><a title="String" id="265605">name</a>: <span title="String">String</span>, <a title="Reifiers.this.Tree*" id="265606">args</a>: <span title="Reifiers.this.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#265277" title="(fname: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">call</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#39298" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: Reifiers.this.TermName)String">MIRROR_PREFIX</a> <span title="(x$1: Any)String">+</span> <a href="#265605" title="String">name</a>, <a href="#265606" title="Reifiers.this.Tree*">args</a>: _*<span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: Product, args: Reifiers.this.Tree*)Reifiers.this.Tree" id="265281">mirrorFactoryCall</a><span class="delimiter">(</span><a title="Product" id="265644">value</a>: <span title="Product">Product</span>, <a title="Reifiers.this.Tree*" id="265645">args</a>: <span title="Reifiers.this.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#265282" title="(prefix: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorFactoryCall</a><span class="delimiter">(</span><a href="#265644" title="Product">value</a>.<span title="=&gt; String">productPrefix</span>, <a href="#265645" title="Reifiers.this.Tree*">args</a>: _*<span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(prefix: String, args: Reifiers.this.Tree*)Reifiers.this.Tree" id="265282">mirrorFactoryCall</a><span class="delimiter">(</span><a title="String" id="265651">prefix</a>: <span title="String">String</span>, <a title="Reifiers.this.Tree*" id="265652">args</a>: <span title="Reifiers.this.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><a href="#265651" title="String">prefix</a>, <a href="#265652" title="Reifiers.this.Tree*">args</a>: _*<span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree" id="265283">scalaFactoryCall</a><span class="delimiter">(</span><a title="String" id="265662">name</a>: <span title="String">String</span>, <a title="Reifiers.this.Tree*" id="265663">args</a>: <span title="Reifiers.this.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#265277" title="(fname: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">call</a><span class="delimiter">(</span><span title="String(&quot;scala.&quot;)">scalaPrefix</span> <span title="(x$1: Any)String">+</span> <a href="#265662" title="String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.apply&quot;)" class="string">&quot;.apply&quot;</span>, <a href="#265663" title="Reifiers.this.Tree*">args</a>: _*<span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(args: List[Reifiers.this.Tree])Reifiers.this.Tree" id="265284">mkList</a><span class="delimiter">(</span><a title="List[Reifiers.this.Tree]" id="265665">args</a>: <span title="List[Reifiers.this.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#265283" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">scalaFactoryCall</a><span class="delimiter">(</span><span title="String(&quot;collection.immutable.List&quot;)" class="string">&quot;collection.immutable.List&quot;</span>, <a href="#265665" title="List[Reifiers.this.Tree]">args</a>: _*<span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(m: Reifiers.this.Modifiers)Reifiers.this.Tree" id="265285">reifyModifiers</a><span class="delimiter">(</span><a title="Reifiers.this.Modifiers" id="265667">m</a>: <a href="../../../reflect/internal/Trees.scala.html#39351" title="Reifiers.this.Modifiers">Modifiers</a><span class="delimiter">)</span> =
        <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;modifiersFromInternalFlags&quot;)" class="string">&quot;modifiersFromInternalFlags&quot;</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#265667" title="Reifiers.this.Modifiers">m</a>.<a href="../../../reflect/internal/Trees.scala.html#85188" title="=&gt; Long">flags</a><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#265667" title="Reifiers.this.Modifiers">m</a>.<a href="../../../reflect/internal/Trees.scala.html#85190" title="=&gt; Reifiers.this.Name">privateWithin</a><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#265667" title="Reifiers.this.Modifiers">m</a>.<a href="../../../reflect/internal/Trees.scala.html#85192" title="=&gt; List[Reifiers.this.Tree]">annotations</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String, args: Any*)Reifiers.this.Tree" id="265286">reifyAggregate</a><span class="delimiter">(</span><a title="String" id="265676">name</a>: <span title="String">String</span>, <a title="Any*" id="265677">args</a>: <span title="Any*">Any</span>*<span class="delimiter">)</span> =
        <a href="#265283" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">scalaFactoryCall</a><span class="delimiter">(</span><a href="#265676" title="String">name</a>, <span class="delimiter">(</span><a href="#265677" title="Any*">args</a> <span title="(f: Any =&gt; Reifiers.this.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Any],Reifiers.this.Tree,Seq[Reifiers.this.Tree]])Seq[Reifiers.this.Tree]">map</span> <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">)</span>.<span title="=&gt; List[Reifiers.this.Tree]">toList</span>: _*<span class="delimiter">)</span>

      /**
       * Reify a list
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(xs: List[Any])Reifiers.this.Tree" id="265287">reifyList</a><span class="delimiter">(</span><a title="List[Any]" id="265725">xs</a>: <span title="List[Any]">List</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#265284" title="(args: List[Reifiers.this.Tree])Reifiers.this.Tree">mkList</a><span class="delimiter">(</span><a href="#265725" title="List[Any]">xs</a> <span title="(f: Any =&gt; Reifiers.this.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Any],Reifiers.this.Tree,List[Reifiers.this.Tree]])List[Reifiers.this.Tree]">map</span> <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">)</span>

      /**
       * Reify an array
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(xs: Array[_])Reifiers.this.Tree" id="265288">reifyArray</a><span class="delimiter">(</span><a title="Array[_]" id="265782">xs</a>: <span title="Array[_]">Array</span><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        // @xeno.by: doesn't work for Array(LiteralAnnotArg(...))
        // because we cannot generate manifests for path-dependent types
        <a href="#265283" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">scalaFactoryCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#39298" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: Reifiers.this.TermName)String">Array</a>, <a href="#265782" title="(xs: Array[_$1])scala.collection.mutable.ArrayOps[_$1]">xs</a> <a href="#13796" title="(f: _$1 =&gt; Reifiers.this.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[Array[_$1],Reifiers.this.Tree,Array[Reifiers.this.Tree]])Array[Reifiers.this.Tree]">map</a> <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a>: _*<span class="delimiter">)</span>

      /** Reify a name */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: Reifiers.this.Name)Reifiers.this.Tree" id="265289">reifyName</a><span class="delimiter">(</span><a title="Reifiers.this.Name" id="266466">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Reifiers.this.Name">Name</a><span class="delimiter">)</span> =
        <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#266466" title="Reifiers.this.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52125" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <span title="String(&quot;newTypeName&quot;)" class="string">&quot;newTypeName&quot;</span> <span class="keyword">else</span> <span title="String(&quot;newTermName&quot;)" class="string">&quot;newTermName&quot;</span>, <a href="#13796" title="(value: Reifiers.this.Constant)Reifiers.this.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)Reifiers.this.Constant">Constant</a><span class="delimiter">(</span><a href="#266466" title="Reifiers.this.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Reifiers.this.Symbol)Boolean" id="265290">isFree</a><span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="266477">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#265266" title="=&gt; scala.collection.mutable.HashMap[Reifiers.this.Symbol,Int]">symIndex</a> <span title="(key: Reifiers.this.Symbol)Boolean">contains</span> <a href="#266477" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span>

      /**
       * Reify a reference to a symbol
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree" id="265291">reifySymRef</a><span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="266480">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <a href="#265266" title="=&gt; scala.collection.mutable.HashMap[Reifiers.this.Symbol,Int]">symIndex</a> <span title="(key: Reifiers.this.Symbol)Option[Int]">get</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a> <span title="Reifiers.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Reifiers.this.Ident">Some</span><span class="delimiter">(</span><a title="Int" id="266486">idx</a><span class="delimiter">)</span> =&gt;
            <a href="#13796" title="(name: Reifiers.this.Name)Reifiers.this.Ident">Ident</a><span class="delimiter">(</span><a href="#265276" title="(sym: Reifiers.this.Symbol)Reifiers.this.TermName">localName</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Reifiers.this.Tree">None</span> =&gt;
            <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Reifiers.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
              <a href="#265278" title="(name: String)Reifiers.this.Tree">mirrorSelect</a><span class="delimiter">(</span><span title="String(&quot;NoSymbol&quot;)" class="string">&quot;NoSymbol&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44948" title="=&gt; Reifiers.this.Symbol">RootPackage</a><span class="delimiter">)</span>
              <a href="#265278" title="(name: String)Reifiers.this.Tree">mirrorSelect</a><span class="delimiter">(</span><span title="String(&quot;definitions.RootPackage&quot;)" class="string">&quot;definitions.RootPackage&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44950" title="=&gt; Reifiers.this.ModuleClassSymbol">RootClass</a><span class="delimiter">)</span>
              <a href="#265278" title="(name: String)Reifiers.this.Tree">mirrorSelect</a><span class="delimiter">(</span><span title="String(&quot;definitions.RootClass&quot;)" class="string">&quot;definitions.RootClass&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44952" title="=&gt; Reifiers.this.ModuleSymbol">EmptyPackage</a><span class="delimiter">)</span>
              <a href="#265278" title="(name: String)Reifiers.this.Tree">mirrorSelect</a><span class="delimiter">(</span><span title="String(&quot;definitions.EmptyPackage&quot;)" class="string">&quot;definitions.EmptyPackage&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span>
              <a href="#13796" title="(qualifier: Reifiers.this.Tree, name: String)Reifiers.this.Select">Select</a><span class="delimiter">(</span><a href="#265291" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46672" title="=&gt; Reifiers.this.Symbol">sourceModule</a><span class="delimiter">)</span>, <span title="String(&quot;moduleClass&quot;)" class="string">&quot;moduleClass&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46545" title="=&gt; Boolean">isStatic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
              <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;staticClass&quot;)" class="string">&quot;staticClass&quot;</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46585" title="=&gt; String">fullName</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46545" title="=&gt; Boolean">isStatic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>
              <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;staticModule&quot;)" class="string">&quot;staticModule&quot;</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46585" title="=&gt; String">fullName</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#265274" title="(sym: Reifiers.this.Symbol)Boolean">isLocatable</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46469" title="=&gt; Boolean">isTypeParameter</a><span class="delimiter">)</span>
                <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;selectParam&quot;)" class="string">&quot;selectParam&quot;</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Reifiers.this.Symbol">owner</a><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46563" title="=&gt; Int">paramPos</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;locatable: &quot;)" class="string">&quot;locatable: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Reifiers.this.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46469" title="=&gt; Boolean">isTypeParameter</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Reifiers.this.Tree" id="266564">rowner</a> = <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Reifiers.this.Symbol">owner</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Reifiers.this.Tree" id="266565">rname</a> = <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Reifiers.this.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>
                <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46444" title="=&gt; Boolean">isType</a><span class="delimiter">)</span>
                  <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;selectType&quot;)" class="string">&quot;selectType&quot;</span>, <a href="#266564" title="Reifiers.this.Tree">rowner</a>, <a href="#266565" title="Reifiers.this.Tree">rname</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Reifiers.this.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Reifiers.this.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Reifiers.this.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41537" title="(name: Reifiers.this.Name)Reifiers.this.Symbol">decl</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Reifiers.this.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46465" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Int" id="266577">index</a> = <a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Reifiers.this.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Reifiers.this.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41537" title="(name: Reifiers.this.Name)Reifiers.this.Symbol">decl</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Reifiers.this.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46653" title="=&gt; List[Reifiers.this.Symbol]">alternatives</a> <span title="(elem: Reifiers.this.Symbol)Int">indexOf</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a>
                  <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#266577" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span>, <a href="#266480" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span>
                  <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;selectOverloadedMethod&quot;)" class="string">&quot;selectOverloadedMethod&quot;</span>, <a href="#266564" title="Reifiers.this.Tree">rowner</a>, <a href="#266565" title="Reifiers.this.Tree">rname</a>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266577" title="Int">index</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span>
                  <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;selectTerm&quot;)" class="string">&quot;selectTerm&quot;</span>, <a href="#266564" title="Reifiers.this.Tree">rowner</a>, <a href="#266565" title="Reifiers.this.Tree">rname</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Free: &quot;)" class="string">&quot;Free: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Reifiers.this.lambdaLift.global.Type" id="266613">symtpe</a> = <a href="../Global.scala.html#186251" title="object Reifiers.this.lambdaLift">lambdaLift</a>.<a href="../transform/LambdaLift.scala.html#242870" title="(sym: Reifiers.this.lambdaLift.global.Symbol, tpe: Reifiers.this.lambdaLift.global.Type, erasedTypes: Boolean)Reifiers.this.lambdaLift.global.Type">boxIfCaptured</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>, <a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Reifiers.this.Type">tpe</a>, erasedTypes = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span class="keyword">def</span> <a title="(arg: Reifiers.this.Ident)Reifiers.this.Tree" id="266614">markIfCaptured</a><span class="delimiter">(</span><a title="Reifiers.this.Ident" id="266671">arg</a>: <span title="Reifiers.this.Ident">Ident</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
                  <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46482" title="=&gt; Boolean">isCapturedVariable</a><span class="delimiter">)</span> <a href="../MacroContext.scala.html#186518" title="(id: Reifiers.this.Ident)Reifiers.this.Tree">referenceCapturedVariable</a><span class="delimiter">(</span><a href="#266671" title="Reifiers.this.Ident">arg</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#266671" title="Reifiers.this.Ident">arg</a>
                <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;newFreeVar&quot;)" class="string">&quot;newFreeVar&quot;</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Reifiers.this.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266613" title="Reifiers.this.lambdaLift.global.Type">symtpe</a><span class="delimiter">)</span>, <a href="#266614" title="(arg: Reifiers.this.Ident)Reifiers.this.Tree">markIfCaptured</a><span class="delimiter">(</span><a href="#13796" title="(sym: Reifiers.this.Symbol)Reifiers.this.Ident">Ident</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Late local: &quot;)" class="string">&quot;Late local: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#266480" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span>
                <a href="#265275" title="(sym: Reifiers.this.Symbol)Unit">registerReifiableSymbol</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span>
                <a href="#265291" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#266480" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /**
       * reify the creation of a symbol
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree" id="265292">reifySymbolDef</a><span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="266695">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;reify sym def &quot;)" class="string">&quot;reify sym def &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#266695" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span>

        <a href="#13796" title="(mods: Reifiers.this.Modifiers, name: Reifiers.this.TermName, tpt: Reifiers.this.Tree, rhs: Reifiers.this.Tree)Reifiers.this.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39357" title="=&gt; Reifiers.this.Modifiers">NoMods</a>, <a href="#265276" title="(sym: Reifiers.this.Symbol)Reifiers.this.TermName">localName</a><span class="delimiter">(</span><a href="#266695" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span>, <a href="#13796" title="()Reifiers.this.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>,
          <a href="#13796" title="(fun: Reifiers.this.Tree, args: List[Reifiers.this.Tree])Reifiers.this.Apply">Apply</a><span class="delimiter">(</span>
            <a href="#13796" title="(qualifier: Reifiers.this.Tree, name: String)Reifiers.this.Select">Select</a><span class="delimiter">(</span><a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266695" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Reifiers.this.Symbol">owner</a><span class="delimiter">)</span>, <span title="String(&quot;newNestedSymbol&quot;)" class="string">&quot;newNestedSymbol&quot;</span><span class="delimiter">)</span>,
            <span title="(xs: Reifiers.this.Tree*)List[Reifiers.this.Tree]">List</span><span class="delimiter">(</span><a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266695" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Reifiers.this.Name">name</a><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266695" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Reifiers.this.Position">pos</a><span class="delimiter">)</span>, <a href="#13796" title="(value: Reifiers.this.Constant)Reifiers.this.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)Reifiers.this.Constant">Constant</a><span class="delimiter">(</span><a href="#266695" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46586" title="=&gt; Long">flags</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /**
       * Generate code to add type and annotation info to a reified symbol
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree" id="265293">fillInSymbol</a><span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="266764">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Reifiers.this.Apply" id="266766">rset</a> = <a href="#13796" title="(fun: Reifiers.this.Tree, args: List[Reifiers.this.Tree])Reifiers.this.Apply">Apply</a><span class="delimiter">(</span><a href="#13796" title="(qualifier: Reifiers.this.Tree, name: Reifiers.this.Name)Reifiers.this.Select">Select</a><span class="delimiter">(</span><a href="#265291" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#266764" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59252" title="=&gt; Reifiers.this.nme.NameType">setTypeSignature</a><span class="delimiter">)</span>, <span title="(xs: Reifiers.this.Tree*)List[Reifiers.this.Tree]">List</span><span class="delimiter">(</span><a href="#265297" title="(tpe0: Reifiers.this.Type)Reifiers.this.Tree">reifyType</a><span class="delimiter">(</span><a href="#266764" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Reifiers.this.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#266764" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[Reifiers.this.AnnotationInfo]">annotations</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#266766" title="Reifiers.this.Apply">rset</a>
        <span class="keyword">else</span> <a href="#13796" title="(fun: Reifiers.this.Tree, args: List[Reifiers.this.Tree])Reifiers.this.Apply">Apply</a><span class="delimiter">(</span><a href="#13796" title="(qualifier: Reifiers.this.Tree, name: Reifiers.this.Name)Reifiers.this.Select">Select</a><span class="delimiter">(</span><a href="#266766" title="Reifiers.this.Apply">rset</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59246" title="=&gt; Reifiers.this.nme.NameType">setAnnotations</a><span class="delimiter">)</span>, <span title="(xs: Reifiers.this.Tree*)List[Reifiers.this.Tree]">List</span><span class="delimiter">(</span><a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#266764" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[Reifiers.this.AnnotationInfo]">annotations</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Reify a scope */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(scope: Reifiers.this.Scope)Reifiers.this.Tree" id="265294">reifyScope</a><span class="delimiter">(</span><a title="Reifiers.this.Scope" id="266862">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#39174" title="Reifiers.this.Scope">Scope</a><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <a href="#266862" title="Reifiers.this.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#60513" title="(p: Reifiers.this.Symbol =&gt; Unit)Unit">foreach</a> <a href="#265275" title="(sym: Reifiers.this.Symbol)Unit">registerReifiableSymbol</a>
        <a href="#265279" title="(name: Reifiers.this.TermName, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59212" title="=&gt; Reifiers.this.nme.NameType">newScopeWith</a>, <a href="#266862" title="Reifiers.this.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60510" title="=&gt; List[Reifiers.this.Symbol]">toList</a> <span title="(f: Reifiers.this.Symbol =&gt; Reifiers.this.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.Symbol],Reifiers.this.Tree,List[Reifiers.this.Tree]])List[Reifiers.this.Tree]">map</span> <a href="#265291" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">reifySymRef</a>: _*<span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Reify a list of symbols that need to be created */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(syms: List[Reifiers.this.Symbol])Reifiers.this.Tree" id="265295">reifySymbols</a><span class="delimiter">(</span><a title="List[Reifiers.this.Symbol]" id="266942">syms</a>: <span title="List[Reifiers.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <a href="#266942" title="List[Reifiers.this.Symbol]">syms</a> <span title="(f: Reifiers.this.Symbol =&gt; Unit)Unit">foreach</span> <a href="#265275" title="(sym: Reifiers.this.Symbol)Unit">registerReifiableSymbol</a>
        <a href="#265284" title="(args: List[Reifiers.this.Tree])Reifiers.this.Tree">mkList</a><span class="delimiter">(</span><a href="#266942" title="List[Reifiers.this.Symbol]">syms</a> <span title="(f: Reifiers.this.Symbol =&gt; Reifiers.this.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.Symbol],Reifiers.this.Tree,List[Reifiers.this.Tree]])List[Reifiers.this.Tree]">map</span> <a href="#265291" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">reifySymRef</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Reify a type that defines some symbols */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: Product, bound: List[Reifiers.this.Symbol], underlying: Reifiers.this.Type)Reifiers.this.Tree" id="265296">reifyTypeBinder</a><span class="delimiter">(</span><a title="Product" id="267009">value</a>: <span title="Product">Product</span>, <a title="List[Reifiers.this.Symbol]" id="267010">bound</a>: <span title="List[Reifiers.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Reifiers.this.Type" id="267011">underlying</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Reifiers.this.Type">Type</a><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#265281" title="(value: Product, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorFactoryCall</a><span class="delimiter">(</span><a href="#267009" title="Product">value</a>, <a href="#265295" title="(syms: List[Reifiers.this.Symbol])Reifiers.this.Tree">reifySymbols</a><span class="delimiter">(</span><a href="#267010" title="List[Reifiers.this.Symbol]">bound</a><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#267011" title="Reifiers.this.Type">underlying</a><span class="delimiter">)</span><span class="delimiter">)</span>

      /** Reify a type */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe0: Reifiers.this.Type)Reifiers.this.Tree" id="265297">reifyType</a><span class="delimiter">(</span><a title="Reifiers.this.Type" id="266805">tpe0</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Reifiers.this.Type">Type</a><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Reifiers.this.Type" id="267023">tpe</a> = <a href="#266805" title="Reifiers.this.Type">tpe0</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Reifiers.this.Type">normalize</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#267023" title="Reifiers.this.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <a href="#265327" title="(tpe: Reifiers.this.Type)Nothing">CannotReifyErroneousType</a><span class="delimiter">(</span><a href="#267023" title="Reifiers.this.Type">tpe</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265271" title="(tpe: Reifiers.this.Type)Boolean">definedInLiftedCode</a><span class="delimiter">(</span><a href="#267023" title="Reifiers.this.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#265330" title="(tpe: Reifiers.this.Type)Nothing">CannotReifyTypeInvolvingBoundType</a><span class="delimiter">(</span><a href="#267023" title="Reifiers.this.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Reifiers.this.Symbol" id="267024">tsym</a> = <a href="#267023" title="Reifiers.this.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Reifiers.this.Symbol">typeSymbol</a>
        <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#267024" title="Reifiers.this.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267023" title="Reifiers.this.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#267024" title="Reifiers.this.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46625" title="=&gt; Reifiers.this.Type">typeConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267024" title="Reifiers.this.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46545" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span>
          <a href="#13796" title="(qualifier: Reifiers.this.Tree, name: Reifiers.this.Name)Reifiers.this.Select">Select</a><span class="delimiter">(</span><a href="#265291" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#267023" title="Reifiers.this.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Reifiers.this.Symbol">typeSymbol</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59094" title="=&gt; Reifiers.this.nme.NameType">asTypeConstructor</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#267023" title="Reifiers.this.Type">tpe</a> <span title="Reifiers.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267082">t</a> @ <a href="../../../reflect/internal/Types.scala.html#38827" title="object Reifiers.this.NoType">NoType</a> =&gt;
            <a href="#265315" title="(x: Product)Reifiers.this.Tree">reifyMirrorObject</a><span class="delimiter">(</span><a href="#267082" title="object Reifiers.this.NoType">t</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267093">t</a> @ <a href="../../../reflect/internal/Types.scala.html#38829" title="object Reifiers.this.NoPrefix">NoPrefix</a> =&gt;
            <a href="#265315" title="(x: Product)Reifiers.this.Tree">reifyMirrorObject</a><span class="delimiter">(</span><a href="#267093" title="object Reifiers.this.NoPrefix">t</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267100">tpe</a> @ ThisType<span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="267102">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#267102" title="Reifiers.this.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267102" title="Reifiers.this.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46545" title="=&gt; Boolean">isStatic</a> =&gt;
            <a href="#265279" title="(name: Reifiers.this.TermName, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59258" title="=&gt; Reifiers.this.nme.NameType">thisModuleType</a>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#267102" title="Reifiers.this.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46585" title="=&gt; String">fullName</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267111">t</a> @ RefinedType<span class="delimiter">(</span><a title="List[Reifiers.this.Type]" id="267114">parents</a>, <a title="Reifiers.this.Scope" id="267115">decls</a><span class="delimiter">)</span> =&gt;
            <a href="#265275" title="(sym: Reifiers.this.Symbol)Unit">registerReifiableSymbol</a><span class="delimiter">(</span><a href="#267023" title="Reifiers.this.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Reifiers.this.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <a href="#265281" title="(value: Product, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorFactoryCall</a><span class="delimiter">(</span><a href="#267111" title="Reifiers.this.RefinedType">t</a>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#267114" title="List[Reifiers.this.Type]">parents</a><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#267115" title="Reifiers.this.Scope">decls</a><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#267111" title="Reifiers.this.RefinedType">t</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Reifiers.this.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267122">t</a> @ ClassInfoType<span class="delimiter">(</span><a title="List[Reifiers.this.Type]" id="267126">parents</a>, <a title="Reifiers.this.Scope" id="267127">decls</a>, <a title="Reifiers.this.Symbol" id="267128">clazz</a><span class="delimiter">)</span> =&gt;
            <a href="#265275" title="(sym: Reifiers.this.Symbol)Unit">registerReifiableSymbol</a><span class="delimiter">(</span><a href="#267128" title="Reifiers.this.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="#265281" title="(value: Product, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorFactoryCall</a><span class="delimiter">(</span><a href="#267122" title="Reifiers.this.ClassInfoType">t</a>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#267126" title="List[Reifiers.this.Type]">parents</a><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#267127" title="Reifiers.this.Scope">decls</a><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#267122" title="Reifiers.this.ClassInfoType">t</a>.<a href="../../../reflect/internal/Types.scala.html#70041" title="=&gt; Reifiers.this.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267135">t</a> @ ExistentialType<span class="delimiter">(</span><a title="List[Reifiers.this.Symbol]" id="267138">tparams</a>, <a title="Reifiers.this.Type" id="267139">underlying</a><span class="delimiter">)</span> =&gt;
            <a href="#265296" title="(value: Product, bound: List[Reifiers.this.Symbol], underlying: Reifiers.this.Type)Reifiers.this.Tree">reifyTypeBinder</a><span class="delimiter">(</span><a href="#267135" title="Reifiers.this.ExistentialType">t</a>, <a href="#267138" title="List[Reifiers.this.Symbol]">tparams</a>, <a href="#267139" title="Reifiers.this.Type">underlying</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267140">t</a> @ PolyType<span class="delimiter">(</span><a title="List[Reifiers.this.Symbol]" id="267143">tparams</a>, <a title="Reifiers.this.Type" id="267144">underlying</a><span class="delimiter">)</span> =&gt;
            <a href="#265296" title="(value: Product, bound: List[Reifiers.this.Symbol], underlying: Reifiers.this.Type)Reifiers.this.Tree">reifyTypeBinder</a><span class="delimiter">(</span><a href="#267140" title="Reifiers.this.PolyType">t</a>, <a href="#267143" title="List[Reifiers.this.Symbol]">tparams</a>, <a href="#267144" title="Reifiers.this.Type">underlying</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267145">t</a> @ MethodType<span class="delimiter">(</span><a title="List[Reifiers.this.Symbol]" id="267148">params</a>, <a title="Reifiers.this.Type" id="267149">restpe</a><span class="delimiter">)</span> =&gt;
            <a href="#265296" title="(value: Product, bound: List[Reifiers.this.Symbol], underlying: Reifiers.this.Type)Reifiers.this.Tree">reifyTypeBinder</a><span class="delimiter">(</span><a href="#267145" title="Reifiers.this.MethodType">t</a>, <a href="#267148" title="List[Reifiers.this.Symbol]">params</a>, <a href="#267149" title="Reifiers.this.Type">restpe</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267150">t</a> @ AnnotatedType<span class="delimiter">(</span><a title="List[Reifiers.this.AnnotationInfo]" id="267154">anns</a>, <a title="Reifiers.this.Type" id="267155">underlying</a>, <a title="Reifiers.this.Symbol" id="267156">selfsym</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Boolean" id="267157">saved1</a> = <a href="#265299" title="=&gt; Boolean">reifySymbols</a>
            <span class="keyword">val</span> <a title="Boolean" id="267158">saved2</a> = <a href="#265302" title="=&gt; Boolean">reifyTypes</a>

            <span class="keyword">try</span> <span class="delimiter">{</span>
              // one more quirk of reifying annotations
              //
              // when reifying AnnotatedTypes we need to reify all the types and symbols of inner ASTs
              // that's because a lot of logic expects post-typer trees to have non-null tpes
              //
              // Q: reified trees are pre-typer, so there's shouldn't be a problem.
              //    reflective typechecker will fill in missing symbols and types, right?
              // A: actually, no. annotation ASTs live inside AnnotatedTypes,
              //    and insides of the types is the place where typechecker doesn't look.
              <a href="#265299" title="(x$1: Boolean)Unit">reifySymbols</a> = <span title="Boolean(true)" class="keyword">true</span>
              <a href="#265302" title="(x$1: Boolean)Unit">reifyTypes</a> = <span title="Boolean(true)" class="keyword">true</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;reify AnnotatedType: &quot;)" class="string">&quot;reify AnnotatedType: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#267023" title="Reifiers.this.Type">tpe</a><span class="delimiter">)</span>
              <a href="#265311" title="(x: Any)Reifiers.this.Tree">reifyProductUnsafe</a><span class="delimiter">(</span><a href="#267023" title="Reifiers.this.Type">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
              <a href="#265299" title="(x$1: Boolean)Unit">reifySymbols</a> = <a href="#267157" title="Boolean">saved1</a>
              <a href="#265302" title="(x$1: Boolean)Unit">reifyTypes</a> = <a href="#267158" title="Boolean">saved2</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Reifiers.this.Tree">_</span> =&gt;
            <a href="#265311" title="(x: Any)Reifiers.this.Tree">reifyProductUnsafe</a><span class="delimiter">(</span><a href="#267023" title="Reifiers.this.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Boolean" id="265299">reifySymbols</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">var</span> <a title="Boolean" id="265302">reifyTypes</a> = <span title="Boolean(false)" class="keyword">false</span>

      /** Preprocess a tree before reification */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Reifiers.this.Tree)Reifiers.this.Tree" id="265304">trimTree</a><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267175">tree</a>: <span title="Reifiers.this.Tree">Tree</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(deff: Reifiers.this.Tree, stats: List[Reifiers.this.Tree])List[Reifiers.this.Tree]" id="267177">trimSyntheticCaseClassMembers</a><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267179">deff</a>: <span title="Reifiers.this.Tree">Tree</span>, <a title="List[Reifiers.this.Tree]" id="267180">stats</a>: <span title="List[Reifiers.this.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="List[Reifiers.this.Tree]" id="267181">stats1</a> = <a href="#267180" title="List[Reifiers.this.Tree]">stats</a> <span title="(p: Reifiers.this.Tree =&gt; Boolean)List[Reifiers.this.Tree]">filterNot</span> <span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267185">stat</a> =&gt; <a href="#267185" title="Reifiers.this.Tree">stat</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#267185" title="Reifiers.this.Tree">stat</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46537" title="=&gt; Boolean">isCaseAccessorMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;discarding case accessor method: &quot;)" class="string">&quot;discarding case accessor method: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#267185" title="Reifiers.this.Tree">stat</a><span class="delimiter">)</span>
            <a href="#267185" title="Reifiers.this.Tree">stat</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46537" title="=&gt; Boolean">isCaseAccessorMethod</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <a href="#267181" title="List[Reifiers.this.Tree]">stats1</a> = <a href="#267181" title="List[Reifiers.this.Tree]">stats1</a> <span title="(p: Reifiers.this.Tree =&gt; Boolean)List[Reifiers.this.Tree]">filterNot</span> <span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267197">memberDef</a> =&gt; <a href="#267197" title="Reifiers.this.Tree">memberDef</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Boolean" id="267198">isSynthetic</a> = <a href="#267197" title="Reifiers.this.Tree">memberDef</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#46784" title="=&gt; Boolean">isSynthetic</a>
            // @xeno.by: this doesn't work for local classes, e.g. for ones that are top-level to a quasiquote (see comments to companionClass)
            // that's why I replace the check with an assumption that all synthetic members are, in fact, generated of case classes
//            val isCaseMember = deff.symbol.isCaseClass || deff.symbol.companionClass.isCaseClass
            <span class="keyword">val</span> <a title="Boolean" id="267199">isCaseMember</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#267198" title="Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267199" title="Boolean">isCaseMember</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;discarding case class synthetic def: &quot;)" class="string">&quot;discarding case class synthetic def: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#267197" title="Reifiers.this.Tree">memberDef</a><span class="delimiter">)</span>
            <a href="#267198" title="Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267199" title="Boolean">isCaseMember</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <a href="#267181" title="List[Reifiers.this.Tree]">stats1</a> = <a href="#267181" title="List[Reifiers.this.Tree]">stats1</a> <span title="(f: Reifiers.this.Tree =&gt; Reifiers.this.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.Tree],Reifiers.this.Tree,List[Reifiers.this.Tree]])List[Reifiers.this.Tree]">map</span> <a href="#267221" title="Reifiers.this.Tree" class="delimiter">{</a>
            <span class="keyword">case</span> <a title="Reifiers.this.ValDef" id="267222">valdef</a> @ ValDef<span class="delimiter">(</span><a title="Reifiers.this.Modifiers" id="267228">mods</a>, <a title="Reifiers.this.TermName" id="267229">name</a>, <a title="Reifiers.this.Tree" id="267230">tpt</a>, <a title="Reifiers.this.Tree" id="267231">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#267222" title="Reifiers.this.ValDef">valdef</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#46789" title="=&gt; Boolean">isCaseAccessor</a> =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;resetting visibility of case accessor field: &quot;)" class="string">&quot;resetting visibility of case accessor field: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#267222" title="Reifiers.this.ValDef">valdef</a><span class="delimiter">)</span>
              <span class="keyword">val</span> Modifiers<a href="#267233" title="(Long, Reifiers.this.Name, List[Reifiers.this.Tree])" class="delimiter">(</a><a href="#267232" title="Long" id="267233">flags</a>, <a href="#267232" title="Reifiers.this.Name" id="267234">privateWithin</a>, <a href="#267232" title="List[Reifiers.this.Tree]" id="267235">annotations</a><span class="delimiter">)</span> = <a href="#267228" title="Reifiers.this.Modifiers">mods</a>
              <span class="keyword">val</span> <a title="Long" id="267236">flags1</a> = <a href="#267233" title="Long">flags</a> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span>Flags.<span title="Int(524288)">LOCAL</span> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span>Flags.<span title="Int(4)">PRIVATE</span>
              <span class="keyword">val</span> <a title="Reifiers.this.Modifiers" id="267237">mods1</a> = <a href="../../../reflect/internal/Trees.scala.html#126740" title="(flags: Long, privateWithin: Reifiers.this.Name, annotations: List[Reifiers.this.Tree])Reifiers.this.Modifiers">Modifiers</a><span class="delimiter">(</span><a href="#267236" title="Long">flags1</a>, <a href="#267234" title="Reifiers.this.Name">privateWithin</a>, <a href="#267235" title="List[Reifiers.this.Tree]">annotations</a><span class="delimiter">)</span>
              <a href="#13796" title="(mods: Reifiers.this.Modifiers, name: Reifiers.this.TermName, tpt: Reifiers.this.Tree, rhs: Reifiers.this.Tree)Reifiers.this.ValDef">ValDef</a><span class="delimiter">(</span><a href="#267237" title="Reifiers.this.Modifiers">mods1</a>, <a href="#267229" title="Reifiers.this.TermName">name</a>, <a href="#267230" title="Reifiers.this.Tree">tpt</a>, <a href="#267231" title="Reifiers.this.Tree">rhs</a><span class="delimiter">)</span>.<span title="(tree: Reifiers.this.Tree)Reifiers.this.ValDef">copyAttrs</span><span class="delimiter">(</span><a href="#267222" title="Reifiers.this.ValDef">valdef</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267317">stat</a> =&gt;
              <a href="#267317" title="Reifiers.this.Tree">stat</a>
          <span class="delimiter">}</span>
          <a href="#267181" title="List[Reifiers.this.Tree]">stats1</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(stats: List[Reifiers.this.Tree])List[Reifiers.this.Tree]" id="267178">trimSyntheticCaseClassCompanions</a><span class="delimiter">(</span><a title="List[Reifiers.this.Tree]" id="267345">stats</a>: <span title="List[Reifiers.this.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> =
          <a href="#267345" title="List[Reifiers.this.Tree]">stats</a> <span title="(that: scala.collection.GenSeq[Reifiers.this.Tree])List[Reifiers.this.Tree]">diff</span> <span class="delimiter">(</span><a href="#267345" title="List[Reifiers.this.Tree]">stats</a> <span title="(pf: PartialFunction[Reifiers.this.Tree,Reifiers.this.ModuleDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.Tree],Reifiers.this.ModuleDef,List[Reifiers.this.ModuleDef]])List[Reifiers.this.ModuleDef]">collect</span> <a href="#267365" title="Reifiers.this.ModuleDef" class="delimiter">{</a> <span class="keyword">case</span> <a title="Reifiers.this.ModuleDef" id="267366">moddef</a>: <span title="Reifiers.this.ModuleDef">ModuleDef</span> =&gt; <a href="#267366" title="Reifiers.this.ModuleDef">moddef</a> <span class="delimiter">}</span> <span title="(p: Reifiers.this.ModuleDef =&gt; Boolean)List[Reifiers.this.ModuleDef]">filter</span> <span class="delimiter">(</span><a title="Reifiers.this.ModuleDef" id="267403">moddef</a> =&gt; <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Boolean" id="267404">isSynthetic</a> = <a href="#267403" title="Reifiers.this.ModuleDef">moddef</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#46784" title="=&gt; Boolean">isSynthetic</a>
            // @xeno.by: this doesn't work for local classes, e.g. for ones that are top-level to a quasiquote (see comments to companionClass)
            // that's why I replace the check with an assumption that all synthetic modules are, in fact, companions of case classes
//            val isCaseCompanion = moddef.symbol.companionClass.isCaseClass
            <span class="keyword">val</span> <a title="Boolean" id="267405">isCaseCompanion</a> = <span title="Boolean(true)" class="keyword">true</span>
            // @xeno.by: we also have to do this ugly hack for the very same reason described above
            // normally this sort of stuff is performed in reifyTree, which binds related symbols, however, local companions will be out of its reach
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;boundSym: &quot;)" class="string">&quot;boundSym: &quot;</span><span title="(x$1: Any)String">+</span>  <a href="#267403" title="Reifiers.this.ModuleDef">moddef</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span><span class="delimiter">)</span>
            <a href="#265269" title="(x$1: scala.collection.immutable.Set[Reifiers.this.Symbol])Unit">boundSyms</a> <span title="(elem: Reifiers.this.Symbol)scala.collection.immutable.Set[Reifiers.this.Symbol]">+=</span> <a href="#267403" title="Reifiers.this.ModuleDef">moddef</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#267404" title="Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267405" title="Boolean">isCaseCompanion</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;discarding synthetic case class companion: &quot;)" class="string">&quot;discarding synthetic case class companion: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#267403" title="Reifiers.this.ModuleDef">moddef</a><span class="delimiter">)</span>
            <a href="#267404" title="Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267405" title="Boolean">isCaseCompanion</a>
          <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <a href="#267175" title="Reifiers.this.Tree">tree</a> <span title="Reifiers.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267429">tree</a> <span class="keyword">if</span> <a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Reifiers.this.Tree)Reifiers.this.TreeOps">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#58440" title="=&gt; Boolean">isErroneous</a> =&gt;
            <a href="#267429" title="Reifiers.this.Tree">tree</a>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267432">ta</a> @ TypeApply<span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267435">hk</a>, <a title="List[Reifiers.this.Tree]" id="267436">ts</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">def</span> <a title="(tt: Reifiers.this.TypeTree)Boolean" id="267437">isErased</a><span class="delimiter">(</span><a title="Reifiers.this.TypeTree" id="267439">tt</a>: <span title="Reifiers.this.TypeTree">TypeTree</span><span class="delimiter">)</span> = <a href="#267439" title="Reifiers.this.TypeTree">tt</a>.<span title="=&gt; Reifiers.this.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#265271" title="(tpe: Reifiers.this.Type)Boolean">definedInLiftedCode</a><span class="delimiter">(</span><a href="#267439" title="Reifiers.this.TypeTree">tt</a>.<span title="=&gt; Reifiers.this.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267439" title="Reifiers.this.TypeTree">tt</a>.<span title="=&gt; Reifiers.this.Tree">original</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>
            <span class="keyword">val</span> <a title="Boolean" id="267438">discard</a> = <a href="#267436" title="List[Reifiers.this.Tree]">ts</a> <span title="(pf: PartialFunction[Reifiers.this.Tree,Reifiers.this.TypeTree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.Tree],Reifiers.this.TypeTree,List[Reifiers.this.TypeTree]])List[Reifiers.this.TypeTree]">collect</span> <a href="#267468" title="Reifiers.this.TypeTree" class="delimiter">{</a> <span class="keyword">case</span> <a title="Reifiers.this.TypeTree" id="267469">tt</a>: <span title="Reifiers.this.TypeTree">TypeTree</span> =&gt; <a href="#267469" title="Reifiers.this.TypeTree">tt</a> <span class="delimiter">}</span> <span title="(p: Reifiers.this.TypeTree =&gt; Boolean)Boolean">exists</span> <a href="#267437" title="(tt: Reifiers.this.TypeTree)Boolean">isErased</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267438" title="Boolean">discard</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;discarding TypeApply: &quot;)" class="string">&quot;discarding TypeApply: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#267175" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>
            <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#267438" title="Boolean">discard</a><span class="delimiter">)</span> <a href="#267435" title="Reifiers.this.Tree">hk</a> <span class="keyword">else</span> <a href="#267432" title="Reifiers.this.TypeApply">ta</a>
          <span class="keyword">case</span> <a title="Reifiers.this.ClassDef" id="267513">classDef</a> @ ClassDef<span class="delimiter">(</span><a title="Reifiers.this.Modifiers" id="267527">mods</a>, <a title="Reifiers.this.TypeName" id="267528">name</a>, <a title="List[Reifiers.this.TypeDef]" id="267529">params</a>, <a title="Reifiers.this.Template" id="267530">impl</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> Template<a href="#267532" title="(List[Reifiers.this.Tree], Reifiers.this.ValDef, List[Reifiers.this.Tree])" class="delimiter">(</a><a href="#267531" title="List[Reifiers.this.Tree]" id="267532">parents</a>, <a href="#267531" title="Reifiers.this.ValDef" id="267533">self</a>, <a href="#267531" title="List[Reifiers.this.Tree]" id="267534">body</a><span class="delimiter">)</span> = <a href="#267530" title="Reifiers.this.Template">impl</a>
            <span class="keyword">val</span> <a title="List[Reifiers.this.Tree]" id="267535">body1</a> = <a href="#267177" title="(deff: Reifiers.this.Tree, stats: List[Reifiers.this.Tree])List[Reifiers.this.Tree]">trimSyntheticCaseClassMembers</a><span class="delimiter">(</span><a href="#267513" title="Reifiers.this.ClassDef">classDef</a>, <a href="#267534" title="List[Reifiers.this.Tree]">body</a><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="Reifiers.this.Template" id="267536">impl1</a> = <a href="#13796" title="(parents: List[Reifiers.this.Tree], self: Reifiers.this.ValDef, body: List[Reifiers.this.Tree])Reifiers.this.Template">Template</a><span class="delimiter">(</span><a href="#267532" title="List[Reifiers.this.Tree]">parents</a>, <a href="#267533" title="Reifiers.this.ValDef">self</a>, <a href="#267535" title="List[Reifiers.this.Tree]">body1</a><span class="delimiter">)</span>.<span title="(tree: Reifiers.this.Tree)Reifiers.this.Template">copyAttrs</span><span class="delimiter">(</span><a href="#267530" title="Reifiers.this.Template">impl</a><span class="delimiter">)</span>
            <a href="#13796" title="(mods: Reifiers.this.Modifiers, name: Reifiers.this.TypeName, tparams: List[Reifiers.this.TypeDef], impl: Reifiers.this.Template)Reifiers.this.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#267527" title="Reifiers.this.Modifiers">mods</a>, <a href="#267528" title="Reifiers.this.TypeName">name</a>, <a href="#267529" title="List[Reifiers.this.TypeDef]">params</a>, <a href="#267536" title="Reifiers.this.Template">impl1</a><span class="delimiter">)</span>.<span title="(tree: Reifiers.this.Tree)Reifiers.this.ClassDef">copyAttrs</span><span class="delimiter">(</span><a href="#267513" title="Reifiers.this.ClassDef">classDef</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.ModuleDef" id="267602">moduledef</a> @ ModuleDef<span class="delimiter">(</span><a title="Reifiers.this.Modifiers" id="267609">mods</a>, <a title="Reifiers.this.TermName" id="267610">name</a>, <a title="Reifiers.this.Template" id="267611">impl</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> Template<a href="#267613" title="(List[Reifiers.this.Tree], Reifiers.this.ValDef, List[Reifiers.this.Tree])" class="delimiter">(</a><a href="#267612" title="List[Reifiers.this.Tree]" id="267613">parents</a>, <a href="#267612" title="Reifiers.this.ValDef" id="267614">self</a>, <a href="#267612" title="List[Reifiers.this.Tree]" id="267615">body</a><span class="delimiter">)</span> = <a href="#267611" title="Reifiers.this.Template">impl</a>
            <span class="keyword">val</span> <a title="List[Reifiers.this.Tree]" id="267616">body1</a> = <a href="#267177" title="(deff: Reifiers.this.Tree, stats: List[Reifiers.this.Tree])List[Reifiers.this.Tree]">trimSyntheticCaseClassMembers</a><span class="delimiter">(</span><a href="#267602" title="Reifiers.this.ModuleDef">moduledef</a>, <a href="#267615" title="List[Reifiers.this.Tree]">body</a><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="Reifiers.this.Template" id="267617">impl1</a> = <a href="#13796" title="(parents: List[Reifiers.this.Tree], self: Reifiers.this.ValDef, body: List[Reifiers.this.Tree])Reifiers.this.Template">Template</a><span class="delimiter">(</span><a href="#267613" title="List[Reifiers.this.Tree]">parents</a>, <a href="#267614" title="Reifiers.this.ValDef">self</a>, <a href="#267616" title="List[Reifiers.this.Tree]">body1</a><span class="delimiter">)</span>.<span title="(tree: Reifiers.this.Tree)Reifiers.this.Template">copyAttrs</span><span class="delimiter">(</span><a href="#267611" title="Reifiers.this.Template">impl</a><span class="delimiter">)</span>
            <a href="#13796" title="(mods: Reifiers.this.Modifiers, name: Reifiers.this.TermName, impl: Reifiers.this.Template)Reifiers.this.ModuleDef">ModuleDef</a><span class="delimiter">(</span><a href="#267609" title="Reifiers.this.Modifiers">mods</a>, <a href="#267610" title="Reifiers.this.TermName">name</a>, <a href="#267617" title="Reifiers.this.Template">impl1</a><span class="delimiter">)</span>.<span title="(tree: Reifiers.this.Tree)Reifiers.this.ModuleDef">copyAttrs</span><span class="delimiter">(</span><a href="#267602" title="Reifiers.this.ModuleDef">moduledef</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Template" id="267666">template</a> @ Template<span class="delimiter">(</span><a title="List[Reifiers.this.Tree]" id="267671">parents</a>, <a title="Reifiers.this.ValDef" id="267672">self</a>, <a title="List[Reifiers.this.Tree]" id="267673">body</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="List[Reifiers.this.Tree]" id="267674">body1</a> = <a href="#267178" title="(stats: List[Reifiers.this.Tree])List[Reifiers.this.Tree]">trimSyntheticCaseClassCompanions</a><span class="delimiter">(</span><a href="#267673" title="List[Reifiers.this.Tree]">body</a><span class="delimiter">)</span>
            <a href="#13796" title="(parents: List[Reifiers.this.Tree], self: Reifiers.this.ValDef, body: List[Reifiers.this.Tree])Reifiers.this.Template">Template</a><span class="delimiter">(</span><a href="#267671" title="List[Reifiers.this.Tree]">parents</a>, <a href="#267672" title="Reifiers.this.ValDef">self</a>, <a href="#267674" title="List[Reifiers.this.Tree]">body1</a><span class="delimiter">)</span>.<span title="(tree: Reifiers.this.Tree)Reifiers.this.Template">copyAttrs</span><span class="delimiter">(</span><a href="#267666" title="Reifiers.this.Template">template</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Block" id="267691">block</a> @ Block<span class="delimiter">(</span><a title="List[Reifiers.this.Tree]" id="267695">stats</a>, <a title="Reifiers.this.Tree" id="267696">expr</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="List[Reifiers.this.Tree]" id="267697">stats1</a> = <a href="#267178" title="(stats: List[Reifiers.this.Tree])List[Reifiers.this.Tree]">trimSyntheticCaseClassCompanions</a><span class="delimiter">(</span><a href="#267695" title="List[Reifiers.this.Tree]">stats</a><span class="delimiter">)</span>
            <a href="#13796" title="(stats: List[Reifiers.this.Tree], expr: Reifiers.this.Tree)Reifiers.this.Block">Block</a><span class="delimiter">(</span><a href="#267697" title="List[Reifiers.this.Tree]">stats1</a>, <a href="#267696" title="Reifiers.this.Tree">expr</a><span class="delimiter">)</span>.<span title="(tree: Reifiers.this.Tree)Reifiers.this.Block">copyAttrs</span><span class="delimiter">(</span><a href="#267691" title="Reifiers.this.Block">block</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.ValDef" id="267721">valdef</a> @ ValDef<span class="delimiter">(</span><a title="Reifiers.this.Modifiers" id="267727">mods</a>, <a title="Reifiers.this.TermName" id="267728">name</a>, <a title="Reifiers.this.Tree" id="267729">tpt</a>, <a title="Reifiers.this.Tree" id="267730">rhs</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#267721" title="Reifiers.this.ValDef">valdef</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;dropping $lzy in lazy val\'s name: &quot;)" class="string">&quot;dropping $lzy in lazy val's name: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#267175" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="name.ThisNameType" id="267731">name1</a> = <span title="name.ThisNameType" class="keyword">if</span> <span class="delimiter">(</span><a href="#267728" title="Reifiers.this.TermName">name</a> <a href="../../../reflect/internal/Names.scala.html#52149" title="(suffix: Reifiers.this.Name)Boolean">endsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58921" title="=&gt; Reifiers.this.nme.NameType">LAZY_LOCAL</a><span class="delimiter">)</span> <a href="#267728" title="Reifiers.this.TermName">name</a> <a href="../../../reflect/internal/Names.scala.html#52160" title="(n: Int)name.ThisNameType">dropRight</a> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58921" title="=&gt; Reifiers.this.nme.NameType">LAZY_LOCAL</a>.<a href="../../../reflect/internal/Names.scala.html#52120" title="=&gt; Int">length</a> <span class="keyword">else</span> <a href="#267728" title="Reifiers.this.TermName">name</a>
            <a href="#13796" title="(mods: Reifiers.this.Modifiers, name: Reifiers.this.TermName, tpt: Reifiers.this.Tree, rhs: Reifiers.this.Tree)Reifiers.this.ValDef">ValDef</a><span class="delimiter">(</span><a href="#267727" title="Reifiers.this.Modifiers">mods</a>, <a href="#267731" title="name.ThisNameType">name1</a>, <a href="#267729" title="Reifiers.this.Tree">tpt</a>, <a href="#267730" title="Reifiers.this.Tree">rhs</a><span class="delimiter">)</span>.<span title="(tree: Reifiers.this.Tree)Reifiers.this.ValDef">copyAttrs</span><span class="delimiter">(</span><a href="#267721" title="Reifiers.this.ValDef">valdef</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Apply" id="267760">unapply</a> @ UnApply<span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267763">fun</a>, <a title="List[Reifiers.this.Tree]" id="267764">args</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">def</span> <a title="(tree: Reifiers.this.Tree)Reifiers.this.Tree" id="267765">extractExtractor</a><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267767">tree</a>: <span title="Reifiers.this.Tree">Tree</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
              <span class="keyword">val</span> Apply<a href="#267769" title="(Reifiers.this.Tree, List[Reifiers.this.Tree])" class="delimiter">(</a><a href="#267768" title="Reifiers.this.Tree" id="267769">fun</a>, <a href="#267768" title="List[Reifiers.this.Tree]" id="267770">args</a><span class="delimiter">)</span> = <a href="#267767" title="Reifiers.this.Tree">tree</a>
              <a href="#267770" title="List[Reifiers.this.Tree]">args</a> <span title="Reifiers.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="#267783" title="Reifiers.this.Tree">List</a><span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Reifiers.this.Name" id="267796">special</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#267796" title="Reifiers.this.Name">special</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58941" title="=&gt; Reifiers.this.nme.NameType">SELECTOR_DUMMY</a> =&gt;
                  <span class="keyword">val</span> Select<a href="#267802" title="(Reifiers.this.Tree, Reifiers.this.Name)" class="delimiter">(</a><a href="#267801" title="Reifiers.this.Tree" id="267802">extractor</a>, <a href="#267801" title="Reifiers.this.Name" id="267803">flavor</a><span class="delimiter">)</span> = <a href="#267769" title="Reifiers.this.Tree">fun</a>
                  <a href="../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#267803" title="Reifiers.this.Name">flavor</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59278" title="=&gt; Reifiers.this.nme.NameType">unapply</a> <span title="(x: Boolean)Boolean">||</span> <a href="#267803" title="Reifiers.this.Name">flavor</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59280" title="=&gt; Reifiers.this.nme.NameType">unapplySeq</a><span class="delimiter">)</span>
                  <a href="#267802" title="Reifiers.this.Tree">extractor</a>
                <span class="keyword">case</span> <span title="Reifiers.this.Tree">_</span> =&gt;
                  <a href="#267765" title="(tree: Reifiers.this.Tree)Reifiers.this.Tree">extractExtractor</a><span class="delimiter">(</span><a href="#267769" title="Reifiers.this.Tree">fun</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;unapplying unapply: &quot;)" class="string">&quot;unapplying unapply: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#267175" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Reifiers.this.Tree" id="267766">fun1</a> = <a href="#267765" title="(tree: Reifiers.this.Tree)Reifiers.this.Tree">extractExtractor</a><span class="delimiter">(</span><a href="#267763" title="Reifiers.this.Tree">fun</a><span class="delimiter">)</span>
            <a href="#13796" title="(fun: Reifiers.this.Tree, args: List[Reifiers.this.Tree])Reifiers.this.Apply">Apply</a><span class="delimiter">(</span><a href="#267766" title="Reifiers.this.Tree">fun1</a>, <a href="#267764" title="List[Reifiers.this.Tree]">args</a><span class="delimiter">)</span>.<span title="(tree: Reifiers.this.Tree)Reifiers.this.Apply">copyAttrs</span><span class="delimiter">(</span><a href="#267760" title="Reifiers.this.UnApply">unapply</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Reifiers.this.Tree">_</span> =&gt;
            <a href="#267175" title="Reifiers.this.Tree">tree</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Reify a tree */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree0: Reifiers.this.Tree)Reifiers.this.Tree" id="265305">reifyTree</a><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267852">tree0</a>: <span title="Reifiers.this.Tree">Tree</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Reifiers.this.Tree" id="267854">tree</a> = <a href="#265304" title="(tree: Reifiers.this.Tree)Reifiers.this.Tree">trimTree</a><span class="delimiter">(</span><a href="#267852" title="Reifiers.this.Tree">tree0</a><span class="delimiter">)</span>

        <span class="keyword">var</span> <a title="Reifiers.this.Tree" id="267855">rtree</a> = <a href="#267854" title="Reifiers.this.Tree">tree</a> <span title="Reifiers.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="267856">tree</a> <span class="keyword">if</span> <a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Reifiers.this.Tree)Reifiers.this.TreeOps">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#58440" title="=&gt; Boolean">isErroneous</a> =&gt;
            <a href="#265326" title="(tree: Reifiers.this.Tree)Nothing">CannotReifyErroneousTree</a><span class="delimiter">(</span><a href="#267856" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#13796" title="Reifiers.this.Tree">self</a>.<span title="object Reifiers.this.EmptyTree">EmptyTree</span> =&gt;
            <a href="#265315" title="(x: Product)Reifiers.this.Tree">reifyMirrorObject</a><span class="delimiter">(</span><a href="#13796" title="object Reifiers.this.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#13796" title="Reifiers.this.Tree">self</a>.<a href="../../../reflect/internal/Trees.scala.html#39365" title="object Reifiers.this.emptyValDef">emptyValDef</a> =&gt;
            <a href="#265278" title="(name: String)Reifiers.this.Tree">mirrorSelect</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#39298" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: Reifiers.this.TermName)String">emptyValDef</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Reifiers.this.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Reifiers.this.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#265269" title="=&gt; scala.collection.immutable.Set[Reifiers.this.Symbol]">boundSyms</a> <span title="(elem: Reifiers.this.Symbol)Boolean">contains</span> <a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span><span class="delimiter">)</span> =&gt;
            <a href="#265309" title="(tree: Reifiers.this.Tree)Reifiers.this.Tree">reifyFree</a><span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Reifiers.this.Tree">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Reifiers.this.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#265269" title="=&gt; scala.collection.immutable.Set[Reifiers.this.Symbol]">boundSyms</a> <span title="(elem: Reifiers.this.Symbol)Boolean">contains</span> <a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span><span class="delimiter">)</span> =&gt;
            <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46481" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Reifiers.this.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;captured variable: &quot;)" class="string">&quot;captured variable: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span><span class="delimiter">)</span>
              <a href="../MacroContext.scala.html#186517" title="(vble: Reifiers.this.Symbol)Unit">captureVariable</a><span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span><span class="delimiter">)</span> // Note order dependency: captureVariable needs to come before reifyTree here.
              <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;Select&quot;)" class="string">&quot;Select&quot;</span>, <a href="#265309" title="(tree: Reifiers.this.Tree)Reifiers.this.Tree">reifyFree</a><span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>, <a href="#265289" title="(name: Reifiers.this.Name)Reifiers.this.Tree">reifyName</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59122" title="=&gt; Reifiers.this.nme.NameType">elem</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#265309" title="(tree: Reifiers.this.Tree)Reifiers.this.Tree">reifyFree</a><span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267907">tt</a>: <span title="Reifiers.this.TypeTree">TypeTree</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#267907" title="Reifiers.this.TypeTree">tt</a>.<span title="=&gt; Reifiers.this.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> =&gt;
            <a href="#265306" title="(tt: Reifiers.this.TypeTree)Reifiers.this.Tree">reifyTypeTree</a><span class="delimiter">(</span><a href="#267907" title="Reifiers.this.TypeTree">tt</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Nothing">Literal</span><span class="delimiter">(</span><a title="Reifiers.this.Constant" id="267916">constant</a> @ Constant<span class="delimiter">(</span><a title="Reifiers.this.Type" id="267917">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Reifiers.this.Type">Type</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#265269" title="=&gt; scala.collection.immutable.Set[Reifiers.this.Symbol]">boundSyms</a> <span title="(p: Reifiers.this.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#267917" title="Reifiers.this.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41569" title="(sym: Reifiers.this.Symbol)Boolean">contains</a> <a href="#267925" title="Reifiers.this.Symbol">_</a><span class="delimiter">)</span> =&gt;
            <a href="#265328" title="(tree: Reifiers.this.Tree, tpe: Reifiers.this.Type)Nothing">CannotReifyClassOfBoundType</a><span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a>, <a href="#267917" title="Reifiers.this.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Nothing">Literal</span><span class="delimiter">(</span><a title="Reifiers.this.Constant" id="267939">constant</a> @ Constant<span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="267940">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#265269" title="=&gt; scala.collection.immutable.Set[Reifiers.this.Symbol]">boundSyms</a> <span title="(elem: Reifiers.this.Symbol)Boolean">contains</span> <a href="#267940" title="Reifiers.this.Symbol">sym</a> =&gt;
            <a href="#265329" title="(tree: Reifiers.this.Tree, tpe: Reifiers.this.Type)Nothing">CannotReifyClassOfBoundEnum</a><span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a>, <a href="#267939" title="Reifiers.this.Constant">constant</a>.<a href="../../../reflect/internal/Constants.scala.html#46274" title="=&gt; Reifiers.this.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="267955">tree</a> <span class="keyword">if</span> <a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;boundSym: %s of type %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>, <span class="delimiter">(</span><a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Iterator[Any]">productIterator</span>.<span title="=&gt; List[Any]">toList</span> <span title="(pf: PartialFunction[Any,Reifiers.this.TypeTree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Any],Reifiers.this.TypeTree,List[Reifiers.this.TypeTree]])List[Reifiers.this.TypeTree]">collect</span> <a href="#267980" title="Reifiers.this.TypeTree" class="delimiter">{</a> <span class="keyword">case</span> <a title="Reifiers.this.TypeTree" id="267981">tt</a>: <span title="Reifiers.this.TypeTree">TypeTree</span> =&gt; <a href="#267981" title="Reifiers.this.TypeTree">tt</a> <span class="delimiter">}</span> <span title="=&gt; Option[Reifiers.this.TypeTree]">headOption</span><span class="delimiter">)</span>.<span title="(default: =&gt; Reifiers.this.TypeTree)Reifiers.this.TypeTree">getOrElse</span><span class="delimiter">(</span><a href="#13796" title="(tp: Reifiers.this.Type)Reifiers.this.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#265269" title="(x$1: scala.collection.immutable.Set[Reifiers.this.Symbol])Unit">boundSyms</a> <span title="(elem: Reifiers.this.Symbol)scala.collection.immutable.Set[Reifiers.this.Symbol]">+=</span> <a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>

            <a href="#267956" title="(related: Reifiers.this.Symbol, name: String)Unit">bindRelatedSymbol</a><span class="delimiter">(</span><a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46672" title="=&gt; Reifiers.this.Symbol">sourceModule</a>, <span title="String(&quot;sourceModule&quot;)" class="string">&quot;sourceModule&quot;</span><span class="delimiter">)</span>
            <a href="#267956" title="(related: Reifiers.this.Symbol, name: String)Unit">bindRelatedSymbol</a><span class="delimiter">(</span><a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; Reifiers.this.Symbol">moduleClass</a>, <span title="String(&quot;moduleClass&quot;)" class="string">&quot;moduleClass&quot;</span><span class="delimiter">)</span>
            <a href="#267956" title="(related: Reifiers.this.Symbol, name: String)Unit">bindRelatedSymbol</a><span class="delimiter">(</span><a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46691" title="=&gt; Reifiers.this.Symbol">companionClass</a>, <span title="String(&quot;companionClass&quot;)" class="string">&quot;companionClass&quot;</span><span class="delimiter">)</span>
            <a href="#267956" title="(related: Reifiers.this.Symbol, name: String)Unit">bindRelatedSymbol</a><span class="delimiter">(</span><a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46693" title="=&gt; Reifiers.this.Symbol">companionModule</a>, <span title="String(&quot;companionModule&quot;)" class="string">&quot;companionModule&quot;</span><span class="delimiter">)</span>
            <span title="(x: Reifiers.this.Symbol)Some[Reifiers.this.Symbol]">Some</span><span class="delimiter">(</span><a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span><span class="delimiter">)</span> <span title="(pf: PartialFunction[Reifiers.this.Symbol,Unit])Option[Unit]">collect</span> <a href="#268039" title="Unit" class="delimiter">{</a> <span class="keyword">case</span> <a title="Unit" id="268040">termSymbol</a>: <a href="../../../reflect/internal/Symbols.scala.html#38727" title="Reifiers.this.TermSymbol">TermSymbol</a> =&gt; <a href="#267956" title="(related: Reifiers.this.Symbol, name: String)Unit">bindRelatedSymbol</a><span class="delimiter">(</span><a href="#268040" title="Reifiers.this.TermSymbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#70127" title="=&gt; Reifiers.this.Symbol">referenced</a>, <span title="String(&quot;referenced&quot;)" class="string">&quot;referenced&quot;</span><span class="delimiter">)</span> <span class="delimiter">}</span>
            <span class="keyword">def</span> <a title="(related: Reifiers.this.Symbol, name: String)Unit" id="267956">bindRelatedSymbol</a><span class="delimiter">(</span><a title="Reifiers.this.Symbol" id="268029">related</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a>, <a title="String" id="268030">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#268029" title="Reifiers.this.Symbol">related</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#268029" title="Reifiers.this.Symbol">related</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Reifiers.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;boundSym (&quot;)" class="string">&quot;boundSym (&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#268030" title="String">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;): &quot;)" class="string">&quot;): &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#268029" title="Reifiers.this.Symbol">related</a><span class="delimiter">)</span>
                <a href="#265269" title="(x$1: scala.collection.immutable.Set[Reifiers.this.Symbol])Unit">boundSyms</a> <span title="(elem: Reifiers.this.Symbol)scala.collection.immutable.Set[Reifiers.this.Symbol]">+=</span> <a href="#268029" title="Reifiers.this.Symbol">related</a>
              <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="String" id="267957">prefix</a> = <a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; String">productPrefix</span>
            <span class="keyword">val</span> <a title="List[Any]" id="267958">elements</a> = <span class="delimiter">(</span><a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Iterator[Any]">productIterator</span> <span title="(f: Any =&gt; Any)Iterator[Any]">map</span> <a href="#268066" title="Any" class="delimiter">{</a>
              // annotations exist in two flavors:
              // 1) pre-typer ones that populate: a) Modifiers, b) Annotated nodes (irrelevant in this context)
              // 2) post-typer ones that dwell inside: a) sym.annotations, b) AnnotatedTypes (irrelevant in this context)
              //
              // here we process Modifiers that are involved in deftrees
              // AnnotatedTypes get reified elsewhere (currently, in ``reifyTypeTree'')
              <span class="keyword">case</span> <span title="Reifiers.this.Modifiers">Modifiers</span><span class="delimiter">(</span><a title="Long" id="268071">flags</a>, <a title="Reifiers.this.Name" id="268072">privateWithin</a>, <a title="List[Reifiers.this.Tree]" id="268073">annotations</a><span class="delimiter">)</span> =&gt;
                <a href="../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#268073" title="List[Reifiers.this.Tree]">annotations</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> // should've been eliminated by the typer
                <span class="keyword">val</span> <a title="List[Reifiers.this.AnnotationInfo]" id="268074">postTyper</a> = <a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[Reifiers.this.AnnotationInfo]">annotations</a> <span title="(p: Reifiers.this.AnnotationInfo =&gt; Boolean)List[Reifiers.this.AnnotationInfo]">filter</span> <span class="delimiter">(</span><a href="#268090" title="Reifiers.this.AnnotationInfo">_</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45917" title="=&gt; Reifiers.this.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#13796" title="object Reifiers.this.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#268074" title="List[Reifiers.this.AnnotationInfo]">postTyper</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;reify symbol annotations for %s: %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>, <a href="#267955" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[Reifiers.this.AnnotationInfo]">annotations</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="List[Reifiers.this.Tree]" id="268075">preTyper</a> = <a href="#268074" title="List[Reifiers.this.AnnotationInfo]">postTyper</a> <span title="(f: Reifiers.this.AnnotationInfo =&gt; Reifiers.this.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.AnnotationInfo],Reifiers.this.Tree,List[Reifiers.this.Tree]])List[Reifiers.this.Tree]">map</span> <a href="#265308" title="(ann: Reifiers.this.AnnotationInfo)Reifiers.this.Tree">toPreTyperAnnotation</a>
                <a href="../../../reflect/internal/Trees.scala.html#126740" title="(flags: Long, privateWithin: Reifiers.this.Name, annotations: List[Reifiers.this.Tree])Reifiers.this.Modifiers">Modifiers</a><span class="delimiter">(</span><a href="#268071" title="Long">flags</a>, <a href="#268072" title="Reifiers.this.Name">privateWithin</a>, <a href="#268075" title="List[Reifiers.this.Tree]">preTyper</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="Any" id="268175">x</a> =&gt;
                <a href="#268175" title="Any">x</a>
            <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[Any]">toList</span>
            <a href="#265313" title="(prefix: String, elements: List[Any])Reifiers.this.Tree">reifyProduct</a><span class="delimiter">(</span><a href="#267957" title="String">prefix</a>, <a href="#267958" title="List[Any]">elements</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Reifiers.this.Tree">_</span> =&gt;
            <a href="#265312" title="(x: Product)Reifiers.this.Tree">reifyProduct</a><span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        // usually we don't reify symbols/types, because they can be re-inferred during subsequent reflective compilation
        // however, reification of AnnotatedTypes is special. see ``reifyType'' to find out why.
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265299" title="=&gt; Boolean">reifySymbols</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;reifying symbol %s for tree %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>, <a href="#267854" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#267855" title="Reifiers.this.Tree">rtree</a> = <a href="#13796" title="(fun: Reifiers.this.Tree, args: List[Reifiers.this.Tree])Reifiers.this.Apply">Apply</a><span class="delimiter">(</span><a href="#13796" title="(qualifier: Reifiers.this.Tree, name: Reifiers.this.Name)Reifiers.this.Select">Select</a><span class="delimiter">(</span><a href="#267855" title="Reifiers.this.Tree">rtree</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59248" title="=&gt; Reifiers.this.nme.NameType">setSymbol</a><span class="delimiter">)</span>, <span title="(xs: Reifiers.this.Tree*)List[Reifiers.this.Tree]">List</span><span class="delimiter">(</span><a href="#265291" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265302" title="=&gt; Boolean">reifyTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;reifying type %s for tree %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Type">tpe</span>, <a href="#267854" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#267855" title="Reifiers.this.Tree">rtree</a> = <a href="#13796" title="(fun: Reifiers.this.Tree, args: List[Reifiers.this.Tree])Reifiers.this.Apply">Apply</a><span class="delimiter">(</span><a href="#13796" title="(qualifier: Reifiers.this.Tree, name: Reifiers.this.Name)Reifiers.this.Select">Select</a><span class="delimiter">(</span><a href="#267855" title="Reifiers.this.Tree">rtree</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59250" title="=&gt; Reifiers.this.nme.NameType">setType</a><span class="delimiter">)</span>, <span title="(xs: Reifiers.this.Tree*)List[Reifiers.this.Tree]">List</span><span class="delimiter">(</span><a href="#265297" title="(tpe0: Reifiers.this.Type)Reifiers.this.Tree">reifyType</a><span class="delimiter">(</span><a href="#267854" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#267855" title="Reifiers.this.Tree">rtree</a>
      <span class="delimiter">}</span>

      /** Reify pre-typer representation of a type.
       *
       *  NB: This is the trickiest part of reification!
       *
       *  In most cases, we're perfectly fine to reify a Type itself (see ``reifyType'').
       *  However if the type involves a symbol declared inside the quasiquote (i.e. registered in ``boundSyms''),
       *  then we cannot reify it, or otherwise subsequent reflective compilation will fail.
       *
       *  Why will it fail? Because reified deftrees (e.g. ClassDef(...)) will generate fresh symbols during that compilation,
       *  so naively reified symbols will become out of sync, which brings really funny compilation errors and/or crashes, e.g.:
       *  https://issues.scala-lang.org/browse/SI-5230
       *
       *  To deal with this unpleasant fact, we need to fall back from types to equivalent trees (after all, parser trees don't contain any types, just trees, so it should be possible).
       *  Luckily, these original trees get preserved for us in the ``original'' field when Trees get transformed into TypeTrees.
       *  And if an original of a type tree is empty, we can safely assume that this type is non-essential (e.g. was inferred/generated by the compiler).
       *  In that case the type can be omitted (e.g. reified as an empty TypeTree), since it will be inferred again later on.
       *
       *  An important property of the original is that it isn't just a pre-typer tree.
       *  It's actually kind of a post-typer tree with symbols assigned to its Idents (e.g. Ident(&quot;List&quot;) will contain a symbol that points to immutable.this.List).
       *  This is very important, since subsequent reflective compilation won't have to resolve these symbols.
       *  In general case, such resolution cannot be performed, since reification doesn't preserve lexical context,
       *  which means that reflective compilation won't be aware of, say, imports that were provided when the reifee has been compiled.
       *
       *  This workaround worked surprisingly well and allowed me to fix several important reification bugs, until the abstraction has leaked.
       *  Suddenly I found out that in certain contexts original trees do not contain symbols, but are just parser trees.
       *  To the moment I know only one such situation: typedAnnotations does not typecheck the annotation in-place, but rather creates new trees and typechecks them, so the original remains symless.
       *  This is laboriously worked around in the code below. I hope this will be the only workaround in this department.
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tt: Reifiers.this.TypeTree)Reifiers.this.Tree" id="265306">reifyTypeTree</a><span class="delimiter">(</span><a title="Reifiers.this.TypeTree" id="267913">tt</a>: <span title="Reifiers.this.TypeTree">TypeTree</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#265271" title="(tpe: Reifiers.this.Type)Boolean">definedInLiftedCode</a><span class="delimiter">(</span><a href="#267913" title="Reifiers.this.TypeTree">tt</a>.<span title="=&gt; Reifiers.this.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;reifyTypeTree, defined in lifted code: &quot;)" class="string">&quot;reifyTypeTree, defined in lifted code: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#267913" title="Reifiers.this.TypeTree">tt</a>.<span title="=&gt; Reifiers.this.Type">tpe</span><span class="delimiter">)</span>
          <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#267913" title="Reifiers.this.TypeTree">tt</a>.<span title="=&gt; Reifiers.this.Tree">original</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Reifiers.this.AnnotationInfo]" id="268314">annotations</a> = <a href="#267913" title="Reifiers.this.TypeTree">tt</a>.<span title="=&gt; Reifiers.this.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41563" title="(p: Reifiers.this.Type =&gt; Boolean)List[Reifiers.this.Type]">filter</a> <span class="delimiter">{</span> <a href="#268320" title="Reifiers.this.Type">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38913" title="Reifiers.this.AnnotatedType">AnnotatedType</a><span class="delimiter">]</span> <span class="delimiter">}</span> <span title="(pf: PartialFunction[Reifiers.this.Type,List[Reifiers.this.AnnotationInfo]])(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.Type],List[Reifiers.this.AnnotationInfo],List[List[Reifiers.this.AnnotationInfo]]])List[List[Reifiers.this.AnnotationInfo]]">collect</span> <a href="#268340" title="List[Reifiers.this.AnnotationInfo]" class="delimiter">{</a> <span class="keyword">case</span> <a title="List[Reifiers.this.AnnotationInfo]" id="268341">atp</a>: <a href="../../../reflect/internal/Types.scala.html#38913" title="Reifiers.this.AnnotatedType">AnnotatedType</a> =&gt; <a href="#268341" title="Reifiers.this.AnnotatedType">atp</a>.<a href="../../../reflect/internal/Types.scala.html#58283" title="=&gt; List[Reifiers.this.AnnotationInfo]">annotations</a> <span class="delimiter">}</span> <span title="(implicit asTraversable: List[Reifiers.this.AnnotationInfo] =&gt; scala.collection.GenTraversableOnce[Reifiers.this.AnnotationInfo])List[Reifiers.this.AnnotationInfo]">flatten</span>
            <span class="keyword">val</span> <a title="scala.collection.immutable.Map[Reifiers.this.Tree,Reifiers.this.AnnotationInfo]" id="268315">annmap</a> = <a href="#268314" title="List[Reifiers.this.AnnotationInfo]">annotations</a> <span title="(f: Reifiers.this.AnnotationInfo =&gt; (Reifiers.this.Tree, Reifiers.this.AnnotationInfo))(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.AnnotationInfo],(Reifiers.this.Tree, Reifiers.this.AnnotationInfo),List[(Reifiers.this.Tree, Reifiers.this.AnnotationInfo)]])List[(Reifiers.this.Tree, Reifiers.this.AnnotationInfo)]">map</span> <span class="delimiter">{</span> <a title="Reifiers.this.AnnotationInfo" id="268423">ann</a> =&gt; <span title="(_1: Reifiers.this.Tree, _2: Reifiers.this.AnnotationInfo)(Reifiers.this.Tree, Reifiers.this.AnnotationInfo)" class="delimiter">(</span><a href="#268423" title="Reifiers.this.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45917" title="=&gt; Reifiers.this.Tree">original</a>, <a href="#268423" title="Reifiers.this.AnnotationInfo">ann</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span title="(implicit ev: &lt;:&lt;[(Reifiers.this.Tree, Reifiers.this.AnnotationInfo),(Reifiers.this.Tree, Reifiers.this.AnnotationInfo)])scala.collection.immutable.Map[Reifiers.this.Tree,Reifiers.this.AnnotationInfo]">toMap</span>

            // annotations exist in two flavors:
            // 1) pre-typer ones that populate: a) Modifiers (irrelevant in this context), b) Annotated nodes
            // 2) post-typer ones that dwell inside: a) sym.annotations (irrelevant in this context), b) AnnotatedTypes
            //
            // here we process AnnotatedTypes, since only they can be involved in TypeTrees
            // Modifiers get reified elsewhere (currently, in the &quot;isDef&quot; case of ``reifyTree'')
            //
            // the problem with annotations is that their originals don't preserve any symbols at all
            // read the comment to this method to find out why it's bad
            // that's why we transplant typechecked, i.e. symful, annotations onto original trees
            <span class="keyword">class</span> <a title="class AnnotationFixup extends Reifiers.this.Transformer with ScalaObject" id="268316">AnnotationFixup</a> <a href="#268316" title="ScalaObject" class="keyword">extends</a> <a href="#13796" title="Reifiers.this.type">self</a>.<a href="Trees.scala.html#186434" title="Reifiers.this.Transformer">Transformer</a> <span class="delimiter">{</span>
              <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Reifiers.this.Tree)Reifiers.this.Tree" id="268476">transform</a><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="268478">tree</a>: <span title="Reifiers.this.Tree">Tree</span><span class="delimiter">)</span> = <a href="#268478" title="Reifiers.this.Tree">tree</a> <span title="Reifiers.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Reifiers.this.Annotated">Annotated</span><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="268484">ann0</a>, <a title="Reifiers.this.Tree" id="268485">args</a><span class="delimiter">)</span> =&gt;
                  <a href="../Global.scala.html#186184" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#268315" title="scala.collection.immutable.Map[Reifiers.this.Tree,Reifiers.this.AnnotationInfo]">annmap</a> <span title="(key: Reifiers.this.Tree)Boolean">contains</span> <a href="#268484" title="Reifiers.this.Tree">ann0</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="Reifiers.this.AnnotationInfo" id="268486">ann1</a> = <a href="#268315" title="(key: Reifiers.this.Tree)Reifiers.this.AnnotationInfo">annmap</a><span class="delimiter">(</span><a href="#268484" title="Reifiers.this.Tree">ann0</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="Reifiers.this.Tree" id="268487">ann</a> = <a href="#265308" title="(ann: Reifiers.this.AnnotationInfo)Reifiers.this.Tree">toPreTyperAnnotation</a><span class="delimiter">(</span><a href="#268486" title="Reifiers.this.AnnotationInfo">ann1</a><span class="delimiter">)</span>
                  <a href="#13796" title="(annot: Reifiers.this.Tree, arg: Reifiers.this.Tree)Reifiers.this.Annotated">Annotated</a><span class="delimiter">(</span><a href="#268487" title="Reifiers.this.Tree">ann</a>, <a href="#268476" title="(tree: Reifiers.this.Tree)Reifiers.this.Tree">transform</a><span class="delimiter">(</span><a href="#268485" title="Reifiers.this.Tree">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Reifiers.this.Tree">_</span> =&gt;
                  <a href="#268478" title="Reifiers.this.Tree">tree</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;verdict: essential, reify as original&quot;)" class="string">&quot;verdict: essential, reify as original&quot;</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Reifiers.this.Tree" id="268317">patchedOriginal</a> = <span title="AnnotationFixup" class="keyword">new</span> <a href="#268316" title="AnnotationFixup">AnnotationFixup</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="#268476" title="(tree: Reifiers.this.Tree)Reifiers.this.Tree">transform</a><span class="delimiter">(</span><a href="#267913" title="Reifiers.this.TypeTree">tt</a>.<span title="=&gt; Reifiers.this.Tree">original</span><span class="delimiter">)</span>
            <a href="#265305" title="(tree0: Reifiers.this.Tree)Reifiers.this.Tree">reifyTree</a><span class="delimiter">(</span><a href="#268317" title="Reifiers.this.Tree">patchedOriginal</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            // type is deemed to be non-essential
            // erase it and hope that subsequent reflective compilation will be able to recreate it again
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;verdict: non-essential, discard&quot;)" class="string">&quot;verdict: non-essential, discard&quot;</span><span class="delimiter">)</span>
            <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;TypeTree&quot;)" class="string">&quot;TypeTree&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Reifiers.this.Tree" id="268535">rtt</a> = <a href="#265279" title="(name: Reifiers.this.TermName, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59056" title="=&gt; Reifiers.this.nme.NameType">TypeTree</a>, <a href="#265297" title="(tpe0: Reifiers.this.Type)Reifiers.this.Tree">reifyType</a><span class="delimiter">(</span><a href="#267913" title="Reifiers.this.TypeTree">tt</a>.<span title="=&gt; Reifiers.this.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
          // @xeno.by: temporarily disabling reification of originals
          // subsequent reflective compilation will try to typecheck them
          // and this means that the reifier has to do additional efforts to ensure that this will succeed
          // additional efforts + no clear benefit = will be implemented later
//          if (tt.original != null) {
//            val setOriginal = Select(rtt, newTermName(&quot;setOriginal&quot;))
//            val reifiedOriginal = reify(tt.original)
//            rtt = Apply(setOriginal, List(reifiedOriginal))
//          }
          <a href="#268535" title="Reifiers.this.Tree">rtt</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Reify post-typer representation of an annotation */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ann: Reifiers.this.AnnotationInfo)Reifiers.this.Tree" id="265307">reifyAnnotation</a><span class="delimiter">(</span><a title="Reifiers.this.AnnotationInfo" id="268542">ann</a>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#39344" title="Reifiers.this.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        // @xeno.by: if you reify originals, you get SO when trying to reify AnnotatedTypes, so screw it - after all, it's not that important
        <a href="#265282" title="(prefix: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorFactoryCall</a><span class="delimiter">(</span><span title="String(&quot;AnnotationInfo&quot;)" class="string">&quot;AnnotationInfo&quot;</span>, <a href="#265297" title="(tpe0: Reifiers.this.Type)Reifiers.this.Tree">reifyType</a><span class="delimiter">(</span><a href="#268542" title="Reifiers.this.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45914" title="=&gt; Reifiers.this.Type">atp</a><span class="delimiter">)</span>, <a href="#265287" title="(xs: List[Any])Reifiers.this.Tree">reifyList</a><span class="delimiter">(</span><a href="#268542" title="Reifiers.this.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45915" title="=&gt; List[Reifiers.this.Tree]">args</a><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#268542" title="Reifiers.this.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45916" title="=&gt; List[(Reifiers.this.Name, Reifiers.this.ClassfileAnnotArg)]">assocs</a><span class="delimiter">)</span><span class="delimiter">)</span>

      /** Reify pre-typer representation of an annotation.
       *  The trick here is to retain the symbols that have been populated during typechecking of the annotation.
       *  If we do not do that, subsequent reflective compilation will fail.
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ann: Reifiers.this.AnnotationInfo)Reifiers.this.Tree" id="265308">toPreTyperAnnotation</a><span class="delimiter">(</span><a title="Reifiers.this.AnnotationInfo" id="268117">ann</a>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#39344" title="Reifiers.this.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#265271" title="(tpe: Reifiers.this.Type)Boolean">definedInLiftedCode</a><span class="delimiter">(</span><a href="#268117" title="Reifiers.this.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45914" title="=&gt; Reifiers.this.Type">atp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // todo. deconstruct reifiable tree from ann.original and ann.args+ann.assocs
          //
          // keep in mind that we can't simply use ann.original, because its args are symless
          // which means that any imported symbol (e.g. List) will crash subsequent reflective compilation
          // hint: if I had enough time, I'd try to extract reifiable annotation type from ann.original
          // and to apply its constructor to ann.args (that are symful, i.e. suitable for reification)
          //
          // also, if we pursue the route of reifying annotations defined in lifted code
          // we should think about how to provide types for all nodes of the return value
          // this will be necessary for reifying AnnotatedTypes, since ASTs inside ATs must all have non-null tpes
          // an alternative would be downgrading ATs to Annotated nodes, but this needs careful thinking
          // for now I just leave this as an implementation restriction
          <a href="#265331" title="(ann: Reifiers.this.AnnotationInfo)Nothing">CannotReifyAnnotationInvolvingBoundType</a><span class="delimiter">(</span><a href="#268117" title="Reifiers.this.AnnotationInfo">ann</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Reifiers.this.Tree]" id="268565">args</a> = <span title="List[Reifiers.this.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#268117" title="Reifiers.this.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45916" title="=&gt; List[(Reifiers.this.Name, Reifiers.this.ClassfileAnnotArg)]">assocs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#268117" title="Reifiers.this.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45915" title="=&gt; List[Reifiers.this.Tree]">args</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="(jann: Reifiers.this.ClassfileAnnotArg)Reifiers.this.Tree" id="268567">toScalaAnnotation</a><span class="delimiter">(</span><a title="Reifiers.this.ClassfileAnnotArg" id="268568">jann</a>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#39327" title="Reifiers.this.ClassfileAnnotArg">ClassfileAnnotArg</a><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <a href="#268568" title="Reifiers.this.ClassfileAnnotArg">jann</a> <span title="Reifiers.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Reifiers.this.Literal">LiteralAnnotArg</span><span class="delimiter">(</span><a title="Reifiers.this.Constant" id="268570">const</a><span class="delimiter">)</span> =&gt;
                <a href="#13796" title="(value: Reifiers.this.Constant)Reifiers.this.Literal">Literal</a><span class="delimiter">(</span><a href="#268570" title="Reifiers.this.Constant">const</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Reifiers.this.Apply">ArrayAnnotArg</span><span class="delimiter">(</span><a title="Array[Reifiers.this.ClassfileAnnotArg]" id="268573">arr</a><span class="delimiter">)</span> =&gt;
                <a href="#13796" title="(fun: Reifiers.this.Tree, args: List[Reifiers.this.Tree])Reifiers.this.Apply">Apply</a><span class="delimiter">(</span><a href="#13796" title="(sym: Reifiers.this.Symbol)Reifiers.this.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#39224" title="object Reifiers.this.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#45148" title="=&gt; Reifiers.this.Symbol">ArrayModule</a><span class="delimiter">)</span>, <a href="#268573" title="(xs: Array[Reifiers.this.ClassfileAnnotArg])scala.collection.mutable.ArrayOps[Reifiers.this.ClassfileAnnotArg]">arr</a>.<span title="=&gt; List[Reifiers.this.ClassfileAnnotArg]">toList</span> <span title="(f: Reifiers.this.ClassfileAnnotArg =&gt; Reifiers.this.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.ClassfileAnnotArg],Reifiers.this.Tree,List[Reifiers.this.Tree]])List[Reifiers.this.Tree]">map</span> <a href="#268567" title="(jann: Reifiers.this.ClassfileAnnotArg)Reifiers.this.Tree">toScalaAnnotation</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Reifiers.this.Tree">NestedAnnotArg</span><span class="delimiter">(</span><a title="Reifiers.this.AnnotationInfo" id="268818">ann</a><span class="delimiter">)</span> =&gt;
                <a href="#265308" title="(ann: Reifiers.this.AnnotationInfo)Reifiers.this.Tree">toPreTyperAnnotation</a><span class="delimiter">(</span><a href="#268818" title="Reifiers.this.AnnotationInfo">ann</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <a href="#268117" title="Reifiers.this.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45916" title="=&gt; List[(Reifiers.this.Name, Reifiers.this.ClassfileAnnotArg)]">assocs</a> <span title="(f: ((Reifiers.this.Name, Reifiers.this.ClassfileAnnotArg)) =&gt; Reifiers.this.AssignOrNamedArg)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Reifiers.this.Name, Reifiers.this.ClassfileAnnotArg)],Reifiers.this.AssignOrNamedArg,List[Reifiers.this.AssignOrNamedArg]])List[Reifiers.this.AssignOrNamedArg]">map</span> <a href="#268842" title="Reifiers.this.AssignOrNamedArg" class="delimiter">{</a> <span class="keyword">case</span> <span title="Reifiers.this.AssignOrNamedArg" class="delimiter">(</span><a title="Reifiers.this.Name" id="268845">nme</a>, <a title="Reifiers.this.ClassfileAnnotArg" id="268846">arg</a><span class="delimiter">)</span> =&gt; <a href="#13796" title="(lhs: Reifiers.this.Tree, rhs: Reifiers.this.Tree)Reifiers.this.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="#13796" title="(name: Reifiers.this.Name)Reifiers.this.Ident">Ident</a><span class="delimiter">(</span><a href="#268845" title="Reifiers.this.Name">nme</a><span class="delimiter">)</span>, <a href="#268567" title="(jann: Reifiers.this.ClassfileAnnotArg)Reifiers.this.Tree">toScalaAnnotation</a><span class="delimiter">(</span><a href="#268846" title="Reifiers.this.ClassfileAnnotArg">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <a href="../../../reflect/internal/Trees.scala.html#39378" title="(tpe: Reifiers.this.Type, args: Reifiers.this.Tree*)Reifiers.this.Tree">New</a><span class="delimiter">(</span><a href="#268117" title="Reifiers.this.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45914" title="=&gt; Reifiers.this.Type">atp</a>, <a href="#268565" title="List[Reifiers.this.Tree]">args</a>: _*<span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /**
       * Reify a free reference. The result will be either a mirror reference
       *  to a global value, or else a mirror Literal.
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Reifiers.this.Tree)Reifiers.this.Tree" id="265309">reifyFree</a><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267882">tree</a>: <span title="Reifiers.this.Tree">Tree</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <a href="#267882" title="Reifiers.this.Tree">tree</a> <span title="Reifiers.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Reifiers.this.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#267882" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#267882" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a> =&gt;
          <span class="keyword">val</span> <a title="Reifiers.this.Symbol" id="268911">sym</a> = <a href="#267882" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;This for %s, reified as freeVar&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#268911" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;Free: &quot;)" class="string">&quot;Free: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#268911" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Reifiers.this.Tree" id="268912">freeVar</a> = <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><span title="String(&quot;newFreeVar&quot;)" class="string">&quot;newFreeVar&quot;</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#268911" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Reifiers.this.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>, <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">(</span><a href="#268911" title="Reifiers.this.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Reifiers.this.Type">tpe</a><span class="delimiter">)</span>, <a href="#13796" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">This</a><span class="delimiter">(</span><a href="#268911" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#265279" title="(name: Reifiers.this.TermName, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59046" title="=&gt; Reifiers.this.nme.NameType">Ident</a>, <a href="#268912" title="Reifiers.this.Tree">freeVar</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Reifiers.this.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#265262" title="=&gt; Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;This for %s, reified as This&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#267882" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#265279" title="(name: Reifiers.this.TermName, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59050" title="=&gt; Reifiers.this.nme.NameType">This</a>, <a href="#265291" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#267882" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Reifiers.this.Tree">_</span> =&gt;
          <a href="#265279" title="(name: Reifiers.this.TermName, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59046" title="=&gt; Reifiers.this.nme.NameType">Ident</a>, <a href="#265291" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#267882" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // todo: consider whether we should also reify positions
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: Reifiers.this.Position)Reifiers.this.Tree" id="265310">reifyPosition</a><span class="delimiter">(</span><a title="Reifiers.this.Position" id="268966">pos</a>: <a href="../util/Position.scala.html#33991" title="Reifiers.this.Position">Position</a><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#265315" title="(x: Product)Reifiers.this.Tree">reifyMirrorObject</a><span class="delimiter">(</span><a href="../symtab/Positions.scala.html#186524" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span>

      // !!! we must eliminate these casts.
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Any)Reifiers.this.Tree" id="265311">reifyProductUnsafe</a><span class="delimiter">(</span><a title="Any" id="267169">x</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#267169" title="Any">x</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Product">Product</span><span class="delimiter">]</span><span class="delimiter">)</span> <a href="#265312" title="(x: Product)Reifiers.this.Tree">reifyProduct</a><span class="delimiter">(</span><a href="#267169" title="Any">x</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Product" class="delimiter">[</span><span title="Product">Product</span><span class="delimiter">]</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <span title="(x$1: String)Exception" class="keyword">new</span> <span title="Exception">Exception</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s of type %s cannot be cast to Product&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#267169" title="Any">x</a>, <a href="#267169" title="Any">x</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Product)Reifiers.this.Tree" id="265312">reifyProduct</a><span class="delimiter">(</span><a title="Product" id="268185">x</a>: <span title="Product">Product</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> =
        <a href="#265313" title="(prefix: String, elements: List[Any])Reifiers.this.Tree">reifyProduct</a><span class="delimiter">(</span><a href="#268185" title="Product">x</a>.<span title="=&gt; String">productPrefix</span>, <a href="#268185" title="Product">x</a>.<span title="=&gt; Iterator[Any]">productIterator</span>.<span title="=&gt; List[Any]">toList</span><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(prefix: String, elements: List[Any])Reifiers.this.Tree" id="265313">reifyProduct</a><span class="delimiter">(</span><a title="String" id="268182">prefix</a>: <span title="String">String</span>, <a title="List[Any]" id="268183">elements</a>: <span title="List[Any]">List</span><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        // @xeno.by: reflection would be more robust, but, hey, this is a hot path
        <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#268182" title="String">prefix</a>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><span title="String(&quot;Tuple&quot;)" class="string">&quot;Tuple&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#265286" title="(name: String, args: Any*)Reifiers.this.Tree">reifyAggregate</a><span class="delimiter">(</span><a href="#268182" title="String">prefix</a>, <a href="#268183" title="List[Any]">elements</a>: _*<span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#265280" title="(name: String, args: Reifiers.this.Tree*)Reifiers.this.Tree">mirrorCall</a><span class="delimiter">(</span><a href="#268182" title="String">prefix</a>, <span class="delimiter">(</span><a href="#268183" title="List[Any]">elements</a> <span title="(f: Any =&gt; Reifiers.this.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Any],Reifiers.this.Tree,List[Reifiers.this.Tree]])List[Reifiers.this.Tree]">map</span> <a href="#265317" title="(value: Any)Reifiers.this.Tree">reify</a><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /**
       * Reify a case object defined in Mirror
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: String)Reifiers.this.Tree" id="265314">reifyMirrorObject</a><span class="delimiter">(</span><a title="String" id="267089">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <a href="#265278" title="(name: String)Reifiers.this.Tree">mirrorSelect</a><span class="delimiter">(</span><a href="#267089" title="String">name</a><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Product)Reifiers.this.Tree" id="265315">reifyMirrorObject</a><span class="delimiter">(</span><a title="Product" id="267087">x</a>: <span title="Product">Product</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span>   = <a href="#265314" title="(name: String)Reifiers.this.Tree">reifyMirrorObject</a><span class="delimiter">(</span><a href="#267087" title="Product">x</a>.<span title="=&gt; String">productPrefix</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: Any)Boolean" id="265316">isReifiableConstant</a><span class="delimiter">(</span><a title="Any" id="269051">value</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#269051" title="Any">value</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean(true)" class="keyword">null</span>      =&gt; <span title="Boolean(true)" class="keyword">true</span>  // seems pretty reifable to me?
        <span class="keyword">case</span> <span title="Boolean(true)">_</span>: <span title="String">String</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean">_</span>         =&gt; <span title="(x: Any)Boolean">isAnyVal</span><span class="delimiter">(</span><a href="#269051" title="Any">value</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Reify an arbitary value */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(value: Any)Reifiers.this.Tree" id="265317">reify</a><span class="delimiter">(</span><a title="Any" id="265382">value</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <a href="#265382" title="Any">value</a> <span title="Reifiers.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="269054">tree</a>: <span title="Reifiers.this.Tree">Tree</span>         =&gt; <a href="#265305" title="(tree0: Reifiers.this.Tree)Reifiers.this.Tree">reifyTree</a><span class="delimiter">(</span><a href="#269054" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="269055">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Reifiers.this.Symbol">Symbol</a>        =&gt; <a href="#265291" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">reifySymRef</a><span class="delimiter">(</span><a href="#269055" title="Reifiers.this.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="269056">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Reifiers.this.Type">Type</a>          =&gt; <a href="#265297" title="(tpe0: Reifiers.this.Type)Reifiers.this.Tree">reifyType</a><span class="delimiter">(</span><a href="#269056" title="Reifiers.this.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="269057">xs</a>: <span title="List[_]">List</span><span class="delimiter">[</span>_<span class="delimiter">]</span>        =&gt; <a href="#265287" title="(xs: List[Any])Reifiers.this.Tree">reifyList</a><span class="delimiter">(</span><a href="#269057" title="List[_]">xs</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="269059">xs</a>: <span title="Array[_]">Array</span><span class="delimiter">[</span>_<span class="delimiter">]</span>       =&gt; <a href="#265288" title="(xs: Array[_])Reifiers.this.Tree">reifyArray</a><span class="delimiter">(</span><a href="#269059" title="Array[_]">xs</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="269062">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#39174" title="Reifiers.this.Scope">Scope</a>       =&gt; <a href="#265294" title="(scope: Reifiers.this.Scope)Reifiers.this.Tree">reifyScope</a><span class="delimiter">(</span><a href="#269062" title="Reifiers.this.Scope">scope</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="269063">x</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Reifiers.this.Name">Name</a>            =&gt; <a href="#265289" title="(name: Reifiers.this.Name)Reifiers.this.Tree">reifyName</a><span class="delimiter">(</span><a href="#269063" title="Reifiers.this.Name">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="269064">x</a>: <a href="../util/Position.scala.html#33991" title="Reifiers.this.Position">Position</a>        =&gt; <a href="#265310" title="(pos: Reifiers.this.Position)Reifiers.this.Tree">reifyPosition</a><span class="delimiter">(</span><a href="#269064" title="Reifiers.this.Position">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="269065">x</a>: <a href="../../../reflect/internal/Trees.scala.html#39351" title="Reifiers.this.Modifiers">Modifiers</a>       =&gt; <a href="#265285" title="(m: Reifiers.this.Modifiers)Reifiers.this.Tree">reifyModifiers</a><span class="delimiter">(</span><a href="#269065" title="Reifiers.this.Modifiers">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Reifiers.this.Tree" id="269066">x</a>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#39344" title="Reifiers.this.AnnotationInfo">AnnotationInfo</a>  =&gt; <a href="#265307" title="(ann: Reifiers.this.AnnotationInfo)Reifiers.this.Tree">reifyAnnotation</a><span class="delimiter">(</span><a href="#269066" title="Reifiers.this.AnnotationInfo">x</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Reifiers.this.Tree">_</span> =&gt;
          <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#265316" title="(value: Any)Boolean">isReifiableConstant</a><span class="delimiter">(</span><a href="#265382" title="Any">value</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#13796" title="(value: Reifiers.this.Constant)Reifiers.this.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)Reifiers.this.Constant">Constant</a><span class="delimiter">(</span><a href="#265382" title="Any">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#265311" title="(x: Any)Reifiers.this.Tree">reifyProductUnsafe</a><span class="delimiter">(</span><a href="#265382" title="Any">value</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /**
       * An (unreified) path that refers to definition with given fully qualified name
       *  @param mkName   Creator for last portion of name (either TermName or TypeName)
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fullname: String, mkName: String =&gt; Reifiers.this.Name)Reifiers.this.Tree" id="265318">path</a><span class="delimiter">(</span><a title="String" id="269068">fullname</a>: <span title="String">String</span>, <a title="String =&gt; Reifiers.this.Name" id="269069">mkName</a>: String =&gt; Name<span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Array[String]" id="269071">parts</a> = <a href="#269068" title="String">fullname</a> <span title="(x$1: String)Array[String]">split</span> <span title="String(&quot;\\.&quot;)" class="string">&quot;\\.&quot;</span>
        <span class="keyword">val</span> <a title="Array[String]" id="269072">prefixParts</a> = <a href="#269071" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">parts</a>.<span title="=&gt; Array[String]">init</span>
        <span class="keyword">val</span> <a title="Reifiers.this.Name" id="269073">lastName</a> = <a href="#269069" title="(v1: String)Reifiers.this.Name">mkName</a><span class="delimiter">(</span><a href="#269071" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">parts</a>.<span title="=&gt; String">last</span><span class="delimiter">)</span>
        <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#269072" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">prefixParts</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#13796" title="(name: Reifiers.this.Name)Reifiers.this.Ident">Ident</a><span class="delimiter">(</span><a href="#269073" title="Reifiers.this.Name">lastName</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Reifiers.this.Tree" id="269439">prefixTree</a> = <span class="delimiter">(</span><span class="delimiter">(</span><a href="#13796" title="(name: String)Reifiers.this.Ident">Ident</a><span class="delimiter">(</span><a href="#269072" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">prefixParts</a>.<span title="=&gt; String">head</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span><span class="delimiter">)</span> <a href="#269440" title="(z: Reifiers.this.Tree)(op: (Reifiers.this.Tree, String) =&gt; Reifiers.this.Tree)Reifiers.this.Tree">/:</a> <a href="#269072" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">prefixParts</a>.<span title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">tail</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#13796" title="(qualifier: Reifiers.this.Tree, name: String)Reifiers.this.Select">Select</a><span class="delimiter">(</span><a href="#270172" title="Reifiers.this.Tree">_</a>, <a href="#270173" title="String">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#13796" title="(qualifier: Reifiers.this.Tree, name: Reifiers.this.Name)Reifiers.this.Select">Select</a><span class="delimiter">(</span><a href="#269439" title="Reifiers.this.Tree">prefixTree</a>, <a href="#269073" title="Reifiers.this.Name">lastName</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** An (unreified) path that refers to term definition with given fully qualified name */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fullname: String)Reifiers.this.Tree" id="265319">termPath</a><span class="delimiter">(</span><a title="String" id="265433">fullname</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <a href="#265318" title="(fullname: String, mkName: String =&gt; Reifiers.this.Name)Reifiers.this.Tree">path</a><span class="delimiter">(</span><a href="#265433" title="String">fullname</a>, <a href="../../../reflect/internal/Names.scala.html#38394" title="(s: String)Reifiers.this.TermName">newTermName</a><span class="delimiter">)</span>

      /** An (unreified) path that refers to type definition with given fully qualified name */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fullname: String)Reifiers.this.Tree" id="265320">typePath</a><span class="delimiter">(</span><a title="String" id="270222">fullname</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Reifiers.this.Tree">Tree</span> = <a href="#265318" title="(fullname: String, mkName: String =&gt; Reifiers.this.Name)Reifiers.this.Tree">path</a><span class="delimiter">(</span><a href="#270222" title="String">fullname</a>, <a href="../../../reflect/internal/Names.scala.html#38395" title="(s: String)Reifiers.this.TypeName">newTypeName</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Reifiers.this.ValDef" id="265321">mirrorAlias</a> =
        <a href="#13796" title="(mods: Reifiers.this.Modifiers, name: Reifiers.this.TermName, tpt: Reifiers.this.Tree, rhs: Reifiers.this.Tree)Reifiers.this.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39357" title="=&gt; Reifiers.this.Modifiers">NoMods</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Reifiers.this.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58929" title="=&gt; Reifiers.this.nme.NameType">MIRROR_SHORT</a>, <a href="#13796" title="(ref: Reifiers.this.Tree)Reifiers.this.SingletonTypeTree">SingletonTypeTree</a><span class="delimiter">(</span><a href="#265319" title="(fullname: String)Reifiers.this.Tree">termPath</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39309" title="object Reifiers.this.fullnme">fullnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#39298" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: Reifiers.this.TermName)String">MirrorPackage</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#265319" title="(fullname: String)Reifiers.this.Tree">termPath</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39309" title="object Reifiers.this.fullnme">fullnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#39298" title="implicit scala.reflect.internal.StdNames.lowerTermNames : (n: Reifiers.this.TermName)String">MirrorPackage</a><span class="delimiter">)</span><span class="delimiter">)</span>

      /**
       * Generate code that generates a symbol table of all symbols registered in `reifiableSyms`
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[Reifiers.this.Tree]" id="265322">reifySymbolTableSetup</a>: <span title="List[Reifiers.this.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[Reifiers.this.Tree]" id="270234">symDefs</a>, <a title="scala.collection.mutable.ArrayBuffer[Reifiers.this.Tree]" id="270235">fillIns</a> = <span title="()scala.collection.mutable.ArrayBuffer[Reifiers.this.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.ArrayBuffer[Reifiers.this.Tree]">ArrayBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
        <span class="keyword">var</span> <a title="Int" id="270236">i</a> = <span title="Int(0)" class="int">0</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#270236" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#265264" title="=&gt; scala.collection.mutable.ArrayBuffer[Reifiers.this.Symbol]">reifiableSyms</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <a href="#270237" title="()Unit" class="delimiter">{</a>
          // fillInSymbol might create new reifiableSyms, that's why this is done iteratively
          <a href="#270234" title="scala.collection.mutable.ArrayBuffer[Reifiers.this.Tree]">symDefs</a> <span title="(elem: Reifiers.this.Tree)symDefs.type">+=</span> <a href="#265292" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">reifySymbolDef</a><span class="delimiter">(</span><a href="#265264" title="(idx: Int)Reifiers.this.Symbol">reifiableSyms</a><span class="delimiter">(</span><a href="#270236" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#270235" title="scala.collection.mutable.ArrayBuffer[Reifiers.this.Tree]">fillIns</a> <span title="(elem: Reifiers.this.Tree)fillIns.type">+=</span> <a href="#265293" title="(sym: Reifiers.this.Symbol)Reifiers.this.Tree">fillInSymbol</a><span class="delimiter">(</span><a href="#265264" title="(idx: Int)Reifiers.this.Symbol">reifiableSyms</a><span class="delimiter">(</span><a href="#270236" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#270236" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>

        <a href="#270234" title="scala.collection.mutable.ArrayBuffer[Reifiers.this.Tree]">symDefs</a>.<span title="=&gt; List[Reifiers.this.Tree]">toList</span> <span title="(that: scala.collection.GenTraversableOnce[Reifiers.this.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.Tree],Reifiers.this.Tree,List[Reifiers.this.Tree]])List[Reifiers.this.Tree]">++</span> <a href="#270235" title="scala.collection.mutable.ArrayBuffer[Reifiers.this.Tree]">fillIns</a>.<span title="=&gt; List[Reifiers.this.Tree]">toList</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> // end of Reifier

    <span class="keyword">object</span> <a title="object Reifier" id="265250">Reifier</a> <span title="ScalaObject" class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tree: Reifiers.this.Tree)Nothing" id="265325">CannotReifyPreTyperTree</a><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="270370">tree</a>: <span title="Reifiers.this.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="270373">msg</a> = <span title="String(&quot;pre-typer trees are not supported, consider typechecking the tree before passing it to the reifier&quot;)" class="string">&quot;pre-typer trees are not supported, consider typechecking the tree before passing it to the reifier&quot;</span>
        <span title="Nothing" class="keyword">throw</span> <span title="Reifiers.this.ReifierError" class="keyword">new</span> <a href="#186448" title="Reifiers.this.ReifierError">ReifierError</a><span class="delimiter">(</span><a href="#270370" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Position">pos</span>, <a href="#270373" title="String">msg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tree: Reifiers.this.Tree)Nothing" id="265326">CannotReifyErroneousTree</a><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267859">tree</a>: <span title="Reifiers.this.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="267862">msg</a> = <span title="String(&quot;erroneous trees are not supported, make sure that your tree typechecks successfully before passing it to the reifier&quot;)" class="string">&quot;erroneous trees are not supported, make sure that your tree typechecks successfully before passing it to the reifier&quot;</span>
        <span title="Nothing" class="keyword">throw</span> <span title="Reifiers.this.ReifierError" class="keyword">new</span> <a href="#186448" title="Reifiers.this.ReifierError">ReifierError</a><span class="delimiter">(</span><a href="#267859" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Position">pos</span>, <a href="#267862" title="String">msg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpe: Reifiers.this.Type)Nothing" id="265327">CannotReifyErroneousType</a><span class="delimiter">(</span><a title="Reifiers.this.Type" id="267025">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Reifiers.this.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="267028">msg</a> = <span title="String(&quot;erroneous types are not supported, make sure that your tree typechecks successfully before passing it to the reifier&quot;)" class="string">&quot;erroneous types are not supported, make sure that your tree typechecks successfully before passing it to the reifier&quot;</span>
        <span title="Nothing" class="keyword">throw</span> <span title="Reifiers.this.ReifierError" class="keyword">new</span> <a href="#186448" title="Reifiers.this.ReifierError">ReifierError</a><span class="delimiter">(</span><a href="../symtab/Positions.scala.html#186524" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>, <a href="#267028" title="String">msg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tree: Reifiers.this.Tree, tpe: Reifiers.this.Type)Nothing" id="265328">CannotReifyClassOfBoundType</a><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267928">tree</a>: <span title="Reifiers.this.Tree">Tree</span>, <a title="Reifiers.this.Type" id="267929">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Reifiers.this.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="267932">msg</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;implementation restriction: cannot reify classOf[%s] which refers to a type declared inside the block being reified&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#267929" title="Reifiers.this.Type">tpe</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <span title="Reifiers.this.ReifierError" class="keyword">new</span> <a href="#186448" title="Reifiers.this.ReifierError">ReifierError</a><span class="delimiter">(</span><a href="#267928" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Position">pos</span>, <a href="#267932" title="String">msg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tree: Reifiers.this.Tree, tpe: Reifiers.this.Type)Nothing" id="265329">CannotReifyClassOfBoundEnum</a><span class="delimiter">(</span><a title="Reifiers.this.Tree" id="267945">tree</a>: <span title="Reifiers.this.Tree">Tree</span>, <a title="Reifiers.this.Type" id="267946">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Reifiers.this.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="267949">msg</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;implementation restriction: cannot reify classOf[%s] which refers to an enum declared inside the block being reified&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#267946" title="Reifiers.this.Type">tpe</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <span title="Reifiers.this.ReifierError" class="keyword">new</span> <a href="#186448" title="Reifiers.this.ReifierError">ReifierError</a><span class="delimiter">(</span><a href="#267945" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Position">pos</span>, <a href="#267949" title="String">msg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpe: Reifiers.this.Type)Nothing" id="265330">CannotReifyTypeInvolvingBoundType</a><span class="delimiter">(</span><a title="Reifiers.this.Type" id="267049">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Reifiers.this.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="267052">msg</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;implementation restriction: cannot reify type %s which involves a symbol declared inside the block being reified&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#267049" title="Reifiers.this.Type">tpe</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <span title="Reifiers.this.ReifierError" class="keyword">new</span> <a href="#186448" title="Reifiers.this.ReifierError">ReifierError</a><span class="delimiter">(</span><a href="../symtab/Positions.scala.html#186524" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>, <a href="#267052" title="String">msg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(ann: Reifiers.this.AnnotationInfo)Nothing" id="265331">CannotReifyAnnotationInvolvingBoundType</a><span class="delimiter">(</span><a title="Reifiers.this.AnnotationInfo" id="268556">ann</a>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#39344" title="Reifiers.this.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="268559">msg</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;implementation restriction: cannot reify annotation @%s which involves a symbol declared inside the block being reified&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#268556" title="Reifiers.this.AnnotationInfo">ann</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <span title="Reifiers.this.ReifierError" class="keyword">new</span> <a href="#186448" title="Reifiers.this.ReifierError">ReifierError</a><span class="delimiter">(</span><a href="#268556" title="Reifiers.this.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45917" title="=&gt; Reifiers.this.Tree">original</a>.<span title="=&gt; Reifiers.this.Position">pos</span>, <a href="#268559" title="String">msg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> // end of Reifier

    // begin reify
    <span class="keyword">import</span> <a href="#265250" title="object Reifier">Reifier</a>._
    <span title="Reifiers.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#255734" title="Reifiers.this.Tree">tree</a>.<span title="=&gt; Reifiers.this.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="270381">saved</a> = <a href="../Global.scala.html#186223" title="=&gt; Boolean">printTypings</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="270382">reifyDebug</a> = <a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186842" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Yreifydebug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.SimpleTracer" id="270383">debugTrace</a> = util.<a href="../util/package.scala.html#34914" title="=&gt; scala.tools.nsc.util.SimpleTracer">trace</a> <a href="../util/SimpleTracer.scala.html#186538" title="(enabled: Boolean)scala.tools.nsc.util.SimpleTracer">when</a> <a href="#270382" title="Boolean">reifyDebug</a>
        <a href="../util/SimpleTracer.scala.html#186534" title="(msg: String)(value: String)String">debugTrace</a><span class="delimiter">(</span><span title="String(&quot;transforming = &quot;)" class="string">&quot;transforming = &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186800" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xshowtrees</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../Global.scala.html#186165" title="object Reifiers.this.nodePrinters">nodePrinters</a>.<a href="NodePrinters.scala.html#238894" title="(tree: Reifiers.this.nodePrinters.global.Tree)String">nodeToString</a><span class="delimiter">(</span><a href="#255734" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>.<span title="()String">trim</span> <span class="keyword">else</span> <a href="#255734" title="Reifiers.this.Tree">tree</a>.<span title="()String">toString</span><span class="delimiter">)</span>
        <a href="../util/SimpleTracer.scala.html#186534" title="(msg: String)(value: Reifiers.this.Tree)Reifiers.this.Tree">debugTrace</a><span class="delimiter">(</span><span title="String(&quot;transformed = &quot;)" class="string">&quot;transformed = &quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Reifier" id="270398">reifier</a> = <span title="Reifier" class="keyword">new</span> <a href="#265249" title="Reifier">Reifier</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Reifiers.this.Tree" id="270399">untyped</a> = <a href="#270398" title="Reifier">reifier</a>.<a href="#265273" title="(data: Any)Reifiers.this.Tree">reifyTopLevel</a><span class="delimiter">(</span><a href="#255734" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Boolean" id="270400">reifyCopypaste</a> = <a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186840" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Yreifycopypaste</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#270400" title="Boolean">reifyCopypaste</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#270382" title="Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;=======================&quot;)" class="string">&quot;=======================&quot;</span><span class="delimiter">)</span>
            <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="ReifyPrinters.scala.html#238897" title="(tree: Reifiers.this.nodePrinters.global.Tree)String">reifiedNodeToString</a><span class="delimiter">(</span><a href="#270399" title="Reifiers.this.Tree">untyped</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#270382" title="Boolean">reifyDebug</a><span class="delimiter">)</span> <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;=======================&quot;)" class="string">&quot;=======================&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <a href="#270399" title="Reifiers.this.Tree">untyped</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#186224" title="(x$1: Boolean)Unit">printTypings</a> = <a href="#270381" title="Boolean">saved</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#265325" title="(tree: Reifiers.this.Tree)Nothing">CannotReifyPreTyperTree</a><span class="delimiter">(</span><a href="#255734" title="Reifiers.this.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** A throwable signalling a reification error */
  <span class="keyword">class</span> <a title="class ReifierError extends Throwable with ScalaObject" id="186448">ReifierError</a><a href="#186448" title="ScalaObject" class="delimiter">(</a><span class="keyword">var</span> <a title="Reifiers.this.Position" id="267041">pos</a>: <a href="../util/Position.scala.html#33991" title="Reifiers.this.Position">Position</a>, <span class="keyword">val</span> <a title="String" id="267042">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <span title="Throwable">Throwable</span><span class="delimiter">(</span><a href="#267042" title="String">msg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(msg: String)Reifiers.this.ReifierError" id="267037" class="keyword">this</a><span class="delimiter">(</span><a title="String" id="267040">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#186448" title="ReifierError.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="../symtab/Positions.scala.html#186524" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>, <a href="#267040" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>