<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/Typers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

// Added: Sat Oct 7 16:08:21 2006
//todo: use inherited type info also for vars and values

// Added: Thu Apr 12 18:23:58 2007
//todo: disallow C#D in superclass
//todo: treat :::= correctly
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.mutable
<span class="keyword">import</span> scala.tools.nsc.util.BatchSourceFile
<span class="keyword">import</span> mutable.ListBuffer
<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> util.Statistics
<span class="keyword">import</span> util.<a href="../util/Statistics.scala.html#33248" title="object scala.tools.nsc.util.Statistics">Statistics</a>._

// Suggestion check whether we can do without priming scopes with symbols of outer scopes,
// like the IDE does.
/** This trait provides methods to assign types to trees.
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */
<span class="keyword">trait</span> <a title="trait Typers extends Object with scala.tools.nsc.typechecker.Modes with scala.tools.nsc.typechecker.Adaptations with scala.tools.nsc.typechecker.PatMatVirtualiser with ScalaObject" id="30188">Typers</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Modes.scala.html#32222" title="scala.tools.nsc.typechecker.Modes">Modes</a> <span class="keyword">with</span> <a href="Adaptations.scala.html#30668" title="scala.tools.nsc.typechecker.Adaptations">Adaptations</a> <span class="keyword">with</span> <a href="PatMatVirtualiser.scala.html#31589" title="scala.tools.nsc.typechecker.PatMatVirtualiser">PatMatVirtualiser</a> <span class="delimiter">{</span>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#187273" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object Typers.this.global.definitions">definitions</a>._

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, mode: Int)Int" id="187400">forArgMode</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684564">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="684565">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
    <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120076" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#684564" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#684565" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(8)">SCCmode</span>
    <span class="keyword">else</span> <a href="#684565" title="Int">mode</a>

  // namer calls typer.computeType(rhs) on DefDef / ValDef when tpt is empty. the result
  // is cached here and re-used in typedDefDef / typedValDef
  // Also used to cache imports type-checked by namer.
  <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" id="187401">transformed</a> = <span title="()scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">HashMap</span><span class="delimiter">[</span>Tree, Tree<span class="delimiter">]</span>

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="187403">shortenImports</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="()Unit" id="187405">resetTyper</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    //println(&quot;resetTyper called&quot;)
    <a href="Contexts.scala.html#187299" title="()Unit">resetContexts</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Namers.scala.html#187334" title="()Unit">resetNamer</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Implicits.scala.html#187505" title="()Unit">resetImplicits</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#187401" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Typers.this.UnTyper" id="187406">UnTyper</a> <span title="ScalaObject" class="keyword">extends</span> <a href="Analyzer.scala.html#187273" title="Typers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Unit" id="655389">traverse</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="655390">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655390" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#655390" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#655390" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#655390" title="Typers.this.global.Tree">tree</a>.<span title="(sym: Typers.this.global.Symbol)Unit">symbol</span> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">super</span>.<span title="(tree: Typers.this.global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#655390" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
/* needed for experimental version where early types can be type arguments
  class EarlyMap(clazz: Symbol) extends TypeMap {
    def apply(tp: Type): Type = tp match {
      case TypeRef(NoPrefix, sym, List()) if (sym hasFlag PRESUPER) =&gt;
        TypeRef(ThisType(clazz), sym, List())
      case _ =&gt;
        mapOver(tp)
    }
  }
*/

  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SilentResult[+T] extends Object with ScalaObject" id="187408">SilentResult</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="187409">T</a><span class="delimiter">]</span>
  case <span class="keyword">class</span> <a title="class SilentTypeError extends Typers.this.SilentResult[Nothing] with ScalaObject with Product with Serializable" id="699711">SilentTypeError</a><a href="#699711" title="ScalaObject" class="delimiter">(</a><a title="Typers.this.AbsTypeError" id="685890">err</a>: <a href="ContextErrors.scala.html#187672" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#187408" title="Typers.this.SilentResult[Nothing]">SilentResult</a><span class="delimiter">[</span>Nothing<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class SilentResultValue[+T] extends Typers.this.SilentResult[T] with ScalaObject with Product with Serializable" id="699707">SilentResultValue</a><span class="delimiter">[</span>+<a title="&gt;: Nothing &lt;: Any" id="659257">T</a><span class="delimiter">]</span><a href="#699707" title="ScalaObject" class="delimiter">(</a><a title="T" id="685895">value</a>: <a href="#659257" title="T">T</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#187408" title="Typers.this.SilentResult[T]">SilentResult</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(context: Typers.this.Context)Typers.this.Typer" id="187417">newTyper</a><span class="delimiter">(</span><a title="Typers.this.Context" id="440678">context</a>: <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <a href="#187422" title="Typers.this.Typer">Typer</a> = <span title="Typers.this.NormalTyper" class="keyword">new</span> <a href="#187418" title="Typers.this.NormalTyper">NormalTyper</a><span class="delimiter">(</span><a href="#440678" title="Typers.this.Context">context</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class NormalTyper extends Typers.this.Typer with ScalaObject" id="187418">NormalTyper</a><a href="#187418" title="ScalaObject" class="delimiter">(</a><a title="Typers.this.Context" id="684645">context</a> : <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#187422" title="Typers.this.Typer">Typer</a><span class="delimiter">(</span><a href="#684645" title="Typers.this.Context">context</a><span class="delimiter">)</span>

  // A transient flag to mark members of anonymous classes
  // that are turned private by typedBlock
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Long(274877906944L)" id="187419">SYNTHETIC_PRIVATE</a> = <span title="Long(274877906944L)">TRANS_FLAG</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="187421">isPastTyper</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69296" title="=&gt; Int">id</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../Global.scala.html#186319" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188838" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#69296" title="=&gt; Int">id</a>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Typer extends Object with Typers.this.TyperDiagnostics with Typers.this.Adaptation with Typers.this.TyperContextErrors with ScalaObject" id="187422">Typer</a><a href="#187422" title="ScalaObject" class="delimiter">(</a><a title="Typers.this.Context" id="244019">context0</a>: <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="TypeDiagnostics.scala.html#187665" title="Typers.this.TyperDiagnostics">TyperDiagnostics</a> <span class="keyword">with</span> <a href="Adaptations.scala.html#187427" title="Typers.this.Adaptation">Adaptation</a> <span class="keyword">with</span> <a href="ContextErrors.scala.html#187694" title="Typers.this.TyperContextErrors">TyperContextErrors</a> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#244019" title="Typers.this.Context">context0</a>.unit
    <span class="keyword">import</span> <a href="../../../reflect/internal/TypeDebugging.scala.html#39429" title="object Typers.this.global.typeDebug">typeDebug</a>.<span class="delimiter">{</span> ptTree, ptBlock, ptLine <span class="delimiter">}</span>
    <span class="keyword">import</span> <a href="ContextErrors.scala.html#187885" title="object Typer.this.TyperErrorGen">TyperErrorGen</a>._

    <span class="keyword">val</span> <a title="Typers.this.Inferencer" id="187731">infer</a> = <a href="#187891" title="Typers.this.Inferencer" class="keyword">new</a> <a href="Infer.scala.html#187485" title="anonymous class $anon extends Typers.this.Inferencer" id="187891">Inferencer</a><span class="delimiter">(</span><a href="#244019" title="Typers.this.Context">context0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type, pt: Typers.this.global.Type)Boolean" id="188067">isCoercible</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="188068">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="188069">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="../../../reflect/internal/Types.scala.html#38802" title="=&gt; Typers.this.global.UndoLog">undoLog</a> <a href="../../../reflect/internal/Types.scala.html#129895" title="(block: =&gt; Boolean)Boolean">undo</a> <span class="delimiter">{</span> // #3281
        <a href="#188068" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41498" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <a href="#188069" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41498" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span>
        <a href="#244019" title="Typers.this.Context">context0</a>.<a href="Contexts.scala.html#188156" title="=&gt; Boolean">implicitsEnabled</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> // this condition prevents chains of views
        <a href="#187734" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#188068" title="Typers.this.global.Type">tp</a>, <a href="#188069" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>
      <span class="delimiter">}</span><span class="delimiter">}</span>

    /** Find implicit arguments and pass them to given tree.
     */
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Tree" id="187733">applyImplicitArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684663">fun</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#684663" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.ApplyToImplicitArgs">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="684667">params</a>, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" id="684668">argResultsBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">ListBuffer</span><span class="delimiter">[</span>SearchResult<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="684669">argBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Boolean" id="684670">paramFailed</a> = <span title="Boolean(false)" class="keyword">false</span>

        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree" id="684671">mkPositionalArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684675">argTree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="684676">paramName</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="#684675" title="Typers.this.global.Tree">argTree</a>
        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg" id="684672">mkNamedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684677">argTree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="684678">paramName</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span><a href="#684677" title="Typers.this.global.Tree">argTree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="Analyzer.scala.html#187273" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#684678" title="Typers.this.global.Name">paramName</a><span class="delimiter">)</span>, <span class="delimiter">(</span><a href="#684677" title="Typers.this.global.Tree">argTree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree" id="684673">mkArg</a>: <span class="delimiter">(</span>Tree, Name<span class="delimiter">)</span> =&gt; Tree = <a href="#684671" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree">mkPositionalArg</a>

        // DEPMETTODO: instantiate type vars that depend on earlier implicit args (see adapt (4.1))
        //
        // apply the substitutions (undet type param -&gt; type) that were determined
        // by implicit resolution of implicit arguments on the left of this argument
        <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="684725">param</a> &lt;- <a href="#684667" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">params</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Type" id="684726">paramTp</a> = <a href="#684725" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.SearchResult" id="684747">ar</a> &lt;- <a href="#684668" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span>
            <a href="#684726" title="Typers.this.global.Type">paramTp</a> = <a href="#684726" title="Typers.this.global.Type">paramTp</a>.<a href="../../../reflect/internal/Types.scala.html#41558" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#684747" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#440724" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../../../reflect/internal/Trees.scala.html#128672" title="=&gt; List[Typers.this.global.Symbol]">from</a>, <a href="#684747" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#440724" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../../../reflect/internal/Trees.scala.html#128674" title="=&gt; List[Typers.this.global.Type]">to</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="684727">res</a> = <span title="Typers.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#684670" title="Boolean">paramFailed</a><span class="delimiter">)</span> <a href="Implicits.scala.html#187510" title="=&gt; Typers.this.SearchResult">SearchFailure</a> <span class="keyword">else</span> <a href="Implicits.scala.html#187492" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#684663" title="Typers.this.global.Tree">fun</a>, <a href="#684726" title="Typers.this.global.Type">paramTp</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188185" title="=&gt; Boolean">reportErrors</a>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <a href="#684668" title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">argResultsBuff</a> <span title="(x: Typers.this.SearchResult)argResultsBuff.type">+=</span> <a href="#684727" title="Typers.this.SearchResult">res</a>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#684727" title="Typers.this.SearchResult">res</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Implicits.scala.html#187510" title="=&gt; Typers.this.SearchResult">SearchFailure</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#684669" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a> <span title="(x: Typers.this.global.Tree)argBuff.type">+=</span> <a href="#684673" title="(v1: Typers.this.global.Tree, v2: Typers.this.global.Name)Typers.this.global.Tree">mkArg</a><span class="delimiter">(</span><a href="#684727" title="Typers.this.SearchResult">res</a>.<a href="Implicits.scala.html#440722" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#684725" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#684673" title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree">mkArg</a> = <a href="#684672" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg">mkNamedArg</a> // don't pass the default argument (if any) here, but start emitting named arguments for the following args
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#684725" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46799" title="=&gt; Boolean">hasDefault</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#684670" title="Boolean">paramFailed</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188181" title="=&gt; scala.collection.mutable.Set[Typers.this.AbsTypeError]">errBuffer</a>.<span title="(p: Typers.this.AbsTypeError =&gt; Boolean)Option[Typers.this.AbsTypeError]">find</span><span class="delimiter">(</span><a href="#684808" title="Typers.this.AbsTypeError">_</a>.<a href="ContextErrors.scala.html#626311" title="=&gt; Typers.this.ErrorKinds.ErrorKind">kind</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="ContextErrors.scala.html#187669" title="object Typers.this.ErrorKinds">ErrorKinds</a>.<a href="ContextErrors.scala.html#626280" title="=&gt; Typers.this.ErrorKinds.Value">Divergent</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="684815">divergentImplicit</a><span class="delimiter">)</span> =&gt;
                  // DivergentImplicit error has higher priority than &quot;no implicit found&quot;
                  // no need to issue the problem again if we are still in silent mode
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188185" title="=&gt; Boolean">reportErrors</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188215" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#684815" title="Typers.this.AbsTypeError">divergentImplicit</a><span class="delimiter">)</span>
                    <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188194" title="(removeP: Typers.this.AbsTypeError =&gt; Boolean)Unit">condBufferFlush</a><span class="delimiter">(</span><a href="#684819" title="Typers.this.AbsTypeError">_</a>.<a href="ContextErrors.scala.html#626311" title="=&gt; Typers.this.ErrorKinds.ErrorKind">kind</a>  <span title="(x$1: AnyRef)Boolean">==</span> <a href="ContextErrors.scala.html#187669" title="object Typers.this.ErrorKinds">ErrorKinds</a>.<a href="ContextErrors.scala.html#626280" title="=&gt; Typers.this.ErrorKinds.Value">Divergent</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Unit">None</span> =&gt;
                  <a href="ContextErrors.scala.html#187896" title="(tree: Typers.this.global.Tree, param: Typers.this.global.Symbol)Unit">NoImplicitFoundError</a><span class="delimiter">(</span><a href="#684663" title="Typers.this.global.Tree">fun</a>, <a href="#684725" title="Typers.this.global.Symbol">param</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#684670" title="Boolean">paramFailed</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="delimiter">}</span>
            /* else {
             TODO: alternative (to expose implicit search failure more) --&gt;
             resolve argument, do type inference, keep emitting positional args, infer type params based on default value for arg
             for (ar &lt;- argResultsBuff) ar.subst traverse defaultVal
             val targs = exprTypeArgs(context.undetparams, defaultVal.tpe, paramTp)
             substExpr(tree, tparams, targs, pt)
            }*/
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="684674">args</a> = <a href="#684669" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.SearchResult" id="684853">ar</a> &lt;- <a href="#684668" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#684853" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#440724" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../../../reflect/internal/Trees.scala.html#128624" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#684663" title="Typers.this.global.Tree">fun</a>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684875">arg</a> &lt;- <a href="#684674" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <a href="#684853" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#440724" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../../../reflect/internal/Trees.scala.html#128624" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#684875" title="Typers.this.global.Tree">arg</a>
        <span class="delimiter">}</span>

        <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="Analyzer.scala.html#187273" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="#684663" title="Typers.this.global.Tree">fun</a>, <a href="#684674" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.ApplyToImplicitArgs">setPos</span> <a href="#684663" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
      <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38820" title="Typers.this.global.Tree">ErrorType</a> =&gt;
        <a href="#684663" title="Typers.this.global.Tree">fun</a>
    <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree" id="187734">inferView</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="188257">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="188258">from</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="188259">to</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="188260">reportAmbiguous</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#187735" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#188257" title="Typers.this.global.Tree">tree</a>, <a href="#188258" title="Typers.this.global.Type">from</a>, <a href="#188259" title="Typers.this.global.Type">to</a>, <a href="#188260" title="Boolean">reportAmbiguous</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

    /** Infer an implicit conversion (``view'') between two types.
     *  @param tree             The tree which needs to be converted.
     *  @param from             The source type of the conversion
     *  @param to               The target type of the conversion
     *  @param reportAmbiguous  Should ambiguous implicit errors be reported?
     *                          False iff we search for a view to find out
     *                          whether one type is coercible to another.
     *  @param saveErrors       Should ambiguous and divergent implicit errors that were buffered
     *                          during the inference of a view be put into the original buffer.
     *                          False iff we don't care about them.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree" id="187735">inferView</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="188251">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="188252">from</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="188253">to</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="188254">reportAmbiguous</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="188255">saveErrors</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;infer view from &quot;)" class="string">&quot;infer view from &quot;</span><span title="(x$1: Any)String">+</span><a href="#188252" title="Typers.this.global.Type">from</a><span title="(x$1: Any)String">+</span><span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)String">+</span><a href="#188253" title="Typers.this.global.Type">to</a><span class="delimiter">)</span>//debug
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>
      <span class="keyword">else</span> <a href="#188252" title="Typers.this.global.Type">from</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">MethodType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">OverloadedType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">PolyType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <span class="keyword">def</span> <a title="(from: Typers.this.global.Type)Typers.this.global.Tree" id="684894">wrapImplicit</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="684896">from</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="684897">result</a> = <a href="Implicits.scala.html#187493" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context, saveAmbiguousDivergent: Boolean)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#188251" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Definitions.scala.html#45262" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#684896" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>, <a href="#188253" title="Typers.this.global.Type">to</a><span class="delimiter">)</span>, <a href="#188254" title="Boolean">reportAmbiguous</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>, <a href="#188255" title="Boolean">saveErrors</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#684897" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#440724" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Trees.scala.html#39397" title="=&gt; Typers.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a><span class="delimiter">)</span> <a href="#684897" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#440724" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../../../reflect/internal/Trees.scala.html#128624" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#188251" title="Typers.this.global.Tree">tree</a>
            <a href="#684897" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#440722" title="=&gt; Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="684895">result</a> = <a href="#684894" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="#188252" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#684895" title="Typers.this.global.Tree">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#684895" title="Typers.this.global.Tree">result</a>
          <span class="keyword">else</span> <a href="#684894" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45099" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46625" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#188252" title="Typers.this.global.Type">from</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">import</span> <a href="#187731" title="=&gt; Typers.this.Inferencer">infer</a>._

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.Namer" id="187738">namerCache</a>: <a href="Namers.scala.html#187335" title="Typers.this.Namer">Namer</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Namer" id="187740">namer</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#187738" title="=&gt; Typers.this.Namer">namerCache</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#187738" title="=&gt; Typers.this.Namer">namerCache</a>.<a href="Namers.scala.html#625582" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
        <a href="#187738" title="(x$1: Typers.this.Namer)Unit">namerCache</a> = <a href="Namers.scala.html#187328" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <a href="#187738" title="=&gt; Typers.this.Namer">namerCache</a>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Typers.this.Context" id="187742">context</a> = <a href="#244019" title="Typers.this.Context">context0</a>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Context" id="187744">context1</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>

    <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="187745">dropExistential</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="684939">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <a href="#684939" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Type">ExistentialType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="684943">tparams</a>, <a title="Typers.this.global.Type" id="684944">tpe</a><span class="delimiter">)</span> =&gt;
        <span title="Typers.this.global.SubstWildcardMap" class="keyword">new</span> <a href="../../../reflect/internal/Types.scala.html#39001" title="Typers.this.global.SubstWildcardMap">SubstWildcardMap</a><span class="delimiter">(</span><a href="#684943" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#140625" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#684939" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="684954">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#684954" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a> =&gt;
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="684955">tp0</a> = <a href="#684939" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Typers.this.global.Type">normalize</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="684956">tp1</a> = <a href="#187745" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#684955" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#684956" title="Typers.this.global.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#684955" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span> <a href="#684939" title="Typers.this.global.Type">tp</a> <span class="keyword">else</span> <a href="#684956" title="Typers.this.global.Type">tp1</a>
      <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#684939" title="Typers.this.global.Type">tp</a>
    <span class="delimiter">}</span>

    /** Check that &lt;code&gt;tree&lt;/code&gt; is a stable expression.
     *
     *  @param tree ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="187746">checkStable</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="656026">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120062" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#656026" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#656026" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <a href="ContextErrors.scala.html#187895" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">UnstableTreeError</a><span class="delimiter">(</span><a href="#656026" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    /** Would tree be a stable (i.e. a pure expression) if the type
     *  of its symbol was not volatile?
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="187747">isStableExceptVolatile</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="626879">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#626879" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#626879" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#626879" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41492" title="=&gt; Boolean">isVolatile</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Type" id="626887">savedTpe</a> = <a href="#626879" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>
        <span class="keyword">val</span> <a title="Long" id="626888">savedSTABLE</a> = <a href="#626879" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#46591" title="(mask: Long)Long">getFlag</a> <span title="Long(4194304L)">STABLE</span>
        <a href="#626879" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>
        <a href="#626879" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(4194304L)">STABLE</span>
        <span class="keyword">val</span> <a title="Boolean" id="626889">result</a> = <a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120062" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#626879" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#626879" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="#626887" title="Typers.this.global.Type">savedTpe</a>
        <a href="#626879" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <a href="#626888" title="Long">savedSTABLE</a>
        <a href="#626889" title="Boolean">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Check that `tpt` refers to a non-refinement class type */
    <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Boolean" id="187748">checkClassType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684959">tpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Boolean" id="684960">existentialOK</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="684961">stablePrefix</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(found: AnyRef)Boolean" id="684963">errorNotClass</a><span class="delimiter">(</span><a title="AnyRef" id="684965">found</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="ContextErrors.scala.html#187967" title="(tree: Typers.this.global.Tree, found: AnyRef)Typers.this.global.Tree">ClassTypeRequiredError</a><span class="delimiter">(</span><a href="#684959" title="Typers.this.global.Tree">tpt</a>, <a href="#684965" title="AnyRef">found</a><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="684964">check</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="684968">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#684968" title="Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="684972">pre</a>, <a title="Typers.this.global.Symbol" id="684973">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#684973" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#684973" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46467" title="=&gt; Boolean">isRefinementClass</a> =&gt;
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#684961" title="Boolean">stablePrefix</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#684972" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41491" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="ContextErrors.scala.html#187966" title="(tpt: Typers.this.global.Tree, pre: Typers.this.global.Type)Typers.this.global.Tree">TypeNotAStablePrefixError</a><span class="delimiter">(</span><a href="#684959" title="Typers.this.global.Tree">tpt</a>, <a href="#684972" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
              <span title="Boolean(false)" class="keyword">false</span>
            <span class="delimiter">}</span> <span class="keyword">else</span>
             // A type projection like X#Y can get by the stable check if the
             // prefix is singleton-bounded, so peek at the tree too.
             <a href="#684959" title="Typers.this.global.Tree">tpt</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Boolean">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="684978">qual</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#39066" title="(tp: Typers.this.global.Type)Boolean">isSingleType</a><span class="delimiter">(</span><a href="#684978" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> =&gt; <a href="#684963" title="(found: AnyRef)Boolean">errorNotClass</a><span class="delimiter">(</span><a href="#684959" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Boolean(true)">_</span>                                                      =&gt; <span title="Boolean(true)" class="keyword">true</span>
             <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38820" title="Boolean(true)">ErrorType</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="684982">restpe</a><span class="delimiter">)</span> =&gt; <a href="#684964" title="(tpe: Typers.this.global.Type)Boolean">check</a><span class="delimiter">(</span><a href="#684982" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="684985">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#684960" title="Boolean">existentialOK</a> =&gt; <a href="#684964" title="(tpe: Typers.this.global.Type)Boolean">check</a><span class="delimiter">(</span><a href="#684985" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="684989">underlying</a>, _<span class="delimiter">)</span> =&gt; <a href="#684964" title="(tpe: Typers.this.global.Type)Boolean">check</a><span class="delimiter">(</span><a href="#684989" title="Typers.this.global.Type">underlying</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Boolean" id="684990">t</a> =&gt; <a href="#684963" title="(found: AnyRef)Boolean">errorNotClass</a><span class="delimiter">(</span><a href="#684990" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#684964" title="(tpe: Typers.this.global.Type)Boolean">check</a><span class="delimiter">(</span><a href="#684959" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Check that type &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     *
     *  @param pos ...
     *  @param tp  ...
     *  @return    &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     */
    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean" id="187749">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="652598">pos</a>: <a href="../util/Position.scala.html#33991" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="652599">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="684991">checkNotLocked</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="684992">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#684992" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; sym.type">initialize</a>
        <a href="#684992" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46440" title="=&gt; Boolean">lockOK</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span> <a href="ContextErrors.scala.html#187989" title="(errPos: Typers.this.global.Position, sym0: Typers.this.global.Symbol)Unit">CyclicAliasingOrSubtypingError</a><span class="delimiter">(</span><a href="#652598" title="Typers.this.global.Position">pos</a>, <a href="#684992" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#652599" title="Typers.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="684998">pre</a>, <a title="Typers.this.global.Symbol" id="684999">sym</a>, <a title="List[Typers.this.global.Type]" id="685000">args</a><span class="delimiter">)</span> =&gt;
          <a href="#684991" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><span class="delimiter">(</span><a href="#684999" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
          <span class="delimiter">(</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#684999" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46450" title="=&gt; Boolean">isNonClassType</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#187750" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#652598" title="Typers.this.global.Position">pos</a>, <a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#684998" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41555" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#684999" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#685000" title="List[Typers.this.global.Type]">args</a><span class="delimiter">)</span>, <a href="#684999" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          // @M! info for a type ref to a type parameter now returns a polytype
          // @M was: checkNonCyclic(pos, pre.memberInfo(sym).subst(sym.typeParams, args), sym)

        <span class="keyword">case</span> <span title="Boolean">SingleType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="685013">pre</a>, <a title="Typers.this.global.Symbol" id="685014">sym</a><span class="delimiter">)</span> =&gt;
          <a href="#684991" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><span class="delimiter">(</span><a href="#685014" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
/*
        case TypeBounds(lo, hi) =&gt;
          var ok = true
          for (t &lt;- lo) ok = ok &amp; checkNonCyclic(pos, t)
          ok
*/
        <span class="keyword">case</span> <a title="Boolean" id="685015">st</a>: <a href="../../../reflect/internal/Types.scala.html#38815" title="Typers.this.global.SubType">SubType</a> =&gt;
          <a href="#187749" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#652598" title="Typers.this.global.Position">pos</a>, <a href="#685015" title="Typers.this.global.SubType">st</a>.<a href="../../../reflect/internal/Types.scala.html#62287" title="=&gt; Typers.this.global.Type">supertype</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Boolean" id="685020">ct</a>: <a href="../../../reflect/internal/Types.scala.html#38848" title="Typers.this.global.CompoundType">CompoundType</a> =&gt;
          <a href="#685020" title="Typers.this.global.CompoundType">ct</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="685033">x</a> =&gt; <a href="#187749" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#652598" title="Typers.this.global.Position">pos</a>, <a href="#685033" title="Typers.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt;
          <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean" id="187750">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="652591">pos</a>: <a href="../util/Position.scala.html#33991" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="652592">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Symbol" id="652593">lockedSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="keyword">try</span> <span class="delimiter">{</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#652593" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46441" title="(handler: =&gt; Unit)Boolean">lock</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187990" title="(errPos: Typers.this.global.Position, lockedSym: Typers.this.global.Symbol)Unit">CyclicReferenceError</a><span class="delimiter">(</span><a href="#652591" title="Typers.this.global.Position">pos</a>, <a href="#652593" title="Typers.this.global.Symbol">lockedSym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">else</span> <a href="#187749" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#652591" title="Typers.this.global.Position">pos</a>, <a href="#652592" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#652593" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46442" title="()Unit">unlock</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="187751">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="652588">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187749" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#652588" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#652588" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#652588" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit" id="187752">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="652583">defn</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="652584">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187750" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#652583" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#652584" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#652583" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#652584" title="Typers.this.global.Tree">tpt</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a>
        <a href="#652583" title="Typers.this.global.Tree">defn</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, tpe0: Typers.this.global.Type)Unit" id="187753">checkParamsConvertible</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685059">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="685060">tpe0</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Unit" id="685062">checkParamsConvertible0</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="685063">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
        <a href="#685063" title="Typers.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="685066">formals</a>, <a title="Typers.this.global.Type" id="685067">restpe</a><span class="delimiter">)</span> =&gt;
            /*
            if (formals.exists(_.typeSymbol == ByNameParamClass) &amp;&amp; formals.length != 1)
              error(pos, &quot;methods with `=&gt;`-parameter can be converted to function values only if they take no other parameters&quot;)
            if (formals exists (isRepeatedParamType(_)))
              error(pos, &quot;methods with `*`-parameters cannot be converted to function values&quot;);
            */
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#685067" title="Typers.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#41496" title="=&gt; Boolean">isDependent</a><span class="delimiter">)</span>
              <a href="ContextErrors.scala.html#187983" title="(tree: Typers.this.global.Tree, tp: Typers.this.global.Type)Unit">DependentMethodTpeConversionToFunctionError</a><span class="delimiter">(</span><a href="#685059" title="Typers.this.global.Tree">tree</a>, <a href="#685063" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <a href="#187753" title="(tree: Typers.this.global.Tree, tpe0: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#685059" title="Typers.this.global.Tree">tree</a>, <a href="#685067" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="#685062" title="(tpe: Typers.this.global.Type)Unit">checkParamsConvertible0</a><span class="delimiter">(</span><a href="#685060" title="Typers.this.global.Type">tpe0</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Check that type of given tree does not contain local or private
     *  components.
     */
    <span class="keyword">object</span> <a title="object Typer.this.checkNoEscaping" id="187754">checkNoEscaping</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#38980" title="Typers.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="685072">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Scope" id="685075">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#39174" title="Typers.this.global.Scope">Scope</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[Typers.this.global.Symbol]" id="685078">hiddenSymbols</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = _

      /** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to private
       *  components unless itself is wrapped in something private
       *  (&lt;code&gt;owner&lt;/code&gt; tells where the type occurs).
       *
       *  @param owner ...
       *  @param tree  ...
       *  @return      ...
       */
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, tree: T)T" id="685080">privates</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="685082">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="685095">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a>, <a title="T" id="685096">tree</a>: <a href="#685082" title="T">T</a><span class="delimiter">)</span>: <a href="#685082" title="T">T</a> =
        <a href="#685086" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#685095" title="Typers.this.global.Symbol">owner</a>, <a href="../../../reflect/internal/Scopes.scala.html#39180" title="object Typers.this.global.EmptyScope">EmptyScope</a>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#685096" title="T">tree</a><span class="delimiter">)</span>

      /** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to entities
       *  defined in scope &lt;code&gt;scope&lt;/code&gt;.
       *
       *  @param scope ...
       *  @param pt    ...
       *  @param tree  ...
       *  @return      ...
       */
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="685083">locals</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="685085">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Scope" id="685119">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#39174" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="685120">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="T" id="685121">tree</a>: <a href="#685085" title="T">T</a><span class="delimiter">)</span>: <a href="#685085" title="T">T</a> =
        <a href="#685086" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#685119" title="Typers.this.global.Scope">scope</a>, <a href="#685120" title="Typers.this.global.Type">pt</a>, <a href="#685121" title="T">tree</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="685086">check</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="685088">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="685100">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Scope" id="685101">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#39174" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="685102">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="T" id="685103">tree</a>: <a href="#685088" title="T">T</a><span class="delimiter">)</span>: <a href="#685088" title="T">T</a> = <span class="delimiter">{</span>
        <span class="keyword">this</span>.<a href="#685072" title="(x$1: Typers.this.global.Symbol)Unit">owner</a> = <a href="#685100" title="Typers.this.global.Symbol">owner</a>
        <span class="keyword">this</span>.<a href="#685075" title="(x$1: Typers.this.global.Scope)Unit">scope</a> = <a href="#685101" title="Typers.this.global.Scope">scope</a>
        <a href="#685078" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="685135">tp1</a> = <a href="#685090" title="(t: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#685103" title="T">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#685078" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#685103" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#685135" title="Typers.this.global.Type">tp1</a>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#685078" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#685163" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46496" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="ContextErrors.scala.html#187907" title="(tree: T)T">HiddenSymbolWithError</a><span class="delimiter">(</span><a href="#685103" title="T">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#187477" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#685102" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#685103" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#685102" title="Typers.this.global.Type">pt</a>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#685135" title="Typers.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46503" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span>
          <a href="#685086" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#685100" title="Typers.this.global.Symbol">owner</a>, <a href="#685101" title="Typers.this.global.Scope">scope</a>, <a href="#685102" title="Typers.this.global.Type">pt</a>, <a href="#685103" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#685135" title="Typers.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46631" title="=&gt; Typers.this.global.Type">classBound</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#685100" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#685103" title="T">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#187843" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#685078" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; List[Typers.this.global.Symbol]">reverse</span>, <a href="#685135" title="Typers.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> // privates
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="685187">badSymbol</a> = <a href="#685078" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Typers.this.global.Symbol">head</span>
          <a href="ContextErrors.scala.html#187910" title="(tree: T, badSymbol: Typers.this.global.Symbol)T">SymbolEscapesScopeError</a><span class="delimiter">(</span><a href="#685103" title="T">tree</a>, <a href="#685187" title="Typers.this.global.Symbol">badSymbol</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#685103" title="T">tree</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="685089">addHidden</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="685199">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#685078" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <span title="(elem: Any)Boolean">contains</span> <a href="#685199" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#685078" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#685199" title="Typers.this.global.Symbol">sym</a> <a href="#685202" title="(x: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">::</a> <a href="#685078" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Typers.this.global.Type)Typers.this.global.Type" id="685090">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="685143">t</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="685208">checkNoEscape</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="685209">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#685209" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46782" title="=&gt; Boolean">isPrivate</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#685209" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="685210">o</a> = <a href="#685072" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#685210" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685210" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#685209" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685210" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#685209" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46695" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                   <span title="=&gt; Boolean">!</span><a href="#685210" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#46550" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#685210" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46782" title="=&gt; Boolean">isPrivate</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                   <span title="=&gt; Boolean">!</span><a href="#685210" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#46599" title="=&gt; Typers.this.global.Symbol">privateWithin</a>.<a href="../../../reflect/internal/Symbols.scala.html#46570" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#685209" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#685210" title="Typers.this.global.Symbol">o</a> = <a href="#685210" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#685210" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#685209" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">||</span> <a href="#685210" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#685209" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46695" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>
              <a href="#685089" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#685209" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#685209" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#685209" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46497" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="685241">e</a> = <a href="#685075" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60508" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#685209" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="Boolean" id="685242">found</a> = <span title="Boolean(false)" class="keyword">false</span>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#685242" title="Boolean">found</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#685241" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685241" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92381" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#685075" title="=&gt; Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#685244" title="Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#685241" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#685209" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#685242" title="Boolean">found</a> = <span title="Boolean(true)" class="keyword">true</span>
                <a href="#685089" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#685209" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#685241" title="Typers.this.global.ScopeEntry">e</a> = <a href="#685075" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60509" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#685241" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../../../reflect/internal/Types.scala.html#74772" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span>
          <a href="#685143" title="Typers.this.global.Type">t</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="685274">sym</a>, <a title="List[Typers.this.global.Type]" id="685275">args</a><span class="delimiter">)</span> =&gt;
              <a href="#685208" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span><a href="#685274" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#685078" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685078" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; Typers.this.global.Symbol">head</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#685274" title="Typers.this.global.Symbol">sym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                  <a href="#685274" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#685274" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#685275" title="List[Typers.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#685078" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#685078" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<span title="=&gt; List[Typers.this.global.Symbol]">tail</span>
                <a href="#685143" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Typers.this.global.Type">normalize</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#685143" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">SingleType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="685288">sym</a><span class="delimiter">)</span> =&gt;
              <a href="#685208" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span><a href="#685288" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#685143" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
              <a href="#685143" title="Typers.this.global.Type">t</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(vparamss: List[List[Typers.this.global.ValDef]])Unit" id="187756">reenterValueParams</a><span class="delimiter">(</span><a title="List[List[Typers.this.global.ValDef]]" id="685289">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="685310">vparams</a> &lt;- <a href="#685289" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="685330">vparam</a> &lt;- <a href="#685310" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span>
          <a href="#685330" title="Typers.this.global.ValDef">vparam</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#685330" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]" id="187757">reenterTypeParams</a><span class="delimiter">(</span><a title="List[Typers.this.global.TypeDef]" id="654686">tparams</a>: <span title="List[Typers.this.global.TypeDef]">List</span><span class="delimiter">[</span>TypeDef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="685353">tparam</a> &lt;- <a href="#654686" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.TypeDef],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="#685353" title="Typers.this.global.TypeDef">tparam</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#685353" title="Typers.this.global.TypeDef">tparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <a href="#685353" title="Typers.this.global.TypeDef">tparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46713" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>
      <span class="delimiter">}</span>

    /** The qualifying class
     *  of a this or super with prefix &lt;code&gt;qual&lt;/code&gt;.
     *  packageOk is equal false when qualifying class symbol
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Option[Typers.this.global.Symbol]" id="187758">qualifyingClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="652636">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="652637">qual</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a>, <a title="Boolean" id="652640">packageOK</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Option[Typers.this.global.Symbol]">Option</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188117" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46566" title="=&gt; List[Typers.this.global.Symbol]">ownerChain</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="685403">o</a> =&gt; <a href="#652637" title="Typers.this.global.Name">qual</a>.<a href="../../../reflect/internal/Names.scala.html#52121" title="=&gt; Boolean">isEmpty</a> <span title="(x: Boolean)Boolean">||</span> <a href="#685403" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685403" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#652637" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span> <span title="Option[Typers.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Some[Typers.this.global.Symbol]">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="685410">c</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#652640" title="Boolean">packageOK</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#685410" title="Typers.this.global.Symbol">c</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a> =&gt;
          <span title="(x: Typers.this.global.Symbol)Some[Typers.this.global.Symbol]">Some</span><span class="delimiter">(</span><a href="#685410" title="Typers.this.global.Symbol">c</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
          <a href="ContextErrors.scala.html#187986" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name)Typers.this.global.Tree">QualifyingClassError</a><span class="delimiter">(</span><a href="#652636" title="Typers.this.global.Tree">tree</a>, <a href="#652637" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span>
          <span title="object None">None</span>
      <span class="delimiter">}</span>

    /** The typer for an expression, depending on where we are. If we are before a superclass
     *  call, this is a typer over a constructor context; otherwise it is the current typer.
     */
    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(inConstr: Boolean)Typers.this.Typer" id="187759">constrTyperIf</a><span class="delimiter">(</span><a title="Boolean" id="655978">inConstr</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#187422" title="Typers.this.Typer">Typer</a> =
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#655978" title="Boolean">inConstr</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a><span class="delimiter">)</span>
        <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188212" title="=&gt; Typers.this.Context">makeConstructorContext</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#187422" title="Typers.this.Typer" class="keyword">this</a>

    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](inConstr: Boolean)(f: Typers.this.Typer =&gt; T)T" id="187760">withCondConstrTyper</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="187762">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Boolean" id="685420">inConstr</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="685421">f</a>: Typer =&gt; T<span class="delimiter">)</span>: <a href="#187762" title="T">T</a> =
      <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#685420" title="Boolean">inConstr</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="685424">c</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188212" title="=&gt; Typers.this.Context">makeConstructorContext</a>
        <a href="#187766" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; T)T">typerWithLocalContext</a><span class="delimiter">(</span><a href="#685424" title="Typers.this.Context">c</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#685421" title="Typers.this.Typer =&gt; T">f</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#685421" title="(v1: Typers.this.Typer)T">f</a><span class="delimiter">(</span><a href="#187422" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](c: =&gt; Typers.this.Context)(cond: Boolean)(f: Typers.this.Typer =&gt; T)T" id="187763">typerWithCondLocalContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="187765">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; Typers.this.Context" id="685440">c</a>: =&gt; Context<span class="delimiter">)</span><span class="delimiter">(</span><a title="Boolean" id="685441">cond</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="685442">f</a>: Typer =&gt; T<span class="delimiter">)</span>: <a href="#187765" title="T">T</a> =
      <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#685441" title="Boolean">cond</a><span class="delimiter">)</span> <a href="#187766" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; T)T">typerWithLocalContext</a><span class="delimiter">(</span><a href="#685440" title="=&gt; Typers.this.Context">c</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#685442" title="Typers.this.Typer =&gt; T">f</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#685442" title="(v1: Typers.this.Typer)T">f</a><span class="delimiter">(</span><a href="#187422" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span>

    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](c: Typers.this.Context)(f: Typers.this.Typer =&gt; T)T" id="187766">typerWithLocalContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="187768">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Context" id="685429">c</a>: <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="685430">f</a>: Typer =&gt; T<span class="delimiter">)</span>: <a href="#187768" title="T">T</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="T" id="685452">res</a> = <a href="#685430" title="(v1: Typers.this.Typer)T">f</a><span class="delimiter">(</span><a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#685429" title="Typers.this.Context">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#685429" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
        <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188193" title="(errors: scala.collection.mutable.Set[Typers.this.AbsTypeError])scala.collection.mutable.Set[Typers.this.AbsTypeError]">updateBuffer</a><span class="delimiter">(</span><a href="#685429" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#188196" title="()scala.collection.mutable.Set[Typers.this.AbsTypeError]">flushAndReturnBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#685452" title="T">res</a>
    <span class="delimiter">}</span>

    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](c: Typers.this.Context)(f: Typers.this.Typer =&gt; T)T" id="187769">typerReportAnyContextErrors</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="187771">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Context" id="685467">c</a>: <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="685468">f</a>: Typer =&gt; T<span class="delimiter">)</span>: <a href="#187771" title="T">T</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="T" id="685471">res</a> = <a href="#685468" title="(v1: Typers.this.Typer)T">f</a><span class="delimiter">(</span><a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#685467" title="Typers.this.Context">c</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#685467" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
        <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188215" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#685467" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#188181" title="=&gt; scala.collection.mutable.Set[Typers.this.AbsTypeError]">errBuffer</a>.<span title="=&gt; Typers.this.AbsTypeError">head</span><span class="delimiter">)</span>
      <a href="#685471" title="T">res</a>
    <span class="delimiter">}</span>

    @inline
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="[T](c: Typers.this.Context)(f: =&gt; T)T" id="187772">withSavedContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="187774">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Context" id="685474">c</a>: <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="685475">f</a>: =&gt; T<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Typers.this.AbsTypeError]" id="685478">savedErrors</a> = <a href="#685474" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#188196" title="()scala.collection.mutable.Set[Typers.this.AbsTypeError]">flushAndReturnBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="T" id="685479">res</a> = <a href="#685475" title="=&gt; T">f</a>
      <a href="#685474" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#188193" title="(errors: scala.collection.mutable.Set[Typers.this.AbsTypeError])scala.collection.mutable.Set[Typers.this.AbsTypeError]">updateBuffer</a><span class="delimiter">(</span><a href="#685478" title="scala.collection.mutable.Set[Typers.this.AbsTypeError]">savedErrors</a><span class="delimiter">)</span>
      <a href="#685479" title="T">res</a>
    <span class="delimiter">}</span>


    /** The typer for a label definition. If this is part of a template we
     *  first have to enter the label definition.
     */
    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer" id="187775">labelTyper</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="685482">ldef</a>: <span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">)</span>: <a href="#187422" title="Typers.this.Typer">Typer</a> =
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#685482" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> // labeldef is part of template
        <span class="keyword">val</span> <a title="Typers.this.Typer" id="685489">typer1</a> = <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#685482" title="Typers.this.global.LabelDef">ldef</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#685489" title="Typers.this.Typer">typer1</a>.<a href="#187820" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#685482" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>
        <a href="#685489" title="Typers.this.Typer">typer1</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#187422" title="Typers.this.Typer" class="keyword">this</a>

    <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="187776">xtypes</a> = <span title="Boolean(false)" class="keyword">false</span>

    /** Is symbol defined and not stale?
     */
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="187778">reallyExists</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="635050">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#187779" title="(sym: Typers.this.global.Symbol)Boolean">isStale</a><span class="delimiter">(</span><a href="#635050" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#635050" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38827" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
      <a href="#635050" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46559" title="=&gt; Boolean">exists</a>
    <span class="delimiter">}</span>

    /** A symbol is stale if it is toplevel, to be loaded from a classfile, and
     *  the classfile is produced from a sourcefile which is compiled in the current run.
     */
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="187779">isStale</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="635053">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <a href="#635053" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46618" title="=&gt; Typers.this.global.Type">rawInfo</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>loaders.<a href="../symtab/SymbolLoaders.scala.html#241795" title="Typers.this.global.loaders.ClassfileLoader">ClassfileLoader</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <a href="#635053" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46618" title="=&gt; Typers.this.global.Type">rawInfo</a>.<a href="../../../reflect/internal/Types.scala.html#41593" title="(sym: Typers.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#635053" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">(</span><a href="#635053" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46719" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188801" title="=&gt; scala.collection.mutable.HashSet[String]">compiledFiles</a> <span title="(elem: String)Boolean">contains</span> <a href="#635053" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46719" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a>.<a href="../io/AbstractFile.scala.html#191126" title="=&gt; String">path</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Does the context of tree &lt;code&gt;tree&lt;/code&gt; require a stable type?
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean" id="187780">isStableContext</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685503">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="685504">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="685505">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
      <a href="#187784" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#685503" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#685504" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
      <span class="delimiter">(</span><span title="Boolean(false)">xtypes</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#685505" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41491" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">||</span>
       <span class="delimiter">(</span><a href="#685504" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#685503" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46551" title="=&gt; Boolean">isConstant</a> <span title="(x: Boolean)Boolean">||</span>
       <a href="#685505" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685505" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62297" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#41491" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#685503" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#685505" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
       <a href="#685505" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46467" title="=&gt; Boolean">isRefinementClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#685503" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#685505" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Make symbol accessible. This means:
     *  If symbol refers to package object, insert `.package` as second to last selector.
     *  (exception for some symbols in scala package which are dealiased immediately)
     *  Call checkAccessible, which sets tree's attributes.
     *  Also note that checkAccessible looks up sym on pre without checking that pre is well-formed
     *  (illegal type applications in pre will be skipped -- that's why typedSelect wraps the resulting tree in a TreeWithDeferredChecks)
     *  @return modified tree and new prefix type
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)" id="187781">makeAccessible</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685541">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="685542">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="685543">pre</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="685544">site</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span>Tree, Type<span class="delimiter">)</span> =
      <span title="(Typers.this.global.Tree, Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#187782" title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean">isInPackageObject</a><span class="delimiter">(</span><a href="#685542" title="Typers.this.global.Symbol">sym</a>, <a href="#685543" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#685543" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44962" title="=&gt; Typers.this.global.Symbol">ScalaPackageClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685542" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // short cut some aliases. It seems pattern matching needs this
          // to notice exhaustiveness and to generate good code when
          // List extractors are mixed with :: patterns. See Test5 in lists.scala.
          <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" id="685581">dealias</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="685582">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
            <span title="(_1: Typers.this.global.gen.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#685541" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span><a href="../Global.scala.html#186149" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92345" title="(sym: Typers.this.global.gen.global.Symbol)Typers.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#685582" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">}</span>, <a href="#685582" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span>
          <a href="#685542" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="Nothing">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59363" title="=&gt; Typers.this.global.nme.NameType">List</a> =&gt; <span title="Nothing" class="keyword">return</span> <a href="#685581" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45136" title="=&gt; Typers.this.global.Symbol">ListModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="Nothing">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59365" title="=&gt; Typers.this.global.nme.NameType">Seq</a>  =&gt; <span title="Nothing" class="keyword">return</span> <a href="#685581" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45142" title="=&gt; Typers.this.global.Symbol">SeqModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="Nothing">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58951" title="=&gt; Typers.this.global.nme.NameType">Nil</a>  =&gt; <span title="Nothing" class="keyword">return</span> <a href="#685581" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45140" title="=&gt; Typers.this.global.Symbol">NilModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="685574">qual</a> = <a href="#187864" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a> <span class="delimiter">{</span> <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#685541" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187133" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#685541" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Ident">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58850" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685629">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#685629" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58850" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685656">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#685656" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58850" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers extends Typers.this.global.RefTree with Serializable" id="685575">tree1</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">atPos</a><span class="delimiter">(</span><a href="#685541" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#685541" title="Typers.this.global.Tree">tree</a> <span title="Typers extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="685682">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#685574" title="Typers.this.global.Tree">qual</a>, <a href="#685682" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Name" id="685703">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#685574" title="Typers.this.global.Tree">qual</a>, <a href="#685703" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, <a title="Typers.this.global.TypeName" id="685722">name</a><span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.TypeName)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#685574" title="Typers.this.global.Tree">qual</a>, <a href="#685722" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><a href="Infer.scala.html#188007" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#685575" title="Typers extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#685542" title="Typers.this.global.Symbol">sym</a>, <a href="#685574" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#685574" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#685574" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</span><a href="Infer.scala.html#188007" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#685541" title="Typers.this.global.Tree">tree</a>, <a href="#685542" title="Typers.this.global.Symbol">sym</a>, <a href="#685543" title="Typers.this.global.Type">pre</a>, <a href="#685544" title="Typers.this.global.Tree">site</a><span class="delimiter">)</span>, <a href="#685543" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    /** Is `sym` defined in package object of package `pkg`?
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean" id="187782">isInPackageObject</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="685546">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="685547">pkg</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#685547" title="Typers.this.global.Symbol">pkg</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <a href="#685546" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46653" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="685558">sym</a> =&gt;
          <span title="=&gt; Boolean">!</span><a href="#685558" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46474" title="=&gt; Boolean">isPackage</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
            <a href="#685558" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46508" title="=&gt; Boolean">isPackageObjectClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#685558" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#685547" title="Typers.this.global.Symbol">pkg</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#685547" title="Typers.this.global.Symbol">pkg</a>.<a href="../../../reflect/internal/Symbols.scala.html#46560" title="=&gt; Boolean">isInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
              // need to be careful here to not get a cyclic reference during bootstrap
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="685565">pkgobj</a> = <a href="#685547" title="Typers.this.global.Symbol">pkg</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58850" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
              <a href="#685565" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../../../reflect/internal/Symbols.scala.html#46560" title="=&gt; Boolean">isInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><a href="#685565" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#685558" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46653" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <span title="(elem: Any)Boolean">contains</span> <a href="#685558" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    /** Post-process an identifier or selection node, performing the following:
     *  1. Check that non-function pattern expressions are stable
     *  2. Check that packages and static modules are not used as values
     *  3. Turn tree type into stable type if possible and required by context.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187783">stabilize</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685761">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="685762">pre</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Int" id="685763">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="685764">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#685761" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46465" title="=&gt; Boolean">isOverloaded</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#187389" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#685763" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#188058" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#685761" title="Typers.this.global.Tree">tree</a>, <a href="#685764" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="685766">sym</a> = <a href="#685761" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="685767">fail</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="ContextErrors.scala.html#187987" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Tree">NotAValueError</a><span class="delimiter">(</span><a href="#685761" title="Typers.this.global.Tree">tree</a>, <a href="#685766" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <a href="#685761" title="Typers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#685763" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)">PATTERNmode</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685761" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isTerm</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (1)
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#685766" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46480" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <a href="#187746" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#685761" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#685767" title="()Typers.this.global.Tree">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#685763" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(65)">|</span> QUALmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#685766" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46480" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (2)
        <a href="#685767" title="()Typers.this.global.Tree">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#685766" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46534" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685762" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41491" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#45107" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#685761" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span class="delimiter">(</span><a href="#187780" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#685761" title="Typers.this.global.Tree">tree</a>, <a href="#685763" title="Int">mode</a>, <a href="#685764" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#685766" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#685766" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#685761" title="Typers.this.global.Tree">tree</a>.<span title="(tp: Typers.this.global.Type)tree.type">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38930" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#685762" title="Typers.this.global.Type">pre</a>, <a href="#685766" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#685761" title="Typers.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="187784">isNarrowable</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="685508">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#685508" title="Typers.this.global.Type">tpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(true)">TypeRef</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> | RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="685811">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#187784" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#685811" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="685815">tpe1</a>, _<span class="delimiter">)</span> =&gt; <a href="#187784" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#685815" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="685818">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#187784" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#685818" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="685820">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#187784" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#685820" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a>
    <span class="delimiter">}</span>

    /**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187785">stabilizeFun</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685821">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="685822">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="685823">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="685825">sym</a> = <a href="#685821" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="685826">pre</a> = <a href="#685821" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685831">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="#685831" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="keyword">case</span> <span title="Typers.this.global.NoPrefix.type">_</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#38829" title="object Typers.this.global.NoPrefix">NoPrefix</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#685821" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38881" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685826" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41491" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685825" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41526" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#187780" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#685821" title="Typers.this.global.Tree">tree</a>, <a href="#685822" title="Int">mode</a>, <a href="#685823" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#685825" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#685821" title="Typers.this.global.Tree">tree</a>.<span title="(tp: Typers.this.global.Type)tree.type">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#38930" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#685826" title="Typers.this.global.Type">pre</a>, <a href="#685825" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#685821" title="Typers.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

    /** The member with given name of given qualifier tree */
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol" id="187786">member</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685845">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="685846">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Boolean" id="685849">callSiteWithinClass</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="685851">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188117" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#46570" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a> <a href="#685851" title="Typers.this.global.Symbol">clazz</a>
      <span class="keyword">val</span> <a title="Boolean" id="685850">includeLocals</a> = <a href="#685845" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean(true)">ThisType</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="685853">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#685849" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span><a href="#685853" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>                =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(true)">SuperType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="685856">clazz</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#685849" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span><a href="#685856" title="Typers.this.global.Type">clazz</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean">_</span>                                                            =&gt; <a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#685850" title="Boolean">includeLocals</a><span class="delimiter">)</span> <a href="#685845" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41545" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a> <a href="#685846" title="Typers.this.global.Name">name</a>
      <span class="keyword">else</span> <a href="#685845" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41550" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonLocalMember</a> <a href="#685846" title="Typers.this.global.Name">name</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[T](op: Typers.this.Typer =&gt; T, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[T]" id="187787">silent</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="659205">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="659199">op</a>: Typer =&gt; T,
                  <a title="Boolean" id="659203">reportAmbiguousErrors</a>: <span title="Boolean">Boolean</span> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188187" title="=&gt; Boolean">ambiguousErrors</a>,
                  <a title="Typers.this.global.Tree" id="659206">newtree</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>: <a href="#187408" title="Typers.this.SilentResult[T]">SilentResult</a><span class="delimiter">[</span>T<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="685862">rawTypeStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38641" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38683" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="685863">findMemberStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38641" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38685" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="685864">subtypeStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38641" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38687" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="685865">failedSilentStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187209" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Typers.this.SilentResult[T]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188185" title="=&gt; Boolean">reportErrors</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#659203" title="Boolean">reportAmbiguousErrors</a> <span title="(x: Boolean)Boolean">!=</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188187" title="=&gt; Boolean">ambiguousErrors</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#659206" title="Typers.this.global.Tree">newtree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.Context" id="685874">context1</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188210" title="(reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.Context">makeSilent</a><span class="delimiter">(</span><a href="#659203" title="Boolean">reportAmbiguousErrors</a>, <a href="#659206" title="Typers.this.global.Tree">newtree</a><span class="delimiter">)</span>
          <a href="#685874" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#188178" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#685874" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#188166" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188165" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#685874" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#188139" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188138" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <span class="keyword">val</span> <a title="Typers.this.Typer" id="685875">typer1</a> = <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#685874" title="Typers.this.Context">context1</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="T" id="685876">result</a> = <a href="#659199" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#685875" title="Typers.this.Typer">typer1</a><span class="delimiter">)</span>
          <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188178" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#685874" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188166" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#685874" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#188165" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188139" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#685874" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#188138" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <span title="Typers.this.SilentResult[T]" class="keyword">if</span> <span class="delimiter">(</span><a href="#685874" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="#699711" title="(err: Typers.this.AbsTypeError)Typers.this.SilentTypeError">SilentTypeError</a><span class="delimiter">(</span><a href="#685874" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#188181" title="=&gt; scala.collection.mutable.Set[Typers.this.AbsTypeError]">errBuffer</a>.<span title="=&gt; Typers.this.AbsTypeError">head</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#699707" title="(value: T)Typers.this.SilentResultValue[T]">SilentResultValue</a><span class="delimiter">(</span><a href="#685876" title="T">result</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188186" title="=&gt; Boolean">bufferErrors</a> <span title="(x: Boolean)Boolean">||</span> <a href="#187421" title="=&gt; Boolean">isPastTyper</a>, <span title="String(&quot;silent mode is not available past typer&quot;)" class="string">&quot;silent mode is not available past typer&quot;</span><span class="delimiter">)</span>
          <a href="#187772" title="(c: Typers.this.Context)(f: =&gt; Typers.this.SilentResult[T])Typers.this.SilentResult[T]">withSavedContext</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span><span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="T" id="685908">res</a> = <a href="#659199" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#187422" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Typers.this.AbsTypeError]" id="685909">errorsToReport</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188196" title="()scala.collection.mutable.Set[Typers.this.AbsTypeError]">flushAndReturnBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Typers.this.SilentResult[T]" class="keyword">if</span> <span class="delimiter">(</span><a href="#685909" title="scala.collection.mutable.Set[Typers.this.AbsTypeError]">errorsToReport</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#699707" title="(value: T)Typers.this.SilentResultValue[T]">SilentResultValue</a><span class="delimiter">(</span><a href="#685908" title="T">res</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#699711" title="(err: Typers.this.AbsTypeError)Typers.this.SilentTypeError">SilentTypeError</a><span class="delimiter">(</span><a href="#685909" title="scala.collection.mutable.Set[Typers.this.AbsTypeError]">errorsToReport</a>.<span title="=&gt; Typers.this.AbsTypeError">head</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="685917">ex</a>: <a href="../../../reflect/internal/Symbols.scala.html#38758" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#685917" title="Typers.this.global.CyclicReference">ex</a>
        <span class="keyword">case</span> <a title="Typers.this.SilentTypeError" id="685918">ex</a>: <a href="../../../reflect/internal/Types.scala.html#39126" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          // fallback in case TypeError is still thrown
          // @H this happens for example in cps annotation checker
          <a href="../../../reflect/internal/util/StatBase.scala.html#38642" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38683" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a>, <a href="#685862" title="scala.tools.nsc.util.Statistics.IntPair">rawTypeStart</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#38642" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38685" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a>, <a href="#685863" title="scala.tools.nsc.util.Statistics.IntPair">findMemberStart</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#38642" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38687" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a>, <a href="#685864" title="scala.tools.nsc.util.Statistics.IntPair">subtypeStart</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187209" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a>, <a href="#685865" title="scala.tools.nsc.util.Statistics.LongPair">failedSilentStart</a><span class="delimiter">)</span>
          <a href="#699711" title="(err: Typers.this.AbsTypeError)Typers.this.SilentTypeError">SilentTypeError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#626488" title="(ex: Typers.this.global.TypeError, kind: Typers.this.ErrorKinds.ErrorKind)Typers.this.TypeErrorWrapper">TypeErrorWrapper</a><span class="delimiter">(</span><a href="#685918" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Perform the following adaptations of expression, pattern or type `tree` wrt to
     *  given mode `mode` and given prototype `pt`:
     *  (-1) For expressions with annotated types, let AnnotationCheckers decide what to do
     *  (0) Convert expressions with constant types to literals (unless in interactive/scaladoc mode)
     *  (1) Resolve overloading, unless mode contains FUNmode
     *  (2) Apply parameterless functions
     *  (3) Apply polymorphic types to fresh instances of their type parameters and
     *      store these instances in context.undetparams,
     *      unless followed by explicit type application.
     *  (4) Do the following to unapplied methods used as values:
     *  (4.1) If the method has only implicit parameters pass implicit arguments
     *  (4.2) otherwise, if `pt` is a function type and method is not a constructor,
     *        convert to function by eta-expansion,
     *  (4.3) otherwise, if the method is nullary with a result type compatible to `pt`
     *        and it is not a constructor, apply it to ()
     *  otherwise issue an error
     *  (5) Convert constructors in a pattern as follows:
     *  (5.1) If constructor refers to a case class factory, set tree's type to the unique
     *        instance of its primary constructor that is a subtype of the expected type.
     *  (5.2) If constructor refers to an extractor, convert to application of
     *        unapply or unapplySeq method.
     *
     *  (6) Convert all other types to TypeTree nodes.
     *  (7) When in TYPEmode but not FUNmode or HKmode, check that types are fully parameterized
     *      (7.1) In HKmode, higher-kinded types are allowed, but they must have the expected kind-arity
     *  (8) When in both EXPRmode and FUNmode, add apply method calls to values of object type.
     *  (9) If there are undetermined type variables and not POLYmode, infer expression instance
     *  Then, if tree's type is not a subtype of expected type, try the following adaptations:
     *  (10) If the expected type is Byte, Short or Char, and the expression
     *      is an integer fitting in the range of that type, convert it to that type.
     *  (11) Widen numeric literals to their expected type, if necessary
     *  (12) When in mode EXPRmode, convert E to { E; () } if expected type is scala.Unit.
     *  (13) When in mode EXPRmode, apply AnnotationChecker conversion if expected type is annotated.
     *  (14) When in mode EXPRmode, apply a view
     *  If all this fails, error
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree" id="187790">adapt</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="597727">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="597728">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="597729">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="597732">original</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree" id="685923">adaptToImplicitMethod</a><span class="delimiter">(</span><a title="Typers.this.global.MethodType" id="685928">mt</a>: <a href="../../../reflect/internal/Types.scala.html#38881" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a> <span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (9) -- should revisit dropped condition `(mode &amp; POLYmode) == 0`
          // dropped so that type args of implicit method are inferred even if polymorphic expressions are allowed
          // needed for implicits in 2.8 collection library -- maybe once #3346 is fixed, we can reinstate the condition?
            <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188178" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="Infer.scala.html#188035" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188179" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#597729" title="Typers.this.global.Type">pt</a>,
              // approximate types that depend on arguments since dependency on implicit argument is like dependency on type parameter
              <a href="#685928" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#62364" title="=&gt; Typers.this.global.MethodType">approximate</a>,
              // if we are looking for a manifest, instantiate type to Nothing anyway,
              // as we would get ambiguity errors otherwise. Example
              // Looking for a manifest of Nil: This has many potential types,
              // so we need to instantiate to minimal type List[Nothing].
              keepNothings = <span title="Boolean(false)" class="keyword">false</span>, // retract Nothing's that indicate failure, ambiguities in manifests are dealt with in manifestOfType
              useWeaklyCompatible = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> // #3808
        <span class="delimiter">}</span>

        // avoid throwing spurious DivergentImplicit errors
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

        <a href="#187760" title="(inConstr: Boolean)(f: Typers.this.Typer =&gt; Typers.this.global.Tree)Typers.this.global.Tree">withCondConstrTyper</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120076" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">{</span> <a title="Typers.this.Typer" id="685946">typer1</a> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#597732" title="Typers.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#597729" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
            <a href="#685946" title="Typers.this.Typer">typer1</a>.<a href="#187787" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="685960">tpr</a> =&gt; <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="685961">withImplicitArgs</a> = <a href="#685960" title="Typers.this.Typer">tpr</a>.<a href="#187733" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#685960" title="Typers.this.Typer">tpr</a>.<a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="#597727" title="Typers.this.global.Tree">tree</a> // silent will wrap it in SilentTypeError anyway
              <span class="keyword">else</span> <a href="#685960" title="Typers.this.Typer">tpr</a>.<a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#685961" title="Typers.this.global.Tree">withImplicitArgs</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentResultValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685970">result</a><span class="delimiter">)</span> =&gt;
                <a href="#685970" title="Typers.this.global.Tree">result</a>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
                <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;fallback on implicits: &quot;)" class="string">&quot;fallback on implicits: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597727" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;/&quot;)" class="string">&quot;/&quot;</span> <span title="(x$1: Any)String">+</span> <a href="../ast/Trees.scala.html#186438" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#597732" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="685971">tree1</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#186438" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#597732" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
                <a href="#685971" title="Typers.this.global.Tree">tree1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../../../reflect/internal/AnnotationCheckers.scala.html#34942" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#685971" title="Typers.this.global.Tree">tree1</a>, <a href="#685971" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#685971" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#685971" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#685971" title="Typers.this.global.Tree">tree1</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a>, <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <a href="#685946" title="Typers.this.Typer">typer1</a>.<a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#685946" title="Typers.this.Typer">typer1</a>.<a href="#187733" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree" id="685924">instantiateToMethodType</a><span class="delimiter">(</span><a title="Typers.this.global.MethodType" id="685991">mt</a>: <a href="../../../reflect/internal/Types.scala.html#38881" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="685992">meth</a> = <a href="#597727" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          // a partial named application is a block (see comment in EtaExpansion)
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="685998">tree1</a><span class="delimiter">)</span> =&gt; <a href="#685998" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">_</span>               =&gt; <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#685992" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#685992" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46538" title="=&gt; Boolean">isMacro</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#45264" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (4.2)
          <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;eta-expanding &quot;)" class="string">&quot;eta-expanding &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597727" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#187753" title="(tree: Typers.this.global.Tree, tpe0: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="686000">tree0</a> = <a href="EtaExpansion.scala.html#187542" title="(unit: Typers.this.global.CompilationUnit, tree: Typers.this.global.Tree)Typers.this.global.Tree">etaExpand</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          // println(&quot;eta &quot;+tree+&quot; ---&gt; &quot;+tree0+&quot;:&quot;+tree0.tpe+&quot; undet: &quot;+context.undetparams+ &quot; mode: &quot;+Integer.toHexString(mode))

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // #2624: need to infer type arguments for eta expansion of a polymorphic method
            // context.undetparams contains clones of meth.typeParams (fresh ones were generated in etaExpand)
            // need to run typer on tree0, since etaExpansion sets the tpe's of its subtrees to null
            // can't type with the expected type, as we can't recreate the setup in (3) without calling typed
            // (note that (3) does not call typed to do the polymorphic type instantiation --
            //  it is called after the tree has been typed with a polymorphic expected result type)
            <a href="#187791" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#686000" title="Typers.this.global.Tree">tree0</a>, <a href="#597728" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#686000" title="Typers.this.global.Tree">tree0</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#685992" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#685991" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#62349" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (4.3)
          <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a>, <a href="#597732" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188156" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#187974" title="(tree: Typers.this.global.Tree, meth: Typers.this.global.Symbol)Typers.this.global.Tree">MissingArgsForMethodTpeError</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#685992" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="685925">adaptType</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#187389" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#597727" title="Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#187388" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188720" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (7)
          // @M When not typing a higher-kinded type ((mode &amp; HKmode) == 0)
          // or raw type (tree.symbol.isJavaDefined &amp;&amp; context.unit.isJava), types must be of kind *,
          // and thus parameterized types must be applied to their type arguments
          // @M TODO: why do kind-* tree's have symbols, while higher-kinded ones don't?
          <a href="ContextErrors.scala.html#187975" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">MissingTypeParametersError</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span> // (7.1) @M: check kind-arity
        // @M: removed check for tree.hasSymbol and replace tree.symbol by tree.tpe.symbol (TypeTree's must also be checked here, and they don't directly have a symbol)
        <span class="delimiter">(</span><a href="Modes.scala.html#187388" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          // @M: don't check tree.tpe.symbol.typeParams. check tree.tpe.typeParams!!!
          // (e.g., m[Int] --&gt; tree.tpe.symbol.typeParams.length == 1, tree.tpe.typeParams.length == 0!)
          <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41528" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#597729" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41528" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44982" title="=&gt; Typers.this.global.Symbol">AnyClass</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44996" title="object Typers.this.global.definitions.NothingClass">NothingClass</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#597729" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // Check that the actual kind arity (tree.symbol.typeParams.length) conforms to the expected
          // kind-arity (pt.typeParams.length). Full checks are done in checkKindBounds in Infer.
          // Note that we treat Any and Nothing as kind-polymorphic.
          // We can't perform this check when typing type arguments to an overloaded method before the overload is resolved
          // (or in the case of an error type) -- this is indicated by pt == WildcardType (see case TypeApply in typed1).
          <a href="ContextErrors.scala.html#187976" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">KindArityMismatchError</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#597727" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span> // (6)
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeTree</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#597727" title="Typers.this.global.Tree">tree</a>
          <span class="keyword">case</span> <span title="Typers.this.global.TypeTree">_</span>          =&gt; <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="685926">adaptConstrPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span> // (5)
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="686092">extractor</a> = <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46654" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="686095">sym</a> =&gt; <a href="#187778" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="Unapplies.scala.html#187561" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#686095" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#686092" title="Typers.this.global.Symbol">extractor</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#597727" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#686092" title="Typers.this.global.Symbol">extractor</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="686101">unapply</a> = <a href="Unapplies.scala.html#187561" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#686092" title="Typers.this.global.Symbol">extractor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="686102">clazz</a> = <a href="Unapplies.scala.html#187562" title="(extractor: Typers.this.global.Symbol)Typers.this.global.Symbol">unapplyParameterType</a><span class="delimiter">(</span><a href="#686101" title="Typers.this.global.Symbol">unapply</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#686101" title="Typers.this.global.Symbol">unapply</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46776" title="=&gt; Boolean">isCase</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#686102" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46776" title="=&gt; Boolean">isCase</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#686102" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46683" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#686124" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46776" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // convert synthetic unapply of case class to case class constructor
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="686125">prefix</a> = <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Typers.this.global.Type">prefix</a>
            <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="686126">tree1</a> = <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#686102" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46664" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41554" title="(pre: Typers.this.global.Type, clazz: Typers.this.global.Symbol)Typers.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#686125" title="Typers.this.global.Type">prefix</a>, <a href="#686102" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              .<span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

            <a href="Infer.scala.html#188039" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], pt0: Typers.this.global.Type)Unit">inferConstructorInstance</a><span class="delimiter">(</span><a href="#686126" title="Typers.this.global.TypeTree">tree1</a>, <a href="#686102" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <a href="#686126" title="Typers.this.global.TypeTree">tree1</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#597727" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#187977" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">CaseClassConstructorError</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="685927">insertApply</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#187388" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a><span class="delimiter">)</span>, <a href="Modes.scala.html#187395" title="(mode: Int)String">modeString</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> //@M
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="686140">qual</a> = <a href="#187799" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="686170">id</a> @ Ident<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="686174">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#686170" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#686170" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; Typers.this.global.Type">thisType</a>
            <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#686170" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
              <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188229" title="(clazz: Typers.this.global.Symbol)Typers.this.Context">enclosingSubClassContext</a><span class="delimiter">(</span><a href="#686170" title="Typers.this.global.Ident">id</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="Contexts.scala.html#188141" title="=&gt; Typers.this.global.Type">prefix</a>
            <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#38829" title="object Typers.this.global.NoPrefix">NoPrefix</a>
            <a href="#187783" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#686170" title="Typers.this.global.Ident">id</a>, <a href="#686174" title="Typers.this.global.Type">pre</a>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="686185">sel</a> @ Select<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="686190">qualqual</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#187783" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#686185" title="Typers.this.global.Select">sel</a>, <a href="#686190" title="Typers.this.global.Tree">qualqual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="686195">other</a> =&gt;
            <a href="#686195" title="Typers.this.global.Tree">other</a>
        <span class="delimiter">}</span>
        <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#686140" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // begin adapt
      <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="686224">atp</a> @ AnnotatedType<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../reflect/internal/AnnotationCheckers.scala.html#34943" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; // (-1)
          <a href="../../../reflect/internal/AnnotationCheckers.scala.html#34944" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Literal" id="686234">ct</a> @ ConstantType<span class="delimiter">(</span><a title="Typers.this.global.Constant" id="686236">value</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#187387" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a>, TYPEmode <span title="Int(20)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#686234" title="Typers.this.global.ConstantType">ct</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#186346" title="=&gt; Boolean">forScaladoc</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#186345" title="=&gt; Boolean">forInteractive</a> =&gt; // (0)
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="686243">sym</a> = <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#686243" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#686243" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46523" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="String" id="686248">msg</a> = <a href="#686243" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46742" title="()String">toString</a> <span title="(x$1: Any)String">+</span> <a href="#686243" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46744" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is deprecated: &quot;)" class="string">&quot; is deprecated: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#686243" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46524" title="=&gt; Option[String]">deprecationMessage</a>.<span title="(default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188716" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#686248" title="String">msg</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</span><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#686236" title="Typers.this.global.Constant">value</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="686260">pre</a>, <a title="List[Typers.this.global.Symbol]" id="686261">alts</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#187389" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a><span class="delimiter">)</span> =&gt; // (1)
          <a href="Infer.scala.html#188058" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a>, <a href="#597732" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="686263">restpe</a><span class="delimiter">)</span> =&gt; // (2)
          <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#686263" title="Typers.this.global.Type">restpe</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a>, <a href="#597732" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeRef</span><span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#45099" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>, <a href="#686269" title="(x: List[Typers.this.global.Type])Some[List[Typers.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="686291">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597728" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> =&gt; // (2)
          <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#686291" title="Typers.this.global.Type">arg</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a>, <a href="#597732" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="686301">tr</a> @ TypeRef<span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="686305">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#686305" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#686301" title="Typers.this.global.TypeRef">tr</a>.<a href="../../../reflect/internal/Types.scala.html#62120" title="=&gt; Typers.this.global.Type">normalize</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38892" title="Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597728" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
          <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#686301" title="Typers.this.global.TypeRef">tr</a>.<a href="../../../reflect/internal/Types.scala.html#62120" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#41532" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a>, <a href="#597732" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="686323">et</a> @ ExistentialType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597728" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
          <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#686323" title="Typers.this.global.ExistentialType">et</a>.<a href="../../../reflect/internal/Types.scala.html#62589" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a>, <a href="#597732" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="686349">tparams</a>, <a title="Typers.this.global.Type" id="686350">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#187387" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a>, TAPPmode | PATTERNmode <span title="Int(16514)">|</span> HKmode<span class="delimiter">)</span> =&gt; // (3)
          // assert((mode &amp; HKmode) == 0) //@M a PolyType in HKmode represents an anonymous type function,
          // we're in HKmode since a higher-kinded type is expected --&gt; hence, don't implicitly apply it to type params!
          // ticket #2197 triggered turning the assert into a guard
          // I guess this assert wasn't violated before because type aliases weren't expanded as eagerly
          //  (the only way to get a PolyType for an anonymous type function is by normalisation, which applies eta-expansion)
          // -- are we sure we want to expand aliases this early?
          // -- what caused this change in behaviour??
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="686359">tparams1</a> = <a href="../../../reflect/internal/Symbols.scala.html#38745" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#686349" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="686360">tree1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>
          <span class="keyword">else</span> <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#686359" title="List[Typers.this.global.Symbol]">tparams1</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeTree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="686382">tparam</a> =&gt;
            <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#686382" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46607" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeApply">setPos</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> //@M/tcpolyinfer: changed tparam.tpe to tparam.tpeHK
          <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188178" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">++=</span> <a href="#686359" title="List[Typers.this.global.Symbol]">tparams1</a>
          <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#686360" title="Typers.this.global.Tree">tree1</a> <span title="(tp: Typers.this.global.Type)tree1.type">setType</span> <a href="#686350" title="Typers.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#41559" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#686349" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#686359" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a>, <a href="#597732" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="686495">mt</a>: <a href="../../../reflect/internal/Types.scala.html#38881" title="Typers.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#686495" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#62357" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597728" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt; // (4.1)
          <a href="#685923" title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree">adaptToImplicitMethod</a><span class="delimiter">(</span><a href="#686495" title="Typers.this.global.MethodType">mt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="686513">mt</a>: <a href="../../../reflect/internal/Types.scala.html#38881" title="Typers.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#597728" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="Modes.scala.html#187390" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#685924" title="(mt: Typers.this.global.MethodType)Typers.this.global.Tree">instantiateToMethodType</a><span class="delimiter">(</span><a href="#686513" title="Typers.this.global.MethodType">mt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="686532">applyPossible</a> = <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Symbol" id="686533">applyMeth</a> = <a href="#187786" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#187799" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597728" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(128)">TAPPmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41528" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#686533" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46654" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#686545" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41528" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span>
              <a href="#686533" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46654" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a href="#686553" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41524" title="=&gt; Int">paramSectionCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span>
            <a href="#685925" title="()Typers.this.global.Tree">adaptType</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#187392" title="(mode: Int, prohibited: Int)Boolean">inExprModeButNot</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a>, <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46538" title="=&gt; Boolean">isMacro</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#58440" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Macros.scala.html#187589" title="(tree: Typers.this.global.Tree, typer: Typers.this.Typer)Option[Any]">macroExpand</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#187422" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="686576">expanded</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> =&gt;
                <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#686576" title="Typers.this.global.Tree">expanded</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">None</span> =&gt;
                <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> // error already reported
            <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597728" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#685926" title="()Typers.this.global.Tree">adaptConstrPattern</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#187385" title="(mode: Int, required: Int)Boolean">inAllModes</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a>, EXPRmode <span title="Int(17)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38881" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38895" title="Typers.this.global.OverloadedType">OverloadedType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#686532" title="=&gt; Boolean">applyPossible</a><span class="delimiter">)</span>
            <a href="#685927" title="()Typers.this.global.Tree">insertApply</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#187390" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (9)
            <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#187388" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a><span class="delimiter">)</span>, <a href="Modes.scala.html#187395" title="(mode: Int)String">modeString</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> //@M
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#187392" title="(mode: Int, prohibited: Int)Boolean">inExprModeButNot</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a>, <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#597729" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
              <a href="#187792" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">instantiateExpectingUnit</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597728" title="Int">mode</a><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#187791" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#597727" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#187391" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>
                <a href="Infer.scala.html#188046" title="(pat: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferModulePattern</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39036" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="Infer.scala.html#642452" title="(tp: Typers.this.global.Type)Typers.this.global.Type">approximateAbstracts</a><span class="delimiter">(</span><a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="Nothing" class="keyword">return</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Typers.this.global.constfold.global.Tree" id="686621">tree1</a> = <a href="ConstantFolder.scala.html#239265" title="(tree: Typers.this.global.constfold.global.Tree, pt: Typers.this.global.constfold.global.Type)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> // (10) (11)
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#686621" title="Typers.this.global.constfold.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.constfold.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.constfold.global.Type)Boolean">&lt;:&lt;</a> <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#686621" title="Typers.this.global.constfold.global.Tree">tree1</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a>, <a href="#597732" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#187392" title="(mode: Int, prohibited: Int)Boolean">inExprModeButNot</a><span class="delimiter">(</span><a href="#597728" title="Int">mode</a>, <span title="Int(16)">FUNmode</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#597729" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="686647">sym</a>, _<span class="delimiter">)</span> =&gt;
                    // note: was if (pt.typeSymbol == UnitClass) but this leads to a potentially
                    // infinite expansion if pt is constant type ()
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#686647" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Typers.this.global.Symbol">UnitClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#44982" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (12)
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#186949" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnValueDiscard</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                        <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;discarded non-Unit value&quot;)" class="string">&quot;discarded non-Unit value&quot;</span><span class="delimiter">)</span>
                      <span title="Nothing" class="keyword">return</span> <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="Analyzer.scala.html#187273" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)Typers.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45527" title="(sym: Typers.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#686647" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Types.scala.html#39102" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#186951" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNumericWiden</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                        <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;implicit numeric widening&quot;)" class="string">&quot;implicit numeric widening&quot;</span><span class="delimiter">)</span>
                      <span title="Nothing" class="keyword">return</span> <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: String)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <span title="String(&quot;to&quot;)" class="string">&quot;to&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#686647" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Nothing">AnnotatedType</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../reflect/internal/AnnotationCheckers.scala.html#34943" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; // (13)
                    <span title="Nothing" class="keyword">return</span> <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationCheckers.scala.html#34944" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Nothing" class="keyword">return</span> <a href="#187791" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188156" title="=&gt; Boolean">implicitsEnabled</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#597729" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41498" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // (14); the condition prevents chains of views
                  <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;inferring view from &quot;)" class="string">&quot;inferring view from &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="686743">coercion</a> = <a href="#187734" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#597729" title="Typers.this.global.Type">pt</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                  // convert forward views of delegate types into closures wrapped around
                  // the delegate's apply method (the &quot;Invoke&quot; method, which was translated into apply)
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186344" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#686743" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#45292" title="(delegateType: Typers.this.global.Type, functionType: Typers.this.global.Type)Boolean">isCorrespondingDelegate</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="686754">meth</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a> = <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
                    <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;replacing forward delegate view with: &quot;)" class="string">&quot;replacing forward delegate view with: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#686754" title="Typers.this.global.Symbol">meth</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#686754" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#686754" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#686743" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">def</span> <a title="=&gt; String" id="686783">msg</a> = <span title="String(&quot;inferred view from &quot;)" class="string">&quot;inferred view from &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597729" title="Typers.this.global.Type">pt</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#686743" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#686743" title="Typers.this.global.Tree">coercion</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186692" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">logImplicitConv</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                      <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188713" title="(pos: Typers.this.global.Position, msg: String)Unit">echo</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#686783" title="=&gt; String">msg</a><span class="delimiter">)</span>

                    <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><a href="#686783" title="=&gt; String">msg</a><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="Typers.this.Context" id="686784">silentContext</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188211" title="(reportAmbiguousErrors: Boolean)Typers.this.Context">makeImplicit</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188187" title="=&gt; Boolean">ambiguousErrors</a><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="686785">res</a> = <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#686784" title="Typers.this.Context">silentContext</a><span class="delimiter">)</span>.<a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>
                      <span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="Analyzer.scala.html#187273" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span><a href="#686743" title="Typers.this.global.Tree">coercion</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.ApplyImplicitView">setPos</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#597728" title="Int">mode</a>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#686784" title="Typers.this.Context">silentContext</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188215" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#686784" title="Typers.this.Context">silentContext</a>.<a href="Contexts.scala.html#188181" title="=&gt; scala.collection.mutable.Set[Typers.this.AbsTypeError]">errBuffer</a>.<span title="=&gt; Typers.this.AbsTypeError">head</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <a href="#686785" title="Typers.this.global.Tree">res</a>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;error tree = &quot;)" class="string">&quot;error tree = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#186907" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#188006" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>

              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="686642">found</a> = <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="686643">req</a> = <a href="#597729" title="Typers.this.global.Type">pt</a>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#686642" title="Typers.this.global.Type">found</a>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#686643" title="Typers.this.global.Type">req</a>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188185" title="=&gt; Boolean">reportErrors</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#187421" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#686643" title="Typers.this.global.Type">req</a>.<a href="../../../reflect/internal/Types.scala.html#41596" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // Ignore type errors raised in later phases that are due to mismatching types with existential skolems
                  // We have lift crashing in 2.9 with an adapt failure in the pattern matcher.
                  // Here's my hypothsis why this happens. The pattern matcher defines a variable of type
                  //
                  //   val x: T = expr
                  //
                  // where T is the type of expr, but T contains existential skolems ts.
                  // In that case, this value definition does not typecheck.
                  // The value definition
                  //
                  //   val x: T forSome { ts } = expr
                  //
                  // would typecheck. Or one can simply leave out the type of the `val`:
                  //
                  //   val x = expr
                  <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;recovering from existential Skolem type error in tree \n&quot;)" class="string">&quot;recovering from existential Skolem type error in tree \n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597727" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\nwith type &quot;)" class="string">&quot;\nwith type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597727" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n expected type = &quot;)" class="string">&quot;\n expected type = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597729" title="Typers.this.global.Type">pt</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n context = &quot;)" class="string">&quot;\n context = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#597728" title="Int">mode</a>, <a href="../../../reflect/internal/Symbols.scala.html#38744" title="(syms: List[Typers.this.global.Symbol])(tpe: Typers.this.global.Type)Typers.this.global.Type">deriveTypeWithWildcards</a><span class="delimiter">(</span><a href="#597729" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41596" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#597729" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  // create an actual error
                  <a href="ContextErrors.scala.html#187897" title="(tree: Typers.this.global.Tree, found: Typers.this.global.Type, req: Typers.this.global.Type)Unit">AdaptTypeError</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a>, <a href="#686642" title="Typers.this.global.Type">found</a>, <a href="#686643" title="Typers.this.global.Type">req</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#597727" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187791">instantiate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="686004">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="686005">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="686006">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="Infer.scala.html#188035" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#686004" title="Typers.this.global.Tree">tree</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188179" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#686006" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#686004" title="Typers.this.global.Tree">tree</a>, <a href="#686005" title="Int">mode</a>, <a href="#686006" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    /** If the expected type is Unit: try instantiating type arguments
     *  with expected type Unit, but if that fails, try again with pt = WildcardType
     *  and discard the expression.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="187792">instantiateExpectingUnit</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="686614">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="686615">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="686833">savedUndetparams</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
      <a href="#187787" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span class="delimiter">(</span><a href="#686839" title="Typers.this.Typer">_</a>.<a href="#187791" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#686614" title="Typers.this.global.Tree">tree</a>, <a href="#686615" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentResultValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="686846">t</a><span class="delimiter">)</span> =&gt; <a href="#686846" title="Typers.this.global.Tree">t</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188178" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#686833" title="List[Typers.this.global.Symbol]">savedUndetparams</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Block" id="686847">valueDiscard</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#686614" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#187791" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#686614" title="Typers.this.global.Tree">tree</a>, <a href="#686615" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#187273" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)Typers.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#686847" title="Typers.this.global.Block">valueDiscard</a>, <a href="#686615" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree)Boolean" id="187793">isAdaptableWithView</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="686883">qual</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="686886">qtpe</a> = <a href="#686883" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Typers.this.global.Type">widen</a>
      <span class="delimiter">(</span>    <span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#686883" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Boolean">isTerm</span>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#686883" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#686883" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">||</span> <a href="#686883" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46480" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#686886" title="Typers.this.global.Type">qtpe</a>.<a href="../../../reflect/internal/Types.scala.html#41498" title="=&gt; Boolean">isError</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#686886" title="Typers.this.global.Type">qtpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46446" title="=&gt; Boolean">isBottomClass</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#686886" title="Typers.this.global.Type">qtpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#686883" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</span><span class="delimiter">]</span> // don't chain views
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188156" title="=&gt; Boolean">implicitsEnabled</a>
        // Elaborating `context.implicitsEnabled`:
        // don't try to adapt a top-level type that's the subject of an implicit search
        // this happens because, if isView, typedImplicit tries to apply the &quot;current&quot; implicit value to
        // a value that needs to be coerced, so we check whether the implicit value has an `apply` method.
        // (If we allow this, we get divergence, e.g., starting at `conforms` during ant quick.bin)
        // Note: implicit arguments are still inferred (this kind of &quot;chaining&quot; is allowed)
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree" id="187794">adaptToMember</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="686166">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="686167">searchTemplate</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#187796" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#686166" title="Typers.this.global.Tree">qual</a>, <a href="#686167" title="Typers.this.global.Type">searchTemplate</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree" id="187795">adaptToMember</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="686162">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="686163">searchTemplate</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="686164">reportAmbiguous</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#187796" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#686162" title="Typers.this.global.Tree">qual</a>, <a href="#686163" title="Typers.this.global.Type">searchTemplate</a>, <a href="#686164" title="Boolean">reportAmbiguous</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree" id="187796">adaptToMember</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="686157">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="686158">searchTemplate</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="686159">reportAmbiguous</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="686160">saveErrors</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#187793" title="(qual: Typers.this.global.Tree)Boolean">isAdaptableWithView</a><span class="delimiter">(</span><a href="#686157" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#686157" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="qual.type" id="686903">et</a>: <a href="../../../reflect/internal/Types.scala.html#38892" title="Typers.this.global.ExistentialType">ExistentialType</a> =&gt;
            <a href="#686157" title="Typers.this.global.Tree">qual</a> <span title="(tp: Typers.this.global.Type)qual.type">setType</span> <a href="#686903" title="Typers.this.global.ExistentialType">et</a>.<a href="../../../reflect/internal/Types.scala.html#62589" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#686157" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> // open the existential
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="#187735" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#686157" title="Typers.this.global.Tree">qual</a>, <a href="#686157" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#686158" title="Typers.this.global.Type">searchTemplate</a>, <a href="#686159" title="Boolean">reportAmbiguous</a>, <a href="#686160" title="Boolean">saveErrors</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Analyzer.scala.html#187273" title="Typers.this.global.Tree">EmptyTree</a>  =&gt; <a href="#686157" title="Typers.this.global.Tree">qual</a>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="686923">coercion</a>   =&gt; 
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186692" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">logImplicitConv</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188713" title="(pos: Typers.this.global.Position, msg: String)Unit">echo</a><span class="delimiter">(</span><a href="#686157" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;applied implicit conversion from %s to %s = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
                  <a href="#686157" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#686158" title="Typers.this.global.Type">searchTemplate</a>, <a href="#686923" title="Typers.this.global.Tree">coercion</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46757" title="=&gt; String">defString</a><span class="delimiter">)</span><span class="delimiter">)</span>
            
            <a href="#187864" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ApplyImplicitView)Typers.this.global.ApplyImplicitView">atPos</a><span class="delimiter">(</span><a href="#686157" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="Analyzer.scala.html#187273" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span><a href="#686923" title="Typers.this.global.Tree">coercion</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#686157" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#686157" title="Typers.this.global.Tree">qual</a>
    <span class="delimiter">}</span>

    /** Try to apply an implicit conversion to `qual` to that it contains
     *  a method `name` which can be applied to arguments `args` with expected type `pt`.
     *  If `pt` is defined, there is a fallback to try again with pt = ?.
     *  This helps avoiding propagating result information too far and solves
     *  #1756.
     *  If no conversion is found, return `qual` unchanged.
     *
     */
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree" id="187797">adaptToArguments</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="686945">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="686946">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="686947">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="686948">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="686949">reportAmbiguous</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="686950">saveErrors</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(restpe: Typers.this.global.Type)Typers.this.global.Tree" id="686952">doAdapt</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="686953">restpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
        //util.trace(&quot;adaptToArgs &quot;+qual+&quot;, name = &quot;+name+&quot;, argtpes = &quot;+(args map (_.tpe))+&quot;, pt = &quot;+pt+&quot; = &quot;)
        <a href="#187796" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#686945" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#633356" title="(name: Typers.this.global.Name, argtpes: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">HasMethodMatching</a><span class="delimiter">(</span><a href="#686946" title="Typers.this.global.Name">name</a>, <a href="#686947" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#686977" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#686953" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>, <a href="#686949" title="Boolean">reportAmbiguous</a>, <a href="#686950" title="Boolean">saveErrors</a><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#686948" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#187787" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="687014">_</a> =&gt; <a href="#686952" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#686948" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentResultValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687021">result</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#687021" title="Typers.this.global.Tree">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#686945" title="Typers.this.global.Tree">qual</a> =&gt;
            <a href="#687021" title="Typers.this.global.Tree">result</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
            <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;fallback on implicits in adaptToArguments: &quot;)" class="string">&quot;fallback on implicits in adaptToArguments: &quot;</span><span title="(x$1: Any)String">+</span><a href="#686945" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)String">+</span><span title="String(&quot; . &quot;)" class="string">&quot; . &quot;</span><span title="(x$1: Any)String">+</span><a href="#686946" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#686952" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span>
        <a href="#686952" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#686948" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Try to apply an implicit conversion to `qual` so that it contains
     *  a method `name`. If that's ambiguous try taking arguments into
     *  account using `adaptToArguments`.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree" id="187798">adaptToMemberWithArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687026">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="687027">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="687028">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a>, <a title="Int" id="687029">mode</a>: <span title="Int">Int</span>, <a title="Boolean" id="687030">reportAmbiguous</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="687031">saveErrors</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(reportError: =&gt; Typers.this.global.Tree)Typers.this.global.Tree" id="687033">onError</a><span class="delimiter">(</span><a title="=&gt; Typers.this.global.Tree" id="687034">reportError</a>: =&gt; Tree<span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687039">tree1</a>, <a title="List[Typers.this.global.Tree]" id="687040">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#687039" title="Typers.this.global.Tree">tree1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#687026" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#687040" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt;
            <a href="#187787" title="(op: Typers.this.Typer =&gt; List[Typers.this.global.Tree], reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[List[Typers.this.global.Tree]]">silent</a><span class="delimiter">(</span><a href="#687046" title="Typers.this.Typer">_</a>.<a href="#187831" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#687040" title="List[Typers.this.global.Tree]">args</a>, <a href="#687029" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentResultValue</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="687077">xs</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="687078">args</a> = <a href="#687077" title="List[Typers.this.global.Tree]">xs</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="List[Typers.this.global.Tree]" class="delimiter">[</span><span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#687078" title="List[Typers.this.global.Tree]">args</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#687034" title="=&gt; Typers.this.global.Tree">reportError</a>
                <span class="keyword">else</span>
                  <a href="#187797" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#687027" title="Typers.this.global.Tree">qual</a>, <a href="#687028" title="Typers.this.global.Name">name</a>, <a href="#687078" title="List[Typers.this.global.Tree]">args</a>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#687030" title="Boolean">reportAmbiguous</a>, <a href="#687031" title="Boolean">saveErrors</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span>            =&gt;
                <a href="#687034" title="=&gt; Typers.this.global.Tree">reportError</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
            <a href="#687034" title="=&gt; Typers.this.global.Tree">reportError</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#187787" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span class="delimiter">(</span><a href="#687093" title="Typers.this.Typer">_</a>.<a href="#187795" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#687027" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#633306" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#687028" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentResultValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687102">res</a><span class="delimiter">)</span> =&gt; <a href="#687102" title="Typers.this.global.Tree">res</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentTypeError</span><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="687120">err</a><span class="delimiter">)</span> =&gt; <a href="#687033" title="(reportError: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">onError</a><span class="delimiter">(</span><span class="delimiter">{</span><span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#687030" title="Boolean">reportAmbiguous</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188215" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#687120" title="Typers.this.AbsTypeError">err</a><span class="delimiter">)</span> <span class="delimiter">}</span>; <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#687026" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Try to apply an implicit conversion to `qual` to that it contains a
     *  member `name` of arbitrary type.
     *  If no conversion is found, return `qual` unchanged.
     */
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="187799">adaptToName</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="686144">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="686145">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#187786" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#686144" title="Typers.this.global.Tree">qual</a>, <a href="#686145" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#686144" title="Typers.this.global.Tree">qual</a>
      <span class="keyword">else</span> <a href="#187794" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#686144" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#633306" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#686145" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree" id="187800">typePrimaryConstrBody</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="687124">clazz</a> : <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Tree" id="687125">cbody</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Symbol]" id="687126">tparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Symbol]" id="687127">enclTparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[List[Typers.this.global.ValDef]]" id="687128">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      // XXX: see about using the class's symbol....
      <a href="#687127" title="List[Typers.this.global.Symbol]">enclTparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="687149">sym</a> =&gt; <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#687149" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#625593" title="(vparamss: List[List[Typers.this.global.ValDef]])List[List[Typers.this.global.Symbol]]">enterValueParams</a><span class="delimiter">(</span><a href="#687128" title="List[List[Typers.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
      <a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#687125" title="Typers.this.global.Tree">cbody</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Unit" id="187801">validateNoCaseAncestor</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="687157">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="687173">ancestor</a> &lt;- <a href="#687157" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46683" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">find</span> <span class="delimiter">(</span><a href="#687168" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46776" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#687157" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Typers.this.global.Position">pos</a>, <span class="delimiter">(</span>
            <span class="string">&quot;case %s has case ancestor %s, but case-to-case inheritance is prohibited.&quot;</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</span>
            <span class="string">&quot; To overcome this limitation, use extractors to pattern match on non-leaf nodes.&quot;</span>
          <span class="delimiter">)</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#687157" title="Typers.this.global.Symbol">clazz</a>, <a href="#687173" title="Typers.this.global.Symbol">ancestor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46585" title="=&gt; String">fullName</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]" id="187802">parentTypes</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="654479">templ</a>: <span title="Typers.this.global.Template">Template</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#654479" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="687189">clazz</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>
        // Normalize supertype and mixins so that supertype is always a class, not a trait.
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="687190">supertpt</a> = <a href="#187873" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#654479" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="687191">firstParent</a> = <a href="#687190" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span class="keyword">var</span> <a title="List[Typers.this.global.Tree]" id="687192">mixins</a> = <a href="#654479" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span>.<span title="=&gt; List[Typers.this.global.Tree]">tail</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#187868" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a>
        // If first parent is a trait, make it first mixin and add its superclass as first parent
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#687190" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#687190" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; Typers.this.global.Symbol">initialize</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#687197" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="687270">supertpt1</a> = <a href="#187868" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#687190" title="Typers.this.global.Tree">supertpt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">supertpt1</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#687192" title="List[Typers.this.global.Tree]">mixins</a> = <a href="#687270" title="Typers.this.global.Tree">supertpt1</a> <a href="#687277" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#687192" title="List[Typers.this.global.Tree]">mixins</a>
            <a href="#687190" title="Typers.this.global.Tree">supertpt</a> = <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#687270" title="Typers.this.global.Tree">supertpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#687190" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // Determine
        //  - supertparams: Missing type parameters from supertype
        //  - supertpe: Given supertype, polymorphic in supertparams
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="687193">supertparams</a> = <span title="List[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#687190" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#687190" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> <span class="keyword">else</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="687194">supertpe</a> = <a href="#687190" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#687193" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#687194" title="Typers.this.global.Type">supertpe</a> = <a href="../../../reflect/internal/Types.scala.html#62451" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#687193" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#687194" title="Typers.this.global.Type">supertpe</a>, <a href="#687193" title="List[Typers.this.global.Symbol]">supertparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#687318" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46607" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        // A method to replace a super reference by a New in a supercall
        <span class="keyword">def</span> <a title="(scall: Typers.this.global.Tree)Typers.this.global.Tree" id="687195">transformSuperCall</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687346">scall</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">(</span><a href="#687346" title="Typers.this.global.Tree">scall</a>: @<span title="Typers.this.global.Tree @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687351">fn</a>, <a title="List[Typers.this.global.Tree]" id="687352">args</a><span class="delimiter">)</span> =&gt;
            <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#687346" title="Typers.this.global.Tree">scall</a>, <a href="#687195" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><span class="delimiter">(</span><a href="#687351" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span>, <a href="#687352" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a href="#687372" title="Typers.this.global.Tree">_</a>.<span title="=&gt; x$18.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
            <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</span><span class="delimiter">(</span>
              <a href="#687346" title="Typers.this.global.Tree">scall</a>,
              <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.New)Typers.this.global.New">atPos</a><span class="delimiter">(</span><a href="#687190" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(tpt: Typers.this.global.Tree)Typers.this.global.New">New</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#687194" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</span> <a href="#687194" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span>,
              <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120078" title="(stats: List[Typers.this.global.treeInfo.global.Tree])Typers.this.global.treeInfo.global.Tree">firstConstructor</a><span class="delimiter">(</span><a href="#654479" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Any" id="687447">constr</a> @ DefDef<span class="delimiter">(</span>_, _, _, <a title="List[List[Typers.this.global.ValDef]]" id="687470">vparamss</a>, _, <a title="Typers.this.global.Block" id="687471">cbody</a> @ Block<span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="687476">cstats</a>, <a title="Typers.this.global.Tree" id="687477">cunit</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            // Convert constructor body to block in environment and typecheck it
            <span class="keyword">val</span> <a href="#687479" title="(List[Typers.this.global.Tree], Typers.this.global.Tree)" class="delimiter">(</a><a href="#687478" title="List[Typers.this.global.Tree]" id="687479">preSuperStats</a>, <a href="#687478" title="Typers.this.global.Tree" id="687480">superCall</a><span class="delimiter">)</span> = <span title="(List[Typers.this.global.Tree], Typers.this.global.Tree) @unchecked" class="delimiter">{</span>
              <span class="keyword">val</span> <a href="#687488" title="(List[Typers.this.global.Tree], List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#687487" title="List[Typers.this.global.Tree]" id="687488">stats</a>, <a href="#687487" title="List[Typers.this.global.Tree]" id="687489">rest</a><span class="delimiter">)</span> = <a href="#687476" title="List[Typers.this.global.Tree]">cstats</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)(List[Typers.this.global.Tree], List[Typers.this.global.Tree])">span</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687495">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120075" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSuperConstrCall</a><span class="delimiter">(</span><a href="#687495" title="Typers.this.global.Tree">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="(_1: List[Typers.this.global.Tree], _2: Typers.this.global.Tree)(List[Typers.this.global.Tree], Typers.this.global.Tree)" class="delimiter">(</span><a href="#687488" title="List[Typers.this.global.Tree]">stats</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a href="#687527" title="Typers.this.global.Tree">_</a>.<span title="=&gt; x$20.type">duplicate</span><span class="delimiter">)</span>, <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#687489" title="List[Typers.this.global.Tree]">rest</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a> <span class="keyword">else</span> <a href="#687489" title="List[Typers.this.global.Tree]">rest</a>.<span title="=&gt; Typers.this.global.Tree">head</span>.<span title="=&gt; Typers.this.global.Tree">duplicate</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="687481">cstats1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#687480" title="Typers.this.global.Tree">superCall</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#687479" title="List[Typers.this.global.Tree]">preSuperStats</a> <span class="keyword">else</span> <a href="#687479" title="List[Typers.this.global.Tree]">preSuperStats</a> <span title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</span> <a href="#687480" title="Typers.this.global.Tree">superCall</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Block" id="687482">cbody1</a> = <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</span><span class="delimiter">(</span><a href="#687471" title="Typers.this.global.Block">cbody</a>, <a href="#687479" title="List[Typers.this.global.Tree]">preSuperStats</a>, <a href="#687480" title="Typers.this.global.Tree">superCall</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#687193" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt; <a href="#687195" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><span class="delimiter">(</span><a href="#687480" title="Typers.this.global.Tree">superCall</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="cunit.type">_</span>                                    =&gt; <a href="#687477" title="Typers.this.global.Tree">cunit</a>.<span title="=&gt; cunit.type">duplicate</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="687483">outercontext</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188114" title="=&gt; Typers.this.Context">outer</a>

            <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#687189" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#654479" title="Typers.this.global.Template">templ</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="687484">cscope</a> = <a href="#687483" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#687447" title="Typers.this.global.DefDef">constr</a>, <a href="#687483" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="687485">cbody2</a> = <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#687484" title="Typers.this.Context">cscope</a><span class="delimiter">)</span> // called both during completion AND typing.
                .<a href="#187800" title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree">typePrimaryConstrBody</a><span class="delimiter">(</span><a href="#687189" title="Typers.this.global.Symbol">clazz</a>,
                  <a href="#687482" title="Typers.this.global.Block">cbody1</a>, <a href="#687193" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="#687189" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46627" title="=&gt; List[Typers.this.global.Symbol]">unsafeTypeParams</a>, <a href="#687470" title="List[List[Typers.this.global.ValDef]]">vparamss</a> <span title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Typers.this.global.ValDef]],List[Typers.this.global.ValDef],List[List[Typers.this.global.ValDef]]])List[List[Typers.this.global.ValDef]]">map</span> <span class="delimiter">(</span><a href="#687653" title="List[Typers.this.global.ValDef]">_</a>.<span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.ValDef,List[Typers.this.global.ValDef]]" class="delimiter">(</span><a href="#687670" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; x$23.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="#687480" title="Typers.this.global.Tree">superCall</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Apply</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.treeInfo.global.Tree" id="687744">sarg</a> = <a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120108" title="(tree: Typers.this.global.treeInfo.global.Tree)Typers.this.global.treeInfo.global.Tree">firstArgument</a><span class="delimiter">(</span><a href="#687480" title="Typers.this.global.Tree">superCall</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#687744" title="Typers.this.global.treeInfo.global.Tree">sarg</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#687194" title="Typers.this.global.Type">supertpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#687191" title="Typers.this.global.Symbol">firstParent</a><span class="delimiter">)</span>
                  <a href="ContextErrors.scala.html#187900" title="(arg: Typers.this.global.Tree, parent: Typers.this.global.Symbol)Unit">ConstrArgsInTraitParentTpeError</a><span class="delimiter">(</span><a href="#687744" title="Typers.this.global.treeInfo.global.Tree">sarg</a>, <a href="#687191" title="Typers.this.global.Symbol">firstParent</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#687193" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
                  <a href="#687190" title="Typers.this.global.Tree">supertpt</a> = <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#687485" title="Typers.this.global.Tree">cbody2</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#687190" title="Typers.this.global.Tree">supertpt</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#687193" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
                  <a href="ContextErrors.scala.html#187901" title="(supertpt: Typers.this.global.Tree)Unit">MissingTypeArgumentsParentTpeError</a><span class="delimiter">(</span><a href="#687190" title="Typers.this.global.Tree">supertpt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="List[Typers.this.global.treeInfo.global.ValDef]" id="687486">preSuperVals</a> = <a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120080" title="(stats: List[Typers.this.global.treeInfo.global.Tree])List[Typers.this.global.treeInfo.global.ValDef]">preSuperFields</a><span class="delimiter">(</span><a href="#654479" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#687486" title="List[Typers.this.global.treeInfo.global.ValDef]">preSuperVals</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#687479" title="List[Typers.this.global.Tree]">preSuperStats</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#186190" title="(msg: =&gt; String)Unit">debugwarn</a><span class="delimiter">(</span><span title="String(&quot;Wanted to zip empty presuper val list with &quot;)" class="string">&quot;Wanted to zip empty presuper val list with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#687479" title="List[Typers.this.global.Tree]">preSuperStats</a><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="../../../reflect/internal/util/Collections.scala.html#38302" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.treeInfo.global.ValDef])(f: (Typers.this.global.Tree, Typers.this.global.treeInfo.global.ValDef) =&gt; Unit)List[Unit]">map2</a><span class="delimiter">(</span><a href="#687479" title="List[Typers.this.global.Tree]">preSuperStats</a>, <a href="#687486" title="List[Typers.this.global.treeInfo.global.ValDef]">preSuperVals</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687807">ldef</a>, <a title="Typers.this.global.treeInfo.global.ValDef" id="687808">gdef</a><span class="delimiter">)</span> =&gt; <a href="#687808" title="Typers.this.global.treeInfo.global.ValDef">gdef</a>.<span title="=&gt; Typers.this.global.treeInfo.global.Tree">tpt</span>.<span title="(t: Typers.this.global.treeInfo.global.Type)Unit">tpe</span> = <a href="#687807" title="Typers.this.global.Tree">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#687193" title="List[Typers.this.global.Symbol]">supertparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
              <a href="ContextErrors.scala.html#187901" title="(supertpt: Typers.this.global.Tree)Unit">MissingTypeArgumentsParentTpeError</a><span class="delimiter">(</span><a href="#687190" title="Typers.this.global.Tree">supertpt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
/* experimental: early types as type arguments
        val hasEarlyTypes = templ.body exists (treeInfo.isEarlyTypeDef)
        val earlyMap = new EarlyMap(clazz)
        List.mapConserve(supertpt :: mixins){ tpt =&gt;
          val tpt1 = checkNoEscaping.privates(clazz, tpt)
          if (hasEarlyTypes) tpt1 else tpt1 setType earlyMap(tpt1.tpe)
        }
*/

        //Console.println(&quot;parents(&quot;+clazz&quot;) = &quot;+supertpt :: mixins);//DEBUG

        // Certain parents are added in the parser before it is known whether
        // that class also declared them as parents.  For instance, this is an
        // error unless we take corrective action here:
        //
        //   case class Foo() extends Serializable
        //
        // So we strip the duplicates before typer.
        <span class="keyword">def</span> <a title="(remaining: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" id="687196">fixDuplicates</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="687879">remaining</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#687879" title="List[Typers.this.global.Tree]">remaining</a> <span title="List[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Nil</span>      =&gt; <span title="object Nil">Nil</span>
          <span class="keyword">case</span> <a title="List[Typers.this.global.Tree]" id="687884">x</a> :: <a title="List[Typers.this.global.Tree]" id="687885">xs</a>  =&gt;
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="687886">sym</a> = <a href="#687884" title="Typers.this.global.Tree">x</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
            <a href="#687884" title="Typers.this.global.Tree">x</a> <a href="#687887" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#687196" title="(remaining: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">fixDuplicates</a><span class="delimiter">(</span>
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45470" title="(elem: Typers.this.global.Symbol)Boolean">isPossibleSyntheticParent</a><span class="delimiter">(</span><a href="#687886" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#687885" title="List[Typers.this.global.Tree]">xs</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)List[Typers.this.global.Tree]">filterNot</span> <span class="delimiter">(</span><a href="#687910" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#687886" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#687885" title="List[Typers.this.global.Tree]">xs</a>
            <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#687196" title="(remaining: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">fixDuplicates</a><span class="delimiter">(</span><a href="#687190" title="Typers.this.global.Tree">supertpt</a> <a href="#687921" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#687192" title="List[Typers.this.global.Tree]">mixins</a><span class="delimiter">)</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687933">tpt</a> =&gt; <a href="#187754" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#685080" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#687189" title="Typers.this.global.Symbol">clazz</a>, <a href="#687933" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="List[Typers.this.global.TypeTree]" id="687940">ex</a>: <a href="../../../reflect/internal/Types.scala.html#39126" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          // fallback in case of cyclic errors
          // @H none of the tests enter here but I couldn't rule it out
          <a href="ContextErrors.scala.html#187899" title="(templ: Typers.this.global.Template, ex: Typers.this.global.TypeError)Unit">ParentTypesError</a><span class="delimiter">(</span><a href="#654479" title="Typers.this.global.Template">templ</a>, <a href="#687940" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <span title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    /** &lt;p&gt;Check that&lt;/p&gt;
     *  &lt;ul&gt;
     *    &lt;li&gt;all parents are class types,&lt;/li&gt;
     *    &lt;li&gt;first parent class is not a mixin; following classes are mixins,&lt;/li&gt;
     *    &lt;li&gt;final classes are not inherited,&lt;/li&gt;
     *    &lt;li&gt;
     *      sealed classes are only inherited by classes which are
     *      nested within definition of base class, or that occur within same
     *      statement sequence,
     *    &lt;/li&gt;
     *    &lt;li&gt;self-type of current class is a subtype of self-type of each parent class.&lt;/li&gt;
     *    &lt;li&gt;no two parents define same symbol.&lt;/li&gt;
     *  &lt;/ul&gt;
     */
    <span class="keyword">def</span> <a title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit" id="187803">validateParentClasses</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="687952">parents</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="687953">selfType</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" id="687955">pending</a> = <span title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</span><span title="(elems: Typers.this.AbsTypeError*)scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" class="delimiter">[</span><a href="ContextErrors.scala.html#187672" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit" id="687956">validateParentClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687958">parent</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="687959">superclazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">parent</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="687962">psym</a> = <a href="#687958" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; Typers.this.global.Symbol">initialize</a>
          <a href="#187748" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Boolean">checkClassType</a><span class="delimiter">(</span><a href="#687958" title="Typers.this.global.Tree">parent</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#687962" title="Typers.this.global.Symbol">psym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#687959" title="Typers.this.global.Symbol">superclazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#687962" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="687968">ps</a> = <a href="#687962" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Typers.this.global.Type]">parents</a>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#687968" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#687959" title="Typers.this.global.Symbol">superclazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a><span class="delimiter">(</span><a href="#687968" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#687955" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <span title="(x: Typers.this.AbsTypeError)pending.type">+=</span> <a href="ContextErrors.scala.html#187968" title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol, parentSym: Typers.this.global.Symbol, mixin: Typers.this.global.Symbol)Typers.this.NormalTypeError">ParentSuperSubclassError</a><span class="delimiter">(</span><a href="#687958" title="Typers.this.global.Tree">parent</a>, <a href="#687959" title="Typers.this.global.Symbol">superclazz</a>, <a href="#687968" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#687962" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#687955" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <span title="(x: Typers.this.AbsTypeError)pending.type">+=</span> <a href="ContextErrors.scala.html#187969" title="(parent: Typers.this.global.Tree, mixin: Typers.this.global.Symbol)Typers.this.NormalTypeError">ParentNotATraitMixinError</a><span class="delimiter">(</span><a href="#687958" title="Typers.this.global.Tree">parent</a>, <a href="#687962" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#687962" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46777" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
            <a href="#687955" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <span title="(x: Typers.this.AbsTypeError)pending.type">+=</span> <a href="ContextErrors.scala.html#187970" title="(parent: Typers.this.global.Tree, mixin: Typers.this.global.Symbol)Typers.this.NormalTypeError">ParentFinalInheritanceError</a><span class="delimiter">(</span><a href="#687958" title="Typers.this.global.Tree">parent</a>, <a href="#687962" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#687962" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46794" title="=&gt; Boolean">isSealed</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // AnyVal is sealed, but we have to let the value classes through manually
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188689" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#188728" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#687962" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46719" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a> <span title="(x: Boolean)Boolean">||</span> <a href="../../../reflect/internal/Definitions.scala.html#45476" title="(sym: Typers.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#687962" title="Typers.this.global.Symbol">psym</a> <a href="../../../reflect/internal/Symbols.scala.html#46637" title="(sym: Typers.this.global.Symbol)Unit">addChild</a> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="keyword">else</span>
              <a href="#687955" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <span title="(x: Typers.this.AbsTypeError)pending.type">+=</span> <a href="ContextErrors.scala.html#187971" title="(parent: Typers.this.global.Tree, psym: Typers.this.global.Symbol)Typers.this.NormalTypeError">ParentSealedInheritanceError</a><span class="delimiter">(</span><a href="#687958" title="Typers.this.global.Tree">parent</a>, <a href="#687962" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#687953" title="Typers.this.global.Type">selfType</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#687958" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41510" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span title="=&gt; Boolean">!</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46784" title="=&gt; Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>   // don't check synthetic concrete classes for virtuals (part of DEVIRTUALIZE)
              <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186862" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">noSelfCheck</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>  // setting to suppress this very check
              <span title="=&gt; Boolean">!</span><a href="#687953" title="Typers.this.global.Type">selfType</a>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span title="=&gt; Boolean">!</span><a href="#687958" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <span class="delimiter">{</span>
            //Console.println(context.owner);//DEBUG
            //Console.println(context.owner.unsafeTypeParams);//DEBUG
            //Console.println(List.fromArray(context.owner.info.closure));//DEBUG
            <a href="#687955" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <span title="(x: Typers.this.AbsTypeError)pending.type">+=</span> <a href="ContextErrors.scala.html#187972" title="(parent: Typers.this.global.Tree, selfType: Typers.this.global.Type)Typers.this.NormalTypeError">ParentSelfTypeConformanceError</a><span class="delimiter">(</span><a href="#687958" title="Typers.this.global.Tree">parent</a>, <a href="#687953" title="Typers.this.global.Type">selfType</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#186907" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#188006" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#687953" title="Typers.this.global.Type">selfType</a>, <a href="#687958" title="Typers.this.global.Tree">parent</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41510" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#687952" title="List[Typers.this.global.Tree]">parents</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="688050">p</a> =&gt; <a href="#688050" title="Typers.this.global.Tree">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#687958" title="Typers.this.global.Tree">parent</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#688050" title="Typers.this.global.Tree">p</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#687962" title="Typers.this.global.Symbol">psym</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#687962" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46495" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#687955" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <span title="(x: Typers.this.AbsTypeError)pending.type">+=</span> <a href="ContextErrors.scala.html#187973" title="(parent: Typers.this.global.Tree, parentSym: Typers.this.global.Symbol)Typers.this.NormalTypeError">ParentInheritedTwiceError</a><span class="delimiter">(</span><a href="#687958" title="Typers.this.global.Tree">parent</a>, <a href="#687962" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#687952" title="List[Typers.this.global.Tree]">parents</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#687952" title="List[Typers.this.global.Tree]">parents</a>.<span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="688093">p</a> &lt;- <a href="#687952" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">parents</a><span class="delimiter">)</span> <a href="#687956" title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit">validateParentClass</a><span class="delimiter">(</span><a href="#688093" title="Typers.this.global.Tree">p</a>, <a href="#687952" title="List[Typers.this.global.Tree]">parents</a>.<span title="=&gt; Typers.this.global.Tree">head</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>

/*
      if (settings.Xshowcls.value != &quot;&quot; &amp;&amp;
          settings.Xshowcls.value == context.owner.fullName)
        println(&quot;INFO &quot;+context.owner+
                &quot;, baseclasses = &quot;+(context.owner.info.baseClasses map (_.fullName))+
                &quot;, lin = &quot;+(context.owner.info.baseClasses map (context.owner.thisType.baseType)))
*/
      <a href="#687955" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a>.<span title="(f: Typers.this.AbsTypeError =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="ContextErrors.scala.html#187691" title="object Typers.this.ErrorUtils">ErrorUtils</a>.<a href="ContextErrors.scala.html#626788" title="(err: Typers.this.AbsTypeError)(implicit context: Typers.this.Context)Unit">issueTypeError</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(classinfo: Typers.this.global.ClassInfoType)Unit" id="187804">checkFinitary</a><span class="delimiter">(</span><a title="Typers.this.global.ClassInfoType" id="688119">classinfo</a>: <a href="../../../reflect/internal/Types.scala.html#38856" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="688121">clazz</a> = <a href="#688119" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#70041" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="688143">tparam</a> &lt;- <a href="#688121" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#688119" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#70055" title="(tparam: Typers.this.global.Symbol)Set[Typers.this.global.Symbol]">expansiveRefs</a><span class="delimiter">(</span><a href="#688143" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span title="(elem: Typers.this.global.Symbol)Boolean">contains</span> <a href="#688143" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.ClassInfoType" id="688149">newinfo</a> = <a href="../../../reflect/internal/Types.scala.html#70033" title="(parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope, typeSymbol: Typers.this.global.Symbol)Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
            <a href="#688119" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#70037" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#688172" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#41531" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#688143" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
            <a href="#688119" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../../../reflect/internal/Types.scala.html#70039" title="=&gt; Typers.this.global.Scope">decls</a>,
            <a href="#688121" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <a href="#688121" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)clazz.type">setInfo</a> <span class="delimiter">{</span>
            <a href="#688121" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.PolyType">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="688219">tparams</a>, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#62451" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#688219" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#688149" title="Typers.this.global.ClassInfoType">newinfo</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.ClassInfoType">_</span> =&gt; <a href="#688149" title="Typers.this.global.ClassInfoType">newinfo</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="ContextErrors.scala.html#187985" title="(tparam: Typers.this.global.Symbol)Unit">FinitaryError</a><span class="delimiter">(</span><a href="#688143" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param cdef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree" id="187805">typedClassDef</a><span class="delimiter">(</span><a title="Typers.this.global.ClassDef" id="688222">cdef</a>: <span title="Typers.this.global.ClassDef">ClassDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
//      attributes(cdef)
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="688224">clazz</a> = <a href="#688222" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="688225">typedMods</a> = <a href="#187812" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">typedModifiers</a><span class="delimiter">(</span><a href="#688222" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#688224" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#688222" title="Typers.this.global.ClassDef">cdef</a><span class="delimiter">)</span>
      <a href="#187757" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#688222" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="688226">tparams1</a> = <a href="#688222" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <span class="delimiter">(</span><a href="#187818" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="688227">impl1</a> = <a href="#187769" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; Typers.this.global.Template)Typers.this.global.Template">typerReportAnyContextErrors</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188205" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#688222" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#688224" title="Typers.this.global.Symbol">clazz</a>, <a href="../../../reflect/internal/Scopes.scala.html#39175" title="()Typers.this.global.Scope">newScope</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#688267" title="Typers.this.Typer">_</a>.<a href="#187811" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#688222" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#187802" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#688222" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="688228">impl2</a> = <a href="#187807" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">finishMethodSynthesis</a><span class="delimiter">(</span><a href="#688227" title="Typers.this.global.Template">impl1</a>, <a href="#688224" title="Typers.this.global.Symbol">clazz</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#688224" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#45369" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#688224" title="Typers.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#46649" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#45369" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="TypeDiagnostics.scala.html#187631" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionWarning</a><span class="delimiter">(</span><a href="#688222" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>,
          <span class="string">&quot;subclassing Classfile does not\n&quot;</span>+
          <span class="string">&quot;make your annotation visible at runtime.  If that is what\n&quot;</span><span title="String(&quot;subclassing Classfile does not\nmake your annotation visible at runtime.  If that is what\nyou want, you must write the annotation class in Java.&quot;)">+</span>
          <span class="string">&quot;you want, you must write the annotation class in Java.&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="688286">ann</a> &lt;- <a href="#688224" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44937" title="(cls: Typers.this.global.Symbol)Option[Typers.this.global.AnnotationInfo]">getAnnotation</a><span title="(f: Typers.this.global.AnnotationInfo =&gt; Any)Unit" class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45401" title="=&gt; Typers.this.global.Symbol">DeprecatedAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="688287">m</a> = <a href="Namers.scala.html#187344" title="(original: Typers.this.global.Symbol, ctx: Typers.this.Context)Typers.this.global.Symbol">companionSymbolOf</a><span class="delimiter">(</span><a href="#688224" title="Typers.this.global.Symbol">clazz</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#688287" title="Typers.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#688287" title="Typers.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; Typers.this.global.Symbol">moduleClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46645" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Symbol">addAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#45950" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#688286" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45914" title="=&gt; Typers.this.global.Type">atp</a>, <a href="#688286" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45915" title="=&gt; List[Typers.this.global.Tree]">args</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], impl: Typers.this.global.Template)Typers.this.global.ClassDef">ClassDef</span><span class="delimiter">(</span><a href="#688222" title="Typers.this.global.ClassDef">cdef</a>, <a href="#688225" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#688222" title="Typers.this.global.ClassDef">cdef</a>.<span title="=&gt; Typers.this.global.TypeName">name</span>, <a href="#688226" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#688228" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span>
        .<span title="(tp: Typers.this.global.Type)Typers.this.global.ClassDef">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38827" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /**
     *  @param mdef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree" id="187806">typedModuleDef</a><span class="delimiter">(</span><a title="Typers.this.global.ModuleDef" id="688333">mdef</a>: <span title="Typers.this.global.ModuleDef">ModuleDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      // initialize all constructors of the linked class: the type completer (Namer.methodSig)
      // might add default getters to this object. example: &quot;object T; class T(x: Int = 1)&quot;
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="688335">linkedClass</a> = <a href="Namers.scala.html#187344" title="(original: Typers.this.global.Symbol, ctx: Typers.this.Context)Typers.this.global.Symbol">companionSymbolOf</a><span class="delimiter">(</span><a href="#688333" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#688335" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#688335" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41537" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46653" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a href="#688366" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; x$30.type">initialize</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="688336">clazz</a>     = <a href="#688333" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; Typers.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="688337">typedMods</a> = <a href="#187812" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">typedModifiers</a><span class="delimiter">(</span><a href="#688333" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#688336" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#688333" title="Typers.this.global.ModuleDef">mdef</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="688338">impl1</a> = <a href="#187769" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; Typers.this.global.Template)Typers.this.global.Template">typerReportAnyContextErrors</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188205" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#688333" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <a href="#688336" title="Typers.this.global.Symbol">clazz</a>, <a href="../../../reflect/internal/Scopes.scala.html#39175" title="()Typers.this.global.Scope">newScope</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#688387" title="Typers.this.Typer">_</a>.<a href="#187811" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#688333" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span>, <span class="delimiter">{</span>
          <a href="#187802" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#688333" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.Template">impl</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</span> <span class="delimiter">(</span>
            <span title="List[Typers.this.global.TypeTree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#688335" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#688335" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46521" title="=&gt; Boolean">isSerializable</a> <span title="(x: Boolean)Boolean">||</span> <a href="#688336" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46521" title="=&gt; Boolean">isSerializable</a><span class="delimiter">)</span> <span title="object Nil">Nil</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#688336" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46634" title="()Unit">makeSerializable</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45087" title="=&gt; Typers.this.global.Symbol">SerializableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#688336" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="688339">impl2</a>  = <a href="#187807" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">finishMethodSynthesis</a><span class="delimiter">(</span><a href="#688338" title="Typers.this.global.Template">impl1</a>, <a href="#688336" title="Typers.this.global.Symbol">clazz</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>

      <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, impl: Typers.this.global.Template)Typers.this.global.ModuleDef">ModuleDef</span><span class="delimiter">(</span><a href="#688333" title="Typers.this.global.ModuleDef">mdef</a>, <a href="#688337" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#688333" title="Typers.this.global.ModuleDef">mdef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#688339" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ModuleDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>
    /** In order to override this in the TreeCheckers Typer so synthetics aren't re-added
     *  all the time, it is exposed here the module/class typing methods go through it.
     *  ...but it turns out it's also the ideal spot for namer/typer coordination for
     *  the tricky method synthesis scenarios, so we'll make it that.
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template" id="187807">finishMethodSynthesis</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="678721">templ</a>: <span title="Typers.this.global.Template">Template</span>, <a title="Typers.this.global.Symbol" id="678722">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.Context" id="678723">context</a>: <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <span title="Typers.this.global.Template">Template</span> = <span class="delimiter">{</span>
      <a href="SyntheticMethods.scala.html#187548" title="(templ: Typers.this.global.Template, clazz0: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">addSyntheticMethods</a><span class="delimiter">(</span><a href="#678721" title="Typers.this.global.Template">templ</a>, <a href="#678722" title="Typers.this.global.Symbol">clazz</a>, <a href="#678723" title="Typers.this.Context">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    /** For flatMapping a list of trees when you want the DocDefs and Annotated
     *  to be transparent.
     */
    <span class="keyword">def</span> <a title="(f: Typers.this.global.Tree =&gt; List[Typers.this.global.Tree])Typers.this.global.Tree =&gt; List[Typers.this.global.Tree]" id="187808">rewrappingWrapperTrees</a><span class="delimiter">(</span><a title="Typers.this.global.Tree =&gt; List[Typers.this.global.Tree]" id="688474">f</a>: Tree =&gt; List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: Tree =&gt; List<span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#688477" title="List[Typers.this.global.Tree]" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="List[Typers.this.global.Tree]" id="688478">dd</a> @ DocDef<span class="delimiter">(</span><a title="Typers.this.global.DocComment" id="688481">comment</a>, <a title="Typers.this.global.Tree" id="688482">defn</a><span class="delimiter">)</span> =&gt; <a href="#688474" title="(v1: Typers.this.global.Tree)List[Typers.this.global.Tree]">f</a><span class="delimiter">(</span><a href="#688482" title="Typers.this.global.Tree">defn</a><span class="delimiter">)</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.DocDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.DocDef,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="688503">stat</a> =&gt; <a href="../ast/Trees.scala.html#255503" title="(comment: Typers.this.global.DocComment, definition: Typers.this.global.Tree)Typers.this.global.DocDef">DocDef</a><span class="delimiter">(</span><a href="#688481" title="Typers.this.global.DocComment">comment</a>, <a href="#688503" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.DocDef">setPos</span> <a href="#688478" title="Typers.this.global.DocDef">dd</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Annotated</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="688541">annot</a>, <a title="Typers.this.global.Tree" id="688542">defn</a><span class="delimiter">)</span>     =&gt; <a href="#688474" title="(v1: Typers.this.global.Tree)List[Typers.this.global.Tree]">f</a><span class="delimiter">(</span><a href="#688542" title="Typers.this.global.Tree">defn</a><span class="delimiter">)</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Annotated)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Annotated,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="688562">stat</a> =&gt; <a href="Analyzer.scala.html#187273" title="(annot: Typers.this.global.Tree, arg: Typers.this.global.Tree)Typers.this.global.Annotated">Annotated</a><span class="delimiter">(</span><a href="#688541" title="Typers.this.global.Tree">annot</a>, <a href="#688562" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="List[Typers.this.global.Tree]" id="688594">tree</a>                       =&gt; <a href="#688474" title="(v1: Typers.this.global.Tree)List[Typers.this.global.Tree]">f</a><span class="delimiter">(</span><a href="#688594" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit" id="187809">enterSyms</a><span class="delimiter">(</span><a title="Typers.this.Context" id="688595">txt</a>: <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a>, <a title="List[Typers.this.global.Tree]" id="688596">trees</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Typers.this.Context" id="688599">txt0</a> = <a href="#688595" title="Typers.this.Context">txt</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="688619">tree</a> &lt;- <a href="#688596" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">trees</a><span class="delimiter">)</span> <a href="#688599" title="Typers.this.Context">txt0</a> = <a href="#187810" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#688599" title="Typers.this.Context">txt0</a>, <a href="#688619" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context" id="187810">enterSym</a><span class="delimiter">(</span><a title="Typers.this.Context" id="631945">txt</a>: <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Tree" id="631946">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a> =
      <span title="Typers.this.Context" class="keyword">if</span> <span class="delimiter">(</span><a href="#631945" title="Typers.this.Context">txt</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span> <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#625615" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#631946" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="Namers.scala.html#187328" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#631945" title="Typers.this.Context">txt</a><span class="delimiter">)</span>.<a href="Namers.scala.html#625615" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#631946" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    /**
     *  @param templ    ...
     *  @param parents1 ...
     *    &lt;li&gt; &lt;!-- 2 --&gt;
     *      Check that inner classes do not inherit from Annotation
     *    &lt;/li&gt;
     *  @return         ...
     */
    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template" id="187811">typedTemplate</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="688268">templ</a>: <span title="Typers.this.global.Template">Template</span>, <a title="List[Typers.this.global.Tree]" id="688269">parents1</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Template">Template</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="688622">clazz</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>
      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="688623">annots</a> = <a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#688268" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#688268" title="Typers.this.global.Template">templ</a> <span title="(sym: Typers.this.global.Symbol)templ.type">setSymbol</span> <a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46386" title="(pos: Typers.this.global.Position)Typers.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#688268" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="688624">self1</a> = <a href="#688268" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.ValDef">self</span> <span title="Typers.this.global.ValDef" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.ValDef" id="688641">vd</a> @ ValDef<span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="688651">mods</a>, <a title="Typers.this.global.TermName" id="688652">name</a>, <a title="Typers.this.global.Tree" id="688653">tpt</a>, <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="688654">tpt1</a> = <a href="#187754" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#685080" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.TypeTree)Typers.this.global.TypeTree">privates</a><span class="delimiter">(</span>
            <a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46665" title="=&gt; Typers.this.global.Symbol">thisSym</a>,
            <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">TypeTree</span><span class="delimiter">(</span><a href="#688653" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>.<span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span><span class="delimiter">(</span><a href="#688653" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</span> <a href="#688641" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</span><span class="delimiter">(</span><a href="#688641" title="Typers.this.global.ValDef">vd</a>, <a href="#688651" title="Typers.this.global.Modifiers">mods</a>, <a href="#688652" title="Typers.this.global.TermName">name</a>, <a href="#688654" title="Typers.this.global.TypeTree">tpt1</a>, <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>
      // was:
      //          val tpt1 = checkNoEscaping.privates(clazz.thisSym, typedType(tpt))
      //          treeCopy.ValDef(vd, mods, name, tpt1, EmptyTree) setType NoType
      // but this leads to cycles for existential self types ==&gt; #2545
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#688624" title="Typers.this.global.ValDef">self1</a>.<span title="=&gt; Typers.this.global.TermName">name</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span>
        <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#688624" title="Typers.this.global.ValDef">self1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="688625">selfType</a> = <span class="delimiter">(</span>
        <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46503" title="=&gt; Boolean">isAnonymousClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/Types.scala.html#38938" title="(tps: List[Typers.this.global.Type], owner: Typers.this.global.Symbol)Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Typers.this.global.Type]">parents</a>, <a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46666" title="=&gt; Typers.this.global.Type">typeOfThis</a>
      <span class="delimiter">)</span>
      // the following is necessary for templates generated later
      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Typers.this.global.Scope">decls</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Scopes.scala.html#39180" title="object Typers.this.global.EmptyScope">EmptyScope</a>, <a href="#688622" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <a href="#187809" title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188114" title="=&gt; Typers.this.Context">outer</a>.<a href="Contexts.scala.html#188205" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#688268" title="Typers.this.global.Template">templ</a>, <a href="#688622" title="Typers.this.global.Symbol">clazz</a>, <a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span>, <a href="#688268" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span>
      <a href="#187803" title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit">validateParentClasses</a><span class="delimiter">(</span><a href="#688269" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#688625" title="Typers.this.global.Type">selfType</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46776" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span>
        <a href="#187801" title="(clazz: Typers.this.global.Symbol)Unit">validateNoCaseAncestor</a><span class="delimiter">(</span><a href="#688622" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#688622" title="Typers.this.global.Symbol">clazz</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#45369" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
        <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;inner classes cannot be classfile annotations&quot;)" class="string">&quot;inner classes cannot be classfile annotations&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Typers.this.global.Type">resultType</a>.<a href="../../../reflect/internal/Types.scala.html#41498" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> // @S: prevent crash for duplicated type members
        <a href="#187804" title="(classinfo: Typers.this.global.ClassInfoType)Unit">checkFinitary</a><span class="delimiter">(</span><a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Typers.this.global.Type">resultType</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.ClassInfoType" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38856" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">]</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="688626">body</a> =
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">||</span> <a href="../Global.scala.html#186134" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#186104" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <a href="#688268" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span>
        <span class="keyword">else</span> <a href="#688268" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span> <span title="(f: Typers.this.global.Tree =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">flatMap</span> <a href="#187808" title="(f: Typers.this.global.Tree =&gt; List[Typers.this.global.Tree])Typers.this.global.Tree =&gt; List[Typers.this.global.Tree]">rewrappingWrapperTrees</a><span class="delimiter">(</span><a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="MethodSynthesis.scala.html#625546" title="(typer: Typers.this.Typer, stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">finishGetterSetter</a><span class="delimiter">(</span><a href="#187422" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#688721" title="Typers.this.global.Tree">_</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="688627">body1</a> = <a href="#187829" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#688626" title="List[Typers.this.global.Tree]">body</a>, <a href="#688268" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, parents: List[Typers.this.global.Tree], self: Typers.this.global.ValDef, body: List[Typers.this.global.Tree])Typers.this.global.Template">Template</span><span class="delimiter">(</span><a href="#688268" title="Typers.this.global.Template">templ</a>, <a href="#688269" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#688624" title="Typers.this.global.ValDef">self1</a>, <a href="#688627" title="List[Typers.this.global.Tree]">body1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Template">setType</span> <a href="#688622" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    /** Remove definition annotations from modifiers (they have been saved
     *  into the symbol's ``annotations'' in the type completer / namer)
     *
     *  However reification does need annotation definitions to proceed.
     *  Unfortunately, AnnotationInfo doesn't provide enough info to reify it in general case.
     *  The biggest problem is with the &quot;atp: Type&quot; field, which cannot be reified in some situations
     *  that involve locally defined annotations. See more about that in Reifiers.scala.
     *
     *  That's why the original tree gets saved into ``original'' field of AnnotationInfo (happens elsewhere).
     *  The field doesn't get pickled/unpickled and exists only during a single compilation run.
     *  This simultaneously allows us to reify annotations and to preserve backward compatibility.
     */
    <span class="keyword">def</span> <a title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers" id="187812">typedModifiers</a><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="688229">mods</a>: <a href="../../../reflect/internal/Trees.scala.html#39351" title="Typers.this.global.Modifiers">Modifiers</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Trees.scala.html#39351" title="Typers.this.global.Modifiers">Modifiers</a> =
      <a href="#688229" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/internal/Trees.scala.html#126811" title="Long" id="688766">copy</a><span class="delimiter">(</span>annotations = <a title="scala.collection.immutable.Nil.type" id="688764">Nil</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#85198" title="(poss: scala.collection.immutable.Map[Long,scala.tools.nsc.util.Position])Typers.this.global.Modifiers">setPositions</a> <a href="#688229" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/internal/Trees.scala.html#85195" title="=&gt; Map[Long,Typers.this.global.Position]">positions</a>

    /**
     *  @param vdef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef" id="187813">typedValDef</a><span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="540605">vdef</a>: <span title="Typers.this.global.ValDef">ValDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.ValDef">ValDef</span> = <span class="delimiter">{</span>
//      attributes(vdef)
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="688771">sym</a> = <a href="#540605" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; Typers.this.global.Symbol">initialize</a>
      <span class="keyword">val</span> <a title="Typers.this.Typer" id="688772">typer1</a> = <a href="#187759" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><a href="#688771" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46793" title="=&gt; Boolean">isParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#688771" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="688773">typedMods</a> = <a href="#187812" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">typedModifiers</a><span class="delimiter">(</span><a href="#540605" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>

      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="688774">annots</a> = <a href="#688771" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="688775">tpt1</a> = <a href="#187754" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#685080" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#688771" title="Typers.this.global.Symbol">sym</a>, <a href="#688772" title="Typers.this.Typer">typer1</a>.<a href="#187868" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#540605" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#187752" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#540605" title="Typers.this.global.ValDef">vdef</a>, <a href="#688775" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#688771" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#39224" title="object Typers.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#45423" title="=&gt; Typers.this.global.Symbol">VolatileAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#688771" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46780" title="=&gt; Boolean">isMutable</a><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#187919" title="(vdef: Typers.this.global.Tree)Unit">VolatileValueError</a><span class="delimiter">(</span><a href="#540605" title="Typers.this.global.ValDef">vdef</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#688771" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46777" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#187920" title="(vdef: Typers.this.global.Tree)Unit">FinalVolatileVarError</a><span class="delimiter">(</span><a href="#540605" title="Typers.this.global.ValDef">vdef</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="688776">rhs1</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#540605" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#688771" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46481" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#688771" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span>
            <a href="ContextErrors.scala.html#187921" title="(vdef: Typers.this.global.Tree)Unit">LocalVarUninitializedError</a><span class="delimiter">(</span><a href="#540605" title="Typers.this.global.ValDef">vdef</a><span class="delimiter">)</span>
          <a href="#540605" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="688798">tpt2</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#688771" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46799" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // When typechecking default parameter, replace all type parameters in the expected type by Wildcard.
            // This allows defining &quot;def foo[T](a: T = 1)&quot;
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="688799">tparams</a> = <a href="#688771" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46515" title="=&gt; Typers.this.global.Symbol">skipConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41528" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
            <span class="keyword">val</span> <a title="Typers.this.global.SubstTypeMap" id="688800">subst</a> = <a href="#688801" title="Typers.this.global.SubstTypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#38998" title="anonymous class $anon extends Typers.this.global.SubstTypeMap" id="688801">SubstTypeMap</a><span class="delimiter">(</span><a href="#688799" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#688799" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="688831">_</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean" id="688803">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="688804">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="688805">sym1</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
                <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#688804" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46449" title="=&gt; Boolean">isSkolem</a><span class="delimiter">)</span> <a href="#688803" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#688804" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46713" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>, <a href="#688805" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#688805" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46449" title="=&gt; Boolean">isSkolem</a><span class="delimiter">)</span> <a href="#688803" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#688804" title="Typers.this.global.Symbol">sym</a>, <a href="#688805" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46713" title="=&gt; Typers.this.global.Symbol">deSkolemize</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#688801" title="Typers.this.global.SubstTypeMap" class="keyword">super</a><span class="delimiter">[</span>SubstTypeMap<span class="delimiter">]</span>.<a href="../../../reflect/internal/Types.scala.html#128689" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#688804" title="Typers.this.global.Symbol">sym</a>, <a href="#688805" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            // allow defaults on by-name parameters
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#688771" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(65536L)">BYNAMEPARAM</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#688775" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a> // during erasure tpt1 is Function0
              <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#128692" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#688775" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41517" title="(n: Int)Typers.this.global.Type">typeArgs</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#128692" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#688775" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#688775" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#688772" title="Typers.this.Typer">typer1</a>.<a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188208" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#540605" title="Typers.this.global.ValDef">vdef</a>, <a href="#688771" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#187875" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#540605" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#688798" title="Typers.this.global.Type">tpt2</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</span><span class="delimiter">(</span><a href="#540605" title="Typers.this.global.ValDef">vdef</a>, <a href="#688773" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#540605" title="Typers.this.global.ValDef">vdef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#688775" title="Typers.this.global.Tree">tpt1</a>, <a href="TypeDiagnostics.scala.html#684417" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#688776" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    /** Enter all aliases of local parameter accessors.
     *
     *  @param clazz    ...
     *  @param vparamss ...
     *  @param rhs      ...
     */
    <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit" id="187814">computeParamAliases</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="688931">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a>, <a title="List[List[Typers.this.global.ValDef]]" id="688932">vparamss</a>: <span title="List[List[Typers.this.global.ValDef]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Typers.this.global.Tree" id="688933">rhs</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;computing param aliases for &quot;)" class="string">&quot;computing param aliases for &quot;</span><span title="(x$1: Any)String">+</span><a href="#688931" title="Typers.this.global.Symbol">clazz</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#688931" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46664" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#688933" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>//debug
      <span class="keyword">def</span> <a title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])" id="688935">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="688940">call</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</span>Tree, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#688940" title="Typers.this.global.Tree">call</a> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="688945">fn</a>, <a title="List[Typers.this.global.Tree]" id="688946">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a href="#688948" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#688947" title="Typers.this.global.Tree" id="688948">superConstr</a>, <a href="#688947" title="List[Typers.this.global.Tree]" id="688949">args1</a><span class="delimiter">)</span> = <a href="#688935" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a href="#688945" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="688950">params</a> = <a href="#688945" title="Typers.this.global.Tree">fn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41526" title="=&gt; List[Typers.this.global.Symbol]">params</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="688951">args2</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#688950" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Definitions.scala.html#45110" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#688950" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Typers.this.global.Symbol">last</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#688946" title="List[Typers.this.global.Tree]">args</a>
                      <span class="keyword">else</span> <a href="#688946" title="List[Typers.this.global.Tree]">args</a>.<span title="(n: Int)List[Typers.this.global.Tree]">take</span><span class="delimiter">(</span><a href="#688950" title="List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#688951" title="List[Typers.this.global.Tree]">args2</a>, <a href="#688950" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span>, <span title="String(&quot;mismatch &quot;)" class="string">&quot;mismatch &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#688931" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#688950" title="List[Typers.this.global.Symbol]">params</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span> <span class="delimiter">(</span><a href="#689038" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#688951" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span>//debug
          <span title="(_1: Typers.this.global.Tree, _2: List[Typers.this.global.Tree])(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</span><a href="#688948" title="Typers.this.global.Tree">superConstr</a>, <a href="#688949" title="List[Typers.this.global.Tree]">args1</a> <a href="#689070" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#688951" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])">Block</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="689084">stats</a>, <a title="Typers.this.global.Tree" id="689085">expr</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#689084" title="List[Typers.this.global.Tree]">stats</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt;
          <a href="#688935" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span class="delimiter">(</span><a href="#689084" title="List[Typers.this.global.Tree]">stats</a>.<span title="=&gt; Typers.this.global.Tree">last</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Nothing])">_</span> =&gt;
          <span title="(_1: Typers.this.global.Tree, _2: List[Nothing])(Typers.this.global.Tree, List[Nothing])" class="delimiter">(</span><a href="#688940" title="Typers.this.global.Tree">call</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a href="#688937" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#688936" title="Typers.this.global.Tree" id="688937">superConstr</a>, <a href="#688936" title="List[Typers.this.global.Tree]" id="688938">superArgs</a><span class="delimiter">)</span> = <a href="#688935" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a href="#688933" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#688937" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>, <a href="#688937" title="Typers.this.global.Tree">superConstr</a><span class="delimiter">)</span>//debug

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" id="688939">pending</a> = <span title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</span><span title="(elems: Typers.this.AbsTypeError*)scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" class="delimiter">[</span><a href="ContextErrors.scala.html#187672" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      // an object cannot be allowed to pass a reference to itself to a superconstructor
      // because of initialization issues; bug #473
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="689132">arg</a> &lt;- <a href="#688938" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">superArgs</a> ; <a title="Typers.this.global.Tree" id="689135">tree</a> &lt;- <a href="#689132" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">arg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="689136">sym</a> = <a href="#689135" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689136" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#689136" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41581" title="=&gt; List[Typers.this.global.Symbol]">baseClasses</a> <span title="(elem: Any)Boolean">contains</span> <a href="#688931" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#689136" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>
            <a href="#688939" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <span title="(x: Typers.this.AbsTypeError)pending.type">+=</span>  <a href="ContextErrors.scala.html#187917" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">SuperConstrReferenceError</a><span class="delimiter">(</span><a href="#689135" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <a href="#689135" title="Typers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">This</span><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="689161">qual</a><span class="delimiter">)</span> =&gt;
              <a href="#688939" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <span title="(x: Typers.this.AbsTypeError)pending.type">+=</span> <a href="ContextErrors.scala.html#187918" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">SuperConstrArgsThisReferenceError</a><span class="delimiter">(</span><a href="#689135" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#688937" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46539" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="689166">superClazz</a> = <a href="#688937" title="Typers.this.global.Tree">superConstr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#689166" title="Typers.this.global.Symbol">superClazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="689168">superParamAccessors</a> = <a href="#689166" title="Typers.this.global.Symbol">superClazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46669" title="=&gt; List[Typers.this.global.Symbol]">constrParamAccessors</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#689168" title="List[Typers.this.global.Symbol]">superParamAccessors</a>, <a href="#688938" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="689263">superAcc</a>, <a title="Typers.this.global.Ident" id="689264">superArg</a> @ Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="689268">name</a><span class="delimiter">)</span><span class="delimiter">)</span> &lt;- <a href="#689168" title="List[Typers.this.global.Symbol]">superParamAccessors</a> <a href="#689230" title="(f: ((Typers.this.global.Symbol, Typers.this.global.Tree)) =&gt; Any)Unit">zip</a> <a href="#688938" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#688932" title="List[List[Typers.this.global.ValDef]]">vparamss</a>.<span title="(p: List[Typers.this.global.ValDef] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#689275" title="List[Typers.this.global.ValDef]">_</a>.<span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#689282" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#689264" title="Typers.this.global.Ident">superArg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="689288">alias</a> = <a href="#689263" title="Typers.this.global.Symbol">superAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; superAcc.type">initialize</a>.<a href="../../../reflect/internal/Symbols.scala.html#46675" title="=&gt; Typers.this.global.Symbol">alias</a>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689288" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                  <a href="#689288" title="Typers.this.global.Symbol">alias</a> = <a href="#689263" title="Typers.this.global.Symbol">superAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#689263" title="Typers.this.global.Symbol">superAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689288" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <a href="#689166" title="Typers.this.global.Symbol">superClazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41546" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#689288" title="Typers.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#689288" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                  <a href="#689288" title="Typers.this.global.Symbol">alias</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#689288" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="689315">ownAcc</a> = <a href="#688931" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41537" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#689268" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46655" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#689318" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46788" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#689315" title="Typers.this.global.Symbol">ownAcc</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#689315" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
                    <a href="#689315" title="Typers.this.global.Symbol">ownAcc</a> = <a href="#689315" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; Typers.this.global.Symbol">accessed</a>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#689315" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46481" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#689288" title="Typers.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#46481" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#689315" title="Typers.this.global.Symbol">ownAcc</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has alias &quot;)" class="string">&quot; has alias &quot;</span><span title="(x$1: Any)String">+</span><a href="#689288" title="Typers.this.global.Symbol">alias</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span> //debug
                    <a href="#689315" title="Typers.this.global.Symbol">ownAcc</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.TermSymbol" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38727" title="Typers.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span>.<a href="../../../reflect/internal/Symbols.scala.html#70135" title="(alias: Typers.this.global.Symbol)Typers.this.global.TermSymbol">setAlias</a><span class="delimiter">(</span><a href="#689288" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#688939" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a>.<span title="(f: Typers.this.AbsTypeError =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="ContextErrors.scala.html#187691" title="object Typers.this.ErrorUtils">ErrorUtils</a>.<a href="ContextErrors.scala.html#626788" title="(err: Typers.this.AbsTypeError)(implicit context: Typers.this.Context)Unit">issueTypeError</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Check if a structurally defined method violates implementation restrictions.
     *  A method cannot be called if it is a non-private member of a refinement type
     *  and if its parameter's types are any of:
     *    - the self-type of the refinement
     *    - a type member of the refinement
     *    - an abstract type declared outside of the refinement.
     */
    <span class="keyword">def</span> <a title="(meth: Typers.this.global.Symbol)Unit" id="187815">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="689354">meth</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(msg: String)Unit" id="689356">fail</a><span class="delimiter">(</span><a title="String" id="689358">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#689354" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#689358" title="String">msg</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="689357">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <a href="#689354" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.MethodType" id="689359">mt</a> @ MethodType<span class="delimiter">(</span>_, _<span class="delimiter">)</span>     =&gt; <a href="#689359" title="Typers.this.global.MethodType">mt</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="689363">restpe</a><span class="delimiter">)</span> =&gt; <a href="#689363" title="Typers.this.global.Type">restpe</a>  // TODO_NMT: drop NullaryMethodType from resultType?
        <span class="keyword">case</span> <span title="Typers.this.global.Type">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="689366">restpe</a><span class="delimiter">)</span>       =&gt; <a href="#689366" title="Typers.this.global.Type">restpe</a>
        <span class="keyword">case</span> <span title="Typers.this.global.NoType.type">_</span>                         =&gt; <a href="../../../reflect/internal/Types.scala.html#38827" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="689388">paramType</a> &lt;- <a href="#689357" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41527" title="(f: Typers.this.global.Type =&gt; Unit)Unit">paramTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="689389">sym</a> = <a href="#689388" title="Typers.this.global.Type">paramType</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689389" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#689389" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46570" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#689354" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#689356" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="String(&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#689389" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46570" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#689354" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#689356" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="String(&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689388" title="Typers.this.global.Type">paramType</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38831" title="Typers.this.global.ThisType">ThisType</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#689389" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#689354" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <a href="#689356" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="String(&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(useCase: Typers.this.global.UseCase)Unit" id="187816">typedUseCase</a><span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="689396">useCase</a>: <a href="../ast/DocComments.scala.html#186502" title="Typers.this.global.UseCase">UseCase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(str: String)Typers.this.global.syntaxAnalyzer.Parser" id="689398">stringParser</a><span class="delimiter">(</span><a title="String" id="689402">str</a>: <span title="String">String</span><span class="delimiter">)</span>: syntaxAnalyzer.<a href="../ast/parser/Parsers.scala.html#232045" title="Typers.this.global.syntaxAnalyzer.Parser">Parser</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.BatchSourceFile" id="689403">file</a> = <a href="#689405" title="scala.tools.nsc.util.BatchSourceFile" class="keyword">new</a> <a href="../util/SourceFile.scala.html#33118" title="anonymous class $anon extends scala.tools.nsc.util.BatchSourceFile" id="689405">BatchSourceFile</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188689" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#188728" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>, <a href="#689402" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString">str</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)scala.tools.nsc.util.Position" id="689407">positionInUltimateSource</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="689408">pos</a>: <a href="../util/Position.scala.html#33991" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="#689408" title="Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#187144" title="(source: scala.tools.nsc.util.SourceFile, shift: Int)scala.tools.nsc.util.Position">withSource</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188689" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>, <a href="#689396" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#260436" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#187134" title="=&gt; Int">start</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.CompilationUnit" id="689404">unit</a> = <span title="Typers.this.global.CompilationUnit" class="keyword">new</span> <a href="../CompilationUnits.scala.html#186387" title="Typers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">(</span><a href="#689403" title="scala.tools.nsc.util.BatchSourceFile">file</a><span class="delimiter">)</span>
        <a href="../ast/parser/Parsers.scala.html#295156" title="(unit: Typers.this.global.syntaxAnalyzer.global.CompilationUnit)Typers.this.global.syntaxAnalyzer.UnitParser" class="keyword">new</a> <a href="../Global.scala.html#186229" title="object Typers.this.global.syntaxAnalyzer">syntaxAnalyzer</a>.<a href="../ast/parser/Parsers.scala.html#232037" title="Typers.this.global.syntaxAnalyzer.UnitParser">UnitParser</a><span class="delimiter">(</span><a href="#689404" title="Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.syntaxAnalyzer.global.Tree]" id="689399">trees</a> = <a href="#689398" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span><a href="#689396" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#260434" title="=&gt; String">body</a><span title="(x$1: Any)String">+</span><span title="String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#292790" title="=&gt; List[Typers.this.global.syntaxAnalyzer.global.Tree]">nonLocalDefOrDcl</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="689400">enclClass</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188117" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Any" id="689401">defineAlias</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="689439">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60506" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#689439" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/DocComments.scala.html#186497" title="(vble: String, site: Typers.this.global.Symbol)Option[String]">lookupVariable</a><span class="delimiter">(</span><a href="#689439" title="Typers.this.global.Name">name</a>.<span title="()String">toString</span>.<span title="(x$1: Int)String">substring</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <a href="#689400" title="Typers.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Any">Some</span><span class="delimiter">(</span><a title="String" id="689451">repl</a><span class="delimiter">)</span> =&gt;
              <a href="#187787" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span class="delimiter">(</span><a href="#689457" title="Typers.this.Typer">_</a>.<a href="#187873" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#689398" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span><a href="#689451" title="String">repl</a><span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#292755" title="()Typers.this.global.syntaxAnalyzer.global.Tree">typ</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Symbol">SilentResultValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="689466">tpt</a><span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="689467">alias</a> = <a href="#689400" title="Typers.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46409" title="(name: Typers.this.global.TypeName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.Symbol">newAliasType</a><span class="delimiter">(</span><a href="#689439" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52127" title="=&gt; Typers.this.global.TypeName">toTypeName</a>, <a href="#689396" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#260436" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="689468">tparams</a> = <a href="../../../reflect/internal/Symbols.scala.html#38746" title="(syms: List[Typers.this.global.Symbol], owner: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">cloneSymbolsAtOwner</a><span class="delimiter">(</span><a href="#689466" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#689467" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                  <a href="#689467" title="Typers.this.global.Symbol">alias</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)alias.type">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#38944" title="(tps: List[Typers.this.global.Symbol], body: Typers.this.global.Type)Typers.this.global.Type">typeFun</a><span class="delimiter">(</span><a href="#689468" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#689466" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#689468" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#689500" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#689467" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.syntaxAnalyzer.global.Tree" id="689554">tree</a> &lt;- <a href="#689399" title="(f: Typers.this.global.syntaxAnalyzer.global.Tree =&gt; Unit)Unit">trees</a>; <a title="Typers.this.global.syntaxAnalyzer.global.Tree" id="689557">t</a> &lt;- <a href="#689554" title="(f: Typers.this.global.syntaxAnalyzer.global.Tree =&gt; Unit)Unit">tree</a><span class="delimiter">)</span>
        <a href="#689557" title="Typers.this.global.syntaxAnalyzer.global.Tree">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="689561">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#689561" title="Typers.this.global.Name">name</a> <a href="../../../reflect/internal/Names.scala.html#52156" title="(char: Char)Boolean">startsWith</a> <span title="Char('$')" class="char">'$'</span> =&gt; <a href="#689401" title="(name: Typers.this.global.Name)Any">defineAlias</a><span title="Unit" class="delimiter">(</span><a href="#689561" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="#689396" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#260443" title="(x$1: List[Typers.this.global.Symbol])Unit">aliases</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60510" title="=&gt; List[Typers.this.global.Symbol]">toList</a>
      <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#625629" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#689399" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a><span class="delimiter">)</span>
      <a href="#187829" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#689399" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a>, <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="#689396" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#260440" title="(x$1: List[Typers.this.global.Symbol])Unit">defined</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60510" title="=&gt; List[Typers.this.global.Symbol]">toList</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)List[Typers.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#689396" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#260442" title="=&gt; List[Typers.this.global.Symbol]">aliases</a> <span title="(elem: Any)Boolean">contains</span> <a href="#689580" title="Typers.this.global.Symbol">_</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#689396" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#260439" title="=&gt; List[Typers.this.global.Symbol]">defined</a> <span title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="689606">sym</a> =&gt; <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;defined use cases: %s:%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#689606" title="Typers.this.global.Symbol">sym</a>, <a href="#689606" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /**
     *  @param ddef ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef" id="187817">typedDefDef</a><span class="delimiter">(</span><a title="Typers.this.global.DefDef" id="689614">ddef</a>: <span title="Typers.this.global.DefDef">DefDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.DefDef">DefDef</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="689616">meth</a> = <a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; Typers.this.global.Symbol">initialize</a>

      <a href="#187757" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <a href="#187756" title="(vparamss: List[List[Typers.this.global.ValDef]])Unit">reenterValueParams</a><span class="delimiter">(</span><a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</span><span class="delimiter">)</span>

      // for `val` and `var` parameter, look at `target` meta-annotation
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46539" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="689644">vparams</a> &lt;- <a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</span>; <a title="Typers.this.global.ValDef" id="689664">vd</a> &lt;- <a href="#689644" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689664" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span>.<a href="../../../reflect/internal/HasFlags.scala.html#46788" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="MethodSynthesis.scala.html#625566" title="(tree: Typers.this.global.ValDef)Unit">validateParam</a><span class="delimiter">(</span><a href="#689664" title="Typers.this.global.ValDef">vd</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="689617">tparams1</a> = <a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <a href="#187818" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a>
      <span class="keyword">val</span> <a title="List[List[Typers.this.global.ValDef]]" id="689618">vparamss1</a> = <a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</span> <span title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])List[List[Typers.this.global.ValDef]]">mapConserve</span> <span class="delimiter">(</span><a href="#689682" title="List[Typers.this.global.ValDef]">_</a> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</span> <a href="#187813" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>

      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="689619">annots</a> = <a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="689711">vparams1</a> &lt;- <a href="#689618" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss1</a>; <a title="Typers.this.global.ValDef" id="689737">vparam1</a> &lt;- <a href="#689711" title="List[Typers.this.global.ValDef]">vparams1</a> <span title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">dropRight</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45110" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#689737" title="Typers.this.global.ValDef">vparam1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#187913" title="(param: Typers.this.global.Tree)Unit">StarParamNotLastError</a><span class="delimiter">(</span><a href="#689737" title="Typers.this.global.ValDef">vparam1</a><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="689620">tpt1</a> = <a href="#187754" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#685080" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#689616" title="Typers.this.global.Symbol">meth</a>, <a href="#187868" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#187752" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#689614" title="Typers.this.global.DefDef">ddef</a>, <a href="#689620" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="(tp: Typers.this.global.Type)ddef.tpt.type">setType</span><span class="delimiter">(</span><a href="#689620" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="689621">typedMods</a> = <a href="#187812" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">typedModifiers</a><span class="delimiter">(</span><a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="689622">rhs1</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Name">name</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#46810" title="=&gt; Boolean">hasStaticFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span> // need this to make it possible to generate static ctors
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46539" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
              <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">||</span>
               <a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">||</span>
               <a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46505" title="=&gt; Boolean">isAnonOrRefinementClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="ContextErrors.scala.html#187915" title="(ddef: Typers.this.global.Tree)Unit">InvalidConstructorDefError</a><span class="delimiter">(</span><a href="#689614" title="Typers.this.global.DefDef">ddef</a><span class="delimiter">)</span>
          <a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46538" title="=&gt; Boolean">isMacro</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#187875" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, <span title="Int(1)">EXPRmode</span>, <a href="#689620" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46539" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46490" title="=&gt; Boolean">isClassConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#186134" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#186104" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
        <a href="#187814" title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit">computeParamAliases</a><span class="delimiter">(</span><a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#689618" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#689622" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689620" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#44996" title="object Typers.this.global.definitions.NothingClass">NothingClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188147" title="=&gt; Boolean">returnsSeen</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#689622" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#44996" title="object Typers.this.global.definitions.NothingClass">NothingClass</a><span class="delimiter">)</span>
        <a href="#689622" title="Typers.this.global.Tree">rhs1</a> = <a href="TypeDiagnostics.scala.html#684417" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#689622" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46629" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="689792">ps</a> =&gt; <a href="#689792" title="List[Typers.this.global.Symbol]">ps</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#689799" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46802" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#45110" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#689792" title="List[Typers.this.global.Symbol]">ps</a>.<span title="=&gt; Typers.this.global.Symbol">last</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="ContextErrors.scala.html#187914" title="(meth: Typers.this.global.Symbol)Unit">StarWithDefaultError</a><span class="delimiter">(</span><a href="#689616" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="689801">allParams</a> = <a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46629" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(implicit asTraversable: List[Typers.this.global.Symbol] =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">flatten</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="689859">p</a> &lt;- <a href="#689801" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">allParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.TermName" id="689864">n</a> &lt;- <a href="#689859" title="Typers.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#46526" title="(f: Typers.this.global.TermName =&gt; Unit)Unit">deprecatedParamName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689801" title="List[Typers.this.global.Symbol]">allParams</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="689871">p1</a> =&gt; <a href="#689871" title="Typers.this.global.Symbol">p1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#689864" title="Typers.this.global.TermName">n</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#689859" title="Typers.this.global.Symbol">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#689871" title="Typers.this.global.Symbol">p1</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#689871" title="Typers.this.global.Symbol">p1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46526" title="=&gt; Option[Typers.this.global.TermName]">deprecatedParamName</a>.<span title="(p: Typers.this.global.TermName =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#689883" title="Typers.this.global.TermName">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#689864" title="Typers.this.global.TermName">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="ContextErrors.scala.html#187916" title="(param: Typers.this.global.Symbol, name: Typers.this.global.Name)Unit">DeprecatedParamNameError</a><span class="delimiter">(</span><a href="#689859" title="Typers.this.global.Symbol">p</a>, <a href="#689864" title="Typers.this.global.TermName">n</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689616" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/internal/Symbols.scala.html#46555" title="=&gt; Boolean">isStructuralRefinementMember</a><span class="delimiter">)</span>
        <a href="#187815" title="(meth: Typers.this.global.Symbol)Unit">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a href="#689616" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>
      <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], vparamss: List[List[Typers.this.global.ValDef]], tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a href="#689614" title="Typers.this.global.DefDef">ddef</a>, <a href="#689621" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#689614" title="Typers.this.global.DefDef">ddef</a>.<span title="=&gt; Typers.this.global.Name">name</span>, <a href="#689617" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#689618" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#689620" title="Typers.this.global.Tree">tpt1</a>, <a href="#689622" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.DefDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="187818">typedTypeDef</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="688243">tdef</a>: <span title="Typers.this.global.TypeDef">TypeDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.TypeDef">TypeDef</span> =
      <a href="#187763" title="(c: =&gt; Typers.this.Context)(cond: Boolean)(f: Typers.this.Typer =&gt; Typers.this.global.TypeDef)Typers.this.global.TypeDef">typerWithCondLocalContext</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#688243" title="Typers.this.global.TypeDef">tdef</a>, <a href="#688243" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#688243" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span><span class="delimiter">{</span>
        <a href="#689911" title="Typers.this.Typer">_</a>.<a href="#187819" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef0</a><span class="delimiter">(</span><a href="#688243" title="Typers.this.global.TypeDef">tdef</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    // call typedTypeDef instead
    // a TypeDef with type parameters must always be type checked in a new scope
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="187819">typedTypeDef0</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="689912">tdef</a>: <span title="Typers.this.global.TypeDef">TypeDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.TypeDef">TypeDef</span> = <span class="delimiter">{</span>
      <a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; Typers.this.global.Symbol">initialize</a>
      <a href="#187757" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="689917">tparams1</a> = <a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; List[Typers.this.global.TypeDef]">tparams</span> <span title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</span> <a href="#187818" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="689918">typedMods</a> = <a href="#187812" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">typedModifiers</a><span class="delimiter">(</span><a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Modifiers">mods</span><span class="delimiter">)</span>
      // complete lazy annotations
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="689919">annots</a> = <a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      // @specialized should not be pickled when compiling with -no-specialize
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186666" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#186319" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188866" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44938" title="(cls: Typers.this.global.Symbol)Typers.this.global.Symbol">removeAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#39224" title="object Typers.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#45415" title="=&gt; Typers.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
        <a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46713" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44938" title="(cls: Typers.this.global.Symbol)Typers.this.global.Symbol">removeAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#39224" title="object Typers.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#45415" title="=&gt; Typers.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="689920">rhs1</a> = <a href="#187754" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#685080" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#187868" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#187751" title="(sym: Typers.this.global.Symbol)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46444" title="=&gt; Boolean">isType</a><span class="delimiter">)</span>
        <a href="#689920" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">TypeBounds</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="689956">lo1</a>, <a title="Typers.this.global.Type" id="689957">hi1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#689956" title="Typers.this.global.Type">lo1</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#689957" title="Typers.this.global.Type">hi1</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="ContextErrors.scala.html#187906" title="(tree: Typers.this.global.TypeDef, lowB: Typers.this.global.Type, highB: Typers.this.global.Type)Unit">LowerBoundError</a><span class="delimiter">(</span><a href="#689912" title="Typers.this.global.TypeDef">tdef</a>, <a href="#689956" title="Typers.this.global.Type">lo1</a>, <a href="#689957" title="Typers.this.global.Type">hi1</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span>                                        =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], rhs: Typers.this.global.Tree)Typers.this.global.TypeDef">TypeDef</span><span class="delimiter">(</span><a href="#689912" title="Typers.this.global.TypeDef">tdef</a>, <a href="#689918" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#689912" title="Typers.this.global.TypeDef">tdef</a>.<span title="=&gt; Typers.this.global.TypeName">name</span>, <a href="#689917" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#689920" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Unit" id="187820">enterLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="685492">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#685492" title="Typers.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="689971">ldef</a> @ LabelDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#689971" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#689971" title="Typers.this.global.LabelDef">ldef</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#625613" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
              <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46388" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#689971" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#689971" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef" id="187821">typedLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="690010">ldef</a>: <span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">)</span>: <span title="Typers.this.global.LabelDef">LabelDef</span> = <span class="delimiter">{</span>
      <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59419" title="(name: Typers.this.global.Name)Boolean">isLoopHeaderLabel</a><span class="delimiter">(</span><a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#187421" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="690014">restpe</a> = <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="690015">rhs1</a> = <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span>, <a href="#690014" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="690041">param</a> =&gt; <a href="#690041" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#690041" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">(</span><a href="#690010" title="Typers.this.global.LabelDef">ldef</a>, <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#690015" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#690014" title="Typers.this.global.Type">restpe</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="690051">initpe</a> = <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="690052">rhs1</a> = <a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="690053">restpe</a> = <a href="#690052" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#690053" title="Typers.this.global.Type">restpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#690051" title="Typers.this.global.Type">initpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> // stable result, no need to check again
          <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="690075">param</a> =&gt; <a href="#690075" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#690075" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">(</span><a href="#690010" title="Typers.this.global.LabelDef">ldef</a>, <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#690052" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#690053" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60505" title="(sym: Typers.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="690078">sym2</a> = <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#625613" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
            <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46388" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#690053" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="690079">rhs2</a> = <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#186438" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.Tree">rhs</span><span class="delimiter">)</span>, <a href="#690053" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
          <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span> <span title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="690117">param</a> =&gt; <a href="#690117" title="Typers.this.global.Ident">param</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#690117" title="Typers.this.global.Ident">param</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">(</span><a href="#690010" title="Typers.this.global.LabelDef">ldef</a>, <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; Typers.this.global.TermName">name</span>, <a href="#690010" title="Typers.this.global.LabelDef">ldef</a>.<span title="=&gt; List[Typers.this.global.Ident]">params</span>, <a href="#690079" title="Typers.this.global.Tree">rhs2</a><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.LabelDef">setSymbol</span> <a href="#690078" title="Typers.this.global.Symbol">sym2</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</span> <a href="#690053" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param block ...
     *  @param mode  ...
     *  @param pt    ...
     *  @return      ...
     */
    <span class="keyword">def</span> <a title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block" id="187822">typedBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Block" id="690123">block</a>: <span title="Typers.this.global.Block">Block</span>, <a title="Int" id="690124">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="690125">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Block">Block</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="690127">syntheticPrivates</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#625629" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#690123" title="Typers.this.global.Block">block</a>.<span title="=&gt; List[Typers.this.global.Tree]">stats</span><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="690149">stat</a> &lt;- <a href="#690123" title="Typers.this.global.Block">block</a>.<span title="(f: Typers.this.global.Tree =&gt; Unit)Unit">stats</span><span class="delimiter">)</span> <a href="#187820" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#690149" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>

        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35632" title="(period: Typers.this.global.Period)Int">phaseId</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35634" title="=&gt; Typers.this.global.Period">currentPeriod</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="../Global.scala.html#186319" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188838" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../../../reflect/internal/Phase.scala.html#69296" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // This is very tricky stuff, because we are navigating the Skylla and Charybdis of
          // anonymous classes and what to return from them here. On the one hand, we cannot admit
          // every non-private member of an anonymous class as a part of the structural type of the
          // enclosing block. This runs afoul of the restriction that a structural type may not
          // refer to an enclosing type parameter or abstract types (which in turn is necessitated
          // by what can be done in Java reflection). On the other hand, making every term member
          // private conflicts with private escape checking - see ticket #3174 for an example.
          //
          // The cleanest way forward is if we would find a way to suppress structural type checking
          // for these members and maybe defer type errors to the places where members are called.
          // But that would be a big refactoring and also a big departure from existing code. The
          // probably safest fix for 2.8 is to keep members of an anonymous class that are not
          // mentioned in a parent type private (as before) but to disable escape checking for code
          // that's in the same anonymous class. That's what's done here.
          //
          // We really should go back and think hard whether we find a better way to address the
          // problem of escaping idents on the one hand and well-formed structural types on the
          // other.
          <a href="#690123" title="Typers.this.global.Block">block</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="syntheticPrivates.type">Block</span><span class="delimiter">(</span><a href="#690161" title="(x: List[Typers.this.global.Tree])Some[List[Typers.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.ClassDef" id="690172">classDef</a> @ ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span>, Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="690198">classDecls</a> = <a href="#690172" title="Typers.this.global.ClassDef">classDef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Typers.this.global.Scope">decls</a>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="690199">visibleMembers</a> = <a href="#690125" title="Typers.this.global.Type">pt</a> <span title="List[Typers.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38822" title="List[Typers.this.global.Symbol]">WildcardType</a>                           =&gt; <a href="#690198" title="Typers.this.global.Scope">classDecls</a>.<a href="../../../reflect/internal/Scopes.scala.html#60510" title="=&gt; List[Typers.this.global.Symbol]">toList</a>
                <span class="keyword">case</span> <span title="List[Typers.this.global.Symbol]">BoundedWildcardType</span><span class="delimiter">(</span>TypeBounds<span class="delimiter">(</span><a title="Typers.this.global.Type" id="690205">lo</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#690205" title="Typers.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#41540" title="=&gt; List[Typers.this.global.Symbol]">members</a>
                <span class="keyword">case</span> <span title="List[Typers.this.global.Symbol]">_</span>                                      =&gt; <a href="#690125" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41540" title="=&gt; List[Typers.this.global.Symbol]">members</a>
              <span class="delimiter">}</span>
              <span class="keyword">def</span> <a title="(member: Typers.this.global.Symbol)Boolean" id="690200">matchesVisibleMember</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="690206">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#690199" title="List[Typers.this.global.Symbol]">visibleMembers</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="690213">vis</a> =&gt;
                <span class="delimiter">(</span><a href="#690206" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#690213" title="Typers.this.global.Symbol">vis</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#690206" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#690213" title="Typers.this.global.Symbol">vis</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41561" title="(from: Typers.this.global.Symbol, to: Typers.this.global.Symbol)Typers.this.global.Type">substThis</a><span class="delimiter">(</span><a href="#690213" title="Typers.this.global.Symbol">vis</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#690172" title="Typers.this.global.ClassDef">classDef</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              // The block is an anonymous class definitions/instantiation pair
              //   -&gt; members that are hidden by the type of the block are made private
              <span class="keyword">val</span> <a title="Iterable[Typers.this.global.Symbol]" id="690201">toHide</a> = <span class="delimiter">(</span>
                <a href="#690198" title="Typers.this.global.Scope">classDecls</a> <a href="../../../reflect/internal/Scopes.scala.html#60516" title="(p: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="690235">member</a> =&gt;
                     <a href="#690235" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#690235" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46556" title="=&gt; Boolean">isPossibleInRefinement</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#690235" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46792" title="=&gt; Boolean">isPublic</a>
                  <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#690200" title="(member: Typers.this.global.Symbol)Boolean">matchesVisibleMember</a><span class="delimiter">(</span><a href="#690235" title="Typers.this.global.Symbol">member</a><span class="delimiter">)</span>
                <span class="delimiter">)</span> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Typers.this.global.Symbol],Typers.this.global.Symbol,Iterable[Typers.this.global.Symbol]])Iterable[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="690255">member</a> =&gt; <a href="#690255" title="Typers.this.global.Symbol">member</a>
                  <a href="../../../reflect/internal/Symbols.scala.html#46590" title="(mask: Long)member.type">resetFlag</a> <span class="delimiter">(</span>PROTECTED <span title="Long(524289L)">|</span> LOCAL<span class="delimiter">)</span>
                  <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)member.type">setFlag</a> <span class="delimiter">(</span>PRIVATE <span title="Long(274877906948L)">|</span> SYNTHETIC_PRIVATE<span class="delimiter">)</span>
                  <a href="../../../reflect/internal/Symbols.scala.html#46601" title="(sym: Typers.this.global.Symbol)member.type">setPrivateWithin</a> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
                <span class="delimiter">)</span>
              <span class="delimiter">)</span>
              <a href="#690127" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">syntheticPrivates</a> <span title="(xs: scala.collection.TraversableOnce[Typers.this.global.Symbol])syntheticPrivates.type">++=</span> <a href="#690201" title="Iterable[Typers.this.global.Symbol]">toHide</a>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="690128">stats1</a> = <a href="#187829" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#690123" title="Typers.this.global.Block">block</a>.<span title="=&gt; List[Typers.this.global.Tree]">stats</span>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="690129">expr1</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#690123" title="Typers.this.global.Block">block</a>.<span title="=&gt; Typers.this.global.Tree">expr</span>, <a href="#690124" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span class="delimiter">(</span>FUNmode <span title="Int(80)">|</span> QUALmode<span class="delimiter">)</span>, <a href="#690125" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</span><span class="delimiter">(</span><a href="#690123" title="Typers.this.global.Block">block</a>, <a href="#690128" title="List[Typers.this.global.Tree]">stats1</a>, <a href="#690129" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span>
          .<span title="(tp: Typers.this.global.Type)Typers.this.global.Block">setType</span><span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120062" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a><span class="delimiter">(</span><a href="#690123" title="Typers.this.global.Block">block</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#690129" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span class="keyword">else</span> <a href="#690129" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41509" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        // enable escaping privates checking from the outside and recycle
        // transient flag
        <a href="#690127" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">syntheticPrivates</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <span class="delimiter">(</span><a href="#690335" title="Typers.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#46590" title="(mask: Long)x$49.type">resetFlag</a> <span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param cdef   ...
     *  @param pattpe ...
     *  @param pt     ...
     *  @return       ...
     */
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef" id="187823">typedCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="690341">cdef</a>: <span title="Typers.this.global.CaseDef">CaseDef</span>, <a title="Typers.this.global.Type" id="690342">pattpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="690343">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.CaseDef">CaseDef</span> = <span class="delimiter">{</span>
      // verify no _* except in last position
      <span class="keyword">for</span> <span class="delimiter">(</span>Apply<span class="delimiter">(</span>_, <a title="List[Typers.this.global.Tree]" id="690382">xs</a><span class="delimiter">)</span> &lt;- <a href="#690341" title="Typers.this.global.CaseDef">cdef</a>.<a href="#690350" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">pat</a> ; <a title="Typers.this.global.Tree" id="690394">x</a> &lt;- <a href="#690382" title="List[Typers.this.global.Tree]">xs</a> <span title="(f: Typers.this.global.Tree =&gt; Unit)Unit">dropRight</span> <span title="Int(1)" class="int">1</span> ; <span class="keyword">if</span> <a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a> <a href="../../../reflect/internal/TreeInfo.scala.html#120105" title="(x: Typers.this.global.treeInfo.global.Tree)Boolean">isStar</a> <a href="#690394" title="Typers.this.global.Tree">x</a><span class="delimiter">)</span>
        <a href="ContextErrors.scala.html#187934" title="(tree: Typers.this.global.Tree)Unit">StarPositionInPatternError</a><span class="delimiter">(</span><a href="#690394" title="Typers.this.global.Tree">x</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="690345">pat1</a> = <a href="#187866" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a><span class="delimiter">(</span><a href="#690341" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">pat</span>, <a href="#690342" title="Typers.this.global.Type">pattpe</a><span class="delimiter">)</span>
      // When case classes have more than two parameter lists, the pattern ends
      // up typed as a method.  We only pattern match on the first parameter
      // list, so substitute the final result type of the method, i.e. the type
      // of the case class.
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#690345" title="Typers.this.global.Tree">pat1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41524" title="=&gt; Int">paramSectionCount</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="#690345" title="Typers.this.global.Tree">pat1</a> <span title="(tp: Typers.this.global.Type)pat1.type">setType</span> <a href="#690345" title="Typers.this.global.Tree">pat1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41523" title="=&gt; Typers.this.global.Type">finalResultType</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186345" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Bind" id="690444">bind</a> @ Bind<span class="delimiter">(</span><a title="Typers.this.global.Name" id="690449">name</a>, _<span class="delimiter">)</span> &lt;- <a href="#690341" title="Typers.this.global.CaseDef">cdef</a>.<a href="#690413" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">pat</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#690449" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52126" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#690444" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#690444" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#625636" title="(sym: Typers.this.global.Symbol)Unit">enterIfNotThere</a><span class="delimiter">(</span><a href="#690444" title="Typers.this.global.Bind">bind</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="690346">guard1</a>: <span title="Typers.this.global.Tree">Tree</span> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#690341" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>
                         <span class="keyword">else</span> <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#690341" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span>, <a href="../../../reflect/internal/Definitions.scala.html#45547" title="=&gt; Typers.this.global.Symbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="690347">body1</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#690341" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#690343" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188165" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#690347" title="Typers.this.global.Tree">body1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188232" title="(tp: Typers.this.global.Type)Typers.this.global.Type">restoreTypeBounds</a><span class="delimiter">(</span><a href="#690347" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#187477" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#690343" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#690347" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#690343" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // @M no need for pt.normalize here, is done in erasure
          <a href="#690347" title="Typers.this.global.Tree">body1</a> = <a href="#187860" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#690347" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92349" title="(tree: Typers.this.global.gen.global.Tree, pt: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#690347" title="Typers.this.global.Tree">body1</a>, <a href="#690343" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
//    body1 = checkNoEscaping.locals(context.scope, pt, body1)
      <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, pat: Typers.this.global.Tree, guard: Typers.this.global.Tree, body: Typers.this.global.Tree)Typers.this.global.CaseDef">CaseDef</span><span class="delimiter">(</span><a href="#690341" title="Typers.this.global.CaseDef">cdef</a>, <a href="#690345" title="Typers.this.global.Tree">pat1</a>, <a href="#690346" title="Typers.this.global.Tree">guard1</a>, <a href="#690347" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.CaseDef">setType</span> <a href="#690347" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]" id="187824">typedCases</a><span class="delimiter">(</span><a title="List[Typers.this.global.CaseDef]" id="624654">cases</a>: <span title="List[Typers.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="624655">pattp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="624656">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="List[Typers.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span> =
      <a href="#624654" title="List[Typers.this.global.CaseDef]">cases</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)List[Typers.this.global.CaseDef]">mapConserve</span> <span class="delimiter">{</span> <a title="Typers.this.global.CaseDef" id="690501">cdef</a> =&gt;
        <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#690501" title="Typers.this.global.CaseDef">cdef</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#187823" title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef">typedCase</a><span class="delimiter">(</span><a href="#690501" title="Typers.this.global.CaseDef">cdef</a>, <a href="#624655" title="Typers.this.global.Type">pattp</a>, <a href="#624656" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    /**
     *  @param fun  ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187825">typedFunction</a><span class="delimiter">(</span><a title="Typers.this.global.Function" id="690503">fun</a>: <span title="Typers.this.global.Function">Function</span>, <a title="Int" id="690504">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="690505">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="690507">numVparams</a> = <a href="#690503" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>.<span title="=&gt; Int">length</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#690507" title="Int">numVparams</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object Typers.this.global.definitions">definitions</a>.<a href="../../../reflect/internal/Definitions.scala.html#45228" title="=&gt; Int">MaxFunctionArity</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="ContextErrors.scala.html#187935" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">MaxFunctionArityError</a><span class="delimiter">(</span><a href="#690503" title="Typers.this.global.Function">fun</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" id="690508">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="690518">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</span>Symbol, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, Type<span class="delimiter">)</span> =
        <span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45264" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#690518" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
             <span title="(x: Boolean)Boolean">||</span>
             <a href="#690518" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45018" title="=&gt; Typers.this.global.Symbol">PartialFunctionClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
             <a href="#690507" title="Int">numVparams</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#690503" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Tree">body</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Match">Match</span><span class="delimiter">]</span><span class="delimiter">)</span>
             <span title="(x: Boolean)Boolean">&amp;&amp;</span> // see bug901 for a reason why next conditions are needed
            <span class="delimiter">(</span><a href="#690518" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span> <span title="(x: Int)Boolean">==</span> <a href="#690507" title="Int">numVparams</a>
             <span title="(x: Boolean)Boolean">||</span>
             <a href="#690503" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>.<span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#690544" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</span><a href="#690518" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#690518" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; List[Typers.this.global.Type]">init</span>, <a href="#690518" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Typers.this.global.Type">last</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <span title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.WildcardType.type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.WildcardType.type)" class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45236" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#690507" title="Int">numVparams</a><span class="delimiter">)</span>, <a href="#690503" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.NoType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.NoType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="690577">x</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#38827" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="#690510" title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</a><a href="#690509" title="Typers.this.global.Symbol" id="690510">clazz</a>, <a href="#690509" title="List[Typers.this.global.Type]" id="690511">argpts</a>, <a href="#690509" title="Typers.this.global.Type" id="690512">respt</a><span class="delimiter">)</span> = <a href="#690508" title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)">decompose</a><span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#690505" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#690511" title="List[Typers.this.global.Type]">argpts</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><a href="#690507" title="Int">numVparams</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="ContextErrors.scala.html#187936" title="(tree: Typers.this.global.Tree, argpts: List[Typers.this.global.Type])Typers.this.global.Tree">WrongNumberOfParametersError</a><span class="delimiter">(</span><a href="#690503" title="Typers.this.global.Function">fun</a>, <a href="#690511" title="List[Typers.this.global.Type]">argpts</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="690630">vparamSyms</a> = <a href="../../../reflect/internal/util/Collections.scala.html#38302" title="(xs1: List[Typers.this.global.ValDef], xs2: List[Typers.this.global.Type])(f: (Typers.this.global.ValDef, Typers.this.global.Type) =&gt; Typers.this.global.Symbol)List[Typers.this.global.Symbol]">map2</a><span class="delimiter">(</span><a href="#690503" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span>, <a href="#690511" title="List[Typers.this.global.Type]">argpts</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="690681">vparam</a>, <a title="Typers.this.global.Type" id="690682">argpt</a><span class="delimiter">)</span> =&gt;
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#690681" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#690681" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> =
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#187477" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#690682" title="Typers.this.global.Type">argpt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#690682" title="Typers.this.global.Type">argpt</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#690503" title="Typers.this.global.Function">fun</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="EtaExpansion.scala.html#632506" title="Unit">etaExpansion</a><span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="690687">vparams</a>, <a title="Typers.this.global.Tree" id="690688">fn</a>, <a title="List[Typers.this.global.Tree]" id="690689">args</a><span class="delimiter">)</span> =&gt;
                    <a href="#187787" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span class="delimiter">(</span><a href="#690695" title="Typers.this.Typer">_</a>.<a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#690688" title="Typers.this.global.Tree">fn</a>, <a href="Modes.scala.html#187383" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#690504" title="Int">mode</a><span class="delimiter">)</span>, <a href="#690505" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                      <span class="keyword">case</span> <span title="Unit">SilentResultValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="690704">fn1</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span> =&gt;
                        // if context,undetparams is not empty, the function was polymorphic,
                        // so we need the missing arguments to infer its type. See #871
                        //println(&quot;typing eta &quot;+fun+&quot;:&quot;+fn1.tpe+&quot;/&quot;+context.undetparams)
                        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="690706">ftpe</a> = <a href="Infer.scala.html#187480" title="(tp: Typers.this.global.Type)Typers.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#690704" title="Typers.this.global.Tree">fn1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#41553" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../../../reflect/internal/Definitions.scala.html#45236" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#690507" title="Int">numVparams</a><span class="delimiter">)</span>
                        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45264" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#690706" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Infer.scala.html#187477" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#690706" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                          <span title="Nothing" class="keyword">return</span> <a href="#187825" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span><a href="#690503" title="Typers.this.global.Function">fun</a>, <a href="#690504" title="Int">mode</a>, <a href="#690706" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span>
                      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">}</span>
                <a href="ContextErrors.scala.html#187937" title="(fun: Typers.this.global.Tree, vparam: Typers.this.global.ValDef, pt: Typers.this.global.Type)Unit">MissingParameterTypeError</a><span class="delimiter">(</span><a href="#690503" title="Typers.this.global.Function">fun</a>, <a href="#690681" title="Typers.this.global.ValDef">vparam</a>, <a href="#690505" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a>
              <span class="delimiter">}</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#690681" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187129" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <a href="#690681" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span> <span title="(pos: Typers.this.global.Position)vparam.tpt.type">setPos</span> <a href="#690681" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
          <a href="#187810" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>, <a href="#690681" title="Typers.this.global.ValDef">vparam</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188162" title="=&gt; Boolean">retyping</a><span class="delimiter">)</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#690681" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#690681" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="690631">vparams</a> = <a href="#690503" title="Typers.this.global.Function">fun</a>.<span title="=&gt; List[Typers.this.global.ValDef]">vparams</span> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</span> <span class="delimiter">(</span><a href="#187813" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>
//        for (vparam &lt;- vparams) {
//          checkNoEscaping.locals(context.scope, WildcardType, vparam.tpt); ()
//        }
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="690632">body1</a> = <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#690503" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#690512" title="Typers.this.global.Type">respt</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="690633">formals</a> = <a href="#690630" title="List[Typers.this.global.Symbol]">vparamSyms</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#690759" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="690634">restpe</a> = <a href="#187847" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#690632" title="Typers.this.global.Tree">body1</a>, <a href="#690503" title="Typers.this.global.Function">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41509" title="=&gt; Typers.this.global.Type">deconst</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="690635">funtpe</a> = <a href="../../../reflect/internal/Types.scala.html#38934" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#690510" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#690510" title="Typers.this.global.Symbol">clazz</a>, <a href="#690633" title="List[Typers.this.global.Type]">formals</a> <span title="(elem: Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">:+</span> <a href="#690634" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
//        body = checkNoEscaping.locals(context.scope, restpe, body)
        <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</span><span class="delimiter">(</span><a href="#690503" title="Typers.this.global.Function">fun</a>, <a href="#690631" title="List[Typers.this.global.ValDef]">vparams</a>, <a href="#690632" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span>.<span title="(tp: Typers.this.global.Type)Typers.this.global.Function">setType</span><span class="delimiter">(</span><a href="#690635" title="Typers.this.global.Type">funtpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])Unit" id="187826">typedRefinement</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="690842">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#625629" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#690842" title="List[Typers.this.global.Tree]">stats</a><span class="delimiter">)</span>
      // need to delay rest of typedRefinement to avoid cyclic reference errors
      <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188707" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a> <span title="(x: () =&gt; Unit)scala.collection.mutable.ListBuffer[() =&gt; Unit]">+=</span> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
        // go to next outer context which is not silent, see #3614
        <span class="keyword">var</span> <a title="Typers.this.Context" id="690871">c</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#690871" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#188186" title="=&gt; Boolean">bufferErrors</a><span class="delimiter">)</span> <a href="#690871" title="Typers.this.Context">c</a> = <a href="#690871" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#188114" title="=&gt; Typers.this.Context">outer</a>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="690872">stats1</a> = <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#690871" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#187829" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#690842" title="List[Typers.this.global.Tree]">stats</a>, <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="690882">stat</a> &lt;- <a href="#690872" title="(f: Typers.this.global.Tree =&gt; Any)Unit">stats1</a> <span class="keyword">if</span> <a href="#690882" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Boolean">isDef</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="690883">member</a> = <a href="#690882" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46683" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span>
                <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="690892">bc</a> =&gt; <a href="#690883" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46699" title="(ofclazz: Typers.this.global.Symbol, site: Typers.this.global.Type)Typers.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#690892" title="Typers.this.global.Symbol">bc</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#690883" title="Typers.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)member.type">setFlag</a> <span title="Long(2L)">OVERRIDE</span>
                <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(imp: Typers.this.global.Import)Typers.this.global.Import" id="187827">typedImport</a><span class="delimiter">(</span><a title="Typers.this.global.Import" id="690913">imp</a> : <span title="Typers.this.global.Import">Import</span><span class="delimiter">)</span> : <span title="Typers.this.global.Import">Import</span> = <span class="delimiter">(</span><a href="#187401" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <span title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">remove</span> <a href="#690913" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span> <span title="Typers.this.global.Import" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Import">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Import" id="690918">imp1</a>: <span title="Typers.this.global.Import">Import</span><span class="delimiter">)</span> =&gt; <a href="#690918" title="Typers.this.global.Import">imp1</a>
      <span class="keyword">case</span> <span title="Typers.this.global.Import">None</span> =&gt; <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;unhandled import: &quot;)" class="string">&quot;unhandled import: &quot;</span><span title="(x$1: Any)String">+</span><a href="#690913" title="Typers.this.global.Import">imp</a><span title="(x$1: Any)String">+</span><span title="String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)String">+</span><a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>; <a href="#690913" title="Typers.this.global.Import">imp</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="187828">isWarnablePureExpression</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="690919">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#690919" title="Typers.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="Analyzer.scala.html#187273" title="Boolean(false)">EmptyTree</a> | Literal<span class="delimiter">(</span>Constant<span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">case</span> <span title="Boolean">_</span>                                 =&gt;
        <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a> <a href="../../../reflect/internal/TreeInfo.scala.html#120062" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isExprSafeToInline</a> <a href="#690919" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="690925">sym</a> = <a href="#690919" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="delimiter">(</span><a href="#690925" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#690925" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">||</span> <a href="#690925" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;\'Pure\' but side-effecting expression in statement position: &quot;)" class="string">&quot;'Pure' but side-effecting expression in statement position: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#690919" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]" id="187829">typedStats</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="688751">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Symbol" id="688752">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="690930">inBlock</a> = <a href="#688752" title="Typers.this.global.Symbol">exprOwner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="690931">includesTargetPos</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="690942">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> =
        <a href="#690942" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187131" title="=&gt; Boolean">isRange</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188700" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#690942" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <a href="../util/Position.scala.html#187149" title="(pos: scala.tools.nsc.util.Position)Boolean">includes</a> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188710" title="=&gt; Typers.this.global.Position">targetPos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="690932">localTarget</a> = <a href="#688751" title="List[Typers.this.global.Tree]">stats</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#690931" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a>
      <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashSet[Typers.this.AbsTypeError]" id="690933">statsErrors</a> = scala.collection.mutable.<span title="[A](elems: A*)scala.collection.mutable.LinkedHashSet[A]">LinkedHashSet</span><span title="(elems: Typers.this.AbsTypeError*)scala.collection.mutable.LinkedHashSet[Typers.this.AbsTypeError]" class="delimiter">[</span><a href="ContextErrors.scala.html#187672" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Typers.this.global.Tree" id="690934">typedStat</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="690951">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46467" title="=&gt; Boolean">isRefinementClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120059" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isDeclarationOrTypeDef</a><span class="delimiter">(</span><a href="#690951" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#187939" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">OnlyDeclarationsError</a><span class="delimiter">(</span><a href="#690951" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#690951" title="Typers.this.global.Tree">stat</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Import" id="690954">imp</a> @ Import<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="#187742" title="(x$1: Typers.this.Context)Unit">context</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188204" title="(imp: Typers.this.global.Import)Typers.this.Context">makeNewImport</a><span class="delimiter">(</span><a href="#690954" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span>
              <a href="#690954" title="Typers.this.global.Import">imp</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; Typers.this.global.Symbol">initialize</a>
              <a href="#187827" title="(imp: Typers.this.global.Import)Typers.this.global.Import">typedImport</a><span class="delimiter">(</span><a href="#690954" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#690932" title="Boolean">localTarget</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#690931" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a><span class="delimiter">(</span><a href="#690951" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                // skip typechecking of statements in a sequence where some other statement includes
                // the targetposition
                <a href="#690951" title="Typers.this.global.Tree">stat</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.Typer" id="690963">localTyper</a> = <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#690930" title="Boolean">inBlock</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#690951" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#690951" title="Typers.this.global.Tree">stat</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.LabelDef">LabelDef</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188195" title="()Unit">flushBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
                  <a href="#187422" title="Typers.this.Typer" class="keyword">this</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188208" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#690951" title="Typers.this.global.Tree">stat</a>, <a href="#688752" title="Typers.this.global.Symbol">exprOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                // XXX this creates a spurious dead code warning if an exception is thrown
                // in a constructor, even if it is the only thing in the constructor.
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="690964">result</a> = <a href="TypeDiagnostics.scala.html#684417" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#690963" title="Typers.this.Typer">localTyper</a>.<a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#690951" title="Typers.this.global.Tree">stat</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>

                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120076" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#690964" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188145" title="(x$1: Boolean)Unit">inConstructorSuffix</a> = <span title="Boolean(true)" class="keyword">true</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120074" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSelfConstrCall</a><span class="delimiter">(</span><a href="#690964" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#690964" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#187137" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;=</span> <a href="#688752" title="Typers.this.global.Symbol">exprOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46663" title="=&gt; Typers.this.global.Symbol">enclMethod</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#187137" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    <a href="ContextErrors.scala.html#187938" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">ConstructorsOrderError</a><span class="delimiter">(</span><a href="#690951" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>

                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187828" title="(tree: Typers.this.global.Tree)Boolean">isWarnablePureExpression</a><span class="delimiter">(</span><a href="#690964" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188220" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#690951" title="Typers.this.global.Tree">stat</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                  <span class="string">&quot;a pure expression does nothing in statement position; &quot;</span> <span title="String(&quot;a pure expression does nothing in statement position; you may be omitting necessary parentheses&quot;)">+</span>
                  <span class="string">&quot;you may be omitting necessary parentheses&quot;</span>
                <span class="delimiter">)</span>
                <a href="#690933" title="scala.collection.mutable.LinkedHashSet[Typers.this.AbsTypeError]">statsErrors</a> <span title="(xs: scala.collection.TraversableOnce[Typers.this.AbsTypeError])statsErrors.type">++=</span> <a href="#690963" title="Typers.this.Typer">localTyper</a>.<a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188181" title="=&gt; scala.collection.mutable.Set[Typers.this.AbsTypeError]">errBuffer</a>
                <a href="#690964" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** 'accessor' and 'accessed' are so similar it becomes very difficult to
       *  follow the logic, so I renamed one to something distinct.
       */
      <span class="keyword">def</span> <a title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean" id="690935">accesses</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="690993">looker</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="690994">accessed</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#690994" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46805" title="=&gt; Boolean">hasLocalFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
           <span class="delimiter">(</span><a href="#690994" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46788" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#690993" title="Typers.this.global.Symbol">looker</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46804" title="=&gt; Boolean">hasAccessorFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#690994" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46804" title="=&gt; Boolean">hasAccessorFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#690994" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46782" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" id="690936">checkNoDoubleDefsAndAddSynthetics</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="690995">stats</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="690996">scope</a> = <span title="Typers.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#690930" title="Boolean">inBlock</a><span class="delimiter">)</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a> <span class="keyword">else</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Typers.this.global.Scope">decls</a>
        <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="690997">newStats</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
        <span class="keyword">var</span> <a title="Boolean" id="690998">needsCheck</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">var</span> <a title="Boolean" id="690999">moreToAdd</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#690999" title="Boolean">moreToAdd</a><span class="delimiter">)</span> <a href="#691000" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Int" id="691001">initSize</a> = <a href="#690996" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60496" title="=&gt; Int">size</a>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="691002">e</a> = <a href="#690996" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60476" title="=&gt; Typers.this.global.ScopeEntry">elems</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#691002" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92381" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#690996" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#691003" title="()Unit" class="delimiter">{</a>

            // check no double def
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#690998" title="Boolean">needsCheck</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="691009">e1</a> = <a href="#690996" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60509" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#691002" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#691009" title="Typers.this.global.ScopeEntry">e1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#691009" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#92381" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#690996" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#691011" title="()Unit" class="delimiter">{</a>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#690935" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#691009" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#690935" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#691009" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                    <span class="delimiter">(</span><a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46444" title="=&gt; Boolean">isType</a> <span title="(x: Boolean)Boolean">||</span> <a href="#690930" title="Boolean">inBlock</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41577" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#691009" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46538" title="=&gt; Boolean">isMacro</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#691009" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46538" title="=&gt; Boolean">isMacro</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  // default getters are defined twice when multiple overloads have defaults. an
                  // error for this is issued in RefChecks.checkDefaultsInOverloaded
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46496" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#691009" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46496" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46802" title="=&gt; Boolean">hasDefaultFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                      <span title="=&gt; Boolean">!</span><a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45373" title="=&gt; Typers.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#691009" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45373" title="=&gt; Typers.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Double definition detected:\n  &quot;)" class="string">&quot;Double definition detected:\n  &quot;</span> <span title="(x$1: Any)String">+</span>
                      <span class="delimiter">(</span><span title="(_1: Class[?0], _2: Typers.this.global.Type, _3: List[Typers.this.global.Symbol])(Class[?0], Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</span><a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<span title="()Class[_]">getClass</span>, <a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>, <a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46566" title="=&gt; List[Typers.this.global.Symbol]">ownerChain</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n  &quot;)" class="string">&quot;\n  &quot;</span> <span title="(x$1: Any)String">+</span> 
                      <span class="delimiter">(</span><span title="(_1: Class[?0], _2: Typers.this.global.Type, _3: List[Typers.this.global.Symbol])(Class[?0], Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</span><a href="#691009" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<span title="()Class[_]">getClass</span>, <a href="#691009" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>, <a href="#691009" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46566" title="=&gt; List[Typers.this.global.Symbol]">ownerChain</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                      
                    <a href="ContextErrors.scala.html#187988" title="(sym0: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Unit">DefDefinedTwiceError</a><span class="delimiter">(</span><a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#691009" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
                    <a href="#690996" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60504" title="(e: Typers.this.global.ScopeEntry)Unit">unlink</a><span class="delimiter">(</span><a href="#691009" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span> // need to unlink to avoid later problems with lub; see #2779
                  <span class="delimiter">}</span>
                <a href="#691009" title="Typers.this.global.ScopeEntry">e1</a> = <a href="#690996" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60509" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#691009" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          // add synthetics
          <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188705" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <span title="(key: Typers.this.global.Symbol)Option[Typers.this.global.Tree]">get</span> <a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a> <span title="(f: Typers.this.global.Tree =&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree])Unit">foreach</span> <span class="delimiter">{</span> <a title="Typers.this.global.Tree" id="691080">tree</a> =&gt;
            <a href="#690997" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> <span title="(x: Typers.this.global.Tree)scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">+=</span> <a href="#690934" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a><span class="delimiter">(</span><a href="#691080" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> // might add even more synthetics to the scope
            <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188705" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <span title="(key: Typers.this.global.Symbol)scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">-=</span> <a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>
          <span class="delimiter">}</span>

          <a href="#691002" title="Typers.this.global.ScopeEntry">e</a> = <a href="#691002" title="Typers.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92387" title="=&gt; Typers.this.global.ScopeEntry">next</a>
        <span class="delimiter">}</span>
        <a href="#690998" title="Boolean">needsCheck</a> = <span title="Boolean(false)" class="keyword">false</span>
        // the type completer of a synthetic might add more synthetics. example: if the
        // factory method of a case class (i.e. the constructor) has a default.
        <a href="#690999" title="Boolean">moreToAdd</a> = <a href="#691001" title="Int">initSize</a> <span title="(x: Int)Boolean">!=</span> <a href="#690996" title="Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60496" title="=&gt; Int">size</a>
        <span class="delimiter">}</span>
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#690997" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#690995" title="List[Typers.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          // put default getters next to the method they belong to,
          // same for companion objects. fixes #2489 and #4036.
          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean" id="691126">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="691128">stat</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="691129">synt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Tree)" class="delimiter">(</span><a href="#691128" title="Typers.this.global.Tree">stat</a>, <a href="#691129" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>DefDef<span class="delimiter">(</span>_, <a title="Typers.this.global.Name" id="691146">statName</a>, _, _, _, _<span class="delimiter">)</span>, DefDef<span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="691155">mods</a>, <a title="Typers.this.global.Name" id="691156">syntName</a>, _, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#691155" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46802" title="=&gt; Boolean">hasDefaultFlag</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#691156" title="Typers.this.global.Name">syntName</a>.<span title="()String">toString</span>.<span title="(x$1: String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#691146" title="Typers.this.global.Name">statName</a>.<span title="()String">toString</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>ClassDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TypeName" id="691167">className</a>, _, _<span class="delimiter">)</span>, ModuleDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TermName" id="691175">moduleName</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#691167" title="Typers.this.global.TypeName">className</a>.<a href="../../../reflect/internal/Names.scala.html#63728" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#691175" title="Typers.this.global.TermName">moduleName</a>

            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="691127">matching</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="691181">stat</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="#691183" title="(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])" class="delimiter">(</a><a href="#691182" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="691183">pos</a>, <a href="#691182" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="691184">neg</a><span class="delimiter">)</span> = <a href="#690997" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="(p: Typers.this.global.Tree =&gt; Boolean)(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])">partition</span><span title="(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree]) @unchecked" class="delimiter">(</span><a title="Typers.this.global.Tree" id="691190">synt</a> =&gt; <a href="#691126" title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean">matches</a><span class="delimiter">(</span><a href="#691181" title="Typers.this.global.Tree">stat</a>, <a href="#691190" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#690997" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> = <a href="#691184" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">neg</a>
            <a href="#691183" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">pos</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
          <span class="delimiter">}</span>

          <span class="delimiter">(</span><a href="#690995" title="List[Typers.this.global.Tree]">stats</a> <span title="(z: List[Typers.this.global.Tree])(f: (Typers.this.global.Tree, List[Typers.this.global.Tree]) =&gt; List[Typers.this.global.Tree])List[Typers.this.global.Tree]">foldRight</span> List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="691229">stat</a>, <a title="List[Typers.this.global.Tree]" id="691230">res</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#691229" title="Typers.this.global.Tree">stat</a> <a href="#691231" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#691127" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">matching</a><span class="delimiter">(</span><a href="#691229" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <a href="#691232" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#691230" title="List[Typers.this.global.Tree]">res</a>
          <span class="delimiter">}</span><span class="delimiter">)</span> <a href="#691201" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#690997" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<span title="=&gt; List[Typers.this.global.Tree]">toList</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="690937">stats1</a> = <a href="#187772" title="(c: Typers.this.Context)(f: =&gt; List[Typers.this.global.Tree])List[Typers.this.global.Tree]">withSavedContext</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="691255">result</a> = <a href="#688751" title="List[Typers.this.global.Tree]">stats</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <a href="#690934" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a>
        <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188195" title="()Unit">flushBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#691255" title="List[Typers.this.global.Tree]">result</a>
      <span class="delimiter">}</span>
      <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188193" title="(errors: scala.collection.mutable.Set[Typers.this.AbsTypeError])scala.collection.mutable.Set[Typers.this.AbsTypeError]">updateBuffer</a><span class="delimiter">(</span><a href="#690933" title="scala.collection.mutable.LinkedHashSet[Typers.this.AbsTypeError]">statsErrors</a><span class="delimiter">)</span>
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#690937" title="List[Typers.this.global.Tree]">stats1</a>
      <span class="keyword">else</span> <a href="#690936" title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">checkNoDoubleDefsAndAddSynthetics</a><span class="delimiter">(</span><a href="#690937" title="List[Typers.this.global.Tree]">stats1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187830">typedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687065">arg</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="687066">mode</a>: <span title="Int">Int</span>, <a title="Int" id="687067">newmode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="687068">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="691267">typedMode</a> = <a href="Modes.scala.html#187382" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#687066" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <a href="#687067" title="Int">newmode</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="691268">t</a> = <a href="#187760" title="(inConstr: Boolean)(f: Typers.this.Typer =&gt; Typers.this.global.Tree)Typers.this.global.Tree">withCondConstrTyper</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#687066" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(8)">SCCmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#691287" title="Typers.this.Typer">_</a>.<a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#687065" title="Typers.this.global.Tree">arg</a>, <a href="#691267" title="Int">typedMode</a>, <a href="#687068" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="TypeDiagnostics.scala.html#187719" title="object Typer.this.checkDead">checkDead</a>.<a href="TypeDiagnostics.scala.html#684418" title="(mode: Int, tree: Typers.this.global.Tree)Typers.this.global.Tree">inMode</a><span class="delimiter">(</span><a href="#691267" title="Int">typedMode</a>, <a href="#691268" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]" id="187831">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="687054">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="687055">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span> =
      <a href="#687054" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687064">arg</a> =&gt; <a href="#187830" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#687064" title="Typers.this.global.Tree">arg</a>, <a href="#687055" title="Int">mode</a>, <span title="Int(0)" class="int">0</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(args0: List[Typers.this.global.Tree], mode: Int, formals0: List[Typers.this.global.Type], adapted0: List[Typers.this.global.Type])List[Typers.this.global.Tree]" id="187832">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="687049">args0</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="687050">mode</a>: <span title="Int">Int</span>, <a title="List[Typers.this.global.Type]" id="687051">formals0</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="687052">adapted0</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="691294">sticky</a> = <a href="Modes.scala.html#187382" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#687050" title="Int">mode</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], formals: List[Typers.this.global.Type], adapted: List[Typers.this.global.Type])List[Typers.this.global.Tree]" id="691295">loop</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="691296">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="691297">formals</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="691298">adapted</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#691296" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#691298" title="List[Typers.this.global.Type]">adapted</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="object Nil">Nil</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          // No formals left or * indicates varargs.
          <span class="keyword">val</span> <a title="Boolean" id="691299">isVarArgs</a> = <a href="#691297" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#691297" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#45110" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#691297" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="691300">typedMode</a> = <a href="#691294" title="Int">sticky</a> <span title="(x: Int)Int">|</span> <span class="delimiter">(</span>
            <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#691299" title="Boolean">isVarArgs</a><span class="delimiter">)</span> STARmode <span title="Int(36864)">|</span> BYVALmode
            <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45107" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#691297" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span>
            <span class="keyword">else</span> <span title="Int(32768)">BYVALmode</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="691301">tree</a> = <a href="#187830" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#691296" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Typers.this.global.Tree">head</span>, <a href="#687050" title="Int">mode</a>, <a href="#691300" title="Int">typedMode</a>, <a href="#691298" title="List[Typers.this.global.Type]">adapted</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span>
          // formals may be empty, so don't call tail
          <a href="#691301" title="Typers.this.global.Tree">tree</a> <a href="#691311" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#691295" title="(args: List[Typers.this.global.Tree], formals: List[Typers.this.global.Type], adapted: List[Typers.this.global.Type])List[Typers.this.global.Tree]">loop</a><span class="delimiter">(</span><a href="#691296" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; List[Typers.this.global.Tree]">tail</span>, <a href="#691297" title="List[Typers.this.global.Type]">formals</a> <span title="(n: Int)List[Typers.this.global.Type]">drop</span> <span title="Int(1)" class="int">1</span>, <a href="#691298" title="List[Typers.this.global.Type]">adapted</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#691295" title="(args: List[Typers.this.global.Tree], formals: List[Typers.this.global.Type], adapted: List[Typers.this.global.Type])List[Typers.this.global.Tree]">loop</a><span class="delimiter">(</span><a href="#687049" title="List[Typers.this.global.Tree]">args0</a>, <a href="#687051" title="List[Typers.this.global.Type]">formals0</a>, <a href="#687052" title="List[Typers.this.global.Type]">adapted0</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Does function need to be instantiated, because a missing parameter
     *  in an argument closure overlaps with an uninstantiated formal?
     */
    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean" id="187833">needsInstantiation</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="691317">tparams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="691318">formals</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Tree]" id="691319">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tparam: Typers.this.global.Symbol)Boolean" id="691322">isLowerBounded</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="691323">tparam</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#691323" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62297" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46446" title="=&gt; Boolean">isBottomClass</a>

      <a href="../../../reflect/internal/util/Collections.scala.html#38349" title="(xs1: List[Typers.this.global.Type], xs2: List[Typers.this.global.Tree])(f: (Typers.this.global.Type, Typers.this.global.Tree) =&gt; Boolean)Boolean">exists2</a><span class="delimiter">(</span><a href="#691318" title="List[Typers.this.global.Type]">formals</a>, <a href="#691319" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="#691358" title="Boolean" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="Typers.this.global.Type" id="691368">formal</a>, Function<span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="691371">vparams</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#691371" title="List[Typers.this.global.ValDef]">vparams</a> <span title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#691378" title="Typers.this.global.ValDef">_</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#691371" title="List[Typers.this.global.ValDef]">vparams</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&lt;=</span> <a href="../../../reflect/internal/Definitions.scala.html#45228" title="=&gt; Int">MaxFunctionArity</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><a href="#691368" title="Typers.this.global.Type">formal</a> <a href="../../../reflect/internal/Types.scala.html#41553" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../../../reflect/internal/Definitions.scala.html#45236" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#691371" title="List[Typers.this.global.ValDef]">vparams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, _, <a title="List[Typers.this.global.Type]" id="691388">formalargs</a><span class="delimiter">)</span> =&gt;
              <span class="delimiter">(</span> <a href="../../../reflect/internal/util/Collections.scala.html#38349" title="(xs1: List[Typers.this.global.Type], xs2: List[Typers.this.global.ValDef])(f: (Typers.this.global.Type, Typers.this.global.ValDef) =&gt; Boolean)Boolean">exists2</a><span class="delimiter">(</span><a href="#691388" title="List[Typers.this.global.Type]">formalargs</a>, <a href="#691371" title="List[Typers.this.global.ValDef]">vparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="691422">formal</a>, <a title="Typers.this.global.ValDef" id="691423">vparam</a><span class="delimiter">)</span> =&gt;
                        <a href="#691423" title="Typers.this.global.ValDef">vparam</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#691317" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#691422" title="Typers.this.global.Type">formal</a>.<a href="../../../reflect/internal/Types.scala.html#41569" title="(sym: Typers.this.global.Symbol)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#691317" title="List[Typers.this.global.Symbol]">tparams</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <a href="#691322" title="(tparam: Typers.this.global.Symbol)Boolean">isLowerBounded</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
              <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Is `tree` a block created by a named application?
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="187834">isNamedApplyBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="658028">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> =
      <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188138" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a> <span title="(p: ((Typers.this.global.Tree, Typers.this.NamedApplyInfo)) =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#658033" title="(Typers.this.global.Tree, Typers.this.NamedApplyInfo)">_</a>.<span title="=&gt; Typers.this.global.Tree">_1</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#658028" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean" id="187835">callToCompanionConstr</a><span class="delimiter">(</span><a title="Typers.this.Context" id="691440">context</a>: <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Symbol" id="691441">calledFun</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#691441" title="Typers.this.global.Symbol">calledFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="691444">methCtx</a> = <a href="#691440" title="Typers.this.Context">context</a>.<a href="Contexts.scala.html#188120" title="=&gt; Typers.this.Context">enclMethod</a>
        <span class="delimiter">(</span><a href="#691444" title="Typers.this.Context">methCtx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#187288" title="object Typers.this.NoContext">NoContext</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="691449">contextFun</a> = <a href="#691444" title="Typers.this.Context">methCtx</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#691449" title="Typers.this.global.Symbol">contextFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#46539" title="=&gt; Boolean">isPrimaryConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#691449" title="Typers.this.global.Symbol">contextFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="Namers.scala.html#187344" title="(original: Typers.this.global.Symbol, ctx: Typers.this.Context)Typers.this.global.Symbol">companionSymbolOf</a><span class="delimiter">(</span><a href="#691441" title="Typers.this.global.Symbol">calledFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#691440" title="Typers.this.Context">context</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#691449" title="Typers.this.global.Symbol">contextFun</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187836">doTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="658142">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="658143">fun0</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="658144">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="658145">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="658146">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      // TODO_NMT: check the assumption that args nonEmpty
      <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Apply" id="691456">duplErrTree</a> = <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#658143" title="Typers.this.global.Tree">fun0</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply" id="691457">duplErrorTree</a><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="691462">err</a>: <a href="ContextErrors.scala.html#187672" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="Infer.scala.html#188004" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#691462" title="Typers.this.AbsTypeError">err</a><span class="delimiter">)</span>; <a href="#691456" title="=&gt; Typers.this.global.Apply">duplErrTree</a> <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="691458">fun</a> = <a href="#658143" title="Typers.this.global.Tree">fun0</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#691458" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46465" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // remove alternatives with wrong number of parameters without looking at types.
        // less expensive than including them in inferMethodAlternatvie (see below).
        <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree)Typers.this.global.Type" id="691464">shapeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="691468">arg</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <a href="#691468" title="Typers.this.global.Tree">arg</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">Function</span><span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="691471">vparams</a>, <a title="Typers.this.global.Tree" id="691472">body</a><span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/internal/Definitions.scala.html#45262" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#691471" title="List[Typers.this.global.ValDef]">vparams</a> <span title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="691489">vparam</a> =&gt; <a href="../../../reflect/internal/Definitions.scala.html#44982" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#691464" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span><a href="#691472" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.NamedType">AssignOrNamedArg</span><span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="691522">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="691523">rhs</a><span class="delimiter">)</span> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#147846" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#691522" title="Typers.this.global.Name">name</a>, <a href="#691464" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span><a href="#691523" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
            <a href="../../../reflect/internal/Definitions.scala.html#44996" title="object Typers.this.global.definitions.NothingClass">NothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#69227" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="691465">argtypes</a> = <a href="#658144" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <a href="#691464" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="691466">pre</a> = <a href="#691458" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Typers.this.global.Type">prefix</a>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="691467">sym</a> = <a href="#691458" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#46654" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="691573">alt</a> =&gt;
          // must use pt as expected type, not WildcardType (a tempting quick fix to #2665)
          // now fixed by using isWeaklyCompatible in exprTypeArgs
          // TODO: understand why exactly -- some types were not inferred anymore (`ant clean quick.bin` failed)
          // (I had expected inferMethodAlternative to pick up the slack introduced by using WildcardType here)
          //
          // @PP responds: I changed it to pass WildcardType instead of pt and only one line in
          // trunk (excluding scalacheck, which had another) failed to compile. It was this line in
          // Types: &quot;refs = Array(Map(), Map())&quot;.  I determined that inference fails if there are at
          // least two invariant type parameters. See the test case I checked in to help backstop:
          // pos/isApplicableSafe.scala.
          <a href="Infer.scala.html#188025" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>, <a href="Infer.scala.html#188020" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#691466" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#691573" title="Typers.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#691465" title="List[Typers.this.global.Type]">argtypes</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#691467" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46465" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="691580">sym1</a> = <a href="#691467" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46654" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="691582">alt</a> =&gt; <span class="delimiter">{</span>
            // eliminate functions that would result from tupling transforms
            // keeps alternatives with repeated params
            <a href="Infer.scala.html#188021" title="(tp: Typers.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="Infer.scala.html#188020" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#691582" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#691465" title="List[Typers.this.global.Type]">argtypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
            // also keep alts which define at least one default
            <a href="#691582" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41525" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<span title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#691593" title="List[Typers.this.global.Symbol]">_</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#691600" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46799" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#691580" title="Typers.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#691467" title="Typers.this.global.Symbol">sym</a> = <a href="#691580" title="Typers.this.global.Symbol">sym1</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#691467" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#691458" title="Typers.this.global.Tree">fun</a> = <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">setSymbol</span> <a href="#691467" title="Typers.this.global.Symbol">sym</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <a href="#691466" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#691467" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="Modes.scala.html#187383" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#658145" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#691458" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="691618">pre</a>, <a title="List[Typers.this.global.Symbol]" id="691619">alts</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="691620">undetparams</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188179" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" id="691621">argtpes</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">ListBuffer</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>
          <span class="keyword">val</span> <a title="Int" id="691622">amode</a> = <a href="#187400" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#658145" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="691623">args1</a> = <a href="#658144" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</span> <a href="#691634" title="Typers.this.global.Tree" class="delimiter">{</a>
            <span class="keyword">case</span> <a title="Typers.this.global.AssignOrNamedArg" id="691635">arg</a> @ AssignOrNamedArg<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="691641">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="691642">rhs</a><span class="delimiter">)</span> =&gt;
              // named args: only type the righthand sides (&quot;unknown identifier&quot; errors otherwise)
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="691643">rhs1</a> = <a href="#187830" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#691642" title="Typers.this.global.Tree">rhs</a>, <a href="#691622" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#691621" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <span title="(x: Typers.this.global.Type)argtpes.type">+=</span> <a href="../../../reflect/internal/Types.scala.html#147846" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#691641" title="Typers.this.global.Name">name</a>, <a href="#691643" title="Typers.this.global.Tree">rhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41509" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
              // the assign is untyped; that's ok because we call doTypedApply
              <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span><a href="#691635" title="Typers.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="Analyzer.scala.html#187273" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="#691635" title="Typers.this.global.AssignOrNamedArg">arg</a>.<span title="=&gt; Typers.this.global.Tree">lhs</span> , <a href="#691643" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span class="delimiter">}</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="691659">arg</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="691660">arg1</a> = <a href="#187830" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#691659" title="Typers.this.global.Tree">arg</a>, <a href="#691622" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#691621" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <span title="(x: Typers.this.global.Type)argtpes.type">+=</span> <a href="#691660" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41509" title="=&gt; Typers.this.global.Type">deconst</a>
              <a href="#691660" title="Typers.this.global.Tree">arg1</a>
          <span class="delimiter">}</span>
          <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188178" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#691620" title="List[Typers.this.global.Symbol]">undetparams</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#188063" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], argtpes: List[Typers.this.global.Type], pt0: Typers.this.global.Type, varArgsOnly: Boolean)Unit">inferMethodAlternative</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#691620" title="List[Typers.this.global.Symbol]">undetparams</a>, <a href="#691621" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a>.<span title="=&gt; List[Typers.this.global.Type]">toList</span>, <a href="#658146" title="Typers.this.global.Type">pt</a>, varArgsOnly = <a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120096" title="(trees: List[Typers.this.global.treeInfo.global.Tree])Boolean">isWildcardStarArgList</a><span class="delimiter">(</span><a href="#658144" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#187836" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#187383" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#658145" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="#691623" title="List[Typers.this.global.Tree]">args1</a>, <a href="#658145" title="Int">mode</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="691699">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="691702">params</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="691703">paramTypes</a> = <a href="#691699" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#62361" title="=&gt; List[Typers.this.global.Type]">paramTypes</a>
          // repeat vararg as often as needed, remove by-name
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="691704">formals</a> = <a href="Infer.scala.html#187466" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#691703" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

          /** Try packing all arguments into a Tuple and apply `fun`
           *  to that. This is the last thing which is tried (after
           *  default arguments)
           */
          <span class="keyword">def</span> <a title="=&gt; Option[Typers.this.global.Tree]" id="691705">tryTupleApply</a>: <span title="Option[Typers.this.global.Tree]">Option</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            // if 1 formal, 1 arg (a tuple), otherwise unmodified args
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="691711">tupleArgs</a> = <a href="Infer.scala.html#187468" title="(pos: Typers.this.global.Position, actuals: List[Typers.this.global.Tree], nformals: Int)List[Typers.this.global.Tree]">actualArgs</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187133" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a>, <a href="#691704" title="List[Typers.this.global.Type]">formals</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>

            <span title="Option[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#691711" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="Infer.scala.html#188023" title="(args: List[AnyRef], params: List[Typers.this.global.Symbol])Boolean">isUnitForVarArgs</a><span class="delimiter">(</span><a href="#658144" title="List[Typers.this.global.Tree]">args</a>, <a href="#691702" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // expected one argument, but got 0 or &gt;1 ==&gt;  try applying to tuple
              // the inner &quot;doTypedApply&quot; does &quot;extractUndetparams&quot; =&gt; restore when it fails
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="691719">savedUndetparams</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
              <a href="#187787" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span class="delimiter">(</span><a href="#691725" title="Typers.this.Typer">_</a>.<a href="#187836" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#691711" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#658145" title="Int">mode</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Option[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Option[Typers.this.global.Tree]">SilentResultValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="691732">t</a><span class="delimiter">)</span> =&gt;
                  // Depending on user options, may warn or error here if
                  // a Unit or tuple was inserted.
                  <span title="(x: Typers.this.global.Tree)Some[Typers.this.global.Tree]">Some</span><span class="delimiter">(</span><a href="#691732" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Option[Typers.this.global.Tree]">filter</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="691738">tupledTree</a> =&gt;
                       <span title="=&gt; Boolean">!</span><a href="Modes.scala.html#187392" title="(mode: Int, prohibited: Int)Boolean">inExprModeButNot</a><span class="delimiter">(</span><a href="#658145" title="Int">mode</a>, <span title="Int(16)">FUNmode</span><span class="delimiter">)</span>
                    <span title="(x: Boolean)Boolean">||</span> <a href="#691738" title="Typers.this.global.Tree">tupledTree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>
                    <span title="(x: Boolean)Boolean">||</span> <a href="Adaptations.scala.html#187881" title="(t: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Boolean">checkValidAdaptation</a><span class="delimiter">(</span><a href="#691738" title="Typers.this.global.Tree">tupledTree</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                  <span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
                  <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188178" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#691719" title="List[Typers.this.global.Symbol]">savedUndetparams</a>
                  <span title="object None">None</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="object None">None</span>
          <span class="delimiter">}</span>

          /** Treats an application which uses named or default arguments.
           *  Also works if names + a vararg used: when names are used, the vararg
           *  parameter has to be specified exactly once. Note that combining varargs
           *  and defaults is ruled out by typedDefDef.
           */
          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree" id="691706">tryNamesDefaults</a>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="691746">lencmp</a> = <a href="../../../reflect/internal/Types.scala.html#39052" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#658144" title="List[Typers.this.global.Tree]">args</a>, <a href="#691704" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#691699" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#691456" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
            <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#187391" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#658145" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // #2064
              <a href="#691457" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187956" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.NormalTypeError">WrongNumberOfArgsError</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#691746" title="Int">lencmp</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#691705" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <span title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</span> <a href="#691457" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187957" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.NormalTypeError">TooManyArgsNamesDefaultsError</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#691746" title="Int">lencmp</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // we don't need defaults. names were used, so this application is transformed
              // into a block (@see transformNamedApplication in NamesDefaults)
              <span class="keyword">val</span> <a href="#691767" title="(List[Typers.this.global.Tree], Array[Int])" class="delimiter">(</a><a href="#691766" title="List[Typers.this.global.Tree]" id="691767">namelessArgs</a>, <a href="#691766" title="Array[Int]" id="691768">argPos</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#187622" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#187422" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><span title="(List[Typers.this.global.Tree], Array[Int]) @unchecked" class="delimiter">(</span><a href="#658144" title="List[Typers.this.global.Tree]">args</a>, <a href="#691702" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#691767" title="List[Typers.this.global.Tree]">namelessArgs</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#58440" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#691456" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="NamesDefaults.scala.html#187610" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#691768" title="Array[Int]">argPos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#691704" title="List[Typers.this.global.Type]">formals</a>, <a href="#691702" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>
                // !isIdentity indicates that named arguments are used to re-order arguments
                <a href="#691457" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187960" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">MultipleVarargError</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="NamesDefaults.scala.html#187610" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#691768" title="Array[Int]">argPos</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#187834" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                // if there's no re-ordering, and fun is not transformed, no need to transform
                // more than an optimization, e.g. important in &quot;synchronized { x = update-x }&quot;
                <a href="#187836" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#691767" title="List[Typers.this.global.Tree]">namelessArgs</a>, <a href="#658145" title="Int">mode</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="NamesDefaults.scala.html#187611" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#187422" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#658145" title="Int">mode</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span>
                                          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#691767" title="List[Typers.this.global.Tree]">namelessArgs</a><span class="delimiter">)</span>, <a href="#691768" title="implicit scala.LowPriorityImplicits.wrapIntArray : (xs: Array[Int])scala.collection.mutable.WrappedArray[Int]">argPos</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              // defaults are needed. they are added to the argument list in named style as
              // calls to the default getters. Example:
              //  foo[Int](a)()  ==&gt;  foo[Int](a)(b = foo$qual.foo$default$2[Int](a))
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="691807">fun1</a> = <a href="NamesDefaults.scala.html#187611" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#187422" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#658145" title="Int">mode</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a>, <a title="Int" id="691809">x</a> =&gt; <a href="#691809" title="Int">x</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun1</a>.<a href="../../../reflect/internal/Trees.scala.html#58440" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#691456" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#187834" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#691807" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>, <a href="#691807" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>
                <span class="keyword">val</span> NamedApplyInfo<a href="#691813" title="(Option[Typers.this.global.Tree], List[Typers.this.global.Tree], List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="#691812" title="Option[Typers.this.global.Tree]" id="691813">qual</a>, <a href="#691812" title="List[Typers.this.global.Tree]" id="691814">targs</a>, <a href="#691812" title="List[List[Typers.this.global.Tree]]" id="691815">previousArgss</a>, _<span class="delimiter">)</span> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188138" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>.<span title="=&gt; (Typers.this.global.Tree, Typers.this.NamedApplyInfo)">get</span>.<span title="=&gt; Typers.this.NamedApplyInfo">_2</span>
                <span class="keyword">val</span> <a title="Boolean" id="691816">blockIsEmpty</a> = <a href="#691807" title="Typers.this.global.Tree">fun1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Boolean">Block</span><span class="delimiter">(</span><span title="object Nil">Nil</span>, _<span class="delimiter">)</span> =&gt;
                    // if the block does not have any ValDef we can remove it. Note that the call to
                    // &quot;transformNamedApplication&quot; is always needed in order to obtain targs/previousArgss
                    <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188139" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <span title="object None">None</span>
                    <span title="Boolean(true)" class="keyword">true</span>
                  <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
                <span class="delimiter">}</span>
                <span class="keyword">val</span> <a href="#691818" title="(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="#691817" title="List[Typers.this.global.Tree]" id="691818">allArgs</a>, <a href="#691817" title="List[Typers.this.global.Symbol]" id="691819">missing</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#187615" title="(givenArgs: List[Typers.this.global.Tree], qual: Option[Typers.this.global.Tree], targs: List[Typers.this.global.Tree], previousArgss: List[List[Typers.this.global.Tree]], params: List[Typers.this.global.Symbol], pos: scala.tools.nsc.util.Position, context: Typers.this.Context)(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])">addDefaults</a><span title="(List[Typers.this.global.Tree], List[Typers.this.global.Symbol]) @unchecked" class="delimiter">(</span><a href="#658144" title="List[Typers.this.global.Tree]">args</a>, <a href="#691813" title="Option[Typers.this.global.Tree]">qual</a>, <a href="#691814" title="List[Typers.this.global.Tree]">targs</a>, <a href="#691815" title="List[List[Typers.this.global.Tree]]">previousArgss</a>, <a href="#691702" title="List[Typers.this.global.Symbol]">params</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="691820">funSym</a> = <a href="#691807" title="Typers.this.global.Tree">fun1</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="691878">expr</a><span class="delimiter">)</span> =&gt; <a href="#691878" title="Typers.this.global.Tree">expr</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span class="delimiter">}</span>
                <span class="keyword">val</span> <a title="Int" id="691821">lencmp2</a> = <a href="../../../reflect/internal/Types.scala.html#39052" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#691818" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#691704" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>

                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#691818" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#187835" title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean">callToCompanionConstr</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>, <a href="#691820" title="Typers.this.global.Symbol">funSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#691457" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187961" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">ModuleUsingCompanionClassDefaultArgsErrror</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#691821" title="Int">lencmp2</a> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="NamesDefaults.scala.html#187622" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#187422" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#691818" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#691702" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span> // #3818
                  <a href="#691456" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#691821" title="Int">lencmp2</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  // useful when a default doesn't match parameter type, e.g. def f[T](x:T=&quot;a&quot;); f[Int]()
                  <span class="keyword">val</span> <a title="String" id="691892">note</a> = <span title="String(&quot;Error occurred in an application involving default arguments.&quot;)" class="string">&quot;Error occurred in an application involving default arguments.&quot;</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188153" title="=&gt; List[String]">diagnostic</a> <span title="(elem: Any)Boolean">contains</span> <a href="#691892" title="String">note</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188154" title="(x$1: List[String])Unit">diagnostic</a> = <a href="#691892" title="String">note</a> <a href="#691893" title="(x: String)List[String]">::</a> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188153" title="=&gt; List[String]">diagnostic</a>
                  <a href="#187836" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#691816" title="Boolean">blockIsEmpty</a><span class="delimiter">)</span> <a href="#691458" title="Typers.this.global.Tree">fun</a> <span class="keyword">else</span> <a href="#691807" title="Typers.this.global.Tree">fun1</a>, <a href="#691818" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#658145" title="Int">mode</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#691705" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <span title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</span> <a href="#691457" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187962" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, missing0: List[Typers.this.global.Symbol])Typers.this.NormalTypeError">NotEnoughArgsError</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#691819" title="List[Typers.this.global.Symbol]">missing</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#691704" title="List[Typers.this.global.Type]">formals</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>   // wrong nb of arguments
              <span class="delimiter">(</span><a href="#658144" title="List[Typers.this.global.Tree]">args</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="NamesDefaults.scala.html#187603" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>        // uses a named argument
              <a href="#187834" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>       // fun was transformed to a named apply block =&gt;
                                              // integrate this application into the block
            <a href="#691706" title="=&gt; Typers.this.global.Tree">tryNamesDefaults</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="691915">tparams</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188179" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#691915" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> // all type params are defined
              // In order for checkDead not to be misled by the unfortunate special
              // case of AnyRef#synchronized (which is implemented with signature T =&gt; T
              // but behaves as if it were (=&gt; T) =&gt; T) we need to know what is the actual
              // target of a call.  Since this information is no longer available from
              // typedArg, it is recorded here.
              <a href="TypeDiagnostics.scala.html#187719" title="object Typer.this.checkDead">checkDead</a>.<a href="TypeDiagnostics.scala.html#684416" title="(fn: Typers.this.global.Tree)Unit">updateExpr</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="691916">args1</a> = <a href="#187832" title="(args0: List[Typers.this.global.Tree], mode: Int, formals0: List[Typers.this.global.Type], adapted0: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#658144" title="List[Typers.this.global.Tree]">args</a>, <a href="#187400" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#658145" title="Int">mode</a><span class="delimiter">)</span>, <a href="#691703" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#691704" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>
              // instantiate dependent method types, must preserve singleton types where possible (stableTypeFor) -- example use case:
              // val foo = &quot;foo&quot;; def precise(x: String)(y: x.type): x.type = {...}; val bar : foo.type = precise(foo)(foo)
              // precise(foo) : foo.type =&gt; foo.type
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="691917">restpe</a> = <a href="#691699" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#62363" title="(actuals: List[Typers.this.global.Type])Typers.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#691916" title="List[Typers.this.global.Tree]">args1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.gen.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.gen.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="691944">arg</a> =&gt; <a href="../Global.scala.html#186149" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92348" title="(tree: Typers.this.global.gen.global.Tree)Option[Typers.this.global.gen.global.Type]">stableTypeFor</a><span class="delimiter">(</span><a href="#691944" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span> <span title="(default: =&gt; Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Type">getOrElse</span> <a href="#691944" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="691918">ifPatternSkipFormals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="691978">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#691978" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Type">MethodType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="691981">rtp</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#187391" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#658145" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#691981" title="Typers.this.global.Type">rtp</a>
                <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#691978" title="Typers.this.global.Type">tp</a>
              <span class="delimiter">}</span>

              // Replace the Delegate-Chainer methods += and -= with corresponding
              // + and - calls, which are translated in the code generator into
              // Combine and Remove
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186344" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#691458" title="Typers.this.global.Tree">fun</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="691986">qual</a>, <a title="Typers.this.global.Name" id="691987">name</a><span class="delimiter">)</span> =&gt;
                   <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39061" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#691986" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="../../../reflect/internal/Definitions.scala.html#45285" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#691987" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39297" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#691987" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39297" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="String(&quot;-=&quot;)" class="string">&quot;-=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">{</span>
                       <span class="keyword">val</span> <a title="Typers.this.global.TermName" id="692003">n</a> = <span title="Typers.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="#691987" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39297" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58708" title="=&gt; Typers.this.global.TermName">PLUS</a> <span class="keyword">else</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58698" title="=&gt; Typers.this.global.TermName">MINUS</a>
                       <span class="keyword">val</span> <a title="Typers.this.global.Select" id="692004">f</a> = <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#691986" title="Typers.this.global.Tree">qual</a>, <a href="#692003" title="Typers.this.global.TermName">n</a><span class="delimiter">)</span>
                       // the compiler thinks, the PLUS method takes only one argument,
                       // but he thinks it's an instance method -&gt; still two ref's on the stack
                       //  -&gt; translated by backend
                       <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="692005">rhs</a> = <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#692004" title="Typers.this.global.Select">f</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                       <span title="Nothing" class="keyword">return</span> <a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#691986" title="Typers.this.global.Tree">qual</a>, <a href="#692005" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>

              /** This is translating uses of List() into Nil.  This is less
               *  than ideal from a consistency standpoint, but it shouldn't be
               *  altered without due caution.
               */
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45138" title="=&gt; Typers.this.global.Symbol">List_apply</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#658144" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#186345" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92366" title="=&gt; Typers.this.global.gen.global.Tree">mkNil</a> <span title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">setType</span> <a href="#691917" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="ConstantFolder.scala.html#239264" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#691916" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Apply">setType</span> <a href="#691918" title="(tp: Typers.this.global.Type)Typers.this.global.Type">ifPatternSkipFormals</a><span class="delimiter">(</span><a href="#691917" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#187833" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean">needsInstantiation</a><span class="delimiter">(</span><a href="#691915" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#691704" title="List[Typers.this.global.Type]">formals</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              //println(&quot;needs inst &quot;+fun+&quot; &quot;+tparams+&quot;/&quot;+(tparams map (_.info)))
              <a href="Infer.scala.html#188035" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#691915" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
              <a href="#187836" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a>, <a href="#658145" title="Int">mode</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Modes.scala.html#187391" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#658145" title="Int">mode</a><span class="delimiter">)</span>, <a href="Modes.scala.html#187395" title="(mode: Int)String">modeString</a><span class="delimiter">(</span><a href="#658145" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> // this case cannot arise for patterns
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="692061">lenientTargs</a> = <a href="Infer.scala.html#188015" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.Type]">protoTypeArgs</a><span class="delimiter">(</span><a href="#691915" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#691704" title="List[Typers.this.global.Type]">formals</a>, <a href="#691699" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#41521" title="=&gt; Typers.this.global.Type">resultApprox</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="692062">strictTargs</a> = <a href="../../../reflect/internal/util/Collections.scala.html#38302" title="(xs1: List[Typers.this.global.Type], xs2: List[Typers.this.global.Symbol])(f: (Typers.this.global.Type, Typers.this.global.Symbol) =&gt; Typers.this.global.Type)List[Typers.this.global.Type]">map2</a><span class="delimiter">(</span><a href="#692061" title="List[Typers.this.global.Type]">lenientTargs</a>, <a href="#691915" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="692107">targ</a>, <a title="Typers.this.global.Symbol" id="692108">tparam</a><span class="delimiter">)</span> =&gt;
                <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#692107" title="Typers.this.global.Type">targ</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <a href="#692108" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#692107" title="Typers.this.global.Type">targ</a><span class="delimiter">)</span> //@M TODO: should probably be .tpeHK
              <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="692063">remainingParams</a> = <a href="#691703" title="List[Typers.this.global.Type]">paramTypes</a>
              <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree" id="692064">typedArgToPoly</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="692115">arg</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="692116">formal</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span> //TR TODO: cleanup
                <span class="keyword">val</span> <a title="Typers.this.global.Type" id="692117">lenientPt</a> = <a href="#692116" title="Typers.this.global.Type">formal</a>.<a href="../../../reflect/internal/Types.scala.html#41531" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#691915" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#692061" title="List[Typers.this.global.Type]">lenientTargs</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Int" id="692118">newmode</a> =
                  <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45107" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#692063" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(32)">POLYmode</span>
                  <span class="keyword">else</span> POLYmode <span title="Int(32800)">|</span> BYVALmode
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#692063" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#692063" title="List[Typers.this.global.Type]">remainingParams</a> = <a href="#692063" title="List[Typers.this.global.Type]">remainingParams</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="692119">arg1</a> = <a href="#187830" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#692115" title="Typers.this.global.Tree">arg</a>, <a href="#187400" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#658145" title="Int">mode</a><span class="delimiter">)</span>, <a href="#692118" title="Int">newmode</a>, <a href="#692117" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="692120">argtparams</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188179" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#692120" title="List[Typers.this.global.Symbol]">argtparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Type" id="692131">strictPt</a> = <a href="#692116" title="Typers.this.global.Type">formal</a>.<a href="../../../reflect/internal/Types.scala.html#41531" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#691915" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#692062" title="List[Typers.this.global.Type]">strictTargs</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#188034" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], strictPt: Typers.this.global.Type, lenientPt: Typers.this.global.Type)Unit">inferArgumentInstance</a><span class="delimiter">(</span><a href="#692119" title="Typers.this.global.Tree">arg1</a>, <a href="#692120" title="List[Typers.this.global.Symbol]">argtparams</a>, <a href="#692131" title="Typers.this.global.Type">strictPt</a>, <a href="#692117" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                  <a href="#692119" title="Typers.this.global.Tree">arg1</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#692119" title="Typers.this.global.Tree">arg1</a>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="692065">args1</a> = <a href="../../../reflect/internal/util/Collections.scala.html#38302" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.Type])(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2</a><span class="delimiter">(</span><a href="#658144" title="List[Typers.this.global.Tree]">args</a>, <a href="#691704" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#692064" title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree">typedArgToPoly</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#692065" title="List[Typers.this.global.Tree]">args1</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">}</span><span class="delimiter">)</span> <a href="#691456" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;infer method inst &quot;)" class="string">&quot;infer method inst &quot;</span><span title="(x$1: Any)String">+</span><a href="#691458" title="Typers.this.global.Tree">fun</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, tparams = &quot;)" class="string">&quot;, tparams = &quot;</span><span title="(x$1: Any)String">+</span><a href="#691915" title="List[Typers.this.global.Symbol]">tparams</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, args = &quot;)" class="string">&quot;, args = &quot;</span><span title="(x$1: Any)String">+</span><a href="#692065" title="List[Typers.this.global.Tree]">args1</a>.<span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#692201" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)String">+</span><a href="#658146" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, lobounds = &quot;)" class="string">&quot;, lobounds = &quot;</span><span title="(x$1: Any)String">+</span><a href="#691915" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#692245" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62297" title="=&gt; Typers.this.global.Type">lo</a><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot;, parambounds = &quot;)" class="string">&quot;, parambounds = &quot;</span><span title="(x$1: Any)String">+</span><a href="#691915" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</span><a href="#692283" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> //debug
                // define the undetparams which have been fixed by this param list, replace the corresponding symbols in &quot;fun&quot;
                // returns those undetparams which have not been instantiated.
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="692183">undetparams</a> = <a href="Infer.scala.html#188037" title="(fn: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], args: List[Typers.this.global.Tree], pt0: Typers.this.global.Type)List[Typers.this.global.Symbol]">inferMethodInstance</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#691915" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#692065" title="List[Typers.this.global.Tree]">args1</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="692184">result</a> = <a href="#187836" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a>, <a href="#692065" title="List[Typers.this.global.Tree]">args1</a>, <a href="#658145" title="Int">mode</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188178" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#692183" title="List[Typers.this.global.Symbol]">undetparams</a>
                <a href="#692184" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">SingleType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#187836" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <a href="#691458" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a>, <a href="#658145" title="Int">mode</a>, <a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38820" title="Typers.this.global.Tree">ErrorType</a> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#658142" title="Typers.this.global.Tree">tree</a>
          // @H change to setError(treeCopy.Apply(tree, fun, args))
        /* --- begin unapply  --- */

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="692326">otpe</a> <span class="keyword">if</span> <a href="Modes.scala.html#187391" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#658145" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Unapplies.scala.html#187561" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#692326" title="Typers.this.global.Type">otpe</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46559" title="=&gt; Boolean">exists</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#658144" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <a href="../../../reflect/internal/Definitions.scala.html#45224" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#691457" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187963" title="(fun: Typers.this.global.Tree)Typers.this.NormalTypeError">TooManyArgsPatternError</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>

          //
          <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" id="692327">freshArgType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="692338">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, Type<span class="delimiter">)</span> = <a href="#692338" title="Typers.this.global.Type">tp</a> <span title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(scala.collection.immutable.Nil.type, Typers.this.global.Type)">MethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="692345">param</a> :: _, _<span class="delimiter">)</span> =&gt;
              <span title="(_1: scala.collection.immutable.Nil.type, _2: Typers.this.global.Type)(scala.collection.immutable.Nil.type, Typers.this.global.Type)" class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#692345" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(List[Typers.this.global.Symbol], Typers.this.global.Type)">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="692354">tparams</a>, <a title="Typers.this.global.Type" id="692355">restpe</a><span class="delimiter">)</span> =&gt;
              <a href="../../../reflect/internal/Symbols.scala.html#38749" title="(syms: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; (List[Typers.this.global.Symbol], Typers.this.global.Type))(List[Typers.this.global.Symbol], Typers.this.global.Type)">createFromClonedSymbols</a><span class="delimiter">(</span><a href="#692354" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#692327" title="(tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">freshArgType</a><span class="delimiter">(</span><a href="#692355" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">_2</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="692365">ps</a>, <a title="Typers.this.global.Type" id="692366">t</a><span class="delimiter">)</span> =&gt; <span class="delimiter">(</span><span title="(_1: List[Typers.this.global.Symbol], _2: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</span><a href="#692365" title="List[Typers.this.global.Symbol]">ps</a>, <a href="#692366" title="Typers.this.global.Type">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            // No longer used, see test case neg/t960.scala (#960 has nothing to do with it)
            <span class="keyword">case</span> <span title="(scala.collection.immutable.Nil.type, Typers.this.global.ErrorType.type)">OverloadedType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="ContextErrors.scala.html#187958" title="(tree: Typers.this.global.Tree)Unit">OverloadedUnapplyError</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <span title="(_1: scala.collection.immutable.Nil.type, _2: Typers.this.global.ErrorType.type)(scala.collection.immutable.Nil.type, Typers.this.global.ErrorType.type)" class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(scala.collection.immutable.Nil.type, Typers.this.global.ErrorType.type)">_</span> =&gt;
              <a href="ContextErrors.scala.html#187959" title="(tree: Typers.this.global.Tree)Unit">UnapplyWithSingleArgError</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <span title="(_1: scala.collection.immutable.Nil.type, _2: Typers.this.global.ErrorType.type)(scala.collection.immutable.Nil.type, Typers.this.global.ErrorType.type)" class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="692328">unapp</a>     = <a href="Unapplies.scala.html#187561" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#692326" title="Typers.this.global.Type">otpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="692329">unappType</a> = <a href="#692326" title="Typers.this.global.Type">otpe</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#692328" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.TermSymbol" id="692330">argDummy</a>  = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46383" title="(name: Typers.this.global.TermName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58941" title="=&gt; Typers.this.global.nme.NameType">SELECTOR_DUMMY</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a> <a href="#658146" title="Typers.this.global.Type">pt</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="692331">arg</a>       = <a href="Analyzer.scala.html#187273" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#692330" title="Typers.this.global.TermSymbol">argDummy</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</span> <a href="#658146" title="Typers.this.global.Type">pt</a>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Infer.scala.html#188025" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="#692329" title="Typers.this.global.Type">unappType</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(&quot;UNAPP: need to typetest, arg.tpe = &quot;+arg.tpe+&quot;, unappType = &quot;+unappType)
            <span class="keyword">val</span> <a href="#692423" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><a href="#692422" title="List[Typers.this.global.Symbol]" id="692423">freeVars</a>, <a href="#692422" title="Typers.this.global.Type" id="692424">unappFormal</a><span class="delimiter">)</span> = <a href="#692327" title="(tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">freshArgType</a><span title="(List[Typers.this.global.Symbol], Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#692329" title="Typers.this.global.Type">unappType</a>.<a href="../../../reflect/internal/Types.scala.html#41532" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#658142" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="692425">unapplyContext</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="#692423" title="List[Typers.this.global.Symbol]">freeVars</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</span> <a href="#692425" title="Typers.this.Context">unapplyContext</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a>

            <span class="keyword">val</span> <a title="Typers.this.Typer" id="692426">typer1</a> = <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#692425" title="Typers.this.Context">unapplyContext</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="692427">pattp</a>  = <a href="#692426" title="Typers.this.Typer">typer1</a>.<a href="#187731" title="=&gt; Typers.this.Inferencer">infer</a>.<a href="Infer.scala.html#188045" title="(tree0: Typers.this.global.Tree, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#692424" title="Typers.this.global.Type">unappFormal</a>, <a href="#692331" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>

            // turn any unresolved type variables in freevars into existential skolems
            <span class="keyword">val</span> <a title="List[Typers.this.global.TypeSkolem]" id="692428">skolems</a> = <a href="#692423" title="List[Typers.this.global.Symbol]">freeVars</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeSkolem)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeSkolem,List[Typers.this.global.TypeSkolem]])List[Typers.this.global.TypeSkolem]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="692487">fv</a> =&gt; <a href="#692425" title="Typers.this.Context">unapplyContext</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46416" title="(basis: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.TypeSkolem">newExistentialSkolem</a><span class="delimiter">(</span><a href="#692487" title="Typers.this.global.Symbol">fv</a>, <a href="#692487" title="Typers.this.global.Symbol">fv</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#692331" title="Typers.this.global.Ident">arg</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#692427" title="Typers.this.global.Type">pattp</a>.<a href="../../../reflect/internal/Types.scala.html#41559" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#692423" title="List[Typers.this.global.Symbol]">freeVars</a>, <a href="#692428" title="List[Typers.this.global.TypeSkolem]">skolems</a><span class="delimiter">)</span>
            <a href="#692330" title="Typers.this.global.TermSymbol">argDummy</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)argDummy.type">setInfo</a> <a href="#692331" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="delimiter">}</span>

          // setType null is necessary so that ref will be stabilized; see bug 881
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="692332">fun1</a> = <a href="#187860" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#691458" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <span title="Null(null)" class="keyword">null</span>, <a href="#692328" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Ident*)List[Typers.this.global.Ident]">List</span><span class="delimiter">(</span><a href="#692331" title="Typers.this.global.Ident">arg</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#692332" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#691456" title="=&gt; Typers.this.global.Apply">duplErrTree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="692571">formals0</a> = <a href="Unapplies.scala.html#187557" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#692332" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#692332" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="692572">formals1</a> = <a href="Infer.scala.html#187466" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#692571" title="List[Typers.this.global.Type]">formals0</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#692572" title="List[Typers.this.global.Type]">formals1</a>, <a href="#658144" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="692577">args1</a> = <a href="#187832" title="(args0: List[Typers.this.global.Tree], mode: Int, formals0: List[Typers.this.global.Type], adapted0: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#658144" title="List[Typers.this.global.Tree]">args</a>, <a href="#658145" title="Int">mode</a>, <a href="#692571" title="List[Typers.this.global.Type]">formals0</a>, <a href="#692572" title="List[Typers.this.global.Type]">formals1</a><span class="delimiter">)</span>
              // This used to be the following (failing) assert:
              //   assert(isFullyDefined(pt), tree+&quot; ==&gt; &quot;+UnApply(fun1, args1)+&quot;, pt = &quot;+pt)
              // I modified as follows.  See SI-1048.
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="692578">pt1</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#187477" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#658146" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="Infer.scala.html#188013" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#658146" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="692579">itype</a> = <a href="../../../reflect/internal/Types.scala.html#39116" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#692578" title="Typers.this.global.Type">pt1</a>, <a href="#692331" title="Typers.this.global.Ident">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#692331" title="Typers.this.global.Ident">arg</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#692578" title="Typers.this.global.Type">pt1</a>    // restore type (arg is a dummy tree, just needs to pass typechecking)
              <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</a><span class="delimiter">(</span><a href="#692332" title="Typers.this.global.Tree">fun1</a>, <a href="#692577" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.UnApply">setPos</span> <a href="#658142" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</span> <a href="#692579" title="Typers.this.global.Type">itype</a>
            <span class="delimiter">}</span> <span class="keyword">else</span>
              <a href="#691457" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187964" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.NormalTypeError">WrongNumberArgsPatternError</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

/* --- end unapply  --- */
        <span class="keyword">case</span> <span title="Typers.this.global.Apply">_</span> =&gt;
          <a href="#691457" title="(err: Typers.this.AbsTypeError)Typers.this.global.Apply">duplErrorTree</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187965" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.NormalTypeError">ApplyWithoutArgsError</a><span class="delimiter">(</span><a href="#658142" title="Typers.this.global.Tree">tree</a>, <a href="#691458" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     * Convert an annotation constructor call into an AnnotationInfo.
     *
     * @param annClass the expected annotation class
     */
    <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo" id="187837">typedAnnotation</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="655851">ann</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="655857">mode</a>: <span title="Int">Int</span> = <span title="Int(1)">EXPRmode</span>, <a title="Typers.this.global.Symbol" id="655858">selfsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a title="Typers.this.global.Symbol" id="655859">annClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Definitions.scala.html#45367" title="=&gt; Typers.this.global.Symbol">AnnotationClass</a>, <a title="Boolean" id="655860">requireJava</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#39344" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <span class="delimiter">{</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="692611">annotationError</a> = <a href="../../../reflect/internal/AnnotationInfos.scala.html#45950" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="692612">hasError</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" id="692613">pending</a> = <span title="[A](elems: A*)scala.collection.mutable.ListBuffer[A]">ListBuffer</span><span title="(elems: Typers.this.AbsTypeError*)scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]" class="delimiter">[</span><a href="ContextErrors.scala.html#187672" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo" id="692614">reportAnnotationError</a><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="692623">err</a>: <a href="ContextErrors.scala.html#187672" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#692613" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a> <span title="(x: Typers.this.AbsTypeError)pending.type">+=</span> <a href="#692623" title="Typers.this.AbsTypeError">err</a>
        <a href="#692612" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="#692610" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="delimiter">}</span>

      /** Calling constfold right here is necessary because some trees (negated
       *  floats and literals in particular) are not yet folded.
       */
      <span class="keyword">def</span> <a title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]" id="692615">tryConst</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="692633">tr</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="692634">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.LiteralAnnotArg]">Option</span><span class="delimiter">[</span>LiteralAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Constant" id="692635">const</a>: <a href="../../../reflect/internal/Constants.scala.html#39257" title="Typers.this.global.Constant">Constant</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="ConstantFolder.scala.html#239264" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#692633" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span>, <span title="Int(1)">EXPRmode</span>, <a href="#692634" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Typers.this.global.Constant" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Constant" id="692646">l</a> @ Literal<span class="delimiter">(</span><a title="Typers.this.global.Constant" id="692648">c</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">l</a>.<a href="../../../reflect/internal/Trees.scala.html#58440" title="=&gt; Boolean">isErroneous</a> =&gt; <a href="#692648" title="Typers.this.global.Constant">c</a>
          <span class="keyword">case</span> <a title="Typers.this.global.Constant" id="692651">tree</a> =&gt; <a href="#692651" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Constant" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Constant">ConstantType</span><span class="delimiter">(</span><a title="Typers.this.global.Constant" id="692653">c</a><span class="delimiter">)</span>  =&gt; <a href="#692653" title="Typers.this.global.Constant">c</a>
            <span class="keyword">case</span> <a title="Null(null)" id="692654">tpe</a>              =&gt; <span title="Null(null)" class="keyword">null</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#692635" title="Typers.this.global.Constant">const</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187940" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">AnnotationNotAConstantError</a><span class="delimiter">(</span><a href="#692633" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>; <span title="object None">None</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#692635" title="Typers.this.global.Constant">const</a>.<a href="../../../reflect/internal/Constants.scala.html#46260" title="=&gt; Any">value</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187941" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">AnnotationArgNullError</a><span class="delimiter">(</span><a href="#692633" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span><span class="delimiter">)</span>; <span title="object None">None</span>
        <span class="delimiter">}</span> <span class="keyword">else</span>
          <span title="(x: Typers.this.global.LiteralAnnotArg)Some[Typers.this.global.LiteralAnnotArg]">Some</span><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#52613" title="(const: Typers.this.global.Constant)Typers.this.global.LiteralAnnotArg">LiteralAnnotArg</a><span class="delimiter">(</span><a href="#692635" title="Typers.this.global.Constant">const</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Converts an untyped tree to a ClassfileAnnotArg. If the conversion fails,
       *  an error message is reported and None is returned.
       */
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]" id="692616">tree2ConstArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="692666">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="692667">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.ClassfileAnnotArg]">Option</span><span class="delimiter">[</span>ClassfileAnnotArg<span class="delimiter">]</span> = <a href="#692666" title="Typers.this.global.Tree">tree</a> <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="None.type">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="692679">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="692680">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#692667" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45152" title="=&gt; Typers.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> =&gt;
          <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187942" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">ArrayConstantsError</a><span class="delimiter">(</span><a href="#692666" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>; <span title="object None">None</span>

        <span class="keyword">case</span> <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="692687">ann</a> @ Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="692699">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="692700">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="692701">annInfo</a> = <a href="#187837" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#692687" title="Typers.this.global.Apply">ann</a>, <a href="#655857" title="Int">mode</a>, <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#692667" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#692701" title="Typers.this.global.AnnotationInfo">annInfo</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45914" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#692612" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>; <span title="object None">None</span> <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="(x: Typers.this.global.NestedAnnotArg)Some[Typers.this.global.NestedAnnotArg]">Some</span><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#57848" title="(annInfo: Typers.this.global.AnnotationInfo)Typers.this.global.NestedAnnotArg">NestedAnnotArg</a><span class="delimiter">(</span><a href="#692701" title="Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // use of Array.apply[T: ClassManifest](xs: T*): Array[T]
        // and    Array.apply(x: Int, xs: Int*): Array[Int]       (and similar)
        <span class="keyword">case</span> <span title="Option[Typers.this.global.ClassfileAnnotArg]">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="692711">fun</a>, <a title="List[Typers.this.global.Tree]" id="692712">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="692713">typedFun</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#692711" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#187383" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#655857" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#692713" title="Typers.this.global.Tree">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45148" title="=&gt; Typers.this.global.Symbol">ArrayModule</a>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#692713" title="Typers.this.global.Tree">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
            <a href="#692667" title="Typers.this.global.Type">pt</a> <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Option[Typers.this.global.ArrayAnnotArg]">TypeRef</span><span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#45152" title="=&gt; Typers.this.global.Symbol">ArrayClass</a>, <a title="Typers.this.global.Type" id="692737">targ</a> :: _<span class="delimiter">)</span> =&gt;
                <a href="#692617" title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]">trees2ConstArg</a><span class="delimiter">(</span><a href="#692712" title="List[Typers.this.global.Tree]">args</a>, <a href="#692737" title="Typers.this.global.Type">targ</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
                // For classfile annotations, pt can only be T:
                //   BT = Int, .., String, Class[_], JavaAnnotClass
                //   T = BT | Array[BT]
                // So an array literal as argument can only be valid if pt is Array[_]
                <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187943" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.NormalTypeError">ArrayConstantsTypeMismatchError</a><span class="delimiter">(</span><a href="#692666" title="Typers.this.global.Tree">tree</a>, <a href="#692667" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="object None">None</span>
            <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#692615" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><span class="delimiter">(</span><a href="#692666" title="Typers.this.global.Tree">tree</a>, <a href="#692667" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Option[Typers.this.global.ClassfileAnnotArg]">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="692744">t</a>, _<span class="delimiter">)</span> =&gt;
          <a href="#692616" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#692744" title="Typers.this.global.Tree">t</a>, <a href="#692667" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Option[Typers.this.global.LiteralAnnotArg]" id="692745">tree</a> =&gt;
          <a href="#692615" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><span class="delimiter">(</span><a href="#692745" title="Typers.this.global.Tree">tree</a>, <a href="#692667" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]" id="692617">trees2ConstArg</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="692738">trees</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="692739">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Typers.this.global.ArrayAnnotArg]">Option</span><span class="delimiter">[</span>ArrayAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Option[Typers.this.global.ClassfileAnnotArg]]" id="692746">args</a> = <a href="#692738" title="List[Typers.this.global.Tree]">trees</a>.<span title="(f: Typers.this.global.Tree =&gt; Option[Typers.this.global.ClassfileAnnotArg])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]])List[Option[Typers.this.global.ClassfileAnnotArg]]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]]" class="delimiter">(</span><a href="#692616" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#692763" title="Typers.this.global.Tree">_</a>, <a href="#692739" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Option[Typers.this.global.ArrayAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#692746" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<span title="(p: Option[Typers.this.global.ClassfileAnnotArg] =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#692797" title="Option[Typers.this.global.ClassfileAnnotArg]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="object None">None</span>
        <span class="keyword">else</span> <span title="(x: Typers.this.global.ArrayAnnotArg)Some[Typers.this.global.ArrayAnnotArg]">Some</span><span class="delimiter">(</span><a href="../../../reflect/internal/AnnotationInfos.scala.html#55236" title="(args: Array[Typers.this.global.ClassfileAnnotArg])Typers.this.global.ArrayAnnotArg">ArrayAnnotArg</a><span class="delimiter">(</span><a href="#692746" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<a href="#692835" title="(implicit asTraversable: Option[Typers.this.global.ClassfileAnnotArg] =&gt; scala.collection.GenTraversableOnce[Typers.this.global.ClassfileAnnotArg])List[Typers.this.global.ClassfileAnnotArg]">flatten</a>.<a href="Analyzer.scala.html#187273" title="(implicit evidence$1: ClassManifest[Typers.this.global.ClassfileAnnotArg])Array[Typers.this.global.ClassfileAnnotArg]">toArray</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // begin typedAnnotation
      <span class="keyword">val</span> <a href="#692619" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="#692618" title="Typers.this.global.Tree" id="692619">fun</a>, <a href="#692618" title="List[List[Typers.this.global.Tree]]" id="692620">argss</a><span class="delimiter">)</span> = <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]]) @unchecked" class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" id="692865">extract</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="692866">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[List[Typers.this.global.Tree]]" id="692867">outerArgss</a>: <span title="List[List[Typers.this.global.Tree]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>:
          <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span>Tree, List<span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#692866" title="Typers.this.global.Tree">fun</a> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="692872">f</a>, <a title="List[Typers.this.global.Tree]" id="692873">args</a><span class="delimiter">)</span> =&gt;
              <a href="#692865" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><span class="delimiter">(</span><a href="#692872" title="Typers.this.global.Tree">f</a>, <a href="#692873" title="List[Typers.this.global.Tree]">args</a> <a href="#692874" title="(x: List[Typers.this.global.Tree])List[List[Typers.this.global.Tree]]">::</a> <a href="#692867" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">Select</span><span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="692887">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
              <span title="(_1: Typers.this.global.Tree, _2: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span><a href="#692866" title="Typers.this.global.Tree">fun</a>, <a href="#692867" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">_</span> =&gt;
              <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187944" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">UnexpectedTreeAnnotation</a><span class="delimiter">(</span><a href="#692866" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="(_1: Typers.this.global.Tree, _2: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</span><a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#692866" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>, <a href="#692867" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <a href="#692865" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><span class="delimiter">(</span><a href="#655851" title="Typers.this.global.Tree">ann</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="692621">res</a> = <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun</a>.<a href="../../../reflect/internal/Trees.scala.html#58440" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#692610" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="(Typers.this.global.Select, Typers.this.global.Tree)" id="692924">typedFun</a> @ Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a href="#692923" title="Typers.this.global.Tree" id="692925">tpt</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span title="Typers.this.global.Tree @unchecked" class="delimiter">(</span><a href="#692619" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#187383" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#655857" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="692926">annType</a> = <a href="#692925" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>

        <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">typedFun</a>.<a href="../../../reflect/internal/Trees.scala.html#58440" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#692610" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
        <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#692926" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#46649" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#45369" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // annotation to be saved as java classfile annotation
          <span class="keyword">val</span> <a title="Boolean" id="692949">isJava</a> = <a href="#692924" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a>
          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#692926" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46649" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="#655859" title="Typers.this.global.Symbol">annClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187945" title="(tree: Typers.this.global.Tree, expected: Typers.this.global.Type, found: Typers.this.global.Type)Typers.this.NormalTypeError">AnnotationTypeMismatchError</a><span class="delimiter">(</span><a href="#692925" title="Typers.this.global.Tree">tpt</a>, <a href="#655859" title="Typers.this.global.Symbol">annClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#692926" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#692620" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187946" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">MultipleArgumentListForAnnotationError</a><span class="delimiter">(</span><a href="#655851" title="Typers.this.global.Tree">ann</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="692959">args</a> =
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#692620" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="NamesDefaults.scala.html#187603" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">(</span><a href="#692620" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="(xs: Typers.this.global.AssignOrNamedArg*)List[Typers.this.global.AssignOrNamedArg]">List</span><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="Analyzer.scala.html#187273" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59286" title="=&gt; Typers.this.global.nme.NameType">value</a><span class="delimiter">)</span>, <a href="#692620" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>.<span title="=&gt; Typers.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#692620" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="=&gt; List[Typers.this.global.Tree]">head</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="692960">annScope</a> = <a href="#692926" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Typers.this.global.Scope">decls</a>
                .<a href="../../../reflect/internal/Scopes.scala.html#60516" title="(p: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Scope">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="692997">sym</a> =&gt; <a href="#692997" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#692997" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#692997" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]" id="692961">names</a> = <span title="()scala.collection.mutable.HashSet[Typers.this.global.Symbol]" class="keyword">new</span> collection.mutable.<span title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">HashSet</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#692961" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <span title="(xs: scala.collection.TraversableOnce[Typers.this.global.Symbol])names.type">++=</span> <span class="delimiter">(</span><span title="scala.collection.TraversableOnce[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#692949" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#692960" title="Typers.this.global.Scope">annScope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60512" title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</a>
                       <span class="keyword">else</span> <a href="#692924" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41526" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]" id="692962">nvPairs</a> = <a href="#692959" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; (Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]))(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]),List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]])List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">map</span> <a href="#693017" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="693018">arg</a> @ AssignOrNamedArg<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="693024">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="693025">rhs</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="693026">sym</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#692949" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#692960" title="Typers.this.global.Scope">annScope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60506" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#693024" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                          <span class="keyword">else</span> <a href="#692924" title="Typers.this.global.Select">typedFun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41526" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="693036">p</a> =&gt; <a href="#693036" title="Typers.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#693024" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>.<span title="(default: =&gt; Typers.this.global.Symbol)Typers.this.global.Symbol">getOrElse</span><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><a href="#693026" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187947" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.NormalTypeError">UnknownAnnotationNameError</a><span class="delimiter">(</span><a href="#693018" title="Typers.this.global.AssignOrNamedArg">arg</a>, <a href="#693024" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59369" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#692961" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a>.<span title="(elem: Typers.this.global.Symbol)Boolean">contains</span><span class="delimiter">(</span><a href="#693026" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187948" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.NormalTypeError">DuplicateValueAnnotationError</a><span class="delimiter">(</span><a href="#693018" title="Typers.this.global.AssignOrNamedArg">arg</a>, <a href="#693024" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59369" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#692961" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <span title="(elem: Typers.this.global.Symbol)names.type">-=</span> <a href="#693026" title="Typers.this.global.Symbol">sym</a>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#692949" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#693026" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46623" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> // #3429
                  <span class="keyword">val</span> <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="693070">annArg</a> = <a href="#692616" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#693025" title="Typers.this.global.Tree">rhs</a>, <a href="#693026" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>
                  <span title="(_1: Typers.this.global.Name, _2: Option[Typers.this.global.ClassfileAnnotArg])(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="delimiter">(</span><a href="#693026" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a>, <a href="#693070" title="Option[Typers.this.global.ClassfileAnnotArg]">annArg</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <a title="(Typers.this.global.nme.NameType, None.type)" id="693088">arg</a> =&gt;
                <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187949" title="(tree: Typers.this.global.Tree)Typers.this.NormalTypeError">ClassfileAnnotationsAsNamedArgsError</a><span class="delimiter">(</span><a href="#693088" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59369" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <span title="object None">None</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="693142">sym</a> &lt;- <a href="#692961" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">names</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // make sure the flags are up to date before erroring (jvm/t3415 fails otherwise)
              <a href="#693142" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; sym.type">initialize</a>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#693142" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45441" title="=&gt; Typers.this.global.Symbol">AnnotationDefaultAttr</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#693142" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46802" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span>
                <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187950" title="(tree: Typers.this.global.Tree, annType: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.NormalTypeError">AnnotationMissingArgError</a><span class="delimiter">(</span><a href="#655851" title="Typers.this.global.Tree">ann</a>, <a href="#692926" title="Typers.this.global.Type">annType</a>, <a href="#693142" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#692612" title="Boolean">hasError</a><span class="delimiter">)</span> <a href="#692610" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
            <span class="keyword">else</span> <a href="../../../reflect/internal/AnnotationInfos.scala.html#45950" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#692926" title="Typers.this.global.Type">annType</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#692962" title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">nvPairs</a> <span title="(f: ((Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])) =&gt; (Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])],(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg),List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]])List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]">map</span> <span class="delimiter">{</span><a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="693178">p</a> =&gt; <span title="(_1: Typers.this.global.Name, _2: Typers.this.global.ClassfileAnnotArg)(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)" class="delimiter">(</span><a href="#693178" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<span title="=&gt; Typers.this.global.Name">_1</span>, <a href="#693178" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<span title="=&gt; Option[Typers.this.global.ClassfileAnnotArg]">_2</span>.<span title="=&gt; Typers.this.global.ClassfileAnnotArg">get</span><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45918" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">setOriginal</a><span class="delimiter">(</span><a href="#655851" title="Typers.this.global.Tree">ann</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45930" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#655851" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#655860" title="Boolean">requireJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187951" title="(tree: Typers.this.global.Tree, annType: Typers.this.global.Type)Typers.this.NormalTypeError">NestedAnnotationError</a><span class="delimiter">(</span><a href="#655851" title="Typers.this.global.Tree">ann</a>, <a href="#692926" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="693232">typedAnn</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#655858" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#655851" title="Typers.this.global.Tree">ann</a>, <a href="#655857" title="Int">mode</a>, <a href="#655859" title="Typers.this.global.Symbol">annClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            // Since a selfsym is supplied, the annotation should have
            // an extra &quot;self&quot; identifier in scope for type checking.
            // This is implemented by wrapping the rhs
            // in a function like &quot;self =&gt; rhs&quot; during type checking,
            // and then stripping the &quot;self =&gt;&quot; and substituting
            // in the supplied selfsym.
            <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="693242">funcparm</a> = <a href="Analyzer.scala.html#187273" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39357" title="=&gt; Typers.this.global.Modifiers">NoMods</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59242" title="=&gt; Typers.this.global.nme.NameType">self</a>, <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#655858" title="Typers.this.global.Symbol">selfsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span>, <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Function" id="693243">func</a> = <a href="Analyzer.scala.html#187273" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.ValDef*)List[Typers.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#693242" title="Typers.this.global.ValDef">funcparm</a><span class="delimiter">)</span>, <a href="#655851" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; ann.type">duplicate</span><span class="delimiter">)</span>
                                         // The .duplicate of annot.constr
                                         // deals with problems that
                                         // accur if this annotation is
                                         // later typed again, which
                                         // the compiler sometimes does.
                                         // The problem is that &quot;self&quot;
                                         // ident's within annot.constr
                                         // will retain the old symbol
                                         // from the previous typing.
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="693244">fun1clazz</a> = <a href="../../../reflect/internal/Definitions.scala.html#45236" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="693245">funcType</a> = <a href="../../../reflect/internal/Types.scala.html#38934" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#693244" title="Typers.this.global.Symbol">fun1clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Typers.this.global.Type">prefix</a>,
                                   <a href="#693244" title="Typers.this.global.Symbol">fun1clazz</a>,
                                   <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#655858" title="Typers.this.global.Symbol">selfsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>, <a href="#655859" title="Typers.this.global.Symbol">annClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">(</span><a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#693243" title="Typers.this.global.Function">func</a>, <a href="#655857" title="Int">mode</a>, <a href="#693245" title="Typers.this.global.Type">funcType</a><span class="delimiter">)</span>: @<span title="Typers.this.global.Tree @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="693288">t</a> @ Function<span class="delimiter">(</span><a href="#693292" title="(x: List[Typers.this.global.ValDef])Some[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="693303">arg</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="693304">rhs</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.TreeSymSubstituter" id="693305">subs</a> =
                  <span title="Typers.this.global.TreeSymSubstituter" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#39400" title="Typers.this.global.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#693303" title="Typers.this.global.ValDef">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>,<span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#655858" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Trees.scala.html#127177" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">subs</a><span class="delimiter">(</span><a href="#693304" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo" id="693233">annInfo</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="693327">t</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/AnnotationInfos.scala.html#39344" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <a href="#693327" title="Typers.this.global.Tree">t</a> <span title="Typers.this.global.AnnotationInfo" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="693339">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="693340">args</a><span class="delimiter">)</span> =&gt;
              <a href="../../../reflect/internal/AnnotationInfos.scala.html#45950" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#692926" title="Typers.this.global.Type">annType</a>, <a href="#693340" title="List[Typers.this.global.Tree]">args</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45918" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">setOriginal</a><span class="delimiter">(</span><a href="#655851" title="Typers.this.global.Tree">ann</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45930" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#693327" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Block</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="693352">stats</a>, <a title="Typers.this.global.Tree" id="693353">expr</a><span class="delimiter">)</span> =&gt;
              <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188220" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#693327" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span class="string">&quot;Usage of named or default arguments transformed this annotation\n&quot;</span>+
                                <span class="string">&quot;constructor call into a block. The corresponding AnnotationInfo\n&quot;</span>+
                                <span class="string">&quot;will contain references to local values and default getters instead\n&quot;</span><span title="String(&quot;Usage of named or default arguments transformed this annotation\nconstructor call into a block. The corresponding AnnotationInfo\nwill contain references to local values and default getters instead\nof the actual argument trees&quot;)">+</span>
                                <span class="string">&quot;of the actual argument trees&quot;</span><span class="delimiter">)</span>
              <a href="#693233" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#693353" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="693360">fun</a>, <a title="List[Typers.this.global.Tree]" id="693361">args</a><span class="delimiter">)</span> =&gt;
              <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188220" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#693327" title="Typers.this.global.Tree">t</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span class="string">&quot;Implementation limitation: multiple argument lists on annotations are\n&quot;</span><span title="String(&quot;Implementation limitation: multiple argument lists on annotations are\ncurrently not supported; ignoring arguments &quot;)">+</span>
                                     <span class="string">&quot;currently not supported; ignoring arguments &quot;</span><span title="(x$1: Any)String">+</span> <a href="#693361" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <a href="#693233" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#693360" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">_</span> =&gt;
              <a href="#692614" title="(err: Typers.this.AbsTypeError)Typers.this.global.AnnotationInfo">reportAnnotationError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187952" title="(tree: Typers.this.global.Tree, unexpected: Typers.this.global.Tree)Typers.this.NormalTypeError">UnexpectedTreeAnnotationError</a><span class="delimiter">(</span><a href="#693327" title="Typers.this.global.Tree">t</a>, <a href="#693232" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#692926" title="Typers.this.global.Type">annType</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45401" title="=&gt; Typers.this.global.Symbol">DeprecatedAttr</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#692620" title="List[List[Typers.this.global.Tree]]">argss</a>.<span title="(implicit asTraversable: List[Typers.this.global.Tree] =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Tree])List[Typers.this.global.Tree]">flatten</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188716" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#655851" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;@deprecated now takes two arguments; see the scaladoc.&quot;)" class="string">&quot;@deprecated now takes two arguments; see the scaladoc.&quot;</span><span class="delimiter">)</span>

          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#693232" title="Typers.this.global.Tree">typedAnn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#693232" title="Typers.this.global.Tree">typedAnn</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#692610" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
          <span class="keyword">else</span> <a href="#693233" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#693232" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#692612" title="Boolean">hasError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#692613" title="scala.collection.mutable.ListBuffer[Typers.this.AbsTypeError]">pending</a>.<span title="(f: Typers.this.AbsTypeError =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="ContextErrors.scala.html#187691" title="object Typers.this.ErrorUtils">ErrorUtils</a>.<a href="ContextErrors.scala.html#626788" title="(err: Typers.this.AbsTypeError)(implicit context: Typers.this.Context)Unit">issueTypeError</a><span class="delimiter">)</span>
        <a href="#692610" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#692621" title="Typers.this.global.AnnotationInfo">res</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="187838">isRawParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="693440">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = // is it a type parameter leaked by a raw type?
      <a href="#693440" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46469" title="=&gt; Boolean">isTypeParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#693440" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a>
    
    /** If we map a set of hidden symbols to their existential bounds, we
     *  have a problem: the bounds may themselves contain references to the
     *  hidden symbols.  So this recursively calls existentialBound until
     *  the typeSymbol is not amongst the symbols being hidden.
     */
    <span class="keyword">def</span> <a title="(hidden: List[Typers.this.global.Symbol])Map[Typers.this.global.Symbol,Typers.this.global.Type]" id="187839">existentialBoundsExcludingHidden</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="693443">hidden</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Map[Typers.this.global.Symbol,Typers.this.global.Type]">Map</span><span class="delimiter">[</span>Symbol, Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(t: Typers.this.global.Type)Typers.this.global.Type" id="693445">safeBound</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="693447">t</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> =
        <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#693443" title="List[Typers.this.global.Symbol]">hidden</a> <span title="(elem: Any)Boolean">contains</span> <a href="#693447" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="#693445" title="(t: Typers.this.global.Type)Typers.this.global.Type">safeBound</a><span class="delimiter">(</span><a href="#693447" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46632" title="=&gt; Typers.this.global.Type">existentialBound</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; Typers.this.global.Type">hi</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#693447" title="Typers.this.global.Type">t</a>

      <span class="keyword">def</span> <a title="(s: Typers.this.global.Symbol)Typers.this.global.Type" id="693446">hiBound</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="693448">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <a href="#693445" title="(t: Typers.this.global.Type)Typers.this.global.Type">safeBound</a><span class="delimiter">(</span><a href="#693448" title="Typers.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#46632" title="=&gt; Typers.this.global.Type">existentialBound</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; Typers.this.global.Type">hi</a><span class="delimiter">)</span> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Type" id="693449">tp</a> @ RefinedType<span class="delimiter">(</span><a title="List[Typers.this.global.Type]" id="693452">parents</a>, <a title="Typers.this.global.Scope" id="693453">decls</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="693454">parents1</a> = <a href="#693452" title="List[Typers.this.global.Type]">parents</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)List[Typers.this.global.Type]">mapConserve</span> <a href="#693445" title="(t: Typers.this.global.Type)Typers.this.global.Type">safeBound</a>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#693452" title="List[Typers.this.global.Type]">parents</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#693454" title="List[Typers.this.global.Type]">parents1</a><span class="delimiter">)</span> <a href="#693449" title="Typers.this.global.RefinedType">tp</a>
          <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#38933" title="(original: Typers.this.global.RefinedType, parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope)Typers.this.global.Type">copyRefinedType</a><span class="delimiter">(</span><a href="#693449" title="Typers.this.global.RefinedType">tp</a>, <a href="#693454" title="List[Typers.this.global.Type]">parents1</a>, <a href="#693453" title="Typers.this.global.Scope">decls</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Type" id="693466">tp</a> =&gt; <a href="#693466" title="Typers.this.global.Type">tp</a>
      <span class="delimiter">}</span>

      <span class="delimiter">(</span><a href="#693443" title="List[Typers.this.global.Symbol]">hidden</a> <span title="(f: Typers.this.global.Symbol =&gt; (Typers.this.global.Symbol, Typers.this.global.Type))(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],(Typers.this.global.Symbol, Typers.this.global.Type),List[(Typers.this.global.Symbol, Typers.this.global.Type)]])List[(Typers.this.global.Symbol, Typers.this.global.Type)]">map</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="693483">s</a> =&gt;
        // Hanging onto lower bound in case anything interesting
        // happens with it.
        <span title="(_1: Typers.this.global.Symbol, _2: Typers.this.global.Type)(Typers.this.global.Symbol, Typers.this.global.Type)" class="delimiter">(</span><a href="#693483" title="Typers.this.global.Symbol">s</a>, <a href="#693483" title="Typers.this.global.Symbol">s</a>.<a href="../../../reflect/internal/Symbols.scala.html#46632" title="=&gt; Typers.this.global.Type">existentialBound</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.TypeBounds">TypeBounds</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="693490">lo</a>, <a title="Typers.this.global.Type" id="693491">hi</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#62285" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#693490" title="Typers.this.global.Type">lo</a>, <a href="#693446" title="(s: Typers.this.global.Symbol)Typers.this.global.Type">hiBound</a><span class="delimiter">(</span><a href="#693483" title="Typers.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span>                  =&gt; <a href="#693446" title="(s: Typers.this.global.Symbol)Typers.this.global.Type">hiBound</a><span class="delimiter">(</span><a href="#693483" title="Typers.this.global.Symbol">s</a><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="(implicit ev: &lt;:&lt;[(Typers.this.global.Symbol, Typers.this.global.Type),(Typers.this.global.Symbol, Typers.this.global.Type)])scala.collection.immutable.Map[Typers.this.global.Symbol,Typers.this.global.Type]">toMap</span>
    <span class="delimiter">}</span>
    
    /** Given a set `rawSyms` of term- and type-symbols, and a type
     *  `tp`, produce a set of fresh type parameters and a type so that
     *  it can be abstracted to an existential type. Every type symbol
     *  `T` in `rawSyms` is mapped to a clone. Every term symbol `x` of
     *  type `T` in `rawSyms` is given an associated type symbol of the
     *  following form:
     *
     *    type x.type &lt;: T with Singleton
     *
     *  The name of the type parameter is `x.type`, to produce nice
     *  diagnostics. The Singleton parent ensures that the type
     *  parameter is still seen as a stable type. Type symbols in
     *  rawSyms are fully replaced by the new symbols. Term symbols are
     *  also replaced, except for term symbols of an Ident tree, where
     *  only the type of the Ident is changed.
     */
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; T)T" id="187840">existentialTransform</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="187842">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="693551">rawSyms</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="693552">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; T" id="693553">creator</a>: <span class="delimiter">(</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, Type<span class="delimiter">)</span> =&gt; T<span class="delimiter">)</span>: <a href="#187842" title="T">T</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Map[Typers.this.global.Symbol,Typers.this.global.Type]" id="693556">allBounds</a> = <a href="#187839" title="(hidden: List[Typers.this.global.Symbol])Map[Typers.this.global.Symbol,Typers.this.global.Type]">existentialBoundsExcludingHidden</a><span class="delimiter">(</span><a href="#693551" title="List[Typers.this.global.Symbol]">rawSyms</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="693557">typeParams</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#693551" title="List[Typers.this.global.Symbol]">rawSyms</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="693576">sym</a> =&gt;
        <span class="keyword">val</span> <a title="Typers.this.global.TypeName" id="693577">name</a> = <a href="#693576" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="Typers.this.global.TypeName" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.TypeName" id="693581">x</a>: <a href="../../../reflect/internal/Names.scala.html#38410" title="Typers.this.global.TypeName">TypeName</a>  =&gt; <a href="#693581" title="Typers.this.global.TypeName">x</a>
          <span class="keyword">case</span> <a title="Typers.this.global.TypeName" id="693582">x</a>            =&gt; <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59442" title="(name: Typers.this.global.Name)Typers.this.global.TypeName">singletonName</a><span class="delimiter">(</span><a href="#693582" title="Typers.this.global.Name">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="693578">bound</a>      = <a href="#693556" title="(key: Typers.this.global.Symbol)Typers.this.global.Type">allBounds</a><span class="delimiter">(</span><a href="#693576" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="693579">sowner</a>     = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#187838" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#693576" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#693576" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="693580">quantified</a> = <a href="#693579" title="Typers.this.global.Symbol">sowner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46417" title="(name: Typers.this.global.TypeName, pos: Typers.this.global.Position, newFlags: Long)Typers.this.global.Symbol">newExistential</a><span class="delimiter">(</span><a href="#693577" title="Typers.this.global.TypeName">name</a>, <a href="#693576" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>

        <a href="#693580" title="Typers.this.global.Symbol">quantified</a> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)quantified.type">setInfo</a> <a href="#693578" title="Typers.this.global.Type">bound</a>.<a href="../../../reflect/internal/Types.scala.html#41583" title="(owner: Typers.this.global.Symbol)Typers.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#693580" title="Typers.this.global.Symbol">quantified</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      // Higher-kinded existentials are not yet supported, but this is
      // tpeHK for when they are: &quot;if a type constructor is expected/allowed,
      // tpeHK must be called instead of tpe.&quot;
      <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="693558">typeParamTypes</a> = <a href="#693557" title="List[Typers.this.global.Symbol]">typeParams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#693665" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46607" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(info: Typers.this.global.Type)Typers.this.global.Type" id="693559">doSubst</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="693693">info</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#693693" title="Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41558" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#693551" title="List[Typers.this.global.Symbol]">rawSyms</a>, <a href="#693558" title="List[Typers.this.global.Type]">typeParamTypes</a><span class="delimiter">)</span>

      <a href="#693553" title="(v1: List[Typers.this.global.Symbol], v2: Typers.this.global.Type)T">creator</a><span class="delimiter">(</span><a href="#693557" title="List[Typers.this.global.Symbol]">typeParams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#693708" title="Typers.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#46611" title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)x$83.type">modifyInfo</a> <a href="#693559" title="(info: Typers.this.global.Type)Typers.this.global.Type">doSubst</a><span class="delimiter">)</span>, <a href="#693559" title="(info: Typers.this.global.Type)Typers.this.global.Type">doSubst</a><span class="delimiter">(</span><a href="#693552" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Compute an existential type from raw hidden symbols `syms` and type `tp`
     */
    <span class="keyword">def</span> <a title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type" id="187843">packSymbols</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="685183">hidden</a>: <span title="List[Typers.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="685184">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> =
      <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#685183" title="List[Typers.this.global.Symbol]">hidden</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#685184" title="Typers.this.global.Type">tp</a>
      <span class="keyword">else</span> <a href="#187840" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; Typers.this.global.Type)Typers.this.global.Type">existentialTransform</a><span class="delimiter">(</span><a href="#685183" title="List[Typers.this.global.Symbol]">hidden</a>, <a href="#685184" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38945" title="(tparams: List[Typers.this.global.Symbol], tpe0: Typers.this.global.Type)Typers.this.global.Type">existentialAbstraction</a><span class="delimiter">)</span>
      
    <span class="keyword">def</span> <a title="(ctx: Typers.this.Context, sym: Typers.this.global.Symbol)Boolean" id="187844">isReferencedFrom</a><span class="delimiter">(</span><a title="Typers.this.Context" id="693754">ctx</a>: <a href="Contexts.scala.html#187302" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Symbol" id="693755">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
      <a href="#693754" title="Typers.this.Context">ctx</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> 
      <span class="delimiter">(</span><a href="#693754" title="Typers.this.Context">ctx</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a>.<span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="693765">dcl</a> =&gt; <a href="#693765" title="Typers.this.global.Symbol">dcl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46560" title="=&gt; Boolean">isInitialized</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#693765" title="Typers.this.global.Symbol">dcl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a> <a href="../../../reflect/internal/Types.scala.html#41569" title="(sym: Typers.this.global.Symbol)Boolean">contains</a> <a href="#693755" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> 
      <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Typers.this.Context" id="693770">ctx1</a> = <a href="#693754" title="Typers.this.Context">ctx</a>.<a href="Contexts.scala.html#188114" title="=&gt; Typers.this.Context">outer</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#693770" title="Typers.this.Context">ctx1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#187288" title="object Typers.this.NoContext">NoContext</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#693770" title="Typers.this.Context">ctx1</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#693754" title="Typers.this.Context">ctx</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#693770" title="Typers.this.Context">ctx1</a> = <a href="#693770" title="Typers.this.Context">ctx1</a>.<a href="Contexts.scala.html#188114" title="=&gt; Typers.this.Context">outer</a>
        <span class="delimiter">(</span><a href="#693770" title="Typers.this.Context">ctx1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#187288" title="object Typers.this.NoContext">NoContext</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#187844" title="(ctx: Typers.this.Context, sym: Typers.this.global.Symbol)Boolean">isReferencedFrom</a><span class="delimiter">(</span><a href="#693770" title="Typers.this.Context">ctx1</a>, <a href="#693755" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="187845">isCapturedExistential</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="693782">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <span class="delimiter">(</span><a href="#693782" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46594" title="(mask: Long)Boolean">hasAllFlags</a> <span class="delimiter">(</span>EXISTENTIAL <span title="Long(34359803904L)">|</span> CAPTURED<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="693789">start</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187253" title="=&gt; scala.tools.nsc.util.Statistics.Timer">isReferencedNanos</a><span class="delimiter">)</span>
      <span class="keyword">try</span> <span title="=&gt; Boolean">!</span><a href="#187844" title="(ctx: Typers.this.Context, sym: Typers.this.global.Symbol)Boolean">isReferencedFrom</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>, <a href="#693782" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">finally</span> <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187253" title="=&gt; scala.tools.nsc.util.Statistics.Timer">isReferencedNanos</a>, <a href="#693789" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Typers.this.global.Type" id="187846">packCaptured</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="693790">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Typers.this.global.Symbol]" id="693792">captured</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.Set[A]">Set</span><span title="(elems: Typers.this.global.Symbol*)scala.collection.mutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="693797">tp</a> &lt;- <a href="../../../reflect/internal/Types.scala.html#41566" title="(f: Typers.this.global.Type =&gt; Unit)Unit">tpe</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187845" title="(sym: Typers.this.global.Symbol)Boolean">isCapturedExistential</a><span class="delimiter">(</span><a href="#693797" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#693792" title="scala.collection.mutable.Set[Typers.this.global.Symbol]">captured</a> <span title="(elem: Typers.this.global.Symbol)captured.type">+=</span> <a href="#693797" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
      <a href="../../../reflect/internal/Types.scala.html#38945" title="(tparams: List[Typers.this.global.Symbol], tpe0: Typers.this.global.Type)Typers.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#693792" title="scala.collection.mutable.Set[Typers.this.global.Symbol]">captured</a>.<span title="=&gt; List[Typers.this.global.Symbol]">toList</span>, <a href="#693790" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** convert local symbols and skolems to existentials */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type" id="187847">packedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="287965">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="287966">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean" id="693806">defines</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="693816">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="693817">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#693817" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46500" title="=&gt; Boolean">isExistentialSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#693817" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46714" title="=&gt; AnyRef">unpackLocation</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#693816" title="Typers.this.global.Tree">tree</a> <span title="(x: Boolean)Boolean">||</span>
        <a href="#693816" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isDef</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#693816" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#693817" title="Typers.this.global.Symbol">sym</a>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="693807">isVisibleParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="693828">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#693828" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46793" title="=&gt; Boolean">isParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#693828" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#287966" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#693828" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46444" title="=&gt; Boolean">isType</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#287966" title="Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46504" title="=&gt; Boolean">isAnonymousFunction</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean" id="693808">containsDef</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="693834">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="693835">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#693835" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46807" title="=&gt; Boolean">hasPackageFlag</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="693836">o</a> = <a href="#693835" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#693836" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#693834" title="Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#693836" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#693836" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46807" title="=&gt; Boolean">hasPackageFlag</a><span class="delimiter">)</span> <a href="#693836" title="Typers.this.global.Symbol">o</a> = <a href="#693836" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>
          <a href="#693836" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#693834" title="Typers.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#693807" title="(sym: Typers.this.global.Symbol)Boolean">isVisibleParameter</a><span class="delimiter">(</span><a href="#693835" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="693809">localSyms</a> = collection.immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="693810">boundSyms</a> = collection.immutable.<span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="693811">isLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="693856">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#693856" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <a href="#693856" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46467" title="=&gt; Boolean">isRefinementClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#693856" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46488" title="=&gt; Boolean">isLocalDummy</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#287966" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#287965" title="Typers.this.global.Tree">tree</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#693806" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean">defines</a><span class="delimiter">(</span><a href="#693867" title="Typers.this.global.Tree">_</a>, <a href="#693856" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#693808" title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean">containsDef</a><span class="delimiter">(</span><a href="#287966" title="Typers.this.global.Symbol">owner</a>, <a href="#693856" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#187838" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#693856" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#187845" title="(sym: Typers.this.global.Symbol)Boolean">isCapturedExistential</a><span class="delimiter">(</span><a href="#693856" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Boolean" id="693812">containsLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="693868">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
        <a href="#693868" title="Typers.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#41568" title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="693872">t</a> =&gt; <a href="#693811" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#693872" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#693811" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#693872" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#41503" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.TypeMap" id="693813">normalizeLocals</a> = <a href="#693873" title="Typers.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#38980" title="anonymous class $anon extends Typers.this.global.TypeMap" id="693873">TypeMap</a> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="693875">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="693876">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <a href="#693876" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="693885">pre</a>, <a title="Typers.this.global.Symbol" id="693886">sym</a>, <a title="List[Typers.this.global.Type]" id="693887">args</a><span class="delimiter">)</span> =&gt;
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#693886" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#693812" title="(tp: Typers.this.global.Type)Boolean">containsLocal</a><span class="delimiter">(</span><a href="#693876" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#693875" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#693876" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Typers.this.global.Type">normalize</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#693885" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41492" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="ContextErrors.scala.html#187980" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type)Unit">InferTypeWithVolatileTypeSelectionError</a><span class="delimiter">(</span><a href="#287965" title="Typers.this.global.Tree">tree</a>, <a href="#693885" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#74772" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#693876" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
            <a href="../../../reflect/internal/Types.scala.html#74772" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#693876" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      // add all local symbols of `tp` to `localSyms`
      // TODO: expand higher-kinded types into individual copies for each instance.
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Unit" id="693814">addLocals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="693933">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="693934">remainingSyms</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit" id="693935">addIfLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="693936">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="693937">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#693811" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#693936" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#693809" title="(elem: Typers.this.global.Symbol)Boolean">localSyms</a><span class="delimiter">(</span><a href="#693936" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#693810" title="(elem: Typers.this.global.Symbol)Boolean">boundSyms</a><span class="delimiter">(</span><a href="#693936" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#693936" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#693809" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a> <span title="(elem: Typers.this.global.Symbol)scala.collection.immutable.Set[Typers.this.global.Symbol]">+=</span> <a href="#693936" title="Typers.this.global.Symbol">sym</a>
              <a href="#693934" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">remainingSyms</a> <span title="(x: Typers.this.global.Symbol)remainingSyms.type">+=</span> <a href="#693936" title="Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="ContextErrors.scala.html#187981" title="(tree: Typers.this.global.Tree, tp: Typers.this.global.Type)Unit">AbstractExistentiallyOverParamerizedTpeError</a><span class="delimiter">(</span><a href="#287965" title="Typers.this.global.Tree">tree</a>, <a href="#693937" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="693992">t</a> &lt;- <a href="../../../reflect/internal/Types.scala.html#41566" title="(f: Typers.this.global.Type =&gt; Unit)Unit">tp</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#693992" title="Typers.this.global.Type">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="693995">tparams</a>, _<span class="delimiter">)</span> =&gt;
              <a href="#693810" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">boundSyms</a> <span title="(elems: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])scala.collection.immutable.Set[Typers.this.global.Symbol]">++=</span> <a href="#693995" title="List[Typers.this.global.Symbol]">tparams</a>
            <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="694055">annots</a>, _, _<span class="delimiter">)</span> =&gt;
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="694075">annot</a> &lt;- <a href="#694055" title="(f: Typers.this.global.AnnotationInfo =&gt; Unit)Unit">annots</a>; <a title="Typers.this.global.Tree" id="694097">arg</a> &lt;- <a href="#694075" title="Typers.this.global.AnnotationInfo">annot</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45915" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#694097" title="Typers.this.global.Tree">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                    // Check the symbol of an Ident, unless the
                    // Ident's type is already over an existential.
                    // (If the type is already over an existential,
                    // then remap the type, not the core symbol.)
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#694097" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span><span class="delimiter">)</span>
                      <a href="#693935" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#694097" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#694097" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
          <a href="#693935" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#693992" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#41503" title="=&gt; Typers.this.global.Symbol">termSymbol</a>, <a href="#693992" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
          <a href="#693935" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#693992" title="Typers.this.global.Type">t</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#693992" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="694124">sym</a> &lt;- <a href="#693934" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">remainingSyms</a><span class="delimiter">)</span> <a href="#693814" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#694124" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46632" title="=&gt; Typers.this.global.Type">existentialBound</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="693815">normalizedTpe</a> = <a href="../../../reflect/internal/Types.scala.html#74770" title="(tp: Typers.this.global.Type)Typers.this.global.Type">normalizeLocals</a><span class="delimiter">(</span><a href="#287965" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
      <a href="#693814" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#693815" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
      <a href="#187843" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#693809" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a>.<span title="=&gt; List[Typers.this.global.Symbol]">toList</span>, <a href="#693815" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, noGen: Boolean)Typers.this.global.Tree" id="187848">typedClassOf</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694138">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="694139">tpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Boolean" id="694143">noGen</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187748" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Boolean">checkClassType</a><span class="delimiter">(</span><a href="#694139" title="Typers.this.global.Tree">tpt</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#694143" title="Boolean">noGen</a><span class="delimiter">)</span> <a href="#694139" title="Typers.this.global.Tree">tpt</a>
      <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#694138" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92364" title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkClassOf</a><span class="delimiter">(</span><a href="#694139" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree" id="187849">typedExistentialTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.ExistentialTypeTree" id="694151">tree</a>: <span title="Typers.this.global.ExistentialTypeTree">ExistentialTypeTree</span>, <a title="Int" id="694152">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694175">wc</a> &lt;- <a href="#694151" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)Unit">whereClauses</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#694175" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#625615" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#694175" title="Typers.this.global.Tree">wc</a><span class="delimiter">)</span>; <a href="#694175" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(34359738368L)">EXISTENTIAL</span> <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#694175" title="Typers.this.global.Tree">wc</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="694154">whereClauses1</a> = <a href="#187829" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#694151" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; List[Typers.this.global.Tree]">whereClauses</span>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="694219">vd</a> @ ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> &lt;- <a href="#694151" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="#694189" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">whereClauses</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#694219" title="Typers.this.global.ValDef">vd</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41492" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#187953" title="(vd: Typers.this.global.ValDef)Unit">AbstractionFromVolatileTypeError</a><span class="delimiter">(</span><a href="#694219" title="Typers.this.global.ValDef">vd</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="694155">tpt1</a> = <a href="#187867" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#694151" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; Typers.this.global.Tree">tpt</span>, <a href="#694152" title="Int">mode</a><span class="delimiter">)</span>
      <a href="#187840" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(creator: (List[Typers.this.global.Symbol], Typers.this.global.Type) =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTree">existentialTransform</a><span class="delimiter">(</span><a href="#694151" title="Typers.this.global.ExistentialTypeTree">tree</a>.<span title="=&gt; List[Typers.this.global.Tree]">whereClauses</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#694251" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>, <a href="#694155" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="694281">tparams</a>, <a title="Typers.this.global.Type" id="694282">tp</a><span class="delimiter">)</span> =&gt;
        <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38891" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.Type">newExistentialType</a><span class="delimiter">(</span><a href="#694281" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#694282" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <a href="#694151" title="Typers.this.global.ExistentialTypeTree">tree</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // lifted out of typed1 because it's needed in typedImplicit0
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="187850">typedTypeApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="635017">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="635018">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Tree" id="635019">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="635020">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#635019" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="694291">pre</a>, <a title="List[Typers.this.global.Symbol]" id="694292">alts</a><span class="delimiter">)</span> =&gt;
        <a href="Infer.scala.html#188065" title="(tree: Typers.this.global.Tree, argtypes: List[Typers.this.global.Type])Unit">inferPolyAlternatives</a><span class="delimiter">(</span><a href="#635019" title="Typers.this.global.Tree">fun</a>, <a href="#635020" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#694313" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="694293">tparams</a> = <a href="#635019" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> //@M TODO: fun.symbol.info.typeParams ? (as in typedAppliedTypeTree)
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="694294">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#635020" title="List[Typers.this.global.Tree]">args</a>, <a href="#694293" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          //@M: in case TypeApply we can't check the kind-arities of the type arguments,
          // as we don't know which alternative to choose... here we do
          <a href="../../../reflect/internal/Types.scala.html#39078" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#635020" title="List[Typers.this.global.Tree]">args</a>, <a href="#694293" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //@M! the polytype denotes the expected kind
            <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694376">arg</a>, <a title="Typers.this.global.Symbol" id="694377">tparam</a><span class="delimiter">)</span> =&gt; <a href="#187869" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#694376" title="Typers.this.global.Tree">arg</a>, <a href="#635018" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#38942" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#694377" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../../../reflect/internal/Definitions.scala.html#44982" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> // @M: there's probably something wrong when args.length != tparams.length... (triggered by bug #320)
         // Martin, I'm using fake trees, because, if you use args or arg.map(typedType),
         // inferPolyAlternatives loops...  -- I have no idea why :-(
         // ...actually this was looping anyway, see bug #278.
          <span title="Nothing" class="keyword">return</span> <a href="ContextErrors.scala.html#187954" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.global.Tree">TypedApplyWrongNumberOfTpeParametersError</a><span class="delimiter">(</span><a href="#635019" title="Typers.this.global.Tree">fun</a>, <a href="#635019" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>

        <a href="#187850" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#635017" title="Typers.this.global.Tree">tree</a>, <a href="#635018" title="Int">mode</a>, <a href="#635019" title="Typers.this.global.Tree">fun</a>, <a href="#694294" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">SingleType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
        <a href="#187850" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#635017" title="Typers.this.global.Tree">tree</a>, <a href="#635018" title="Int">mode</a>, <a href="#635019" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)fun.type">setType</span> <a href="#635019" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#635020" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="694401">tparams</a>, <a title="Typers.this.global.Type" id="694402">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#694401" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">nonEmpty</span> =&gt;
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#694401" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#635020" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="694405">targs</a> = <a href="#635020" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#694416" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#188032" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Boolean">checkBounds</a><span class="delimiter">(</span><a href="#635017" title="Typers.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Types.scala.html#38829" title="object Typers.this.global.NoPrefix">NoPrefix</a>, <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#694401" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#694405" title="List[Typers.this.global.Type]">targs</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#635019" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45044" title="=&gt; Typers.this.global.Symbol">Predef_classOf</a><span class="delimiter">)</span>
            <a href="#187848" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, noGen: Boolean)Typers.this.global.Tree">typedClassOf</a><span class="delimiter">(</span><a href="#635017" title="Typers.this.global.Tree">tree</a>, <a href="#635020" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Typers.this.global.Tree">head</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#635019" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45307" title="=&gt; Typers.this.global.Symbol">Any_isInstanceOf</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#694405" title="List[Typers.this.global.Type]">targs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#188043" title="(tree: Typers.this.global.Tree, tp: Typers.this.global.Type, kind: String)Unit">checkCheckable</a><span class="delimiter">(</span><a href="#635017" title="Typers.this.global.Tree">tree</a>, <a href="#694405" title="List[Typers.this.global.Type]">targs</a>.<span title="=&gt; Typers.this.global.Type">head</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="694455">resultpe</a> = <a href="#694402" title="Typers.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#41531" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#694401" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#694405" title="List[Typers.this.global.Type]">targs</a><span class="delimiter">)</span>
            //@M substitution in instantiateParams needs to be careful!
            //@M example: class Foo[a] { def foo[m[x]]: m[a] = error(&quot;&quot;) } (new Foo[Int]).foo[List] : List[Int]
            //@M    --&gt; first, m[a] gets changed to m[Int], then m gets substituted for List,
            //          this must preserve m's type argument, so that we end up with List[Int], and not List[a]
            //@M related bug: #1438
            //println(&quot;instantiating type params &quot;+restpe+&quot; &quot;+tparams+&quot; &quot;+targs+&quot; = &quot;+resultpe)
            <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</span><span class="delimiter">(</span><a href="#635017" title="Typers.this.global.Tree">tree</a>, <a href="#635019" title="Typers.this.global.Tree">fun</a>, <a href="#635020" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeApply">setType</span> <a href="#694455" title="Typers.this.global.Type">resultpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#187954" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.global.Tree">TypedApplyWrongNumberOfTpeParametersError</a><span class="delimiter">(</span><a href="#635017" title="Typers.this.global.Tree">tree</a>, <a href="#635019" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38820" title="Typers.this.global.TypeApply">ErrorType</a> =&gt;
        <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.TypeApply)Typers.this.global.TypeApply">setError</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</span><span class="delimiter">(</span><a href="#635017" title="Typers.this.global.Tree">tree</a>, <a href="#635019" title="Typers.this.global.Tree">fun</a>, <a href="#635020" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
        <a href="ContextErrors.scala.html#187955" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree)Typers.this.global.Tree">TypedApplyDoesNotTakeTpeParametersError</a><span class="delimiter">(</span><a href="#635017" title="Typers.this.global.Tree">tree</a>, <a href="#635019" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="187851">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188169" title="(x$1: Int)Unit">typingIndentLevel</a> <span title="(x: Int)Int">-=</span> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="187852">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188169" title="(x$1: Int)Unit">typingIndentLevel</a> <span title="(x: Int)Int">+=</span> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="187853">printTyping</a><span class="delimiter">(</span><a title="=&gt; String" id="633041">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186223" title="=&gt; Boolean">printTypings</a><span class="delimiter">)</span>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188171" title="=&gt; String">typingIndent</a> <span title="(x$1: Any)String">+</span> <a href="#633041" title="=&gt; String">s</a>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188171" title="=&gt; String">typingIndent</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="187854">printInference</a><span class="delimiter">(</span><a title="=&gt; String" id="633031">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186226" title="=&gt; Boolean">printInfers</a><span class="delimiter">)</span>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#633031" title="=&gt; String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187855">typed1</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="597742">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="597743">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="597744">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="694477">isPatternMode</a> = <a href="Modes.scala.html#187391" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#597743" title="Int">mode</a><span class="delimiter">)</span>

      //Console.println(&quot;typed1(&quot;+tree.getClass()+&quot;,&quot;+Integer.toHexString(mode)+&quot;,&quot;+pt+&quot;)&quot;)
      <span class="keyword">def</span> <a title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)" id="694478">ptOrLub</a><span class="delimiter">(</span><a title="List[Typers.this.global.Type]" id="694501">tps</a>: <span title="List[Typers.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(Typers.this.global.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#187477" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(_1: Typers.this.global.Type, _2: Boolean)(Typers.this.global.Type, Boolean)" class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#39097" title="(ts: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">weakLub</a><span class="delimiter">(</span><a href="#694501" title="List[Typers.this.global.Type]">tps</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#694525" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#41509" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span><span class="delimiter">)</span>

      //@M! get the type of the qualifier in a Select tree, otherwise: NoType
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Type" id="694479">prefixType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694553">fun</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <a href="#694553" title="Typers.this.global.Tree">fun</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694558">qualifier</a>, _<span class="delimiter">)</span> =&gt; <a href="#694558" title="Typers.this.global.Tree">qualifier</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
//        case Ident(name) =&gt; ??
        <span class="keyword">case</span> <span title="Typers.this.global.NoType.type">_</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#38827" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree" id="694480">typedAnnotated</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694559">ann</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="694560">arg1</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        /** mode for typing the annotation itself */
        <span class="keyword">val</span> <a title="Int" id="694561">annotMode</a> = <a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(4)">TYPEmode</span> <span title="(x: Int)Int">|</span> <span title="Int(1)">EXPRmode</span>

        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#694560" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Boolean">isType</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // make sure the annotation is only typechecked once
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#694559" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // an annotated type
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="694575">selfsym</a> =
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186798" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">selfInAnnots</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">else</span>
                <a href="#694560" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41604" title="=&gt; Typers.this.global.Symbol">selfsym</a> <a href="../../../reflect/internal/Symbols.scala.html#46723" title="(alt: =&gt; Typers.this.global.Symbol)Typers.this.global.Symbol">orElse</a> <span class="delimiter">{</span>
                  /* Implementation limitation: Currently this
                   * can cause cyclical reference errors even
                   * when the self symbol is not referenced at all.
                   * Surely at least some of these cases can be
                   * fixed by proper use of LazyType's.  Lex tinkered
                   * on this but did not succeed, so is leaving
                   * it alone for now. Example code with the problem:
                   *  class peer extends Annotation
                   *  class NPE[T &lt;: NPE[T] @peer]
                   *
                   * (Note: -Yself-in-annots must be on to see the problem)
                   * */
                  <span class="delimiter">(</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>
                      <a href="../../../reflect/internal/Symbols.scala.html#46386" title="Typers.this.global.TermSymbol" id="694592">newLocalDummy</a> <span class="delimiter">(</span><a href="#694559" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
                      <a href="../../../reflect/internal/Symbols.scala.html#71564" title="Long" id="694595">newValue</a> <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59242" title="Typers.this.global.nme.NameType" id="694593">self</a>, <a href="#694559" title="Typers.this.global.Tree">ann</a>.<a title="Typers.this.global.Position" id="694594">pos</a><span class="delimiter">)</span>
                      <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a> <span class="delimiter">(</span><a href="#694560" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41598" title="=&gt; Typers.this.global.Type">withoutAnnotations</a><span class="delimiter">)</span>
                  <span class="delimiter">)</span>
                <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="694576">ainfo</a> = <a href="#187837" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#694559" title="Typers.this.global.Tree">ann</a>, <a href="#694561" title="Int">annotMode</a>, <a href="#694575" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="694577">atype0</a> = <a href="#694560" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44939" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#694576" title="Typers.this.global.AnnotationInfo">ainfo</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="694578">atype</a> =
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#694575" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#694576" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45938" title="(sym: Typers.this.global.Symbol)Boolean">refsSymbol</a><span class="delimiter">(</span><a href="#694575" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#694577" title="Typers.this.global.Type">atype0</a>.<a href="../../../reflect/internal/Types.scala.html#41603" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">withSelfsym</a><span class="delimiter">(</span><a href="#694575" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#694577" title="Typers.this.global.Type">atype0</a> // do not record selfsym if
                       // this annotation did not need it

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#694576" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45936" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              // Erroneous annotations were already reported in typedAnnotation
              <a href="#694560" title="Typers.this.global.Tree">arg1</a>  // simply drop erroneous annotations
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#694559" title="Typers.this.global.Tree">ann</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#694578" title="Typers.this.global.Type">atype</a>
              <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#694578" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            // the annotation was typechecked before
            <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#694559" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#694559" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="694618">annotInfo</a> = <a href="#187837" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#694559" title="Typers.this.global.Tree">ann</a>, <a href="#694561" title="Int">annotMode</a><span class="delimiter">)</span>
            <a href="#694559" title="Typers.this.global.Tree">ann</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#694560" title="Typers.this.global.Tree">arg1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44939" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#694618" title="Typers.this.global.AnnotationInfo">annotInfo</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="694612">atype</a> = <a href="#694559" title="Typers.this.global.Tree">ann</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <a href="Analyzer.scala.html#187273" title="(expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#694560" title="Typers.this.global.Tree">arg1</a>, <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#694612" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Typed">setPos</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#694612" title="Typers.this.global.Type">atype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree" id="694481">typedBind</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="694636">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a>, <a title="Typers.this.global.Tree" id="694637">body</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="694638">vble</a> = <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TypeName)Typers.this.global.Tree" id="694639">typedBindType</a><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="694641">name</a>: <a href="../../../reflect/internal/Names.scala.html#38410" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#694637" title="Typers.this.global.Tree">body</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">unit</a> <span title="(other: String)String">+</span> <span title="String(&quot; typedBind: &quot;)" class="string">&quot; typedBind: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#694641" title="Typers.this.global.TypeName">name</a>.<a href="../../../reflect/internal/Names.scala.html#52181" title="=&gt; String">debugString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#694637" title="Typers.this.global.Tree">body</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#694637" title="Typers.this.global.Tree">body</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#694638" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#694638" title="Typers.this.global.Symbol">vble</a> =
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#187477" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="Typers.this.global.Symbol" id="694668">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#74601" title="Long" id="694671">newAliasType</a><span class="delimiter">(</span><a href="#694641" title="Typers.this.global.TypeName" id="694669">name</a>, <a href="#597742" title="Typers.this.global.Tree">tree</a>.<a title="Typers.this.global.Position" id="694670">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="#597744" title="Typers.this.global.Type">pt</a>
              <span class="keyword">else</span>
                <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="Typers.this.global.Symbol" id="694684">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#113021" title="Long" id="694687">newAbstractType</a><span class="delimiter">(</span><a href="#694641" title="Typers.this.global.TypeName" id="694685">name</a>, <a href="#597742" title="Typers.this.global.Tree">tree</a>.<a title="Typers.this.global.Position" id="694686">pos</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#38845" title="object Typers.this.global.TypeBounds">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#62282" title="=&gt; Typers.this.global.TypeBounds">empty</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="694642">rawInfo</a> = <a href="#694638" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#46618" title="=&gt; Typers.this.global.Type">rawInfo</a>
          <a href="#694638" title="Typers.this.global.Symbol">vble</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#694638" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39303" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a><span class="delimiter">)</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#694638" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
                 <span class="keyword">else</span> <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#625613" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#694638" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#694638" title="Typers.this.global.Symbol">vble</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#694638" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TermName)Typers.this.global.Bind" id="694640">typedBindTerm</a><span class="delimiter">(</span><a title="Typers.this.global.TermName" id="694699">name</a>: <a href="../../../reflect/internal/Names.scala.html#38409" title="Typers.this.global.TermName">TermName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#694638" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#694638" title="Typers.this.global.Symbol">vble</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="Typers.this.global.Symbol" id="694715">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#71564" title="Long" id="694718">newValue</a><span class="delimiter">(</span><a href="#694699" title="Typers.this.global.TermName" id="694716">name</a>, <a href="#597742" title="Typers.this.global.Tree">tree</a>.<a title="Typers.this.global.Position" id="694717">pos</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#694638" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52126" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(8192)">ALTmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="ContextErrors.scala.html#187933" title="(tree: Typers.this.global.Tree)Unit">VariableInPatternAlternativeError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <a href="#694638" title="Typers.this.global.Symbol">vble</a> = <a href="#187740" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#625613" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#694638" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="694700">body1</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694637" title="Typers.this.global.Tree">body</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#694638" title="Typers.this.global.Symbol">vble</a>.<a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120103" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isSequenceValued</a><span class="delimiter">(</span><a href="#694637" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#45267" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#694700" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#694700" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Bind">Bind</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#694699" title="Typers.this.global.TermName">name</a>, <a href="#694700" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Bind">setSymbol</span> <a href="#694638" title="Typers.this.global.Symbol">vble</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Bind">setType</span> <a href="#694700" title="Typers.this.global.Tree">body1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>   // burak, was: pt
        <span class="delimiter">}</span>
        <a href="#694636" title="Typers.this.global.Name">name</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="694753">x</a>: <a href="../../../reflect/internal/Names.scala.html#38410" title="Typers.this.global.TypeName">TypeName</a>  =&gt; <a href="#694639" title="(name: Typers.this.global.TypeName)Typers.this.global.Tree">typedBindType</a><span class="delimiter">(</span><a href="#694753" title="Typers.this.global.TypeName">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Bind" id="694754">x</a>: <a href="../../../reflect/internal/Names.scala.html#38409" title="Typers.this.global.TermName">TermName</a>  =&gt; <a href="#694640" title="(name: Typers.this.global.TermName)Typers.this.global.Bind">typedBindTerm</a><span class="delimiter">(</span><a href="#694754" title="Typers.this.global.TermName">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue" id="694482">typedArrayValue</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694755">elemtpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="694756">elems</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="694757">elemtpt1</a> = <a href="#187867" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#694755" title="Typers.this.global.Tree">elemtpt</a>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="694758">elems1</a> = <a href="#694756" title="List[Typers.this.global.Tree]">elems</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694769">elem</a> =&gt; <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694769" title="Typers.this.global.Tree">elem</a>, <a href="#597743" title="Int">mode</a>, <a href="#694757" title="Typers.this.global.Tree">elemtpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, elemtpt: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">ArrayValue</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#694757" title="Typers.this.global.Tree">elemtpt1</a>, <a href="#694758" title="List[Typers.this.global.Tree]">elems1</a><span class="delimiter">)</span>
          .<span title="(tp: Typers.this.global.Type)Typers.this.global.ArrayValue">setType</span><span class="delimiter">(</span>
            <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#187477" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#597744" title="Typers.this.global.Type">pt</a>
             <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45152" title="=&gt; Typers.this.global.Symbol">ArrayClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46625" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#694757" title="Typers.this.global.Tree">elemtpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41530" title="=&gt; Typers.this.global.Type">notNull</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree" id="694483">typedAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694788">lhs</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="694789">rhs</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="694790">lhs1</a>    = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694788" title="Typers.this.global.Tree">lhs</a>, EXPRmode <span title="Int(1025)">|</span> LHSmode, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="694791">varsym</a>  = <a href="#694790" title="Typers.this.global.Tree">lhs1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>

        // see #2494 for double error message example
        <span class="keyword">def</span> <a title="()Typers.this.global.Tree" id="694792">fail</a><span class="delimiter">(</span><span class="delimiter">)</span> =
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">lhs1</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <a href="#694790" title="Typers.this.global.Tree">lhs1</a>
          <span class="keyword">else</span> <a href="ContextErrors.scala.html#187922" title="(tree: Typers.this.global.Tree, varSym: Typers.this.global.Symbol)Typers.this.global.Tree">AssignmentError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#694791" title="Typers.this.global.Symbol">varsym</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#694791" title="Typers.this.global.Symbol">varsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#694792" title="()Typers.this.global.Tree">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120072" title="(sym: Typers.this.global.treeInfo.global.Symbol)Boolean">mayBeVarGetter</a><span class="delimiter">(</span><a href="#694791" title="Typers.this.global.Symbol">varsym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120106" title="(tree: Typers.this.global.treeInfo.global.Tree)Typers.this.global.treeInfo.global.Tree">methPart</a><span class="delimiter">(</span><a href="#694790" title="Typers.this.global.Tree">lhs1</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Nothing">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694815">qual</a>, <a title="Typers.this.global.Name" id="694816">name</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="694817">sel</a> = <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#694815" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59434" title="(name: Typers.this.global.TermName)Typers.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#694816" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52126" title="=&gt; Typers.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#694788" title="Typers.this.global.Tree">lhs</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="694818">app</a> = <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#694817" title="Typers.this.global.Select">sel</a>, <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#694789" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
              <span title="Nothing" class="keyword">return</span> <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694818" title="Typers.this.global.Apply">app</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#694791" title="Typers.this.global.Symbol">varsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46481" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">||</span> <a href="#694791" title="Typers.this.global.Symbol">varsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46480" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="694877">rhs1</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694789" title="Typers.this.global.Tree">rhs</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#694790" title="Typers.this.global.Tree">lhs1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#694790" title="Typers.this.global.Tree">lhs1</a>, <a href="TypeDiagnostics.scala.html#684417" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#694877" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Assign">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#694792" title="()Typers.this.global.Tree">fail</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If" id="694484">typedIf</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694892">cond</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="694893">thenp</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="694894">elsep</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="694895">cond1</a> = <a href="TypeDiagnostics.scala.html#684417" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694892" title="Typers.this.global.Tree">cond</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Definitions.scala.html#45547" title="=&gt; Typers.this.global.Symbol">BooleanClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.If" class="keyword">if</span> <span class="delimiter">(</span><a href="#694894" title="Typers.this.global.Tree">elsep</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> // in the future, should be unnecessary
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="694904">thenp1</a> = <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694893" title="Typers.this.global.Tree">thenp</a>, <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#694895" title="Typers.this.global.Tree">cond1</a>, <a href="#694904" title="Typers.this.global.Tree">thenp1</a>, <a href="#694894" title="Typers.this.global.Tree">elsep</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</span> <a href="#694904" title="Typers.this.global.Tree">thenp1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="694916">thenp1</a> = <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694893" title="Typers.this.global.Tree">thenp</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="694917">elsep1</a> = <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694894" title="Typers.this.global.Tree">elsep</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#694919" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#694918" title="Typers.this.global.Type" id="694919">owntype</a>, <a href="#694918" title="Boolean" id="694920">needAdapt</a><span class="delimiter">)</span> = <a href="#694478" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#694916" title="Typers.this.global.Tree">thenp1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#694917" title="Typers.this.global.Tree">elsep1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#694920" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span> //isNumericValueType(owntype)) {
            <a href="#694916" title="Typers.this.global.Tree">thenp1</a> = <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#694916" title="Typers.this.global.Tree">thenp1</a>, <a href="#597743" title="Int">mode</a>, <a href="#694919" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#694917" title="Typers.this.global.Tree">elsep1</a> = <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#694917" title="Typers.this.global.Tree">elsep1</a>, <a href="#597743" title="Int">mode</a>, <a href="#694919" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#694895" title="Typers.this.global.Tree">cond1</a>, <a href="#694916" title="Typers.this.global.Tree">thenp1</a>, <a href="#694917" title="Typers.this.global.Tree">elsep1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</span> <a href="#694919" title="Typers.this.global.Type">owntype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Tree" id="694485">typedMatch</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694946">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="694947">selector</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.CaseDef]" id="694948">cases</a>: <span title="List[Typers.this.global.CaseDef]">List</span><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#694947" title="Typers.this.global.Tree">selector</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="694953">arity</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45264" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#597744" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(1)" class="int">1</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="694954">params</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="695004">i</a> &lt;- <span title="object List">List</span>.<span title="(start: Int, end: Int)(implicit evidence$1: Integral[Int])List[Int]">range</span><span title="(f: Int =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]" class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#694953" title="Int">arity</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
            <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ValDef)Typers.this.global.ValDef">atPos</a><span class="delimiter">(</span><a href="#694946" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187146" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="Analyzer.scala.html#187273" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39355" title="(flags: Long)Typers.this.global.Modifiers">Modifiers</a><span class="delimiter">(</span>PARAM <span title="Long(2105344L)">|</span> SYNTHETIC<span class="delimiter">)</span>,
                     <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188695" title="(prefix: String)Typers.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="String(&quot;x&quot;)" class="string">&quot;x&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#695004" title="Int">i</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#187273" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Ident]" id="694955">ids</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="695091">p</a> &lt;- <a href="#694954" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Ident,List[Typers.this.global.Ident]])List[Typers.this.global.Ident]">params</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="Analyzer.scala.html#187273" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#695091" title="Typers.this.global.ValDef">p</a>.<span title="=&gt; Typers.this.global.TermName">name</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="694956">selector1</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#694946" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187146" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#694953" title="Int">arity</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#694955" title="List[Typers.this.global.Ident]">ids</a>.<span title="=&gt; Typers.this.global.Ident">head</span> <span class="keyword">else</span> <a href="../Global.scala.html#186149" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92369" title="(elems: List[Typers.this.global.gen.global.Tree])Typers.this.global.gen.global.Tree">mkTuple</a><span class="delimiter">(</span><a href="#694955" title="List[Typers.this.global.Ident]">ids</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Match" id="694957">body</a> = <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</span><span class="delimiter">(</span><a href="#694946" title="Typers.this.global.Tree">tree</a>, <a href="#694956" title="Typers.this.global.gen.global.Tree">selector1</a>, <a href="#694948" title="List[Typers.this.global.CaseDef]">cases</a><span class="delimiter">)</span>
          <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Function)Typers.this.global.Function">atPos</a><span class="delimiter">(</span><a href="#694946" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="Analyzer.scala.html#187273" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="#694954" title="List[Typers.this.global.ValDef]">params</a>, <a href="#694957" title="Typers.this.global.Match">body</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="695153">selector1</a> = <a href="TypeDiagnostics.scala.html#684417" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694947" title="Typers.this.global.Tree">selector</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="695154">cases1</a> = <a href="#187824" title="(cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#694948" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#187846" title="(tpe: Typers.this.global.Type)Typers.this.global.Type">packCaptured</a><span class="delimiter">(</span><a href="#695153" title="Typers.this.global.Tree">selector1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Typers.this.global.Type">widen</a><span class="delimiter">)</span>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#186204" title="object Typers.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#233001" title="=&gt; Boolean">virtPatmat</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="#695165" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#695164" title="Typers.this.global.Type" id="695165">owntype</a>, <a href="#695164" title="Boolean" id="695166">needAdapt</a><span class="delimiter">)</span> = <a href="#694478" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#695154" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#695190" title="Typers.this.global.CaseDef">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#695166" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#695154" title="List[Typers.this.global.CaseDef]">cases1</a> = <a href="#695154" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#694499" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#695247" title="Typers.this.global.CaseDef">_</a>, <a href="#695165" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</span><span class="delimiter">(</span><a href="#694946" title="Typers.this.global.Tree">tree</a>, <a href="#695153" title="Typers.this.global.Tree">selector1</a>, <a href="#695154" title="List[Typers.this.global.CaseDef]">cases1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Match">setType</span> <a href="#695165" title="Typers.this.global.Type">owntype</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> // don't run translator after typers (see comments in PatMatVirtualiser)
            <span class="keyword">val</span> <a href="#695292" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#695291" title="Typers.this.global.Type" id="695292">owntype0</a>, <a href="#695291" title="Boolean" id="695293">needAdapt</a><span class="delimiter">)</span> = <a href="#694478" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#695154" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="695314">x</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#38907" title="(tp: Typers.this.global.Type)Typers.this.global.Type">repackExistential</a><span class="delimiter">(</span><a href="#695314" title="Typers.this.global.CaseDef">x</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="695294">owntype</a> = <a href="../../../reflect/internal/Types.scala.html#39093" title="(t: Typers.this.global.Type)Typers.this.global.Type">elimAnonymousClass</a><span class="delimiter">(</span><a href="#695292" title="Typers.this.global.Type">owntype0</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#695293" title="Boolean">needAdapt</a><span class="delimiter">)</span> <a href="#695154" title="List[Typers.this.global.CaseDef]">cases1</a> = <a href="#695154" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#694499" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#695373" title="Typers.this.global.CaseDef">_</a>, <a href="#695294" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">(</span><a href="PatMatVirtualiser.scala.html#659566" title="(typer: Typers.this.Typer)Typers.this.MatchTranslation">MatchTranslator</a><span class="delimiter">(</span><a href="#187422" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="PatMatVirtualiser.scala.html#659582" title="(scrut: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pt: Typers.this.global.Type)Typers.this.global.Tree">translateMatch</a><span class="delimiter">(</span><a href="#695153" title="Typers.this.global.Tree">selector1</a>, <a href="#695154" title="List[Typers.this.global.CaseDef]">cases1</a>, <a href="#695294" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">Block</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="695413">vd</a> :: <span title="object Nil">Nil</span>, <a title="Typers.this.global.Match" id="695414">tree</a>@Match<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="695417">selector</a>, <a title="List[Typers.this.global.CaseDef]" id="695418">cases</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="695419">selector1</a> = <a href="TypeDiagnostics.scala.html#684417" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#695417" title="Typers.this.global.Tree">selector</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="695420">cases1</a> = <a href="#187824" title="(cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#695418" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#187846" title="(tpe: Typers.this.global.Type)Typers.this.global.Type">packCaptured</a><span class="delimiter">(</span><a href="#695419" title="Typers.this.global.Tree">selector1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Typers.this.global.Type">widen</a><span class="delimiter">)</span>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a href="#695422" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#695421" title="Typers.this.global.Type" id="695422">owntype</a>, <a href="#695421" title="Boolean" id="695423">needAdapt</a><span class="delimiter">)</span> = <a href="#694478" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#695420" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#695452" title="Typers.this.global.CaseDef">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#695423" title="Boolean">needAdapt</a><span class="delimiter">)</span>
                  <a href="#695420" title="List[Typers.this.global.CaseDef]">cases1</a> = <a href="#695420" title="List[Typers.this.global.CaseDef]">cases1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#694499" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#695509" title="Typers.this.global.CaseDef">_</a>, <a href="#695422" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#695413" title="Typers.this.global.Tree">vd</a> <a href="#695551" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <span title="object Nil">Nil</span>, <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</span><span class="delimiter">(</span><a href="#695414" title="Typers.this.global.Match">tree</a>, <a href="#695419" title="Typers.this.global.Tree">selector1</a>, <a href="#695420" title="List[Typers.this.global.CaseDef]">cases1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Match">setType</span> <a href="#695422" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="695565">translated</a> =&gt;
                // TODO: get rid of setType owntype -- it should all typecheck
                // must call typed, not typed1, or we overflow the stack when emitting switches
                <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#695565" title="Typers.this.global.Tree">translated</a>, <a href="#597743" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</span> <a href="#695294" title="Typers.this.global.Type">owntype</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr: Typers.this.global.Tree)Typers.this.global.Tree" id="694486">typedReturn</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="695573">expr</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="695574">enclMethod</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188120" title="=&gt; Typers.this.Context">enclMethod</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#695574" title="Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Contexts.scala.html#187288" title="object Typers.this.NoContext">NoContext</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#695574" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">||</span>
            <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188117" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#188120" title="=&gt; Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#695574" title="Typers.this.Context">enclMethod</a> // i.e., we are in a constructor of a local class
            <span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#187931" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">ReturnOutsideOfDefError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> DefDef<a href="#695586" title="(Typers.this.global.Name, Typers.this.global.Tree)" class="delimiter">(</a>_, <a href="#695585" title="Typers.this.global.Name" id="695586">name</a>, _, _, <a href="#695585" title="Typers.this.global.Tree" id="695587">restpt</a>, _<span class="delimiter">)</span> = <a href="#695574" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#695587" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="ContextErrors.scala.html#187932" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Tree">ReturnWithoutTypeError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#695574" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188120" title="=&gt; Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#188148" title="(x$1: Boolean)Unit">returnsSeen</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="695606">expr1</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#695573" title="Typers.this.global.Tree">expr</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#695587" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
            // Warn about returning a value if no value can be returned.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#695587" title="Typers.this.global.Tree">restpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // The typing in expr1 says expr is Unit (it has already been coerced if
              // it is non-Unit) so we have to retype it.  Fortunately it won't come up much
              // unless the warning is legitimate.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#695573" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
                <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;enclosing method &quot;)" class="string">&quot;enclosing method &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#695586" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; has result type Unit: return value discarded&quot;)" class="string">&quot; has result type Unit: return value discarded&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Return">Return</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#684417" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#695606" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(sym: Typers.this.global.Symbol)Typers.this.global.Return">setSymbol</span> <a href="#695574" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(tp: Typers.this.global.Type)Typers.this.global.Return">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#44996" title="object Typers.this.global.definitions.NothingClass">NothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#69227" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree)Typers.this.global.Tree" id="694487">typedNew</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="695639">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="695640">tpt1</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="695644">tpt0</a> = <a href="#187873" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#695639" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#187748" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Boolean">checkClassType</a><span class="delimiter">(</span><a href="#695644" title="Typers.this.global.Tree">tpt0</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#695644" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Boolean">hasSymbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#695644" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188178" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="../../../reflect/internal/Symbols.scala.html#38745" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#695644" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
              <a href="Analyzer.scala.html#187273" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span><span class="delimiter">(</span><a href="#695644" title="Typers.this.global.Tree">tpt0</a><span class="delimiter">)</span>
                        .<span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#695644" title="Typers.this.global.Tree">tpt0</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#695674" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46607" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> // @PP: tpeHK! #3343, #4018, #4347.
            <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#695644" title="Typers.this.global.Tree">tpt0</a>
          <span class="keyword">else</span> <a href="#695644" title="Typers.this.global.Tree">tpt0</a>
        <span class="delimiter">}</span>

        /** If current tree &lt;tree&gt; appears in &lt;val x(: T)? = &lt;tree&gt;&gt;
         *  return `tp with x.type' else return `tp`.
         */
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="695641">narrowRhs</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="695702">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="695703">sym</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">ValDef</span><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="695710">mods</a>, _, _, Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">`tree`</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#695710" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46780" title="=&gt; Boolean">isMutable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#695703" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#695703" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="695727">sym1</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#695703" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#695703" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#695703" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#695703" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46708" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#695703" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#695703" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46677" title="=&gt; Typers.this.global.Symbol">lazyAccessorOrSelf</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="695728">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#695727" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#695727" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; Typers.this.global.Type">thisType</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#38829" title="object Typers.this.global.NoPrefix">NoPrefix</a>
              <a href="../../../reflect/internal/Types.scala.html#38939" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#695702" title="Typers.this.global.Type">tp</a>, <a href="../../../reflect/internal/Types.scala.html#38930" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#695728" title="Typers.this.global.Type">pre</a>, <a href="#695727" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#695702" title="Typers.this.global.Type">tp</a>
          <span class="delimiter">}</span><span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="695642">tp</a> = <a href="#695640" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="695643">sym</a> = <a href="#695642" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; Typers.this.global.Symbol">initialize</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#695643" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a> <span title="(x: Boolean)Boolean">||</span> <a href="#695643" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46803" title="=&gt; Boolean">hasAbstractFlag</a><span class="delimiter">)</span>
          <a href="ContextErrors.scala.html#187928" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Tree">IsAbstractError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#695643" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span>  <a href="#695642" title="Typers.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#695643" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46665" title="=&gt; Typers.this.global.Symbol">thisSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a> // when there's no explicit self type -- with (#3612) or without self variable
                     // sym.thisSym.tpe == tp.typeOfThis (except for objects)
                  <span title="(x: Boolean)Boolean">||</span> <a href="#695641" title="(tp: Typers.this.global.Type)Typers.this.global.Type">narrowRhs</a><span class="delimiter">(</span><a href="#695642" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#695642" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41510" title="=&gt; Typers.this.global.Type">typeOfThis</a>
                  <span title="(x: Boolean)Boolean">||</span> <a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a>
                  <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#187929" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, tpe0: Typers.this.global.Type)Typers.this.global.Tree">DoesNotConformToSelfTypeError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#695643" title="Typers.this.global.Symbol">sym</a>, <a href="#695642" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41510" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.New">New</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#695640" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>.<span title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</span><span class="delimiter">(</span><a href="#695642" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree" id="694488">typedEta</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="695766">expr1</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#695766" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeRef</span><span class="delimiter">(</span>_, <a href="../../../reflect/internal/Definitions.scala.html#45099" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="695770">expr2</a> = <a href="Analyzer.scala.html#187273" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#695766" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</span> <a href="#695766" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#39391" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#695770" title="Typers.this.global.Function">expr2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#127159" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#695770" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#695770" title="Typers.this.global.Function">expr2</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="695791">restpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="695792">expr2</a> = <a href="Analyzer.scala.html#187273" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span>, <a href="#695766" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</span> <a href="#695766" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#39391" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#695792" title="Typers.this.global.Function">expr2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Trees.scala.html#127159" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#695792" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#695792" title="Typers.this.global.Function">expr2</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span>_, MethodType<span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="695808">formals</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45264" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#695766" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#695766" title="Typers.this.global.Tree">expr1</a>, <a href="#597743" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#45262" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#695808" title="List[Typers.this.global.Symbol]">formals</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="695825">t</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="695855">formals</a>, _<span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45264" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#695766" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#695766" title="Typers.this.global.Tree">expr1</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="695860">qual</a>, <a title="Typers.this.global.Name" id="695861">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186344" title="=&gt; Boolean">forMSIL</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                                        <a href="#597744" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                                        <a href="#597744" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                                        <a href="../../../reflect/internal/Types.scala.html#39061" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a>, <a href="../../../reflect/internal/Definitions.scala.html#45285" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="695872">scalaCaller</a> = <a href="../../../reflect/internal/Definitions.scala.html#45489" title="(delegateType: Typers.this.global.Type)Typers.this.global.Symbol">newScalaCaller</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Definitions.scala.html#45490" title="(scalaCaller: Typers.this.global.Symbol, methSym: Typers.this.global.Symbol)Unit">addScalaCallerInfo</a><span class="delimiter">(</span><a href="#695872" title="Typers.this.global.Symbol">scalaCaller</a>, <a href="#695766" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Name" id="695873">n</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a> = <a href="#695872" title="Typers.this.global.Symbol">scalaCaller</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="695874">del</a> = <a href="Analyzer.scala.html#187273" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45285" title="=&gt; Typers.this.global.Symbol">DelegateClass</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#45285" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="695875">f</a> = <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#695874" title="Typers.this.global.Ident">del</a>, <a href="#695873" title="Typers.this.global.Name">n</a><span class="delimiter">)</span>
              //val f1 = TypeApply(f, List(Ident(pt.symbol) setType pt))
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="695876">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span><span class="delimiter">(</span><a href="#695766" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46545" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <span title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                                     <span class="keyword">else</span> <span title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#695860" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> // where the scala-method is located
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="695877">rhs</a> = <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#695875" title="Typers.this.global.Select">f</a>, <a href="#695876" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#695877" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#695766" title="Typers.this.global.Tree">expr1</a>, <a href="#597743" title="Int">mode</a>, <a href="../../../reflect/internal/Definitions.scala.html#45262" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#695855" title="List[Typers.this.global.Symbol]">formals</a> <span title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="695964">t</a> =&gt; <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38820" title="Typers.this.global.Tree">ErrorType</a> =&gt;
          <a href="#695766" title="Typers.this.global.Tree">expr1</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <a href="ContextErrors.scala.html#187930" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">UnderscoreEtaError</a><span class="delimiter">(</span><a href="#695766" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /**
       *  @param args ...
       *  @return     ...
       */
      <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int)Option[List[Typers.this.global.Tree]]" id="694489">tryTypedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="695993">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="695994">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Option[List[Typers.this.global.Tree]]">Option</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="695995">c</a> = <a href="#187742" title="Typers.this.Context" id="695996">context</a>.<a href="Contexts.scala.html#440743" title="Typers.this.global.Tree" id="695998">makeSilent</a><span class="delimiter">(</span><a title="Boolean(false)" id="695997" class="keyword">false</a><span class="delimiter">)</span>
        <a href="#695995" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#188163" title="(x$1: Boolean)Unit">retyping</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="695999">res</a> = <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#695995" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#187831" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#695993" title="List[Typers.this.global.Tree]">args</a>, <a href="#695994" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Option[List[Typers.this.global.Tree]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#695995" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <span title="object None">None</span> <span class="keyword">else</span> <span title="(x: List[Typers.this.global.Tree])Some[List[Typers.this.global.Tree]]">Some</span><span class="delimiter">(</span><a href="#695999" title="List[Typers.this.global.Tree]">res</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="696005">ex</a>: <a href="../../../reflect/internal/Symbols.scala.html#38758" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt;
            <span title="Nothing" class="keyword">throw</span> <a href="#696005" title="Typers.this.global.CyclicReference">ex</a>
          <span class="keyword">case</span> <a title="None.type" id="696006">te</a>: <a href="../../../reflect/internal/Types.scala.html#39126" title="Typers.this.global.TypeError">TypeError</a> =&gt;
            // @H some of typer erros can still leak,
            // for instance in continuations
            <span title="object None">None</span>
        <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
          <a href="#695995" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#188195" title="()Unit">flushBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Try to apply function to arguments; if it does not work, try to convert Java raw to existentials, or try to
       *  insert an implicit conversion.
       */
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="694490">tryTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696007">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="696008">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="696009">start</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187205" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(typeError: Typers.this.AbsTypeError)Typers.this.global.Tree" id="696010">onError</a><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="696011">typeError</a>: <a href="ContextErrors.scala.html#187672" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
            <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187205" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#696009" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>

            // If the problem is with raw types, copnvert to existentials and try again.
            // See #4712 for a case where this situation arises,
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#696007" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#696007" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="696015">newtpe</a> = <a href="../../../reflect/internal/Types.scala.html#74770" title="(tp: Typers.this.global.Type)Typers.this.global.Type">rawToExistential</a><span class="delimiter">(</span><a href="#696007" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#696007" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#696015" title="Typers.this.global.Type">newtpe</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                // println(&quot;late cooking: &quot;+fun+&quot;:&quot;+fun.tpe) // DEBUG
                <span title="Nothing" class="keyword">return</span> <a href="#694490" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#696007" title="Typers.this.global.Tree">fun</a> <span title="(tp: Typers.this.global.Type)fun.type">setType</span> <a href="#696015" title="Typers.this.global.Type">newtpe</a>, <a href="#696008" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="696012">treesInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696030">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#696030" title="Typers.this.global.Tree">tree</a> <a href="#696031" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <span class="delimiter">(</span><a href="#696030" title="Typers.this.global.Tree">tree</a> <span title="List[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="696036">r</a><span class="delimiter">)</span>                        =&gt; <a href="#696012" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#696036" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.CaseDef]">Match</span><span class="delimiter">(</span>_, <a title="List[Typers.this.global.CaseDef]" id="696039">cases</a><span class="delimiter">)</span>                    =&gt; <a href="#696039" title="List[Typers.this.global.CaseDef]">cases</a>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">CaseDef</span><span class="delimiter">(</span>_, _, <a title="Typers.this.global.Tree" id="696047">r</a><span class="delimiter">)</span>                   =&gt; <a href="#696012" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#696047" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Annotated</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="696050">r</a><span class="delimiter">)</span>                    =&gt; <a href="#696012" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#696050" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">If</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="696054">t</a>, <a title="Typers.this.global.Tree" id="696055">e</a><span class="delimiter">)</span>                        =&gt; <a href="#696012" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#696054" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</span> <a href="#696012" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#696055" title="Typers.this.global.Tree">e</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Try</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696118">b</a>, <a title="List[Typers.this.global.CaseDef]" id="696119">catches</a>, _<span class="delimiter">)</span>                 =&gt; <a href="#696012" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#696118" title="Typers.this.global.Tree">b</a><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</span> <a href="#696119" title="List[Typers.this.global.CaseDef]">catches</a>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696181">r</a>, Function<span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#696012" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#696181" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                                  =&gt; <span title="object Nil">Nil</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="696013">errorInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696189">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#696012" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#696189" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#696198" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Position">pos</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#696011" title="Typers.this.AbsTypeError">typeError</a>.<a href="ContextErrors.scala.html#626309" title="=&gt; Typers.this.global.Position">errPos</a><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="Boolean" id="696014">retry</a> = <span class="delimiter">(</span><a href="#696011" title="Typers.this.AbsTypeError">typeError</a>.<a href="ContextErrors.scala.html#626309" title="=&gt; Typers.this.global.Position">errPos</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#696007" title="Typers.this.global.Tree">fun</a> <a href="#696209" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#597742" title="Typers.this.global.Tree">tree</a> <a href="#696210" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#696008" title="List[Typers.this.global.Tree]">args</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#696013" title="(tree: Typers.this.global.Tree)Boolean">errorInResult</a><span class="delimiter">)</span>
            <a href="#187853" title="(s: =&gt; String)Unit">printTyping</a> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="String" id="696230">funStr</a> = <a href="../../../reflect/internal/TypeDebugging.scala.html#75262" title="(t: Typers.this.global.Tree)String">ptTree</a><span class="delimiter">(</span><a href="#696007" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#696008" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],String,List[String]])List[String]">map</span> <a href="../../../reflect/internal/TypeDebugging.scala.html#75262" title="(t: Typers.this.global.Tree)String">ptTree</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#696014" title="Boolean">retry</a><span class="delimiter">)</span> <span title="String(&quot;second try: &quot;)" class="string">&quot;second try: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#696230" title="String">funStr</a>
              <span class="keyword">else</span> <span title="String(&quot;no second try: &quot;)" class="string">&quot;no second try: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#696230" title="String">funStr</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; because error not in result: &quot;)" class="string">&quot; because error not in result: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#696011" title="Typers.this.AbsTypeError">typeError</a>.<a href="ContextErrors.scala.html#626309" title="=&gt; Typers.this.global.Position">errPos</a><span title="(x$1: Any)String">+</span><span title="String(&quot;!=&quot;)" class="string">&quot;!=&quot;</span><span title="(x$1: Any)String">+</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#696014" title="Boolean">retry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> Select<a href="#696280" title="(Typers.this.global.Tree, Typers.this.global.Name)" class="delimiter">(</a><a href="#696279" title="Typers.this.global.Tree" id="696280">qual</a>, <a href="#696279" title="Typers.this.global.Name" id="696281">name</a><span class="delimiter">)</span> = <a href="#696007" title="Typers.this.global.Tree">fun</a>
              <a href="#694489" title="(args: List[Typers.this.global.Tree], mode: Int)Option[List[Typers.this.global.Tree]]">tryTypedArgs</a><span class="delimiter">(</span><a href="#696008" title="List[Typers.this.global.Tree]">args</a>, <a href="#187400" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#696007" title="Typers.this.global.Tree">fun</a>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="696295">args1</a><span class="delimiter">)</span> =&gt;
                  <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#696295" title="List[Typers.this.global.Tree]">args1</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#696295" title="List[Typers.this.global.Tree]">args1</a>.<span title="=&gt; Typers.this.global.Tree">head</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a>, <span title="String(&quot;try typed args is ok&quot;)" class="string">&quot;try typed args is ok&quot;</span><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="696296">qual1</a> =
                    <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#597744" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41498" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <a href="#187797" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#696280" title="Typers.this.global.Tree">qual</a>, <a href="#696281" title="Typers.this.global.Name">name</a>, <a href="#696295" title="List[Typers.this.global.Tree]">args1</a>, <a href="#597744" title="Typers.this.global.Type">pt</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="#696280" title="Typers.this.global.Tree">qual</a>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#696296" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#696280" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="696305">tree1</a> = <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#696296" title="Typers.this.global.Tree">qual1</a>, <a href="#696281" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#696007" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#696295" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#696305" title="Typers.this.global.Apply">tree1</a>, <a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(512)">SNDTRYmode</span>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="Infer.scala.html#188004" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#696011" title="Typers.this.AbsTypeError">typeError</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696007" title="Typers.this.global.Tree">fun</a>, <a href="#696008" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#187787" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span class="delimiter">(</span><a href="#696360" title="Typers.this.Typer">_</a>.<a href="#187836" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696007" title="Typers.this.global.Tree">fun</a>, <a href="#696008" title="List[Typers.this.global.Tree]">args</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentResultValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696367">t</a><span class="delimiter">)</span> =&gt;
            <a href="#696367" title="Typers.this.global.Tree">t</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentTypeError</span><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="696368">err</a><span class="delimiter">)</span> =&gt;
            <a href="#696010" title="(typeError: Typers.this.AbsTypeError)Typers.this.global.Tree">onError</a><span class="delimiter">(</span><a href="#696368" title="Typers.this.AbsTypeError">err</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="694491">typedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696369">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="696370">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="696371">stableApplication</a> = <span class="delimiter">(</span><a href="#696369" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#696369" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#696369" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46534" title="=&gt; Boolean">isStable</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#696371" title="Boolean">stableApplication</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#694477" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          // treat stable function applications f() as expressions.
          <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(2)">PATTERNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(1)">EXPRmode</span>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="696380">funpt</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#694477" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="#597744" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="696381">appStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187205" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="696382">opeqStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187207" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(reportError: =&gt; Typers.this.global.Tree)Typers.this.global.Tree" id="696383">onError</a><span class="delimiter">(</span><a title="=&gt; Typers.this.global.Tree" id="696384">reportError</a>: =&gt; Tree<span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
              <a href="#696369" title="Typers.this.global.Tree">fun</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696389">qual</a>, <a title="Typers.this.global.Name" id="696390">name</a><span class="delimiter">)</span>
                <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#694477" title="=&gt; Boolean">isPatternMode</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59426" title="(name: Typers.this.global.Name)Boolean">isOpAssignmentName</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#38394" title="(s: String)Typers.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#696390" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52171" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="696396">qual1</a> = <a href="#187864" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#696389" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
                  <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120073" title="(tree: Typers.this.global.treeInfo.global.Tree)Boolean">isVariableOrGetter</a><span class="delimiter">(</span><a href="#696396" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187207" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a>, <a href="#696382" title="scala.tools.nsc.util.Statistics.LongPair">opeqStart</a><span class="delimiter">)</span>
                    <a href="#694492" title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree])Typers.this.global.Tree">convertToAssignment</a><span class="delimiter">(</span><a href="#696369" title="Typers.this.global.Tree">fun</a>, <a href="#696396" title="Typers.this.global.Tree">qual1</a>, <a href="#696390" title="Typers.this.global.Name">name</a>, <a href="#696370" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                    <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187205" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#696381" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                      <a href="#696384" title="=&gt; Typers.this.global.Tree">reportError</a>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
                  <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187205" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#696381" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                  <a href="#696384" title="=&gt; Typers.this.global.Tree">reportError</a>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#187787" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span class="delimiter">(</span><a href="#696411" title="Typers.this.Typer">_</a>.<a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#696369" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#187383" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#597743" title="Int">mode</a><span class="delimiter">)</span>, <a href="#696380" title="Typers.this.global.Type">funpt</a><span class="delimiter">)</span>,
                 <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188187" title="=&gt; Boolean">ambiguousErrors</a>,
                 <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#597742" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentResultValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696436">fun1</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="696437">fun2</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#696371" title="Boolean">stableApplication</a><span class="delimiter">)</span> <a href="#187785" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilizeFun</a><span class="delimiter">(</span><a href="#696436" title="Typers.this.global.Tree">fun1</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#696436" title="Typers.this.global.Tree">fun1</a>
              <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187195" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedApplyCount</a><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="696438">isImplicitMethod</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="696443">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#696443" title="Typers.this.global.Type">tpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Boolean" id="696444">mt</a>: <a href="../../../reflect/internal/Types.scala.html#38881" title="Typers.this.global.MethodType">MethodType</a> =&gt; <a href="#696444" title="Typers.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#62357" title="=&gt; Boolean">isImplicit</a>
                <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="Boolean" id="696439">useTry</a> = <span class="delimiter">(</span>
                   <span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a>
                <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#696437" title="Typers.this.global.Tree">fun2</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Select">Select</span><span class="delimiter">]</span>
                <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#696438" title="(tpe: Typers.this.global.Type)Boolean">isImplicitMethod</a><span class="delimiter">(</span><a href="#696437" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
                <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#696437" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#696437" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
                <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>EXPRmode <span title="Int(513)">|</span> SNDTRYmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">EXPRmode</span>
              <span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="696440">res</a> =
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#696439" title="Boolean">useTry</a><span class="delimiter">)</span> <a href="#694490" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#696437" title="Typers.this.global.Tree">fun2</a>, <a href="#696370" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#187836" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696437" title="Typers.this.global.Tree">fun2</a>, <a href="#696370" title="List[Typers.this.global.Tree]">args</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

            /*
              if (fun2.hasSymbol &amp;&amp; fun2.symbol.isConstructor &amp;&amp; (mode &amp; EXPRmode) != 0) {
                res.tpe = res.tpe.notNull
              }
              */
              // TODO: In theory we should be able to call:
              //if (fun2.hasSymbol &amp;&amp; fun2.symbol.name == nme.apply &amp;&amp; fun2.symbol.owner == ArrayClass) {
              // But this causes cyclic reference for Array class in Cleanup. It is easy to overcome this
              // by calling ArrayClass.info here (or some other place before specialize).
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#696437" title="Typers.this.global.Tree">fun2</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45154" title="=&gt; Typers.this.global.Symbol">Array_apply</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">res</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="696465">checked</a> = <a href="../Global.scala.html#186149" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239078" title="(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="#696440" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span>
                // this check is needed to avoid infinite recursion in Duplicators
                // (calling typed1 more than once for the same tree)
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#696465" title="Typers.this.global.gen.global.Tree">checked</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#696440" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span> <a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span> <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#696465" title="Typers.this.global.gen.global.Tree">checked</a><span class="delimiter">)</span> <span class="delimiter">}</span>
                <span class="keyword">else</span> <a href="#696440" title="Typers.this.global.Tree">res</a>
              <span class="delimiter">}</span> <span class="keyword">else</span>
                <a href="#696440" title="Typers.this.global.Tree">res</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentTypeError</span><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="696477">err</a><span class="delimiter">)</span> =&gt;
              <a href="#696383" title="(reportError: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">onError</a><span class="delimiter">(</span><span class="delimiter">{</span><a href="Infer.scala.html#188004" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#696477" title="Typers.this.AbsTypeError">err</a><span class="delimiter">)</span>; <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="694492">convertToAssignment</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696402">fun</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Tree" id="696403">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="696404">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="696405">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="name.ThisNameType" id="696481">prefix</a> = <a href="#696404" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52130" title="(from: Int, to: Int)name.ThisNameType">subName</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#696404" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52120" title="=&gt; Int">length</a> <span title="(x: Int)Int">-</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58682" title="=&gt; Typers.this.global.TermName">EQL</a>.<a href="../../../reflect/internal/Names.scala.html#52120" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(vble: Typers.this.global.Tree)Typers.this.global.Tree" id="696482">mkAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696489">vble</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
          <a href="Analyzer.scala.html#187273" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span>
            <a href="#696489" title="Typers.this.global.Tree">vble</a>,
            <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
              <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#696489" title="Typers.this.global.Tree">vble</a>.<span title="=&gt; vble.type">duplicate</span>, <a href="#696481" title="name.ThisNameType">prefix</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#696402" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#696405" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187133" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>
          <span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Assign">setPos</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>

        <span class="keyword">def</span> <a title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree" id="696483">mkUpdate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696540">table</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="696541">indices</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#186149" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239109" title="(exprs: List[Typers.this.global.gen.global.Tree], owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: List[() =&gt; Typers.this.global.gen.global.Tree] =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnceAll</a><span class="delimiter">(</span><a href="#696540" title="Typers.this.global.Tree">table</a> <a href="#696546" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#696541" title="List[Typers.this.global.Tree]">indices</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="696553">ts</a> =&gt;
            <span class="keyword">val</span> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="696554">tab</a> = <a href="#696553" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<span title="=&gt; () =&gt; Typers.this.global.gen.global.Tree">head</span>
            <span class="keyword">val</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="696555">is</a> = <a href="#696553" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<span title="=&gt; List[() =&gt; Typers.this.global.gen.global.Tree]">tail</span>
            <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
               <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#696554" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59284" title="=&gt; Typers.this.global.nme.NameType">update</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#696540" title="Typers.this.global.Tree">table</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
               <span class="delimiter">(</span><span class="delimiter">(</span><a href="#696555" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <span title="(f: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.gen.global.Tree]])List[Typers.this.global.gen.global.Tree]">map</span> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="696603">i</a> =&gt; <a href="#696603" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#696586" title="(prefix: List[Typers.this.global.gen.global.Tree])List[Typers.this.global.gen.global.Tree]">:::</a> <span title="(xs: Typers.this.global.Apply*)List[Typers.this.global.Apply]">List</span><span class="delimiter">(</span>
                 <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                   <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span>
                     <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                       <a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#696554" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#696540" title="Typers.this.global.Tree">table</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                       <a href="#696555" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <span title="(f: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.gen.global.Tree]])List[Typers.this.global.gen.global.Tree]">map</span> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="696701">i</a> =&gt; <a href="#696701" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#696403" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                     <a href="#696481" title="name.ThisNameType">prefix</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#696402" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                   <a href="#696405" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
               <span class="delimiter">)</span>
             <span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>
           <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="696484">tree1</a> = <a href="#696403" title="Typers.this.global.Tree">qual</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#696482" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="#696403" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696782">qualqual</a>, <a title="Typers.this.global.Name" id="696783">vname</a><span class="delimiter">)</span> =&gt;
            <a href="../Global.scala.html#186149" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239108" title="(expr: Typers.this.global.gen.global.Tree, owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span><a href="#696782" title="Typers.this.global.Tree">qualqual</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="696789">qq</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="696790">qq1</a> = <a href="#696789" title="()Typers.this.global.gen.global.Tree">qq</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#696482" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#696790" title="Typers.this.global.gen.global.Tree">qq1</a>, <a href="#696783" title="Typers.this.global.Name">vname</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#696403" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696817">fn</a>, <a title="List[Typers.this.global.Tree]" id="696818">indices</a><span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#186424" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../../../reflect/internal/TreeInfo.scala.html#120106" title="(tree: Typers.this.global.treeInfo.global.Tree)Typers.this.global.treeInfo.global.Tree">methPart</a><span class="delimiter">(</span><a href="#696817" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696823">table</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> =&gt; <a href="#696483" title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree">mkUpdate</a><span class="delimiter">(</span><a href="#696823" title="Typers.this.global.Tree">table</a>, <a href="#696818" title="List[Typers.this.global.Tree]">indices</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span>                        =&gt; <a href="ContextErrors.scala.html#187923" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">UnexpectedTreeAssignmentConversionError</a><span class="delimiter">(</span><a href="#696403" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#696484" title="Typers.this.global.Tree">tree1</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super" id="694493">typedSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696825">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.TypeName" id="696826">mix</a>: <a href="../../../reflect/internal/Names.scala.html#38410" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="696827">qual1</a> = <a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#696825" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="696828">clazz</a> = <a href="#696827" title="Typers.this.global.Tree">qual1</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#696827" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">_</span> =&gt; <a href="#696827" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span class="delimiter">}</span>
        //println(clazz+&quot;/&quot;+qual1.tpe.typeSymbol+&quot;/&quot;+qual1)

        <span class="keyword">def</span> <a title="(site: Typers.this.global.Type)Typers.this.global.Type" id="696829">findMixinSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="696839">site</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="696840">ps</a> = <a href="#696839" title="Typers.this.global.Type">site</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</span> <span class="delimiter">(</span><a href="#696846" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#696826" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#696840" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
            <a href="#696840" title="List[Typers.this.global.Type]">ps</a> = <a href="#696839" title="Typers.this.global.Type">site</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</span> <span class="delimiter">(</span><a href="#696859" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46697" title="=&gt; Typers.this.global.Symbol">toInterface</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#696826" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#696840" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#696839" title="Typers.this.global.Type">site</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Typers.this.global.Type]">parents</a> <span title="(f: Typers.this.global.Type =&gt; Typers.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Name,Any])Any">map</span> <span class="delimiter">(</span><a href="#696892" title="Typers.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>//debug
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188117" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46459" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // println(qual1)
              // println(clazz)
              // println(site)
              // println(site.parents)
              // println(mix)
              // the reference to super class got lost during erasure
              <a href="TypeDiagnostics.scala.html#187632" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <span title="String(&quot;traits may not select fields or methods from super[C] where C is a class&quot;)" class="string">&quot;traits may not select fields or methods from super[C] where C is a class&quot;</span><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="ContextErrors.scala.html#187925" title="(tree: Typers.this.global.Tree, mix: Typers.this.global.Name, clazz: Typers.this.global.Symbol)Unit">MixinMissingParentClassNameError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696826" title="Typers.this.global.TypeName">mix</a>, <a href="#696828" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#696840" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; List[Typers.this.global.Type]">tail</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="ContextErrors.scala.html#187926" title="(tree: Typers.this.global.Tree)Unit">AmbiguousParentClassError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#696840" title="List[Typers.this.global.Type]">ps</a>.<span title="=&gt; Typers.this.global.Type">head</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="696830">owntype</a> =
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#696826" title="Typers.this.global.TypeName">mix</a>.<a href="../../../reflect/internal/Names.scala.html#52121" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(256)">SUPERCONSTRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#696828" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a> // can happen due to cyclic references ==&gt; #1036
              <span class="keyword">else</span> <a href="#696828" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Typers.this.global.Type]">parents</a>.<span title="=&gt; Typers.this.global.Type">head</span>
            <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#38939" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#696828" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[Typers.this.global.Type]">parents</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#696829" title="(site: Typers.this.global.Type)Typers.this.global.Type">findMixinSuper</a><span class="delimiter">(</span><a href="#696828" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">Super</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696827" title="Typers.this.global.Tree">qual1</a>, <a href="#696826" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Super">setType</span> <a href="../../../reflect/internal/Types.scala.html#83407" title="(thistp: Typers.this.global.Type, supertp: Typers.this.global.Type)Typers.this.global.Type">SuperType</a><span class="delimiter">(</span><a href="#696828" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; Typers.this.global.Type">thisType</a>, <a href="#696830" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Name)Typers.this.global.Tree" id="694494">typedThis</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="696957">qual</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Option[Typers.this.global.Symbol]" id="696958">qualifyingClassSym</a> = <span title="Option[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Typers.this.global.Symbol)Some[Typers.this.global.Symbol]">Some</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#187758" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Option[Typers.this.global.Symbol]">qualifyingClass</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696957" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span>
        <a href="#696958" title="Option[Typers.this.global.Symbol]">qualifyingClassSym</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="696970">clazz</a><span class="delimiter">)</span> =&gt;
            <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#696970" title="Typers.this.global.Symbol">clazz</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#696970" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; Typers.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#41507" title="=&gt; Typers.this.global.Type">underlying</a>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#187780" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#696970" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; Typers.this.global.Type">thisType</a>
            <a href="#597742" title="Typers.this.global.Tree">tree</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">None</span> =&gt; <a href="#597742" title="Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Attribute a selection where &lt;code&gt;tree&lt;/code&gt; is &lt;code&gt;qual.name&lt;/code&gt;.
       *  &lt;code&gt;qual&lt;/code&gt; is already attributed.
       *
       *  @param qual ...
       *  @param name ...
       *  @return     ...
       */
      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="694495">typedSelect</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="696980">qual</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Name" id="696981">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="696982">sym</a> =
          <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><span title="Typers.this.global.Super">Super</span><span class="delimiter">]</span><span class="delimiter">)</span>
              <a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span> // todo: replace by settings.check.value?
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="696994">alts</a> = <a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46653" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#696994" title="List[Typers.this.global.Symbol]">alts</a> <span title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="697006">alt</a> =&gt;
                <a href="#697006" title="Typers.this.global.Symbol">alt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x: Boolean)Boolean">||</span> <a href="#697006" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#697006" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41577" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;symbol &quot;)" class="string">&quot;symbol &quot;</span><span title="(x$1: Any)String">+</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span title="(x$1: Any)String">+</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46744" title="=&gt; String">locationString</a><span title="(x$1: Any)String">+</span><span title="String(&quot; not in &quot;)" class="string">&quot; not in &quot;</span><span title="(x$1: Any)String">+</span><a href="#696994" title="List[Typers.this.global.Symbol]">alts</a><span title="(x$1: Any)String">+</span><span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)String">+</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;\n members = &quot;)" class="string">&quot;\n members = &quot;</span><span title="(x$1: Any)String">+</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41540" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;\n type history = &quot;)" class="string">&quot;\n type history = &quot;</span><span title="(x$1: Any)String">+</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41503" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46748" title="=&gt; String">infosString</a><span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;\n phase = &quot;)" class="string">&quot;\n phase = &quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#187786" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#696980" title="Typers.this.global.Tree">qual</a>, <a href="#696981" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#696982" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#696981" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="697032">qual1</a> =
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#187786" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#696980" title="Typers.this.global.Tree">qual</a>, <a href="#696981" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#696980" title="Typers.this.global.Tree">qual</a>
            <span class="keyword">else</span> <a href="#187798" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696980" title="Typers.this.global.Tree">qual</a>, <a href="#696981" title="Typers.this.global.Name">name</a>, <a href="#597743" title="Int">mode</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697032" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#696980" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#697032" title="Typers.this.global.Tree">qual1</a>, <a href="#696981" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187778" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#696982" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46689" title="=&gt; Typers.this.global.Symbol">enclosingTopLevelClass</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#696981" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52125" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="TreeGen extends Typers.this.global.gen.global.Tree with Serializable" id="697044">tree1</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree with Serializable)Typers.this.global.gen.global.Tree with Serializable">atPos</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../Global.scala.html#186149" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239106" title="(qual: Typers.this.global.gen.global.Tree, origName: Typers.this.global.gen.global.Name)Typers.this.global.gen.global.Tree with Serializable">convertToSelectFromType</a><span class="delimiter">(</span><a href="#696980" title="Typers.this.global.Tree">qual</a>, <a href="#696981" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>  <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697044" title="TreeGen extends Typers.this.global.gen.global.Tree with Serializable">tree1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#697044" title="TreeGen extends Typers.this.global.gen.global.Tree with Serializable">tree1</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          // try to expand according to Dynamic rules.

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186740" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xexperimental</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#46649" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#45031" title="=&gt; Typers.this.global.Symbol">DynamicClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.Apply" id="697064">dynInvoke</a> = <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#696980" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59072" title="=&gt; Typers.this.global.nme.NameType">applyDynamic</a><span class="delimiter">)</span>, <span title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#696981" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52171" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="697113">tree1</a>, <a title="List[Typers.this.global.Tree]" id="697114">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#697113" title="Typers.this.global.Tree">tree1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#597742" title="Typers.this.global.Tree">tree</a> =&gt;
                ;
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <a href="#697064" title="Typers.this.global.Apply">dynInvoke</a> = <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#697064" title="Typers.this.global.Apply">dynInvoke</a>, List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="Nothing" class="keyword">return</span> <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span>util.<a href="../util/SimpleTracer.scala.html#186534" title="(msg: String)(value: Typers.this.global.Apply)Typers.this.global.Apply">trace</a><span class="delimiter">(</span><span title="String(&quot;dynatype: &quot;)" class="string">&quot;dynatype: &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#697064" title="Typers.this.global.Apply">dynInvoke</a><span class="delimiter">)</span>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
              <span title="String(&quot;qual = &quot;)" class="string">&quot;qual = &quot;</span><span title="(x$1: Any)String">+</span><a href="#696980" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span title="(x$1: Any)String">+</span>
              <span title="String(&quot;\nSymbol=&quot;)" class="string">&quot;\nSymbol=&quot;</span><span title="(x$1: Any)String">+</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41503" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\nsymbol-info = &quot;)" class="string">&quot;\nsymbol-info = &quot;</span><span title="(x$1: Any)String">+</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41503" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a><span title="(x$1: Any)String">+</span>
              <span title="String(&quot;\nscope-id = &quot;)" class="string">&quot;\nscope-id = &quot;</span><span title="(x$1: Any)String">+</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41503" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Typers.this.global.Scope">decls</a>.<span title="()Int">hashCode</span><span class="delimiter">(</span><span class="delimiter">)</span><span title="(x$1: Any)String">+</span><span title="String(&quot;\nmembers = &quot;)" class="string">&quot;\nmembers = &quot;</span><span title="(x$1: Any)String">+</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41540" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)String">+</span>
              <span title="String(&quot;\nname = &quot;)" class="string">&quot;\nname = &quot;</span><span title="(x$1: Any)String">+</span><a href="#696981" title="Typers.this.global.Name">name</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\nfound = &quot;)" class="string">&quot;\nfound = &quot;</span><span title="(x$1: Any)String">+</span><a href="#696982" title="Typers.this.global.Symbol">sym</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\nowner = &quot;)" class="string">&quot;\nowner = &quot;</span><span title="(x$1: Any)String">+</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188117" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.RefTree with Serializable" id="697042">makeInteractiveErrorTree</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers extends Typers.this.global.RefTree with Serializable" id="697140">tree1</a> = <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="Typers extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696980" title="Typers.this.global.Tree">qual</a>, <a href="#696981" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696980" title="Typers.this.global.Tree">qual</a>, <a href="#696981" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">setError</a><span class="delimiter">(</span><a href="#697140" title="Typers extends Typers.this.global.RefTree with Serializable">tree1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#696981" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59369" title="=&gt; Typers.this.global.nme.NameType">ERROR</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#186345" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#697042" title="=&gt; Typers.this.global.RefTree with Serializable">makeInteractiveErrorTree</a>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="697183">lastTry</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35615" title="(owner: Typers.this.global.Symbol, name: Typers.this.global.Name)Typers.this.global.Symbol">missingHook</a><span class="delimiter">(</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#696981" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697183" title="Typers.this.global.Symbol">lastTry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#697183" title="Typers.this.global.Symbol">lastTry</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="ContextErrors.scala.html#187927" title="(sel: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name)Unit">NotAMemberError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696980" title="Typers.this.global.Tree">qual</a>, <a href="#696981" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186345" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <a href="#697042" title="=&gt; Typers.this.global.RefTree with Serializable">makeInteractiveErrorTree</a> <span class="keyword">else</span> <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers extends Typers.this.global.RefTree with Serializable" id="697197">tree1</a> = <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="Typers extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696980" title="Typers.this.global.Tree">qual</a>, <a href="#696981" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696980" title="Typers.this.global.Tree">qual</a>, <a href="#696981" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="#697199" title="(Typers.this.global.Tree, Option[Typers.this.AbsTypeError])" class="delimiter">(</a><a href="#697198" title="Typers.this.global.Tree" id="697199">result</a>, <a href="#697198" title="Option[Typers.this.AbsTypeError]" id="697200">accessibleError</a><span class="delimiter">)</span> = <a href="#187787" title="(op: Typers.this.Typer =&gt; (Typers.this.global.Tree, Typers.this.global.Type), reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[(Typers.this.global.Tree, Typers.this.global.Type)]">silent</a><span class="delimiter">(</span><a href="#697231" title="Typers.this.Typer">_</a>.<a href="#187781" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><span class="delimiter">(</span><a href="#697197" title="Typers extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#696982" title="Typers.this.global.Symbol">sym</a>, <a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#696980" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(Typers.this.global.Tree, Option[Typers.this.AbsTypeError])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.RefTree with Serializable, Some[Typers.this.AbsTypeError])">SilentTypeError</span><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="697237">err</a><span class="delimiter">)</span> =&gt;
              <span title="(Typers.this.global.RefTree with Serializable, Some[Typers.this.AbsTypeError])" class="keyword">if</span> <span class="delimiter">(</span><a href="#697237" title="Typers.this.AbsTypeError">err</a>.<a href="ContextErrors.scala.html#626311" title="=&gt; Typers.this.ErrorKinds.ErrorKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="ContextErrors.scala.html#187669" title="object Typers.this.ErrorKinds">ErrorKinds</a>.<a href="ContextErrors.scala.html#626276" title="=&gt; Typers.this.ErrorKinds.Value">Access</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#187742" title="=&gt; Typers.this.Context">context</a> <a href="Contexts.scala.html#188215" title="(err: Typers.this.AbsTypeError)Unit">issue</a> <a href="#697237" title="Typers.this.AbsTypeError">err</a>
                <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(_1: Typers.this.global.RefTree with Serializable, _2: Some[Typers.this.AbsTypeError])(Typers.this.global.RefTree with Serializable, Some[Typers.this.AbsTypeError])" class="delimiter">(</span><a href="#697197" title="Typers extends Typers.this.global.RefTree with Serializable">tree1</a>, <span title="(x: Typers.this.AbsTypeError)Some[Typers.this.AbsTypeError]">Some</span><span class="delimiter">(</span><a href="#697237" title="Typers.this.AbsTypeError">err</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, None.type)">SilentResultValue</span><span class="delimiter">(</span><a title="(Typers.this.global.Tree, Typers.this.global.Type)" id="697256">treeAndPre</a><span class="delimiter">)</span> =&gt;
              <span title="(_1: Typers.this.global.Tree, _2: None.type)(Typers.this.global.Tree, None.type)" class="delimiter">(</span><a href="#187783" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#697256" title="(Typers.this.global.Tree, Typers.this.global.Type)">treeAndPre</a>.<span title="=&gt; Typers.this.global.Tree">_1</span>, <a href="#697256" title="(Typers.this.global.Tree, Typers.this.global.Type)">treeAndPre</a>.<span title="=&gt; Typers.this.global.Type">_2</span>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="()Boolean" id="697201">isPotentialNullDeference</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><a href="#696982" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../../../reflect/internal/Definitions.scala.html#45074" title="=&gt; Typers.this.global.Symbol">NotNullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41493" title="=&gt; Boolean">isNotNull</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45307" title="=&gt; Typers.this.global.Symbol">Any_isInstanceOf</a>, <a href="../../../reflect/internal/Definitions.scala.html#45309" title="=&gt; Typers.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span> <span title="(elem: Any)Boolean">contains</span> <a href="#697199" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span>  // null.is/as is not a dereference
          <span class="delimiter">}</span>
          // unit is null here sometimes; how are we to know when unit might be null? (See bug #2467.)
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#186943" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnSelectNullable</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#697201" title="()Boolean">isPotentialNullDeference</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;potential null pointer dereference: &quot;)" class="string">&quot;potential null pointer dereference: &quot;</span><span title="(x$1: Any)String">+</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="697202">selection</a> = <a href="#697199" title="Typers.this.global.Tree">result</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            // could checkAccessible (called by makeAccessible) potentially have skipped checking a type application in qual?
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.TypeTree" id="697319">qual</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span>, <a title="Typers.this.global.TypeName" id="697322">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#697319" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Typers.this.global.Type]">typeArgs</a> <span title="=&gt; Boolean">nonEmpty</span> =&gt; // TODO: somehow the new qual is not checked in refchecks
              <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>
                <a href="#697199" title="Typers.this.global.Tree">result</a>,
                <span class="delimiter">(</span><a href="../ast/Trees.scala.html#255568" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="keyword">val</span> <a title="Typers.this.global.Type" id="697326">tp</a> = <a href="#697319" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>; <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="697327">sym</a> = <a href="#697326" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41506" title="=&gt; Typers.this.global.Symbol">typeSymbolDirect</a>
                  // will execute during refchecks -- TODO: make private checkTypeRef in refchecks public and call that one?
                  <a href="Infer.scala.html#188032" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Boolean">checkBounds</a><span class="delimiter">(</span><a href="#697319" title="Typers.this.global.TypeTree">qual</a>, <a href="#697326" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#697327" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#697327" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#697326" title="Typers.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <a href="#697319" title="Typers.this.global.TypeTree">qual</a> // you only get to see the wrapped tree after running this check :-p
                <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</span> <a href="#697319" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTreeWithDeferredRefCheck">setPos</span> <a href="#697319" title="Typers.this.global.TypeTree">qual</a>.<span title="=&gt; Typers.this.global.Position">pos</span>,
                <a href="#697322" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> <span class="keyword">if</span> <a href="#697200" title="Option[Typers.this.AbsTypeError]">accessibleError</a>.<span title="=&gt; Boolean">isDefined</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="697335">qual1</a> = <a href="#187798" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int, reportAmbiguous: Boolean, saveErrors: Boolean)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#696980" title="Typers.this.global.Tree">qual</a>, <a href="#696981" title="Typers.this.global.Name">name</a>, <a href="#597743" title="Int">mode</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">qual1</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#697335" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#696980" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#697335" title="Typers.this.global.Tree">qual1</a>, <a href="#696981" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="Infer.scala.html#188004" title="(err: Typers.this.AbsTypeError)Unit">issue</a><span class="delimiter">(</span><a href="#697200" title="Option[Typers.this.AbsTypeError]">accessibleError</a>.<span title="=&gt; Typers.this.AbsTypeError">get</span><span class="delimiter">)</span>
                <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="#697199" title="Typers.this.global.Tree">result</a>
          <span class="delimiter">}</span>
          // To fully benefit from special casing the return type of
          // getClass, we have to catch it immediately so expressions
          // like x.getClass().newInstance() are typed with the type of x.
          <span class="keyword">val</span> <a title="Boolean" id="697203">isRefinableGetClass</a> = <span class="delimiter">(</span>
            <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">selection</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a>
            <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#697202" title="Typers.this.global.Tree">selection</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58669" title="=&gt; Typers.this.global.TermName">getClass_</a>
            <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#697202" title="Typers.this.global.Tree">selection</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41526" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<span title="=&gt; Boolean">isEmpty</span>
            // TODO: If the type of the qualifier is inaccessible, we can cause private types
            // to escape scope here, e.g. pos/t1107.  I'm not sure how to properly handle this
            // so for now it requires the type symbol be public.
            <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46792" title="=&gt; Boolean">isPublic</a>
          <span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#697203" title="Boolean">isRefinableGetClass</a><span class="delimiter">)</span>
            <a href="#697202" title="Typers.this.global.Tree">selection</a> <span title="(tp: Typers.this.global.Type)selection.type">setType</span> <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <a href="../Global.scala.html#186247" title="object Typers.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#242734" title="(tpe: Typers.this.global.erasure.global.Type)Typers.this.global.erasure.global.Type">getClassReturnType</a><span class="delimiter">(</span><a href="#696980" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#697202" title="Typers.this.global.Tree">selection</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Attribute an identifier consisting of a simple name or an outer reference.
       *
       *  @param tree      The tree representing the identifier.
       *  @param name      The name of the identifier.
       *  Transformations: (1) Prefix class members with this.
       *                   (2) Change imported symbols to selections
       */
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Typers.this.global.Tree" id="694496">typedIdent</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="697382">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Typers.this.AbsTypeError" id="697383">errorContainer</a>: <a href="ContextErrors.scala.html#187672" title="Typers.this.AbsTypeError">AbsTypeError</a> = <span title="Null(null)" class="keyword">null</span>
        @inline
        <span class="keyword">def</span> <a title="(msg: String)Unit" id="697384">ambiguousError</a><span class="delimiter">(</span><a title="String" id="697394">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#697383" title="Typers.this.AbsTypeError">errorContainer</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>, <span title="String(&quot;Cannot set ambiguous error twice for identifier&quot;)" class="string">&quot;Cannot set ambiguous error twice for identifier&quot;</span><span class="delimiter">)</span>
          <a href="#697383" title="Typers.this.AbsTypeError">errorContainer</a> = <a href="ContextErrors.scala.html#187902" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, msg: String)Typers.this.NormalTypeError">AmbiguousIdentError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#697382" title="Typers.this.global.Name">name</a>, <a href="#697394" title="String">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        @inline
        <span class="keyword">def</span> <a title="(tree: Typers.this.AbsTypeError)Unit" id="697385">identError</a><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="697406">tree</a>: <a href="ContextErrors.scala.html#187672" title="Typers.this.AbsTypeError">AbsTypeError</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#697383" title="Typers.this.AbsTypeError">errorContainer</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>, <span title="String(&quot;Cannot set ambiguous error twice for identifier&quot;)" class="string">&quot;Cannot set ambiguous error twice for identifier&quot;</span><span class="delimiter">)</span>
          <a href="#697383" title="Typers.this.AbsTypeError">errorContainer</a> = <a href="#697406" title="Typers.this.AbsTypeError">tree</a>
        <span class="delimiter">}</span>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="697386">defSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a> = <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>  // the directly found symbol
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="697387">pre</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <a href="../../../reflect/internal/Types.scala.html#38829" title="object Typers.this.global.NoPrefix">NoPrefix</a>          // the prefix type of defSym, if a class member
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="697388">qual</a>: <span title="Typers.this.global.Tree">Tree</span> = <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>        // the qualifier tree if transformed tree is a select
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="697389">inaccessibleSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> // the first symbol that was found but that was discarded
                                          // for being inaccessible; used for error reporting
        <span class="keyword">var</span> <a title="String" id="697390">inaccessibleExplanation</a>: <span title="String">String</span> = <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

        // If a special setting is given, the empty package will be checked as a
        // last ditch effort before failing.  This method sets defSym and returns
        // true if a member of the given name exists.
        <span class="keyword">def</span> <a title="()Boolean" id="697391">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <a href="#697386" title="Typers.this.global.Symbol">defSym</a> = <a href="../../../reflect/internal/Definitions.scala.html#44954" title="=&gt; Typers.this.global.Symbol">EmptyPackageClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41546" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <a href="#697386" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="=&gt; Typers.this.Context" id="697392">startingIdentContext</a> = <span class="delimiter">(</span>
          // ignore current variable scope in patterns to enforce linearity
          <span title="Typers.this.Context" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(65538)">|</span> TYPEPATmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>
          <span class="keyword">else</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188114" title="=&gt; Typers.this.Context">outer</a>
        <span class="delimiter">)</span>
        // A symbol qualifies if it exists and is not stale. Stale symbols
        // are made to disappear here. In addition,
        // if we are in a constructor of a pattern, we ignore all definitions
        // which are methods (note: if we don't do that
        // case x :: xs in class List would return the :: method)
        // unless they are stable or are accessors (the latter exception is for better error messages).
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="697393">qualifies</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="697437">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
          <a href="#697437" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46616" title="=&gt; Boolean">hasRawInfo</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>       // this condition avoids crashing on self-referential pattern variables
          <a href="#187778" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#697437" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(2)">PATTERNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#697437" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46468" title="=&gt; Boolean">isSourceMethod</a> <span title="(x: Boolean)Boolean">||</span> <a href="#697437" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="697460">defEntry</a>: <a href="../../../reflect/internal/Scopes.scala.html#39170" title="Typers.this.global.ScopeEntry">ScopeEntry</a> = <span title="Null(null)" class="keyword">null</span> // the scope entry of defSym, if defined in a local scope

          <span class="keyword">var</span> <a title="Typers.this.Context" id="697461">cx</a> = <a href="#697392" title="=&gt; Typers.this.Context">startingIdentContext</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#697461" title="Typers.this.Context">cx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#187288" title="object Typers.this.NoContext">NoContext</a><span class="delimiter">)</span> <a href="#697465" title="()Unit" class="delimiter">{</a>
            // !!! Shouldn't the argument to compileSourceFor be cx, not context?
            // I can't tell because those methods do nothing in the standard compiler,
            // presumably they are overridden in the IDE.
            <a href="../Global.scala.html#186319" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188882" title="(context: Typers.this.global.analyzer.Context, name: Typers.this.global.Name)Boolean">compileSourceFor</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#187302" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#697387" title="Typers.this.global.Type">pre</a> = <a href="#697461" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#188117" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#188141" title="=&gt; Typers.this.global.Type">prefix</a>
            <a href="#697460" title="Typers.this.global.ScopeEntry">defEntry</a> = <a href="#697461" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60508" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#697460" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#697393" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a><span class="delimiter">(</span><a href="#697460" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // Right here is where SI-1987, overloading in package objects, can be
              // seen to go wrong. There is an overloaded symbol, but when referring
              // to the unqualified identifier from elsewhere in the package, only
              // the last definition is visible. So overloading mis-resolves and is
              // definition-order dependent, bad things. See run/t1987.scala.
              //
              // I assume the actual problem involves how/where these symbols are entered
              // into the scope. But since I didn't figure out how to fix it that way, I
              // catch it here by looking up package-object-defined symbols in the prefix.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187782" title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean">isInPackageObject</a><span class="delimiter">(</span><a href="#697460" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#697387" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#697386" title="Typers.this.global.Symbol">defSym</a> = <a href="#697387" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#697460" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#697460" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;!!! Overloaded package object member resolved incorrectly.\n  Discarded: &quot;)" class="string">&quot;!!! Overloaded package object member resolved incorrectly.\n  Discarded: &quot;</span> <span title="(x$1: Any)String">+</span>
                    <a href="#697460" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46757" title="=&gt; String">defString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n  Using: &quot;)" class="string">&quot;\n  Using: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46757" title="=&gt; String">defString</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span>
                <a href="#697386" title="Typers.this.global.Symbol">defSym</a> = <a href="#697460" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#697461" title="Typers.this.Context">cx</a> = <a href="#697461" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#188117" title="=&gt; Typers.this.Context">enclClass</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="697494">foundSym</a> = <a href="#697387" title="Typers.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46654" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <a href="#697393" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a>
              <a href="#697386" title="Typers.this.global.Symbol">defSym</a> = <a href="#697494" title="Typers.this.global.Symbol">foundSym</a> <a href="../../../reflect/internal/Symbols.scala.html#46654" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188230" title="(sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#697503" title="Typers.this.global.Symbol">_</a>, <a href="#697387" title="Typers.this.global.Type">pre</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#697494" title="Typers.this.global.Symbol">foundSym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#697389" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#697389" title="Typers.this.global.Symbol">inaccessibleSym</a> = <a href="#697494" title="Typers.this.global.Symbol">foundSym</a>
                  <a href="#697390" title="String">inaccessibleExplanation</a> = <a href="../Global.scala.html#186231" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: Typers.this.global.type}">analyzer</a>.<a href="Contexts.scala.html#187292" title="=&gt; String">lastAccessCheckDetails</a>
                <span class="delimiter">}</span>
                <a href="#697461" title="Typers.this.Context">cx</a> = <a href="#697461" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#188114" title="=&gt; Typers.this.Context">outer</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Int" id="697462">symDepth</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#697460" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#697461" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#188129" title="=&gt; Int">depth</a>
                         <span class="keyword">else</span> <a href="#697461" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#188129" title="=&gt; Int">depth</a> <span title="(x: Int)Int">-</span> <span class="delimiter">(</span><a href="#697461" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#188111" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60511" title="=&gt; Int">nestingLevel</a> <span title="(x: Int)Int">-</span> <a href="#697460" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../../../reflect/internal/Scopes.scala.html#92381" title="=&gt; Typers.this.global.Scope">owner</a>.<a href="../../../reflect/internal/Scopes.scala.html#60511" title="=&gt; Int">nestingLevel</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="697463">impSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>      // the imported symbol
          <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="697464">imports</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188132" title="=&gt; List[Typers.this.ImportInfo]">imports</a>      // impSym != NoSymbol =&gt; it is imported from imports.head
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187778" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#697463" title="Typers.this.global.Symbol">impSym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440608" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">&gt;</span> <a href="#697462" title="Int">symDepth</a><span class="delimiter">)</span> <a href="#697466" title="()Unit" class="delimiter">{</a>
            <a href="#697463" title="Typers.this.global.Symbol">impSym</a> = <a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440613" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#697463" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46559" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <a href="#697464" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
          <span class="delimiter">}</span>

          // detect ambiguous definition/import,
          // update `defSym` to be the final resolved symbol,
          // update `pre` to be `sym`s prefix type in case it is an imported member,
          // and compute value of:

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46559" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#697463" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46559" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            // imported symbols take precedence over package-owned symbols in different
            // compilation units. Defined symbols take precedence over erroneous imports.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46509" title="=&gt; Boolean">isDefinedInPackage</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../Global.scala.html#186319" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188866" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                 <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188700" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46719" title="=&gt; Typers.this.global.AbstractFileType">sourceFile</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188689" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#188728" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#697386" title="Typers.this.global.Symbol">defSym</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697463" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46495" title="=&gt; Boolean">isError</a> <span title="(x: Boolean)Boolean">||</span> <a href="#697463" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
              <a href="#697463" title="Typers.this.global.Symbol">impSym</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46559" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697463" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46559" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
              <a href="#697384" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                <span title="String(&quot;it is both defined in &quot;)" class="string">&quot;it is both defined in &quot;</span><span title="(x$1: Any)String">+</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: Any)String">+</span>
                <span title="String(&quot; and imported subsequently by \n&quot;)" class="string">&quot; and imported subsequently by \n&quot;</span><span title="(x$1: Any)String">+</span><a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46497" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span>
              <a href="#697387" title="Typers.this.global.Type">pre</a> = <a href="../../../reflect/internal/Types.scala.html#38829" title="object Typers.this.global.NoPrefix">NoPrefix</a>
            <span class="keyword">else</span>
              <a href="#697388" title="Typers.this.global.Tree">qual</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187146" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object Typers.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92341" title="(tpe: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#697387" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697463" title="Typers.this.global.Symbol">impSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46559" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Typers.this.global.NoSymbol" id="697560">impSym1</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="697561">imports1</a> = <a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
              <span class="keyword">def</span> <a title="()Unit" id="697562">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440611" title="=&gt; Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: Typers.this.global.Type)Boolean">=:=</a> <a href="#697561" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440611" title="=&gt; Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#697384" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                    <span title="String(&quot;it is imported twice in the same scope by\n&quot;)" class="string">&quot;it is imported twice in the same scope by\n&quot;</span><span title="(x$1: Any)String">+</span><a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span> <span title="(x$1: Any)String">+</span>  <span title="String(&quot;\nand &quot;)" class="string">&quot;\nand &quot;</span><span title="(x$1: Any)String">+</span><a href="#697561" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#697383" title="Typers.this.AbsTypeError">errorContainer</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#697561" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440612" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                      <a href="#697561" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440608" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">==</span> <a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440608" title="=&gt; Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#697564" title="()Unit" class="delimiter">{</a>
                <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="697589">impSym1</a> = <a href="#697561" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440613" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187778" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#697589" title="Typers.this.global.Symbol">impSym1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697561" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440612" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440612" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                        <a href="#697561" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440608" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">!=</span> <a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440608" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#697562" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                    <a href="#697463" title="Typers.this.global.Symbol">impSym</a> = <a href="#697589" title="Typers.this.global.Symbol">impSym1</a>
                    <a href="#697464" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#697561" title="List[Typers.this.ImportInfo]">imports1</a>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440612" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                             <a href="#697561" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440608" title="=&gt; Int">depth</a> <span title="(x: Int)Boolean">==</span> <a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440608" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#697562" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#697561" title="List[Typers.this.ImportInfo]">imports1</a> = <a href="#697561" title="List[Typers.this.ImportInfo]">imports1</a>.<span title="=&gt; List[Typers.this.ImportInfo]">tail</span>
              <span class="delimiter">}</span>
              <a href="#697386" title="Typers.this.global.Symbol">defSym</a> = <a href="#697463" title="Typers.this.global.Symbol">impSym</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="697563">qual0</a> = <a href="#697464" title="List[Typers.this.ImportInfo]">imports</a>.<span title="=&gt; Typers.this.ImportInfo">head</span>.<a href="Contexts.scala.html#440611" title="=&gt; Typers.this.global.Tree">qual</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span title="Boolean(false)">shortenImports</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#697563" title="Typers.this.global.Tree">qual0</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46474" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span><span class="delimiter">)</span> // optimization: don't write out package prefixes
                <a href="#697388" title="Typers.this.global.Tree">qual</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187146" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#186436" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">resetPos</a><span class="delimiter">(</span><a href="#697563" title="Typers.this.global.Tree">qual0</a>.<span title="=&gt; qual0.type">duplicate</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#697387" title="Typers.this.global.Type">pre</a> = <a href="#697388" title="Typers.this.global.Tree">qual</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186868" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">exposeEmptyPackage</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#697391" title="()Boolean">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Allowing empty package member &quot;)" class="string">&quot;Allowing empty package member &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#697382" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; due to settings.&quot;)" class="string">&quot; due to settings.&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="697631">lastTry</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35615" title="(owner: Typers.this.global.Symbol, name: Typers.this.global.Name)Typers.this.global.Symbol">missingHook</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#44950" title="=&gt; Typers.this.global.ModuleClassSymbol">RootClass</a>, <a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697631" title="Typers.this.global.Symbol">lastTry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</span> <a href="#697631" title="Typers.this.global.Symbol">lastTry</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188132" title="=&gt; List[Typers.this.ImportInfo]">imports</a><span class="delimiter">)</span>//debug
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697389" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                // Avoiding some spurious error messages: see SI-2388.
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186134" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#186104" title="=&gt; Boolean">hasErrors</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#697382" title="Typers.this.global.Name">name</a> <a href="../../../reflect/internal/Names.scala.html#52147" title="(prefix: Typers.this.global.Name)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#39303" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#63622" title="=&gt; Typers.this.global.tpnme.NameType">ANON_CLASS_NAME</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#697385" title="(tree: Typers.this.AbsTypeError)Unit">identError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187903" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, owner: Typers.this.global.Symbol, startingIdentCx: Typers.this.Context)Typers.this.NormalTypeError">SymbolNotFoundError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#697382" title="Typers.this.global.Name">name</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#697392" title="=&gt; Typers.this.Context">startingIdentContext</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span>
                <a href="#697385" title="(tree: Typers.this.AbsTypeError)Unit">identError</a><span class="delimiter">(</span><a href="ContextErrors.scala.html#187994" title="object Typer.this.infer.InferErrorGen">InferErrorGen</a>.<a href="ContextErrors.scala.html#188078" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, owner0: Typers.this.global.Symbol, explanation: String)Typers.this.NormalTypeError">AccessError</a><span class="delimiter">(</span>
                  <a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#697389" title="Typers.this.global.Symbol">inaccessibleSym</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188117" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; Typers.this.global.Type">thisType</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188117" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>,
                  <a href="#697390" title="String">inaccessibleExplanation</a>
                <span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#697386" title="Typers.this.global.Symbol">defSym</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46431" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">newErrorSymbol</a><span class="delimiter">(</span><a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#697383" title="Typers.this.AbsTypeError">errorContainer</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#187691" title="object Typers.this.ErrorUtils">ErrorUtils</a>.<a href="ContextErrors.scala.html#626788" title="(err: Typers.this.AbsTypeError)(implicit context: Typers.this.Context)Unit">issueTypeError</a><a href="ContextErrors.scala.html#187893" title="=&gt; Typers.this.Context" class="delimiter">(</a><a href="#697383" title="Typers.this.AbsTypeError">errorContainer</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
            <a href="#697387" title="Typers.this.global.Type">pre</a> = <a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; Typers.this.global.Type">thisType</a>

          // Inferring classOf type parameter from expected type.
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46494" title="=&gt; Boolean">isThisSym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Tree">setPos</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          // Inferring classOf type parameter from expected type.  Otherwise an
          // actual call to the stubbed classOf method is generated, returning null.
          <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45048" title="(sym: Typers.this.global.Symbol, name: Typers.this.global.Name)Boolean">isPredefMemberNamed</a><span class="delimiter">(</span><a href="#697386" title="Typers.this.global.Symbol">defSym</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59108" title="=&gt; Typers.this.global.nme.NameType">classOf</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#597744" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45028" title="=&gt; Typers.this.global.Symbol">ClassClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#597744" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
            <a href="#187848" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, noGen: Boolean)Typers.this.global.Tree">typedClassOf</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Typers.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="697697">tree1</a> = <span class="delimiter">(</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#697388" title="Typers.this.global.Tree">qual</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>
              // atPos necessary because qualifier might come from startContext
              <span class="keyword">else</span> <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#697388" title="Typers.this.global.Tree">qual</a>, <a href="#697382" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">)</span>
            <span class="keyword">val</span> <a href="#697699" title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="#697698" title="Typers.this.global.Tree" id="697699">tree2</a>, <a href="#697698" title="Typers.this.global.Type" id="697700">pre2</a><span class="delimiter">)</span> = <a href="#187781" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><span title="(Typers.this.global.Tree, Typers.this.global.Type) @unchecked" class="delimiter">(</span><a href="#697697" title="Typers.this.global.Tree">tree1</a>, <a href="#697386" title="Typers.this.global.Symbol">defSym</a>, <a href="#697387" title="Typers.this.global.Type">pre</a>, <a href="#697388" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
            // assert(pre.typeArgs isEmpty) // no need to add #2416-style check here, right?
            <a href="#187783" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#697699" title="Typers.this.global.Tree">tree2</a>, <a href="#697700" title="Typers.this.global.Type">pre2</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)Typers.this.global.Tree" id="694497">typedCompoundTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="697738">templ</a>: <span title="Typers.this.global.Template">Template</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="697739">parents1</a> = <a href="#697738" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">parents</span> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#187867" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#697746" title="Typers.this.global.Tree">_</a>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="tree.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#697739" title="List[Typers.this.global.Tree]">parents1</a> <span title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="../../../reflect/internal/Types.scala.html#38820" title="object Typers.this.global.ErrorType">ErrorType</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="697762">decls</a> = <a href="../../../reflect/internal/Scopes.scala.html#39175" title="()Typers.this.global.Scope">newScope</a>
          //Console.println(&quot;Owner: &quot; + context.enclClass.owner + &quot; &quot; + context.enclClass.owner.id)
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="697763">self</a> = <a href="../../../reflect/internal/Types.scala.html#38931" title="(parents: List[Typers.this.global.Type], owner: Typers.this.global.Symbol, decls: Typers.this.global.Scope, pos: Typers.this.global.Position)Typers.this.global.Type">refinedType</a><span class="delimiter">(</span><a href="#697739" title="List[Typers.this.global.Tree]">parents1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#697788" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188117" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#697762" title="Typers.this.global.Scope">decls</a>, <a href="#697738" title="Typers.this.global.Template">templ</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
          <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188205" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#697738" title="Typers.this.global.Template">templ</a>, <a href="#697763" title="Typers.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#697762" title="Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#187826" title="(stats: List[Typers.this.global.Tree])Unit">typedRefinement</a><span class="delimiter">(</span><a href="#697738" title="Typers.this.global.Template">templ</a>.<span title="=&gt; List[Typers.this.global.Tree]">body</span><span class="delimiter">)</span>
          <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#697763" title="Typers.this.global.Type">self</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="694498">typedAppliedTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="697818">tpt</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="List[Typers.this.global.Tree]" id="697819">args</a>: <span title="List[Typers.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="697820">tpt1</a> = <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#697818" title="Typers.this.global.Tree">tpt</a>, <a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span> <span title="(x: Int)Int">|</span> <span title="Int(128)">TAPPmode</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tpt1</a>.<a href="../../../reflect/internal/Trees.scala.html#58448" title="=&gt; Boolean">isErrorTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#697820" title="Typers.this.global.Tree">tpt1</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="ContextErrors.scala.html#187904" title="(tree: Typers.this.global.Tree, errTpe: Typers.this.global.Type)Typers.this.global.Tree">AppliedTypeNoParametersError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="697833">tparams</a> = <a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#697833" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#697819" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            // @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="697836">args1</a> =
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46618" title="=&gt; Typers.this.global.Type">rawInfo</a>.<a href="../../../reflect/internal/Types.scala.html#41501" title="=&gt; Boolean">isComplete</a><span class="delimiter">)</span>
                <a href="#697819" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#187870" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#697846" title="Typers.this.global.Tree">_</a>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
                // if symbol hasn't been fully loaded, can't check kind-arity
              <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#39078" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#697819" title="List[Typers.this.global.Tree]">args</a>, <a href="#697833" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="697885">arg</a>, <a title="Typers.this.global.Symbol" id="697886">tparam</a><span class="delimiter">)</span> =&gt;
                //@M! the polytype denotes the expected kind
                <a href="#187869" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#697885" title="Typers.this.global.Tree">arg</a>, <a href="#597743" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#38942" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#697886" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../../../reflect/internal/Definitions.scala.html#44982" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="697837">argtypes</a> = <a href="#697836" title="List[Typers.this.global.Tree]">args1</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#697907" title="Typers.this.global.Tree">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>

            <a href="../../../reflect/internal/util/Collections.scala.html#38337" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#697819" title="List[Typers.this.global.Tree]">args</a>, <a href="#697833" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="697968">arg</a>, <a title="Typers.this.global.Symbol" id="697969">tparam</a><span class="delimiter">)</span> =&gt; <a href="#697968" title="Typers.this.global.Tree">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              // note: can't use args1 in selector, because Bind's got replaced
              <span class="keyword">case</span> <span title="Unit">Bind</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#697968" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span>
                  <a href="#697968" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> // XXX, feedback. don't trackSymInfo here!
                    <a href="../../../reflect/internal/Types.scala.html#62285" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span>
                      <a href="../../../reflect/internal/Types.scala.html#39107" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">lub</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#697968" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62297" title="=&gt; Typers.this.global.Type">lo</a>, <a href="#697969" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62297" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../../../reflect/internal/Types.scala.html#41558" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#697833" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#697837" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                      <a href="../../../reflect/internal/Types.scala.html#39116" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#697968" title="Typers.this.global.Tree">arg</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; Typers.this.global.Type">hi</a>, <a href="#697969" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; Typers.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#41558" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#697833" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#697837" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AppliedTypeTree" id="697838">original</a> = <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.AppliedTypeTree">AppliedTypeTree</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#697820" title="Typers.this.global.Tree">tpt1</a>, <a href="#697836" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="697839">result</a> = <a href="Analyzer.scala.html#187273" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#697837" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</span> <a href="#697838" title="Typers.this.global.AppliedTypeTree">original</a>
            <span title="Typers extends Typers.this.global.TypTree with Serializable" class="keyword">if</span><span class="delimiter">(</span><a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38888" title="Typers.this.global.PolyType">PolyType</a><span class="delimiter">]</span><span class="delimiter">)</span> // did the type application (performed by appliedType) involve an unchecked beta-reduction?
              <a href="../ast/Trees.scala.html#255568" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                // wrap the tree and include the bounds check -- refchecks will perform this check (that the beta reduction was indeed allowed) and unwrap
                // we can't simply use original in refchecks because it does not contains types
                // (and the only typed trees we have have been mangled so they're not quite the original tree anymore)
                <a href="Infer.scala.html#188032" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Boolean">checkBounds</a><span class="delimiter">(</span><a href="#697839" title="Typers.this.global.TypeTree">result</a>, <a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#697837" title="List[Typers.this.global.Type]">argtypes</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                <a href="#697839" title="Typers.this.global.TypeTree">result</a> // you only get to see the wrapped tree after running this check :-p
              <span class="delimiter">}</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</span> <span class="delimiter">(</span><a href="#697839" title="Typers.this.global.TypeTree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTreeWithDeferredRefCheck">setPos</span><span class="delimiter">(</span><a href="#697839" title="Typers.this.global.TypeTree">result</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#697839" title="Typers.this.global.TypeTree">result</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#697833" title="List[Typers.this.global.Symbol]">tparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="ContextErrors.scala.html#187904" title="(tree: Typers.this.global.Tree, errTpe: Typers.this.global.Type)Typers.this.global.Tree">AppliedTypeNoParametersError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            //Console.println(&quot;\{tpt1}:\{tpt1.symbol}:\{tpt1.symbol.info}&quot;)
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#697820" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpt1</a><span title="(other: String)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span title="(x$1: Any)String">+</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)String">+</span><a href="#697820" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span>//debug
            <a href="ContextErrors.scala.html#187905" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol])Typers.this.global.Tree">AppliedTypeWrongNumberOfArgsError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#697820" title="Typers.this.global.Tree">tpt1</a>, <a href="#697833" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef" id="694499">adaptCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="695248">cdef</a>: <span title="Typers.this.global.CaseDef">CaseDef</span>, <a title="Typers.this.global.Type" id="695249">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.CaseDef">CaseDef</span> =
        <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, pat: Typers.this.global.Tree, guard: Typers.this.global.Tree, body: Typers.this.global.Tree)Typers.this.global.CaseDef">CaseDef</span><span class="delimiter">(</span><a href="#695248" title="Typers.this.global.CaseDef">cdef</a>, <a href="#695248" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">pat</span>, <a href="#695248" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">guard</span>, <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#695248" title="Typers.this.global.CaseDef">cdef</a>.<span title="=&gt; Typers.this.global.Tree">body</span>, <a href="#597743" title="Int">mode</a>, <a href="#695249" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

      // begin typed1
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="694500">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a> = <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#694500" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#694500" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#694500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46620" title="=&gt; sym.type">initialize</a>
      //if (settings.debug.value &amp;&amp; tree.isDef) log(&quot;typing definition of &quot;+sym);//DEBUG
      <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.PackageDef">PackageDef</span><span class="delimiter">(</span><a title="Typers.this.global.RefTree" id="698040">pid</a>, <a title="List[Typers.this.global.Tree]" id="698041">stats</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.RefTree" id="698042">pid1</a> = <a href="#187864" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#698040" title="Typers.this.global.RefTree">pid</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.RefTree" class="delimiter">[</span><span title="Typers.this.global.RefTree">RefTree</span><span class="delimiter">]</span>
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#694500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#694500" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          // complete lazy annotations
          <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="698043">annots</a> = <a href="#694500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="698044">stats1</a> = <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188205" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#694500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; Typers.this.global.Symbol">moduleClass</a>, <a href="#694500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="#187829" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#698041" title="List[Typers.this.global.Tree]">stats</a>, <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, pid: Typers.this.global.RefTree, stats: List[Typers.this.global.Tree])Typers.this.global.PackageDef">PackageDef</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#698042" title="Typers.this.global.RefTree">pid1</a>, <a href="#698044" title="List[Typers.this.global.Tree]">stats1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.PackageDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object Typers.this.global.NoType">NoType</a>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="698060">tree</a> @ ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#698060" title="Typers.this.global.ClassDef">tree</a>, <a href="#694500" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#187805" title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree">typedClassDef</a><span class="delimiter">(</span><a href="#698060" title="Typers.this.global.ClassDef">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="698067">tree</a> @ ModuleDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#698067" title="Typers.this.global.ModuleDef">tree</a>, <a href="#694500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; Typers.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#187806" title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree">typedModuleDef</a><span class="delimiter">(</span><a href="#698067" title="Typers.this.global.ModuleDef">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.ValDef" id="698073">vdef</a> @ ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#187813" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">(</span><a href="#698073" title="Typers.this.global.ValDef">vdef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.DefDef" id="698080">ddef</a> @ DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#694500" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#187817" title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef">typedDefDef</a><span class="delimiter">(</span><a href="#698080" title="Typers.this.global.DefDef">ddef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.TypeDef" id="698089">tdef</a> @ TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#187818" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">(</span><a href="#698089" title="Typers.this.global.TypeDef">tdef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.LabelDef" id="698099">ldef</a> @ LabelDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#187775" title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer">labelTyper</a><span class="delimiter">(</span><a href="#698099" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>.<a href="#187821" title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef">typedLabelDef</a><span class="delimiter">(</span><a href="#698099" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="698105">ddef</a> @ DocDef<span class="delimiter">(</span><a title="Typers.this.global.DocComment" id="698108">comment</a>, <a title="Typers.this.global.Tree" id="698109">defn</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186346" title="=&gt; Boolean">forScaladoc</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#694500" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#694500" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../ast/DocComments.scala.html#186471" title="(key: Typers.this.global.Symbol, value: Typers.this.global.DocComment)Unit">docComments</a><span class="delimiter">(</span><a href="#694500" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#698108" title="Typers.this.global.DocComment">comment</a>
            <a href="#698108" title="Typers.this.global.DocComment">comment</a>.<a href="../ast/DocComments.scala.html#255544" title="(sym: Typers.this.global.Symbol)Unit">defineVariables</a><span class="delimiter">(</span><a href="#694500" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Typer" id="698110">typer1</a> = <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="698135">useCase</a> &lt;- <a href="#698108" title="Typers.this.global.DocComment">comment</a>.<a href="../ast/DocComments.scala.html#255540" title="(f: Typers.this.global.UseCase =&gt; Unit)Unit">useCases</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#698110" title="Typers.this.Typer">typer1</a>.<a href="#187787" title="(op: Typers.this.Typer =&gt; Unit, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Unit]">silent</a><span class="delimiter">(</span><a href="#698141" title="Typers.this.Typer">_</a>.<a href="#187816" title="(useCase: Typers.this.global.UseCase)Unit">typedUseCase</a><span class="delimiter">(</span><a href="#698135" title="Typers.this.global.UseCase">useCase</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Unit">SilentTypeError</span><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="698147">err</a><span class="delimiter">)</span> =&gt;
                  <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#698135" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#260436" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#698147" title="Typers.this.AbsTypeError">err</a>.<a href="ContextErrors.scala.html#626310" title="=&gt; String">errMsg</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="698169">useCaseSym</a> &lt;- <a href="#698135" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#260439" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">defined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#694500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#698169" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#698135" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#260436" title="=&gt; Typers.this.global.Position">pos</a>, <span title="String(&quot;@usecase &quot;)" class="string">&quot;@usecase &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#698169" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52171" title="=&gt; String">decode</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; does not match commented symbol: &quot;)" class="string">&quot; does not match commented symbol: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#694500" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52171" title="=&gt; String">decode</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698109" title="Typers.this.global.Tree">defn</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Annotated</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698183">constr</a>, <a title="Typers.this.global.Tree" id="698184">arg</a><span class="delimiter">)</span> =&gt;
          <a href="#694480" title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree">typedAnnotated</a><span class="delimiter">(</span><a href="#698183" title="Typers.this.global.Tree">constr</a>, <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698184" title="Typers.this.global.Tree">arg</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Block" id="698189">tree</a> @ Block<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#187766" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; Typers.this.global.Block)Typers.this.global.Block">typerWithLocalContext</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#698189" title="Typers.this.global.Block">tree</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">{</span>
            <a href="#698199" title="Typers.this.Typer">_</a>.<a href="#187822" title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block">typedBlock</a><span class="delimiter">(</span><a href="#698189" title="Typers.this.global.Block">tree</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Alternative">Alternative</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="698203">alts</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="698204">alts1</a> = <a href="#698203" title="List[Typers.this.global.Tree]">alts</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698211">alt</a> =&gt; <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698211" title="Typers.this.global.Tree">alt</a>, <a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">|</span> <span title="Int(8192)">ALTmode</span>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.Alternative">Alternative</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#698204" title="List[Typers.this.global.Tree]">alts1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Alternative">setType</span> <a href="#597744" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Star">Star</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698227">elem</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(4096)">STARmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span>
            <a href="ContextErrors.scala.html#187984" title="(tree: Typers.this.global.Tree)Unit">StarPatternWithVarargParametersError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, elem: Typers.this.global.Tree)Typers.this.global.Star">Star</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698227" title="Typers.this.global.Tree">elem</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Star">setType</span> <a href="Infer.scala.html#188013" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Bind</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="698251">name</a>, <a title="Typers.this.global.Tree" id="698252">body</a><span class="delimiter">)</span> =&gt;
          <a href="#694481" title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree">typedBind</a><span class="delimiter">(</span><a href="#698251" title="Typers.this.global.Name">name</a>, <a href="#698252" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.UnApply">UnApply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698255">fun</a>, <a title="List[Typers.this.global.Tree]" id="698256">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="698257">fun1</a> = <a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698255" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="698258">tpes</a> = <a href="Infer.scala.html#187466" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="Unapplies.scala.html#187557" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#698255" title="Typers.this.global.Tree">fun</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>, <a href="#698257" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>, <a href="#698256" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="698259">args1</a> = <a href="../../../reflect/internal/util/Collections.scala.html#38302" title="(xs1: List[Typers.this.global.Tree], xs2: List[Typers.this.global.Type])(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2</a><span class="delimiter">(</span><a href="#698256" title="List[Typers.this.global.Tree]">args</a>, <a href="#698258" title="List[Typers.this.global.Type]">tpes</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#187866" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#698257" title="Typers.this.global.Tree">fun1</a>, <a href="#698259" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</span> <a href="#597744" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> <span title="Typers.this.global.ArrayValue">ArrayValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698310">elemtpt</a>, <a title="List[Typers.this.global.Tree]" id="698311">elems</a><span class="delimiter">)</span> =&gt;
          <a href="#694482" title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">typedArrayValue</a><span class="delimiter">(</span><a href="#698310" title="Typers.this.global.Tree">elemtpt</a>, <a href="#698311" title="List[Typers.this.global.Tree]">elems</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="698312">tree</a> @ Function<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#698312" title="Typers.this.global.Function">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#698312" title="Typers.this.global.Function">tree</a>.<span title="(x$1: Typers.this.global.Symbol)Unit">symbol</span> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="Typers.this.global.Symbol" id="698324">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#113526" title="Long" id="698326">newAnonymousFunctionValue</a><span class="delimiter">(</span><a href="#698312" title="Typers.this.global.Function">tree</a>.<a title="Typers.this.global.Position" id="698325">pos</a><span class="delimiter">)</span>
          <a href="#187766" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; Typers.this.global.Tree)Typers.this.global.Tree">typerWithLocalContext</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#698312" title="Typers.this.global.Function">tree</a>, <a href="#698312" title="Typers.this.global.Function">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#698332" title="Typers.this.Typer">_</a>.<a href="#187825" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span><a href="#698312" title="Typers.this.global.Function">tree</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Assign</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698337">lhs</a>, <a title="Typers.this.global.Tree" id="698338">rhs</a><span class="delimiter">)</span> =&gt;
          <a href="#694483" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><span class="delimiter">(</span><a href="#698337" title="Typers.this.global.Tree">lhs</a>, <a href="#698338" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">AssignOrNamedArg</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698341">lhs</a>, <a title="Typers.this.global.Tree" id="698342">rhs</a><span class="delimiter">)</span> =&gt; // called by NamesDefaults in silent typecheck
          <a href="#694483" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><span class="delimiter">(</span><a href="#698341" title="Typers.this.global.Tree">lhs</a>, <a href="#698342" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.If">If</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698346">cond</a>, <a title="Typers.this.global.Tree" id="698347">thenp</a>, <a title="Typers.this.global.Tree" id="698348">elsep</a><span class="delimiter">)</span> =&gt;
          <a href="#694484" title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">typedIf</a><span class="delimiter">(</span><a href="#698346" title="Typers.this.global.Tree">cond</a>, <a href="#698347" title="Typers.this.global.Tree">thenp</a>, <a href="#698348" title="Typers.this.global.Tree">elsep</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="698349">tree</a> @ Match<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698352">selector</a>, <a title="List[Typers.this.global.CaseDef]" id="698353">cases</a><span class="delimiter">)</span> =&gt;
          <a href="#694485" title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Tree">typedMatch</a><span class="delimiter">(</span><a href="#698349" title="Typers.this.global.Match">tree</a>, <a href="#698352" title="Typers.this.global.Tree">selector</a>, <a href="#698353" title="List[Typers.this.global.CaseDef]">cases</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Return</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698355">expr</a><span class="delimiter">)</span> =&gt;
          <a href="#694486" title="(expr: Typers.this.global.Tree)Typers.this.global.Tree">typedReturn</a><span class="delimiter">(</span><a href="#698355" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Try">Try</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698359">block</a>, <a title="List[Typers.this.global.CaseDef]" id="698360">catches</a>, <a title="Typers.this.global.Tree" id="698361">finalizer</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="698362">block1</a> = <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698359" title="Typers.this.global.Tree">block</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="698363">catches1</a> = <a href="#187824" title="(cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#698360" title="List[Typers.this.global.CaseDef]">catches</a>, <a href="../../../reflect/internal/Definitions.scala.html#45012" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="698364">finalizer1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#698361" title="Typers.this.global.Tree">finalizer</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#698361" title="Typers.this.global.Tree">finalizer</a>
                           <span class="keyword">else</span> <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698361" title="Typers.this.global.Tree">finalizer</a>, <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#698366" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#698365" title="Typers.this.global.Type" id="698366">owntype</a>, <a href="#698365" title="Boolean" id="698367">needAdapt</a><span class="delimiter">)</span> = <a href="#694478" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><span title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</span><a href="#698362" title="Typers.this.global.Tree">block1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="#698376" title="(x: Typers.this.global.Type)List[Typers.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#698363" title="List[Typers.this.global.CaseDef]">catches1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#698396" title="Typers.this.global.CaseDef">_</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#698367" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#698362" title="Typers.this.global.Tree">block1</a> = <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#698362" title="Typers.this.global.Tree">block1</a>, <a href="#597743" title="Int">mode</a>, <a href="#698366" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#698363" title="List[Typers.this.global.CaseDef]">catches1</a> = <a href="#698363" title="List[Typers.this.global.CaseDef]">catches1</a> <span title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</span> <span class="delimiter">(</span><a href="#694499" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#698458" title="Typers.this.global.CaseDef">_</a>, <a href="#698366" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#186204" title="object Typers.this.global.opt">opt</a>.<a href="../settings/AestheticSettings.scala.html#233001" title="=&gt; Boolean">virtPatmat</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#698363" title="List[Typers.this.global.CaseDef]">catches1</a> = <span class="delimiter">(</span><a href="PatMatVirtualiser.scala.html#659566" title="(typer: Typers.this.Typer)Typers.this.MatchTranslation">MatchTranslator</a><span class="delimiter">(</span><a href="#187422" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="PatMatVirtualiser.scala.html#659583" title="(caseDefs: List[Typers.this.global.CaseDef], pt: Typers.this.global.Type, pos: Typers.this.global.Position)List[Typers.this.global.CaseDef]">translateTry</a><span class="delimiter">(</span><a href="#698363" title="List[Typers.this.global.CaseDef]">catches1</a>, <a href="#698366" title="Typers.this.global.Type">owntype</a>, <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, block: Typers.this.global.Tree, catches: List[Typers.this.global.CaseDef], finalizer: Typers.this.global.Tree)Typers.this.global.Try">Try</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#698362" title="Typers.this.global.Tree">block1</a>, <a href="#698363" title="List[Typers.this.global.CaseDef]">catches1</a>, <a href="#698364" title="Typers.this.global.Tree">finalizer1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Try">setType</span> <a href="#698366" title="Typers.this.global.Type">owntype</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Throw">Throw</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698497">expr</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="698498">expr1</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698497" title="Typers.this.global.Tree">expr</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../../../reflect/internal/Definitions.scala.html#45012" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Throw">Throw</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#698498" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Throw">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#44996" title="object Typers.this.global.definitions.NothingClass">NothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#69227" title="=&gt; Typers.this.global.Type">tpe</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">New</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698515">tpt</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> =&gt;
          <a href="#694487" title="(tpt: Typers.this.global.Tree)Typers.this.global.Tree">typedNew</a><span class="delimiter">(</span><a href="#698515" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698518">expr</a>, Function<span class="delimiter">(</span><a href="#698522" title="(x: List[Typers.this.global.ValDef])Some[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#694488" title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree">typedEta</a><span class="delimiter">(</span><a href="TypeDiagnostics.scala.html#684417" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#698518" title="Typers.this.global.Tree">expr</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698535">expr0</a>, <a title="Typers.this.global.Ident" id="698536">tpt</a> @ Ident<span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39303" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#63635" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span>  =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="698540">expr</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698535" title="Typers.this.global.Tree">expr0</a>, <a href="Modes.scala.html#187382" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#597743" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)Typers.this.global.Type" id="698541">subArrayType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="698549">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45476" title="(sym: Typers.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#698549" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="Infer.scala.html#187477" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#698549" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#45268" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#698549" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="698551">tparam</a> = <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#46418" title="(suffix: String)Typers.this.global.Symbol">freshExistential</a> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../../../reflect/internal/Types.scala.html#38845" title="object Typers.this.global.TypeBounds">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#62283" title="(hi: Typers.this.global.Type)Typers.this.global.TypeBounds">upper</a><span class="delimiter">(</span><a href="#698549" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#38891" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.Type">newExistentialType</a><span class="delimiter">(</span><span title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#698551" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#45268" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#698551" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">val</span> <a href="#698543" title="(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</a><a href="#698542" title="Typers.this.global.Tree" id="698543">expr1</a>, <a href="#698542" title="Typers.this.global.Symbol" id="698544">baseClass</a><span class="delimiter">)</span> = <a href="#698540" title="Typers.this.global.Tree">expr</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(Typers.this.global.Tree, Typers.this.global.Symbol)" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/internal/Definitions.scala.html#45152" title="(Typers.this.global.Tree, Typers.this.global.Symbol)">ArrayClass</a> =&gt; <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Symbol)(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</span><a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#698540" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#187382" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#597743" title="Int">mode</a><span class="delimiter">)</span>, <a href="#698541" title="(pt: Typers.this.global.Type)Typers.this.global.Type">subArrayType</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#45152" title="=&gt; Typers.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, Typers.this.global.Symbol)">_</span>          =&gt; <span title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Symbol)(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</span><a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#698540" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#187382" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#597743" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#45267" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#45130" title="=&gt; Typers.this.global.Symbol">SeqClass</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#698543" title="Typers.this.global.Tree">expr1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41553" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a><span class="delimiter">(</span><a href="#698544" title="Typers.this.global.Symbol">baseClass</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Typed">TypeRef</span><span class="delimiter">(</span>_, _, <a href="#698591" title="(x: List[Typers.this.global.Type])Some[List[Typers.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="698602">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#698543" title="Typers.this.global.Tree">expr1</a>, <a href="#698536" title="Typers.this.global.Ident">tpt</a> <span title="(tp: Typers.this.global.Type)tpt.type">setType</span> <a href="#698602" title="Typers.this.global.Type">elemtp</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#698602" title="Typers.this.global.Type">elemtp</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Typed">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698615">expr</a>, <a title="Typers.this.global.Tree" id="698616">tpt</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="698617">tpt1</a> = <a href="#187867" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#698616" title="Typers.this.global.Tree">tpt</a>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="698618">expr1</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698615" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#187382" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#597743" title="Int">mode</a><span class="delimiter">)</span>, <a href="#698617" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41509" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="698619">ownType</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#694477" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="Infer.scala.html#188045" title="(tree0: Typers.this.global.Tree, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#698617" title="Typers.this.global.Tree">tpt1</a>, <a href="#698617" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#698617" title="Typers.this.global.Tree">tpt1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#698618" title="Typers.this.global.Tree">expr1</a>, <a href="#698617" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</span> <a href="#698619" title="Typers.this.global.Type">ownType</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698633">fun</a>, <a title="List[Typers.this.global.Tree]" id="698634">args</a><span class="delimiter">)</span> =&gt;
          // @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)
          //@M! we must type fun in order to type the args, as that requires the kinds of fun's type parameters.
          // However, args should apparently be done first, to save context.undetparams. Unfortunately, the args
          // *really* have to be typed *after* fun. We escape from this classic Catch-22 by simply saving&amp;restoring undetparams.

          // @M TODO: the compiler still bootstraps&amp;all tests pass when this is commented out..
          //val undets = context.undetparams

          // @M: fun is typed in TAPPmode because it is being applied to its actual type parameters
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="698635">fun1</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698633" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#187383" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#597743" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <span title="Int(128)">TAPPmode</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="698636">tparams</a> = <a href="#698635" title="Typers.this.global.Tree">fun1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>

          //@M TODO: val undets_fun = context.undetparams  ?
          // &quot;do args first&quot; (by restoring the context.undetparams) in order to maintain context.undetparams on the function side.

          // @M TODO: the compiler still bootstraps when this is commented out.. TODO: run tests
          //context.undetparams = undets

          // @M maybe the well-kindedness check should be done when checking the type arguments conform to the type parameters' bounds?
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="698637">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#698634" title="List[Typers.this.global.Tree]">args</a>, <a href="#698636" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#39078" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#698634" title="List[Typers.this.global.Tree]">args</a>, <a href="#698636" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        //@M! the polytype denotes the expected kind
                        <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698681">arg</a>, <a title="Typers.this.global.Symbol" id="698682">tparam</a><span class="delimiter">)</span> =&gt; <a href="#187869" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#698681" title="Typers.this.global.Tree">arg</a>, <a href="#597743" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#38942" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#698682" title="Typers.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../../../reflect/internal/Definitions.scala.html#44982" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                      //@M  this branch is correctly hit for an overloaded polymorphic type. It also has to handle erroneous cases.
                      // Until the right alternative for an overloaded method is known, be very liberal,
                      // typedTypeApply will find the right alternative and then do the same check as
                      // in the then-branch above. (see pos/tcpoly_overloaded.scala)
                      // this assert is too strict: be tolerant for errors like trait A { def foo[m[x], g]=error(&quot;&quot;); def x[g] = foo[g/*ERR: missing argument type*/] }
                      //assert(fun1.symbol.info.isInstanceOf[OverloadedType] || fun1.symbol.isError) //, (fun1.symbol,fun1.symbol.info,fun1.symbol.info.getClass,args,tparams))
                        <a href="#698634" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a href="#187870" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#698693" title="Typers.this.global.Tree">_</a>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span>

          //@M TODO: context.undetparams = undets_fun ?
          <a href="#187850" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#597743" title="Int">mode</a>, <a href="#698635" title="Typers.this.global.Tree">fun1</a>, <a href="#698637" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>Block<span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="698707">stats</a>, <a title="Typers.this.global.Tree" id="698708">expr</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="698709">args</a><span class="delimiter">)</span> =&gt;
          <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#698707" title="List[Typers.this.global.Tree]">stats</a>, <a href="Analyzer.scala.html#187273" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#698708" title="Typers.this.global.Tree">expr</a>, <a href="#698709" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698756">fun</a>, <a title="List[Typers.this.global.Tree]" id="698757">args</a><span class="delimiter">)</span> =&gt;
          <a href="#694491" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedApply</a><span class="delimiter">(</span><a href="#698756" title="Typers.this.global.Tree">fun</a>, <a href="#698757" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698769">tpt</a><span class="delimiter">)</span>, <a title="Typers.this.global.Name" id="698770">name</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="698771">args</a><span class="delimiter">)</span>
            <span class="keyword">if</span> <span class="delimiter">(</span><a href="#698769" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#698769" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45152" title="=&gt; Typers.this.global.Symbol">ArrayClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#698771" title="List[Typers.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="../Global.scala.html#186247" title="object Typers.this.global.erasure">erasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#74739" title="object Typers.this.global.erasure.GenericArray">GenericArray</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#162832" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><span class="delimiter">(</span><a href="#698769" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> =&gt; // !!! todo simplify by using extractor
              // convert new Array[T](len) to evidence[ClassManifest[T]].newArray(len)
              // convert new Array^N[T](len) for N &gt; 1 to evidence[ClassManifest[T]].newArrayN(len)
              <span class="keyword">val</span> Some<a href="#698790" title="(Int, Typers.this.global.erasure.global.Type)" class="delimiter">(</a><span class="delimiter">(</span><a href="#698789" title="Int" id="698790">level</a>, <a href="#698789" title="Typers.this.global.erasure.global.Type" id="698791">manifType</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="../Global.scala.html#186247" title="object Typers.this.global.erasure">erasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#74739" title="object Typers.this.global.erasure.GenericArray">GenericArray</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#162832" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><span title="Option[(Int, Typers.this.global.erasure.global.Type)] @unchecked" class="delimiter">(</span><a href="#698769" title="Typers.this.global.Tree">tpt</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#698790" title="Int">level</a> <span title="(x: Int)Boolean">&gt;</span> <a href="../../../reflect/internal/Definitions.scala.html#45230" title="=&gt; Int">MaxArrayDims</a><span class="delimiter">)</span>
                <a href="ContextErrors.scala.html#187924" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">MultiDimensionalArrayError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.ApplyToImplicitArgs" id="698808">newArrayApp</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ApplyToImplicitArgs)Typers.this.global.ApplyToImplicitArgs">atPos</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="698813">manif</a> = <a href="#187877" title="(tree: Typers.this.global.Tree, tp: Typers.this.global.Type, full: Boolean)Typers.this.global.Tree">getManifestTree</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#698791" title="Typers.this.global.erasure.global.Type">manifType</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                  <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="Analyzer.scala.html#187273" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: String)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#698813" title="Typers.this.global.Tree">manif</a>, <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#698790" title="Int">level</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;newArray&quot;)" class="string">&quot;newArray&quot;</span> <span class="keyword">else</span> <span title="String(&quot;newArray&quot;)" class="string">&quot;newArray&quot;</span><span title="(x$1: Any)String">+</span><a href="#698790" title="Int">level</a><span class="delimiter">)</span>, <a href="#698771" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698808" title="Typers.this.global.ApplyToImplicitArgs">newArrayApp</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="698840">tree1</a> =&gt;
              <a href="#698840" title="Typers.this.global.Tree">tree1</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.ApplyDynamic">ApplyDynamic</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698843">qual</a>, <a title="List[Typers.this.global.Tree]" id="698844">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="698845">reflectiveCalls</a> = <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186820" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">refinementMethodDispatch</a>.<a href="../../../reflect/internal/settings/MutableSettings.scala.html#74542" title="=&gt; String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;invoke-dynamic&quot;)" class="string">&quot;invoke-dynamic&quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="698846">qual1</a> = <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698843" title="Typers.this.global.Tree">qual</a>, <a href="../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="698847">args1</a> = <a href="#698844" title="List[Typers.this.global.Tree]">args</a> <span title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698866">arg</a> =&gt; <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#698845" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698866" title="Typers.this.global.Tree">arg</a>, <a href="../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698866" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.ApplyDynamic">ApplyDynamic</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#698846" title="Typers.this.global.Tree">qual1</a>, <a href="#698847" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ApplyDynamic">setType</span> <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#698845" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Typers.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Super">Super</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698888">qual</a>, <a title="Typers.this.global.TypeName" id="698889">mix</a><span class="delimiter">)</span> =&gt;
          <a href="#694493" title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">typedSuper</a><span class="delimiter">(</span><a href="#698888" title="Typers.this.global.Tree">qual</a>, <a href="#698889" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">This</span><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="698893">qual</a><span class="delimiter">)</span> =&gt;
          <a href="#694494" title="(qual: Typers.this.global.Name)Typers.this.global.Tree">typedThis</a><span class="delimiter">(</span><a href="#698893" title="Typers.this.global.TypeName">qual</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Super" id="698898">qual</a> @ Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="698903">qual1</a> =
            <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#698898" title="Typers.this.global.Super">qual</a>, EXPRmode | QUALmode | POLYmode <span title="Int(353)">|</span> SUPERCONSTRmode, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          // the qualifier type of a supercall constructor is its first parent class
          <a href="#694495" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#698903" title="Typers.this.global.Tree">qual1</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698924">qual</a>, <a title="Typers.this.global.Name" id="698925">name</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187199" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedSelectCount</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="698926">qual1</a> = <a href="TypeDiagnostics.scala.html#684417" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#187863" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#698924" title="Typers.this.global.Tree">qual</a>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#698925" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52125" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <a href="#698926" title="Typers.this.global.Tree">qual1</a> = <a href="#187746" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#698926" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="698927">tree1</a> = // temporarily use `filter` and an alternative for `withFilter`
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#698925" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59296" title="=&gt; Typers.this.global.nme.NameType">withFilter</a><span class="delimiter">)</span>
              <a href="#187787" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="698943">_</a> =&gt; <a href="#694495" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#698926" title="Typers.this.global.Tree">qual1</a>, <a href="#698925" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentResultValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698950">result</a><span class="delimiter">)</span> =&gt;
                  <a href="#698950" title="Typers.this.global.Tree">result</a>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
                  <a href="#187787" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.SilentResult[Typers.this.global.Tree]">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="698956">_</a> =&gt; <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#698926" title="Typers.this.global.Tree">qual1</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59144" title="=&gt; Typers.this.global.nme.NameType">filter</a><span class="delimiter">)</span> <span title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentResultValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="698985">result2</a><span class="delimiter">)</span> =&gt;
                      <a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188716" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span>
                        <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <span title="String(&quot;`withFilter\' method does not yet exist on &quot;)" class="string">&quot;`withFilter' method does not yet exist on &quot;</span><span title="(x$1: Any)String">+</span><a href="#698926" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Typers.this.global.Type">widen</a><span title="(x$1: Any)String">+</span>
                        <span title="String(&quot;, using `filter\' method instead&quot;)" class="string">&quot;, using `filter' method instead&quot;</span><span class="delimiter">)</span>
                      <a href="#698985" title="Typers.this.global.Tree">result2</a>
                    <span class="keyword">case</span> <span title="Typers.this.global.Tree">SilentTypeError</span><span class="delimiter">(</span><a title="Typers.this.AbsTypeError" id="698987">err</a><span class="delimiter">)</span> =&gt;
                      <a href="ContextErrors.scala.html#187898" title="(tree: Typers.this.global.Tree, ex: Typers.this.AbsTypeError)Typers.this.global.Tree">WithFilterError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#698987" title="Typers.this.AbsTypeError">err</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">else</span>
              <a href="#694495" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#698926" title="Typers.this.global.Tree">qual1</a>, <a href="#698925" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#698926" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44948" title="=&gt; Typers.this.global.Symbol">RootPackage</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Ident">Ident</span><span class="delimiter">(</span><a href="#698927" title="Typers.this.global.Tree">tree1</a>, <a href="#698925" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#698927" title="Typers.this.global.Tree">tree1</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="699000">name</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187197" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedIdentCount</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#699000" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)">PATTERNmode</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
              <span class="delimiter">(</span><a href="#699000" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39303" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(4)">TYPEmode</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="Infer.scala.html#188013" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#694496" title="(name: Typers.this.global.Name)Typers.this.global.Tree">typedIdent</a><span class="delimiter">(</span><a href="#699000" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.ReferenceToBoxed">ReferenceToBoxed</span><span class="delimiter">(</span><a title="Typers.this.global.Ident" id="699035">idt</a> @ Ident<span class="delimiter">(</span>_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="699039">id1</a> = <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#699035" title="Typers.this.global.Ident">idt</a>, <a href="#597743" title="Int">mode</a>, <a href="#597744" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Typers.this.global.Ident" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Typers.this.global.Ident" id="699040">id</a>: <span title="Typers.this.global.Ident">Ident</span> =&gt; <a href="#699040" title="Typers.this.global.Ident">id</a> <span class="delimiter">}</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#290245" title="(tree: Typers.this.global.Tree, idt: Typers.this.global.Ident)Typers.this.global.ReferenceToBoxed">ReferenceToBoxed</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#699039" title="Typers.this.global.Ident">id1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.ReferenceToBoxed">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>         

        <span class="keyword">case</span> <span title="tree.type">Literal</span><span class="delimiter">(</span><a title="Typers.this.global.Constant" id="699047">value</a><span class="delimiter">)</span> =&gt;
          <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#699047" title="Typers.this.global.Constant">value</a>.<a href="../../../reflect/internal/Constants.scala.html#46263" title="=&gt; Int">tag</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)">UnitTag</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>
            <span class="keyword">else</span> <a href="../../../reflect/internal/Types.scala.html#83376" title="(value: Typers.this.global.Constant)Typers.this.global.ConstantType">ConstantType</a><span class="delimiter">(</span><a href="#699047" title="Typers.this.global.Constant">value</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="tree.type">SingletonTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="699056">ref</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="699057">ref1</a> = <a href="#187746" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span>
            <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#699056" title="Typers.this.global.Tree">ref</a>, EXPRmode <span title="Int(65)">|</span> QUALmode <span title="(x: Int)Int">|</span> <span class="delimiter">(</span><a href="#597743" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">TYPEPATmode</span><span class="delimiter">)</span>, <a href="../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#699057" title="Typers.this.global.Tree">ref1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; Typers.this.global.Type">resultType</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="699078">qual</a>, <a title="Typers.this.global.TypeName" id="699079">selector</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="699080">qual1</a> = <a href="#187867" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#699078" title="Typers.this.global.Tree">qual</a>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#699080" title="Typers.this.global.Tree">qual1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41492" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <a href="ContextErrors.scala.html#187979" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree)Typers.this.global.Tree">TypeSelectionFromVolatileTypeError</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#699078" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#694495" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#699080" title="Typers.this.global.Tree">qual1</a>, <a href="#699079" title="Typers.this.global.TypeName">selector</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">CompoundTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Template" id="699088">templ</a><span class="delimiter">)</span> =&gt;
          <a href="#694497" title="(templ: Typers.this.global.Template)Typers.this.global.Tree">typedCompoundTypeTree</a><span class="delimiter">(</span><a href="#699088" title="Typers.this.global.Template">templ</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">AppliedTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="699091">tpt</a>, <a title="List[Typers.this.global.Tree]" id="699092">args</a><span class="delimiter">)</span> =&gt;
          <a href="#694498" title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedAppliedTypeTree</a><span class="delimiter">(</span><a href="#699091" title="Typers.this.global.Tree">tpt</a>, <a href="#699092" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.TypeBoundsTree">TypeBoundsTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="699095">lo</a>, <a title="Typers.this.global.Tree" id="699096">hi</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="699097">lo1</a> = <a href="#187867" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#699095" title="Typers.this.global.Tree">lo</a>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="699098">hi1</a> = <a href="#187867" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#699096" title="Typers.this.global.Tree">hi</a>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span>
          <a href="Analyzer.scala.html#187273" title="=&gt; Typers.this.global.TreeCopier">treeCopy</a>.<span title="(tree: Typers.this.global.Tree, lo: Typers.this.global.Tree, hi: Typers.this.global.Tree)Typers.this.global.TypeBoundsTree">TypeBoundsTree</span><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#699097" title="Typers.this.global.Tree">lo1</a>, <a href="#699098" title="Typers.this.global.Tree">hi1</a><span class="delimiter">)</span> <span title="(tp: Typers.this.global.Type)Typers.this.global.TypeBoundsTree">setType</span> <a href="../../../reflect/internal/Types.scala.html#62285" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#699097" title="Typers.this.global.Tree">lo1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>, <a href="#699098" title="Typers.this.global.Tree">hi1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="699113">etpt</a> @ ExistentialTypeTree<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#187766" title="(c: Typers.this.Context)(f: Typers.this.Typer =&gt; Typers.this.global.Tree)Typers.this.global.Tree">typerWithLocalContext</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188207" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#597742" title="Typers.this.global.Tree">tree</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">{</span>
            <a href="#699121" title="Typers.this.Typer">_</a>.<a href="#187849" title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree">typedExistentialTypeTree</a><span class="delimiter">(</span><a href="#699113" title="Typers.this.global.ExistentialTypeTree">etpt</a>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <a title="Typers.this.global.TypeTreeWithDeferredRefCheck" id="699124">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#699124" title="Typers.this.global.TypeTreeWithDeferredRefCheck">dc</a> // TODO: should we re-type the wrapped tree? then we need to change TypeTreeWithDeferredRefCheck's representation to include the wrapped tree explicitly (instead of in its closure)
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="699126">tpt</a> @ TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#699126" title="Typers.this.global.TypeTree">tpt</a>.<span title="=&gt; Typers.this.global.Tree">original</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#187867" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#699126" title="Typers.this.global.TypeTree">tpt</a>.<span title="=&gt; Typers.this.global.Tree">original</span>, <a href="#597743" title="Int">mode</a><span class="delimiter">)</span>.<span title="=&gt; Typers.this.global.Type">tpe</span>
          <span class="keyword">else</span>
            // we should get here only when something before failed
            // and we try again (@see tryTypedApply). In that case we can assign
            // whatever type to tree; we just have to survive until a real error message is issued.
            <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="../../../reflect/internal/Definitions.scala.html#44982" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="tree.type">Import</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="699141">expr</a>, <a title="List[Typers.this.global.ImportSelector]" id="699142">selectors</a><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../Global.scala.html#186345" title="=&gt; Boolean">forInteractive</a>, <span title="String(&quot;!forInteractive&quot;)" class="string">&quot;!forInteractive&quot;</span><span class="delimiter">)</span> // should not happen in normal circumstances.
          <a href="#597742" title="Typers.this.global.Tree">tree</a> <span title="(tp: Typers.this.global.Type)tree.type">setType</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
          <a href="../Global.scala.html#186187" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="String(&quot;unexpected tree: &quot;)" class="string">&quot;unexpected tree: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597742" title="Typers.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#597742" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>//debug
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187856">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="188318">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="188319">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="188320">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <a href="#187852" title="()Unit">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Boolean" id="699150">alreadyTyped</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#33248" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../../../reflect/internal/util/StatBase.scala.html#38635" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="699153">t</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38637" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#187189" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../util/Statistics.scala.html#187183" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187189" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#699228" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#699153" title="Long">t</a> <span title="(x: Long)Long">-</span> <a href="../util/Statistics.scala.html#187192" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <span title="(x: Int)Long">/</span> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
          <span class="delimiter">}</span>
          <a href="../util/Statistics.scala.html#187193" title="(x$1: Long)Unit">typerTime</a> = <a href="#699153" title="Long">t</a>
          <a href="../util/Statistics.scala.html#187190" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="#188318" title="Typers.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span> <a href="#699260" title="(x: Class[_])List[Class[_]]">::</a> <a href="../util/Statistics.scala.html#187189" title="=&gt; List[Class[_]]">pendingTreeTypes</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188162" title="=&gt; Boolean">retyping</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span class="delimiter">(</span><a href="#188318" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#188318" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#188318" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#188320" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#188318" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#188318" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">hasSymbol</span><span class="delimiter">)</span> <a href="#188318" title="Typers.this.global.Tree">tree</a>.<span title="(sym: Typers.this.global.Symbol)Unit">symbol</span> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>

        <a href="#699150" title="Boolean">alreadyTyped</a> = <a href="#188318" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Type">tpe</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="699151">tree1</a>: <span title="Typers.this.global.Tree">Tree</span> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#699150" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <a href="#188318" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span>
            <a href="../../../reflect/internal/TypeDebugging.scala.html#75261" title="(label: String, pairs: (String, Any)*)String">ptLine</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typing %s: pt = %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="../../../reflect/internal/TypeDebugging.scala.html#75262" title="(t: Typers.this.global.Tree)String">ptTree</a><span class="delimiter">(</span><a href="#188318" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#188320" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>,
              <span title="(x: String)ArrowAssoc[String]" class="string">&quot;undetparams&quot;</span>      <span title="(y: List[Typers.this.global.Symbol])(String, List[Typers.this.global.Symbol])">-&gt;</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>,
              <span title="(x: String)ArrowAssoc[String]" class="string">&quot;implicitsEnabled&quot;</span> <span title="(y: Boolean)(String, Boolean)">-&gt;</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188156" title="=&gt; Boolean">implicitsEnabled</a>,
              <span title="(x: String)ArrowAssoc[String]" class="string">&quot;silent&quot;</span>           <span title="(y: Boolean)(String, Boolean)">-&gt;</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188186" title="=&gt; Boolean">bufferErrors</a>,
              <span title="(x: String)ArrowAssoc[String]" class="string">&quot;context.owner&quot;</span>    <span title="(y: Typers.this.global.Symbol)(String, Typers.this.global.Symbol)">-&gt;</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="699287">tree1</a> = <a href="#187855" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#188318" title="Typers.this.global.Tree">tree</a>, <a href="#188319" title="Int">mode</a>, <a href="#187745" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#188320" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typed %s: %s%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="../../../reflect/internal/TypeDebugging.scala.html#75262" title="(t: Typers.this.global.Tree)String">ptTree</a><span class="delimiter">(</span><a href="#699287" title="Typers.this.global.Tree">tree1</a><span class="delimiter">)</span>, <a href="#699287" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>,
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39066" title="(tp: Typers.this.global.Type)Boolean">isSingleType</a><span class="delimiter">(</span><a href="#699287" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot; with underlying &quot;)" class="string">&quot; with underlying &quot;</span><span title="(x$1: Any)String">+</span><a href="#699287" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Typers.this.global.Type">widen</a> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="#699287" title="Typers.this.global.Tree">tree1</a>
        <span class="delimiter">}</span>

        <a href="#699151" title="Typers.this.global.Tree">tree1</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <a href="../../../reflect/internal/AnnotationCheckers.scala.html#34942" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#699151" title="Typers.this.global.Tree">tree1</a>, <a href="#699151" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="699152">result</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#699151" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#699151" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#187790" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#699151" title="Typers.this.global.Tree">tree1</a>, <a href="#188319" title="Int">mode</a>, <a href="#188320" title="Typers.this.global.Type">pt</a>, <a href="#188318" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#699150" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;adapted %s: %s to %s, %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#699151" title="Typers.this.global.Tree">tree1</a>, <a href="#699151" title="Typers.this.global.Tree">tree1</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#188320" title="Typers.this.global.Type">pt</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188176" title="=&gt; String">undetparamsString</a><span class="delimiter">)</span>
          <span class="delimiter">)</span> //DEBUG
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#187421" title="=&gt; Boolean">isPastTyper</a><span class="delimiter">)</span> <a href="../Global.scala.html#186175" title="(context: Typers.this.global.analyzer.Context, old: Typers.this.global.Tree, result: Typers.this.global.Tree)Unit">signalDone</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#187302" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#188318" title="Typers.this.global.Tree">tree</a>, <a href="#699152" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span>
        <a href="#699152" title="Typers.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="699367">ex</a>: <a href="../../../reflect/internal/Types.scala.html#39126" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#188318" title="Typers.this.global.Tree">tree</a>.<span title="(t: Typers.this.global.Type)Unit">tpe</span> = <span title="Null(null)" class="keyword">null</span>
          // The only problematic case are (recoverable) cyclic reference errors which can pop up almost anywhere.
          <a href="#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;caught %s: while typing %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#699367" title="Typers.this.global.TypeError">ex</a>, <a href="#188318" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> //DEBUG

          <a href="TypeDiagnostics.scala.html#187724" title="(context0: Typers.this.Context, pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>, <a href="#188318" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span>, <a href="#699367" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#188000" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#188318" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Nothing" id="699378">ex</a>: <span title="Exception">Exception</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> // @M causes cyclic reference error
            <span title="object Console">Console</span>.<span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span><span title="(x$1: Any)String">+</span><a href="#188318" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)String">+</span><span title="String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)String">+</span><a href="#188320" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188700" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#188318" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="../Global.scala.html#186198" title="(msg: String, t: Throwable)Unit">logError</a><span class="delimiter">(</span><span title="String(&quot;AT: &quot;)" class="string">&quot;AT: &quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#188318" title="Typers.this.global.Tree">tree</a>.<span title="=&gt; Typers.this.global.Position">pos</span><span class="delimiter">)</span>.<a href="../util/Position.scala.html#187160" title="=&gt; String">dbgString</a>, <a href="#699378" title="Exception">ex</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#699378" title="Exception">ex</a>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#187851" title="()Unit">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#33248" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../../../reflect/internal/util/StatBase.scala.html#38635" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="699397">t</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38637" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#187183" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187189" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#699455" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#699397" title="Long">t</a> <span title="(x: Long)Long">-</span> <a href="../util/Statistics.scala.html#187192" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <span title="(x: Int)Long">/</span> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="=&gt; Int">toInt</span>
          <a href="../util/Statistics.scala.html#187186" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">visitsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187189" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="#699541" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
          <a href="../util/Statistics.scala.html#187193" title="(x$1: Long)Unit">typerTime</a> = <a href="#699397" title="Long">t</a>
          <a href="../util/Statistics.scala.html#187190" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="../util/Statistics.scala.html#187189" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<span title="=&gt; List[Class[_]]">tail</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol)Typers.this.Typer" id="187857">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="188293">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#187422" title="Typers.this.Typer">Typer</a> =
      <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188208" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188105" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#188293" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Typer" id="187858">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="187889">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Symbol" id="187890">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#187422" title="Typers.this.Typer">Typer</a> =
      <a href="#187417" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188208" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#187889" title="Typers.this.global.Tree">tree</a>, <a href="#187890" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    /** Types expression or definition &lt;code&gt;tree&lt;/code&gt;.
     *
     *  @param tree ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="187859">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="188315">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="699569">ret</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#188315" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <a href="#699569" title="Typers.this.global.Tree">ret</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="187860">typedPos</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="591066">pos</a>: <a href="../util/Position.scala.html#33991" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="591067">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#187859" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#591066" title="Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#591067" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    // TODO: see if this formulation would impose any penalty, since
    // it makes for a lot less casting.
    // def typedPos[T &lt;: Tree](pos: Position)(tree: T): T = typed(atPos(pos)(tree)).asInstanceOf[T]

    /** Types expression &lt;code&gt;tree&lt;/code&gt; with given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree ...
     *  @param pt   ...
     *  @return     ...
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187861">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="188310">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="188311">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#188310" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="#188311" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

    /** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187862">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="440691">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="440692">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="440693">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#440691" title="Typers.this.global.Tree">tree</a>, EXPRmode | QUALmode <span title="Int(97)">|</span> POLYmode <span title="(x: Int)Int">|</span> <a href="#440692" title="Int">mode</a> <span title="(x: Int)Int">&amp;</span> <span title="Int(65536)">TYPEPATmode</span>, <a href="#440693" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> // TR: don't set BYVALmode, since qualifier might end up as by-name param to an implicit

    /** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="187863">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="440686">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="440687">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#187862" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#440686" title="Typers.this.global.Tree">tree</a>, <a href="#440687" title="Int">mode</a>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="187864">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="440683">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#187862" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#440683" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    /** Types function part of an application */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="187865">typedOperator</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="617450">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#617450" title="Typers.this.global.Tree">tree</a>, EXPRmode | FUNmode | POLYmode <span title="Int(177)">|</span> TAPPmode, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    /** Types a pattern with prototype &lt;code&gt;pt&lt;/code&gt; */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187866">typedPattern</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="690398">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="690399">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      // We disable implicits because otherwise some constructs will
      // type check which should not.  The pattern matcher does not
      // perform implicit conversions in an attempt to consummate a match.
      <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188198" title="(op: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">withImplicitsDisabled</a><span class="delimiter">(</span><a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#690398" title="Typers.this.global.Tree">tree</a>, <span title="Int(2)">PATTERNmode</span>, <a href="#690399" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Types a (fully parameterized) type tree */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="187867">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="654345">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="654346">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#654345" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#187384" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#654346" title="Int">mode</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    /** Types a (fully parameterized) type tree */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="187868">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="654342">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#187867" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#654342" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    /** Types a higher-kinded type tree -- pt denotes the expected kind*/
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187869">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694387">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="694388">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="694389">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#694389" title="Typers.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41528" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#187867" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#694387" title="Typers.this.global.Tree">tree</a>, <a href="#694388" title="Int">mode</a><span class="delimiter">)</span> // kind is known and it's *
      <span class="keyword">else</span> <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694387" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="#694389" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="187870">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694384">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="694385">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> =
      <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#694384" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="187871">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="694382">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#187870" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#694382" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    /** Types a type constructor tree used in a new or supertype */
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="187872">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687204">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="687205">mode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="699654">result</a> = <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#687204" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#187384" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#687205" title="Int">mode</a><span class="delimiter">)</span> <span title="(x: Int)Int">|</span> <span title="Int(16)">FUNmode</span>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="699655">restpe</a> = <a href="#699654" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Typers.this.global.Type">normalize</a> // normalize to get rid of type aliases for the following check (#1241)
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69312" title="=&gt; Boolean">erasedTypes</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#699655" title="Typers.this.global.Type">restpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38876" title="Typers.this.global.TypeRef">TypeRef</a><span class="delimiter">]</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#699655" title="Typers.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Typers.this.global.Type">prefix</a>.<a href="../../../reflect/internal/Types.scala.html#41491" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188720" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // The isJava exception if OK only because the only type constructors scalac gets
        // to see are those in the signatures. These do not need a unique object as a prefix.
        // The situation is different for new's and super's, but scalac does not look deep
        // enough to see those. See #3938
        <a href="ContextErrors.scala.html#187978" title="(tree: Typers.this.global.Tree, restpe: Typers.this.global.Type)Typers.this.global.Tree">ConstructorPrefixError</a><span class="delimiter">(</span><a href="#687204" title="Typers.this.global.Tree">tree</a>, <a href="#699655" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
	      //@M fix for #2208
	      // if there are no type arguments, normalization does not bypass any checks, so perform it to get rid of AnyRef
	      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#699654" title="Typers.this.global.Tree">result</a>.<span title="=&gt; Typers.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
	        // minimal check: if(result.tpe.typeSymbolDirect eq AnyRefClass) {
	        // must expand the fake AnyRef type alias, because bootstrapping (init in Definitions) is not
	        // designed to deal with the cycles in the scala package (ScalaObject extends
	        // AnyRef, but the AnyRef type alias is entered after the scala package is
	        // loaded and completed, so that ScalaObject is unpickled while AnyRef is not
	        // yet defined )
	        <a href="#699654" title="Typers.this.global.Tree">result</a> <span title="(tp: Typers.this.global.Type)result.type">setType</span><span class="delimiter">(</span><a href="#699655" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
	      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> // must not normalize: type application must be (bounds-)checked (during RefChecks), see #2208
	        // during uncurry (after refchecks), all types are normalized
	        <a href="#699654" title="Typers.this.global.Tree">result</a>
	      <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="187873">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="687202">tree</a>: <span title="Typers.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#187872" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#687202" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Type" id="187874">computeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="551396">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="551397">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="699673">tree1</a> = <a href="#187861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#551396" title="Typers.this.global.Tree">tree</a>, <a href="#551397" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#187401" title="(key: Typers.this.global.Tree, value: Typers.this.global.Tree)Unit">transformed</a><span class="delimiter">(</span><a href="#551396" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> = <a href="#699673" title="Typers.this.global.Tree">tree1</a>
      <a href="#187847" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#699673" title="Typers.this.global.Tree">tree1</a>, <a href="#187742" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="187875">transformedOrTyped</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="688919">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Int" id="688920">mode</a>: <span title="Int">Int</span>, <a title="Typers.this.global.Type" id="688921">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <a href="#187401" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<span title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">get</span><span class="delimiter">(</span><a href="#688919" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="699686">tree1</a><span class="delimiter">)</span> =&gt; <a href="#187401" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <span title="(key: Typers.this.global.Tree)Typers.this.transformed.type">-=</span> <a href="#688919" title="Typers.this.global.Tree">tree</a>; <a href="#699686" title="Typers.this.global.Tree">tree1</a>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">None</span> =&gt; <a href="#187856" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#688919" title="Typers.this.global.Tree">tree</a>, <a href="#688920" title="Int">mode</a>, <a href="#688921" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type, full: Boolean)Typers.this.SearchResult" id="187876">findManifest</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="623474">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="623475">full</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Typers.this.SearchResult)Typers.this.SearchResult">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188838" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="Implicits.scala.html#187492" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span>
        <a href="Analyzer.scala.html#187273" title="object Typers.this.global.EmptyTree">EmptyTree</a>,
        <a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><span class="delimiter">(</span><span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#623475" title="Boolean">full</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#45189" title="=&gt; Typers.this.global.Symbol">FullManifestClass</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#45185" title="=&gt; Typers.this.global.Symbol">PartialManifestClass</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46625" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <span title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</span><span class="delimiter">(</span><a href="#623474" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#187742" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, tp: Typers.this.global.Type, full: Boolean)Typers.this.global.Tree" id="187877">getManifestTree</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="623523">tree</a>: <span title="Typers.this.global.Tree">Tree</span>, <a title="Typers.this.global.Type" id="623524">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="623525">full</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Typers.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="699699">manifestOpt</a> = <a href="#187876" title="(tp: Typers.this.global.Type, full: Boolean)Typers.this.SearchResult">findManifest</a><span class="delimiter">(</span><a href="#623524" title="Typers.this.global.Type">tp</a>, <a href="#623525" title="Boolean">full</a><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#699699" title="Typers.this.SearchResult">manifestOpt</a>.<a href="Implicits.scala.html#440722" title="=&gt; Typers.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="ContextErrors.scala.html#187982" title="(tree: Typers.this.global.Tree, full: Boolean, tp: Typers.this.global.Type)Typers.this.global.Tree">MissingManifestError</a><span class="delimiter">(</span><a href="#623523" title="Typers.this.global.Tree">tree</a>, <a href="#623525" title="Boolean">full</a>, <a href="#623524" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#699699" title="Typers.this.SearchResult">manifestOpt</a>.<a href="Implicits.scala.html#440722" title="=&gt; Typers.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
/*
    def convertToTypeTree(tree: Tree): Tree = tree match {
      case TypeTree() =&gt; tree
      case _ =&gt; TypeTree(tree.tpe)
    }
*/
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>