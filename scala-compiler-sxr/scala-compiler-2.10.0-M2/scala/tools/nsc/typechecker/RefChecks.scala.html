<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/RefChecks.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> transform.InfoTransform
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

/** &lt;p&gt;
 *    Post-attribution checking and transformation.
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This phase performs the following checks.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;All overrides conform to rules.&lt;/li&gt;
 *    &lt;li&gt;All type arguments conform to bounds.&lt;/li&gt;
 *    &lt;li&gt;All type variable uses conform to variance annotations.&lt;/li&gt;
 *    &lt;li&gt;No forward reference to a term symbol extends beyond a value definition.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It performs the following transformations.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *   &lt;li&gt;Local modules are replaced by variables and classes&lt;/li&gt;
 *   &lt;li&gt;Calls to case factory methods are replaced by new's.&lt;/li&gt;
 *   &lt;li&gt;Eliminate branches in a conditional if the condition is a constant&lt;/li&gt;
 *  &lt;/ul&gt;
 *
 *  @author  Martin Odersky
 *  @version 1.0
 *
 *  @todo    Check whether we always check type parameter bounds.
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RefChecks extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.reflect.internal.transform.RefChecks with ScalaObject" id="29990">RefChecks</a> <a href="#29990" title="ScalaObject" class="keyword">extends</a> <a href="../transform/InfoTransform.scala.html#28089" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="keyword">with</span> reflect.internal.transform.<a href="../../../reflect/internal/transform/RefChecks.scala.html#10693" title="scala.reflect.internal.transform.RefChecks">RefChecks</a> <span class="delimiter">{</span>

  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="242152">global</a>: <a href="../Global.scala.html#12873" title="scala.tools.nsc.Global">Global</a>               // need to repeat here because otherwise last mixin defines global as
                                   // SymbolTable. If we had DOT this would not be an issue

  <span class="keyword">import</span> <a href="#242152" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object RefChecks.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#186285" title="object RefChecks.this.global.typer">typer</a>.<span class="delimiter">{</span>typed, typedOperator, atOwner<span class="delimiter">}</span>

  /** the following two members override abstract members in Transform */
  <span class="keyword">val</span> <a title="String" id="242156">phaseName</a>: <span title="String">String</span> = <span title="String(&quot;refchecks&quot;)" class="string">&quot;refchecks&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="242158">phaseNewFlags</a>: <span title="Long">Long</span> = <a href="../../../reflect/internal/Flags.scala.html#38540" title="=&gt; Long">lateMETHOD</a>

  <span class="keyword">def</span> <a title="(unit: RefChecks.this.global.CompilationUnit)RefChecks.this.RefCheckTransformer" id="242159">newTransformer</a><span class="delimiter">(</span><a title="RefChecks.this.global.CompilationUnit" id="668678">unit</a>: <a href="../CompilationUnits.scala.html#186387" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="#242168" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a> =
    <span title="RefChecks.this.RefCheckTransformer" class="keyword">new</span> <a href="#242168" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a><span class="delimiter">(</span><a href="#668678" title="RefChecks.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="242160">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="242161">transformInfo</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="258806">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="258807">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#258806" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#258806" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46545" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <a href="#258806" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46589" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><a href="../../../reflect/internal/Flags.scala.html#38540" title="=&gt; Long">lateMETHOD</a> <span title="(x: Int)Long">|</span> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span>
    <a href="#29990" title="scala.tools.nsc.typechecker.RefChecks" class="keyword">super</a>.<a href="../../../reflect/internal/transform/RefChecks.scala.html#75114" title="(sym: RefChecks.this.global.Symbol, tp: RefChecks.this.global.Type)RefChecks.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#258806" title="RefChecks.this.global.Symbol">sym</a>, <a href="#258807" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="242162">toJavaRepeatedParam</a> = <a href="#668561" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#38980" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="668561">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="668563">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668564">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#668564" title="RefChecks.this.global.Type">tp</a> <span title="RefChecks.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668576">pre</a>, <a href="../../../reflect/internal/Definitions.scala.html#45105" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>, <a title="List[RefChecks.this.global.Type]" id="668577">args</a><span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#38934" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#668576" title="RefChecks.this.global.Type">pre</a>, <a href="../../../reflect/internal/Definitions.scala.html#45103" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a href="#668577" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">_</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#74772" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#668564" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="242164">toScalaRepeatedParam</a> = <a href="#668628" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../../../reflect/internal/Types.scala.html#38980" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="668628">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="668630">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668631">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a> = <a href="#668631" title="RefChecks.this.global.Type">tp</a> <span title="RefChecks.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668640">pre</a>, <a href="../../../reflect/internal/Definitions.scala.html#45103" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a title="List[RefChecks.this.global.Type]" id="668641">args</a><span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#38934" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#668640" title="RefChecks.this.global.Type">pre</a>, <a href="../../../reflect/internal/Definitions.scala.html#45105" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>, <a href="#668641" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">_</span> =&gt;
        <a href="../../../reflect/internal/Types.scala.html#74772" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#668631" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="242166">accessFlagsToString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="668772">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Flags.scala.html#38616" title="(flags: Long, privateWithin: String)String">flagsToString</a><span class="delimiter">(</span>
    <a href="#668772" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46591" title="(mask: Long)Long">getFlag</a> <span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span>,
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#668772" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46602" title="=&gt; Boolean">hasAccessBoundary</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#668772" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46599" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean" id="242167">overridesTypeInPrefix</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668782">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="668783">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="668784">prefix</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="(_1: RefChecks.this.global.Type, _2: RefChecks.this.global.Type)(RefChecks.this.global.Type, RefChecks.this.global.Type)" class="delimiter">(</span><a href="#668782" title="RefChecks.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#668783" title="RefChecks.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>MethodType<span class="delimiter">(</span><a href="#668797" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="RefChecks.this.global.Type" id="668819">rtp1</a><span class="delimiter">)</span>, NullaryMethodType<span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668821">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <a href="#668819" title="RefChecks.this.global.Type">rtp1</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#668821" title="RefChecks.this.global.Type">rtp2</a>
    <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>NullaryMethodType<span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668827">rtp1</a><span class="delimiter">)</span>, MethodType<span class="delimiter">(</span><a href="#668831" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="RefChecks.this.global.Type" id="668842">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
      <a href="#668827" title="RefChecks.this.global.Type">rtp1</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#668842" title="RefChecks.this.global.Type">rtp2</a>
    <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="RefChecks.this.global.Symbol" id="668850">sym</a>, _<span class="delimiter">)</span>,  _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#668850" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a> =&gt;
      <a href="#242167" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean">overridesTypeInPrefix</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#62410" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#668782" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>, <a href="#668783" title="RefChecks.this.global.Type">tp2</a>, <a href="#668784" title="RefChecks.this.global.Type">prefix</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="668853">classBoundAsSeen</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668854">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#668854" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46631" title="=&gt; RefChecks.this.global.Type">classBound</a>.<a href="../../../reflect/internal/Types.scala.html#41554" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#668784" title="RefChecks.this.global.Type">prefix</a>, <a href="#668854" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>

      <span class="delimiter">(</span><a href="#668782" title="RefChecks.this.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#668783" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span>  // object override check
        <a href="#668782" title="RefChecks.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#668783" title="RefChecks.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="668865">cb1</a> = <a href="#668853" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#668782" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="668866">cb2</a> = <a href="#668853" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#668783" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><a href="#668865" title="RefChecks.this.global.Type">cb1</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#668866" title="RefChecks.this.global.Type">cb2</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Allowing %s to override %s because %s &lt;:&lt; %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#668782" title="RefChecks.this.global.Type">tp1</a>, <a href="#668783" title="RefChecks.this.global.Type">tp2</a>, <a href="#668865" title="RefChecks.this.global.Type">cb1</a>, <a href="#668866" title="RefChecks.this.global.Type">cb2</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class RefCheckTransformer extends RefChecks.this.global.Transformer with ScalaObject" id="242168">RefCheckTransformer</a><a href="#242168" title="ScalaObject" class="delimiter">(</a><a title="RefChecks.this.global.CompilationUnit" id="668751">unit</a>: <a href="../CompilationUnits.scala.html#186387" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#186434" title="RefChecks.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>

    <span class="keyword">var</span> <a title="RefChecks.this.global.analyzer.Typer" id="668685">localTyper</a>: analyzer.<a href="Typers.scala.html#187422" title="RefChecks.this.global.analyzer.Typer">Typer</a> = <a href="../Global.scala.html#186285" title="object RefChecks.this.global.typer">typer</a>;
    <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="668688">currentApplication</a>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="#242152" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">var</span> <a title="Boolean" id="668691">inPattern</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">var</span> <a title="scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" id="668694">checkedCombinations</a> = <span title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</span><span title="(elems: List[RefChecks.this.global.Type]*)scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" class="delimiter">[</span><span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    // only one overloaded alternative is allowed to define default arguments
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="668696">checkOverloadedRestrictions</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669306">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      // Using the default getters (such as methodName$default$1) as a cheap way of
      // finding methods with default parameters. This way, we can limit the members to
      // those with the DEFAULTPARAM flag, and infer the methods. Looking for the methods
      // directly requires inspecting the parameter list of every one. That modification
      // shaved 95% off the time spent in this method.
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="669308">defaultGetters</a>     = <a href="#669306" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41595" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58913" title="=&gt; RefChecks.this.global.nme.NameType">ANYNAME</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(33554432L)">DEFAULTPARAM</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46653" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.TermName]" id="669309">defaultMethodNames</a> = <a href="#669308" title="List[RefChecks.this.global.Symbol]">defaultGetters</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TermName)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TermName,List[RefChecks.this.global.TermName]])List[RefChecks.this.global.TermName]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669330">sym</a> =&gt; <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59439" title="(name: RefChecks.this.global.Name)RefChecks.this.global.TermName">defaultGetterToMethod</a><span class="delimiter">(</span><a href="#669330" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#669309" title="List[RefChecks.this.global.TermName]">defaultMethodNames</a>.<span title="=&gt; List[RefChecks.this.global.TermName]">distinct</span> <span title="(f: RefChecks.this.global.TermName =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.TermName" id="669384">name</a> =&gt;
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="669385">methods</a>      = <a href="#669306" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41595" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="#669384" title="RefChecks.this.global.TermName">name</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(64L)">METHOD</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46653" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="669386">haveDefaults</a> = <a href="#669385" title="List[RefChecks.this.global.Symbol]">methods</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669390">sym</a> =&gt; <a href="#669390" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46630" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">hasParamWhich</a><span class="delimiter">(</span><a href="#669393" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46802" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/NameManglers.scala.html#59420" title="(name: RefChecks.this.global.Name)Boolean">isProtectedAccessorName</a><span class="delimiter">(</span><a href="#669390" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669386" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="(len: Int)Int">lengthCompare</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="669399">owners</a> = <a href="#669386" title="List[RefChecks.this.global.Symbol]">haveDefaults</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">map</span> <span class="delimiter">(</span><a href="#669416" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
           // constructors of different classes are allowed to have defaults
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669386" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669450">x</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#669450" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#669399" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">distinct</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#669386" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#669306" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>,
              <span title="String(&quot;in &quot;)" class="string">&quot;in &quot;</span><span title="(x$1: Any)String">+</span> <a href="#669306" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot;, multiple overloaded alternatives of &quot;)" class="string">&quot;, multiple overloaded alternatives of &quot;</span><span title="(x$1: Any)String">+</span> <a href="#669386" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<span title="=&gt; RefChecks.this.global.Symbol">head</span> <span title="(x$1: Any)String">+</span>
              <span title="String(&quot; define default arguments&quot;)" class="string">&quot; define default arguments&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#669399" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#669462" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#669306" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
                <span class="keyword">else</span> <span title="String(&quot;.\nThe members with defaults are defined in &quot;)" class="string">&quot;.\nThe members with defaults are defined in &quot;</span><span title="(x$1: Any)String">+</span><a href="#669399" title="List[RefChecks.this.global.Symbol]">owners</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#669483" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span>, <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#186939" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">lint</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#669306" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#60516" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669524">x</a> =&gt; <a href="#669524" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46778" title="=&gt; Boolean">isImplicit</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#669524" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Scopes.scala.html#60513" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="669547">sym</a> =&gt;
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="669548">alts</a> = <a href="#669306" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41537" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#669547" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46653" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669548" title="List[RefChecks.this.global.Symbol]">alts</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <a href="#669548" title="List[RefChecks.this.global.Symbol]">alts</a> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669573">x</a> =&gt; <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#669573" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;)" class="string">&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Override checking ------------------------------------------------------------
    
    <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Boolean" id="668697">isJavaVarargsAncestor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669578">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
         <a href="#669578" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#669578" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#669578" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41538" title="=&gt; List[RefChecks.this.global.Symbol]">nonPrivateDecls</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="../../../reflect/internal/Definitions.scala.html#45112" title="(m: RefChecks.this.global.Symbol)Boolean">isJavaVarArgsMethod</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    /** Add bridges for vararg methods that extend Java vararg methods
     */
    <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="668698">addVarargBridges</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669595">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      // This is quite expensive, so attempt to skip it completely.
      // Insist there at least be a java-defined ancestor which
      // defines a varargs method. TODO: Find a cheaper way to exclude.
      <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#669595" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#41581" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="#668697" title="(clazz: RefChecks.this.global.Symbol)Boolean">isJavaVarargsAncestor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Found java varargs ancestor in &quot;)" class="string">&quot;Found java varargs ancestor in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#669595" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="669607">self</a> = <a href="#669595" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; RefChecks.this.global.Type">thisType</a>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" id="669608">bridges</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">ListBuffer</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
    
        <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="669609">varargBridge</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669610">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="669611">bridgetpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Generating varargs bridge for &quot;)" class="string">&quot;Generating varargs bridge for &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#669610" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#669611" title="RefChecks.this.global.Type">bridgetpe</a><span class="delimiter">)</span>
          
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="669612">bridge</a> = <a href="#669610" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46660" title="(owner: RefChecks.this.global.Symbol, newFlags: Long)RefChecks.this.global.Symbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#669595" title="RefChecks.this.global.Symbol">clazz</a>, <a href="#669610" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46586" title="=&gt; Long">flags</a> <span title="(x: Long)Long">|</span> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46380" title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Symbol">setPos</a> <a href="#669595" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>
          <a href="#669612" title="RefChecks.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#46610" title="(info: RefChecks.this.global.Type)bridge.type">setInfo</a><span class="delimiter">(</span><a href="#669611" title="RefChecks.this.global.Type">bridgetpe</a>.<a href="../../../reflect/internal/Types.scala.html#41583" title="(owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#669612" title="RefChecks.this.global.Symbol">bridge</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#669595" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a> <a href="#669612" title="RefChecks.this.global.Symbol">bridge</a>
         
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="669613">params</a>  = <a href="#669612" title="RefChecks.this.global.Symbol">bridge</a>.<a href="../../../reflect/internal/Symbols.scala.html#46629" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">head</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="669614">elemtp</a>  = <a href="#669613" title="List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; RefChecks.this.global.Symbol">last</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[RefChecks.this.global.Type]">typeArgs</a>.<span title="=&gt; RefChecks.this.global.Type">head</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Ident]" id="669615">idents</a>  = <a href="#669613" title="List[RefChecks.this.global.Symbol]">params</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Ident,List[RefChecks.this.global.Ident]])List[RefChecks.this.global.Ident]">map</span> <a href="#242152" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Ident">Ident</a>
          <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Typed" id="669616">lastarg</a> = <a href="../Global.scala.html#186149" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239099" title="(tree: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239103" title="(tree: RefChecks.this.global.gen.global.Tree, elemtp: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Tree">mkWrapArray</a><span class="delimiter">(</span><a href="#669615" title="List[RefChecks.this.global.Ident]">idents</a>.<span title="=&gt; RefChecks.this.global.Ident">last</span>, <a href="#669614" title="RefChecks.this.global.Type">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Apply" id="669617">body</a>    = <a href="#242152" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#242152" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="#242152" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Tree">This</a><span class="delimiter">(</span><a href="#669595" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#669610" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="#669615" title="List[RefChecks.this.global.Ident]">idents</a>.<span title="=&gt; List[RefChecks.this.global.Ident]">init</span> <span title="(elem: RefChecks.this.global.Tree with Serializable)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Ident],RefChecks.this.global.Tree with Serializable,List[RefChecks.this.global.Tree with Serializable]])List[RefChecks.this.global.Tree with Serializable]">:+</span> <a href="#669616" title="RefChecks.this.global.gen.global.Typed">lastarg</a><span class="delimiter">)</span>

          <a href="#668685" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a> <a href="Typers.scala.html#187859" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a> <a href="../../../reflect/internal/Trees.scala.html#39370" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#669612" title="RefChecks.this.global.Symbol">bridge</a>, <a href="#669617" title="RefChecks.this.global.Apply">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    
        // For all concrete non-private members that have a (Scala) repeated parameter:
        //   compute the corresponding method type `jtpe` with a Java repeated parameter
        //   if a method with type `jtpe` exists and that method is not a varargs bridge
        //   then create a varargs bridge of type `jtpe` that forwards to the
        //   member method with the Scala vararg type.
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669889">member</a> &lt;- <a href="#669595" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41541" title="(f: RefChecks.this.global.Symbol =&gt; Any)Unit">nonPrivateMembers</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#669889" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#669889" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#45117" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#669889" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="669891">inherited</a> = <a href="#669595" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41549" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#669889" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
            // Delaying calling memberType as long as possible
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#669891" title="RefChecks.this.global.Symbol">inherited</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="669894">jtpe</a> = <a href="../../../reflect/internal/Types.scala.html#74770" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#669607" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#669889" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
              // this is a bit tortuous: we look for non-private members or bridges
              // if we find a bridge everything is OK. If we find another member,
              // we need to create a bridge
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#669891" title="RefChecks.this.global.Symbol">inherited</a> <a href="../../../reflect/internal/Symbols.scala.html#46654" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669909">sym</a> =&gt; <span class="delimiter">(</span><a href="#669607" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#669909" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#41577" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#669894" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#669909" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46559" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
                <a href="#669608" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a> <span title="(x: RefChecks.this.global.Tree)bridges.type">+=</span> <a href="#669609" title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">varargBridge</a><span class="delimiter">(</span><a href="#669889" title="RefChecks.this.global.Symbol">member</a>, <a href="#669894" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    
        <a href="#669608" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a>.<span title="=&gt; List[RefChecks.this.global.Tree]">toList</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="object Nil">Nil</span>
    <span class="delimiter">}</span>

    /** 1. Check all members of class `clazz` for overriding conditions.
     *  That is for overriding member M and overridden member O:
     *
     *    1.1. M must have the same or stronger access privileges as O.
     *    1.2. O must not be final.
     *    1.3. O is deferred, or M has `override` modifier.
     *    1.4. If O is stable, then so is M.
     *     // @M: LIFTED 1.5. Neither M nor O are a parameterized type alias
     *    1.6. If O is a type alias, then M is an alias of O.
     *    1.7. If O is an abstract type then
     *       1.7.1 either M is an abstract type, and M's bounds are sharper than O's bounds.
     *             or M is a type alias or class which conforms to O's bounds.
     *       1.7.2 higher-order type arguments must respect bounds on higher-order type parameters  -- @M
     *              (explicit bounds and those implied by variance annotations) -- @see checkKindBounds
     *    1.8. If O and M are values, then
     *    1.8.1  M's type is a subtype of O's type, or
     *    1.8.2  M is of type []S, O is of type ()T and S &lt;: T, or
     *    1.8.3  M is of type ()S, O is of type []T and S &lt;: T, or
     *  2. Check that only abstract classes have deferred members
     *  3. Check that concrete classes do not have deferred definitions
     *     that are not implemented in a subclass.
     *  4. Check that every member with an `override` modifier
     *     overrides some other member.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit" id="668699">checkAllOverrides</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669935">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="669938">typesOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="669939">self</a> = <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; RefChecks.this.global.Type">thisType</a>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="669940">classBoundAsSeen</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="669953">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#669953" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46631" title="=&gt; RefChecks.this.global.Type">classBound</a>.<a href="../../../reflect/internal/Types.scala.html#41554" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#669939" title="RefChecks.this.global.Type">self</a>, <a href="#669953" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      case <span class="keyword">class</span> <a title="class MixinOverrideError extends Object with ScalaObject with Product with Serializable" id="671349">MixinOverrideError</a><a href="#671349" title="ScalaObject" class="delimiter">(</a><a title="RefChecks.this.global.Symbol" id="671344">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="String" id="671345">msg</a>: <span title="String">String</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[MixinOverrideError]" id="669944">mixinOverrideErrors</a> = <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]">ListBuffer</span><span class="delimiter">[</span>MixinOverrideError<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="()Unit" id="669945">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#669944" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a>.<span title="=&gt; List[MixinOverrideError]">toList</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#670023" title="Unit">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">case</span> <a href="#670037" title="Unit">List</a><span class="delimiter">(</span>MixinOverrideError<span class="delimiter">(</span>_, <a title="String" id="670075">msg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#670075" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">MixinOverrideError</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670080">member</a>, <a title="String" id="670081">msg</a><span class="delimiter">)</span> :: <a title="List[MixinOverrideError]" id="670082">others</a> =&gt;
            <span class="keyword">val</span> <a title="List[String]" id="670083">others1</a> = <a href="#670082" title="List[MixinOverrideError]">others</a>.<span title="(f: MixinOverrideError =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[MixinOverrideError],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#670100" title="MixinOverrideError">_</a>.<a href="#671344" title="=&gt; RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52171" title="=&gt; String">decode</a><span class="delimiter">)</span>.<span title="(p: String =&gt; Boolean)List[String]">filter</span><span class="delimiter">(</span><a href="#670080" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52171" title="=&gt; String">decode</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#670133" title="String">_</a><span class="delimiter">)</span>.<span title="=&gt; List[String]">distinct</span>
            <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
              <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>,
              <a href="#670081" title="String">msg</a><span title="(x$1: Any)String">+</span><span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#670083" title="List[String]">others1</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
                   <span class="keyword">else</span> <span title="String(&quot;;\n other members with override errors are: &quot;)" class="string">&quot;;\n other members with override errors are: &quot;</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span><a href="#670083" title="List[String]">others1</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="669946">infoString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670142">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#669948" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String">infoString0</a><span class="delimiter">(</span><a href="#670142" title="RefChecks.this.global.Symbol">sym</a>, <a href="#670142" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="669947">infoStringWithLocation</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670153">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#669948" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String">infoString0</a><span class="delimiter">(</span><a href="#670153" title="RefChecks.this.global.Symbol">sym</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)String" id="669948">infoString0</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670143">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="670144">showLocation</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="670145">sym1</a> = <a href="../Global.scala.html#186231" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#187647" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#670143" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#670145" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46742" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
        <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#670144" title="Boolean">showLocation</a><span class="delimiter">)</span>
          <a href="#670145" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46744" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span>
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#670145" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span title="String(&quot;, which equals &quot;)" class="string">&quot;, which equals &quot;</span><span title="(x$1: Any)String">+</span><a href="#669939" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#41555" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#670145" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#670145" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span title="String(&quot; with bounds &quot;)" class="string">&quot; with bounds &quot;</span><span title="(x$1: Any)String">+</span><a href="#669939" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#41555" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#670145" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#670145" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span title="String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span><span title="(x$1: Any)String">+</span><a href="#669939" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#41555" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#670145" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
         <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Check that all conditions for overriding `other` by `member`
       *  of class `clazz` are met.
       */
      <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit" id="669949">checkOverride</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670154">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="670155">other</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Checking validity of %s overriding %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a>, <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span><span class="delimiter">)</span>
        
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Type" id="670156">memberTp</a> = <a href="#669939" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Type" id="670157">otherTp</a>  = <a href="#669939" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="670158">noErrorType</a> = <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#38820" title="object RefChecks.this.global.ErrorType">ErrorType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Types.scala.html#38820" title="object RefChecks.this.global.ErrorType">ErrorType</a>
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="670159">isRootOrNone</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670183">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#670183" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44950" title="=&gt; RefChecks.this.global.ModuleClassSymbol">RootClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#670183" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="670160">isNeitherInClass</a> = <span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; String" id="670161">objectOverrideErrorMsg</a> = <span class="delimiter">(</span>
          <span title="String(&quot;overriding &quot;)" class="string">&quot;overriding &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)String">+</span>
          <span title="String(&quot;an overriding object must conform to the overridden object\'s class bound&quot;)" class="string">&quot;an overriding object must conform to the overridden object's class bound&quot;</span> <span title="(x$1: Any)String">+</span>
          <a href="../Global.scala.html#186231" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#187654" title="(found: RefChecks.this.global.analyzer.global.Type, req: RefChecks.this.global.analyzer.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#669940" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#669940" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">classBoundAsSeen</a><span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(msg: String)String" id="670162">overrideErrorMsg</a><span class="delimiter">(</span><a title="String" id="670204">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="670205">isConcreteOverAbstract</a> =
            <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a>
          <span class="keyword">val</span> <a title="String" id="670206">addendum</a> =
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#670205" title="Boolean">isConcreteOverAbstract</a><span class="delimiter">)</span>
              <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;;\n (Note that %s is abstract,\n  and is therefore overridden by concrete %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
                <a href="#669947" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>,
                <a href="#669947" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="../Global.scala.html#186231" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#187654" title="(found: RefChecks.this.global.analyzer.global.Type, req: RefChecks.this.global.analyzer.global.Type)String">foundReqMsg</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>, <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>

          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;overriding %s;\n %s %s%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#669947" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>, <a href="#669946" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="#670204" title="String">msg</a>, <a href="#670206" title="String">addendum</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(fullmsg: String)Unit" id="670163">emitOverrideError</a><span class="delimiter">(</span><a title="String" id="670218">fullmsg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#670218" title="String">fullmsg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#669944" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a> <span title="(x: MixinOverrideError)scala.collection.mutable.ListBuffer[MixinOverrideError]">+=</span> <span title="MixinOverrideError" class="keyword">new</span> <a href="#671349" title="MixinOverrideError">MixinOverrideError</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>, <a href="#670218" title="String">fullmsg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(msg: String)Unit" id="670164">overrideError</a><span class="delimiter">(</span><a title="String" id="670242">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670158" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span>
            <a href="#670163" title="(fullmsg: String)Unit">emitOverrideError</a><span class="delimiter">(</span><a href="#670162" title="(msg: String)String">overrideErrorMsg</a><span class="delimiter">(</span><a href="#670242" title="String">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="670165">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670158" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670163" title="(fullmsg: String)Unit">emitOverrideError</a><span class="delimiter">(</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46462" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <a href="#670161" title="=&gt; String">objectOverrideErrorMsg</a>
              <span class="keyword">else</span> <a href="#670162" title="(msg: String)String">overrideErrorMsg</a><span class="delimiter">(</span><span title="String(&quot;has incompatible type&quot;)" class="string">&quot;has incompatible type&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="670166">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="670243">otherAccess</a> = <a href="#242166" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
          <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has weaker access privileges; it should be &quot;)" class="string">&quot;has weaker access privileges; it should be &quot;</span><span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#670243" title="String">otherAccess</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="String(&quot;public&quot;)" class="string">&quot;public&quot;</span> <span class="keyword">else</span> <span title="String(&quot;at least &quot;)" class="string">&quot;at least &quot;</span><span title="(x$1: Any)String">+</span><a href="#670243" title="String">otherAccess</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        //Console.println(infoString(member) + &quot; overrides &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG

        // return if we already checked this combination elsewhere
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="670253">deferredCheck</a>        = <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a>
          <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="670254">subOther</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670256">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <a href="#670256" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="670255">subMember</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670258">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#670258" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670254" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670253" title="=&gt; Boolean">deferredCheck</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows1 &quot; + infoString(other) &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46681" title="=&gt; List[RefChecks.this.global.Symbol]">parentSymbols</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670268">p</a> =&gt; <a href="#670254" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#670268" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670255" title="(s: RefChecks.this.global.Symbol)Boolean">subMember</a><span class="delimiter">(</span><a href="#670268" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670253" title="=&gt; Boolean">deferredCheck</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows2 &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46681" title="=&gt; List[RefChecks.this.global.Symbol]">parentSymbols</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670277">p</a> =&gt; <a href="#670254" title="(s: RefChecks.this.global.Symbol)Boolean">subOther</a><span class="delimiter">(</span><a href="#670277" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">==</span> <a href="#670255" title="(s: RefChecks.this.global.Symbol)Boolean">subMember</a><span class="delimiter">(</span><a href="#670277" title="RefChecks.this.global.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            //Console.println(infoString(member) + &quot; shadows &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        /** Is the intersection between given two lists of overridden symbols empty?
         */
        <span class="keyword">def</span> <a title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean" id="670167">intersectionIsEmpty</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="670283">syms1</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Symbol]" id="670284">syms2</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
          <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#670283" title="List[RefChecks.this.global.Symbol]">syms1</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#670284" title="List[RefChecks.this.global.Symbol]">syms2</a> <a href="#670291" title="(elem: Any)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669938" title="Boolean">typesOnly</a><span class="delimiter">)</span> <a href="#670168" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          // o: public | protected        | package-protected  (aka java's default access)
          // ^-may be overridden by member with access privileges-v
          // m: public | public/protected | public/protected/package-protected-in-same-package-as-o

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46782" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> // (1.1)
            <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has weaker access privileges; it should not be private&quot;)" class="string">&quot;has weaker access privileges; it should not be private&quot;</span><span class="delimiter">)</span>

          // todo: align accessibility implication checking with isAccessible in Contexts
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="670292">ob</a> = <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46596" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="670293">mb</a> = <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46596" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="670294">isOverrideAccessOK</a> = <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46792" title="=&gt; Boolean">isPublic</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>      // member is public, definitely same or relaxed access
            <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46783" title="=&gt; Boolean">isProtected</a> <span title="(x: Boolean)Boolean">||</span> <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46783" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>    // if o is protected, so is m
            <span class="delimiter">(</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#670159" title="(sym: RefChecks.this.global.Symbol)Boolean">isRootOrNone</a><span class="delimiter">(</span><a href="#670292" title="RefChecks.this.global.Symbol">ob</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670292" title="RefChecks.this.global.Symbol">ob</a>.<a href="../../../reflect/internal/Symbols.scala.html#46570" title="(sym: RefChecks.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#670293" title="RefChecks.this.global.Symbol">mb</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>  // m relaxes o's access boundary
              <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>                           // overriding a protected java member, see #3946
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#670294" title="=&gt; Boolean">isOverrideAccessOK</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670166" title="()Unit">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot be used here - class definitions cannot be overridden&quot;)" class="string">&quot;cannot be used here - class definitions cannot be overridden&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot be used here - classes can only override abstract types&quot;)" class="string">&quot;cannot be used here - classes can only override abstract types&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46777" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.2)
            <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override final member&quot;)" class="string">&quot;cannot override final member&quot;</span><span class="delimiter">)</span>;
            // synthetic exclusion needed for (at least) default getters.
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46797" title="=&gt; Boolean">isAnyOverride</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46784" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670160" title="=&gt; Boolean">isNeitherInClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#670163" title="(fullmsg: String)Unit">emitOverrideError</a><span class="delimiter">(</span>
                  <a href="#669935" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)String">+</span> <span title="String(&quot; inherits conflicting members:\n  &quot;)" class="string">&quot; inherits conflicting members:\n  &quot;</span>
                    <span title="(x$1: Any)String">+</span> <a href="#669947" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;  and\n  &quot;)" class="string">&quot;  and\n  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#669947" title="(sym: RefChecks.this.global.Symbol)String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
                    <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n(Note: this can be resolved by declaring an override in &quot;)" class="string">&quot;\n(Note: this can be resolved by declaring an override in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.)&quot;)" class="string">&quot;.)&quot;</span>
                <span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs `override\' modifier&quot;)" class="string">&quot;needs `override' modifier&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46796" title="=&gt; Boolean">isAbstractOverride</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46558" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46796" title="=&gt; Boolean">isAbstractOverride</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs `abstract override\' modifiers&quot;)" class="string">&quot;needs `abstract override' modifiers&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46797" title="=&gt; Boolean">isAnyOverride</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/Symbols.scala.html#46481" title="=&gt; Boolean">isVariable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override a mutable variable&quot;)" class="string">&quot;cannot override a mutable variable&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46797" title="=&gt; Boolean">isAnyOverride</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#41581" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#670316" title="RefChecks.this.global.Symbol">_</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <span title="=&gt; Boolean">!</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <a href="#670167" title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean">intersectionIsEmpty</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46706" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a>, <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46706" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span class="string">&quot;cannot override a concrete member without a third member that's overridden by both &quot;</span><span title="String(&quot;cannot override a concrete member without a third member that\'s overridden by both (this rule is designed to prevent ``accidental overrides\'\')&quot;)">+</span>
                          <span class="string">&quot;(this rule is designed to prevent ``accidental overrides'')&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46534" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46534" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.4)
            <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;needs to be a stable, immutable value&quot;)" class="string">&quot;needs to be a stable, immutable value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46480" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46480" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46468" title="=&gt; Boolean">isSourceMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;cannot override a concrete non-lazy value&quot;)" class="string">&quot;cannot override a concrete non-lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46480" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46468" title="=&gt; Boolean">isSourceMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                     <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46480" title="=&gt; Boolean">isValue</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;must be declared lazy to override a concrete lazy value&quot;)" class="string">&quot;must be declared lazy to override a concrete lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#670168" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#186957" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryOverride</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46629" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46629" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;non-nullary method overrides nullary method&quot;)" class="string">&quot;non-nullary method overrides nullary method&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="670168">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //if (!member.typeParams.isEmpty) (1.5)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            //if (!other.typeParams.isEmpty)  (1.5)   @MAT
            //  overrideError(&quot;may not override parameterized type&quot;);
            // @M: substSym

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#670156" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#41559" title="(from: List[RefChecks.this.global.Symbol], to: List[RefChecks.this.global.Symbol])RefChecks.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#670157" title="=&gt; RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span> // (1.6)
              <a href="#670165" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> 
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            //if (!member.typeParams.isEmpty) // (1.7)  @MAT
            //  overrideError(&quot;may not be parameterized&quot;);
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="670331">otherTp</a> = <a href="#669939" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#41555" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#670331" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../../../reflect/internal/Types.scala.html#62306" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#670156" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // (1.7.1)
              <a href="#670165" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>; // todo: do an explaintypes with bounds here
              <a href="../../../reflect/internal/Types.scala.html#39139" title="(op: (RefChecks.this.global.Type, RefChecks.this.global.Type) =&gt; Any, found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#670342" title="RefChecks.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../../../reflect/internal/Types.scala.html#62306" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#670343" title="RefChecks.this.global.Type">_</a>, <a href="#670331" title="RefChecks.this.global.Type">otherTp</a>, <a href="#670156" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            // check overriding (abstract type --&gt; abstract type or abstract type --&gt; concrete type member (a type alias))
            // making an abstract type member concrete is like passing a type argument
            <span class="keyword">val</span> <a title="List[String]" id="670332">kindErrors</a> = <a href="../Global.scala.html#186285" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#187731" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#188033" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span><span class="delimiter">(</span><a href="#670156" title="=&gt; RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>, <a href="#669939" title="RefChecks.this.global.Type">self</a>, <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> // (1.7.2)

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#670332" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
              <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>,
                <span title="String(&quot;The kind of &quot;)" class="string">&quot;The kind of &quot;</span><span title="(x$1: Any)String">+</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46729" title="=&gt; String">keyString</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46752" title="=&gt; String">varianceString</a> <span title="(x$1: Any)String">+</span> <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46739" title="=&gt; String">nameString</a><span title="(x$1: Any)String">+</span>
                <span title="String(&quot; does not conform to the expected kind of &quot;)" class="string">&quot; does not conform to the expected kind of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46757" title="=&gt; String">defString</a> <span title="(x$1: Any)String">+</span> <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46744" title="=&gt; String">locationString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)String">+</span>
                <a href="#670332" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

            // check a type alias's RHS corresponds to its declaration
            // this overlaps somewhat with validateVariance
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // println(&quot;checkKindBounds&quot; + ((List(member), List(memberTp.normalize), self, member.owner)))
              <span class="keyword">val</span> <a title="List[String]" id="670365">kindErrors</a> = <a href="../Global.scala.html#186285" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#187731" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#188033" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span><span class="delimiter">(</span><a href="#670156" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span>, <a href="#669939" title="RefChecks.this.global.Type">self</a>, <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>

              <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#670365" title="List[String]">kindErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
                <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>,
                  <span title="String(&quot;The kind of the right-hand side &quot;)" class="string">&quot;The kind of the right-hand side &quot;</span><span title="(x$1: Any)String">+</span><a href="#670156" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; RefChecks.this.global.Type">normalize</a><span title="(x$1: Any)String">+</span><span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)String">+</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46729" title="=&gt; String">keyString</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span>
                  <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46752" title="=&gt; String">varianceString</a> <span title="(x$1: Any)String">+</span> <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46739" title="=&gt; String">nameString</a><span title="(x$1: Any)String">+</span> <span title="String(&quot; does not conform to its expected kind.&quot;)" class="string">&quot; does not conform to its expected kind.&quot;</span><span title="(x$1: Any)String">+</span>
                  <a href="#670365" title="List[String]">kindErrors</a>.<span title="=&gt; List[String]">toList</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670156" title="=&gt; RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#41492" title="=&gt; Boolean">isVolatile</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670331" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#41492" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;)" class="string">&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670155" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/Symbols.scala.html#46623" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> // #2454
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="670385">memberTp</a> = <a href="#669939" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="670386">otherTp</a> = <a href="#669939" title="RefChecks.this.global.Type">self</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#670155" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#242167" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type, prefix: RefChecks.this.global.Type)Boolean">overridesTypeInPrefix</a><span class="delimiter">(</span><a href="#670385" title="RefChecks.this.global.Type">memberTp</a>, <a href="#670386" title="RefChecks.this.global.Type">otherTp</a>, <a href="#669939" title="RefChecks.this.global.Type">self</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> // 8
              <a href="#670165" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="../../../reflect/internal/Types.scala.html#39138" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#670385" title="RefChecks.this.global.Type">memberTp</a>, <a href="#670386" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46534" title="=&gt; Boolean">isStable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670386" title="RefChecks.this.global.Type">otherTp</a>.<a href="../../../reflect/internal/Types.scala.html#41492" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
	            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670385" title="RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#41492" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#670164" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="String(&quot;has a volatile type; cannot override a member with non-volatile type&quot;)" class="string">&quot;has a volatile type; cannot override a member with non-volatile type&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#670385" title="RefChecks.this.global.Type">memberTp</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; RefChecks.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; RefChecks.this.global.Type">resultType</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Unit" id="670392">rt</a>: <a href="../../../reflect/internal/Types.scala.html#38851" title="RefChecks.this.global.RefinedType">RefinedType</a> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#670392" title="RefChecks.this.global.RefinedType">rt</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#670386" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#668694" title="=&gt; scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">checkedCombinations</a> <span title="(elem: List[RefChecks.this.global.Type])Boolean">contains</span> <a href="#670392" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../../../reflect/internal/Types.scala.html#60436" title="=&gt; List[RefChecks.this.global.Type]">parents</a><span class="delimiter">)</span> =&gt;
                  // might mask some inconsistencies -- check overrides
                  <a href="#668694" title="(x$1: scala.collection.immutable.Set[List[RefChecks.this.global.Type]])Unit">checkedCombinations</a> <span title="(elem: List[RefChecks.this.global.Type])scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">+=</span> <a href="#670392" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../../../reflect/internal/Types.scala.html#60436" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
                  <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="670407">tsym</a> = <a href="#670392" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>;
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#670407" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Positions.scala.html#186524" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#670407" title="RefChecks.this.global.Symbol">tsym</a> <a href="../../../reflect/internal/Symbols.scala.html#46380" title="(pos: RefChecks.this.global.Position)tsym.type">setPos</a> <a href="#670154" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>
                  <a href="#668699" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="#670407" title="RefChecks.this.global.Symbol">tsym</a>, typesOnly = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span title="Unit" class="delimiter">}</span>

      <span class="keyword">val</span> <a title="RefChecks.this.global.overridingPairs.Cursor" id="669950">opc</a> = <span title="RefChecks.this.global.overridingPairs.Cursor" class="keyword">new</span> <a href="../Global.scala.html#186157" title="object RefChecks.this.global.overridingPairs">overridingPairs</a>.<a href="../transform/OverridingPairs.scala.html#239570" title="RefChecks.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#669950" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#598949" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#669952" title="()Unit" class="delimiter">{</a>
        //Console.println(opc.overriding/* + &quot;:&quot; + opc.overriding.tpe*/ + &quot; in &quot;+opc.overriding.fullName + &quot; overrides &quot; + opc.overridden/* + &quot;:&quot; + opc.overridden.tpe*/ + &quot; in &quot;+opc.overridden.fullName + &quot;/&quot;+ opc.overridden.hasFlag(DEFERRED));//debug
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#669950" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#598946" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#669949" title="(member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit">checkOverride</a><span class="delimiter">(</span><a href="#669950" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#598943" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#669950" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#598946" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span>;

        <a href="#669950" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#598950" title="()Unit">next</a>
      <span class="delimiter">}</span>
      <a href="#669945" title="()Unit">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span>

      // Verifying a concrete class has nothing unimplemented.
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46455" title="=&gt; Boolean">isConcreteClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#669938" title="Boolean">typesOnly</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="670435">abstractErrors</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[String]">ListBuffer</span><span class="delimiter">[</span>String<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="=&gt; String" id="670436">abstractErrorMessage</a> =
          // a little formatting polish
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#670435" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;=</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#670435" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(sep: String)String">mkString</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>
          <span class="keyword">else</span> <a href="#670435" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; scala.collection.mutable.ListBuffer[String]">tail</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><a href="#670435" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; String">head</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span>, <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(mustBeMixin: Boolean, msg: String)Unit" id="670437">abstractClassError</a><span class="delimiter">(</span><a title="Boolean" id="670451">mustBeMixin</a>: <span title="Boolean">Boolean</span>, <a title="String" id="670452">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; String" id="670453">prelude</a> = <span class="delimiter">(</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46503" title="=&gt; Boolean">isAnonymousClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span> <span title="String(&quot;object creation impossible&quot;)" class="string">&quot;object creation impossible&quot;</span>
            <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#670451" title="Boolean">mustBeMixin</a><span class="delimiter">)</span> <a href="#669935" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)String">+</span> <span title="String(&quot; needs to be a mixin&quot;)" class="string">&quot; needs to be a mixin&quot;</span>
            <span class="keyword">else</span> <a href="#669935" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <span title="(other: String)String">+</span> <span title="String(&quot; needs to be abstract&quot;)" class="string">&quot; needs to be abstract&quot;</span>
          <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, since&quot;)" class="string">&quot;, since&quot;</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670435" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="#670435" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(xs: scala.collection.TraversableOnce[String])abstractErrors.type">++=</span> <span title="(xs: String*)List[String]">List</span><span class="delimiter">(</span><a href="#670453" title="=&gt; String">prelude</a>, <a href="#670452" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#670435" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(x: String)abstractErrors.type">+=</span> <a href="#670452" title="String">msg</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol" id="670438">javaErasedOverridingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670476">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a> =
          <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41549" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#670476" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Long(67108864L)">BRIDGE</span><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46654" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670479">other</a> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#670479" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#670479" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
              // #3622: erasure operates on uncurried types --
              // note on passing sym in both cases: only sym.isType is relevant for uncurry.transformInfo
              <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type" id="670480">uncurryAndErase</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="670483">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../Global.scala.html#186247" title="object RefChecks.this.global.erasure">erasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#74745" title="(sym: RefChecks.this.global.erasure.global.Symbol, tp: RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type">erasure</a><span class="delimiter">(</span><a href="#670476" title="RefChecks.this.global.Symbol">sym</a>, <a href="../Global.scala.html#186239" title="object RefChecks.this.global.uncurry">uncurry</a>.<a href="../../../reflect/internal/transform/UnCurry.scala.html#74928" title="(sym: RefChecks.this.global.uncurry.global.Symbol, tp: RefChecks.this.global.uncurry.global.Type)RefChecks.this.global.uncurry.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#670476" title="RefChecks.this.global.Symbol">sym</a>, <a href="#670483" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="670481">tp1</a> = <a href="#670480" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#670476" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="670482">tp2</a> = <a href="#670480" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#670479" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188848" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#670481" title="RefChecks.this.global.erasure.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#41577" title="(that: RefChecks.this.global.erasure.global.Type)Boolean">matches</a> <a href="#670482" title="RefChecks.this.global.erasure.global.Type">tp2</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol)Boolean" id="670439">ignoreDeferred</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670506">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
          <span class="delimiter">(</span><a href="#670506" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670506" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46518" title="=&gt; Boolean">isFBounded</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span>
            <a href="#670506" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            // the test requires atPhase(erasurePhase.next) so shouldn't be
            // done if the compiler has no erasure phase available
            <span class="delimiter">(</span><a href="../Global.scala.html#186319" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#188848" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../package.scala.html#34867" title="=&gt; reflect.internal.NoPhase.type">NoPhase</a> <span title="(x: Boolean)Boolean">||</span> <a href="#670438" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">javaErasedOverridingSym</a><span class="delimiter">(</span><a href="#670506" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">)</span>

        // 2. Check that only abstract classes have deferred members
        <span class="keyword">def</span> <a title="()Unit" id="670440">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
          // Avoid spurious duplicates: first gather any missing members.
          <span class="keyword">def</span> <a title="=&gt; List[RefChecks.this.global.Symbol]" id="670517">memberList</a> = <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41542" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="#670519" title="(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])" class="delimiter">(</a><a href="#670518" title="List[RefChecks.this.global.Symbol]" id="670519">missing</a>, <a href="#670518" title="List[RefChecks.this.global.Symbol]" id="670520">rest</a><span class="delimiter">)</span> = <a href="#670517" title="=&gt; List[RefChecks.this.global.Symbol]">memberList</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])">partition</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670529">m</a> =&gt; <a href="#670529" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670439" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#670529" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
          // Group missing members by the name of the underlying symbol,
          // to consolidate getters and setters.
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]" id="670521">grouped</a> = <a href="#670519" title="List[RefChecks.this.global.Symbol]">missing</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.analyzer.global.Name)scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]">groupBy</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670546">sym</a> =&gt; <a href="../Global.scala.html#186231" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#187647" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#670546" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="670522">missingMethods</a> = <a href="#670521" title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]">grouped</a>.<span title="=&gt; List[(RefChecks.this.global.analyzer.global.Name, List[RefChecks.this.global.Symbol])]">toList</span> <span title="(f: ((RefChecks.this.global.analyzer.global.Name, List[RefChecks.this.global.Symbol])) =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[(RefChecks.this.global.analyzer.global.Name, List[RefChecks.this.global.Symbol])],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">flatMap</span> <a href="#670572" title="List[RefChecks.this.global.Symbol]" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="List[RefChecks.this.global.Symbol]" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Name" id="670575">name</a>, <a title="List[RefChecks.this.global.Symbol]" id="670576">syms</a><span class="delimiter">)</span> =&gt;
              <span title="List[RefChecks.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#670576" title="List[RefChecks.this.global.Symbol]">syms</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#670583" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46484" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#670576" title="List[RefChecks.this.global.Symbol]">syms</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filterNot</span> <span class="delimiter">(</span><a href="#670587" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46483" title="=&gt; Boolean">isGetter</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#670576" title="List[RefChecks.this.global.Symbol]">syms</a>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="=&gt; List[String]" id="670523">stubImplementations</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
            // Grouping missing methods by the declaring class
            <span class="keyword">val</span> <a title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]" id="670615">regrouped</a> = <a href="#670522" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Symbol)scala.collection.immutable.Map[RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]]">groupBy</span><span class="delimiter">(</span><a href="#670623" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>.<span title="=&gt; List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">toList</span>
            <span class="keyword">def</span> <a title="(members: List[RefChecks.this.global.Symbol])List[String]" id="670616">membersStrings</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="670634">members</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
              <a href="#670634" title="List[RefChecks.this.global.Symbol]">members</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit ord: scala.math.Ordering[String])List[RefChecks.this.global.Symbol]">sortBy</span><span title="object scala.math.Ordering.String" class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#670641" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670716">m</a> =&gt; <a href="#670716" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#46758" title="(info: RefChecks.this.global.Type)String">defStringSeenAs</a><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#670716" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; = ???&quot;)" class="string">&quot; = ???&quot;</span><span class="delimiter">)</span>

            <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#670615" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<span title="=&gt; List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">tail</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
              <a href="#670616" title="(members: List[RefChecks.this.global.Symbol])List[String]">membersStrings</a><span class="delimiter">(</span><a href="#670615" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<span title="=&gt; (RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])">head</span>.<span title="=&gt; List[RefChecks.this.global.Symbol]">_2</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">(</span><a href="#670615" title="List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">regrouped</a>.<span title="(f: ((RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])) =&gt; String)(implicit ord: scala.math.Ordering[String])List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])]">sortBy</span><span title="object scala.math.Ordering.String" class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#670753" title="(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])">_</a>.<span title="=&gt; RefChecks.this.global.Symbol">_1</span>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span> <span title="(f: ((RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])) =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[(RefChecks.this.global.Symbol, List[RefChecks.this.global.Symbol])],String,List[String]])List[String]">flatMap</span> <a href="#670832" title="List[String]" class="delimiter">{</a>
              <span class="keyword">case</span> <span title="List[String]" class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="670835">owner</a>, <a title="List[RefChecks.this.global.Symbol]" id="670836">members</a><span class="delimiter">)</span> =&gt;
                <span class="delimiter">(</span><span title="String(&quot;// Members declared in &quot;)" class="string">&quot;// Members declared in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#670835" title="RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46585" title="=&gt; String">fullName</a><span class="delimiter">)</span> <a href="#670837" title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">+:</a> <a href="#670616" title="(members: List[RefChecks.this.global.Symbol])List[String]">membersStrings</a><span class="delimiter">(</span><a href="#670836" title="List[RefChecks.this.global.Symbol]">members</a><span class="delimiter">)</span> <span title="(elem: String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">:+</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">init</span>
          <span class="delimiter">}</span>

          // If there are numerous missing methods, we presume they are aware of it and
          // give them a nicely formatted set of method signatures for implementing.
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670522" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#670437" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;it has &quot;)" class="string">&quot;it has &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#670522" title="List[RefChecks.this.global.Symbol]">missingMethods</a>.<span title="=&gt; Int">size</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; unimplemented members.&quot;)" class="string">&quot; unimplemented members.&quot;</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="String" id="670980">preface</a> =
              <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;|/** As seen from %s, the missing signatures are as follows.
                 | *  For convenience, these are usable as stub implementations.
                 | */
                 |&quot;&quot;&quot;</span>.<span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="#670435" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <span title="(x: String)abstractErrors.type">+=</span> <a href="#670523" title="=&gt; List[String]">stubImplementations</a>.<span title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><span title="String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#671015" title="String">_</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><a href="#670980" title="String">preface</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span>
          <span class="delimiter">}</span>

          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671065">member</a> &lt;- <a href="#670519" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">missing</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="(msg: String)Unit" id="671066">undefined</a><span class="delimiter">(</span><a title="String" id="671068">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#670437" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#669946" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#671065" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is not defined&quot;)" class="string">&quot; is not defined&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#671068" title="String">msg</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="671067">underlying</a> = <a href="../Global.scala.html#186231" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#187647" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlyingSymbol</a><span class="delimiter">(</span><a href="#671065" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>

            // Give a specific error message for abstract vars based on why it fails:
            // It could be unimplemented, have only one accessor, or be uninitialized.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671067" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#46481" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Boolean" id="671069">isMultiple</a> = <a href="#670521" title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]">grouped</a>.<span title="(key: RefChecks.this.global.analyzer.global.Name, default: =&gt; List[RefChecks.this.global.Symbol])List[RefChecks.this.global.Symbol]">getOrElse</span><span class="delimiter">(</span><a href="#671067" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;</span> <span title="Int(1)" class="int">1</span>

              // If both getter and setter are missing, squelch the setter error.
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671065" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46484" title="=&gt; Boolean">isSetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671069" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#671066" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span>
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#671065" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46484" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span title="String(&quot;\n(Note that an abstract var requires a setter in addition to the getter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a setter in addition to the getter)&quot;</span>
                <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#671065" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46483" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#671069" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="String(&quot;\n(Note that an abstract var requires a getter in addition to the setter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a getter in addition to the setter)&quot;</span>
                <span class="keyword">else</span> <a href="../Global.scala.html#186231" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#187643" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">abstractVarMessage</a><span class="delimiter">(</span><a href="#671065" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671067" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#46461" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // If there is a concrete method whose name matches the unimplemented
              // abstract method, and a cursory examination of the difference reveals
              // something obvious to us, let's make it more obvious to them.
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.analyzer.global.Type]" id="671093">abstractParams</a>   = <a href="#671067" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41527" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="671094">matchingName</a>     = <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41542" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="671095">matchingArity</a>    = <a href="#671094" title="List[RefChecks.this.global.Symbol]">matchingName</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="671099">m</a> =&gt;
                <span title="=&gt; Boolean">!</span><a href="#671099" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#671099" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#671067" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#671099" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41527" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#671067" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41527" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span class="delimiter">(</span><a href="#671099" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41528" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <a href="#671067" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41528" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>

              <a href="#671095" title="List[RefChecks.this.global.Symbol]">matchingArity</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                // So far so good: only one candidate method
                <span class="keyword">case</span> <a title="Unit" id="671123">concrete</a> :: <span title="object Nil">Nil</span>   =&gt;
                  <span class="keyword">val</span> <a title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]" id="671124">mismatches</a>  = <a href="#671093" title="List[RefChecks.this.global.analyzer.global.Type]">abstractParams</a> <span title="(that: scala.collection.GenIterable[RefChecks.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.analyzer.global.Type],(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type),List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]])List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">zip</span> <a href="#671123" title="RefChecks.this.global.Symbol">concrete</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41527" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a> <span title="(p: ((RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)) =&gt; Boolean)List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">filterNot</span> <a href="#671184" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Type" id="671187">x</a>, <a title="RefChecks.this.global.Type" id="671188">y</a><span class="delimiter">)</span> =&gt; <a href="#671187" title="RefChecks.this.global.analyzer.global.Type">x</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> <a href="#671188" title="RefChecks.this.global.Type">y</a> <span class="delimiter">}</span>
                  <a href="#671124" title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">mismatches</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                    // Only one mismatched parameter: say something useful.
                    <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Type" id="671197">pa</a>, <a title="RefChecks.this.global.Type" id="671198">pc</a><span class="delimiter">)</span> :: <span title="object Nil">Nil</span>  =&gt;
                      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="671199">abstractSym</a> = <a href="#671197" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">typeSymbol</a>
                      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="671200">concreteSym</a> = <a href="#671198" title="RefChecks.this.global.Type">pc</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
                      <span class="keyword">def</span> <a title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String" id="671201">subclassMsg</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671203">c1</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="671204">c2</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
                        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;: %s is a subclass of %s, but method parameter types must match exactly.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
                          <a href="#671203" title="RefChecks.this.global.Symbol">c1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a>, <a href="#671204" title="RefChecks.this.global.Symbol">c2</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span>
                      <span class="delimiter">)</span>
                      <span class="keyword">val</span> <a title="String" id="671202">addendum</a> = <span class="delimiter">(</span>
                        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#671199" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#671200" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                          // TODO: what is the optimal way to test for a raw type at this point?
                          // Compilation has already failed so we shouldn't have to worry overmuch
                          // about forcing types.
                          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#671067" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671197" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">typeArgs</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671199" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
                            <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;. To implement a raw type, use %s[_]&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#671197" title="RefChecks.this.global.analyzer.global.Type">pa</a><span class="delimiter">)</span>
                          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#671197" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; RefChecks.this.global.analyzer.global.Type">prefix</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> <a href="#671198" title="RefChecks.this.global.Type">pc</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; RefChecks.this.global.Type">prefix</a><span class="delimiter">)</span>
                            <span title="String(&quot;: their type parameters differ&quot;)" class="string">&quot;: their type parameters differ&quot;</span>
                          <span class="keyword">else</span>
                            <span title="String(&quot;: their prefixes (i.e. enclosing instances) differ&quot;)" class="string">&quot;: their prefixes (i.e. enclosing instances) differ&quot;</span>
                        <span class="delimiter">}</span>
                        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#671199" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.analyzer.global.Symbol)Boolean">isSubClass</a> <a href="#671200" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span>
                          <a href="#671201" title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String">subclassMsg</a><span class="delimiter">(</span><a href="#671199" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a>, <a href="#671200" title="RefChecks.this.global.Symbol">concreteSym</a><span class="delimiter">)</span>
                        <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#671200" title="RefChecks.this.global.Symbol">concreteSym</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#671199" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a><span class="delimiter">)</span>
                          <a href="#671201" title="(c1: RefChecks.this.global.Symbol, c2: RefChecks.this.global.Symbol)String">subclassMsg</a><span class="delimiter">(</span><a href="#671200" title="RefChecks.this.global.Symbol">concreteSym</a>, <a href="#671199" title="RefChecks.this.global.analyzer.global.Symbol">abstractSym</a><span class="delimiter">)</span>
                        <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
                      <span class="delimiter">)</span>

                      <a href="#671066" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\n(Note that %s does not match %s%s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#671197" title="RefChecks.this.global.analyzer.global.Type">pa</a>, <a href="#671198" title="RefChecks.this.global.Type">pc</a>, <a href="#671202" title="String">addendum</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">case</span> <a title="Unit" id="671226">xs</a> =&gt;
                      <a href="#671066" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                  <a href="#671066" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#671066" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          // Check the remainder for invalid absoverride.
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671237">member</a> &lt;- <a href="#670520" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">rest</a> ; <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#671237" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(262144L)">ABSOVERRIDE</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671237" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46558" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="671238">other</a> = <a href="#671237" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46707" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">superSymbol</a><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="String" id="671239">explanation</a> =
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#671238" title="RefChecks.this.global.Symbol">other</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="String(&quot; and overrides incomplete superclass member &quot;)" class="string">&quot; and overrides incomplete superclass member &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#669946" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#671238" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="String(&quot;, but no concrete implementation could be found in a base class&quot;)" class="string">&quot;, but no concrete implementation could be found in a base class&quot;</span>

            <a href="#670437" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#669946" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#671237" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; is marked `abstract\' and `override\'&quot;)" class="string">&quot; is marked `abstract' and `override'&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#671239" title="String">explanation</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // 3. Check that concrete classes do not have deferred definitions
        // that are not implemented in a subclass.
        // Note that this is not the same as (2); In a situation like
        //
        // class C { def m: Int = 0}
        // class D extends C { def m: Int }
        //
        // (3) is violated but not (2).
        <span class="keyword">def</span> <a title="(bc: RefChecks.this.global.Symbol)Unit" id="670441">checkNoAbstractDecls</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671246">bc</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671268">decl</a> &lt;- <a href="#671246" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#60513" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">decls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671268" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#670439" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#671268" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="671269">impl</a> = <a href="#671268" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46700" title="(site: RefChecks.this.global.Type, admit: Long)RefChecks.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; RefChecks.this.global.Type">thisType</a>, admit = <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671269" title="RefChecks.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#671268" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#671269" title="RefChecks.this.global.Symbol">impl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#670437" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;there is a deferred declaration of &quot;)" class="string">&quot;there is a deferred declaration of &quot;</span><span title="(x$1: Any)String">+</span><a href="#669946" title="(sym: RefChecks.this.global.Symbol)String">infoString</a><span class="delimiter">(</span><a href="#671268" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span title="(x$1: Any)String">+</span>
                                   <span title="String(&quot; which is not implemented in a subclass&quot;)" class="string">&quot; which is not implemented in a subclass&quot;</span><span title="(x$1: Any)String">+</span><a href="../Global.scala.html#186231" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="TypeDiagnostics.scala.html#187643" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">abstractVarMessage</a><span class="delimiter">(</span><a href="#671268" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671246" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46680" title="=&gt; RefChecks.this.global.Symbol">superClass</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(8L)">ABSTRACT</span><span class="delimiter">)</span>
            <a href="#670441" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#671246" title="RefChecks.this.global.Symbol">bc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46680" title="=&gt; RefChecks.this.global.Symbol">superClass</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#670440" title="()Unit">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670435" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#670441" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#670435" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
          <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#670436" title="=&gt; String">abstractErrorMessage</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // prevent abstract methods in interfaces that override final members in Object; see #4431
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671294">decl</a> &lt;- <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41536" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#60512" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="671295">overridden</a> = <a href="#671294" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46701" title="(ofclazz: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">overriddenSymbol</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671295" title="RefChecks.this.global.Symbol">overridden</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46777" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
            <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#671294" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;trait cannot redefine final method from class AnyRef&quot;)" class="string">&quot;trait cannot redefine final method from class AnyRef&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Returns whether there is a symbol declared in class `inclazz`
       *  (which must be different from `clazz`) whose name and type
       *  seen as a member of `class.thisType` matches `member`'s.
       */
      <span class="keyword">def</span> <a title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean" id="669951">hasMatchingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671298">inclazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="671299">member</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="671300">isVarargs</a> = <a href="../../../reflect/internal/Definitions.scala.html#45117" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#671299" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="671302">varargsType</a> = <a href="../../../reflect/internal/Types.scala.html#74770" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#671299" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="671303">isSignatureMatch</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671318">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#671318" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="671319">symtpe</a>            = <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; RefChecks.this.global.Type">thisType</a> <a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#671318" title="RefChecks.this.global.Symbol">sym</a>
          <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Boolean" id="671320">matches</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="671321">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#671321" title="RefChecks.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#41577" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#671319" title="RefChecks.this.global.Type">symtpe</a>

          <a href="#671320" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#671299" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#671300" title="Boolean">isVarargs</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671320" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#671301" title="=&gt; RefChecks.this.global.Type">varargsType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        /** The rules for accessing members which have an access boundary are more
         *  restrictive in java than scala.  Since java has no concept of package nesting,
         *  a member with &quot;default&quot; (package-level) access can only be accessed by members
         *  in the exact same package.  Example:
         *
         *    package a.b;
         *    public class JavaClass { void foo() { } }
         *
         *  The member foo() can be accessed only from members of package a.b, and not
         *  nested packages like a.b.c.  In the analogous scala class:
         *
         *    package a.b
         *    class ScalaClass { private[b] def foo() = () }
         *
         *  The member IS accessible to classes in package a.b.c.  The javaAccessCheck logic
         *  is restricting the set of matching signatures according to the above semantics.
         */
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="671304">javaAccessCheck</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671323">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
             <span title="=&gt; Boolean">!</span><a href="#671298" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a>                             // not a java defined member
          <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#671323" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46602" title="=&gt; Boolean">hasAccessBoundary</a>                             // no access boundary
          <span title="(x: Boolean)Boolean">||</span> <a href="#671323" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46783" title="=&gt; Boolean">isProtected</a>                                    // marked protected in java, thus accessible to subclasses
          <span title="(x: Boolean)Boolean">||</span> <a href="#671323" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46599" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#671299" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46684" title="=&gt; RefChecks.this.global.Symbol">enclosingPackageClass</a>  // exact package match
        <span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="671305">classDecls</a>   = <a href="#671298" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41539" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#671299" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="671306">matchingSyms</a> = <a href="#671305" title="=&gt; RefChecks.this.global.Symbol">classDecls</a> <a href="../../../reflect/internal/Symbols.scala.html#46654" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671331">sym</a> =&gt; <a href="#671303" title="(sym: RefChecks.this.global.Symbol)Boolean">isSignatureMatch</a><span class="delimiter">(</span><a href="#671331" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671304" title="(sym: RefChecks.this.global.Symbol)Boolean">javaAccessCheck</a><span class="delimiter">(</span><a href="#671331" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="delimiter">(</span><a href="#671298" title="RefChecks.this.global.Symbol">inclazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#671306" title="=&gt; RefChecks.this.global.Symbol">matchingSyms</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // 4. Check that every defined member with an `override` modifier overrides some other member.
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671371">member</a> &lt;- <a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Scopes.scala.html#60513" title="(p: RefChecks.this.global.Symbol =&gt; Any)Unit">decls</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#671371" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#669935" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46667" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../../../reflect/internal/Types.scala.html#41581" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#669951" title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean">hasMatchingSym</a><span class="delimiter">(</span><a href="#671385" title="RefChecks.this.global.Symbol">_</a>, <a href="#671371" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // for (bc &lt;- clazz.info.baseClasses.tail) Console.println(&quot;&quot; + bc + &quot; has &quot; + bc.info.decl(member.name) + &quot;:&quot; + bc.info.decl(member.name).tpe);//DEBUG
          <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#671371" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#671371" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46742" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; overrides nothing&quot;)" class="string">&quot; overrides nothing&quot;</span><span class="delimiter">)</span>;
          <a href="#671371" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/internal/Symbols.scala.html#46590" title="(mask: Long)member.type">resetFlag</a> <span title="Long(2L)">OVERRIDE</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  // Basetype Checking --------------------------------------------------------

    /** &lt;ol&gt;
     *    &lt;li&gt; &lt;!-- 1 --&gt;
     *      Check that later type instances in the base-type sequence
     *      are subtypes of earlier type instances of the same mixin.
     *    &lt;/li&gt;
     *  &lt;/ol&gt;
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="668700">validateBaseTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="671393">clazz</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]" id="671395">seenParents</a> = mutable.<span title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</span><span title="(elems: RefChecks.this.global.Type*)scala.collection.mutable.HashSet[RefChecks.this.global.Type]" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[List[RefChecks.this.global.Type]]" id="671396">seenTypes</a> = <span title="Array[List[RefChecks.this.global.Type]]" class="keyword">new</span> <span title="Array[List[RefChecks.this.global.Type]]">Array</span><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#671393" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41579" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a>.<a href="../../../reflect/internal/BaseTypeSeqs.scala.html#59592" title="=&gt; Int">length</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="671531">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <a href="#671396" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>
        <a href="#671396" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#671531" title="Int">i</a><span class="delimiter">)</span> = <span title="object Nil">Nil</span>

      /** validate all base types of a class in reverse linear order. */
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Unit" id="671397">register</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="671535">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
//        if (clazz.fullName.endsWith(&quot;Collection.Projection&quot;))
//            println(&quot;validate base type &quot;+tp)
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="671536">baseClass</a> = <a href="#671535" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671536" title="RefChecks.this.global.Symbol">baseClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="671538">index</a> = <a href="#671393" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41582" title="(sym: RefChecks.this.global.Symbol)Int">baseTypeIndex</a><span class="delimiter">(</span><a href="#671536" title="RefChecks.this.global.Symbol">baseClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671538" title="Int">index</a> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671396" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#671538" title="Int">index</a><span class="delimiter">)</span> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="671552">tp1</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#671552" title="RefChecks.this.global.Type">tp1</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#671535" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#671396" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#671538" title="Int">index</a><span class="delimiter">)</span> =
                <a href="#671535" title="RefChecks.this.global.Type">tp</a> <a href="#671555" title="(x: RefChecks.this.global.Type)List[RefChecks.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#671396" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#671538" title="Int">index</a><span class="delimiter">)</span> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="671561">tp1</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#671535" title="RefChecks.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#671561" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="671537">remaining</a> = <a href="#671535" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41513" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</span> <a href="#671395" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a>
        <a href="#671395" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a> <span title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Type])seenParents.type">++=</span> <a href="#671537" title="List[RefChecks.this.global.Type]">remaining</a>
        <a href="#671537" title="List[RefChecks.this.global.Type]">remaining</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <a href="#671397" title="(tp: RefChecks.this.global.Type)Unit">register</a>
      <span class="delimiter">}</span>
      <a href="#671397" title="(tp: RefChecks.this.global.Type)Unit">register</a><span class="delimiter">(</span><a href="#671393" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="671694">i</a> &lt;- <span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</span> <span title="(f: Int =&gt; Unit)Unit">until</span> <a href="#671396" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="671695">baseClass</a> = <a href="#671393" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/BaseTypeSeqs.scala.html#59595" title="(i: Int)RefChecks.this.global.Type">baseTypeSeq</a><span class="delimiter">(</span><a href="#671694" title="Int">i</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#671396" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#671694" title="Int">i</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#671698" title="Unit">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;??? base &quot;)" class="string">&quot;??? base &quot;</span><span title="(x$1: Any)String">+</span><a href="#671695" title="RefChecks.this.global.Symbol">baseClass</a><span title="(x$1: Any)String">+</span><span title="String(&quot; not found in basetypes of &quot;)" class="string">&quot; not found in basetypes of &quot;</span><span title="(x$1: Any)String">+</span><a href="#671393" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#671712" title="Unit">List</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            ;// OK
          <span class="keyword">case</span> <a title="Unit" id="671727">tp1</a> :: <a title="RefChecks.this.global.Type" id="671735">tp2</a> :: _ =&gt;
            <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#671393" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="String(&quot;illegal inheritance;\n &quot;)" class="string">&quot;illegal inheritance;\n &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#671393" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)String">+</span>
                       <span title="String(&quot; inherits different type instances of &quot;)" class="string">&quot; inherits different type instances of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#671695" title="RefChecks.this.global.Symbol">baseClass</a> <span title="(x$1: Any)String">+</span>
                       <span title="String(&quot;:\n&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#671727" title="RefChecks.this.global.Type">tp1</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#671735" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>;
            <a href="../../../reflect/internal/Types.scala.html#39138" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#671727" title="RefChecks.this.global.Type">tp1</a>, <a href="#671735" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Types.scala.html#39138" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#671735" title="RefChecks.this.global.Type">tp2</a>, <a href="#671727" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  // Variance Checking --------------------------------------------------------

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="668701">ContraVariance</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="668703">NoVariance</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="668705">CoVariance</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="668707">AnyVariance</a> = <span title="Int(2)" class="int">2</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" id="668709">escapedPrivateLocals</a> = <span title="()scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">HashSet</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="RefChecks.this.global.Traverser" id="668711">varianceValidator</a> = <a href="#668887" title="RefChecks.this.global.Traverser{}" class="keyword">new</a> <a href="#242152" title="anonymous class $anon extends RefChecks.this.global.Traverser" id="668887">Traverser</a> <span class="delimiter">{</span>

      /** Validate variance of info of symbol `base` */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: RefChecks.this.global.Symbol)Unit" id="668889">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="668894">base</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        // A flag for when we're in a refinement, meaning method parameter types
        // need to be checked.
        <span class="keyword">var</span> <a title="Boolean" id="668895">inRefinement</a> = <span title="Boolean(false)" class="keyword">false</span>

        <span class="keyword">def</span> <a title="(variance: Int)String" id="668896">varianceString</a><span class="delimiter">(</span><a title="Int" id="668901">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="String">String</span> =
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#668901" title="Int">variance</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#668901" title="Int">variance</a> <span title="(x: Int)Boolean">==</span> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
          <span class="keyword">else</span> <span title="String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

        /** The variance of a symbol occurrence of `tvar`
         *  seen at the level of the definition of `base`.
         *  The search proceeds from `base` to the owner of `tvar`.
         *  Initially the state is covariant, but it might change along the search.
         */
        <span class="keyword">def</span> <a title="(tvar: RefChecks.this.global.Symbol)Int" id="668897">relativeVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="668910">tvar</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="668911">clazz</a> = <a href="#668910" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="668912">sym</a> = <a href="#668894" title="RefChecks.this.global.Symbol">base</a>
          <span class="keyword">var</span> <a title="Int" id="668913">state</a> = <a href="#668705" title="=&gt; Int">CoVariance</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#668912" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#668911" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#668913" title="Int">state</a> <span title="(x: Int)Boolean">!=</span> <a href="#668707" title="=&gt; Int">AnyVariance</a><span class="delimiter">)</span> <a href="#668914" title="()Unit" class="delimiter">{</a>
            //Console.println(&quot;flip: &quot; + sym + &quot; &quot; + sym.isParameter());//DEBUG
            // Flip occurrences of type parameters and parameters, unless
            //  - it's a constructor, or case class factory or extractor
            //  - it's a type parameter of tvar's owner.
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46793" title="=&gt; Boolean">isParameter</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46541" title="=&gt; Boolean">isCaseApplyOrUnapply</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#668910" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#46497" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46497" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                  <a href="#668910" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#668913" title="Int">state</a> = <span title="=&gt; Int">-</span><a href="#668913" title="Int">state</a>;
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">||</span>
                     <a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46786" title="=&gt; Boolean">isPrivateLocal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46787" title="=&gt; Boolean">isProtectedLocal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46790" title="=&gt; Boolean">isSuperAccessor</a> /* super accessors are implicitly local #4345*/<span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#668709" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <span title="(elem: RefChecks.this.global.Symbol)Boolean">contains</span> <a href="#668912" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              // return AnyVariance if `sym` is local to a term
              // or is private[this] or protected[this]
              <a href="#668913" title="Int">state</a> = <a href="#668707" title="=&gt; Int">AnyVariance</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // return AnyVariance if `sym` is an alias type
              // that does not override anything. This is OK, because we always
              // expand aliases for variance checking.
              // However, if `sym` does override a type in a base class
              // we have to assume NoVariance, as there might then be
              // references to the type parameter that are not variance checked.
              <a href="#668913" title="Int">state</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46704" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span> <a href="#668703" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#668707" title="=&gt; Int">AnyVariance</a>
            <span class="delimiter">}</span>
            <a href="#668912" title="RefChecks.this.global.Symbol">sym</a> = <a href="#668912" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="delimiter">}</span>
          <a href="#668913" title="Int">state</a>
        <span class="delimiter">}</span>

        /** Validate that the type `tp` is variance-correct, assuming
         *  the type occurs itself at variance position given by `variance`
         */
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, variance: Int)Unit" id="668898">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668941">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a>, <a title="Int" id="668942">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#668941" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38820" title="Unit">ErrorType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38822" title="Unit">WildcardType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="Unit">NoType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38829" title="Unit">NoPrefix</a> =&gt; ;
          <span class="keyword">case</span> <span title="Unit">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; ;
          <span class="keyword">case</span> <span title="Unit">ConstantType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; ;
          // case DeBruijnIndex(_, _) =&gt; ;
          <span class="keyword">case</span> <span title="Unit">SingleType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668947">pre</a>, <a title="RefChecks.this.global.Symbol" id="668948">sym</a><span class="delimiter">)</span> =&gt;
            <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#668947" title="RefChecks.this.global.Type">pre</a>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668952">pre</a>, <a title="RefChecks.this.global.Symbol" id="668953">sym</a>, <a title="List[RefChecks.this.global.Type]" id="668954">args</a><span class="delimiter">)</span> =&gt;
//            println(&quot;validate &quot;+sym+&quot; at &quot;+relativeVariance(sym))
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#668953" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a>/* &amp;&amp; relativeVariance(sym) == AnyVariance*/<span class="delimiter">)</span>
              <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#668941" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#668953" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46562" title="=&gt; Int">variance</a> <span title="(x: Int)Boolean">!=</span> <a href="#668703" title="=&gt; Int">NoVariance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Int" id="668960">v</a> = <a href="#668897" title="(tvar: RefChecks.this.global.Symbol)Int">relativeVariance</a><span class="delimiter">(</span><a href="#668953" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#668960" title="Int">v</a> <span title="(x: Int)Boolean">!=</span> <a href="#668707" title="=&gt; Int">AnyVariance</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#668953" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46562" title="=&gt; Int">variance</a> <span title="(x: Int)Boolean">!=</span> <a href="#668960" title="Int">v</a> <span title="(x: Int)Int">*</span> <a href="#668942" title="Int">variance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                //Console.println(&quot;relativeVariance(&quot; + base + &quot;,&quot; + sym + &quot;) = &quot; + v);//DEBUG
                <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)String" id="668974">tpString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="668975">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#668975" title="RefChecks.this.global.Type">tp</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="String">ClassInfoType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="668979">parents</a>, _, <a title="RefChecks.this.global.Symbol" id="668980">clazz</a><span class="delimiter">)</span> =&gt; <span title="String(&quot;supertype &quot;)" class="string">&quot;supertype &quot;</span><span title="(x$1: Any)String">+</span><a href="../../../reflect/internal/Types.scala.html#38938" title="(tps: List[RefChecks.this.global.Type], owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#668979" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#668980" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="String">_</span> =&gt; <span title="String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)String">+</span><a href="#668975" title="RefChecks.this.global.Type">tp</a>
                <span class="delimiter">}</span>
                <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#668894" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>,
                           <a href="#668896" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#668953" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46562" title="=&gt; Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#668953" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span>
                           <span title="String(&quot; occurs in &quot;)" class="string">&quot; occurs in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#668896" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#668960" title="Int">v</a> <span title="(x: Int)Int">*</span> <a href="#668942" title="Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span>
                           <span title="String(&quot; position in &quot;)" class="string">&quot; position in &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#668974" title="(tp: RefChecks.this.global.Type)String">tpString</a><span class="delimiter">(</span><a href="#668894" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#668894" title="RefChecks.this.global.Symbol">base</a><span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#668952" title="RefChecks.this.global.Type">pre</a>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
            // @M for higher-kinded typeref, args.isEmpty
            // However, these args respect variances by construction anyway
            // -- the interesting case is in type application, see checkKindBounds in Infer
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#668954" title="List[RefChecks.this.global.Type]">args</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
              <a href="#668900" title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit">validateVarianceArgs</a><span class="delimiter">(</span><a href="#668954" title="List[RefChecks.this.global.Type]">args</a>, <a href="#668942" title="Int">variance</a>, <a href="#668953" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ClassInfoType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="668998">parents</a>, <a title="RefChecks.this.global.Scope" id="668999">decls</a>, <a title="RefChecks.this.global.Symbol" id="669000">symbol</a><span class="delimiter">)</span> =&gt;
            <a href="#668899" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#668998" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">RefinedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="669005">parents</a>, <a title="RefChecks.this.global.Scope" id="669006">decls</a><span class="delimiter">)</span> =&gt;
            <a href="#668899" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#669005" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Boolean" id="669007">saved</a> = <a href="#668895" title="Boolean">inRefinement</a>
            <a href="#668895" title="Boolean">inRefinement</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="669027">sym</a> &lt;- <a href="../../../reflect/internal/Scopes.scala.html#60513" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">decls</a><span class="delimiter">)</span>
              <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#669027" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>, <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#669027" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#668703" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#668895" title="Boolean">inRefinement</a> = <a href="#669007" title="Boolean">saved</a>
          <span class="keyword">case</span> <span title="Unit">TypeBounds</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="669031">lo</a>, <a title="RefChecks.this.global.Type" id="669032">hi</a><span class="delimiter">)</span> =&gt;
            <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#669031" title="RefChecks.this.global.Type">lo</a>, <span title="=&gt; Int">-</span><a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#669032" title="RefChecks.this.global.Type">hi</a>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="669035">formals</a>, <a title="RefChecks.this.global.Type" id="669036">result</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#668895" title="Boolean">inRefinement</a><span class="delimiter">)</span>
              <a href="#668899" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#669035" title="List[RefChecks.this.global.Symbol]">formals</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#669053" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>, <span title="=&gt; Int">-</span><a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#669036" title="RefChecks.this.global.Type">result</a>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">NullaryMethodType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="669093">result</a><span class="delimiter">)</span> =&gt;
            <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#669093" title="RefChecks.this.global.Type">result</a>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="669096">tparams</a>, <a title="RefChecks.this.global.Type" id="669097">result</a><span class="delimiter">)</span> =&gt;
            // type parameters will be validated separately, because they are defined explicitly.
            <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#669097" title="RefChecks.this.global.Type">result</a>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="669100">tparams</a>, <a title="RefChecks.this.global.Type" id="669101">result</a><span class="delimiter">)</span> =&gt;
            <a href="#668899" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#669100" title="List[RefChecks.this.global.Symbol]">tparams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#669118" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#669101" title="RefChecks.this.global.Type">result</a>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="669149">annots</a>, <a title="RefChecks.this.global.Type" id="669150">tp</a>, <a title="RefChecks.this.global.Symbol" id="669151">selfsym</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#669149" title="List[RefChecks.this.global.AnnotationInfo]">annots</a>.<span title="(p: RefChecks.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#669158" title="RefChecks.this.global.AnnotationInfo">_</a> <a href="../../../reflect/internal/AnnotationInfos.scala.html#45934" title="(clazz: RefChecks.this.global.Symbol)Boolean">matches</a> <a href="../../../reflect/internal/Definitions.scala.html#45393" title="=&gt; RefChecks.this.global.Symbol">uncheckedVarianceClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#669150" title="RefChecks.this.global.Type">tp</a>, <a href="#668942" title="Int">variance</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit" id="668899">validateVariances</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="669001">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="669002">variance</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#669001" title="List[RefChecks.this.global.Type]">tps</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="669179">tp</a> =&gt; <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#669179" title="RefChecks.this.global.Type">tp</a>, <a href="#669002" title="Int">variance</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit" id="668900">validateVarianceArgs</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="668992">tps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="668993">variance</a>: <span title="Int">Int</span>, <a title="List[RefChecks.this.global.Symbol]" id="668994">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../reflect/internal/util/Collections.scala.html#38337" title="(xs1: List[RefChecks.this.global.Type], xs2: List[RefChecks.this.global.Symbol])(f: (RefChecks.this.global.Type, RefChecks.this.global.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#668992" title="List[RefChecks.this.global.Type]">tps</a>, <a href="#668994" title="List[RefChecks.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="669214">tp</a>, <a title="RefChecks.this.global.Symbol" id="669215">tparam</a><span class="delimiter">)</span> =&gt; <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#669214" title="RefChecks.this.global.Type">tp</a>, <a href="#668993" title="Int">variance</a> <span title="(x: Int)Int">*</span> <a href="#669215" title="RefChecks.this.global.Symbol">tparam</a>.<a href="../../../reflect/internal/Symbols.scala.html#46562" title="=&gt; Int">variance</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#668898" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#668894" title="RefChecks.this.global.Symbol">base</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>, <a href="#668705" title="=&gt; Int">CoVariance</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="668890">traverse</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="668891">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#668891" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> |
               TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#668889" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#668891" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
            <a href="#668887" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<span title="(tree: RefChecks.this.global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#668891" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          // ModuleDefs need not be considered because they have been eliminated already
          <span class="keyword">case</span> <span title="Unit">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#668889" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#668891" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">DefDef</span><span class="delimiter">(</span>_, _, <a title="List[RefChecks.this.global.TypeDef]" id="669275">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="669276">vparamss</a>, _, _<span class="delimiter">)</span> =&gt;
            <a href="#668889" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#668891" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span><span class="delimiter">)</span>
            <a href="#668887" title="(trees: List[RefChecks.this.global.Tree])Unit">traverseTrees</a><span class="delimiter">(</span><a href="#669275" title="List[RefChecks.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
            <a href="#668887" title="(treess: List[List[RefChecks.this.global.Tree]])Unit">traverseTreess</a><span class="delimiter">(</span><a href="#669276" title="List[List[RefChecks.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">Template</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
            <a href="#668887" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<span title="(tree: RefChecks.this.global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#668891" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Forward reference checking ---------------------------------------------------

    <span class="keyword">class</span> <a title="class LevelInfo extends Object with ScalaObject" id="668713">LevelInfo</a><a href="#668713" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="RefCheckTransformer.this.LevelInfo" id="671761">outer</a>: <a href="#668713" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="671745">scope</a>: <a href="../../../reflect/internal/Scopes.scala.html#39174" title="RefChecks.this.global.Scope">Scope</a> = <span title="RefChecks.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#671761" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Scopes.scala.html#39175" title="()RefChecks.this.global.Scope">newScope</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Scopes.scala.html#39176" title="(outer: RefChecks.this.global.Scope)RefChecks.this.global.Scope">newNestedScope</a><span class="delimiter">(</span><a href="#671761" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>.<a href="#671745" title="=&gt; RefChecks.this.global.Scope">scope</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="671748">maxindex</a>: <span title="Int">Int</span> = Int.<span title="Int(-2147483648)">MinValue</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Position" id="671751">refpos</a>: <a href="../util/Position.scala.html#33991" title="RefChecks.this.global.Position">Position</a> = _
      <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="671754">refsym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a> = _
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="668715">currentLevel</a>: <a href="#668713" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" id="668717">symIndex</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35655" title="object RefChecks.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110762" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" class="delimiter">[</span><a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <span title="Int">Int</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="668719">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#668715" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <span title="RefCheckTransformer.this.LevelInfo" class="keyword">new</span> <a href="#668713" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">(</span><a href="#668715" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="668720">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#668715" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <a href="#668715" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#671761" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree])Unit" id="668721">enterSyms</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="671765">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="671767">index</a> = -<span title="Int(-1)" class="int">1</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="671787">stat</a> &lt;- <a href="#671765" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">stats</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#671767" title="Int">index</a> = <a href="#671767" title="Int">index</a> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>;
        <a href="#671787" title="RefChecks.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> | ModuleDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> | ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            //assert(stat.symbol != NoSymbol, stat);//debug
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="671819">sym</a> = <a href="#671787" title="RefChecks.this.global.Tree">stat</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46677" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671819" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46550" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#668715" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#671745" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60499" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#671819" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#668717" title="(key: RefChecks.this.global.Symbol, value: Int)Unit">symIndex</a><span class="delimiter">(</span><a href="#671819" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#671767" title="Int">index</a>;
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit" id="668722">enterReference</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="671826">pos</a>: <a href="../util/Position.scala.html#33991" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Symbol" id="671827">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671827" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46550" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.ScopeEntry" id="671829">e</a> = <a href="#668715" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#671745" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60508" title="(name: RefChecks.this.global.Name)RefChecks.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#671827" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#671829" title="RefChecks.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671827" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#671829" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="671835">l</a> = <a href="#668715" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#671835" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#671745" title="=&gt; RefChecks.this.global.Scope">scope</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#671829" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../../../reflect/internal/Scopes.scala.html#92381" title="=&gt; RefChecks.this.global.Scope">owner</a><span class="delimiter">)</span> <a href="#671835" title="RefCheckTransformer.this.LevelInfo">l</a> = <a href="#671835" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#671761" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>;
          <span class="keyword">val</span> <a title="Int" id="671836">symindex</a> = <a href="#668717" title="(key: RefChecks.this.global.Symbol)Int">symIndex</a><span class="delimiter">(</span><a href="#671827" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671835" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#671748" title="=&gt; Int">maxindex</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#671836" title="Int">symindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#671835" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#671751" title="(x$1: RefChecks.this.global.Position)Unit">refpos</a> = <a href="#671826" title="RefChecks.this.global.Position">pos</a>
            <a href="#671835" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#671754" title="(x$1: RefChecks.this.global.Symbol)Unit">refsym</a> = <a href="#671827" title="RefChecks.this.global.Symbol">sym</a>
            <a href="#671835" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#671748" title="(x$1: Int)Unit">maxindex</a> = <a href="#671836" title="Int">symindex</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

// Comparison checking -------------------------------------------------------
    <span class="keyword">object</span> <a title="object RefCheckTransformer.this.normalizeAll" id="668723">normalizeAll</a> <span title="ScalaObject" class="keyword">extends</span> <a href="../../../reflect/internal/Types.scala.html#38980" title="RefChecks.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="671879">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="671881">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Types.scala.html#74772" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#671881" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; RefChecks.this.global.Type">normalize</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit" id="668725">checkSensible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="671904">pos</a>: <a href="../util/Position.scala.html#33991" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Tree" id="671905">fn</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="List[RefChecks.this.global.Tree]" id="671906">args</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#671905" title="RefChecks.this.global.Tree">fn</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="671913">qual</a>, <a title="RefChecks.this.global.Name" id="671914">name</a> @ <span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58680" title="=&gt; RefChecks.this.global.TermName">EQ</a> | <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58704" title="=&gt; RefChecks.this.global.TermName">NE</a> | <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59128" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> | <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59208" title="=&gt; RefChecks.this.global.nme.NameType">ne</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#671906" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span> =&gt;
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="671924">isReferenceOp</a> = <a href="#671914" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59128" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> <span title="(x: Boolean)Boolean">||</span> <a href="#671914" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59208" title="=&gt; RefChecks.this.global.nme.NameType">ne</a>
        <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="671925">isNew</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="671964">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#671964" title="RefChecks.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(true)">Function</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span>
             | Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span>_<span class="delimiter">)</span>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58915" title="=&gt; RefChecks.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol" id="671926">underlyingClass</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="671984">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="671985">sym</a> = <a href="#671984" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
          <span title="RefChecks.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#671985" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <a href="#671926" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#671985" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; RefChecks.this.global.Type">hi</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#671985" title="RefChecks.this.global.Symbol">sym</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="671927">actual</a>   = <a href="#671926" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#671906" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="671928">receiver</a> = <a href="#671926" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#671913" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Tree] =&gt; T)T" id="671929">onTrees</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="671931">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree] =&gt; T" id="671987">f</a>: List<span class="delimiter">[</span>Tree<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="#671987" title="(v1: List[RefChecks.this.global.Tree])T">f</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#671913" title="RefChecks.this.global.Tree">qual</a>, <a href="#671906" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Symbol] =&gt; T)T" id="671932">onSyms</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="671934">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol] =&gt; T" id="671997">f</a>: List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="#671997" title="(v1: List[RefChecks.this.global.Symbol])T">f</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">(</span><a href="#671928" title="RefChecks.this.global.Symbol">receiver</a>, <a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>

        // @MAT normalize for consistency in error message, otherwise only part is normalized due to use of `typeSymbol`
        <span class="keyword">def</span> <a title="=&gt; String" id="671935">typesString</a> = <a href="#671879" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><span title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</span><a href="#671913" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span><span title="(other: String)String">+</span><span title="String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span title="(x$1: Any)String">+</span><a href="#671879" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><span class="delimiter">(</span><a href="#671906" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span>

        /** Symbols which limit the warnings we can issue since they may be value types */
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[RefChecks.this.global.Symbol]" id="671936">isMaybeValue</a> = <span title="(elems: RefChecks.this.global.Symbol*)scala.collection.immutable.Set[RefChecks.this.global.Symbol]">Set</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#44982" title="=&gt; RefChecks.this.global.Symbol">AnyClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; RefChecks.this.global.Symbol">AnyRefClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#45529" title="=&gt; RefChecks.this.global.Symbol">AnyValClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#45091" title="=&gt; RefChecks.this.global.Symbol">ComparableClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#45089" title="=&gt; RefChecks.this.global.Symbol">JavaSerializableClass</a><span class="delimiter">)</span>

        // Whether def equals(other: Any) is overridden or synthetic
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="671937">isUsingWarnableEquals</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="672016">m</a> = <a href="#671928" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59136" title="=&gt; RefChecks.this.global.nme.NameType">equals_</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><a href="#672016" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45334" title="=&gt; RefChecks.this.global.Symbol">Object_equals</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#672016" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45297" title="=&gt; RefChecks.this.global.Symbol">Any_equals</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#672016" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46784" title="=&gt; Boolean">isSynthetic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#672016" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46776" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        // Whether this == or != is one of those defined in Any/AnyRef or an overload from elsewhere.
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="671938">isUsingDefaultScalaOp</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="672029">s</a> = <a href="#671905" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <span class="delimiter">(</span><a href="#672029" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45313" title="=&gt; RefChecks.this.global.Symbol">Object_==</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#672029" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45315" title="=&gt; RefChecks.this.global.Symbol">Object_!=</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#672029" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45293" title="=&gt; RefChecks.this.global.Symbol">Any_==</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#672029" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45295" title="=&gt; RefChecks.this.global.Symbol">Any_!=</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        // Whether the operands+operator represent a warnable combo (assuming anyrefs)
        // Looking for comparisons performed with ==/!= in combination with either an
        // equals method inherited from Object or a case class synthetic equals (for
        // which we know the logic.)
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="671939">isWarnable</a>           = <a href="#671924" title="=&gt; Boolean">isReferenceOp</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#671938" title="=&gt; Boolean">isUsingDefaultScalaOp</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671937" title="=&gt; Boolean">isUsingWarnableEquals</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="671940">isEitherNullable</a>     = <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#44998" title="object RefChecks.this.global.definitions.NullClass">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#69227" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#671928" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#44998" title="object RefChecks.this.global.definitions.NullClass">NullClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#69227" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#671927" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="671941">isBoolean</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="672054">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#45481" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#672054" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45547" title="=&gt; RefChecks.this.global.Symbol">BooleanClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="671942">isUnit</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="672061">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>    = <a href="../../../reflect/internal/Definitions.scala.html#45481" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#672061" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="671943">isNumeric</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="672067">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#45527" title="(sym: RefChecks.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45481" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#672067" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#672067" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#45076" title="=&gt; RefChecks.this.global.Symbol">ScalaNumberClass</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="671944">isSpecial</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="672071">s</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Definitions.scala.html#45476" title="(sym: RefChecks.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45481" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#672071" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#672071" title="RefChecks.this.global.Symbol">s</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../../../reflect/internal/Definitions.scala.html#45076" title="=&gt; RefChecks.this.global.Symbol">ScalaNumberClass</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#671936" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#672071" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Int" id="671945">possibleNumericCount</a> = <a href="#671932" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#672097" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="672101">x</a> =&gt; <a href="#671943" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#672101" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#671936" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#672101" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="=&gt; Int">size</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="671946">nullCount</a>            = <a href="#671932" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#672118" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span> <span class="delimiter">(</span><a href="#672122" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44998" title="object RefChecks.this.global.definitions.NullClass">NullClass</a><span class="delimiter">)</span> <span title="=&gt; Int">size</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(what: String, alwaysEqual: Boolean)Unit" id="671947">nonSensibleWarning</a><span class="delimiter">(</span><a title="String" id="672129">what</a>: <span title="String">String</span>, <a title="Boolean" id="672130">alwaysEqual</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="672131">msg</a> = <a href="#672130" title="Boolean">alwaysEqual</a> <span title="(x: Boolean)Boolean">==</span> <span class="delimiter">(</span><a href="#671914" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58680" title="=&gt; RefChecks.this.global.TermName">EQ</a> <span title="(x: Boolean)Boolean">||</span> <a href="#671914" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59128" title="=&gt; RefChecks.this.global.nme.NameType">eq</a><span class="delimiter">)</span>
          <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#671904" title="RefChecks.this.global.Position">pos</a>, <span title="String(&quot;comparing &quot;)" class="string">&quot;comparing &quot;</span><span title="(x$1: Any)String">+</span><a href="#672129" title="String">what</a><span title="(x$1: Any)String">+</span><span title="String(&quot; using `&quot;)" class="string">&quot; using `&quot;</span><span title="(x$1: Any)String">+</span><a href="#671914" title="RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52171" title="=&gt; String">decode</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\' will always yield &quot;)" class="string">&quot;' will always yield &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#672131" title="Boolean">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(pre: String, alwaysEqual: Boolean)Unit" id="671948">nonSensible</a><span class="delimiter">(</span><a title="String" id="672147">pre</a>: <span title="String">String</span>, <a title="Boolean" id="672148">alwaysEqual</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> =
          <a href="#671947" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><a href="#672147" title="String">pre</a><span title="(x$1: Any)String">+</span><span title="String(&quot;values of types &quot;)" class="string">&quot;values of types &quot;</span><span title="(x$1: Any)String">+</span><a href="#671935" title="=&gt; String">typesString</a>, <a href="#672148" title="Boolean">alwaysEqual</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="()Unit" id="671949">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="672149">msg</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#671914" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58680" title="=&gt; RefChecks.this.global.TermName">EQ</a> <span title="(x: Boolean)Boolean">||</span> <a href="#671914" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59128" title="=&gt; RefChecks.this.global.nme.NameType">eq</a><span class="delimiter">)</span>
                      <span title="String(&quot;never compare equal&quot;)" class="string">&quot;never compare equal&quot;</span> <span class="keyword">else</span> <span title="String(&quot;always compare unequal&quot;)" class="string">&quot;always compare unequal&quot;</span>
          <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#671904" title="RefChecks.this.global.Position">pos</a>, <a href="#671935" title="=&gt; String">typesString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; are unrelated: they will most likely &quot;)" class="string">&quot; are unrelated: they will most likely &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#672149" title="String">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671946" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <a href="#671948" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>  // null == null
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671946" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671932" title="(f: List[RefChecks.this.global.Symbol] =&gt; Boolean)Boolean">onSyms</a><span class="delimiter">(</span><a href="#672172" title="List[RefChecks.this.global.Symbol]">_</a> <span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <a href="../../../reflect/internal/Definitions.scala.html#45476" title="(sym: RefChecks.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">)</span><span class="delimiter">)</span> // null == 5
            <a href="#671948" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671929" title="(f: List[RefChecks.this.global.Tree] =&gt; Boolean)Boolean">onTrees</a><span class="delimiter">(</span> <a href="#672184" title="List[RefChecks.this.global.Tree]">_</a> <span title="(p: RefChecks.this.global.Tree =&gt; Boolean)Boolean">exists</span> <a href="#671925" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">)</span><span class="delimiter">)</span> // null == new AnyRef
            <a href="#671947" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671941" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#671928" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#671941" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#671936" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>    // true == 5
            <a href="#671948" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671942" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#671928" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671942" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> // () == ()
            <a href="#671948" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#671942" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#671936" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>  // () == &quot;abc&quot;
            <a href="#671948" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671943" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#671928" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#671943" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="../Global.scala.html#186344" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671942" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#671941" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#671936" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>   // 5 == &quot;abc&quot;
              <a href="#671948" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671939" title="=&gt; Boolean">isWarnable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671925" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#671913" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span> // new X == y
            <a href="#671947" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671925" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#671906" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">head</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#671928" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#46549" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#671924" title="=&gt; Boolean">isReferenceOp</a><span class="delimiter">)</span><span class="delimiter">)</span>   // object X ; X == new Y
            <a href="#671947" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671928" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#46549" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#671928" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>  // object X, Y; X == Y
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671940" title="=&gt; Boolean">isEitherNullable</a><span class="delimiter">)</span>
              <a href="#671948" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;non-null &quot;)" class="string">&quot;non-null &quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#671948" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        // possibleNumericCount is insufficient or this will warn on e.g. Boolean == j.l.Boolean
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671939" title="=&gt; Boolean">isWarnable</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671946" title="Int">nullCount</a> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#671944" title="(s: RefChecks.this.global.Symbol)Boolean">isSpecial</a><span class="delimiter">(</span><a href="#671928" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#671944" title="(s: RefChecks.this.global.Symbol)Boolean">isSpecial</a><span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#671928" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#671928" title="RefChecks.this.global.Symbol">receiver</a> <a href="../../../reflect/internal/Symbols.scala.html#46650" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#671927" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          // warn only if they have no common supertype below Object
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="672233">common</a> = <a href="#242152" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../../../reflect/internal/Types.scala.html#39107" title="(ts: List[RefChecks.this.global.Type])RefChecks.this.global.Type">lub</a><span class="delimiter">(</span><span title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</span><span class="delimiter">(</span><a href="#671927" title="RefChecks.this.global.Symbol">actual</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>, <a href="#671928" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#672233" title="RefChecks.this.global.Type">common</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45016" title="=&gt; RefChecks.this.global.Symbol">ScalaObjectClass</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#672233" title="RefChecks.this.global.Type">common</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#671949" title="()Unit">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

// Transformation ------------------------------------------------------------

    /* Convert a reference to a case factory of type `tpe` to a new of the class it produces. */
    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="668726">toConstructor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="672253">pos</a>: <a href="../util/Position.scala.html#33991" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Type" id="672254">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="672256">rtpe</a> = <a href="#672254" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41523" title="=&gt; RefChecks.this.global.Type">finalResultType</a>
      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#672256" title="RefChecks.this.global.Type">rtpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/internal/Symbols.scala.html#46593" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(2048L)">CASE</span>, <a href="#672254" title="RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>;
      <a href="#668685" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#187865" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedOperator</a> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.Select)RefChecks.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#672253" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#242152" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="#242152" title="(tpt: RefChecks.this.global.Tree)RefChecks.this.global.New">New</a><span class="delimiter">(</span><a href="#242152" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#672256" title="RefChecks.this.global.Type">rtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#672256" title="RefChecks.this.global.Type">rtpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46664" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree], exprOwner: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="668727">transformStats</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="672306">stats</a>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="RefChecks.this.global.Symbol" id="672307">exprOwner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#668719" title="()Unit">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#668721" title="(stats: List[RefChecks.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#672306" title="List[RefChecks.this.global.Tree]">stats</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Int" id="672311">index</a> = -<span title="Int(-1)" class="int">1</span>
        <a href="#672306" title="List[RefChecks.this.global.Tree]">stats</a> <span title="(f: RefChecks.this.global.Tree =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</span> <span class="delimiter">{</span> <a title="RefChecks.this.global.Tree" id="672328">stat</a> =&gt; <a href="#672311" title="Int">index</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>; <a href="#668730" title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]">transformStat</a><span class="delimiter">(</span><a href="#672328" title="RefChecks.this.global.Tree">stat</a>, <a href="#672311" title="Int">index</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <a href="#668720" title="()Unit">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Eliminate ModuleDefs.
     *   - A top level object is replaced with their module class.
     *   - An inner object is transformed into a module var, created on first access.
     *
     *  In both cases, this transformation returns the list of replacement trees:
     *   - Top level: the module class accessor definition
     *   - Inner: a class definition, declaration of module var, and module var accessor
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="668728">eliminateModuleDefs</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="672376">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> ModuleDef<a href="#672379" title="(RefChecks.this.global.Modifiers, RefChecks.this.global.TermName, RefChecks.this.global.Template)" class="delimiter">(</a><a href="#672378" title="RefChecks.this.global.Modifiers" id="672379">mods</a>, <a href="#672378" title="RefChecks.this.global.TermName" id="672380">name</a>, <a href="#672378" title="RefChecks.this.global.Template" id="672381">impl</a><span class="delimiter">)</span> = <a href="#672376" title="RefChecks.this.global.Tree">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="672382">sym</a>      = <a href="#672376" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="672383">classSym</a> = <a href="#672382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.ClassDef" id="672384">cdef</a>     = <a href="#242152" title="(mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.TypeName, tparams: List[RefChecks.this.global.TypeDef], impl: RefChecks.this.global.Template)RefChecks.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#672379" title="RefChecks.this.global.Modifiers">mods</a> <a href="../../../reflect/internal/Trees.scala.html#85210" title="(flag: Long)RefChecks.this.global.Modifiers">|</a> <span title="Long(256L)">MODULE</span>, <a href="#672380" title="RefChecks.this.global.TermName">name</a>.<a href="../../../reflect/internal/Names.scala.html#52658" title="=&gt; RefChecks.this.global.TypeName">toTypeName</a>, <span title="object Nil">Nil</span>, <a href="#672381" title="RefChecks.this.global.Template">impl</a><span class="delimiter">)</span> <span title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ClassDef">setSymbol</span> <a href="#672383" title="RefChecks.this.global.Symbol">classSym</a> <span title="(tp: RefChecks.this.global.Type)RefChecks.this.global.ClassDef">setType</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object RefChecks.this.global.NoType">NoType</a>

      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="672385">findOrCreateModuleVar</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#668685" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#187860" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#672376" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.ValDef" id="672432">createModuleVar</a> = <a href="../Global.scala.html#186149" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239089" title="(accessor: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.ValDef">mkModuleVarDef</a><span class="delimiter">(</span><a href="#672382" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#672382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; RefChecks.this.global.Symbol">enclClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41537" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58641" title="(name: RefChecks.this.global.TermName)RefChecks.this.global.TermName">moduleVarName</a><span class="delimiter">(</span><a href="#672382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52126" title="=&gt; RefChecks.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          // In case we are dealing with local symbol then we already have
          // to correct error with forward reference
          <span class="keyword">case</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="RefChecks.this.global.gen.global.ValDef">NoSymbol</a> =&gt; <a href="#672431" title="=&gt; RefChecks.this.global.gen.global.ValDef">createModuleVar</a>
          <span class="keyword">case</span> <a title="RefChecks.this.global.ValDef" id="672436">vsym</a>     =&gt; <a href="../../../reflect/internal/Trees.scala.html#39364" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#672436" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="672386">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.MethodSymbol" id="672455">method</a> = <span class="delimiter">(</span>
          <a href="#672382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46387" title="(name: RefChecks.this.global.TermName, pos: RefChecks.this.global.Position, newFlags: Long)RefChecks.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#672382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52126" title="=&gt; RefChecks.this.global.TermName">toTermName</a>, <a href="#672382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>, <span class="delimiter">(</span><a href="#672382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46586" title="=&gt; Long">flags</a> <span title="(x: Int)Long">|</span> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span> <span title="(x: Int)Long">&amp;</span> <span title="=&gt; Int">~</span><span title="Int(256)">MODULE</span><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Symbols.scala.html#46614" title="(info: RefChecks.this.global.Type)RefChecks.this.global.MethodSymbol">setInfoAndEnter</a> <a href="../../../reflect/internal/Types.scala.html#62410" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#672382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#668685" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#187860" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#672376" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239091" title="(accessor: RefChecks.this.global.gen.global.Symbol, msym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef">mkModuleAccessDef</a><span class="delimiter">(</span><a href="#672455" title="RefChecks.this.global.MethodSymbol">method</a>, <a href="#672382" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]" id="672387">createInnerModuleAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="672479">vdef</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span>
        <a href="#672479" title="RefChecks.this.global.Tree">vdef</a>,
        <a href="#668685" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#187860" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#672376" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="672486">vsym</a> = <a href="#672479" title="RefChecks.this.global.Tree">vdef</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="672491">rhs</a>  = <a href="../Global.scala.html#186149" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239092" title="(accessor: RefChecks.this.global.gen.global.Symbol, tpe: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Tree">newModule</a><span class="delimiter">(</span><a href="#672382" title="RefChecks.this.global.Symbol">sym</a>, <a href="#672486" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="672492">body</a> = <span title="RefChecks.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#672382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#672491" title="RefChecks.this.global.gen.global.Tree">rhs</a> <span class="keyword">else</span> <a href="../Global.scala.html#186149" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239088" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#672486" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#672491" title="RefChecks.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
            <a href="../../../reflect/internal/Trees.scala.html#39370" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#672382" title="RefChecks.this.global.Symbol">sym</a>, <a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../../../reflect/internal/Trees.scala.html#58444" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="#672486" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <span title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</span> <a href="#672382" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      <a href="#242168" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#672384" title="RefChecks.this.global.ClassDef">cdef</a> <a href="#672539" title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">::</a> <span class="delimiter">{</span>
        <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#672382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46545" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span>
          <a href="#672387" title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">createInnerModuleAccessor</a><span class="delimiter">(</span><a href="#672385" title="()RefChecks.this.global.analyzer.global.Tree">findOrCreateModuleVar</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#672382" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46704" title="=&gt; Boolean">isOverridingSymbol</a><span class="delimiter">)</span>
          <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="#672386" title="()RefChecks.this.global.analyzer.global.Tree">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <span title="object Nil">Nil</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Implements lazy value accessors:
     *    - for lazy values of type Unit and all lazy fields inside traits,
     *      the rhs is the initializer itself
     *    - for all other lazy values z the accessor is a block of this form:
     *      { z = &lt;rhs&gt;; z } where z can be an identifier or a field.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="668729">makeLazyAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="672554">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="RefChecks.this.global.Tree" id="672555">rhs</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="672557">vsym</a>        = <a href="#672554" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#672557" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a>, <a href="#672557" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="672558">hasUnitType</a> = <a href="#672557" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="672559">lazySym</a>     = <a href="#672557" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46676" title="=&gt; RefChecks.this.global.Symbol">lazyAccessor</a>
      <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#672559" title="RefChecks.this.global.Symbol">lazySym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#672557" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>

      // for traits, this is further transformed in mixins
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="672560">body</a> = <span class="delimiter">(</span>
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#672554" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">||</span> <a href="#672558" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <a href="#672555" title="RefChecks.this.global.Tree">rhs</a>
        <span class="keyword">else</span> <a href="../Global.scala.html#186149" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239088" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#672557" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#672555" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.DefDef" id="672561">lazyDef</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#672554" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39370" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#672559" title="RefChecks.this.global.Symbol">lazySym</a>, <a href="../../../reflect/internal/Trees.scala.html#39359" title="implicit scala.reflect.internal.Trees.treeOps : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../../../reflect/internal/Trees.scala.html#58444" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="#672557" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <span title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</span> <a href="#672559" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;Made lazy def: &quot;)" class="string">&quot;Made lazy def: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#672561" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span>

      <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#672558" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="Typers.scala.html#187859" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#672561" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span>
        <a href="Typers.scala.html#187859" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/internal/Trees.scala.html#39364" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#672557" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="../../../reflect/internal/SymbolTable.scala.html#35637" title="(ph: scala.reflect.internal.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../../../reflect/internal/SymbolTable.scala.html#35628" title="=&gt; scala.reflect.internal.Phase">phase</a>.<a href="../../../reflect/internal/Phase.scala.html#69307" title="=&gt; scala.reflect.internal.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Typers.scala.html#187859" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#672561" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]" id="668730">transformStat</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="672335">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="Int" id="672336">index</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Tree]">List</span><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#672335" title="RefChecks.this.global.Tree">tree</a> <span title="List[RefChecks.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">ModuleDef</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <a href="#668728" title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">eliminateModuleDefs</a><span class="delimiter">(</span><a href="#672335" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="(RefChecks.this.global.ValDef, RefChecks.this.global.Tree)" id="672676">tree1</a> @ ValDef<span class="delimiter">(</span>_, _, _, <a href="#672675" title="RefChecks.this.global.Tree" id="672677">rhs</a><span class="delimiter">)</span> = <a href="#668750" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span title="RefChecks.this.global.Tree @unchecked" class="delimiter">(</span><a href="#672335" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> // important to do before forward reference check
        <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#672335" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/HasFlags.scala.html#46779" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span>
          <a href="#668729" title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">makeLazyAccessor</a><span class="delimiter">(</span><a href="#672335" title="RefChecks.this.global.Tree">tree</a>, <a href="#672677" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="672695">lazySym</a> = <a href="#672335" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46677" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#672695" title="RefChecks.this.global.Symbol">lazySym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46550" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#672336" title="Int">index</a> <span title="(x: Int)Boolean">&lt;=</span> <a href="#668715" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#671748" title="=&gt; Int">maxindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#186189" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;refsym = &quot;)" class="string">&quot;refsym = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#668715" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#671754" title="=&gt; RefChecks.this.global.Symbol">refsym</a><span class="delimiter">)</span>
            <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#668715" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#671751" title="=&gt; RefChecks.this.global.Position">refpos</a>, <span title="String(&quot;forward reference extends over definition of &quot;)" class="string">&quot;forward reference extends over definition of &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#672695" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="(xs: RefChecks.this.global.ValDef*)List[RefChecks.this.global.ValDef]">List</span><span class="delimiter">(</span><a href="#672676" title="RefChecks.this.global.ValDef">tree1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Import</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">DefDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Modifiers" id="672717">mods</a>, _, _, _, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#672717" title="RefChecks.this.global.Modifiers">mods</a> <a href="../../../reflect/internal/Trees.scala.html#85205" title="(flag: Long)Boolean">hasFlag</a> <span title="Long(32768L)">MACRO</span><span class="delimiter">)</span> =&gt; <span title="object Nil">Nil</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">_</span>            =&gt; <span title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</span><span class="delimiter">(</span><a href="#668750" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#672335" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /* Check whether argument types conform to bounds of type parameters */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree0: RefChecks.this.global.Tree, pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type])Unit" id="668731">checkBounds</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="672725">tree0</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="RefChecks.this.global.Type" id="672726">pre</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="672727">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="List[RefChecks.this.global.Symbol]" id="672728">tparams</a>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Type]" id="672729">argtps</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
      <span class="keyword">try</span> <a href="../Global.scala.html#186285" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#187731" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#188032" title="(tree: RefChecks.this.global.analyzer.global.Tree, pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol, tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], prefix: String)Boolean">checkBounds</a><span title="Unit" class="delimiter">(</span><a href="#672725" title="RefChecks.this.global.Tree">tree0</a>, <a href="#672726" title="RefChecks.this.global.Type">pre</a>, <a href="#672727" title="RefChecks.this.global.Symbol">owner</a>, <a href="#672728" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#672729" title="List[RefChecks.this.global.Type]">argtps</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="672737">ex</a>: <a href="../../../reflect/internal/Types.scala.html#39126" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#672725" title="RefChecks.this.global.Tree">tree0</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#672737" title="RefChecks.this.global.TypeError">ex</a>.<span title="()String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#186907" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.TypeBounds]" id="672742">bounds</a> = <a href="#672728" title="List[RefChecks.this.global.Symbol]">tparams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])List[RefChecks.this.global.TypeBounds]">map</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="672759">tp</a> =&gt; <a href="#672759" title="RefChecks.this.global.Symbol">tp</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41531" title="(formals: List[RefChecks.this.global.Symbol], actuals: List[RefChecks.this.global.Type])RefChecks.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#672728" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#672729" title="List[RefChecks.this.global.Type]">argtps</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
            <span title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</span><a href="#672729" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#672742" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</span> <span title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="672847">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="672848">bound</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#39138" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#672848" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../../../reflect/internal/Types.scala.html#62297" title="=&gt; RefChecks.this.global.Type">lo</a>, <a href="#672847" title="RefChecks.this.global.Type">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</span><a href="#672729" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#672742" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<span title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</span> <span title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="672926">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="672927">bound</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#39138" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#672926" title="RefChecks.this.global.Type">targ</a>, <a href="#672927" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; RefChecks.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean" id="668732">isIrrefutable</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="672957">pat</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="RefChecks.this.global.Type" id="672958">seltpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#672957" title="RefChecks.this.global.Tree">pat</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">Apply</span><span class="delimiter">(</span>_, <a title="List[RefChecks.this.global.Tree]" id="672964">args</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="672965">clazz</a> = <a href="#672957" title="RefChecks.this.global.Tree">pat</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#672965" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#672958" title="RefChecks.this.global.Type">seltpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <a href="#672965" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46536" title="=&gt; Boolean">isCaseClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <span class="delimiter">(</span><a href="#672964" title="List[RefChecks.this.global.Tree]">args</a> <span title="(that: scala.collection.GenSeq[RefChecks.this.global.Type])(p: (RefChecks.this.global.Tree, RefChecks.this.global.Type) =&gt; Boolean)Boolean">corresponds</span> <a href="#672965" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/internal/Symbols.scala.html#46664" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41554" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#672958" title="RefChecks.this.global.Type">seltpe</a>, <a href="#672965" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41527" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#668732" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">Typed</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673004">pat</a>, <a title="RefChecks.this.global.Tree" id="673005">tpt</a><span class="delimiter">)</span> =&gt;
        <a href="#672958" title="RefChecks.this.global.Type">seltpe</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#673005" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>
      <span class="keyword">case</span> <span title="Boolean(true)">Ident</span><span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39303" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD</a><span class="delimiter">)</span> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">Bind</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.Tree" id="673017">pat</a><span class="delimiter">)</span> =&gt;
        <a href="#668732" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span><a href="#673017" title="RefChecks.this.global.Tree">pat</a>, <a href="#672958" title="RefChecks.this.global.Type">seltpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    /** If symbol is deprecated, and the point of reference is not enclosed
     *  in either a deprecated member or a scala bridge method, issue a warning.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="668733">checkDeprecated</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="673018">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="673019">pos</a>: <a href="../util/Position.scala.html#33991" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673018" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46523" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#242168" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46566" title="=&gt; List[RefChecks.this.global.Symbol]">ownerChain</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="673029">x</a> =&gt; <a href="#673029" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#46523" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">||</span> <a href="#673029" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/internal/Symbols.scala.html#46522" title="=&gt; Boolean">hasBridgeAnnotation</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188716" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#673019" title="RefChecks.this.global.Position">pos</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s is deprecated%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#673018" title="RefChecks.this.global.Symbol">sym</a>, <a href="#673018" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46744" title="=&gt; String">locationString</a>, <a href="#673018" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46524" title="=&gt; Option[String]">deprecationMessage</a> <span title="(f: String =&gt; String)Option[String]">map</span> <span class="delimiter">(</span><span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#673039" title="String">_</a><span class="delimiter">)</span> <span title="(default: =&gt; String)String">getOrElse</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Similar to deprecation: check if the symbol is marked with @migration
     *  indicating it has changed semantics between versions.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="668734">checkMigration</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="673046">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="673047">pos</a>: <a href="../util/Position.scala.html#33991" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673046" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46527" title="=&gt; Boolean">hasMigrationAnnotation</a><span class="delimiter">)</span>
        <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#673047" title="RefChecks.this.global.Position">pos</a>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s has changed semantics in version %s:\n%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#673046" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a>, <a href="#673046" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46529" title="=&gt; Option[String]">migrationVersion</a>.<span title="=&gt; String">get</span>, <a href="#673046" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46528" title="=&gt; Option[String]">migrationMessage</a>.<span title="=&gt; String">get</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean" id="668735">lessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="673053">otherSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="673054">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><a href="#673053" title="RefChecks.this.global.Symbol">otherSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#673053" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46783" title="=&gt; Boolean">isProtected</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#673053" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46497" title="=&gt; Boolean">isTypeParameterOrSkolem</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#673053" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46458" title="=&gt; Boolean">isExistentiallyBound</a>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#673053" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../../../reflect/internal/Symbols.scala.html#46597" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#673054" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span>
      <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#673053" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../../../reflect/internal/Symbols.scala.html#46597" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#673054" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; RefChecks.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]" id="668736">lessAccessibleSymsInType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="673061">other</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="673062">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="List[RefChecks.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="673064">extras</a> = <a href="#673061" title="RefChecks.this.global.Type">other</a> <span title="List[RefChecks.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[RefChecks.this.global.Symbol]">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="673068">pre</a>, _, <a title="List[RefChecks.this.global.Type]" id="673069">args</a><span class="delimiter">)</span> =&gt;
          // checking the prefix here gives us spurious errors on e.g. a private[process]
          // object which contains a type alias, which normalizes to a visible type.
          <a href="#673069" title="List[RefChecks.this.global.Type]">args</a> <span title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</span> <span class="delimiter">(</span><a href="#673073" title="RefChecks.this.global.Type">_</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Types.scala.html#38829" title="object RefChecks.this.global.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Type =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">flatMap</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="673093">tp</a> =&gt; <a href="#668736" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#673093" title="RefChecks.this.global.Type">tp</a>, <a href="#673062" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt;
          <span title="object Nil">Nil</span>
      <span class="delimiter">}</span>
      <span title="List[RefChecks.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#668735" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean">lessAccessible</a><span class="delimiter">(</span><a href="#673061" title="RefChecks.this.global.Type">other</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>, <a href="#673062" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#673061" title="RefChecks.this.global.Type">other</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="#673121" title="(x: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">::</a> <a href="#673064" title="List[RefChecks.this.global.Symbol]">extras</a>
      <span class="keyword">else</span> <a href="#673064" title="List[RefChecks.this.global.Symbol]">extras</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit" id="668737">warnLessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="673127">otherSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="673128">memberSym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="673130">comparison</a> = <a href="#242166" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#673128" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>   =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <span class="keyword">case</span> <a title="String" id="673132">acc</a>  =&gt; <span title="String(&quot; is &quot;)" class="string">&quot; is &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#673132" title="String">acc</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; but&quot;)" class="string">&quot; but&quot;</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="String" id="673131">cannot</a> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#673128" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span title="String(&quot;may be unable to provide a concrete implementation of&quot;)" class="string">&quot;may be unable to provide a concrete implementation of&quot;</span>
        <span class="keyword">else</span> <span title="String(&quot;may be unable to override&quot;)" class="string">&quot;may be unable to override&quot;</span>

      <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#673128" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>,
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s references %s %s.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#673128" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a>, <a href="#673130" title="String">comparison</a>,
          <a href="#242166" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#673127" title="RefChecks.this.global.Symbol">otherSym</a><span class="delimiter">)</span>, <a href="#673127" title="RefChecks.this.global.Symbol">otherSym</a>
        <span class="delimiter">)</span> <span title="(x$1: Any)String">+</span> <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nClasses which cannot access %s %s %s.&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#673127" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46575" title="=&gt; String">decodedName</a>, <a href="#673131" title="String">cannot</a>, <a href="#673128" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46575" title="=&gt; String">decodedName</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Warn about situations where a method signature will include a type which
     *  has more restrictive access than the method itself.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="668738">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673139">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="673141">member</a> = <a href="#673139" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

      <span class="keyword">def</span> <a title="(tpe: RefChecks.this.global.Type)Unit" id="673142">checkAccessibilityOfType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="673143">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="673144">inaccessible</a> = <a href="#668736" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#673143" title="RefChecks.this.global.Type">tpe</a>, <a href="#673141" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
        // if the unnormalized type is accessible, that's good enough
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673144" title="List[RefChecks.this.global.Symbol]">inaccessible</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        // or if the normalized type is, that's good too
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#673143" title="RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#673143" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#668736" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#673143" title="RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#673141" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        // otherwise warn about the inaccessible syms in the unnormalized type
        <span class="keyword">else</span> <a href="#673144" title="List[RefChecks.this.global.Symbol]">inaccessible</a> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="673165">sym</a> =&gt; <a href="#668737" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit">warnLessAccessible</a><span class="delimiter">(</span><a href="#673165" title="RefChecks.this.global.Symbol">sym</a>, <a href="#673141" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      // types of the value parameters
      <a href="../../../reflect/internal/Symbols.scala.html#38755" title="(sym: RefChecks.this.global.Symbol)(f: RefChecks.this.global.Symbol =&gt; Unit)List[List[Unit]]">mapParamss</a><span class="delimiter">(</span><a href="#673141" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="673174">p</a> =&gt; <a href="#673142" title="(tpe: RefChecks.this.global.Type)Unit">checkAccessibilityOfType</a><span class="delimiter">(</span><a href="#673174" title="RefChecks.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      // upper bounds of type parameters
      <a href="#673141" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,RefChecks.this.global.Type,List[RefChecks.this.global.Type]]" class="delimiter">(</span><a href="#673196" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <a href="#673142" title="(tpe: RefChecks.this.global.Type)Unit">checkAccessibilityOfType</a>
    <span class="delimiter">}</span>

    /** Check that a deprecated val or def does not override a
      * concrete, non-deprecated method.  If it does, then
      * deprecation is meaningless.
      */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="668739">checkDeprecatedOvers</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673248">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="673250">symbol</a> = <a href="#673248" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673250" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46523" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="673251">concrOvers</a> =
          <a href="#673250" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46703" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="673257">sym</a> =&gt;
            <span title="=&gt; Boolean">!</span><a href="#673257" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46523" title="=&gt; Boolean">isDeprecated</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#673257" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46795" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#673251" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
          <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188716" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span>
            <a href="#673248" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>,
            <a href="#673250" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46742" title="()String">toString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; overrides concrete, non-deprecated symbol(s):&quot;)" class="string">&quot; overrides concrete, non-deprecated symbol(s):&quot;</span> <span title="(x$1: Any)String">+</span>
            <a href="#673251" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<span title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#673274" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52171" title="=&gt; String">decode</a><span class="delimiter">)</span>.<span title="(start: String, sep: String, end: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;    &quot;)" class="string">&quot;    &quot;</span>, <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="668740">isRepeatedParamArg</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673305">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#668688" title="=&gt; RefChecks.this.global.Tree">currentApplication</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">Apply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673312">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="673313">args</a><span class="delimiter">)</span> =&gt;
        <span title="=&gt; Boolean">!</span><a href="#673313" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#673313" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; RefChecks.this.global.Tree">last</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#673305" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
        <a href="#673312" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41526" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <a href="#673313" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#45110" title="(tp: RefChecks.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#673312" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41526" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<span title="=&gt; RefChecks.this.global.Symbol">last</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, tree: RefChecks.this.global.Tree)Unit" id="668741">checkTypeRef</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="673322">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Tree" id="673323">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#673322" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="673329">pre</a>, <a title="RefChecks.this.global.Symbol" id="673330">sym</a>, <a title="List[RefChecks.this.global.Type]" id="673331">args</a><span class="delimiter">)</span> =&gt;
        <a href="#668733" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#673330" title="RefChecks.this.global.Symbol">sym</a>, <a href="#673323" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#673330" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46815" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>
          <a href="#673330" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a> <span title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#673353" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46623" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#673322" title="RefChecks.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41490" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span>
          <a href="#668731" title="(tree0: RefChecks.this.global.Tree, pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type])Unit">checkBounds</a><span class="delimiter">(</span><a href="#673323" title="RefChecks.this.global.Tree">tree</a>, <a href="#673329" title="RefChecks.this.global.Type">pre</a>, <a href="#673330" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>, <a href="#673330" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#673331" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpes: List[RefChecks.this.global.Type], tree: RefChecks.this.global.Tree)Unit" id="668742">checkAnnotations</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="673355">tpes</a>: <span title="List[RefChecks.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="RefChecks.this.global.Tree" id="673356">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#673355" title="List[RefChecks.this.global.Type]">tpes</a> <span title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="673378">tp</a> =&gt; <a href="#668741" title="(tp: RefChecks.this.global.Type, tree: RefChecks.this.global.Tree)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="#673378" title="RefChecks.this.global.Type">tp</a>, <a href="#673356" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit" id="668743">doTypeTraversal</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673380">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type =&gt; Unit" id="673381">f</a>: Type =&gt; Unit<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#668691" title="=&gt; Boolean">inPattern</a><span class="delimiter">)</span> <a href="#673380" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41566" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#673381" title="RefChecks.this.global.Type =&gt; Unit">f</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="668744">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673388">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]" id="673390">applyChecks</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="673391">annots</a>: <span title="List[RefChecks.this.global.AnnotationInfo]">List</span><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#668742" title="(tpes: List[RefChecks.this.global.Type], tree: RefChecks.this.global.Tree)Unit">checkAnnotations</a><span class="delimiter">(</span><a href="#673391" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <span title="(f: RefChecks.this.global.AnnotationInfo =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#673408" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45914" title="=&gt; RefChecks.this.global.Type">atp</a><span class="delimiter">)</span>, <a href="#673388" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#242168" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#673391" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <span title="(f: RefChecks.this.global.AnnotationInfo =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</span> <span class="delimiter">(</span><a href="#673452" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45915" title="=&gt; List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#673388" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="673480">m</a>: <span title="RefChecks.this.global.MemberDef">MemberDef</span> =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="673481">sym</a> = <a href="#673480" title="RefChecks.this.global.MemberDef">m</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>
          <a href="#673390" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span class="delimiter">(</span><a href="#673481" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46640" title="=&gt; List[RefChecks.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
          // validate implicitNotFoundMessage
          <a href="../Global.scala.html#186231" title="=&gt; Object with scala.tools.nsc.typechecker.Analyzer{val global: RefChecks.this.global.type}">analyzer</a>.<a href="Implicits.scala.html#187523" title="object RefChecks.this.global.analyzer.ImplicitNotFoundMsg">ImplicitNotFoundMsg</a>.<a href="Implicits.scala.html#626916" title="(sym: RefChecks.this.global.analyzer.global.Symbol)Option[String]">check</a><span class="delimiter">(</span><a href="#673481" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">{</span> <a title="String" id="673487">warn</a> =&gt;
            <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#673388" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Invalid implicitNotFound message for %s%s:\n%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#673481" title="RefChecks.this.global.Symbol">sym</a>, <a href="#673481" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46744" title="=&gt; String">locationString</a>, <a href="#673487" title="String">warn</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a title="Unit" id="673492">tpt</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#673492" title="RefChecks.this.global.TypeTree">tpt</a>.<span title="=&gt; RefChecks.this.global.Tree">original</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#673492" title="RefChecks.this.global.TypeTree">tpt</a>.<span title="=&gt; RefChecks.this.global.Tree">original</span> <span title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</span> <a href="#673502" title="Unit" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="Unit" id="673503">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                <a href="#668744" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#673503" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>.<a href="../ast/Trees.scala.html#255570" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> // #2416
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <a href="#668743" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#673388" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#673506" title="Unit" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="673510">annots</a>, _, _<span class="delimiter">)</span>  =&gt; <a href="#673390" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span title="Unit" class="delimiter">(</span><a href="#673510" title="List[RefChecks.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree" id="668745">transformCaseApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673511">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span>, <a title="=&gt; Unit" id="673512">ifNot</a>: =&gt; Unit<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="673515">sym</a> = <a href="#673511" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

      <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#673515" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46468" title="=&gt; Boolean">isSourceMethod</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#673515" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46776" title="=&gt; Boolean">isCase</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#673515" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; RefChecks.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
        <a href="#668726" title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a><span class="delimiter">(</span><a href="#673511" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#673511" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#673512" title="=&gt; Unit">ifNot</a>
        <a href="#673511" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree" id="668746">transformApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Apply" id="673521">tree</a>: <span title="RefChecks.this.global.Apply">Apply</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="#673521" title="RefChecks.this.global.Apply">tree</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Apply</span><span class="delimiter">(</span>
        Select<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673531">qual</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59144" title="=&gt; RefChecks.this.global.nme.NameType">filter</a><span class="delimiter">)</span>,
        <a href="#673533" title="(x: List[RefChecks.this.global.Tree])Some[List[RefChecks.this.global.Tree]]">List</a><span class="delimiter">(</span>Function<span class="delimiter">(</span>
          <a href="#673547" title="(x: List[RefChecks.this.global.ValDef])Some[List[RefChecks.this.global.ValDef]]">List</a><span class="delimiter">(</span>ValDef<span class="delimiter">(</span>_, <a title="RefChecks.this.global.TermName" id="673575">pname</a>, <a title="RefChecks.this.global.Tree" id="673576">tpt</a>, _<span class="delimiter">)</span><span class="delimiter">)</span>,
          Match<span class="delimiter">(</span>_, CaseDef<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673592">pat1</a>, _, _<span class="delimiter">)</span> :: _<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#673575" title="RefChecks.this.global.TermName">pname</a> <a href="../../../reflect/internal/Names.scala.html#52157" title="(name: String)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#58644" title="=&gt; String">CHECK_IF_REFUTABLE_STRING</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#668732" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span><a href="#673592" title="RefChecks.this.global.Tree">pat1</a>, <a href="#673576" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#673531" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#673521" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;

          <a href="#668750" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#673531" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="RefChecks.this.global.analyzer.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673615">tpt</a><span class="delimiter">)</span>, <a title="RefChecks.this.global.Name" id="673616">name</a><span class="delimiter">)</span>, <a title="List[RefChecks.this.global.Tree]" id="673617">args</a><span class="delimiter">)</span>
      <span class="keyword">if</span> <span class="delimiter">(</span><a href="#673615" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45152" title="=&gt; RefChecks.this.global.Symbol">ArrayClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#673617" title="List[RefChecks.this.global.Tree]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> =&gt;
        <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188716" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#673521" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>,
          <span title="String(&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;)" class="string">&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="673628">manif</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="673630">etpe</a> = <a href="#673615" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673650">_</a> &lt;- <a href="#673617" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#673630" title="RefChecks.this.global.Type">etpe</a> = <a href="#673630" title="RefChecks.this.global.Type">etpe</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[RefChecks.this.global.Type]">typeArgs</a>.<span title="=&gt; Option[RefChecks.this.global.Type]">headOption</span>.<span title="(default: =&gt; RefChecks.this.global.Type)RefChecks.this.global.Type">getOrElse</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38827" title="object RefChecks.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#673630" title="RefChecks.this.global.Type">etpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#38827" title="object RefChecks.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#673521" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span title="String(&quot;too many dimensions for array creation&quot;)" class="string">&quot;too many dimensions for array creation&quot;</span><span class="delimiter">)</span>
            <a href="#242152" title="(value: RefChecks.this.global.Constant)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)RefChecks.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#668685" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#187877" title="(tree: RefChecks.this.global.analyzer.global.Tree, tp: RefChecks.this.global.analyzer.global.Type, full: Boolean)RefChecks.this.global.analyzer.global.Tree">getManifestTree</a><span class="delimiter">(</span><a href="#673521" title="RefChecks.this.global.Apply">tree</a>, <a href="#673630" title="RefChecks.this.global.Type">etpe</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="673629">newResult</a> = <a href="#668685" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#187860" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#673521" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="RefChecks.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="#242152" title="RefChecks.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object RefChecks.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92338" title="(receiver: RefChecks.this.global.gen.global.Symbol, methodName: RefChecks.this.global.gen.global.Name, args: List[RefChecks.this.global.gen.global.Tree])RefChecks.this.global.gen.global.Tree">mkMethodCall</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45148" title="=&gt; RefChecks.this.global.Symbol">ArrayModule</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59222" title="=&gt; RefChecks.this.global.nme.NameType">ofDim</a>, <a href="#673617" title="List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span>, <span title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</span><span class="delimiter">(</span><a href="#673628" title="RefChecks.this.global.analyzer.global.Tree">manif</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#668688" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#673521" title="RefChecks.this.global.Apply">tree</a>
        <a href="#673629" title="RefChecks.this.global.analyzer.global.Tree">newResult</a>

      <span class="keyword">case</span> <span title="RefChecks.this.global.Apply">Apply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673705">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="673706">args</a><span class="delimiter">)</span> =&gt;
        <a href="#668725" title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit">checkSensible</a><span class="delimiter">(</span><a href="#673521" title="RefChecks.this.global.Apply">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#673705" title="RefChecks.this.global.Tree">fn</a>, <a href="#673706" title="List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span>
        <a href="#668688" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#673521" title="RefChecks.this.global.Apply">tree</a>
        <a href="#673521" title="RefChecks.this.global.Apply">tree</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree" id="668747">transformSelect</a><span class="delimiter">(</span><a title="RefChecks.this.global.Select" id="673707">tree</a>: <span title="RefChecks.this.global.Select">Select</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Select<a href="#673710" title="(RefChecks.this.global.Tree, RefChecks.this.global.Name)" class="delimiter">(</a><a href="#673709" title="RefChecks.this.global.Tree" id="673710">qual</a>, <a href="#673709" title="RefChecks.this.global.Name" id="673711">name</a><span class="delimiter">)</span> = <a href="#673707" title="RefChecks.this.global.Select">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="673712">sym</a> = <a href="#673707" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

      /** Note: if a symbol has both @deprecated and @migration annotations and both
       *  warnings are enabled, only the first one checked here will be emitted.
       *  I assume that's a consequence of some code trying to avoid noise by suppressing
       *  warnings after the first, but I think it'd be better if we didn't have to
       *  arbitrarily choose one as more important than the other.
       */
      <a href="#668733" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#673712" title="RefChecks.this.global.Symbol">sym</a>, <a href="#673707" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186698" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#668734" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkMigration</a><span class="delimiter">(</span><a href="#673712" title="RefChecks.this.global.Symbol">sym</a>, <a href="#673707" title="RefChecks.this.global.Select">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#242168" title="=&gt; RefChecks.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#673712" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#673712" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46805" title="=&gt; Boolean">hasLocalFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="673732">o</a> = <a href="#242168" title="=&gt; RefChecks.this.global.Symbol">currentClass</a>
        <span class="keyword">var</span> <a title="Boolean" id="673733">hidden</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#673733" title="Boolean">hidden</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#673732" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#673712" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#673732" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#673712" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#673732" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#46474" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span> <a href="#673734" title="()Unit" class="delimiter">{</a>
          <a href="#673733" title="Boolean">hidden</a> = <a href="#673732" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">||</span> <a href="#673732" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46786" title="=&gt; Boolean">isPrivateLocal</a>
          <a href="#673732" title="RefChecks.this.global.Symbol">o</a> = <a href="#673732" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#673733" title="Boolean">hidden</a><span class="delimiter">)</span> <a href="#668709" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <span title="(elem: RefChecks.this.global.Symbol)RefCheckTransformer.this.escapedPrivateLocals.type">+=</span> <a href="#673712" title="RefChecks.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(mix: RefChecks.this.global.Name)Unit" id="673713">checkSuper</a><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="673773">mix</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="RefChecks.this.global.Name">Name</a><span class="delimiter">)</span> =
        // term should have been eliminated by super accessors
        <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#673710" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46451" title="=&gt; Boolean">isTrait</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#673712" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46443" title="=&gt; Boolean">isTerm</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#673773" title="RefChecks.this.global.Name">mix</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39303" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59323" title="=&gt; RefChecks.this.global.tpnme.NameType">EMPTY</a><span class="delimiter">)</span>, <span title="(_1: RefChecks.this.global.Symbol, _2: RefChecks.this.global.Symbol, _3: RefChecks.this.global.Name)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol, RefChecks.this.global.Name)" class="delimiter">(</span><a href="#673710" title="RefChecks.this.global.Tree">qual</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>, <a href="#673712" title="RefChecks.this.global.Symbol">sym</a>, <a href="#673773" title="RefChecks.this.global.Name">mix</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#668745" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#673707" title="RefChecks.this.global.Select">tree</a>,
        <a href="#673710" title="RefChecks.this.global.Tree">qual</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Super</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.TypeName" id="673797">mix</a><span class="delimiter">)</span>  =&gt; <a href="#673713" title="(mix: RefChecks.this.global.Name)Unit">checkSuper</a><span class="delimiter">(</span><a href="#673797" title="RefChecks.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span>              =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree" id="668748">transformIf</a><span class="delimiter">(</span><a title="RefChecks.this.global.If" id="673798">tree</a>: <span title="RefChecks.this.global.If">If</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> If<a href="#673801" title="(RefChecks.this.global.Tree, RefChecks.this.global.Tree, RefChecks.this.global.Tree)" class="delimiter">(</a><a href="#673800" title="RefChecks.this.global.Tree" id="673801">cond</a>, <a href="#673800" title="RefChecks.this.global.Tree" id="673802">thenpart</a>, <a href="#673800" title="RefChecks.this.global.Tree" id="673803">elsepart</a><span class="delimiter">)</span> = <a href="#673798" title="RefChecks.this.global.If">tree</a>
      <span class="keyword">def</span> <a title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="673804">unitIfEmpty</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673820">t</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> =
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#673820" title="RefChecks.this.global.Tree">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#242152" title="object RefChecks.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#242152" title="(value: RefChecks.this.global.Constant)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/internal/Constants.scala.html#46245" title="(value: Any)RefChecks.this.global.Constant">Constant</a><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Literal">setPos</span><span class="delimiter">(</span><a href="#673798" title="RefChecks.this.global.If">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span><span class="delimiter">)</span>.<span title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Literal">setType</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#673820" title="RefChecks.this.global.Tree">t</a>

      <a href="#673801" title="RefChecks.this.global.Tree">cond</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">ConstantType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Constant" id="673833">value</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="673834">res</a> = <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#673833" title="RefChecks.this.global.Constant">value</a>.<a href="../../../reflect/internal/Constants.scala.html#46277" title="=&gt; Boolean">booleanValue</a><span class="delimiter">)</span> <a href="#673802" title="RefChecks.this.global.Tree">thenpart</a> <span class="keyword">else</span> <a href="#673803" title="RefChecks.this.global.Tree">elsepart</a>
          <a href="#673804" title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree">unitIfEmpty</a><span class="delimiter">(</span><a href="#673834" title="RefChecks.this.global.Tree">res</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RefChecks.this.global.If">_</span> =&gt; <a href="#673798" title="RefChecks.this.global.If">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    // Warning about nullary methods returning Unit.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Unit" id="668749">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="673835">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#673835" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">NullaryMethodType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="673839">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#673839" title="RefChecks.this.global.Type">restpe</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45531" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a> =&gt;
        // this may be the implementation of e.g. a generic method being parameterized
        // on Unit, in which case we had better let it slide.
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673835" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46483" title="=&gt; Boolean">isGetter</a> <span title="(x: Boolean)Boolean">||</span> <a href="#673835" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46703" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<span title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="673853">over</a> =&gt; <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#673853" title="RefChecks.this.global.Symbol">over</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; RefChecks.this.global.Type">resultType</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#673835" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41519" title="=&gt; RefChecks.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188715" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#673835" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; RefChecks.this.global.Position">pos</a>,
          <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;side-effecting nullary methods are discouraged: suggest defining as `def %s()` instead&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
           <a href="#673835" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52171" title="=&gt; String">decode</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="668750">transform</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="672678">tree</a>: <span title="RefChecks.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="RefChecks.this.global.Tree">Tree</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.Typer" id="673865">savedLocalTyper</a> = <a href="#668685" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="673866">savedCurrentApplication</a> = <a href="#668688" title="=&gt; RefChecks.this.global.Tree">currentApplication</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="673867">sym</a> = <a href="#672678" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>

        // Apply RefChecks to annotations. Makes sure the annotations conform to
        // type bounds (bug #935), issues deprecation warnings for symbols used
        // inside annotations.
        <a href="#668744" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="673868">result</a>: <span title="RefChecks.this.global.Tree">Tree</span> = <a href="#672678" title="RefChecks.this.global.Tree">tree</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Modifiers" id="673877">mods</a>, <a title="RefChecks.this.global.Name" id="673878">name</a>, <a title="List[RefChecks.this.global.TypeDef]" id="673879">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="673880">vparams</a>, <a title="RefChecks.this.global.Tree" id="673881">tpt</a>, <a href="#242152" title="object RefChecks.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#672678" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44936" title="(cls: RefChecks.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45405" title="=&gt; RefChecks.this.global.Symbol">NativeAttr</a><span class="delimiter">)</span> =&gt;
            <a href="#672678" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46590" title="(mask: Long)RefChecks.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span>
            <a href="#668750" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#242168" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<span title="(tree: RefChecks.this.global.Tree, mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.Name, tparams: List[RefChecks.this.global.TypeDef], vparamss: List[List[RefChecks.this.global.ValDef]], tpt: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</span><span class="delimiter">(</span>
              <a href="#672678" title="RefChecks.this.global.Tree">tree</a>, <a href="#673877" title="RefChecks.this.global.Modifiers">mods</a>, <a href="#673878" title="RefChecks.this.global.Name">name</a>, <a href="#673879" title="List[RefChecks.this.global.TypeDef]">tparams</a>, <a href="#673880" title="List[List[RefChecks.this.global.ValDef]]">vparams</a>, <a href="#673881" title="RefChecks.this.global.Tree">tpt</a>,
              <a href="Typers.scala.html#187859" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239096" title="(message: String)RefChecks.this.global.gen.global.Tree">mkSysErrorCall</a><span class="delimiter">(</span><span title="String(&quot;native method stub&quot;)" class="string">&quot;native method stub&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#668739" title="(tree: RefChecks.this.global.Tree)Unit">checkDeprecatedOvers</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#186953" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryUnit</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="#668749" title="(sym: RefChecks.this.global.Symbol)Unit">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a href="#673867" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#186955" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnInaccessible</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#673867" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46492" title="=&gt; Boolean">isConstructor</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#673867" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46549" title="=&gt; Boolean">isEffectivelyFinal</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#673867" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46784" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span>
                <a href="#668738" title="(tree: RefChecks.this.global.Tree)Unit">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#672678" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Template</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="673922">parents</a>, <a title="RefChecks.this.global.ValDef" id="673923">self</a>, <a title="List[RefChecks.this.global.Tree]" id="673924">body</a><span class="delimiter">)</span> =&gt;
            <a href="#668685" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#668685" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#187858" title="(tree: RefChecks.this.global.analyzer.global.Tree, owner: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.Typer">atOwner</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a>, <a href="#242168" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#668700" title="(clazz: RefChecks.this.global.Symbol)Unit">validateBaseTypes</a><span class="delimiter">(</span><a href="#242168" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#668696" title="(clazz: RefChecks.this.global.Symbol)Unit">checkOverloadedRestrictions</a><span class="delimiter">(</span><a href="#242168" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.Tree]" id="673925">bridges</a> = <a href="#668698" title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]">addVarargBridges</a><span class="delimiter">(</span><a href="#242168" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#668699" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="#242168" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#673925" title="List[RefChecks.this.global.Tree]">bridges</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#242168" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<span title="(tree: RefChecks.this.global.Tree, parents: List[RefChecks.this.global.Tree], self: RefChecks.this.global.ValDef, body: List[RefChecks.this.global.Tree])RefChecks.this.global.Template">Template</span><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a>, <a href="#673922" title="List[RefChecks.this.global.Tree]">parents</a>, <a href="#673923" title="RefChecks.this.global.ValDef">self</a>, <a href="#673924" title="List[RefChecks.this.global.Tree]">body</a> <a href="#673937" title="(prefix: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">:::</a> <a href="#673925" title="List[RefChecks.this.global.Tree]">bridges</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#672678" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <a title="RefChecks.this.global.TypeTreeWithDeferredRefCheck" id="673945">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="String(&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;)" class="string">&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;</span><span class="delimiter">)</span>; <a href="#673945" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>
          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="673950">tpt</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#673950" title="RefChecks.this.global.TypeTree">tpt</a>.<span title="=&gt; RefChecks.this.global.Tree">original</span> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#673950" title="RefChecks.this.global.TypeTree">tpt</a>.<span title="=&gt; RefChecks.this.global.Tree">original</span> <span title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</span> <a href="#673960" title="Unit" class="delimiter">{</a>
                <span class="keyword">case</span> <a title="Unit" id="673961">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                  <a href="#668750" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span title="Unit" class="delimiter">(</span><a href="#673961" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>.<a href="../ast/Trees.scala.html#255570" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> // #2416 -- only call transform to do refchecks, but discard results
                  // tpt has the right type if the deferred checks are ok
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" id="673953">existentialParams</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#668743" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#673964" title="Unit" class="delimiter">{</a> // check all bounds, except those that are existential type parameters
              <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="673967">tparams</a>, <a title="RefChecks.this.global.Type" id="673968">tpe</a><span class="delimiter">)</span> =&gt;
                <a href="#673953" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a> <span title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Symbol])existentialParams.type">++=</span> <a href="#673967" title="List[RefChecks.this.global.Symbol]">tparams</a>
              <span class="keyword">case</span> <a title="Unit" id="673971">t</a>: <a href="../../../reflect/internal/Types.scala.html#38876" title="RefChecks.this.global.TypeRef">TypeRef</a> =&gt;
                <a href="#668741" title="(tp: RefChecks.this.global.Type, tree: RefChecks.this.global.Tree)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Symbols.scala.html#38744" title="(syms: List[RefChecks.this.global.Symbol])(tpe: RefChecks.this.global.Type)RefChecks.this.global.Type">deriveTypeWithWildcards</a><span class="delimiter">(</span><a href="#673953" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a>.<span title="=&gt; List[RefChecks.this.global.Symbol]">toList</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#673971" title="RefChecks.this.global.TypeRef">t</a><span class="delimiter">)</span>, <a href="#672678" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
            <a href="#672678" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="673976">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="673977">args</a><span class="delimiter">)</span> =&gt;
            <a href="#668731" title="(tree0: RefChecks.this.global.Tree, pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type])Unit">checkBounds</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Types.scala.html#38829" title="object RefChecks.this.global.NoPrefix">NoPrefix</a>, <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#673976" title="RefChecks.this.global.Tree">fn</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41528" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#673977" title="List[RefChecks.this.global.Tree]">args</a> <span title="(f: RefChecks.this.global.Tree =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#673994" title="RefChecks.this.global.Tree">_</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#668745" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a>, <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="674022">x</a> @ Apply<span class="delimiter">(</span>_, _<span class="delimiter">)</span>  =&gt;
            <a href="#668746" title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree">transformApply</a><span class="delimiter">(</span><a href="#674022" title="RefChecks.this.global.Apply">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="674027">x</a> @ If<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span>  =&gt;
            <a href="#668748" title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree">transformIf</a><span class="delimiter">(</span><a href="#674027" title="RefChecks.this.global.If">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">New</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="674034">tpt</a><span class="delimiter">)</span> =&gt;
            <a href="#668722" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#674034" title="RefChecks.this.global.Tree">tpt</a>.<span title="=&gt; RefChecks.this.global.Type">tpe</span>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <a href="#672678" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Typed</span><span class="delimiter">(</span>_, Ident<span class="delimiter">(</span><a href="../../../reflect/internal/StdNames.scala.html#39303" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#63635" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#668740" title="(tree: RefChecks.this.global.Tree)Boolean">isRepeatedParamArg</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> =&gt;
            <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <span class="string">&quot;no `: _*' annotation allowed here\n&quot;</span><span title="String(&quot;no `: _*\' annotation allowed here\n(such annotations are only allowed in arguments to *-parameters)&quot;)">+</span>
              <span class="string">&quot;(such annotations are only allowed in arguments to *-parameters)&quot;</span><span class="delimiter">)</span>
            <a href="#672678" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Ident</span><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="674044">name</a><span class="delimiter">)</span> =&gt;
            <a href="#668745" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a>,
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#674044" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59373" title="=&gt; RefChecks.this.global.nme.NameType">WILDCARD</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#674044" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/StdNames.scala.html#39303" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#63635" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#186183" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#673867" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; RefChecks.this.global.NoSymbol">NoSymbol</a>, <span title="String(&quot;transformCaseApply: name = &quot;)" class="string">&quot;transformCaseApply: name = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#674044" title="RefChecks.this.global.Name">name</a>.<a href="../../../reflect/internal/Names.scala.html#52181" title="=&gt; String">debugString</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; tree = &quot;)" class="string">&quot; tree = &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#672678" title="RefChecks.this.global.Tree">tree</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#672678" title="RefChecks.this.global.Tree">tree</a>.<span title="()Class[_]">getClass</span><span class="delimiter">)</span> //debug
                <a href="#668722" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#673867" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="674062">x</a> @ Select<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            <a href="#668747" title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree">transformSelect</a><span class="delimiter">(</span><a href="#674062" title="RefChecks.this.global.Select">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">UnApply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="674069">fun</a>, <a title="List[RefChecks.this.global.Tree]" id="674070">args</a><span class="delimiter">)</span> =&gt;
            <a href="#668750" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#674069" title="RefChecks.this.global.Tree">fun</a><span class="delimiter">)</span> // just make sure we enterReference for unapply symbols, note that super.transform(tree) would not transform(fun)
                           // transformTrees(args) // TODO: is this necessary? could there be forward references in the args??
                           // probably not, until we allow parameterised extractors
            <a href="#672678" title="RefChecks.this.global.Tree">tree</a>


          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">_</span> =&gt; <a href="#672678" title="RefChecks.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
        <a href="#673868" title="RefChecks.this.global.Tree">result</a> = <a href="#673868" title="RefChecks.this.global.Tree">result</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.CaseDef">CaseDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="674076">pat</a>, <a title="RefChecks.this.global.Tree" id="674077">guard</a>, <a title="RefChecks.this.global.Tree" id="674078">body</a><span class="delimiter">)</span> =&gt;
            <a href="#668691" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="674079">pat1</a> = <a href="#668750" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#674076" title="RefChecks.this.global.Tree">pat</a><span class="delimiter">)</span>
            <a href="#668691" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="#242168" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<span title="(tree: RefChecks.this.global.Tree, pat: RefChecks.this.global.Tree, guard: RefChecks.this.global.Tree, body: RefChecks.this.global.Tree)RefChecks.this.global.CaseDef">CaseDef</span><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a>, <a href="#674079" title="RefChecks.this.global.Tree">pat1</a>, <a href="#668750" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#674077" title="RefChecks.this.global.Tree">guard</a><span class="delimiter">)</span>, <a href="#668750" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#674078" title="RefChecks.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">_</span> =&gt;
            <a href="#242168" title="RefChecks.this.RefCheckTransformer" class="keyword">super</a>.<span title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</span><span class="delimiter">(</span><a href="#673868" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#673868" title="RefChecks.this.global.Tree">result</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span>
             | TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#673868" title="RefChecks.this.global.Tree">result</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46550" title="=&gt; Boolean">isLocal</a> <span title="(x: Boolean)Boolean">||</span> <a href="#673868" title="RefChecks.this.global.Tree">result</a>.<span title="=&gt; RefChecks.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
              <a href="#668711" title="=&gt; RefChecks.this.global.Traverser">varianceValidator</a>.<span title="(tree: RefChecks.this.global.Tree)Unit">traverse</span><span class="delimiter">(</span><a href="#673868" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="#673868" title="RefChecks.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="674100">ex</a>: <a href="../../../reflect/internal/Types.scala.html#39126" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#674100" title="RefChecks.this.global.TypeError">ex</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#668751" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188714" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#672678" title="RefChecks.this.global.Tree">tree</a>.<span title="=&gt; RefChecks.this.global.Position">pos</span>, <a href="#674100" title="RefChecks.this.global.TypeError">ex</a>.<span title="()String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#672678" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#668685" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#673865" title="RefChecks.this.global.analyzer.Typer">savedLocalTyper</a>
        <a href="#668688" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#673866" title="RefChecks.this.global.Tree">savedCurrentApplication</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>