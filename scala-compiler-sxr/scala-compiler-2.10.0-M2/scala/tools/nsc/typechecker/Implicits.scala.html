<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/Implicits.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

//todo: rewrite or disllow new T where T is a mixin (currently: &lt;init&gt; not a member of T)
//todo: use inherited type info also for vars and values
//todo: disallow C#D in superclass
//todo: treat :::= correctly

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> annotation.tailrec
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> mutable.<span class="delimiter">{</span> LinkedHashMap, ListBuffer <span class="delimiter">}</span>
<span class="keyword">import</span> scala.util.matching.Regex
<span class="keyword">import</span> symtab.<a href="../symtab/package.scala.html#34879" title="=&gt; reflect.internal.Flags.type">Flags</a>._
<span class="keyword">import</span> util.<a href="../util/Statistics.scala.html#33248" title="object scala.tools.nsc.util.Statistics">Statistics</a>._

/** This trait provides methods to find various kinds of implicits.
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */
<span class="keyword">trait</span> <a title="trait Implicits extends Object with ScalaObject" id="30062">Implicits</a> <span title="ScalaObject" class="delimiter">{</span>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#187273" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/Definitions.scala.html#39224" title="object Implicits.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../../../reflect/internal/TypeDebugging.scala.html#39429" title="object Implicits.this.global.typeDebug">typeDebug</a>.<span class="delimiter">{</span> ptTree, ptBlock, ptLine <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="Analyzer.scala.html#187273" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#186285" title="object Implicits.this.global.typer">typer</a>.<span class="delimiter">{</span> printTyping, deindentTyping, indentTyping, printInference <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: Implicits.this.global.Tree, pt: Implicits.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Implicits.this.Context)Implicits.this.SearchResult" id="187492">inferImplicit</a><span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="623499">tree</a>: <span title="Implicits.this.global.Tree">Tree</span>, <a title="Implicits.this.global.Type" id="623500">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Boolean" id="623501">reportAmbiguous</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="623502">isView</a>: <span title="Boolean">Boolean</span>, <a title="Implicits.this.Context" id="623503">context</a>: <a href="Contexts.scala.html#187302" title="Implicits.this.Context">Context</a><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> =
    <a href="#187493" title="(tree: Implicits.this.global.Tree, pt: Implicits.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Implicits.this.Context, saveAmbiguousDivergent: Boolean)Implicits.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#623499" title="Implicits.this.global.Tree">tree</a>, <a href="#623500" title="Implicits.this.global.Type">pt</a>, <a href="#623501" title="Boolean">reportAmbiguous</a>, <a href="#623502" title="Boolean">isView</a>, <a href="#623503" title="Implicits.this.Context">context</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  /** Search for an implicit value. See the comment on `result` at the end of class `ImplicitSearch`
   *  for more info how the search is conducted.
   *  @param tree                    The tree for which the implicit needs to be inserted.
   *                                 (the inference might instantiate some of the undetermined
   *                                 type parameters of that tree.
   *  @param pt                      The expected type of the implicit.
   *  @param reportAmbiguous         Should ambiguous implicit errors be reported?
   *                                 False iff we search for a view to find out
   *                                 whether one type is coercible to another.
   *  @param isView                  We are looking for a view
   *  @param context                 The current context
   *  @param saveAmbiguousDivergent  False if any divergent/ambiguous errors should be ignored after
   *                                 implicits search,
   *                                 true if they should be reported (used in further typechecking).
   *  @return                        A search result
   */
  <span class="keyword">def</span> <a title="(tree: Implicits.this.global.Tree, pt: Implicits.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Implicits.this.Context, saveAmbiguousDivergent: Boolean)Implicits.this.SearchResult" id="187493">inferImplicit</a><span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="623486">tree</a>: <span title="Implicits.this.global.Tree">Tree</span>, <a title="Implicits.this.global.Type" id="623487">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Boolean" id="623488">reportAmbiguous</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="623489">isView</a>: <span title="Boolean">Boolean</span>, <a title="Implicits.this.Context" id="623490">context</a>: <a href="Contexts.scala.html#187302" title="Implicits.this.Context">Context</a>, <a title="Boolean" id="623491">saveAmbiguousDivergent</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> = <span class="delimiter">{</span>
    <a href="Typers.scala.html#187854" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[infer %s] %s with pt=%s in %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#623489" title="Boolean">isView</a><span class="delimiter">)</span> <span title="String(&quot;view&quot;)" class="string">&quot;view&quot;</span> <span class="keyword">else</span> <span title="String(&quot;implicit&quot;)" class="string">&quot;implicit&quot;</span>,
      <a href="#623486" title="Implicits.this.global.Tree">tree</a>, <a href="#623487" title="Implicits.this.global.Type">pt</a>, <a href="#623490" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Implicits.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; Implicits.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <a href="Typers.scala.html#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span>
      <a href="../../../reflect/internal/TypeDebugging.scala.html#75260" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="String(&quot;infer implicit&quot;)" class="string">&quot;infer implicit&quot;</span> <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#623489" title="Boolean">isView</a><span class="delimiter">)</span> <span title="String(&quot; view&quot;)" class="string">&quot; view&quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>,
        <span title="(x: String)ArrowAssoc[String]" class="string">&quot;tree&quot;</span>        <span title="(y: Implicits.this.global.Tree)(String, Implicits.this.global.Tree)">-&gt;</span> <a href="#623486" title="Implicits.this.global.Tree">tree</a>,
        <span title="(x: String)ArrowAssoc[String]" class="string">&quot;pt&quot;</span>          <span title="(y: Implicits.this.global.Type)(String, Implicits.this.global.Type)">-&gt;</span> <a href="#623487" title="Implicits.this.global.Type">pt</a>,
        <span title="(x: String)ArrowAssoc[String]" class="string">&quot;undetparams&quot;</span> <span title="(y: List[Implicits.this.global.Symbol])(String, List[Implicits.this.global.Symbol])">-&gt;</span> <a href="#623490" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188114" title="=&gt; Implicits.this.Context">outer</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Implicits.this.global.Symbol]">undetparams</a>
      <span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <a href="Typers.scala.html#187852" title="()Unit">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="633025">rawTypeStart</a>    = <a href="../../../reflect/internal/util/StatBase.scala.html#38641" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38689" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeImpl</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="633026">findMemberStart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38641" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38691" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberImpl</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="633027">subtypeStart</a>    = <a href="../../../reflect/internal/util/StatBase.scala.html#38641" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38693" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeImpl</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="633028">start</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187213" title="=&gt; scala.tools.nsc.util.Statistics.Timer">implicitNanos</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186226" title="=&gt; Boolean">printInfers</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#623486" title="Implicits.this.global.Tree">tree</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#623490" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Implicits.this.global.Symbol]">undetparams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span>
      <a href="Typers.scala.html#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typing implicit: %s %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#623486" title="Implicits.this.global.Tree">tree</a>, <a href="#623490" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188176" title="=&gt; String">undetparamsString</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Implicits.this.Context" id="633029">implicitSearchContext</a> = <a href="#623490" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188211" title="(reportAmbiguousErrors: Boolean)Implicits.this.Context">makeImplicit</a><span class="delimiter">(</span><a href="#623488" title="Boolean">reportAmbiguous</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="633030">result</a> = <span title="Implicits.this.ImplicitSearch" class="keyword">new</span> <a href="#187522" title="Implicits.this.ImplicitSearch">ImplicitSearch</a><span class="delimiter">(</span><a href="#623486" title="Implicits.this.global.Tree">tree</a>, <a href="#623487" title="Implicits.this.global.Type">pt</a>, <a href="#623489" title="Boolean">isView</a>, <a href="#633029" title="Implicits.this.Context">implicitSearchContext</a><span class="delimiter">)</span>.<a href="#440912" title="=&gt; Implicits.this.SearchResult">bestImplicit</a>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#623491" title="Boolean">saveAmbiguousDivergent</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#633029" title="Implicits.this.Context">implicitSearchContext</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
      <a href="#623490" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188193" title="(errors: scala.collection.mutable.Set[Implicits.this.AbsTypeError])scala.collection.mutable.Set[Implicits.this.AbsTypeError]">updateBuffer</a><span class="delimiter">(</span><a href="#633029" title="Implicits.this.Context">implicitSearchContext</a>.<a href="Contexts.scala.html#188181" title="=&gt; scala.collection.mutable.Set[Implicits.this.AbsTypeError]">errBuffer</a>.<span title="(p: Implicits.this.AbsTypeError =&gt; Boolean)scala.collection.mutable.Set[Implicits.this.AbsTypeError]">filter</span><span class="delimiter">(</span><a title="Implicits.this.AbsTypeError" id="633140">err</a> =&gt; <a href="#633140" title="Implicits.this.AbsTypeError">err</a>.<a href="ContextErrors.scala.html#626311" title="=&gt; Implicits.this.ErrorKinds.ErrorKind">kind</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="ContextErrors.scala.html#187669" title="object Implicits.this.ErrorKinds">ErrorKinds</a>.<a href="ContextErrors.scala.html#626278" title="=&gt; Implicits.this.ErrorKinds.Value">Ambiguous</a> <span title="(x: Boolean)Boolean">||</span> <a href="#633140" title="Implicits.this.AbsTypeError">err</a>.<a href="ContextErrors.scala.html#626311" title="=&gt; Implicits.this.ErrorKinds.ErrorKind">kind</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="ContextErrors.scala.html#187669" title="object Implicits.this.ErrorKinds">ErrorKinds</a>.<a href="ContextErrors.scala.html#626280" title="=&gt; Implicits.this.ErrorKinds.Value">Divergent</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="Typers.scala.html#187854" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="String(&quot;[infer implicit] inferred &quot;)" class="string">&quot;[infer implicit] inferred &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#633030" title="Implicits.this.SearchResult">result</a><span class="delimiter">)</span>
    <a href="#623490" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188178" title="(ps: List[Implicits.this.global.Symbol])Unit">undetparams</a> = <a href="#623490" title="Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Implicits.this.global.Symbol]">undetparams</a> <span title="(p: Implicits.this.global.Symbol =&gt; Boolean)List[Implicits.this.global.Symbol]">filterNot</span> <a href="#633030" title="Implicits.this.SearchResult">result</a>.<a href="#633201" title="=&gt; Implicits.this.global.TreeTypeSubstituter">subst</a>.<a href="../../../reflect/internal/Trees.scala.html#128672" title="=&gt; List[Implicits.this.global.Symbol]">from</a>.<a href="#633173" title="(elem: Any)Boolean">contains</a>

    <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187213" title="=&gt; scala.tools.nsc.util.Statistics.Timer">implicitNanos</a>, <a href="#633028" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
    <a href="../../../reflect/internal/util/StatBase.scala.html#38642" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38689" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeImpl</a>, <a href="#633025" title="scala.tools.nsc.util.Statistics.IntPair">rawTypeStart</a><span class="delimiter">)</span>
    <a href="../../../reflect/internal/util/StatBase.scala.html#38642" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38691" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberImpl</a>, <a href="#633026" title="scala.tools.nsc.util.Statistics.IntPair">findMemberStart</a><span class="delimiter">)</span>
    <a href="../../../reflect/internal/util/StatBase.scala.html#38642" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../../../reflect/internal/util/Statistics.scala.html#38693" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeImpl</a>, <a href="#633027" title="scala.tools.nsc.util.Statistics.IntPair">subtypeStart</a><span class="delimiter">)</span>
    <a href="Typers.scala.html#187851" title="()Unit">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Typers.scala.html#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="String(&quot;Implicit search yielded: &quot;)" class="string">&quot;Implicit search yielded: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#633030" title="Implicits.this.SearchResult">result</a><span class="delimiter">)</span>
    <a href="#633030" title="Implicits.this.SearchResult">result</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(50000)" id="187494">sizeLimit</a> = <span title="Int(50000)" class="int">50000</span>
  <span class="keyword">private</span> <span class="keyword">type</span> <a title="List[Implicits.this.ImplicitInfo]" id="187496">Infos</a> = <span title="List[Implicits.this.ImplicitInfo]">List</span><span class="delimiter">[</span>ImplicitInfo<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">type</span> <a title="List[List[Implicits.this.ImplicitInfo]]" id="187497">Infoss</a> = <span title="List[List[Implicits.this.ImplicitInfo]]">List</span><span class="delimiter">[</span>List<span class="delimiter">[</span>ImplicitInfo<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">type</span> <a title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]" id="187498">InfoMap</a> = <span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]">LinkedHashMap</span><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>ImplicitInfo<span class="delimiter">]</span><span class="delimiter">]</span> // A map from class symbols to their associated implicits
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Type,Implicits.this.Infoss]" id="187499">implicitsCache</a> = <span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Type,Implicits.this.Infoss]" class="keyword">new</span> <span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Type,Implicits.this.Infoss]">LinkedHashMap</span><span class="delimiter">[</span>Type, Infoss<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,Implicits.this.InfoMap]" id="187501">infoMapCache</a> = <span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,Implicits.this.InfoMap]" class="keyword">new</span> <span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,Implicits.this.InfoMap]">LinkedHashMap</span><span class="delimiter">[</span>Symbol, InfoMap<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[(Implicits.this.ImplicitInfo, Implicits.this.ImplicitInfo),Boolean]" id="187503">improvesCache</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35655" title="object Implicits.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110762" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[(Implicits.this.ImplicitInfo, Implicits.this.ImplicitInfo),Boolean]" class="delimiter">[</span><span title="(Implicits.this.ImplicitInfo, Implicits.this.ImplicitInfo)" class="delimiter">(</span>ImplicitInfo, ImplicitInfo<span class="delimiter">)</span>, <span title="Boolean">Boolean</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()Unit" id="187505">resetImplicits</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#187499" title="=&gt; scala.collection.mutable.LinkedHashMap[Implicits.this.global.Type,Implicits.this.Infoss]">implicitsCache</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#187501" title="=&gt; scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,Implicits.this.InfoMap]">infoMapCache</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#187503" title="=&gt; scala.collection.mutable.HashMap[(Implicits.this.ImplicitInfo, Implicits.this.ImplicitInfo),Boolean]">improvesCache</a>.<span title="()Unit">clear</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Set[Implicits.this.global.Symbol]" id="187506">ManifestSymbols</a> = <span title="(elems: Implicits.this.global.Symbol*)scala.collection.immutable.Set[Implicits.this.global.Symbol]">Set</span><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45185" title="=&gt; Implicits.this.global.Symbol">PartialManifestClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#45189" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a>, <a href="../../../reflect/internal/Definitions.scala.html#45193" title="=&gt; Implicits.this.global.Symbol">OptManifestClass</a><span class="delimiter">)</span>

  /* Map a polytype to one in which all type parameters and argument-dependent types are replaced by wildcards.
   * Consider `implicit def b(implicit x: A): x.T = error(&quot;&quot;)`. We need to approximate DebruijnIndex types
   * when checking whether `b` is a valid implicit, as we haven't even searched a value for the implicit arg `x`,
   * so we have to approximate (otherwise it is excluded a priori).
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="187508">depoly</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633186">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a> = <a href="#633186" title="Implicits.this.global.Type">tp</a> <span title="Implicits.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Implicits.this.global.Type">PolyType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Symbol]" id="633190">tparams</a>, <a title="Implicits.this.global.Type" id="633191">restpe</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Symbols.scala.html#38744" title="(syms: List[Implicits.this.global.Symbol])(tpe: Implicits.this.global.Type)Implicits.this.global.Type">deriveTypeWithWildcards</a><span class="delimiter">(</span><a href="#633190" title="List[Implicits.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#130445" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">ApproximateDependentMap</a><span class="delimiter">(</span><a href="#633191" title="Implicits.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Implicits.this.global.Type">_</span>                         =&gt; <a href="../../../reflect/internal/Types.scala.html#130445" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">ApproximateDependentMap</a><span class="delimiter">(</span><a href="#633186" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** The result of an implicit search
   *  @param  tree    The tree representing the implicit
   *  @param  subst   A substituter that represents the undetermined type parameters
   *                  that were instantiated by the winning implicit.
   */
  <span class="keyword">class</span> <a title="class SearchResult extends Object with ScalaObject" id="187509">SearchResult</a><a href="#187509" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="633200">tree</a>: <span title="Implicits.this.global.Tree">Tree</span>, <span class="keyword">val</span> <a title="Implicits.this.global.TreeTypeSubstituter" id="633201">subst</a>: <a href="../../../reflect/internal/Trees.scala.html#39396" title="Implicits.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="440727">toString</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;SearchResult(%s, %s)&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#633200" title="=&gt; Implicits.this.global.Tree">tree</a>,
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#633201" title="=&gt; Implicits.this.global.TreeTypeSubstituter">subst</a>.<a href="../../../reflect/internal/Trees.scala.html#128677" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#633201" title="=&gt; Implicits.this.global.TreeTypeSubstituter">subst</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="187511">SearchFailure</a> = <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="object Implicits.this.global.EmptyTree">EmptyTree</a>, <a href="../../../reflect/internal/Trees.scala.html#39397" title="=&gt; Implicits.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a><span class="delimiter">)</span>

  /** A class that records an available implicit
   *  @param   name   The name of the implicit
   *  @param   pre    The prefix type of the implicit
   *  @param   sym    The symbol of the implicit
   */
  <span class="keyword">class</span> <a title="class ImplicitInfo extends Object with ScalaObject" id="187512">ImplicitInfo</a><a href="#187512" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Implicits.this.global.Name" id="630472">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Implicits.this.global.Name">Name</a>, <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="630473">pre</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <span class="keyword">val</span> <a title="Implicits.this.global.Symbol" id="630474">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Implicits.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Implicits.this.global.Type" id="629235">tpeCache</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a> = <span title="Null(null)" class="keyword">null</span>

    /** Computes member type of implicit from prefix `pre` (cached). */
    <span class="keyword">def</span> <a title="=&gt; Implicits.this.global.Type" id="629237">tpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#629235" title="=&gt; Implicits.this.global.Type">tpeCache</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#629235" title="(x$1: Implicits.this.global.Type)Unit">tpeCache</a> = <a href="#630473" title="=&gt; Implicits.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41556" title="(sym: Implicits.this.global.Symbol)Implicits.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <a href="#629235" title="=&gt; Implicits.this.global.Type">tpeCache</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="629238">isCyclicOrErroneous</a> =
      <span class="keyword">try</span> <a href="#629245" title="(tp: Implicits.this.global.Type)Boolean">containsError</a><span class="delimiter">(</span><a href="#629237" title="=&gt; Implicits.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Boolean(true)">_</span>: <a href="../../../reflect/internal/Symbols.scala.html#38758" title="Implicits.this.global.CyclicReference">CyclicReference</a> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Int" id="629240">useCountArg</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">var</span> <a title="Int" id="629243">useCountView</a>: <span title="Int">Int</span> = <span title="Int(0)" class="int">0</span>

    /** Does type `tp` contain an Error type as parameter or result?
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Boolean" id="629245">containsError</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633219">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#633219" title="Implicits.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Symbol]" id="633223">tparams</a>, <a title="Implicits.this.global.Type" id="633224">restpe</a><span class="delimiter">)</span> =&gt;
        <a href="#629245" title="(tp: Implicits.this.global.Type)Boolean">containsError</a><span class="delimiter">(</span><a href="#633224" title="Implicits.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633226">restpe</a><span class="delimiter">)</span> =&gt;
        <a href="#629245" title="(tp: Implicits.this.global.Type)Boolean">containsError</a><span class="delimiter">(</span><a href="#633226" title="Implicits.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Symbol]" id="633229">params</a>, <a title="Implicits.this.global.Type" id="633230">restpe</a><span class="delimiter">)</span> =&gt;
        <a href="#633229" title="List[Implicits.this.global.Symbol]">params</a>.<span title="(p: Implicits.this.global.Symbol =&gt; Boolean)Boolean">exists</span><span class="delimiter">(</span><a href="#633237" title="Implicits.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Implicits.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41498" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#629245" title="(tp: Implicits.this.global.Type)Boolean">containsError</a><span class="delimiter">(</span><a href="#633230" title="Implicits.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="#633219" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41498" title="=&gt; Boolean">isError</a>
    <span class="delimiter">}</span>

    /** Todo reconcile with definition of stability given in Types.scala */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Boolean" id="629246">isStable</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633238">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#633238" title="Implicits.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
     <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633243">pre</a>, <a title="Implicits.this.global.Symbol" id="633244">sym</a>, _<span class="delimiter">)</span> =&gt;
       <a href="#633244" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46475" title="=&gt; Boolean">isPackageClass</a> <span title="(x: Boolean)Boolean">||</span>
       <a href="#633244" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46463" title="=&gt; Boolean">isModuleClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#629246" title="(tp: Implicits.this.global.Type)Boolean">isStable</a><span class="delimiter">(</span><a href="#633243" title="Implicits.this.global.Type">pre</a><span class="delimiter">)</span> /*||
       sym.isAliasType &amp;&amp; isStable(tp.normalize)*/
     <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; <a href="#633238" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41491" title="=&gt; Boolean">isStable</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="629247">isStablePrefix</a> = <a href="#629246" title="(tp: Implicits.this.global.Type)Boolean">isStable</a><span class="delimiter">(</span><a href="#630473" title="=&gt; Implicits.this.global.Type">pre</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="629248">equals</a><span class="delimiter">(</span><a title="Any" id="632972">other</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#632972" title="Any">other</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="632975">that</a>: <a href="#187512" title="Implicits.this.ImplicitInfo">ImplicitInfo</a> =&gt;
          <a href="#187512" title="ImplicitInfo.this.type" class="keyword">this</a>.<a href="#630472" title="=&gt; Implicits.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#632975" title="Implicits.this.ImplicitInfo">that</a>.<a href="#630472" title="=&gt; Implicits.this.global.Name">name</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#187512" title="ImplicitInfo.this.type" class="keyword">this</a>.<a href="#630473" title="=&gt; Implicits.this.global.Type">pre</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: Implicits.this.global.Type)Boolean">=:=</a> <a href="#632975" title="Implicits.this.ImplicitInfo">that</a>.<a href="#630473" title="=&gt; Implicits.this.global.Type">pre</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
          <a href="#187512" title="ImplicitInfo.this.type" class="keyword">this</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#632975" title="Implicits.this.ImplicitInfo">that</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="629249">hashCode</a> = <a href="#630472" title="=&gt; Implicits.this.global.Name">name</a>.<span title="()Int">##</span> <span title="(x: Int)Int">+</span> <a href="#630473" title="=&gt; Implicits.this.global.Type">pre</a>.<span title="()Int">##</span> <span title="(x: Int)Int">+</span> <a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a>.<span title="()Int">##</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="629250">toString</a> = <a href="#630472" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <span title="(other: String)String">+</span> <span title="String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#629237" title="=&gt; Implicits.this.global.Type">tpe</a>
  <span class="delimiter">}</span>

  /** A sentinel indicating no implicit was found */
  <span class="keyword">val</span> <a title="Implicits.this.ImplicitInfo" id="187513">NoImplicitInfo</a> = <a href="#632966" title="Implicits.this.ImplicitInfo" class="keyword">new</a> <a href="#187512" title="anonymous class $anon extends Implicits.this.ImplicitInfo" id="632966">ImplicitInfo</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span>, <a href="../../../reflect/internal/Types.scala.html#38827" title="object Implicits.this.global.NoType">NoType</a>, <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Implicits.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    // equals used to be implemented in ImplicitInfo with an `if(this eq NoImplicitInfo)`
    // overriding the equals here seems cleaner and benchmarks show no difference in performance
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="632968">equals</a><span class="delimiter">(</span><a title="Any" id="632970">other</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#632970" title="Any">other</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Boolean" id="632987">that</a>: <span title="AnyRef">AnyRef</span> =&gt; <a href="#632987" title="AnyRef">that</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#632966" title="Implicits.this.ImplicitInfo" class="keyword">this</a>  <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="632969">hashCode</a> = <span title="Int(1)" class="int">1</span>
  <span class="delimiter">}</span>

  /** A constructor for types ?{ name: tp }, used in infer view to member
   *  searches.
   */
  <span class="keyword">def</span> <a title="(name: Implicits.this.global.Name, tp: Implicits.this.global.Type)Implicits.this.global.Type" id="187515">memberWildcardType</a><span class="delimiter">(</span><a title="Implicits.this.global.Name" id="633253">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Implicits.this.global.Name">Name</a>, <a title="Implicits.this.global.Type" id="633254">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="633257">result</a> = <a href="../../../reflect/internal/Types.scala.html#38932" title="(parents: List[Implicits.this.global.Type], owner: Implicits.this.global.Symbol)Implicits.this.global.Type">refinedType</a><span class="delimiter">(</span><span title="(xs: Implicits.this.global.WildcardType.type*)List[Implicits.this.global.WildcardType.type]">List</span><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38822" title="object Implicits.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Implicits.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
    <a href="#633253" title="Implicits.this.global.Name">name</a> <span title="Implicits.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Implicits.this.global.TermSymbol" id="633273">x</a>: <a href="../../../reflect/internal/Names.scala.html#38409" title="Implicits.this.global.TermName">TermName</a> =&gt; <a href="#633257" title="Implicits.this.global.Type">result</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="Implicits.this.global.Symbol" id="633281">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#71563" title="Implicits.this.global.Position" id="633284">newValue</a><span class="delimiter">(</span><a href="#633273" title="Implicits.this.global.TermName" id="633282">x</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46614" title="(info: Implicits.this.global.Type)Implicits.this.global.TermSymbol">setInfoAndEnter</a> <a href="#633254" title="Implicits.this.global.Type">tp</a>
      <span class="keyword">case</span> <a title="Implicits.this.global.Symbol" id="633288">x</a>: <a href="../../../reflect/internal/Names.scala.html#38410" title="Implicits.this.global.TypeName">TypeName</a> =&gt; <a href="#633257" title="Implicits.this.global.Type">result</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="Implicits.this.global.Symbol" id="633296">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#113020" title="Implicits.this.global.Position" id="633299">newAbstractType</a><span class="delimiter">(</span><a href="#633288" title="Implicits.this.global.TypeName" id="633297">x</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46614" title="(info: Implicits.this.global.Type)Implicits.this.global.Symbol">setInfoAndEnter</a> <a href="#633254" title="Implicits.this.global.Type">tp</a>
    <span class="delimiter">}</span>
    <a href="#633257" title="Implicits.this.global.Type">result</a>
  <span class="delimiter">}</span>

  /** An extractor for types of the form ? { name: ? }
   */
  <span class="keyword">object</span> <a title="object Implicits.this.HasMember" id="187516">HasMember</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Implicits.this.global.Name,Implicits.this.global.Type]" id="633304">hasMemberCache</a> = <a href="../../../reflect/internal/SymbolTable.scala.html#35655" title="object Implicits.this.global.perRunCaches">perRunCaches</a>.<a href="../../../reflect/internal/SymbolTable.scala.html#110762" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Implicits.this.global.Name,Implicits.this.global.Type]" class="delimiter">[</span><a href="../../../reflect/internal/Names.scala.html#38403" title="Implicits.this.global.Name">Name</a>, <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(name: Implicits.this.global.Name)Implicits.this.global.Type" id="633306">apply</a><span class="delimiter">(</span><a title="Implicits.this.global.Name" id="633309">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Implicits.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a> = <a href="#633304" title="=&gt; scala.collection.mutable.HashMap[Implicits.this.global.Name,Implicits.this.global.Type]">hasMemberCache</a>.<span title="(key: Implicits.this.global.Name, op: =&gt; Implicits.this.global.Type)Implicits.this.global.Type">getOrElseUpdate</span><span class="delimiter">(</span><a href="#633309" title="Implicits.this.global.Name">name</a>, <a href="#187515" title="(name: Implicits.this.global.Name, tp: Implicits.this.global.Type)Implicits.this.global.Type">memberWildcardType</a><span class="delimiter">(</span><a href="#633309" title="Implicits.this.global.Name">name</a>, <a href="../../../reflect/internal/Types.scala.html#38822" title="object Implicits.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(pt: Implicits.this.global.Type)Option[Implicits.this.global.Name]" id="633307">unapply</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633313">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[Implicits.this.global.Name]">Option</span><span class="delimiter">[</span>Name<span class="delimiter">]</span> = <a href="#633313" title="Implicits.this.global.Type">pt</a> <span title="Option[Implicits.this.global.Name]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Some[Implicits.this.global.Name]">RefinedType</span><span class="delimiter">(</span><a href="#633318" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38822" title="object Implicits.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../../../reflect/internal/Scopes.scala.html#77478" title="(decls: Implicits.this.global.Scope)Some[Seq[Implicits.this.global.Symbol]]">Scope</a><span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="633343">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#633343" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Implicits.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#38822" title="object Implicits.this.global.WildcardType">WildcardType</a> =&gt; <span title="(x: Implicits.this.global.Name)Some[Implicits.this.global.Name]">Some</span><span class="delimiter">(</span><a href="#633343" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Implicits.this.global.Name">name</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** An extractor for types of the form ? { name: (? &gt;: argtpe &lt;: Any*)restp }
   */
  <span class="keyword">object</span> <a title="object Implicits.this.HasMethodMatching" id="187518">HasMethodMatching</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Implicits.this.global.TermSymbol" id="633353">dummyMethod</a> = <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Implicits.this.global.NoSymbol">NoSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46398" title="(name: Implicits.this.global.TermName, pos: Implicits.this.global.Position, newFlags: Long)Implicits.this.global.TermSymbol">newTermSymbol</a><span class="delimiter">(</span><a href="../../../reflect/internal/Names.scala.html#38394" title="(s: String)Implicits.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="String(&quot;typer$dummy&quot;)" class="string">&quot;typer$dummy&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(argtpe: Implicits.this.global.Type)Implicits.this.global.BoundedWildcardType" id="633355">templateArgType</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633366">argtpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span> = <span title="Implicits.this.global.BoundedWildcardType" class="keyword">new</span> <a href="../../../reflect/internal/Types.scala.html#38824" title="Implicits.this.global.BoundedWildcardType">BoundedWildcardType</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38845" title="object Implicits.this.global.TypeBounds">TypeBounds</a>.<a href="../../../reflect/internal/Types.scala.html#62284" title="(lo: Implicits.this.global.Type)Implicits.this.global.TypeBounds">lower</a><span class="delimiter">(</span><a href="#633366" title="Implicits.this.global.Type">argtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    
    <span class="keyword">def</span> <a title="(name: Implicits.this.global.Name, argtpes: List[Implicits.this.global.Type], restpe: Implicits.this.global.Type)Implicits.this.global.Type" id="633356">apply</a><span class="delimiter">(</span><a title="Implicits.this.global.Name" id="633371">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Implicits.this.global.Name">Name</a>, <a title="List[Implicits.this.global.Type]" id="633372">argtpes</a>: <span title="List[Implicits.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Implicits.this.global.Type" id="633373">restpe</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Implicits.this.global.MethodType" id="633375">mtpe</a> = <a href="../../../reflect/internal/Types.scala.html#62346" title="(params: List[Implicits.this.global.Symbol], resultType: Implicits.this.global.Type)Implicits.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#633353" title="=&gt; Implicits.this.global.TermSymbol">dummyMethod</a>.<a href="../../../reflect/internal/Symbols.scala.html#46419" title="(argtypes: List[Implicits.this.global.Type])List[Implicits.this.global.Symbol]">newSyntheticValueParams</a><span class="delimiter">(</span><a href="#633372" title="List[Implicits.this.global.Type]">argtpes</a> <span title="(f: Implicits.this.global.Type =&gt; Implicits.this.global.BoundedWildcardType)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Type],Implicits.this.global.BoundedWildcardType,List[Implicits.this.global.Type]])List[Implicits.this.global.Type]">map</span> <a href="#633355" title="(argtpe: Implicits.this.global.Type)Implicits.this.global.BoundedWildcardType">templateArgType</a><span class="delimiter">)</span>, <a href="#633373" title="Implicits.this.global.Type">restpe</a><span class="delimiter">)</span>
      <a href="#187515" title="(name: Implicits.this.global.Name, tp: Implicits.this.global.Type)Implicits.this.global.Type">memberWildcardType</a><span class="delimiter">(</span><a href="#633371" title="Implicits.this.global.Name">name</a>, <a href="#633375" title="Implicits.this.global.MethodType">mtpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(pt: Implicits.this.global.Type)Option[(Implicits.this.global.Name, List[Implicits.this.global.Type], Implicits.this.global.Type)]" id="633357">unapply</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633425">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Option[(Implicits.this.global.Name, List[Implicits.this.global.Type], Implicits.this.global.Type)]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Name, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, Type<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#633425" title="Implicits.this.global.Type">pt</a> <span title="Option[(Implicits.this.global.Name, List[Implicits.this.global.Type], Implicits.this.global.Type)]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Option[(Implicits.this.global.Name, List[Implicits.this.global.Type], Implicits.this.global.Type)]">RefinedType</span><span class="delimiter">(</span><a href="#633430" title="(x: List[Implicits.this.global.Type])Some[List[Implicits.this.global.Type]]">List</a><span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38822" title="object Implicits.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a title="Implicits.this.global.Scope" id="633441">decls</a><span class="delimiter">)</span> =&gt;
        <a href="#633441" title="Implicits.this.global.Scope">decls</a>.<a href="../../../reflect/internal/Scopes.scala.html#60510" title="=&gt; List[Implicits.this.global.Symbol]">toList</a> <span title="Option[(Implicits.this.global.Name, List[Implicits.this.global.Type], Implicits.this.global.Type)]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#633443" title="Option[(Implicits.this.global.Name, List[Implicits.this.global.Type], Implicits.this.global.Type)]">List</a><span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="633454">sym</a><span class="delimiter">)</span> =&gt;
            <a href="#633454" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Implicits.this.global.Type">tpe</a> <span title="Option[(Implicits.this.global.Name, List[Implicits.this.global.Type], Implicits.this.global.Type)]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Some[(Implicits.this.global.Name, List[Implicits.this.global.Type], Implicits.this.global.Type)]">MethodType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Symbol]" id="633457">params</a>, <a title="Implicits.this.global.Type" id="633458">restpe</a><span class="delimiter">)</span>
              <span class="keyword">if</span> <span class="delimiter">(</span><a href="#633457" title="List[Implicits.this.global.Symbol]">params</a> <span title="(p: Implicits.this.global.Symbol =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a href="#633465" title="Implicits.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Implicits.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/internal/Types.scala.html#38824" title="Implicits.this.global.BoundedWildcardType">BoundedWildcardType</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                <span title="(x: (Implicits.this.global.Name, List[Implicits.this.global.Type], Implicits.this.global.Type))Some[(Implicits.this.global.Name, List[Implicits.this.global.Type], Implicits.this.global.Type)]">Some</span><span class="delimiter">(</span><span title="(_1: Implicits.this.global.Name, _2: List[Implicits.this.global.Type], _3: Implicits.this.global.Type)(Implicits.this.global.Name, List[Implicits.this.global.Type], Implicits.this.global.Type)" class="delimiter">(</span><a href="#633454" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Implicits.this.global.Name">name</a>, <a href="#633457" title="List[Implicits.this.global.Symbol]">params</a> <span title="(f: Implicits.this.global.Symbol =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Symbol],Implicits.this.global.Type,List[Implicits.this.global.Type]])List[Implicits.this.global.Type]">map</span> <span class="delimiter">(</span><a href="#633490" title="Implicits.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Implicits.this.global.Type">tpe</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62297" title="=&gt; Implicits.this.global.Type">lo</a><span class="delimiter">)</span>, <a href="#633458" title="Implicits.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** An extractor for unary function types arg =&gt; res
   */
  <span class="keyword">object</span> <a title="object Implicits.this.Function1" id="187520">Function1</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Implicits.this.global.Symbol" id="633523">Sym</a> = <a href="../../../reflect/internal/Definitions.scala.html#45236" title="(i: Int)Implicits.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Option[(Implicits.this.global.Type, Implicits.this.global.Type)]" id="633525">unapply</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633527">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#633527" title="Implicits.this.global.Type">tp</a> <span title="Option[(Implicits.this.global.Type, Implicits.this.global.Type)]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Some[(Implicits.this.global.Type, Implicits.this.global.Type)]">TypeRef</span><span class="delimiter">(</span>_, <a href="#633523" title="=&gt; Implicits.this.global.Symbol">Sym</a>, <a title="Implicits.this.global.Type" id="633539">arg1</a> :: <a title="Implicits.this.global.Type" id="633547">arg2</a> :: _<span class="delimiter">)</span> =&gt; <span title="(x: (Implicits.this.global.Type, Implicits.this.global.Type))Some[(Implicits.this.global.Type, Implicits.this.global.Type)]">Some</span><span class="delimiter">(</span><span title="(_1: Implicits.this.global.Type, _2: Implicits.this.global.Type)(Implicits.this.global.Type, Implicits.this.global.Type)" class="delimiter">(</span><a href="#633539" title="Implicits.this.global.Type">arg1</a>, <a href="#633547" title="Implicits.this.global.Type">arg2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span>                                  =&gt; <span title="object None">None</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  /** A class that sets up an implicit search. For more info, see comments for `inferImplicit`.
   *  @param tree             The tree for which the implicit needs to be inserted.
   *  @param pt               The original expected type of the implicit.
   *  @param isView           We are looking for a view
   *  @param context0         The context used for the implicit search
   */
  <span class="keyword">class</span> <a title="class ImplicitSearch extends Implicits.this.Typer with Implicits.this.ImplicitsContextErrors with ScalaObject" id="187522">ImplicitSearch</a><a href="#187522" title="ScalaObject" class="delimiter">(</a><a title="Implicits.this.global.Tree" id="440919">tree</a>: <span title="Implicits.this.global.Tree">Tree</span>, <a title="Implicits.this.global.Type" id="440920">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Boolean" id="440921">isView</a>: <span title="Boolean">Boolean</span>, <a title="Implicits.this.Context" id="440922">context0</a>: <a href="Contexts.scala.html#187302" title="Implicits.this.Context">Context</a><span class="delimiter">)</span>
    <span class="keyword">extends</span> <a href="Typers.scala.html#187422" title="Implicits.this.Typer">Typer</a><span class="delimiter">(</span><a href="#440922" title="Implicits.this.Context">context0</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="ContextErrors.scala.html#187697" title="Implicits.this.ImplicitsContextErrors">ImplicitsContextErrors</a> <span class="delimiter">{</span>
      <a href="Typers.scala.html#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span>
        <a href="../../../reflect/internal/TypeDebugging.scala.html#75260" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="String(&quot;new ImplicitSearch&quot;)" class="string">&quot;new ImplicitSearch&quot;</span>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;tree&quot;</span>        <span title="(y: Implicits.this.global.Tree)(String, Implicits.this.global.Tree)">-&gt;</span> <a href="#440919" title="Implicits.this.global.Tree">tree</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;pt&quot;</span>          <span title="(y: Implicits.this.global.Type)(String, Implicits.this.global.Type)">-&gt;</span> <a href="#440920" title="Implicits.this.global.Type">pt</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;isView&quot;</span>      <span title="(y: Boolean)(String, Boolean)">-&gt;</span> <a href="#440921" title="Boolean">isView</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;context0&quot;</span>    <span title="(y: Implicits.this.Context)(String, Implicits.this.Context)">-&gt;</span> <a href="#440922" title="Implicits.this.Context">context0</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;undetparams&quot;</span> <span title="(y: List[Implicits.this.global.Symbol])(String, List[Implicits.this.global.Symbol])">-&gt;</span> <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188114" title="=&gt; Implicits.this.Context">outer</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Implicits.this.global.Symbol]">undetparams</a>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>
//    assert(tree.isEmpty || tree.pos.isDefined, tree)

    <span class="keyword">import</span> <a href="Typers.scala.html#187731" title="=&gt; Implicits.this.Inferencer">infer</a>._
    /** Is implicit info `info1` better than implicit info `info2`?
     */
    <span class="keyword">def</span> <a title="(info1: Implicits.this.ImplicitInfo, info2: Implicits.this.ImplicitInfo)Boolean" id="440883">improves</a><span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="633664">info1</a>: <a href="#187512" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, <a title="Implicits.this.ImplicitInfo" id="633665">info2</a>: <a href="#187512" title="Implicits.this.ImplicitInfo">ImplicitInfo</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187241" title="=&gt; scala.tools.nsc.util.Statistics.Counter">improvesCount</a><span class="delimiter">)</span>
      <span class="delimiter">(</span><a href="#633665" title="Implicits.this.ImplicitInfo">info2</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#187513" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#633664" title="Implicits.this.ImplicitInfo">info1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#187513" title="=&gt; Implicits.this.ImplicitInfo">NoImplicitInfo</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#633664" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46545" title="=&gt; Boolean">isStatic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#633665" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46545" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#187503" title="=&gt; scala.collection.mutable.HashMap[(Implicits.this.ImplicitInfo, Implicits.this.ImplicitInfo),Boolean]">improvesCache</a> <span title="(key: (Implicits.this.ImplicitInfo, Implicits.this.ImplicitInfo))Option[Boolean]">get</span> <span class="delimiter">(</span><a href="#633664" title="Implicits.this.ImplicitInfo">info1</a>, <a href="#633665" title="Implicits.this.ImplicitInfo">info2</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean">Some</span><span class="delimiter">(</span><a title="Boolean" id="633691">b</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187243" title="=&gt; scala.tools.nsc.util.Statistics.Counter">improvesCachedCount</a><span class="delimiter">)</span>; <a href="#633691" title="Boolean">b</a>
            <span class="keyword">case</span> <span title="Boolean">None</span> =&gt;
              <span class="keyword">val</span> <a title="Boolean" id="633694">result</a> = <a href="Infer.scala.html#188030" title="(ftpe1: Implicits.this.global.Type, ftpe2: Implicits.this.global.Type, sym1: Implicits.this.global.Symbol, sym2: Implicits.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a><span class="delimiter">(</span><a href="#633664" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#629237" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#633665" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#629237" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#633664" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a>, <a href="#633665" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#187503" title="(key: (Implicits.this.ImplicitInfo, Implicits.this.ImplicitInfo), value: Boolean)Unit">improvesCache</a><span class="delimiter">(</span><span title="(_1: Implicits.this.ImplicitInfo, _2: Implicits.this.ImplicitInfo)(Implicits.this.ImplicitInfo, Implicits.this.ImplicitInfo)" class="delimiter">(</span><a href="#633664" title="Implicits.this.ImplicitInfo">info1</a>, <a href="#633665" title="Implicits.this.ImplicitInfo">info2</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#633694" title="Boolean">result</a>
              <a href="#633694" title="Boolean">result</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="Infer.scala.html#188030" title="(ftpe1: Implicits.this.global.Type, ftpe2: Implicits.this.global.Type, sym1: Implicits.this.global.Symbol, sym2: Implicits.this.global.Symbol)Boolean">isStrictlyMoreSpecific</a><span class="delimiter">(</span><a href="#633664" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#629237" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#633665" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#629237" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#633664" title="Implicits.this.ImplicitInfo">info1</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a>, <a href="#633665" title="Implicits.this.ImplicitInfo">info2</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean" id="440884">isPlausiblyCompatible</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633714">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="633715">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#440897" title="(fast: Boolean, tp0: Implicits.this.global.Type, pt0: Implicits.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span>fast = <span title="Boolean(true)" class="keyword">true</span>, <a href="#633714" title="Implicits.this.global.Type">tp</a>, <a href="#633715" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean" id="440885">normSubType</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633722">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="633723">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#440897" title="(fast: Boolean, tp0: Implicits.this.global.Type, pt0: Implicits.this.global.Type)Boolean">checkCompatibility</a><span class="delimiter">(</span>fast = <span title="Boolean(false)" class="keyword">false</span>, <a href="#633722" title="Implicits.this.global.Type">tp</a>, <a href="#633723" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span>

    /** Does type `dtor` dominate type `dted`?
     *  This is the case if the stripped cores `dtor1` and `dted1` of both types are
     *  the same wrt `=:=`, or if they overlap and the complexity of `dtor1` is higher
     *  than the complexity of `dted1`.
     *  The _stripped core_ of a type is the type where
     *   - all refinements and annotations are dropped,
     *   - all universal and existential quantification is eliminated
     *     by replacing variables by their upper bounds,
     *   - all remaining free type parameters in the type are replaced by WildcardType.
     *  The _complexity_ of a stripped core type corresponds roughly to the number of
     *  nodes in its ast, except that singleton types are widened before taking the complexity.
     *  Two types overlap if they have the same type symbol, or
     *  if one or both are intersection types with a pair of overlapiing parent types.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(dtor: Implicits.this.global.Type, dted: Implicits.this.global.Type)Boolean" id="440886">dominates</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633726">dtor</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="633727">dted</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="633729">core</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633736">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a> = <a href="#633736" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Implicits.this.global.Type">normalize</a> <span title="Implicits.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Implicits.this.global.Type">RefinedType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Type]" id="633739">parents</a>, <a title="Implicits.this.global.Scope" id="633740">defs</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/internal/Types.scala.html#38938" title="(tps: List[Implicits.this.global.Type], owner: Implicits.this.global.Symbol)Implicits.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#633739" title="List[Implicits.this.global.Type]">parents</a> <span title="(f: Implicits.this.global.Type =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Type],Implicits.this.global.Type,List[Implicits.this.global.Type]])List[Implicits.this.global.Type]">map</span> <a href="#633729" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a>, <a href="#633736" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46564" title="=&gt; Implicits.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Implicits.this.global.Type">AnnotatedType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.AnnotationInfo]" id="633794">annots</a>, <a title="Implicits.this.global.Type" id="633795">tp</a>, <a title="Implicits.this.global.Symbol" id="633796">selfsym</a><span class="delimiter">)</span> =&gt; <a href="#633729" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a><span class="delimiter">(</span><a href="#633795" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Implicits.this.global.Type">ExistentialType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Symbol]" id="633799">tparams</a>, <a title="Implicits.this.global.Type" id="633800">result</a><span class="delimiter">)</span> =&gt; <a href="#633729" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a><span class="delimiter">(</span><a href="#633800" title="Implicits.this.global.Type">result</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41558" title="(from: List[Implicits.this.global.Symbol], to: List[Implicits.this.global.Type])Implicits.this.global.Type">subst</a><span class="delimiter">(</span><a href="#633799" title="List[Implicits.this.global.Symbol]">tparams</a>, <a href="#633799" title="List[Implicits.this.global.Symbol]">tparams</a> <span title="(f: Implicits.this.global.Symbol =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Symbol],Implicits.this.global.Type,List[Implicits.this.global.Type]])List[Implicits.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="633819">t</a> =&gt; <a href="#633729" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a><span class="delimiter">(</span><a href="#633819" title="Implicits.this.global.Symbol">t</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; Implicits.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Implicits.this.global.Type">PolyType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Symbol]" id="633849">tparams</a>, <a title="Implicits.this.global.Type" id="633850">result</a><span class="delimiter">)</span> =&gt; <a href="#633729" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a><span class="delimiter">(</span><a href="#633850" title="Implicits.this.global.Type">result</a><span class="delimiter">)</span>.<a href="../../../reflect/internal/Types.scala.html#41558" title="(from: List[Implicits.this.global.Symbol], to: List[Implicits.this.global.Type])Implicits.this.global.Type">subst</a><span class="delimiter">(</span><a href="#633849" title="List[Implicits.this.global.Symbol]">tparams</a>, <a href="#633849" title="List[Implicits.this.global.Symbol]">tparams</a> <span title="(f: Implicits.this.global.Symbol =&gt; Implicits.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Symbol],Implicits.this.global.Type,List[Implicits.this.global.Type]])List[Implicits.this.global.Type]">map</span> <span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="633867">t</a> =&gt; <a href="#633729" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a><span class="delimiter">(</span><a href="#633867" title="Implicits.this.global.Symbol">t</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; Implicits.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Implicits.this.global.Type">_</span> =&gt; <a href="#633736" title="Implicits.this.global.Type">tp</a>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="633730">stripped</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633895">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <a href="../../../reflect/internal/Symbols.scala.html#38744" title="(syms: List[Implicits.this.global.Symbol])(tpe: Implicits.this.global.Type)Implicits.this.global.Type">deriveTypeWithWildcards</a><span class="delimiter">(</span><a href="Infer.scala.html#188054" title="object ImplicitSearch.this.infer.freeTypeParametersNoSkolems">freeTypeParametersNoSkolems</a>.<a href="../../../reflect/internal/Types.scala.html#130289" title="(tp: Implicits.this.global.Type)List[Implicits.this.global.Symbol]">collect</a><span class="delimiter">(</span><a href="#633895" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#633895" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(xs: List[Int])Int" id="633731">sum</a><span class="delimiter">(</span><a title="List[Int]" id="633912">xs</a>: <span title="List[Int]">List</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span><span title="Int(0)" class="int">0</span> <a href="#633913" title="(z: Int)(op: (Int, Int) =&gt; Int)Int">/:</a> <a href="#633912" title="List[Int]">xs</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#633926" title="Int">_</a> <span title="(x: Int)Int">+</span> <a href="#633927" title="Int">_</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Int" id="633732">complexity</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633932">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Int">Int</span> = <a href="#633932" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Implicits.this.global.Type">normalize</a> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../reflect/internal/Types.scala.html#38829" title="Int(0)">NoPrefix</a> =&gt;
          <span title="Int(0)" class="int">0</span>
        <span class="keyword">case</span> <span title="Int">SingleType</span><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633935">pre</a>, <a title="Implicits.this.global.Symbol" id="633936">sym</a><span class="delimiter">)</span> =&gt;
          <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#633936" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46474" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <a href="#633732" title="(tp: Implicits.this.global.Type)Int">complexity</a><span class="delimiter">(</span><a href="#633932" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Implicits.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Implicits.this.global.Type">widen</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Int">TypeRef</span><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633941">pre</a>, <a title="Implicits.this.global.Symbol" id="633942">sym</a>, <a title="List[Implicits.this.global.Type]" id="633943">args</a><span class="delimiter">)</span> =&gt;
          <a href="#633732" title="(tp: Implicits.this.global.Type)Int">complexity</a><span class="delimiter">(</span><a href="#633941" title="Implicits.this.global.Type">pre</a><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <a href="#633731" title="(xs: List[Int])Int">sum</a><span class="delimiter">(</span><a href="#633943" title="List[Implicits.this.global.Type]">args</a> <span title="(f: Implicits.this.global.Type =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Type],Int,List[Int]])List[Int]">map</span> <a href="#633732" title="(tp: Implicits.this.global.Type)Int">complexity</a><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
        <span class="keyword">case</span> <span title="Int">RefinedType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Type]" id="633998">parents</a>, _<span class="delimiter">)</span> =&gt;
          <a href="#633731" title="(xs: List[Int])Int">sum</a><span class="delimiter">(</span><a href="#633998" title="List[Implicits.this.global.Type]">parents</a> <span title="(f: Implicits.this.global.Type =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Type],Int,List[Int]])List[Int]">map</span> <a href="#633732" title="(tp: Implicits.this.global.Type)Int">complexity</a><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span>
        <span class="keyword">case</span> <span title="Int(1)">_</span> =&gt;
          <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tp1: Implicits.this.global.Type, tp2: Implicits.this.global.Type)Boolean" id="633733">overlaps</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="634047">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="634048">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span title="(_1: Implicits.this.global.Type, _2: Implicits.this.global.Type)(Implicits.this.global.Type, Implicits.this.global.Type)" class="delimiter">(</span><a href="#634047" title="Implicits.this.global.Type">tp1</a>, <a href="#634048" title="Implicits.this.global.Type">tp2</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>RefinedType<span class="delimiter">(</span><a title="List[Implicits.this.global.Type]" id="634059">parents</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#634059" title="List[Implicits.this.global.Type]">parents</a> <span title="(p: Implicits.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#633733" title="(tp1: Implicits.this.global.Type, tp2: Implicits.this.global.Type)Boolean">overlaps</a><span class="delimiter">(</span><a href="#634066" title="Implicits.this.global.Type">_</a>, <a href="#634048" title="Implicits.this.global.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_, RefinedType<span class="delimiter">(</span><a title="List[Implicits.this.global.Type]" id="634071">parents</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#634071" title="List[Implicits.this.global.Type]">parents</a> <span title="(p: Implicits.this.global.Type =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a href="#633733" title="(tp1: Implicits.this.global.Type, tp2: Implicits.this.global.Type)Boolean">overlaps</a><span class="delimiter">(</span><a href="#634047" title="Implicits.this.global.Type">tp1</a>, <a href="#634078" title="Implicits.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; <a href="#634047" title="Implicits.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#634048" title="Implicits.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="633734">dtor1</a> = <a href="#633730" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">stripped</a><span class="delimiter">(</span><a href="#633729" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a><span class="delimiter">(</span><a href="#633726" title="Implicits.this.global.Type">dtor</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="633735">dted1</a> = <a href="#633730" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">stripped</a><span class="delimiter">(</span><a href="#633729" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">core</a><span class="delimiter">(</span><a href="#633727" title="Implicits.this.global.Type">dted</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#633733" title="(tp1: Implicits.this.global.Type, tp2: Implicits.this.global.Type)Boolean">overlaps</a><span class="delimiter">(</span><a href="#633734" title="Implicits.this.global.Type">dtor1</a>, <a href="#633735" title="Implicits.this.global.Type">dted1</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#633734" title="Implicits.this.global.Type">dtor1</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: Implicits.this.global.Type)Boolean">=:=</a> <a href="#633735" title="Implicits.this.global.Type">dted1</a> <span title="(x: Boolean)Boolean">||</span> <a href="#633732" title="(tp: Implicits.this.global.Type)Int">complexity</a><span class="delimiter">(</span><a href="#633734" title="Implicits.this.global.Type">dtor1</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">&gt;</span> <a href="#633732" title="(tp: Implicits.this.global.Type)Int">complexity</a><span class="delimiter">(</span><a href="#633735" title="Implicits.this.global.Type">dted1</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187211" title="=&gt; scala.tools.nsc.util.Statistics.Counter">implicitSearchCount</a><span class="delimiter">)</span>

    /** The type parameters to instantiate */
    <span class="keyword">val</span> <a title="List[Implicits.this.global.Symbol]" id="440887">undetParams</a> = <span title="List[Implicits.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#440921" title="Boolean">isView</a><span class="delimiter">)</span> List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188114" title="=&gt; Implicits.this.Context">outer</a>.<a href="Contexts.scala.html#188177" title="=&gt; List[Implicits.this.global.Symbol]">undetparams</a>

    /** The expected type with all undetermined type parameters replaced with wildcards. */
    <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Type" id="440889">approximate</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="633580">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../../../reflect/internal/Symbols.scala.html#38744" title="(syms: List[Implicits.this.global.Symbol])(tpe: Implicits.this.global.Type)Implicits.this.global.Type">deriveTypeWithWildcards</a><span class="delimiter">(</span><a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#633580" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="440890">wildPt</a> = <a href="#440889" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">approximate</a><span class="delimiter">(</span><a href="#440920" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span>

    /** Try to construct a typed tree from given implicit info with given
     *  expected type.
     *  Detect infinite search trees for implicits.
     *
     *  @param info    The given implicit info describing the implicit definition
     *  @pre           `info.tpe` does not contain an error
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo, ptChecked: Boolean)Implicits.this.SearchResult" id="440892">typedImplicit</a><span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="634092">info</a>: <a href="#187512" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, <a title="Boolean" id="634093">ptChecked</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> = <span class="delimiter">{</span>
      <span class="delimiter">(</span><a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188135" title="=&gt; List[(Implicits.this.global.Type, Implicits.this.global.Symbol)]">openImplicits</a> <span title="(p: ((Implicits.this.global.Type, Implicits.this.global.Symbol)) =&gt; Boolean)Option[(Implicits.this.global.Type, Implicits.this.global.Symbol)]">find</span> <a href="#634107" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="Implicits.this.global.Type" id="634110">tp</a>, <a title="Implicits.this.global.Symbol" id="634111">sym</a><span class="delimiter">)</span> =&gt; <a href="#634111" title="Implicits.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#440919" title="Implicits.this.global.Tree">tree</a>.<span title="=&gt; Implicits.this.global.Symbol">symbol</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#440886" title="(dtor: Implicits.this.global.Type, dted: Implicits.this.global.Type)Boolean">dominates</a><span class="delimiter">(</span><a href="#440920" title="Implicits.this.global.Type">pt</a>, <a href="#634110" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span> <span title="Implicits.this.SearchResult" class="keyword">match</span> <span class="delimiter">{</span>
         <span class="keyword">case</span> <span title="Nothing">Some</span><span class="delimiter">(</span><a title="(Implicits.this.global.Type, Implicits.this.global.Symbol)" id="634117">pending</a><span class="delimiter">)</span> =&gt;
           // println(&quot;Pending implicit &quot;+pending+&quot; dominates &quot;+pt+&quot;/&quot;+undetParams) //@MDEBUG
           <span title="Nothing" class="keyword">throw</span> <a href="#636707" title="object scala.tools.nsc.typechecker.DivergentImplicit">DivergentImplicit</a>
         <span class="keyword">case</span> <span title="Implicits.this.SearchResult">None</span> =&gt;
           <span class="keyword">try</span> <span class="delimiter">{</span>
             <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188136" title="(x$1: List[(Implicits.this.global.Type, Implicits.this.global.Symbol)])Unit">openImplicits</a> = <span title="(_1: Implicits.this.global.Type, _2: Implicits.this.global.Symbol)(Implicits.this.global.Type, Implicits.this.global.Symbol)" class="delimiter">(</span><a href="#440920" title="Implicits.this.global.Type">pt</a>, <a href="#440919" title="Implicits.this.global.Tree">tree</a>.<span title="=&gt; Implicits.this.global.Symbol">symbol</span><span class="delimiter">)</span> <a href="#634120" title="(x: (Implicits.this.global.Type, Implicits.this.global.Symbol))List[(Implicits.this.global.Type, Implicits.this.global.Symbol)]">::</a> <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188135" title="=&gt; List[(Implicits.this.global.Type, Implicits.this.global.Symbol)]">openImplicits</a>
             // println(&quot;  &quot;*context.openImplicits.length+&quot;typed implicit &quot;+info+&quot; for &quot;+pt) //@MDEBUG
             <a href="#440900" title="(info: Implicits.this.ImplicitInfo, ptChecked: Boolean)Implicits.this.SearchResult">typedImplicit0</a><span class="delimiter">(</span><a href="#634092" title="Implicits.this.ImplicitInfo">info</a>, <a href="#634093" title="Boolean">ptChecked</a><span class="delimiter">)</span>
           <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
             <span class="keyword">case</span> <a title="Implicits.this.SearchResult" id="634135">ex</a>: <a href="#32027" title="scala.tools.nsc.typechecker.DivergentImplicit">DivergentImplicit</a> =&gt;
               // println(&quot;DivergentImplicit for pt:&quot;+ pt +&quot;, open implicits:&quot;+context.openImplicits) //@MDEBUG
               <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188135" title="=&gt; List[(Implicits.this.global.Type, Implicits.this.global.Symbol)]">openImplicits</a>.<span title="=&gt; List[(Implicits.this.global.Type, Implicits.this.global.Symbol)]">tail</span>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                 <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#440920" title="Implicits.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41499" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span>
                   <a href="ContextErrors.scala.html#440918" title="(tree: Implicits.this.global.Tree, pt: Implicits.this.global.Type, sym: Implicits.this.global.Symbol)(implicit context0: Implicits.this.Context)Unit">DivergingImplicitExpansionError</a><span class="delimiter">(</span><a href="#440919" title="Implicits.this.global.Tree">tree</a>, <a href="#440920" title="Implicits.this.global.Type">pt</a>, <a href="#634092" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a><span class="delimiter">)</span>
                 <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
               <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                 <span title="Nothing" class="keyword">throw</span> <a href="#636707" title="object scala.tools.nsc.typechecker.DivergentImplicit">DivergentImplicit</a>
               <span class="delimiter">}</span>
           <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
             <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188136" title="(x$1: List[(Implicits.this.global.Type, Implicits.this.global.Symbol)])Unit">openImplicits</a> = <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188135" title="=&gt; List[(Implicits.this.global.Type, Implicits.this.global.Symbol)]">openImplicits</a>.<span title="=&gt; List[(Implicits.this.global.Type, Implicits.this.global.Symbol)]">tail</span>
           <span class="delimiter">}</span>
       <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Does type `tp` match expected type `pt`
     *  This is the case if either `pt` is a unary function type with a
     *  HasMethodMatching type as result, and `tp` is a unary function
     *  or method type whose result type has a method whose name and type
     *  correspond to the HasMethodMatching type,
     *  or otherwise if `tp` is compatible with `pt`.
     *  This method is performance critical: 5-8% of typechecking time.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type, undet: List[Implicits.this.global.Symbol])Boolean" id="440893">matchesPt</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="634143">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="634144">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="List[Implicits.this.global.Symbol]" id="634145">undet</a>: <span title="List[Implicits.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="634147">start</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187251" title="=&gt; scala.tools.nsc.util.Statistics.Timer">matchesPtNanos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="634148">result</a> = <a href="#440885" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean">normSubType</a><span class="delimiter">(</span><a href="#634143" title="Implicits.this.global.Type">tp</a>, <a href="#634144" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#440921" title="Boolean">isView</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
        <a href="#634144" title="Implicits.this.global.Type">pt</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a href="#187520" title="object Implicits.this.Function1">Function1</a>.<a href="#633523" title="=&gt; Implicits.this.global.Symbol">Sym</a>, <a title="List[Implicits.this.global.Type]" id="634153">args</a><span class="delimiter">)</span> =&gt;
            <a href="#440895" title="(tp: Implicits.this.global.Type, ptarg: Implicits.this.global.Type, ptres: Implicits.this.global.Type, undet: List[Implicits.this.global.Symbol])Boolean">matchesPtView</a><span class="delimiter">(</span><a href="#634143" title="Implicits.this.global.Type">tp</a>, <a href="#634153" title="List[Implicits.this.global.Type]">args</a>.<span title="=&gt; Implicits.this.global.Type">head</span>, <a href="#634153" title="List[Implicits.this.global.Type]">args</a>.<span title="=&gt; List[Implicits.this.global.Type]">tail</span>.<span title="=&gt; Implicits.this.global.Type">head</span>, <a href="#634145" title="List[Implicits.this.global.Symbol]">undet</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
            <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187251" title="=&gt; scala.tools.nsc.util.Statistics.Timer">matchesPtNanos</a>, <a href="#634147" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
      <a href="#634148" title="Boolean">result</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo)Boolean" id="440894">matchesPt</a><span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="634163">info</a>: <a href="#187512" title="Implicits.this.ImplicitInfo">ImplicitInfo</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span>
      <a href="#634163" title="Implicits.this.ImplicitInfo">info</a>.<a href="#629247" title="=&gt; Boolean">isStablePrefix</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#440893" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type, undet: List[Implicits.this.global.Symbol])Boolean">matchesPt</a><span class="delimiter">(</span><a href="#187508" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">depoly</a><span class="delimiter">(</span><a href="#634163" title="Implicits.this.ImplicitInfo">info</a>.<a href="#629237" title="=&gt; Implicits.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#440890" title="=&gt; Implicits.this.global.Type">wildPt</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type, ptarg: Implicits.this.global.Type, ptres: Implicits.this.global.Type, undet: List[Implicits.this.global.Symbol])Boolean" id="440895">matchesPtView</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="634154">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="634155">ptarg</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="634156">ptres</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="List[Implicits.this.global.Symbol]" id="634157">undet</a>: <span title="List[Implicits.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#634154" title="Implicits.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="634175">p</a> :: _, <a title="Implicits.this.global.Type" id="634176">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#634175" title="Implicits.this.global.Symbol">p</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46778" title="=&gt; Boolean">isImplicit</a> =&gt; <a href="#440895" title="(tp: Implicits.this.global.Type, ptarg: Implicits.this.global.Type, ptres: Implicits.this.global.Type, undet: List[Implicits.this.global.Symbol])Boolean">matchesPtView</a><span class="delimiter">(</span><a href="#634176" title="Implicits.this.global.Type">restpe</a>, <a href="#634155" title="Implicits.this.global.Type">ptarg</a>, <a href="#634156" title="Implicits.this.global.Type">ptres</a>, <a href="#634157" title="List[Implicits.this.global.Symbol]">undet</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="634183">p</a> :: <span title="object Nil">Nil</span>, <a title="Implicits.this.global.Type" id="634184">restpe</a><span class="delimiter">)</span>               =&gt; <a href="#440896" title="(tparg: Implicits.this.global.Type, tpres: Implicits.this.global.Type, ptarg: Implicits.this.global.Type, ptres: Implicits.this.global.Type, undet: List[Implicits.this.global.Symbol])Boolean">matchesArgRes</a><span class="delimiter">(</span><a href="#634183" title="Implicits.this.global.Symbol">p</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#634184" title="Implicits.this.global.Type">restpe</a>, <a href="#634155" title="Implicits.this.global.Type">ptarg</a>, <a href="#634156" title="Implicits.this.global.Type">ptres</a>, <a href="#634157" title="List[Implicits.this.global.Symbol]">undet</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Implicits.this.global.Type" id="634193">qtpe</a><span class="delimiter">)</span>                   =&gt; <a href="#440895" title="(tp: Implicits.this.global.Type, ptarg: Implicits.this.global.Type, ptres: Implicits.this.global.Type, undet: List[Implicits.this.global.Symbol])Boolean">matchesPtView</a><span class="delimiter">(</span><a href="Infer.scala.html#187480" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#634193" title="Implicits.this.global.Type">qtpe</a><span class="delimiter">)</span>, <a href="#634155" title="Implicits.this.global.Type">ptarg</a>, <a href="#634156" title="Implicits.this.global.Type">ptres</a>, <a href="#634157" title="List[Implicits.this.global.Symbol]">undet</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#633525" title="Boolean">Function1</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="634198">arg1</a>, <a title="Implicits.this.global.Type" id="634199">res1</a><span class="delimiter">)</span>                      =&gt; <a href="#440896" title="(tparg: Implicits.this.global.Type, tpres: Implicits.this.global.Type, ptarg: Implicits.this.global.Type, ptres: Implicits.this.global.Type, undet: List[Implicits.this.global.Symbol])Boolean">matchesArgRes</a><span class="delimiter">(</span><a href="#634198" title="Implicits.this.global.Type">arg1</a>, <a href="#634199" title="Implicits.this.global.Type">res1</a>, <a href="#634155" title="Implicits.this.global.Type">ptarg</a>, <a href="#634156" title="Implicits.this.global.Type">ptres</a>, <a href="#634157" title="List[Implicits.this.global.Symbol]">undet</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span>                                          =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tparg: Implicits.this.global.Type, tpres: Implicits.this.global.Type, ptarg: Implicits.this.global.Type, ptres: Implicits.this.global.Type, undet: List[Implicits.this.global.Symbol])Boolean" id="440896">matchesArgRes</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="634185">tparg</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="634186">tpres</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="634187">ptarg</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="634188">ptres</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="List[Implicits.this.global.Symbol]" id="634189">undet</a>: <span title="List[Implicits.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
     <span class="delimiter">(</span><a href="#634187" title="Implicits.this.global.Type">ptarg</a> <a href="../../../reflect/internal/Types.scala.html#41574" title="(that: Implicits.this.global.Type)Boolean">weak_&lt;:&lt;</a> <a href="#634185" title="Implicits.this.global.Type">tparg</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
       <a href="#634188" title="Implicits.this.global.Type">ptres</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
         <span class="keyword">case</span> <a href="#633357" title="Boolean">HasMethodMatching</a><span class="delimiter">(</span><a title="Implicits.this.global.Name" id="634202">name</a>, <a title="List[Implicits.this.global.Type]" id="634203">argtpes</a>, <a title="Implicits.this.global.Type" id="634204">restpe</a><span class="delimiter">)</span> =&gt;
           <span class="delimiter">(</span><a href="#634186" title="Implicits.this.global.Type">tpres</a>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: Implicits.this.global.Name)Implicits.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#634202" title="Implicits.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Symbols.scala.html#46654" title="(cond: Implicits.this.global.Symbol =&gt; Boolean)Implicits.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="634209">m</a> =&gt;
             <a href="Infer.scala.html#188025" title="(undetparams: List[Implicits.this.global.Symbol], ftpe: Implicits.this.global.Type, argtpes0: List[Implicits.this.global.Type], pt: Implicits.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><a href="#634189" title="List[Implicits.this.global.Symbol]">undet</a>, <a href="#634209" title="Implicits.this.global.Symbol">m</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#634203" title="List[Implicits.this.global.Type]">argtpes</a>, <a href="#634204" title="Implicits.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Implicits.this.global.NoSymbol">NoSymbol</a>
         <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
           <a href="#634186" title="Implicits.this.global.Type">tpres</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Implicits.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#634188" title="Implicits.this.global.Type">ptres</a>
       <span class="delimiter">}</span>
     <span class="delimiter">}</span>

    /** Capturing the overlap between isPlausiblyCompatible and normSubType.
     *  This is a faithful translation of the code which was there, but it
     *  seems likely the methods are intended to be even more similar than
     *  they are: perhaps someone more familiar with the intentional distinctions
     *  can examine the now much smaller concrete implementations below.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fast: Boolean, tp0: Implicits.this.global.Type, pt0: Implicits.this.global.Type)Boolean" id="440897">checkCompatibility</a><span class="delimiter">(</span><a title="Boolean" id="633718">fast</a>: <span title="Boolean">Boolean</span>, <a title="Implicits.this.global.Type" id="633719">tp0</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="633720">pt0</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
      @tailrec <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean" id="634226">loop</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="634227">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="634228">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <a href="#634227" title="Implicits.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="634229">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Implicits.this.global.Symbol]" id="634232">params</a>, <a title="Implicits.this.global.Type" id="634233">restpe</a><span class="delimiter">)</span> =&gt;
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#634229" title="Implicits.this.global.MethodType">mt</a>.<a href="../../../reflect/internal/Types.scala.html#62357" title="=&gt; Boolean">isImplicit</a><span class="delimiter">)</span>
            <a href="#634226" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean">loop</a><span class="delimiter">(</span><a href="#634233" title="Implicits.this.global.Type">restpe</a>, <a href="#634228" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#634228" title="Implicits.this.global.Type">pt</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Boolean" id="634234">tr</a> @ TypeRef<span class="delimiter">(</span><a title="Implicits.this.global.Type" id="634238">pre</a>, <a title="Implicits.this.global.Symbol" id="634239">sym</a>, <a title="List[Implicits.this.global.Type]" id="634240">args</a><span class="delimiter">)</span> =&gt;
              <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#634239" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#634226" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean">loop</a><span class="delimiter">(</span><a href="#634227" title="Implicits.this.global.Type">tp</a>, <a href="#634228" title="Implicits.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Implicits.this.global.Type">normalize</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#634239" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <a href="#634226" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean">loop</a><span class="delimiter">(</span><a href="#634227" title="Implicits.this.global.Type">tp</a>, <a href="#634228" title="Implicits.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62297" title="=&gt; Implicits.this.global.Type">lo</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Int" id="634241">len</a> = <a href="#634240" title="List[Implicits.this.global.Type]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span>
                <a href="../../../reflect/internal/Types.scala.html#39053" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#634232" title="List[Implicits.this.global.Symbol]">params</a>, <a href="#634241" title="Int">len</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
                <a href="#634239" title="Implicits.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45236" title="(i: Int)Implicits.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#634241" title="Int">len</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
                  <span class="keyword">var</span> <a title="List[Implicits.this.global.Symbol]" id="634251">ps</a> = <a href="#634232" title="List[Implicits.this.global.Symbol]">params</a>
                  <span class="keyword">var</span> <a title="List[Implicits.this.global.Type]" id="634252">as</a> = <a href="#634240" title="List[Implicits.this.global.Type]">args</a>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#633718" title="Boolean">fast</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#634251" title="List[Implicits.this.global.Symbol]">ps</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#634252" title="List[Implicits.this.global.Type]">as</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#634253" title="()Unit" class="delimiter">{</a>
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#440898" title="(tp1: Implicits.this.global.Type, tp2: Implicits.this.global.Type)Boolean">isPlausiblySubType</a><span class="delimiter">(</span><a href="#634252" title="List[Implicits.this.global.Type]">as</a>.<span title="=&gt; Implicits.this.global.Type">head</span>, <a href="#634251" title="List[Implicits.this.global.Symbol]">ps</a>.<span title="=&gt; Implicits.this.global.Symbol">head</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Implicits.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                        <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
                      <a href="#634251" title="List[Implicits.this.global.Symbol]">ps</a> = <a href="#634251" title="List[Implicits.this.global.Symbol]">ps</a>.<span title="=&gt; List[Implicits.this.global.Symbol]">tail</span>
                      <a href="#634252" title="List[Implicits.this.global.Type]">as</a> = <a href="#634252" title="List[Implicits.this.global.Type]">as</a>.<span title="=&gt; List[Implicits.this.global.Type]">tail</span>
                    <span class="delimiter">}</span>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                    <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#634251" title="List[Implicits.this.global.Symbol]">ps</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#634252" title="List[Implicits.this.global.Type]">as</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <a href="#634292" title="()Unit" class="delimiter">{</a>
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#634252" title="List[Implicits.this.global.Type]">as</a>.<span title="=&gt; Implicits.this.global.Type">head</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Implicits.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#634251" title="List[Implicits.this.global.Symbol]">ps</a>.<span title="=&gt; Implicits.this.global.Symbol">head</span>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Implicits.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                        <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
                      <a href="#634251" title="List[Implicits.this.global.Symbol]">ps</a> = <a href="#634251" title="List[Implicits.this.global.Symbol]">ps</a>.<span title="=&gt; List[Implicits.this.global.Symbol]">tail</span>
                      <a href="#634252" title="List[Implicits.this.global.Type]">as</a> = <a href="#634252" title="List[Implicits.this.global.Type]">as</a>.<span title="=&gt; List[Implicits.this.global.Type]">tail</span>
                    <span class="delimiter">}</span>
                  <span class="delimiter">}</span>
                  <a href="#634251" title="List[Implicits.this.global.Symbol]">ps</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#634252" title="List[Implicits.this.global.Type]">as</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="634305">lastArg</a> = <a href="#634252" title="List[Implicits.this.global.Type]">as</a>.<span title="=&gt; Implicits.this.global.Type">head</span>
                    <a href="#634252" title="List[Implicits.this.global.Type]">as</a>.<span title="=&gt; List[Implicits.this.global.Type]">tail</span>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#634226" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean">loop</a><span class="delimiter">(</span><a href="#634233" title="Implicits.this.global.Type">restpe</a>, <a href="#634305" title="Implicits.this.global.Type">lastArg</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>

            <span class="keyword">case</span> <span title="Boolean">_</span>            =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#633718" title="Boolean">fast</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <a href="#634227" title="Implicits.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Implicits.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#634228" title="Implicits.this.global.Type">pt</a>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="634312">restpe</a><span class="delimiter">)</span>  =&gt; <a href="#634226" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean">loop</a><span class="delimiter">(</span><a href="#634312" title="Implicits.this.global.Type">restpe</a>, <a href="#634228" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="Implicits.this.global.Type" id="634315">restpe</a><span class="delimiter">)</span>        =&gt; <a href="#634226" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean">loop</a><span class="delimiter">(</span><a href="#634315" title="Implicits.this.global.Type">restpe</a>, <a href="#634228" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Implicits.this.global.Type" id="634318">qtpe</a><span class="delimiter">)</span>   =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#633718" title="Boolean">fast</a><span class="delimiter">)</span> <a href="#634226" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean">loop</a><span class="delimiter">(</span><a href="#634318" title="Implicits.this.global.Type">qtpe</a>, <a href="#634228" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="Infer.scala.html#187480" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#634227" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Implicits.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#634228" title="Implicits.this.global.Type">pt</a> // is !fast case needed??
        <span class="keyword">case</span> <span title="Boolean">_</span>                          =&gt; <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#633718" title="Boolean">fast</a><span class="delimiter">)</span> <a href="#440898" title="(tp1: Implicits.this.global.Type, tp2: Implicits.this.global.Type)Boolean">isPlausiblySubType</a><span class="delimiter">(</span><a href="#634227" title="Implicits.this.global.Type">tp</a>, <a href="#634228" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#634227" title="Implicits.this.global.Type">tp</a> <a href="../../../reflect/internal/Types.scala.html#41571" title="(that: Implicits.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#634228" title="Implicits.this.global.Type">pt</a>
      <span class="delimiter">}</span>
      <a href="#634226" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean">loop</a><span class="delimiter">(</span><a href="#633719" title="Implicits.this.global.Type">tp0</a>, <a href="#633720" title="Implicits.this.global.Type">pt0</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** This expresses more cleanly in the negative: there's a linear path
     *  to a final true or false.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: Implicits.this.global.Type, tp2: Implicits.this.global.Type)Boolean" id="440898">isPlausiblySubType</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="634256">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="634257">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span> = <span title="=&gt; Boolean">!</span><a href="#440899" title="(tp1: Implicits.this.global.Type, tp2: Implicits.this.global.Type)Boolean">isImpossibleSubType</a><span class="delimiter">(</span><a href="#634256" title="Implicits.this.global.Type">tp1</a>, <a href="#634257" title="Implicits.this.global.Type">tp2</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: Implicits.this.global.Type, tp2: Implicits.this.global.Type)Boolean" id="440899">isImpossibleSubType</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="634260">tp1</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Type" id="634261">tp2</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#634260" title="Implicits.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Implicits.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Implicits.this.global.Type">widen</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="634265">tr1</a> @ TypeRef<span class="delimiter">(</span>_, <a title="Implicits.this.global.Symbol" id="634269">sym1</a>, _<span class="delimiter">)</span> =&gt;
        // We can only rule out a subtype relationship if the left hand
        // side is a class, else we may not know enough.
        <a href="#634269" title="Implicits.this.global.Symbol">sym1</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#634261" title="Implicits.this.global.Type">tp2</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Implicits.this.global.Type">normalize</a>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Implicits.this.global.Type">widen</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="Implicits.this.global.Symbol" id="634274">sym2</a>, _<span class="delimiter">)</span> =&gt;
             <a href="#634274" title="Implicits.this.global.Symbol">sym2</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#634269" title="Implicits.this.global.Symbol">sym1</a> <a href="../../../reflect/internal/Symbols.scala.html#46652" title="(that: Implicits.this.global.Symbol)Boolean">isWeakSubClass</a> <a href="#634274" title="Implicits.this.global.Symbol">sym2</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">RefinedType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Type]" id="634278">parents</a>, <a title="Implicits.this.global.Scope" id="634279">decls</a><span class="delimiter">)</span> =&gt;
            <a href="#634279" title="Implicits.this.global.Scope">decls</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <a href="#634265" title="Implicits.this.global.TypeRef">tr1</a>.<a href="../../../reflect/internal/Types.scala.html#41545" title="(name: Implicits.this.global.Name)Implicits.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#634279" title="Implicits.this.global.Scope">decls</a>.<span title="=&gt; Implicits.this.global.Symbol">head</span>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Implicits.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Implicits.this.global.NoSymbol">NoSymbol</a>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo, ptChecked: Boolean)Implicits.this.SearchResult" id="440900">typedImplicit0</a><span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="634132">info</a>: <a href="#187512" title="Implicits.this.ImplicitInfo">ImplicitInfo</a>, <a title="Boolean" id="634133">ptChecked</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> = <span class="delimiter">{</span>
      <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187221" title="=&gt; scala.tools.nsc.util.Statistics.Counter">plausiblyCompatibleImplicits</a><span class="delimiter">)</span>
      <a href="Typers.scala.html#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span>
        <a href="../../../reflect/internal/TypeDebugging.scala.html#75260" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="String(&quot;typedImplicit0&quot;)" class="string">&quot;typedImplicit0&quot;</span>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;info.name&quot;</span> <span title="(y: Implicits.this.global.Name)(String, Implicits.this.global.Name)">-&gt;</span> <a href="#634132" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630472" title="=&gt; Implicits.this.global.Name">name</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;ptChecked&quot;</span> <span title="(y: Boolean)(String, Boolean)">-&gt;</span> <a href="#634133" title="Boolean">ptChecked</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;pt&quot;</span>        <span title="(y: Implicits.this.global.Type)(String, Implicits.this.global.Type)">-&gt;</span> <a href="#440890" title="=&gt; Implicits.this.global.Type">wildPt</a>,
          <span title="(x: String)ArrowAssoc[String]" class="string">&quot;orig&quot;</span>      <span title="(y: String)(String, String)">-&gt;</span> <a href="../../../reflect/internal/TypeDebugging.scala.html#75260" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="String(&quot;info&quot;)" class="string">&quot;info&quot;</span>,
            <span title="(x: String)ArrowAssoc[String]" class="string">&quot;undetParams&quot;</span>           <span title="(y: List[Implicits.this.global.Symbol])(String, List[Implicits.this.global.Symbol])">-&gt;</span> <a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>,
            <span title="(x: String)ArrowAssoc[String]" class="string">&quot;info.pre&quot;</span>              <span title="(y: Implicits.this.global.Type)(String, Implicits.this.global.Type)">-&gt;</span> <a href="#634132" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630473" title="=&gt; Implicits.this.global.Type">pre</a>
          <span class="delimiter">)</span>.<span title="(x$1: String, x$2: String)String">replaceAll</span><span class="delimiter">(</span><span title="String(&quot;\\n&quot;)" class="string">&quot;\\n&quot;</span>, <span title="String(&quot;\n  &quot;)" class="string">&quot;\n  &quot;</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#634133" title="Boolean">ptChecked</a> <span title="(x: Boolean)Boolean">||</span> <a href="#440894" title="(info: Implicits.this.ImplicitInfo)Boolean">matchesPt</a><span class="delimiter">(</span><a href="#634132" title="Implicits.this.ImplicitInfo">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#440901" title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult">typedImplicit1</a><span class="delimiter">(</span><a href="#634132" title="Implicits.this.ImplicitInfo">info</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo)Implicits.this.SearchResult" id="440901">typedImplicit1</a><span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="634427">info</a>: <a href="#187512" title="Implicits.this.ImplicitInfo">ImplicitInfo</a><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> = <span class="delimiter">{</span>
      <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187223" title="=&gt; scala.tools.nsc.util.Statistics.Counter">matchingImplicits</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Implicits extends Implicits.this.global.RefTree with Serializable" id="634429">itree</a> = <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Implicits.this.global.Position)(tree: Implicits.this.global.RefTree with Serializable)Implicits.this.global.RefTree with Serializable">atPos</a><span class="delimiter">(</span><a href="#440919" title="Implicits.this.global.Tree">tree</a>.<span title="=&gt; Implicits.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Implicits extends Implicits.this.global.RefTree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#634427" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630473" title="=&gt; Implicits.this.global.Type">pre</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Types.scala.html#38829" title="object Implicits.this.global.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#187273" title="(name: Implicits.this.global.Name)Implicits.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#634427" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630472" title="=&gt; Implicits.this.global.Name">name</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="Analyzer.scala.html#187273" title="(qualifier: Implicits.this.global.Tree, name: Implicits.this.global.Name)Implicits.this.global.Select">Select</a><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object Implicits.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92341" title="(tpe: Implicits.this.global.gen.global.Type)Implicits.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#634427" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630473" title="=&gt; Implicits.this.global.Type">pre</a><span class="delimiter">)</span>, <a href="#634427" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630472" title="=&gt; Implicits.this.global.Name">name</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="Typers.scala.html#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typedImplicit1 %s, pt=%s, from implicit %s:%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
        <a href="../../../reflect/internal/TypeDebugging.scala.html#39429" title="object Implicits.this.global.typeDebug">typeDebug</a>.<a href="../../../reflect/internal/TypeDebugging.scala.html#75262" title="(t: Implicits.this.global.Tree)String">ptTree</a><span class="delimiter">(</span><a href="#634429" title="Implicits extends Implicits.this.global.RefTree with Serializable">itree</a><span class="delimiter">)</span>, <a href="#440890" title="=&gt; Implicits.this.global.Type">wildPt</a>, <a href="#634427" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630472" title="=&gt; Implicits.this.global.Name">name</a>, <a href="#634427" title="Implicits.this.ImplicitInfo">info</a>.<a href="#629237" title="=&gt; Implicits.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(reason: String)Implicits.this.SearchResult" id="634430">fail</a><span class="delimiter">(</span><a title="String" id="634511">reason</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186690" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">XlogImplicits</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#186181" title="(msg: String)Unit">inform</a><span class="delimiter">(</span><a href="#634429" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">itree</a><span title="(other: String)String">+</span><span title="String(&quot; is not a valid implicit value for &quot;)" class="string">&quot; is not a valid implicit value for &quot;</span><span title="(x$1: Any)String">+</span><a href="#440920" title="Implicits.this.global.Type">pt</a><span title="(x$1: Any)String">+</span><span title="String(&quot; because:\n&quot;)" class="string">&quot; because:\n&quot;</span><span title="(x$1: Any)String">+</span><a href="#634511" title="String">reason</a><span class="delimiter">)</span>
        <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
      <span class="delimiter">}</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="634555">itree1</a> =
          <span title="Implicits.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#440921" title="Boolean">isView</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="#634558" title="Implicits.this.global.Type" id="634559">arg1</a> <a href="#634559" title="(Implicits.this.global.Type, Implicits.this.global.Type)">::</a> <a href="#634558" title="Implicits.this.global.Type" id="634560">arg2</a> :: _ = <a href="#440920" title="Implicits.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Implicits.this.global.Type]">typeArgs</a>
            <a href="Typers.scala.html#187855" title="(tree: Implicits.this.global.Tree, mode: Int, pt: Implicits.this.global.Type)Implicits.this.global.Tree">typed1</a><span class="delimiter">(</span>
              <a href="../../../reflect/internal/Trees.scala.html#39387" title="(pos: Implicits.this.global.Position)(tree: Implicits.this.global.Apply)Implicits.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#634429" title="Implicits extends Implicits.this.global.RefTree with Serializable">itree</a>.<span title="=&gt; Implicits.this.global.Position">pos</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(fun: Implicits.this.global.Tree, args: List[Implicits.this.global.Tree])Implicits.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#634429" title="Implicits extends Implicits.this.global.RefTree with Serializable">itree</a>, <span title="(xs: Implicits.this.global.Ident*)List[Implicits.this.global.Ident]">List</span><span class="delimiter">(</span><a href="Analyzer.scala.html#187273" title="(name: String)Implicits.this.global.Ident">Ident</a><span class="delimiter">(</span><span title="String(&quot;&lt;argument&gt;&quot;)" class="string">&quot;&lt;argument&gt;&quot;</span><span class="delimiter">)</span> <span title="(tp: Implicits.this.global.Type)Implicits.this.global.Ident">setType</span> <a href="#440889" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">approximate</a><span class="delimiter">(</span><a href="#634559" title="Implicits.this.global.Type">arg1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
              <span title="Int(1)">EXPRmode</span>,
              <a href="#440889" title="(tp: Implicits.this.global.Type)Implicits.this.global.Type">approximate</a><span class="delimiter">(</span><a href="#634560" title="Implicits.this.global.Type">arg2</a><span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <a href="Typers.scala.html#187855" title="(tree: Implicits.this.global.Tree, mode: Int, pt: Implicits.this.global.Type)Implicits.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#634429" title="Implicits extends Implicits.this.global.RefTree with Serializable">itree</a>, <span title="Int(1)">EXPRmode</span>, <a href="#440890" title="=&gt; Implicits.this.global.Type">wildPt</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#634430" title="(reason: String)Implicits.this.SearchResult">fail</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typed implicit %s has errors&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#634427" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187225" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedImplicits</a><span class="delimiter">)</span>

        <a href="Typers.scala.html#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typed implicit %s:%s, pt=%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#634555" title="Implicits.this.global.Tree">itree1</a>, <a href="#634555" title="Implicits.this.global.Tree">itree1</a>.<span title="=&gt; Implicits.this.global.Type">tpe</span>, <a href="#440890" title="=&gt; Implicits.this.global.Type">wildPt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="634556">itree2</a> = <span title="Implicits.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#440921" title="Boolean">isView</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="#634555" title="Implicits.this.global.Tree">itree1</a>: @<span title="Implicits.this.global.Tree @unchecked">unchecked</span><span class="delimiter">)</span> <span title="Implicits.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Implicits.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="634639">fun</a>, _<span class="delimiter">)</span> =&gt; <a href="#634639" title="Implicits.this.global.Tree">fun</a> <span class="delimiter">}</span>
                     <span class="keyword">else</span> <a href="Typers.scala.html#187790" title="(tree: Implicits.this.global.Tree, mode: Int, pt: Implicits.this.global.Type, original: Implicits.this.global.Tree)Implicits.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#634555" title="Implicits.this.global.Tree">itree1</a>, <span title="Int(1)">EXPRmode</span>, <a href="#440890" title="=&gt; Implicits.this.global.Type">wildPt</a><span class="delimiter">)</span>

        <a href="Typers.scala.html#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;adapted implicit %s:%s to %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <a href="#634555" title="Implicits.this.global.Tree">itree1</a>.<span title="=&gt; Implicits.this.global.Symbol">symbol</span>, <a href="#634556" title="Implicits.this.global.Tree">itree2</a>.<span title="=&gt; Implicits.this.global.Type">tpe</span>, <a href="#440890" title="=&gt; Implicits.this.global.Type">wildPt</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(tree: Implicits.this.global.Tree)Boolean" id="634557">hasMatchingSymbol</a><span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="634647">tree</a>: <span title="Implicits.this.global.Tree">Tree</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">(</span><a href="#634647" title="Implicits.this.global.Tree">tree</a>.<span title="=&gt; Implicits.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#634427" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
          <a href="#634647" title="Implicits.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean">Apply</span><span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="634657">fun</a>, _<span class="delimiter">)</span>          =&gt; <a href="#634557" title="(tree: Implicits.this.global.Tree)Boolean">hasMatchingSymbol</a><span class="delimiter">(</span><a href="#634657" title="Implicits.this.global.Tree">fun</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Boolean">TypeApply</span><span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="634660">fun</a>, _<span class="delimiter">)</span>      =&gt; <a href="#634557" title="(tree: Implicits.this.global.Tree)Boolean">hasMatchingSymbol</a><span class="delimiter">(</span><a href="#634660" title="Implicits.this.global.Tree">fun</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Boolean">Select</span><span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="634665">pre</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Implicits.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59070" title="=&gt; Implicits.this.global.nme.NameType">apply</a><span class="delimiter">)</span> =&gt; <a href="#634665" title="Implicits.this.global.Tree">pre</a>.<span title="=&gt; Implicits.this.global.Symbol">symbol</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#634427" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a>
            <span class="keyword">case</span> <span title="Boolean(false)">_</span>                      =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
          <a href="#634430" title="(reason: String)Implicits.this.SearchResult">fail</a><span class="delimiter">(</span><span title="String(&quot;hasMatchingSymbol reported threw error(s)&quot;)" class="string">&quot;hasMatchingSymbol reported threw error(s)&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#634557" title="(tree: Implicits.this.global.Tree)Boolean">hasMatchingSymbol</a><span class="delimiter">(</span><a href="#634555" title="Implicits.this.global.Tree">itree1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#634430" title="(reason: String)Implicits.this.SearchResult">fail</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;candidate implicit %s is shadowed by other implicit %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <a href="#634427" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a>, <a href="#634555" title="Implicits.this.global.Tree">itree1</a>.<span title="=&gt; Implicits.this.global.Symbol">symbol</span>.<a href="../../../reflect/internal/Symbols.scala.html#46745" title="=&gt; String">fullLocationString</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Implicits.this.global.TypeVar]" id="634674">tvars</a> = <a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a> <span title="(f: Implicits.this.global.Symbol =&gt; Implicits.this.global.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Symbol],Implicits.this.global.TypeVar,List[Implicits.this.global.TypeVar]])List[Implicits.this.global.TypeVar]">map</span> <a href="Infer.scala.html#187469" title="(tparam: Implicits.this.global.Symbol)Implicits.this.global.TypeVar">freshVar</a>
          <span class="keyword">def</span> <a title="=&gt; Implicits.this.global.Type" id="634675">ptInstantiated</a> = <a href="#440920" title="Implicits.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41531" title="(formals: List[Implicits.this.global.Symbol], actuals: List[Implicits.this.global.Type])Implicits.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#634674" title="List[Implicits.this.global.TypeVar]">tvars</a><span class="delimiter">)</span>
          
          <a href="Typers.scala.html#187854" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[search] considering %s (pt contains %s) trying %s against pt=%s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span title="String(&quot;no tparams&quot;)" class="string">&quot;no tparams&quot;</span> <span class="keyword">else</span> <a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>.<span title="(f: Implicits.this.global.Symbol =&gt; Implicits.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Symbol],Implicits.this.global.Name,List[Implicits.this.global.Name]])List[Implicits.this.global.Name]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Implicits.this.global.Name,List[Implicits.this.global.Name]]" class="delimiter">(</span><a href="#634738" title="Implicits.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Implicits.this.global.Name">name</a><span class="delimiter">)</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>,
            <a href="../../../reflect/internal/Types.scala.html#39119" title="(tp: Implicits.this.global.Type)List[Implicits.this.global.TypeVar]">typeVarsInType</a><span class="delimiter">(</span><a href="#634675" title="=&gt; Implicits.this.global.Type">ptInstantiated</a><span class="delimiter">)</span> <span title="(p: Implicits.this.global.TypeVar =&gt; Boolean)List[Implicits.this.global.TypeVar]">filterNot</span> <span class="delimiter">(</span><a href="#634779" title="Implicits.this.global.TypeVar">_</a>.<a href="../../../reflect/internal/Types.scala.html#41592" title="=&gt; Boolean">isGround</a><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="String(&quot;no tvars&quot;)">Nil</span> =&gt; <span title="String(&quot;no tvars&quot;)" class="string">&quot;no tvars&quot;</span> ; <span class="keyword">case</span> <a title="String" id="634780">tvs</a> =&gt; <a href="#634780" title="List[Implicits.this.global.TypeVar]">tvs</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span> <span class="delimiter">}</span>,
            <a href="#634556" title="Implicits.this.global.Tree">itree2</a>.<span title="=&gt; Implicits.this.global.Type">tpe</span>, <a href="#440920" title="Implicits.this.global.Type">pt</a>
          <span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#440893" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type, undet: List[Implicits.this.global.Symbol])Boolean">matchesPt</a><span class="delimiter">(</span><a href="#634556" title="Implicits.this.global.Tree">itree2</a>.<span title="=&gt; Implicits.this.global.Type">tpe</span>, <a href="#634675" title="=&gt; Implicits.this.global.Type">ptInstantiated</a>, <a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#634674" title="List[Implicits.this.global.TypeVar]">tvars</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
              <a href="Typers.scala.html#187853" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><a href="../../../reflect/internal/TypeDebugging.scala.html#75261" title="(label: String, pairs: (String, Any)*)String">ptLine</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#634427" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a>, <span title="(x: String)ArrowAssoc[String]" class="string">&quot;tvars&quot;</span> <span title="(y: List[Implicits.this.global.TypeVar])(String, List[Implicits.this.global.TypeVar])">-&gt;</span> <a href="#634674" title="List[Implicits.this.global.TypeVar]">tvars</a>, <span title="(x: String)ArrowAssoc[String]" class="string">&quot;tvars.constr&quot;</span> <span title="(y: Any)(String, Any)">-&gt;</span> <a href="#634674" title="List[Implicits.this.global.TypeVar]">tvars</a>.<span title="(f: Implicits.this.global.TypeVar =&gt; Implicits.this.global.TypeConstraint)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.TypeVar],Implicits.this.global.TypeConstraint,Any])Any">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Implicits.this.global.TypeConstraint,List[Implicits.this.global.TypeConstraint]]" class="delimiter">(</span><a href="#634840" title="Implicits.this.global.TypeVar">_</a>.<a href="../../../reflect/internal/Types.scala.html#83968" title="=&gt; Implicits.this.global.TypeConstraint">constr</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="keyword">val</span> <a title="List[Implicits.this.global.Type]" id="634787">targs</a> = <a href="Infer.scala.html#187478" title="(tvars: List[Implicits.this.global.TypeVar], tparams: List[Implicits.this.global.Symbol], variances: List[Int], upper: Boolean, depth: Int)List[Implicits.this.global.Type]">solvedTypes</a><span class="delimiter">(</span><a href="#634674" title="List[Implicits.this.global.TypeVar]">tvars</a>, <a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a> <span title="(f: Implicits.this.global.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Symbol],Int,List[Int]])List[Int]">map</span> <a href="Variances.scala.html#187536" title="(tp: Implicits.this.global.Type)(tparam: Implicits.this.global.Symbol)Int">varianceInType</a><a href="#634901" title="Implicits.this.global.Symbol" class="delimiter">(</a><a href="#440920" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span>,
                                    <span title="Boolean(false)" class="keyword">false</span>, <a href="../../../reflect/internal/Types.scala.html#39035" title="(ts: List[Implicits.this.global.Type])Int">lubDepth</a><span class="delimiter">(</span><span title="(xs: Implicits.this.global.Type*)List[Implicits.this.global.Type]">List</span><span class="delimiter">(</span><a href="#634556" title="Implicits.this.global.Tree">itree2</a>.<span title="=&gt; Implicits.this.global.Type">tpe</span>, <a href="#440920" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            // #2421: check that we correctly instantiated type parameters outside of the implicit tree:
            <a href="Infer.scala.html#188032" title="(tree: Implicits.this.global.Tree, pre: Implicits.this.global.Type, owner: Implicits.this.global.Symbol, tparams: List[Implicits.this.global.Symbol], targs: List[Implicits.this.global.Type], prefix: String)Boolean">checkBounds</a><span class="delimiter">(</span><a href="#634556" title="Implicits.this.global.Tree">itree2</a>, <a href="../../../reflect/internal/Types.scala.html#38829" title="object Implicits.this.global.NoPrefix">NoPrefix</a>, <a href="../../../reflect/internal/Symbols.scala.html#38740" title="=&gt; Implicits.this.global.NoSymbol">NoSymbol</a>, <a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#634787" title="List[Implicits.this.global.Type]">targs</a>, <span title="String(&quot;inferred &quot;)" class="string">&quot;inferred &quot;</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <a href="#634430" title="(reason: String)Implicits.this.SearchResult">fail</a><span class="delimiter">(</span><span title="String(&quot;type parameters weren\'t correctly instantiated outside of the implicit tree&quot;)" class="string">&quot;type parameters weren't correctly instantiated outside of the implicit tree&quot;</span><span class="delimiter">)</span>

            // filter out failures from type inference, don't want to remove them from undetParams!
            // we must be conservative in leaving type params in undetparams
            // prototype == WildcardType: want to remove all inferred Nothings
            <span class="keyword">val</span> <a href="Infer.scala.html#634958" title="(m: ImplicitSearch.this.infer.AdjustedTypeArgs.Result)Some[(List[Implicits.this.global.Symbol], List[Implicits.this.global.Type])]">AdjustedTypeArgs</a><a href="#634789" title="(List[Implicits.this.global.Symbol], List[Implicits.this.global.Type])" class="delimiter">(</a><a href="#634788" title="List[Implicits.this.global.Symbol]" id="634789">okParams</a>, <a href="#634788" title="List[Implicits.this.global.Type]" id="634790">okArgs</a><span class="delimiter">)</span> = <a href="Infer.scala.html#188018" title="(tparams: List[Implicits.this.global.Symbol], tvars: List[Implicits.this.global.TypeVar], targs: List[Implicits.this.global.Type], restpe: Implicits.this.global.Type)ImplicitSearch.this.infer.AdjustedTypeArgs.Result">adjustTypeArgs</a><span title="ImplicitSearch.this.infer.AdjustedTypeArgs.Result @unchecked" class="delimiter">(</span><a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a>, <a href="#634674" title="List[Implicits.this.global.TypeVar]">tvars</a>, <a href="#634787" title="List[Implicits.this.global.Type]">targs</a><span class="delimiter">)</span>
            
            <span class="keyword">val</span> <a title="Implicits.this.global.TreeTypeSubstituter" id="634791">subst</a>: <a href="../../../reflect/internal/Trees.scala.html#39396" title="Implicits.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a> =
              <span title="Implicits.this.global.TreeTypeSubstituter" class="keyword">if</span> <span class="delimiter">(</span><a href="#634789" title="List[Implicits.this.global.Symbol]">okParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#39397" title="=&gt; Implicits.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Implicits.this.global.TreeTypeSubstituter" id="635008">subst</a> = <span title="Implicits.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#39396" title="Implicits.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">(</span><a href="#634789" title="List[Implicits.this.global.Symbol]">okParams</a>, <a href="#634790" title="List[Implicits.this.global.Type]">okArgs</a><span class="delimiter">)</span>
                <a href="#635008" title="Implicits.this.global.TreeTypeSubstituter">subst</a> <a href="../../../reflect/internal/Trees.scala.html#128624" title="(tree: Implicits.this.global.Tree)Unit">traverse</a> <a href="#634556" title="Implicits.this.global.Tree">itree2</a>
                <a href="#635008" title="Implicits.this.global.TreeTypeSubstituter">subst</a>
              <span class="delimiter">}</span>

            // #2421b: since type inference (which may have been
            // performed during implicit search) does not check whether
            // inferred arguments meet the bounds of the corresponding
            // parameter (see note in solvedTypes), must check again
            // here:
            // TODO: I would prefer to just call typed instead of
            // duplicating the code here, but this is probably a
            // hotspot (and you can't just call typed, need to force
            // re-typecheck)
            // TODO: the return tree is ignored.  This seems to make
            // no difference, but it's bad practice regardless.


            <span class="keyword">val</span> <a title="Implicits.this.global.Tree" id="634792">checked</a> = <a href="#634556" title="Implicits.this.global.Tree">itree2</a> <span title="Implicits.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Implicits.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="635015">fun</a>, <a title="List[Implicits.this.global.Tree]" id="635016">args</a><span class="delimiter">)</span>           =&gt; <a href="Typers.scala.html#187850" title="(tree: Implicits.this.global.Tree, mode: Int, fun: Implicits.this.global.Tree, args: List[Implicits.this.global.Tree])Implicits.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#634556" title="Implicits.this.global.Tree">itree2</a>, <span title="Int(1)">EXPRmode</span>, <a href="#635015" title="Implicits.this.global.Tree">fun</a>, <a href="#635016" title="List[Implicits.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Implicits.this.global.Tree">Apply</span><span class="delimiter">(</span>TypeApply<span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="635032">fun</a>, <a title="List[Implicits.this.global.Tree]" id="635033">args</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="Typers.scala.html#187850" title="(tree: Implicits.this.global.Tree, mode: Int, fun: Implicits.this.global.Tree, args: List[Implicits.this.global.Tree])Implicits.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#634556" title="Implicits.this.global.Tree">itree2</a>, <span title="Int(1)">EXPRmode</span>, <a href="#635032" title="Implicits.this.global.Tree">fun</a>, <a href="#635033" title="List[Implicits.this.global.Tree]">args</a><span class="delimiter">)</span> // t2421c
              <span class="keyword">case</span> <a title="Implicits.this.global.Tree" id="635034">t</a>                              =&gt; <a href="#635034" title="Implicits.this.global.Tree">t</a>
            <span class="delimiter">}</span>
            
            <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188182" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
              <a href="#634430" title="(reason: String)Implicits.this.SearchResult">fail</a><span class="delimiter">(</span><span title="String(&quot;typing TypeApply reported errors for the implicit tree&quot;)" class="string">&quot;typing TypeApply reported errors for the implicit tree&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Implicits.this.SearchResult" id="635035">result</a> = <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a><span class="delimiter">(</span><a href="#634556" title="Implicits.this.global.Tree">itree2</a>, <a href="#634791" title="Implicits.this.global.TreeTypeSubstituter">subst</a><span class="delimiter">)</span>
              <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187227" title="=&gt; scala.tools.nsc.util.Statistics.Counter">foundImplicits</a><span class="delimiter">)</span>
              <a href="Typers.scala.html#187854" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[success] found %s for pt %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#635035" title="Implicits.this.SearchResult">result</a>, <a href="#634675" title="=&gt; Implicits.this.global.Type">ptInstantiated</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#635035" title="Implicits.this.SearchResult">result</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#634430" title="(reason: String)Implicits.this.SearchResult">fail</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;incompatible: %s does not match expected type %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#634556" title="Implicits.this.global.Tree">itree2</a>.<span title="=&gt; Implicits.this.global.Type">tpe</span>, <a href="#634675" title="=&gt; Implicits.this.global.Type">ptInstantiated</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Implicits.this.SearchResult" id="635044">ex</a>: <a href="../../../reflect/internal/Types.scala.html#39126" title="Implicits.this.global.TypeError">TypeError</a> =&gt;
          <a href="#634430" title="(reason: String)Implicits.this.SearchResult">fail</a><span class="delimiter">(</span><a href="#635044" title="Implicits.this.global.TypeError">ex</a>.<span title="()String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    // #3453: in addition to the implicit symbols that may shadow the implicit with
    // name `name`, this method tests whether there's a non-implicit symbol with name
    // `name` in scope.  Inspired by logic in typedIdent.
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: Implicits.this.global.Name)Boolean" id="440902">nonImplicitSynonymInScope</a><span class="delimiter">(</span><a title="Implicits.this.global.Name" id="635045">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Implicits.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      // the implicit ones are handled by the `shadowed` set above
      <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188111" title="=&gt; Implicits.this.global.Scope">scope</a>.<a href="../../../reflect/internal/Scopes.scala.html#60508" title="(name: Implicits.this.global.Name)Implicits.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#635045" title="Implicits.this.global.Name">name</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="635049">x</a>: <a href="../../../reflect/internal/Scopes.scala.html#39170" title="Implicits.this.global.ScopeEntry">ScopeEntry</a>  =&gt; <a href="Typers.scala.html#187778" title="(sym: Implicits.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#635049" title="Implicits.this.global.ScopeEntry">x</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#635049" title="Implicits.this.global.ScopeEntry">x</a>.<a href="../../../reflect/internal/Scopes.scala.html#92379" title="=&gt; Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/HasFlags.scala.html#46778" title="=&gt; Boolean">isImplicit</a>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span>              =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Should implicit definition symbol `sym` be considered for applicability testing?
     *  This is the case if one of the following holds:
     *   - the symbol's type is initialized
     *   - the symbol comes from a classfile
     *   - the symbol comes from a different sourcefile than the current one
     *   - the symbol and the accessed symbol's definitions come before, and do not contain the closest enclosing definition, // see #3373
     *   - the symbol's definition is a val, var, or def with an explicit result type
     *  The aim of this method is to prevent premature cyclic reference errors
     *  by computing the types of only those implicits for which one of these
     *  conditions is true.
     */
    <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol)Boolean" id="440903">isValid</a><span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="635063">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Implicits.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol)Boolean" id="635066">hasExplicitResultType</a><span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="635068">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Implicits.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(tree: Implicits.this.global.Tree)Boolean" id="635069">hasExplicitRT</a><span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="635070">tree</a>: <span title="Implicits.this.global.Tree">Tree</span><span class="delimiter">)</span> = <a href="#635070" title="Implicits.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="635071">x</a>: <span title="Implicits.this.global.ValOrDefDef">ValOrDefDef</span> =&gt; <span title="=&gt; Boolean">!</span><a href="#635071" title="Implicits.this.global.ValOrDefDef">x</a>.<span title="=&gt; Implicits.this.global.Tree">tpt</span>.<span title="=&gt; Boolean">isEmpty</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span>              =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
        <a href="#635068" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46618" title="=&gt; Implicits.this.global.Type">rawInfo</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="635072">tc</a>: <a href="Namers.scala.html#187336" title="Implicits.this.TypeCompleter">TypeCompleter</a> =&gt; <a href="#635069" title="(tree: Implicits.this.global.Tree)Boolean">hasExplicitRT</a><span class="delimiter">(</span><a href="#635072" title="Implicits.this.TypeCompleter">tc</a>.<a href="Namers.scala.html#629012" title="=&gt; Implicits.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="Implicits.this.TypeCompleter" id="635075">tc</a>: <a href="Namers.scala.html#187336" title="Implicits.this.TypeCompleter">TypeCompleter</a><span class="delimiter">)</span> =&gt; <a href="#635069" title="(tree: Implicits.this.global.Tree)Boolean">hasExplicitRT</a><span class="delimiter">(</span><a href="#635075" title="Implicits.this.TypeCompleter">tc</a>.<a href="Namers.scala.html#629012" title="=&gt; Implicits.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol, owner: Implicits.this.global.Symbol)Boolean" id="635067">comesBefore</a><span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="635076">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Implicits.this.global.Symbol">Symbol</a>, <a title="Implicits.this.global.Symbol" id="635077">owner</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Implicits.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="635078">ownerPos</a> = <a href="#635077" title="Implicits.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Implicits.this.global.Position">pos</a>.<a href="../util/Position.scala.html#187137" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span>Int.<span title="Int(2147483647)">MaxValue</span><span class="delimiter">)</span>
        <a href="#635076" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Implicits.this.global.Position">pos</a>.<a href="../util/Position.scala.html#187137" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#635078" title="Int">ownerPos</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#635076" title="Implicits.this.global.Symbol">sym</a> <a href="../../../reflect/internal/HasFlags.scala.html#46804" title="=&gt; Boolean">hasAccessorFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Implicits.this.global.Symbol" id="635083">symAcc</a> = <a href="#635076" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46670" title="=&gt; Implicits.this.global.Symbol">accessed</a> // #3373
            <a href="#635083" title="Implicits.this.global.Symbol">symAcc</a>.<a href="../../../reflect/internal/Symbols.scala.html#46379" title="=&gt; Implicits.this.global.Position">pos</a>.<a href="../util/Position.scala.html#187137" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x: Int)Boolean">&lt;</span> <a href="#635078" title="Int">ownerPos</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span>
            <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#635077" title="Implicits.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46566" title="=&gt; List[Implicits.this.global.Symbol]">ownerChain</a> <span title="(p: Implicits.this.global.Symbol =&gt; Boolean)Boolean">exists</span> <span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="635099">o</a> =&gt; <span class="delimiter">(</span><a href="#635099" title="Implicits.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#635076" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#635099" title="Implicits.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#635083" title="Implicits.this.global.Symbol">symAcc</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> // probably faster to iterate only once, don't feel like duplicating hasTransOwner for this case
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#635077" title="Implicits.this.global.Symbol">owner</a> <a href="../../../reflect/internal/Symbols.scala.html#46570" title="(sym: Implicits.this.global.Symbol)Boolean">hasTransOwner</a> <a href="#635076" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> // faster than owner.ownerChain contains sym
      <span class="delimiter">}</span>

      <a href="#635063" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46560" title="=&gt; Boolean">isInitialized</a> <span title="(x: Boolean)Boolean">||</span>
      <a href="#635063" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46719" title="=&gt; Implicits.this.global.AbstractFileType">sourceFile</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <span title="(x: Boolean)Boolean">||</span>
      <span class="delimiter">(</span><a href="#635063" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46719" title="=&gt; Implicits.this.global.AbstractFileType">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188102" title="=&gt; Implicits.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#188689" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#188728" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <a href="#635066" title="(sym: Implicits.this.global.Symbol)Boolean">hasExplicitResultType</a><span class="delimiter">(</span><a href="#635063" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
      <a href="#635067" title="(sym: Implicits.this.global.Symbol, owner: Implicits.this.global.Symbol)Boolean">comesBefore</a><span class="delimiter">(</span><a href="#635063" title="Implicits.this.global.Symbol">sym</a>, <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Implicits.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    /** Prune ImplicitInfos down to either all the eligible ones or the best one.
     *
     *  @param  iss       list of list of infos
     *  @param  shadowed  set in which to record names that are shadowed by implicit infos
     *                    If it is null, no shadowing.
     */
    <span class="keyword">class</span> <a title="class ImplicitComputation extends Object with ScalaObject" id="440904">ImplicitComputation</a><a href="#440904" title="ScalaObject" class="delimiter">(</a><a title="Implicits.this.Infoss" id="635340">iss</a>: <span title="Implicits.this.Infoss">Infoss</span>, <a title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]" id="635341">shadowed</a>: util.<a href="../../../reflect/internal/util/HashSet.scala.html#10865" title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]">HashSet</a><span class="delimiter">[</span>Name<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Implicits.this.SearchResult" id="635112">best</a>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> = <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: Implicits.this.global.Name)Boolean" id="635114">isShadowed</a><span class="delimiter">(</span><a title="Implicits.this.global.Name" id="635194">name</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Implicits.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
           <span class="delimiter">(</span><a href="#635341" title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]">shadowed</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="../../../reflect/internal/util/Set.scala.html#129810" title="(x: Implicits.this.global.Name)Boolean">shadowed</a><span class="delimiter">(</span><a href="#635194" title="Implicits.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#440902" title="(name: Implicits.this.global.Name)Boolean">nonImplicitSynonymInScope</a><span class="delimiter">(</span><a href="#635194" title="Implicits.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo)Boolean" id="635115">isIneligible</a><span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="635189">info</a>: <a href="#187512" title="Implicits.this.ImplicitInfo">ImplicitInfo</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
           <a href="#635189" title="Implicits.this.ImplicitInfo">info</a>.<a href="#629238" title="=&gt; Boolean">isCyclicOrErroneous</a>
        <span title="(x: Boolean)Boolean">||</span> <a href="#440921" title="Boolean">isView</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../../../reflect/internal/Definitions.scala.html#45048" title="(sym: Implicits.this.global.Symbol, name: Implicits.this.global.Name)Boolean">isPredefMemberNamed</a><span class="delimiter">(</span><a href="#635189" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a>, <a href="../../../reflect/internal/StdNames.scala.html#39313" title="object Implicits.this.global.nme">nme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59112" title="=&gt; Implicits.this.global.nme.NameType">conforms</a><span class="delimiter">)</span>
        <span title="(x: Boolean)Boolean">||</span> <a href="#635114" title="(name: Implicits.this.global.Name)Boolean">isShadowed</a><span class="delimiter">(</span><a href="#635189" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630472" title="=&gt; Implicits.this.global.Name">name</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      /** True if a given ImplicitInfo (already known isValid) is eligible.
       */
      <span class="keyword">def</span> <a title="(info: Implicits.this.ImplicitInfo)Boolean" id="635116">survives</a><span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="635186">info</a>: <a href="#187512" title="Implicits.this.ImplicitInfo">ImplicitInfo</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
           <span title="=&gt; Boolean">!</span><a href="#635115" title="(info: Implicits.this.ImplicitInfo)Boolean">isIneligible</a><span class="delimiter">(</span><a href="#635186" title="Implicits.this.ImplicitInfo">info</a><span class="delimiter">)</span>                      // cyclic, erroneous, shadowed, or specially excluded
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#440884" title="(tp: Implicits.this.global.Type, pt: Implicits.this.global.Type)Boolean">isPlausiblyCompatible</a><span class="delimiter">(</span><a href="#635186" title="Implicits.this.ImplicitInfo">info</a>.<a href="#629237" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#440890" title="=&gt; Implicits.this.global.Type">wildPt</a><span class="delimiter">)</span>  // optimization to avoid matchesPt
        <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#440894" title="(info: Implicits.this.ImplicitInfo)Boolean">matchesPt</a><span class="delimiter">(</span><a href="#635186" title="Implicits.this.ImplicitInfo">info</a><span class="delimiter">)</span>                          // stable and matches expected type
      <span class="delimiter">)</span>
      /** The implicits that are not valid because they come later in the source and
       *  lack an explicit result type. Used for error diagnostics only.
       */
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" id="635117">invalidImplicits</a> = <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]" class="keyword">new</span> <span title="scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">ListBuffer</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

      /** Tests for validity and updates invalidImplicits by side effect when false.
       */
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol)Boolean" id="635119">checkValid</a><span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="635174">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Implicits.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#440903" title="(sym: Implicits.this.global.Symbol)Boolean">isValid</a><span class="delimiter">(</span><a href="#635174" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span> <a href="#635117" title="=&gt; scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">invalidImplicits</a> <span title="(x: Implicits.this.global.Symbol)ImplicitComputation.this.invalidImplicits.type">+=</span> <a href="#635174" title="Implicits.this.global.Symbol">sym</a> ; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>

      /** Preventing a divergent implicit from terminating implicit search,
       *  so that if there is a best candidate it can still be selected.
       */
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="635121">divergence</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="635123">MaxDiverges</a> = <span title="Int(1)" class="int">1</span>   // not sure if this should be &gt; 1
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.tools.nsc.util.Exceptional.Catcher[Implicits.this.SearchResult]" id="635125">divergenceHandler</a> = util.<a href="../util/Exceptional.scala.html#33797" title="object scala.tools.nsc.util.Exceptional">Exceptional</a>.<a href="../util/Exceptional.scala.html#240234" title="(numCatches: Int)(pf: scala.tools.nsc.util.Exceptional.Catcher[Implicits.this.SearchResult])scala.tools.nsc.util.Exceptional.Catcher[Implicits.this.SearchResult]">expiringHandler</a><span class="delimiter">(</span><a href="#635123" title="=&gt; Int">MaxDiverges</a><span class="delimiter">)</span> <a href="#635147" title="Implicits.this.SearchResult" class="delimiter">{</a>
        <span class="keyword">case</span> <a title="Implicits.this.SearchResult" id="635148">x</a>: <a href="#32027" title="scala.tools.nsc.typechecker.DivergentImplicit">DivergentImplicit</a> =&gt;
          <a href="#635121" title="(x$1: Boolean)Unit">divergence</a> = <span title="Boolean(true)" class="keyword">true</span>
          <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;discarding divergent implicit during implicit search&quot;)" class="string">&quot;discarding divergent implicit during implicit search&quot;</span><span class="delimiter">)</span>
          <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
      <span class="delimiter">}</span>

      /** Sorted list of eligible implicits.
       */
      <span class="keyword">val</span> <a title="List[Implicits.this.ImplicitInfo]" id="635127">eligible</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Implicits.this.ImplicitInfo]" id="635151">matches</a> = <a href="#635340" title="Implicits.this.Infoss">iss</a> <span title="(f: List[Implicits.this.ImplicitInfo] =&gt; scala.collection.GenTraversableOnce[Implicits.this.ImplicitInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Implicits.this.ImplicitInfo]],Implicits.this.ImplicitInfo,List[Implicits.this.ImplicitInfo]])List[Implicits.this.ImplicitInfo]">flatMap</span> <span class="delimiter">{</span> <a title="List[Implicits.this.ImplicitInfo]" id="635168">is</a> =&gt;
          <span class="keyword">val</span> <a title="List[Implicits.this.ImplicitInfo]" id="635169">result</a> = <a href="#635168" title="List[Implicits.this.ImplicitInfo]">is</a> <span title="(p: Implicits.this.ImplicitInfo =&gt; Boolean)List[Implicits.this.ImplicitInfo]">filter</span> <span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="635173">info</a> =&gt; <a href="#635119" title="(sym: Implicits.this.global.Symbol)Boolean">checkValid</a><span class="delimiter">(</span><a href="#635173" title="Implicits.this.ImplicitInfo">info</a>.<a href="#630474" title="=&gt; Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#635116" title="(info: Implicits.this.ImplicitInfo)Boolean">survives</a><span class="delimiter">(</span><a href="#635173" title="Implicits.this.ImplicitInfo">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635341" title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]">shadowed</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="#635341" title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]">shadowed</a> <a href="../../../reflect/internal/util/HashSet.scala.html#129832" title="(xs: TraversableOnce[Implicits.this.global.Name])Unit">addEntries</a> <span class="delimiter">(</span><a href="#635168" title="List[Implicits.this.ImplicitInfo]">is</a> <span title="(f: Implicits.this.ImplicitInfo =&gt; Implicits.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.ImplicitInfo],Implicits.this.global.Name,TraversableOnce[Implicits.this.global.Name]])TraversableOnce[Implicits.this.global.Name]">map</span> <span class="delimiter">(</span><a href="#635223" title="Implicits.this.ImplicitInfo">_</a>.<a href="#630472" title="=&gt; Implicits.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="#635169" title="List[Implicits.this.ImplicitInfo]">result</a>
        <span class="delimiter">}</span>

        // most frequent one first
        <a href="#635151" title="List[Implicits.this.ImplicitInfo]">matches</a> <span title="(f: Implicits.this.ImplicitInfo =&gt; Int)(implicit ord: scala.math.Ordering[Int])List[Implicits.this.ImplicitInfo]">sortBy</span> <span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="635284">x</a> =&gt; <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#440921" title="Boolean">isView</a><span class="delimiter">)</span> <span title="=&gt; Int">-</span><a href="#635284" title="Implicits.this.ImplicitInfo">x</a>.<a href="#629243" title="=&gt; Int">useCountView</a> <span class="keyword">else</span> <span title="=&gt; Int">-</span><a href="#635284" title="Implicits.this.ImplicitInfo">x</a>.<a href="#629240" title="=&gt; Int">useCountArg</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635127" title="=&gt; List[Implicits.this.ImplicitInfo]">eligible</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
        <a href="Typers.scala.html#187854" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[search%s] %s with pt=%s in %s, eligible:\n  %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#440921" title="Boolean">isView</a><span class="delimiter">)</span> <span title="String(&quot; view&quot;)" class="string">&quot; view&quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>,
          <a href="#440919" title="Implicits.this.global.Tree">tree</a>, <a href="#440920" title="Implicits.this.global.Type">pt</a>, <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188108" title="=&gt; Implicits.this.global.Symbol">owner</a>.<a href="../../../reflect/internal/Symbols.scala.html#46662" title="=&gt; Implicits.this.global.Symbol">enclClass</a>, <a href="#635127" title="=&gt; List[Implicits.this.ImplicitInfo]">eligible</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;\n  &quot;)" class="string">&quot;\n  &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>

      /** Faster implicit search.  Overall idea:
       *   - prune aggressively
       *   - find the most likely one
       *   - if it matches, forget about all others it improves upon
       */
      @tailrec <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pending: Implicits.this.Infos, acc: Implicits.this.Infos)Implicits.this.Infos" id="635129">rankImplicits</a><span class="delimiter">(</span><a title="Implicits.this.Infos" id="635347">pending</a>: <span title="Implicits.this.Infos">Infos</span>, <a title="Implicits.this.Infos" id="635348">acc</a>: <span title="Implicits.this.Infos">Infos</span><span class="delimiter">)</span>: <span title="Implicits.this.Infos">Infos</span> = <a href="#635347" title="Implicits.this.Infos">pending</a> <span title="Implicits.this.Infos" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Implicits.this.Infos">Nil</span>      =&gt; <a href="#635348" title="Implicits.this.Infos">acc</a>
        <span class="keyword">case</span> <a title="Implicits.this.Infos" id="635356">i</a> :: <a title="List[Implicits.this.ImplicitInfo]" id="635357">is</a>  =&gt;
          <span class="keyword">def</span> <a title="(i: Implicits.this.ImplicitInfo)Implicits.this.SearchResult" id="635358">tryImplicitInfo</a><span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="635359">i</a>: <a href="#187512" title="Implicits.this.ImplicitInfo">ImplicitInfo</a><span class="delimiter">)</span> =
            <a title="Implicits.this.SearchResult" id="635360" class="keyword">try</a> <a href="#440892" title="(info: Implicits.this.ImplicitInfo, ptChecked: Boolean)Implicits.this.SearchResult">typedImplicit</a><span class="delimiter">(</span><a href="#635359" title="Implicits.this.ImplicitInfo">i</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
            <span class="keyword">catch</span> <a href="#635125" title="scala.tools.nsc.util.Exceptional.Catcher[Implicits.this.SearchResult]" id="635361">divergenceHandler</a>

          <a href="#635358" title="(i: Implicits.this.ImplicitInfo)Implicits.this.SearchResult">tryImplicitInfo</a><span class="delimiter">(</span><a href="#635356" title="Implicits.this.ImplicitInfo">i</a><span class="delimiter">)</span> <span title="Implicits.this.Infos" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#187510" title="Implicits.this.Infos">SearchFailure</a>  =&gt;
              // We don't want errors that occur during checking implicit info
              // to influence the check of further infos.
              <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188194" title="(removeP: Implicits.this.AbsTypeError =&gt; Boolean)Unit">condBufferFlush</a><span class="delimiter">(</span><a href="#635366" title="Implicits.this.AbsTypeError">_</a>.<a href="ContextErrors.scala.html#626311" title="=&gt; Implicits.this.ErrorKinds.ErrorKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="ContextErrors.scala.html#187669" title="object Implicits.this.ErrorKinds">ErrorKinds</a>.<a href="ContextErrors.scala.html#626280" title="=&gt; Implicits.this.ErrorKinds.Value">Divergent</a><span class="delimiter">)</span>
              <a href="#635129" title="(pending: Implicits.this.Infos, acc: Implicits.this.Infos)Implicits.this.Infos">rankImplicits</a><span class="delimiter">(</span><a href="#635357" title="List[Implicits.this.ImplicitInfo]">is</a>, <a href="#635348" title="Implicits.this.Infos">acc</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Implicits.this.Infos" id="635372">newBest</a>        =&gt;
              <a href="#635112" title="(x$1: Implicits.this.SearchResult)Unit">best</a> = <a href="#635372" title="Implicits.this.SearchResult">newBest</a>
              <span class="keyword">val</span> <a title="List[Implicits.this.ImplicitInfo]" id="635373">newPending</a> = <a href="../../../reflect/internal/Types.scala.html#38802" title="=&gt; Implicits.this.global.UndoLog">undoLog</a> <a href="../../../reflect/internal/Types.scala.html#129895" title="(block: =&gt; List[Implicits.this.ImplicitInfo])List[Implicits.this.ImplicitInfo]">undo</a> <span class="delimiter">{</span>
                <a href="#635357" title="List[Implicits.this.ImplicitInfo]">is</a> <span title="(p: Implicits.this.ImplicitInfo =&gt; Boolean)List[Implicits.this.ImplicitInfo]">filterNot</span> <span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="635379">alt</a> =&gt; <a href="#635379" title="Implicits.this.ImplicitInfo">alt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#635356" title="Implicits.this.ImplicitInfo">i</a> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">{</span>
                  <span class="keyword">try</span> <a href="#440883" title="(info1: Implicits.this.ImplicitInfo, info2: Implicits.this.ImplicitInfo)Boolean">improves</a><span class="delimiter">(</span><a href="#635356" title="Implicits.this.ImplicitInfo">i</a>, <a href="#635379" title="Implicits.this.ImplicitInfo">alt</a><span class="delimiter">)</span>
                  <span class="keyword">catch</span> <span class="delimiter">{</span> 
                    <span class="keyword">case</span> <a title="Boolean" id="635384">e</a>: <a href="../../../reflect/internal/Symbols.scala.html#38758" title="Implicits.this.global.CyclicReference">CyclicReference</a> =&gt; 
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#186226" title="=&gt; Boolean">printInfers</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#635356" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">i</a><span title="(other: String)String">+</span><span title="String(&quot; discarded because cyclic reference occurred&quot;)" class="string">&quot; discarded because cyclic reference occurred&quot;</span><span class="delimiter">)</span>
                        <a href="#635384" title="Implicits.this.global.CyclicReference">e</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span>
                      <span title="Boolean(true)" class="keyword">true</span> 
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#635129" title="(pending: Implicits.this.Infos, acc: Implicits.this.Infos)Implicits.this.Infos">rankImplicits</a><span class="delimiter">(</span><a href="#635373" title="List[Implicits.this.ImplicitInfo]">newPending</a>, <a href="#635356" title="Implicits.this.ImplicitInfo">i</a> <a href="#635395" title="(x: Implicits.this.ImplicitInfo)List[Implicits.this.ImplicitInfo]">::</a> <a href="#635348" title="Implicits.this.Infos">acc</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Returns all eligible ImplicitInfos and their SearchResults in a map.
       */
      <span class="keyword">def</span> <a title="()scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="635130">findAll</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#635127" title="=&gt; List[Implicits.this.ImplicitInfo]">eligible</a> <span title="(f: Implicits.this.ImplicitInfo =&gt; (Implicits.this.ImplicitInfo, Implicits.this.SearchResult))(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.ImplicitInfo],(Implicits.this.ImplicitInfo, Implicits.this.SearchResult),List[(Implicits.this.ImplicitInfo, Implicits.this.SearchResult)]])List[(Implicits.this.ImplicitInfo, Implicits.this.SearchResult)]">map</span> <span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="635419">info</a> =&gt; <span title="(_1: Implicits.this.ImplicitInfo, _2: Implicits.this.SearchResult)(Implicits.this.ImplicitInfo, Implicits.this.SearchResult)" class="delimiter">(</span><a href="#635419" title="Implicits.this.ImplicitInfo">info</a>, <a href="#440892" title="(info: Implicits.this.ImplicitInfo, ptChecked: Boolean)Implicits.this.SearchResult">typedImplicit</a><span class="delimiter">(</span><a href="#635419" title="Implicits.this.ImplicitInfo">info</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(implicit ev: &lt;:&lt;[(Implicits.this.ImplicitInfo, Implicits.this.SearchResult),(Implicits.this.ImplicitInfo, Implicits.this.SearchResult)])scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">toMap</span>

      /** Returns the SearchResult of the best match.
       */
      <span class="keyword">def</span> <a title="()Implicits.this.SearchResult" id="635131">findBest</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> = <span class="delimiter">{</span>
        // After calling rankImplicits, the least frequent matching one is first and
        // earlier elems may improve on later ones, but not the other way.
        // So if there is any element not improved upon by the first it is an error.
        <a href="#635129" title="(pending: Implicits.this.Infos, acc: Implicits.this.Infos)Implicits.this.Infos">rankImplicits</a><span class="delimiter">(</span><a href="#635127" title="=&gt; List[Implicits.this.ImplicitInfo]">eligible</a>, <span title="object Nil">Nil</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Nil</span>            =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Unit" id="635473">chosen</a> :: <a title="List[Implicits.this.ImplicitInfo]" id="635474">rest</a> =&gt;
            <a href="#635474" title="List[Implicits.this.ImplicitInfo]">rest</a> <span title="(p: Implicits.this.ImplicitInfo =&gt; Boolean)Option[Implicits.this.ImplicitInfo]">find</span> <span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="635481">alt</a> =&gt; <span title="=&gt; Boolean">!</span><a href="#440883" title="(info1: Implicits.this.ImplicitInfo, info2: Implicits.this.ImplicitInfo)Boolean">improves</a><span class="delimiter">(</span><a href="#635473" title="Implicits.this.ImplicitInfo">chosen</a>, <a href="#635481" title="Implicits.this.ImplicitInfo">alt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Nothing">Some</span><span class="delimiter">(</span><a title="Implicits.this.ImplicitInfo" id="635483">competing</a><span class="delimiter">)</span>  =&gt;
                <a href="ContextErrors.scala.html#440917" title="(info1: Implicits.this.ImplicitInfo, info2: Implicits.this.ImplicitInfo, pre1: String, pre2: String, trailer: String)(isView: Boolean, pt: Implicits.this.global.Type, tree: Implicits.this.global.Tree)(implicit context0: Implicits.this.Context)Unit">AmbiguousImplicitError</a><span class="delimiter">(</span><a href="#635473" title="Implicits.this.ImplicitInfo">chosen</a>, <a href="#635483" title="Implicits.this.ImplicitInfo">competing</a>, <span title="String(&quot;both&quot;)" class="string">&quot;both&quot;</span>, <span title="String(&quot;and&quot;)" class="string">&quot;and&quot;</span>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#440921" title="Boolean">isView</a>, <a href="#440920" title="Implicits.this.global.Type">pt</a>, <a href="#440919" title="Implicits.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a><span class="delimiter">)</span>
                <span title="Nothing" class="keyword">return</span> <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a> // Stop the search once ambiguity is encountered, see t4457_2.scala
              <span class="keyword">case</span> <span title="Unit">_</span>                =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#440921" title="Boolean">isView</a><span class="delimiter">)</span> <a href="#635473" title="Implicits.this.ImplicitInfo">chosen</a>.<a href="#629243" title="(x$1: Int)Unit">useCountView</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
                <span class="keyword">else</span> <a href="#635473" title="Implicits.this.ImplicitInfo">chosen</a>.<a href="#629240" title="(x$1: Int)Unit">useCountArg</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635112" title="=&gt; Implicits.this.SearchResult">best</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          /** If there is no winner, and we witnessed and caught divergence,
           *  now we can throw it for the error message.
           */
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635121" title="=&gt; Boolean">divergence</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">throw</span> <a href="#636707" title="object scala.tools.nsc.typechecker.DivergentImplicit">DivergentImplicit</a>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635117" title="=&gt; scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">invalidImplicits</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
            <a href="TypeDiagnostics.scala.html#187636" title="(pos: Implicits.this.global.Position, msg: () =&gt; String)Unit">setAddendum</a><span class="delimiter">(</span><a href="#440919" title="Implicits.this.global.Tree">tree</a>.<span title="=&gt; Implicits.this.global.Position">pos</span>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
              <span title="String(&quot;\n Note: implicit &quot;)" class="string">&quot;\n Note: implicit &quot;</span><span title="(x$1: Any)String">+</span><a href="#635117" title="=&gt; scala.collection.mutable.ListBuffer[Implicits.this.global.Symbol]">invalidImplicits</a>.<span title="=&gt; Implicits.this.global.Symbol">head</span><span title="(x$1: Any)String">+</span><span title="String(&quot; is not applicable here&quot;)" class="string">&quot; is not applicable here&quot;</span><span title="(x$1: Any)String">+</span>
              <span title="String(&quot; because it comes after the application point and it lacks an explicit result type&quot;)" class="string">&quot; because it comes after the application point and it lacks an explicit result type&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#635112" title="=&gt; Implicits.this.SearchResult">best</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    /** Computes from a list of lists of implicit infos a map which takes
     *  infos which are applicable for given expected type `pt` to their attributed trees.
     *
     *  @param iss            The given list of lists of implicit infos
     *  @param isLocal        Is implicit definition visible without prefix?
     *                        If this is the case then symbols in preceding lists shadow
     *                        symbols of the same name in succeeding lists.
     *  @return               map from infos to search results
     */
    <span class="keyword">def</span> <a title="(iss: Implicits.this.Infoss, isLocal: Boolean)Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="440905">applicableInfos</a><span class="delimiter">(</span><a title="Implicits.this.Infoss" id="635528">iss</a>: <span title="Implicits.this.Infoss">Infoss</span>, <a title="Boolean" id="635529">isLocal</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">Map</span><span class="delimiter">[</span>ImplicitInfo, SearchResult<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="635531">start</a>       = <a href="../../../reflect/internal/util/StatBase.scala.html#38641" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187245" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeAppInfos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ImplicitSearch.this.ImplicitComputation" id="635532">computation</a> = <a href="#635534" title="ImplicitSearch.this.ImplicitComputation" class="keyword">new</a> <a href="#440904" title="anonymous class $anon extends ImplicitSearch.this.ImplicitComputation" id="635534">ImplicitComputation</a><span class="delimiter">(</span><a href="#635528" title="Implicits.this.Infoss">iss</a>, <span title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]" class="keyword">if</span> <span class="delimiter">(</span><a href="#635529" title="Boolean">isLocal</a><span class="delimiter">)</span> util.<a href="../../../reflect/internal/util/HashSet.scala.html#138633" title="[T &gt;: Null &lt;: AnyRef](initialCapacity: Int)scala.reflect.internal.util.HashSet[T]">HashSet</a><span title="(initialCapacity: Int)scala.reflect.internal.util.HashSet[Implicits.this.global.Name]" class="delimiter">[</span><a href="../../../reflect/internal/Names.scala.html#38403" title="Implicits.this.global.Name">Name</a><span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(512)" class="int">512</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]" id="635533">applicable</a>  = <a href="#635532" title="ImplicitSearch.this.ImplicitComputation">computation</a>.<a href="#635130" title="()scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">findAll</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="../../../reflect/internal/util/StatBase.scala.html#38642" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187245" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeAppInfos</a>, <a href="#635531" title="scala.tools.nsc.util.Statistics.IntPair">start</a><span class="delimiter">)</span>
      <a href="#635533" title="scala.collection.immutable.Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicable</a>
    <span class="delimiter">}</span>

    /** Search list of implicit info lists for one matching prototype `pt`.
     *  If found return a search result with a tree from found implicit info
     *  which is typed with expected type `pt`. Otherwise return SearchFailure.
     *
     *  @param implicitInfoss The given list of lists of implicit infos
     *  @param isLocal        Is implicit definition visible without prefix?
     *                        If this is the case then symbols in preceding lists shadow
     *                        symbols of the same name in succeeding lists.
     */
    <span class="keyword">def</span> <a title="(implicitInfoss: Implicits.this.Infoss, isLocal: Boolean)Implicits.this.SearchResult" id="440906">searchImplicit</a><span class="delimiter">(</span><a title="Implicits.this.Infoss" id="635549">implicitInfoss</a>: <span title="Implicits.this.Infoss">Infoss</span>, <a title="Boolean" id="635550">isLocal</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> =
      <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#635549" title="Implicits.this.Infoss">implicitInfoss</a>.<span title="(p: List[Implicits.this.ImplicitInfo] =&gt; Boolean)Boolean">forall</span><span class="delimiter">(</span><a href="#635558" title="List[Implicits.this.ImplicitInfo]">_</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a>
      <span class="keyword">else</span> <span title="ImplicitSearch.this.ImplicitComputation" class="keyword">new</span> <a href="#440904" title="ImplicitSearch.this.ImplicitComputation">ImplicitComputation</a><span class="delimiter">(</span><a href="#635549" title="Implicits.this.Infoss">implicitInfoss</a>, <span title="scala.tools.nsc.util.HashSet[Implicits.this.global.Name]" class="keyword">if</span> <span class="delimiter">(</span><a href="#635550" title="Boolean">isLocal</a><span class="delimiter">)</span> util.<a href="../../../reflect/internal/util/HashSet.scala.html#138633" title="[T &gt;: Null &lt;: AnyRef](initialCapacity: Int)scala.reflect.internal.util.HashSet[T]">HashSet</a><span title="(initialCapacity: Int)scala.reflect.internal.util.HashSet[Implicits.this.global.Name]" class="delimiter">[</span><a href="../../../reflect/internal/Names.scala.html#38403" title="Implicits.this.global.Name">Name</a><span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(128)" class="int">128</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#635131" title="()Implicits.this.SearchResult">findBest</a><span class="delimiter">(</span><span class="delimiter">)</span>

    /** Produce an implicict info map, i.e. a map from the class symbols C of all parts of this type to
     *  the implicit infos in the companion objects of these class symbols C.
     * The parts of a type is the smallest set of types that contains
     *    - the type itself
     *    - the parts of its immediate components (prefix and argument)
     *    - the parts of its base types
     *    - for alias types and abstract types, we take instead the parts
     *    - of their upper bounds.
     *  @return For those parts that refer to classes with companion objects that
     *  can be accessed with unambiguous stable prefixes, the implicits infos
     *  which are members of these companion objects.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.InfoMap" id="440907">companionImplicitMap</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="635567">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="Implicits.this.InfoMap">InfoMap</span> = <span class="delimiter">{</span>

      /** Populate implicit info map by traversing all parts of type `tp`.
       *  Parameters as for `getParts`.
       */
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit" id="635569">getClassParts</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="635572">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Implicits.this.InfoMap" id="635573">infoMap</a>: <span title="Implicits.this.InfoMap">InfoMap</span>, <a title="scala.collection.mutable.Set[Implicits.this.global.Type]" id="635574">seen</a>: mutable.<span title="scala.collection.mutable.Set[Implicits.this.global.Type]">Set</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Set[Implicits.this.global.Symbol]" id="635575">pending</a>: <span title="Set[Implicits.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#635572" title="Implicits.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="635579">pre</a>, <a title="Implicits.this.global.Symbol" id="635580">sym</a>, <a title="List[Implicits.this.global.Type]" id="635581">args</a><span class="delimiter">)</span> =&gt;
          <a href="#635573" title="Implicits.this.InfoMap">infoMap</a> <span title="(key: Implicits.this.global.Symbol)Option[List[Implicits.this.ImplicitInfo]]">get</span> <a href="#635580" title="Implicits.this.global.Symbol">sym</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="List[Implicits.this.ImplicitInfo]" id="635586">infos1</a><span class="delimiter">)</span> =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635586" title="List[Implicits.this.ImplicitInfo]">infos1</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#635579" title="Implicits.this.global.Type">pre</a> <a href="../../../reflect/internal/Types.scala.html#41575" title="(that: Implicits.this.global.Type)Boolean">=:=</a> <a href="#635586" title="List[Implicits.this.ImplicitInfo]">infos1</a>.<span title="=&gt; Implicits.this.ImplicitInfo">head</span>.<a href="#630473" title="=&gt; Implicits.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Implicits.this.global.Type">prefix</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="String(&quot;amb prefix: &quot;)" class="string">&quot;amb prefix: &quot;</span><span title="(x$1: Any)String">+</span><a href="#635579" title="Implicits.this.global.Type">pre</a><span title="(x$1: Any)String">+</span><span title="String(&quot;#&quot;)" class="string">&quot;#&quot;</span><span title="(x$1: Any)String">+</span><a href="#635580" title="Implicits.this.global.Symbol">sym</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#635586" title="List[Implicits.this.ImplicitInfo]">infos1</a>.<span title="=&gt; Implicits.this.ImplicitInfo">head</span>.<a href="#630473" title="=&gt; Implicits.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41514" title="=&gt; Implicits.this.global.Type">prefix</a><span title="(x$1: Any)String">+</span><span title="String(&quot;#&quot;)" class="string">&quot;#&quot;</span><span title="(x$1: Any)String">+</span><a href="#635580" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span>
                <a href="#635573" title="(key: Implicits.this.global.Symbol, value: List[Implicits.this.ImplicitInfo])Unit">infoMap</a><span class="delimiter">(</span><a href="#635580" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span> = List<span title="object Nil" class="delimiter">(</span><span class="delimiter">)</span> // ambiguous prefix - ignore implicit members
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">None</span> =&gt;
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#635579" title="Implicits.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41491" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Implicits.this.global.Symbol" id="635603">companion</a> = <a href="#635580" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46693" title="=&gt; Implicits.this.global.Symbol">companionModule</a>
                <a href="#635603" title="Implicits.this.global.Symbol">companion</a>.<a href="../../../reflect/internal/Symbols.scala.html#46698" title="=&gt; Implicits.this.global.Symbol">moduleClass</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a title="Any" id="635604">mc</a>: <a href="../../../reflect/internal/Symbols.scala.html#38736" title="Implicits.this.global.ModuleClassSymbol">ModuleClassSymbol</a> =&gt;
                    <span class="keyword">val</span> <a title="List[Implicits.this.ImplicitInfo]" id="635605">infos</a> =
                      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="635625">im</a> &lt;- <a href="#635604" title="Implicits.this.global.ModuleClassSymbol">mc</a>.<a href="../../../reflect/internal/Symbols.scala.html#71609" title="(f: Implicits.this.global.Symbol =&gt; Implicits.this.ImplicitInfo)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Symbol],Implicits.this.ImplicitInfo,List[Implicits.this.ImplicitInfo]])List[Implicits.this.ImplicitInfo]">implicitMembers</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span title="Implicits.this.ImplicitInfo" class="keyword">new</span> <a href="#187512" title="Implicits.this.ImplicitInfo">ImplicitInfo</a><span class="delimiter">(</span><a href="#635625" title="Implicits.this.global.Symbol">im</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Implicits.this.global.Name">name</a>, <a href="../../../reflect/internal/Types.scala.html#38930" title="(pre: Implicits.this.global.Type, sym: Implicits.this.global.Symbol)Implicits.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#635579" title="Implicits.this.global.Type">pre</a>, <a href="#635603" title="Implicits.this.global.Symbol">companion</a><span class="delimiter">)</span>, <a href="#635625" title="Implicits.this.global.Symbol">im</a><span class="delimiter">)</span>
                    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#635605" title="List[Implicits.this.ImplicitInfo]">infos</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span>
                      <a href="#635573" title="Implicits.this.InfoMap">infoMap</a> <span title="(kv: (Implicits.this.global.Symbol, List[Implicits.this.ImplicitInfo]))infoMap.type">+=</span> <span class="delimiter">(</span><a href="#635580" title="(x: Implicits.this.global.Symbol)ArrowAssoc[Implicits.this.global.Symbol]">sym</a> <span title="(y: List[Implicits.this.ImplicitInfo])(Implicits.this.global.Symbol, List[Implicits.this.ImplicitInfo])">-&gt;</span> <a href="#635605" title="List[Implicits.this.ImplicitInfo]">infos</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="Implicits.this.global.BaseTypeSeq" id="635600">bts</a> = <a href="#635572" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41579" title="=&gt; Implicits.this.global.BaseTypeSeq">baseTypeSeq</a>
              <span class="keyword">var</span> <a title="Int" id="635601">i</a> = <span title="Int(1)" class="int">1</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#635601" title="Int">i</a> <span title="(x: Int)Boolean">&lt;</span> <a href="#635600" title="Implicits.this.global.BaseTypeSeq">bts</a>.<a href="../../../reflect/internal/BaseTypeSeqs.scala.html#59592" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#635602" title="()Unit" class="delimiter">{</a>
                <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635573" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="../../../reflect/internal/BaseTypeSeqs.scala.html#59595" title="(i: Int)Implicits.this.global.Type">bts</a><span class="delimiter">(</span><a href="#635601" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#635601" title="Int">i</a> <span title="(x: Int)Int">+=</span> <span title="Int(1)" class="int">1</span>
              <span class="delimiter">}</span>
              <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635573" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635579" title="Implicits.this.global.Type">pre</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      /** Populate implicit info map by traversing all parts of type `tp`.
       *  This method is performance critical.
       *  @param tp   The type for which we want to traverse parts
       *  @param infoMap  The infoMap in which implicit infos corresponding to parts are stored
       *  @param seen     The types that were already visited previously when collecting parts for the given infoMap
       *  @param pending  The set of static symbols for which we are currently trying to collect their parts
       *                  in order to cache them in infoMapCache
       */
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit" id="635570">getParts</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="635720">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="Implicits.this.InfoMap" id="635721">infoMap</a>: <span title="Implicits.this.InfoMap">InfoMap</span>, <a title="scala.collection.mutable.Set[Implicits.this.global.Type]" id="635722">seen</a>: mutable.<span title="scala.collection.mutable.Set[Implicits.this.global.Type]">Set</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Set[Implicits.this.global.Symbol]" id="635723">pending</a>: <span title="Set[Implicits.this.global.Symbol]">Set</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635722" title="(elem: Implicits.this.global.Type)Boolean">seen</a><span class="delimiter">(</span><a href="#635720" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span>
        <a href="#635722" title="scala.collection.mutable.Set[Implicits.this.global.Type]">seen</a> <span title="(elem: Implicits.this.global.Type)seen.type">+=</span> <a href="#635720" title="Implicits.this.global.Type">tp</a>
        <a href="#635720" title="Implicits.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="635765">pre</a>, <a title="Implicits.this.global.Symbol" id="635766">sym</a>, <a title="List[Implicits.this.global.Type]" id="635767">args</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635766" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#635766" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Implicits.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39303" title="object Implicits.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#63620" title="=&gt; Implicits.this.global.tpnme.NameType">REFINE_CLASS_NAME</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                    <span class="delimiter">(</span><a href="#635766" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Implicits.this.global.Name">name</a> <a href="../../../reflect/internal/Names.scala.html#52147" title="(prefix: Implicits.this.global.Name)Boolean">startsWith</a> <a href="../../../reflect/internal/StdNames.scala.html#39303" title="object Implicits.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#63622" title="=&gt; Implicits.this.global.tpnme.NameType">ANON_CLASS_NAME</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
                    <span class="delimiter">(</span><a href="#635766" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Implicits.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/StdNames.scala.html#39303" title="object Implicits.this.global.tpnme">tpnme</a>.<a href="../../../reflect/internal/StdNames.scala.html#59333" title="=&gt; Implicits.this.global.tpnme.NameType">ROOT</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#635766" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46545" title="=&gt; Boolean">isStatic</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#635723" title="Set[Implicits.this.global.Symbol]">pending</a> <span title="(elem: Implicits.this.global.Symbol)Boolean">contains</span> <a href="#635766" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#635721" title="Implicits.this.InfoMap">infoMap</a> <span title="(xs: scala.collection.TraversableOnce[(Implicits.this.global.Symbol, List[Implicits.this.ImplicitInfo])])infoMap.type">++=</span> <span class="delimiter">{</span>
                    <a href="#187501" title="=&gt; scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,Implicits.this.InfoMap]">infoMapCache</a> <span title="(key: Implicits.this.global.Symbol)Option[Implicits.this.InfoMap]">get</span> <a href="#635766" title="Implicits.this.global.Symbol">sym</a> <span title="scala.collection.TraversableOnce[(Implicits.this.global.Symbol, List[Implicits.this.ImplicitInfo])]" class="keyword">match</span> <span class="delimiter">{</span>
                      <span class="keyword">case</span> <span title="Implicits.this.InfoMap">Some</span><span class="delimiter">(</span><a title="Implicits.this.InfoMap" id="635792">imap</a><span class="delimiter">)</span> =&gt; <a href="#635792" title="Implicits.this.InfoMap">imap</a>
                      <span class="keyword">case</span> <span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]">None</span> =&gt;
                        <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]" id="635793">result</a> = <span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]" class="keyword">new</span> <a href="#187498" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]">InfoMap</a>
                        <a href="#635569" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getClassParts</a><span class="delimiter">(</span><a href="#635766" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46606" title="=&gt; Implicits.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#635793" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]">result</a>, <span title="()scala.collection.mutable.HashSet[Implicits.this.global.Type]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[Implicits.this.global.Type]">HashSet</span><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#635723" title="Set[Implicits.this.global.Symbol]">pending</a> <span title="(elem: Implicits.this.global.Symbol)scala.collection.immutable.Set[Implicits.this.global.Symbol]">+</span> <a href="#635766" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span>
                        <a href="#187501" title="(key: Implicits.this.global.Symbol, value: Implicits.this.InfoMap)Unit">infoMapCache</a><span class="delimiter">(</span><a href="#635766" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#635793" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]">result</a>
                        <a href="#635793" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]">result</a>
                    <span class="delimiter">}</span>
                  <span class="delimiter">}</span>
                <span class="keyword">else</span>
                  <a href="#635569" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getClassParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635720" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span>
                <a href="#635767" title="List[Implicits.this.global.Type]">args</a> <span title="(f: Implicits.this.global.Type =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635830" title="Implicits.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635766" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46447" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635720" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Implicits.this.global.Type">normalize</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#635766" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635720" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; Implicits.this.global.Type">hi</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635720" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Implicits.this.global.Type">widen</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span>: <a href="../../../reflect/internal/Types.scala.html#38819" title="Implicits.this.global.SingletonType">SingletonType</a> =&gt;
            <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635720" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41508" title="=&gt; Implicits.this.global.Type">widen</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#633357" title="Unit">HasMethodMatching</a><span class="delimiter">(</span>_, <a title="List[Implicits.this.global.Type]" id="635834">argtpes</a>, <a title="Implicits.this.global.Type" id="635835">restpe</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Implicits.this.global.Type" id="635855">tp</a> &lt;- <a href="#635834" title="(f: Implicits.this.global.Type =&gt; Unit)Unit">argtpes</a><span class="delimiter">)</span> <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635855" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span>
            <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635835" title="Implicits.this.global.Type">restpe</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">RefinedType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Type]" id="635859">ps</a>, _<span class="delimiter">)</span> =&gt;
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Implicits.this.global.Type" id="635879">p</a> &lt;- <a href="#635859" title="(f: Implicits.this.global.Type =&gt; Unit)Unit">ps</a><span class="delimiter">)</span> <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635879" title="Implicits.this.global.Type">p</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Implicits.this.global.Type" id="635884">t</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635884" title="Implicits.this.global.Type">t</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span>_, <a title="Implicits.this.global.Type" id="635887">t</a><span class="delimiter">)</span> =&gt;
            <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635887" title="Implicits.this.global.Type">t</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span>_, <a title="Implicits.this.global.Type" id="635890">t</a><span class="delimiter">)</span> =&gt;
            <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><a href="#635721" title="Implicits.this.InfoMap" class="delimiter">(</a><a href="#635890" title="Implicits.this.global.Type">t</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]" id="635571">infoMap</a> = <span title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]" class="keyword">new</span> <a href="#187498" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]">InfoMap</a>
      <a href="#635570" title="(tp: Implicits.this.global.Type)(implicit infoMap: Implicits.this.InfoMap, implicit seen: scala.collection.mutable.Set[Implicits.this.global.Type], implicit pending: Set[Implicits.this.global.Symbol])Unit">getParts</a><span class="delimiter">(</span><a href="#635567" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#635571" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]">infoMap</a>, <span title="()scala.collection.mutable.HashSet[Implicits.this.global.Type]" class="keyword">new</span> mutable.<span title="scala.collection.mutable.HashSet[Implicits.this.global.Type]">HashSet</span><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="(elems: Implicits.this.global.Symbol*)scala.collection.immutable.Set[Implicits.this.global.Symbol]">Set</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="Typers.scala.html#187854" title="(s: =&gt; String)Unit">printInference</a><span class="delimiter">(</span>
        <a href="../../../reflect/internal/TypeDebugging.scala.html#75260" title="(label: String, pairs: (String, Any)*)String">ptBlock</a><span class="delimiter">(</span><span title="String(&quot;companionImplicitMap &quot;)" class="string">&quot;companionImplicitMap &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#635567" title="Implicits.this.global.Type">tp</a>, <a href="#635571" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]">infoMap</a>.<span title="=&gt; Seq[(Implicits.this.global.Symbol, List[Implicits.this.ImplicitInfo])]">toSeq</span>.<span title="(f: ((Implicits.this.global.Symbol, List[Implicits.this.ImplicitInfo])) =&gt; (String, String))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(Implicits.this.global.Symbol, List[Implicits.this.ImplicitInfo])],(String, String),Seq[(String, String)]])Seq[(String, String)]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,(String, String),Seq[(String, String)]]" class="delimiter">(</span><a href="#635919" title="(String, String)" class="delimiter">{</a> <span class="keyword">case</span> <span title="(String, String)" class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="635922">k</a>, <a title="List[Implicits.this.ImplicitInfo]" id="635923">v</a><span class="delimiter">)</span> =&gt; <span title="(_1: String, _2: String)(String, String)" class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#635922" title="Implicits.this.global.Symbol">k</a>, <a href="#635923" title="List[Implicits.this.ImplicitInfo]">v</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <a href="#635571" title="scala.collection.mutable.LinkedHashMap[Implicits.this.global.Symbol,List[Implicits.this.ImplicitInfo]]">infoMap</a>
    <span class="delimiter">}</span>

    /** The parts of a type is the smallest set of types that contains
     *    - the type itself
     *    - the parts of its immediate components (prefix and argument)
     *    - the parts of its base types
     *    - for alias types and abstract types, we take instead the parts
     *    - of their upper bounds.
     *  @return For those parts that refer to classes with companion objects that
     *  can be accessed with unambiguous stable prefixes, the implicits infos
     *  which are members of these companion objects.

    private def companionImplicits(tp: Type): Infoss = {
      val partMap = new LinkedHashMap[Symbol, Type]
      val seen = mutable.HashSet[Type]()  // cycle detection

      /** Enter all parts of `tp` into `parts` set.
       *  This method is performance critical: about 2-4% of all type checking is spent here
       */
      def getParts(tp: Type) {
        if (seen(tp))
          return
        seen += tp
        tp match {
          case TypeRef(pre, sym, args) =&gt;
            if (sym.isClass) {
              if (!((sym.name == tpnme.REFINE_CLASS_NAME) ||
                    (sym.name startsWith tpnme.ANON_CLASS_NAME) ||
                    (sym.name == tpnme.ROOT)))
                partMap get sym match {
                  case Some(pre1) =&gt;
                    if (!(pre =:= pre1)) partMap(sym) = NoType // ambiguous prefix - ignore implicit members
                  case None =&gt;
                    if (pre.isStable) partMap(sym) = pre
                    val bts = tp.baseTypeSeq
                    var i = 1
                    while (i &lt; bts.length) {
                      getParts(bts(i))
                      i += 1
                    }
                    getParts(pre)
                    args foreach getParts
                }
            } else if (sym.isAliasType) {
              getParts(tp.normalize)
            } else if (sym.isAbstractType) {
              getParts(tp.bounds.hi)
            }
          case ThisType(_) =&gt;
            getParts(tp.widen)
          case _: SingletonType =&gt;
            getParts(tp.widen)
          case RefinedType(ps, _) =&gt;
            for (p &lt;- ps) getParts(p)
          case AnnotatedType(_, t, _) =&gt;
            getParts(t)
          case ExistentialType(_, t) =&gt;
            getParts(t)
          case PolyType(_, t) =&gt;
            getParts(t)
          case _ =&gt;
        }
      }

      getParts(tp)

      val buf = new ListBuffer[Infos]
      for ((clazz, pre) &lt;- partMap) {
        if (pre != NoType) {
          val companion = clazz.companionModule
          companion.moduleClass match {
            case mc: ModuleClassSymbol =&gt;
              buf += (mc.implicitMembers map (im =&gt;
                new ImplicitInfo(im.name, singleType(pre, companion), im)))
            case _ =&gt;
          }
        }
      }
      //println(&quot;companion implicits of &quot;+tp+&quot; = &quot;+buf.toList) // DEBUG
      buf.toList
    }

*/

    /** The implicits made available by type `pt`.
     *  These are all implicits found in companion objects of classes C
     *  such that some part of `tp` has C as one of its superclasses.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Implicits.this.Infoss" id="440908">implicitsOfExpectedType</a>: <span title="Implicits.this.Infoss">Infoss</span> = <a href="#187499" title="=&gt; scala.collection.mutable.LinkedHashMap[Implicits.this.global.Type,Implicits.this.Infoss]">implicitsCache</a> <span title="(key: Implicits.this.global.Type)Option[Implicits.this.Infoss]">get</span> <a href="#440920" title="Implicits.this.global.Type">pt</a> <span title="Implicits.this.Infoss" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Implicits.this.Infoss">Some</span><span class="delimiter">(</span><a title="Implicits.this.Infoss" id="635965">implicitInfoss</a><span class="delimiter">)</span> =&gt;
        <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187237" title="=&gt; scala.tools.nsc.util.Statistics.Counter">implicitCacheHits</a><span class="delimiter">)</span>
        <a href="#635965" title="Implicits.this.Infoss">implicitInfoss</a>
      <span class="keyword">case</span> <span title="List[List[Implicits.this.ImplicitInfo]]">None</span>                 =&gt;
        <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187239" title="=&gt; scala.tools.nsc.util.Statistics.Counter">implicitCacheMisses</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="635968">start</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187249" title="=&gt; scala.tools.nsc.util.Statistics.Timer">subtypeETNanos</a><span class="delimiter">)</span>
//        val implicitInfoss = companionImplicits(pt)
        <span class="keyword">val</span> <a title="List[List[Implicits.this.ImplicitInfo]]" id="635969">implicitInfoss1</a> = <a href="#440907" title="(tp: Implicits.this.global.Type)Implicits.this.InfoMap">companionImplicitMap</a><span class="delimiter">(</span><a href="#440920" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span>.<span title="=&gt; Iterator[List[Implicits.this.ImplicitInfo]]">valuesIterator</span>.<span title="=&gt; List[List[Implicits.this.ImplicitInfo]]">toList</span>
//        val is1 = implicitInfoss.flatten.toSet
//        val is2 = implicitInfoss1.flatten.toSet
//        for (i &lt;- is1)
//          if (!(is2 contains i)) println(&quot;!!! implicit infos of &quot;+pt+&quot; differ, new does not contain &quot;+i+&quot;,\nold: &quot;+implicitInfoss+&quot;,\nnew: &quot;+implicitInfoss1)
//        for (i &lt;- is2)
//          if (!(is1 contains i)) println(&quot;!!! implicit infos of &quot;+pt+&quot; differ, old does not contain &quot;+i+&quot;,\nold: &quot;+implicitInfoss+&quot;,\nnew: &quot;+implicitInfoss1)
        <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187249" title="=&gt; scala.tools.nsc.util.Statistics.Timer">subtypeETNanos</a>, <a href="#635968" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
        <a href="#187499" title="(key: Implicits.this.global.Type, value: Implicits.this.Infoss)Unit">implicitsCache</a><span class="delimiter">(</span><a href="#440920" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span> = <a href="#635969" title="List[List[Implicits.this.ImplicitInfo]]">implicitInfoss1</a>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#187499" title="=&gt; scala.collection.mutable.LinkedHashMap[Implicits.this.global.Type,Implicits.this.Infoss]">implicitsCache</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&gt;=</span> <span title="Int(50000)">sizeLimit</span><span class="delimiter">)</span>
          <a href="#187499" title="=&gt; scala.collection.mutable.LinkedHashMap[Implicits.this.global.Type,Implicits.this.Infoss]">implicitsCache</a> <span title="(key: Implicits.this.global.Type)Implicits.this.implicitsCache.type">-=</span> <a href="#187499" title="=&gt; scala.collection.mutable.LinkedHashMap[Implicits.this.global.Type,Implicits.this.Infoss]">implicitsCache</a>.<span title="=&gt; Iterator[Implicits.this.global.Type]">keysIterator</span>.<span title="()Implicits.this.global.Type">next</span>
        <a href="#635969" title="List[List[Implicits.this.ImplicitInfo]]">implicitInfoss1</a>
    <span class="delimiter">}</span>

    /** Creates a tree that calls the relevant factory method in object
      * reflect.Manifest for type 'tp'. An EmptyTree is returned if
      * no manifest is found. todo: make this instantiate take type params as well?
      */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type, full: Boolean)Implicits.this.SearchResult" id="440909">manifestOfType</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="636034">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Boolean" id="636035">full</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> = <span class="delimiter">{</span>

      /** Creates a tree that calls the factory method called constructor in object reflect.Manifest */
      <span class="keyword">def</span> <a title="(constructor: String, tparg: Implicits.this.global.Type, args: Implicits.this.global.Tree*)Implicits.this.global.Tree" id="636037">manifestFactoryCall</a><span class="delimiter">(</span><a title="String" id="636042">constructor</a>: <span title="String">String</span>, <a title="Implicits.this.global.Type" id="636043">tparg</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Tree*" id="636044">args</a>: <span title="Implicits.this.global.Tree*">Tree</span>*<span class="delimiter">)</span>: <span title="Implicits.this.global.Tree">Tree</span> =
        <span title="Implicits.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#636044" title="Implicits.this.global.Tree*">args</a> <span title="(elem: Any)Boolean">contains</span> <a href="Analyzer.scala.html#187273" title="object Implicits.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="Analyzer.scala.html#187273" title="object Implicits.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">else</span> <a href="Typers.scala.html#187860" title="(pos: Implicits.this.global.Position)(tree: Implicits.this.global.Tree)Implicits.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#440919" title="Implicits.this.global.Tree">tree</a>.<span title="=&gt; Implicits.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object Implicits.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#239097" title="(full: Boolean, constructor: String, tparg: Implicits.this.global.gen.global.Type, args: List[Implicits.this.global.gen.global.Tree])Implicits.this.global.gen.global.Tree">mkManifestFactoryCall</a><span class="delimiter">(</span><a href="#636035" title="Boolean">full</a>, <a href="#636042" title="String">constructor</a>, <a href="#636043" title="Implicits.this.global.Type">tparg</a>, <a href="#636044" title="Implicits.this.global.Tree*">args</a>.<span title="=&gt; List[Implicits.this.global.Tree]">toList</span><span class="delimiter">)</span><span class="delimiter">)</span>

      /** Creates a tree representing one of the singleton manifests.*/
      <span class="keyword">def</span> <a title="(name: String)Implicits.this.global.Tree" id="636038">findSingletonManifest</a><span class="delimiter">(</span><a title="String" id="636051">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="Typers.scala.html#187860" title="(pos: Implicits.this.global.Position)(tree: Implicits.this.global.Tree)Implicits.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#440919" title="Implicits.this.global.Tree">tree</a>.<span title="=&gt; Implicits.this.global.Position">pos</span>.<a href="../util/Position.scala.html#187147" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="Analyzer.scala.html#187273" title="(qualifier: Implicits.this.global.Tree, name: String)Implicits.this.global.Select">Select</a><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object Implicits.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92345" title="(sym: Implicits.this.global.gen.global.Symbol)Implicits.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45191" title="=&gt; Implicits.this.global.Symbol">FullManifestModule</a><span class="delimiter">)</span>, <a href="#636051" title="String">name</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      /** Re-wraps a type in a manifest before calling inferImplicit on the result */
      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type, manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree" id="636039">findManifest</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="636073">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="Implicits.this.global.Symbol" id="636075">manifestClass</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Implicits.this.global.Symbol">Symbol</a> = <span title="Implicits.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#636035" title="Boolean">full</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#45189" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#45185" title="=&gt; Implicits.this.global.Symbol">PartialManifestClass</a><span class="delimiter">)</span> =
        <a href="#187492" title="(tree: Implicits.this.global.Tree, pt: Implicits.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Implicits.this.Context)Implicits.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#440919" title="Implicits.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Types.scala.html#38940" title="(tycon: Implicits.this.global.Type, args: List[Implicits.this.global.Type])Implicits.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#636075" title="Implicits.this.global.Symbol">manifestClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#46625" title="=&gt; Implicits.this.global.Type">typeConstructor</a>, <span title="(xs: Implicits.this.global.Type*)List[Implicits.this.global.Type]">List</span><span class="delimiter">(</span><a href="#636073" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a><span class="delimiter">)</span>.<a href="#633200" title="=&gt; Implicits.this.global.Tree">tree</a>

      <span class="keyword">def</span> <a title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree" id="636040">findSubManifest</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="636089">tp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#636039" title="(tp: Implicits.this.global.Type, manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree">findManifest</a><span class="delimiter">(</span><a href="#636089" title="Implicits.this.global.Type">tp</a>, <span title="Implicits.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#636035" title="Boolean">full</a><span class="delimiter">)</span> <a href="../../../reflect/internal/Definitions.scala.html#45189" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a> <span class="keyword">else</span> <a href="../../../reflect/internal/Definitions.scala.html#45193" title="=&gt; Implicits.this.global.Symbol">OptManifestClass</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(tp0: Implicits.this.global.Type, from: List[Implicits.this.global.Symbol], to: List[Implicits.this.global.Type])Implicits.this.SearchResult" id="636041">mot</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="636090">tp0</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a>, <a title="List[Implicits.this.global.Symbol]" id="636091">from</a>: <span title="List[Implicits.this.global.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Implicits.this.global.Type]" id="636092">to</a>: <span title="List[Implicits.this.global.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> = <span class="delimiter">{</span>
        <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult" id="636093">wrapResult</a><span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="636095">tree</a>: <span title="Implicits.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> =
          <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#636095" title="Implicits.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#187273" title="object Implicits.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a> <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a><span class="delimiter">(</span><a href="#636095" title="Implicits.this.global.Tree">tree</a>, <span title="Implicits.this.global.TreeTypeSubstituter" class="keyword">if</span> <span class="delimiter">(</span><a href="#636091" title="List[Implicits.this.global.Symbol]">from</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <a href="../../../reflect/internal/Trees.scala.html#39397" title="=&gt; Implicits.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a> <span class="keyword">else</span> <span title="Implicits.this.global.TreeTypeSubstituter" class="keyword">new</span> <a href="../../../reflect/internal/Trees.scala.html#39396" title="Implicits.this.global.TreeTypeSubstituter">TreeTypeSubstituter</a><span class="delimiter">(</span><a href="#636091" title="List[Implicits.this.global.Symbol]">from</a>, <a href="#636092" title="List[Implicits.this.global.Type]">to</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Implicits.this.global.Type" id="636094">tp1</a> = <a href="#636090" title="Implicits.this.global.Type">tp0</a>.<a href="../../../reflect/internal/Types.scala.html#41534" title="=&gt; Implicits.this.global.Type">normalize</a>
        <a href="#636094" title="Implicits.this.global.Type">tp1</a> <span title="Implicits.this.SearchResult" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Implicits.this.SearchResult">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | SingleType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            // can't generate a reference to a value that's abstracted over by an existential
            <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#38908" title="(tpe: Implicits.this.global.Type)Boolean">containsExistential</a><span class="delimiter">(</span><a href="#636094" title="Implicits.this.global.Type">tp1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult">EmptyTree</a>
            <span class="keyword">else</span> <a href="#636037" title="(constructor: String, tparg: Implicits.this.global.Type, args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a><a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult" class="delimiter">(</a><span title="String(&quot;singleType&quot;)" class="string">&quot;singleType&quot;</span>, <a href="#636034" title="Implicits.this.global.Type">tp</a>, <a href="../Global.scala.html#186149" title="object Implicits.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92341" title="(tpe: Implicits.this.global.gen.global.Type)Implicits.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#636094" title="Implicits.this.global.Type">tp1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Implicits.this.SearchResult">ConstantType</span><span class="delimiter">(</span><a title="Implicits.this.global.Constant" id="636107">value</a><span class="delimiter">)</span> =&gt;
            <a href="#440909" title="(tp: Implicits.this.global.Type, full: Boolean)Implicits.this.SearchResult">manifestOfType</a><span class="delimiter">(</span><a href="#636094" title="Implicits.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#41509" title="=&gt; Implicits.this.global.Type">deconst</a>, <a href="#636035" title="Boolean">full</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Implicits.this.SearchResult">TypeRef</span><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="636111">pre</a>, <a title="Implicits.this.global.Symbol" id="636112">sym</a>, <a title="List[Implicits.this.global.Type]" id="636113">args</a><span class="delimiter">)</span> =&gt;
            <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45476" title="(sym: Implicits.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#636112" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="../../../reflect/internal/Definitions.scala.html#45468" title="(elem: Implicits.this.global.Symbol)Boolean">isPhantomClass</a><span class="delimiter">(</span><a href="#636112" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#636038" title="(name: String)Implicits.this.global.Tree">findSingletonManifest</a><a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult" class="delimiter">(</a><a href="#636112" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46571" title="=&gt; Implicits.this.global.Name">name</a>.<span title="()String">toString</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#636112" title="Implicits.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44986" title="=&gt; Implicits.this.global.Symbol">ObjectClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#636112" title="Implicits.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#44984" title="=&gt; Implicits.this.global.Symbol">AnyRefClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#636038" title="(name: String)Implicits.this.global.Tree">findSingletonManifest</a><a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult" class="delimiter">(</a><span title="String(&quot;Object&quot;)" class="string">&quot;Object&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#636112" title="Implicits.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45105" title="=&gt; Implicits.this.global.Symbol">RepeatedParamClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#636112" title="Implicits.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45099" title="=&gt; Implicits.this.global.Symbol">ByNameParamClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult">EmptyTree</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#636112" title="Implicits.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45152" title="=&gt; Implicits.this.global.Symbol">ArrayClass</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#636113" title="List[Implicits.this.global.Type]">args</a>.<span title="=&gt; Int">length</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#636037" title="(constructor: String, tparg: Implicits.this.global.Type, args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a><a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult" class="delimiter">(</a><span title="String(&quot;arrayType&quot;)" class="string">&quot;arrayType&quot;</span>, <a href="#636113" title="List[Implicits.this.global.Type]">args</a>.<span title="=&gt; Implicits.this.global.Type">head</span>, <a href="#636039" title="(tp: Implicits.this.global.Type, manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree">findManifest</a><span class="delimiter">(</span><a href="#636113" title="List[Implicits.this.global.Type]">args</a>.<span title="=&gt; Implicits.this.global.Type">head</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#636112" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46445" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Implicits.this.global.gen.global.Tree" id="636161">classarg0</a> = <a href="../Global.scala.html#186149" title="object Implicits.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92364" title="(tp: Implicits.this.global.gen.global.Type)Implicits.this.global.gen.global.Tree">mkClassOf</a><span class="delimiter">(</span><a href="#636094" title="Implicits.this.global.Type">tp1</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Implicits.this.global.gen.global.Tree" id="636162">classarg</a> = <a href="#636034" title="Implicits.this.global.Type">tp</a> <span title="Implicits.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Implicits.this.global.gen.global.Tree">_</span>: <a href="../../../reflect/internal/Types.scala.html#38892" title="Implicits.this.global.ExistentialType">ExistentialType</a> =&gt; <a href="../Global.scala.html#186149" title="object Implicits.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92349" title="(tree: Implicits.this.global.gen.global.Tree, pt: Implicits.this.global.gen.global.Type)Implicits.this.global.gen.global.Tree">mkCast</a><span class="delimiter">(</span><a href="#636161" title="Implicits.this.global.gen.global.Tree">classarg0</a>, <a href="../../../reflect/internal/Definitions.scala.html#45275" title="(arg: Implicits.this.global.Type)Implicits.this.global.Type">ClassType</a><span class="delimiter">(</span><a href="#636034" title="Implicits.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Implicits.this.global.gen.global.Tree">_</span>                  =&gt; <a href="#636161" title="Implicits.this.global.gen.global.Tree">classarg0</a>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="List[Implicits.this.global.Tree]" id="636163">suffix</a> = <a href="#636162" title="Implicits.this.global.gen.global.Tree">classarg</a> <a href="#636168" title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">::</a> <span class="delimiter">(</span><a href="#636113" title="List[Implicits.this.global.Type]">args</a> <span title="(f: Implicits.this.global.Type =&gt; Implicits.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Type],Implicits.this.global.Tree,List[Implicits.this.global.Tree]])List[Implicits.this.global.Tree]">map</span> <a href="#636040" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a><span class="delimiter">)</span>
              <a href="#636037" title="(constructor: String, tparg: Implicits.this.global.Type, args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a><a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult" class="delimiter">(</a>
                <span title="String(&quot;classType&quot;)" class="string">&quot;classType&quot;</span>, <a href="#636034" title="Implicits.this.global.Type">tp</a>,
                <span class="delimiter">(</span><span title="List[Implicits.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#636111" title="Implicits.this.global.Type">pre</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../../../reflect/internal/Types.scala.html#38829" title="object Implicits.this.global.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#636111" title="Implicits.this.global.Type">pre</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46548" title="=&gt; Boolean">isStaticOwner</a><span class="delimiter">)</span> <a href="#636163" title="List[Implicits.this.global.Tree]">suffix</a>
                 <span class="keyword">else</span> <a href="#636040" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a><span class="delimiter">(</span><a href="#636111" title="Implicits.this.global.Type">pre</a><span class="delimiter">)</span> <a href="#636218" title="(x: Implicits.this.global.Tree)List[Implicits.this.global.Tree]">::</a> <a href="#636163" title="List[Implicits.this.global.Tree]">suffix</a><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#636112" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46458" title="=&gt; Boolean">isExistentiallyBound</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#636035" title="Boolean">full</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#636037" title="(constructor: String, tparg: Implicits.this.global.Type, args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a><a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult" class="delimiter">(</a><span title="String(&quot;wildcardType&quot;)" class="string">&quot;wildcardType&quot;</span>, <a href="#636034" title="Implicits.this.global.Type">tp</a>,
                                  <a href="#636039" title="(tp: Implicits.this.global.Type, manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree">findManifest</a><span class="delimiter">(</span><a href="#636034" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62297" title="=&gt; Implicits.this.global.Type">lo</a><span class="delimiter">)</span>, <a href="#636039" title="(tp: Implicits.this.global.Type, manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree">findManifest</a><span class="delimiter">(</span><a href="#636034" title="Implicits.this.global.Type">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62299" title="=&gt; Implicits.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            // looking for a manifest of a type parameter that hasn't been inferred by now,
            // can't do much, but let's not fail
            <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#440887" title="=&gt; List[Implicits.this.global.Symbol]">undetParams</a> <span title="(elem: Any)Boolean">contains</span> <a href="#636112" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              // #3859: need to include the mapping from sym -&gt; NothingClass.tpe in the SearchResult
              <a href="#636041" title="(tp0: Implicits.this.global.Type, from: List[Implicits.this.global.Symbol], to: List[Implicits.this.global.Type])Implicits.this.SearchResult">mot</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#44996" title="object Implicits.this.global.definitions.NothingClass">NothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#69227" title="=&gt; Implicits.this.global.Type">tpe</a>, <a href="#636112" title="Implicits.this.global.Symbol">sym</a> <a href="#636226" title="(x: Implicits.this.global.Symbol)List[Implicits.this.global.Symbol]">::</a> <a href="#636091" title="List[Implicits.this.global.Symbol]">from</a>, <a href="../../../reflect/internal/Definitions.scala.html#44996" title="object Implicits.this.global.definitions.NothingClass">NothingClass</a>.<a href="../../../reflect/internal/Symbols.scala.html#69227" title="=&gt; Implicits.this.global.Type">tpe</a> <a href="#636232" title="(x: Implicits.this.global.Type)List[Implicits.this.global.Type]">::</a> <a href="#636092" title="List[Implicits.this.global.Type]">to</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              // a manifest should have been found by normal searchImplicit
              <a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult">EmptyTree</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Implicits.this.SearchResult">RefinedType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Type]" id="636240">parents</a>, <a title="Implicits.this.global.Scope" id="636241">decls</a><span class="delimiter">)</span> =&gt; // !!! not yet: if !full || decls.isEmpty =&gt;
            // refinement is not generated yet
            <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/internal/Types.scala.html#39053" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#636240" title="List[Implicits.this.global.Type]">parents</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#636039" title="(tp: Implicits.this.global.Type, manifestClass: Implicits.this.global.Symbol)Implicits.this.global.Tree">findManifest</a><a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult" class="delimiter">(</a><a href="#636240" title="List[Implicits.this.global.Type]">parents</a>.<span title="=&gt; Implicits.this.global.Type">head</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#636035" title="Boolean">full</a><span class="delimiter">)</span> <a href="#636037" title="(constructor: String, tparg: Implicits.this.global.Type, args: Implicits.this.global.Tree*)Implicits.this.global.Tree">manifestFactoryCall</a><a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult" class="delimiter">(</a><span title="String(&quot;intersectionType&quot;)" class="string">&quot;intersectionType&quot;</span>, <a href="#636034" title="Implicits.this.global.Type">tp</a>, <a href="#636240" title="List[Implicits.this.global.Type]">parents</a> <span title="(f: Implicits.this.global.Type =&gt; Implicits.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Type],Implicits.this.global.Tree,List[Implicits.this.global.Tree]])List[Implicits.this.global.Tree]">map</span> <a href="#636040" title="(tp: Implicits.this.global.Type)Implicits.this.global.Tree">findSubManifest</a>: _*<span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#636041" title="(tp0: Implicits.this.global.Type, from: List[Implicits.this.global.Symbol], to: List[Implicits.this.global.Type])Implicits.this.SearchResult">mot</a><span class="delimiter">(</span><a href="../Global.scala.html#186247" title="object Implicits.this.global.erasure">erasure</a>.<a href="../../../reflect/internal/transform/Erasure.scala.html#74748" title="(parents: List[Implicits.this.global.erasure.global.Type])Implicits.this.global.erasure.global.Type">intersectionDominator</a><span class="delimiter">(</span><a href="#636240" title="List[Implicits.this.global.Type]">parents</a><span class="delimiter">)</span>, <a href="#636091" title="List[Implicits.this.global.Symbol]">from</a>, <a href="#636092" title="List[Implicits.this.global.Type]">to</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Implicits.this.SearchResult">ExistentialType</span><span class="delimiter">(</span><a title="List[Implicits.this.global.Symbol]" id="636293">tparams</a>, <a title="Implicits.this.global.Type" id="636294">result</a><span class="delimiter">)</span> =&gt;
            <a href="#636041" title="(tp0: Implicits.this.global.Type, from: List[Implicits.this.global.Symbol], to: List[Implicits.this.global.Type])Implicits.this.SearchResult">mot</a><span class="delimiter">(</span><a href="#636094" title="Implicits.this.global.Type">tp1</a>.<a href="../../../reflect/internal/Types.scala.html#41533" title="=&gt; Implicits.this.global.Type">skolemizeExistential</a>, <a href="#636091" title="List[Implicits.this.global.Symbol]">from</a>, <a href="#636092" title="List[Implicits.this.global.Type]">to</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Implicits.this.SearchResult">_</span> =&gt;
            <a href="#636093" title="implicit scala.tools.nsc.typechecker.Implicits.ImplicitSearch.wrapResult : (tree: Implicits.this.global.Tree)Implicits.this.SearchResult">EmptyTree</a>
/*          !!! the following is almost right, but we have to splice nested manifest
 *          !!! types into this type. This requires a substantial extension of
 *          !!! reifiers.
            val reifier = new Reifier()
            val rtree = reifier.reifyTopLevel(tp1)
            manifestFactoryCall(&quot;apply&quot;, tp, rtree)
*/
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#636041" title="(tp0: Implicits.this.global.Type, from: List[Implicits.this.global.Symbol], to: List[Implicits.this.global.Type])Implicits.this.SearchResult">mot</a><span class="delimiter">(</span><a href="#636034" title="Implicits.this.global.Type">tp</a>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Implicits.this.global.Tree)Implicits.this.SearchResult" id="440910">wrapResult</a><span class="delimiter">(</span><a title="Implicits.this.global.Tree" id="636299">tree</a>: <span title="Implicits.this.global.Tree">Tree</span><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> =
      <span title="Implicits.this.SearchResult" class="keyword">if</span> <span class="delimiter">(</span><a href="#636299" title="Implicits.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Analyzer.scala.html#187273" title="object Implicits.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a> <span class="keyword">else</span> <span title="Implicits.this.SearchResult" class="keyword">new</span> <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a><span class="delimiter">(</span><a href="#636299" title="Implicits.this.global.Tree">tree</a>, <a href="../../../reflect/internal/Trees.scala.html#39397" title="=&gt; Implicits.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a><span class="delimiter">)</span>

    /** The manifest corresponding to type `pt`, provided `pt` is an instance of Manifest.
     */
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pt: Implicits.this.global.Type)Implicits.this.SearchResult" id="440911">implicitManifestOrOfExpectedType</a><span class="delimiter">(</span><a title="Implicits.this.global.Type" id="636305">pt</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> = <a href="#636305" title="Implicits.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41535" title="=&gt; Implicits.this.global.Type">dealias</a> <span title="Implicits.this.SearchResult" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Implicits.this.SearchResult">TypeRef</span><span class="delimiter">(</span>_, <a title="Implicits.this.global.Symbol" id="636310">sym</a>, <a title="List[Implicits.this.global.Type]" id="636311">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#187506" title="(elem: Implicits.this.global.Symbol)Boolean">ManifestSymbols</a><span class="delimiter">(</span><a href="#636310" title="Implicits.this.global.Symbol">sym</a><span class="delimiter">)</span> =&gt;
        <a href="#440909" title="(tp: Implicits.this.global.Type, full: Boolean)Implicits.this.SearchResult">manifestOfType</a><span class="delimiter">(</span><a href="#636311" title="List[Implicits.this.global.Type]">args</a>.<span title="=&gt; Implicits.this.global.Type">head</span>, <a href="#636310" title="Implicits.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45189" title="=&gt; Implicits.this.global.Symbol">FullManifestClass</a><span class="delimiter">)</span> <span title="Implicits.this.SearchResult" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="#187510" title="Implicits.this.SearchResult">SearchFailure</a> <span class="keyword">if</span> <a href="#636310" title="Implicits.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/internal/Definitions.scala.html#45193" title="=&gt; Implicits.this.global.Symbol">OptManifestClass</a> =&gt; <a href="#440910" title="(tree: Implicits.this.global.Tree)Implicits.this.SearchResult">wrapResult</a><span class="delimiter">(</span><a href="../Global.scala.html#186149" title="object Implicits.this.global.gen">gen</a>.<a href="../../../reflect/internal/TreeGen.scala.html#92345" title="(sym: Implicits.this.global.gen.global.Symbol)Implicits.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45195" title="=&gt; Implicits.this.global.Symbol">NoManifest</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Implicits.this.SearchResult" id="636333">result</a>                                   =&gt; <a href="#636333" title="Implicits.this.SearchResult">result</a>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="Implicits.this.SearchResult" id="636334">tp</a>@TypeRef<span class="delimiter">(</span>_, <a title="Implicits.this.global.Symbol" id="636338">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#636338" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46448" title="=&gt; Boolean">isAbstractType</a> =&gt;
        <a href="#440911" title="(pt: Implicits.this.global.Type)Implicits.this.SearchResult">implicitManifestOrOfExpectedType</a><span class="delimiter">(</span><a href="#636334" title="Implicits.this.global.TypeRef">tp</a>.<a href="../../../reflect/internal/Types.scala.html#41512" title="=&gt; Implicits.this.global.TypeBounds">bounds</a>.<a href="../../../reflect/internal/Types.scala.html#62297" title="=&gt; Implicits.this.global.Type">lo</a><span class="delimiter">)</span> // #3977: use tp (==pt.dealias), not pt (if pt is a type alias, pt.bounds.lo == pt)
      <span class="keyword">case</span> <span title="Implicits.this.SearchResult">_</span> =&gt;
        <a href="#440906" title="(implicitInfoss: Implicits.this.Infoss, isLocal: Boolean)Implicits.this.SearchResult">searchImplicit</a><span class="delimiter">(</span><a href="#440908" title="=&gt; Implicits.this.Infoss">implicitsOfExpectedType</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        // shouldn't we pass `pt` to `implicitsOfExpectedType`, or is the recursive case
        // for an abstract type really only meant for manifests?
    <span class="delimiter">}</span>

    /** The result of the implicit search:
     *  First search implicits visible in current context.
     *  If that fails, search implicits in expected type `pt`.
     *  If that fails, and `pt` is an instance of Manifest, try to construct a manifest.
     *  If all fails return SearchFailure
     */
    <span class="keyword">def</span> <a title="=&gt; Implicits.this.SearchResult" id="440912">bestImplicit</a>: <a href="#187509" title="Implicits.this.SearchResult">SearchResult</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="636339">failstart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187231" title="=&gt; scala.tools.nsc.util.Statistics.Timer">inscopeFailNanos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="636340">succstart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187229" title="=&gt; scala.tools.nsc.util.Statistics.Timer">inscopeSucceedNanos</a><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Implicits.this.SearchResult" id="636341">result</a> = <a href="#440906" title="(implicitInfoss: Implicits.this.Infoss, isLocal: Boolean)Implicits.this.SearchResult">searchImplicit</a><span class="delimiter">(</span><a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188243" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitss</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#636341" title="Implicits.this.SearchResult">result</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187231" title="=&gt; scala.tools.nsc.util.Statistics.Timer">inscopeFailNanos</a>, <a href="#636339" title="scala.tools.nsc.util.Statistics.LongPair">failstart</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187229" title="=&gt; scala.tools.nsc.util.Statistics.Timer">inscopeSucceedNanos</a>, <a href="#636340" title="scala.tools.nsc.util.Statistics.LongPair">succstart</a><span class="delimiter">)</span>
        <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187217" title="=&gt; scala.tools.nsc.util.Statistics.Counter">inscopeImplicitHits</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#636341" title="Implicits.this.SearchResult">result</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.Set[Implicits.this.AbsTypeError]" id="636354">previousErrs</a> = <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188196" title="()scala.collection.mutable.Set[Implicits.this.AbsTypeError]">flushAndReturnBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="636355">failstart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187235" title="=&gt; scala.tools.nsc.util.Statistics.Timer">oftypeFailNanos</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="636356">succstart</a> = <a href="../../../reflect/internal/util/StatBase.scala.html#38643" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187233" title="=&gt; scala.tools.nsc.util.Statistics.Timer">oftypeSucceedNanos</a><span class="delimiter">)</span>

        <a href="#636341" title="Implicits.this.SearchResult">result</a> = <a href="#440911" title="(pt: Implicits.this.global.Type)Implicits.this.SearchResult">implicitManifestOrOfExpectedType</a><span class="delimiter">(</span><a href="#440920" title="Implicits.this.global.Type">pt</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#636341" title="Implicits.this.SearchResult">result</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188193" title="(errors: scala.collection.mutable.Set[Implicits.this.AbsTypeError])scala.collection.mutable.Set[Implicits.this.AbsTypeError]">updateBuffer</a><span class="delimiter">(</span><a href="#636354" title="scala.collection.mutable.Set[Implicits.this.AbsTypeError]">previousErrs</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187235" title="=&gt; scala.tools.nsc.util.Statistics.Timer">oftypeFailNanos</a>, <a href="#636355" title="scala.tools.nsc.util.Statistics.LongPair">failstart</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#38644" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187233" title="=&gt; scala.tools.nsc.util.Statistics.Timer">oftypeSucceedNanos</a>, <a href="#636356" title="scala.tools.nsc.util.Statistics.LongPair">succstart</a><span class="delimiter">)</span>
          <a href="../../../reflect/internal/util/StatBase.scala.html#38639" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#187215" title="=&gt; scala.tools.nsc.util.Statistics.Counter">oftypeImplicitHits</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#636341" title="Implicits.this.SearchResult">result</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#187510" title="=&gt; Implicits.this.SearchResult">SearchFailure</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="../Global.scala.html#186138" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#186768" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#187054" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#186199" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;no implicits found for &quot;)" class="string">&quot;no implicits found for &quot;</span><span title="(x$1: Any)String">+</span><a href="#440920" title="Implicits.this.global.Type">pt</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#440920" title="Implicits.this.global.Type">pt</a>.<a href="../../../reflect/internal/Types.scala.html#41504" title="=&gt; Implicits.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/internal/Symbols.scala.html#46608" title="=&gt; Implicits.this.global.Type">info</a>.<a href="../../../reflect/internal/Types.scala.html#41581" title="=&gt; List[Implicits.this.global.Symbol]">baseClasses</a><span title="(x$1: Any)String">+</span><span title="String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)String">+</span><a href="#440908" title="=&gt; Implicits.this.Infoss">implicitsOfExpectedType</a><span class="delimiter">)</span>

      <a href="#636341" title="Implicits.this.SearchResult">result</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; List[Implicits.this.SearchResult]" id="440913">allImplicits</a>: <span title="List[Implicits.this.SearchResult]">List</span><span class="delimiter">[</span>SearchResult<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(iss: Implicits.this.Infoss, isLocal: Boolean)Iterable[Implicits.this.SearchResult]" id="636375">search</a><span class="delimiter">(</span><a title="Implicits.this.Infoss" id="636376">iss</a>: <span title="Implicits.this.Infoss">Infoss</span>, <a title="Boolean" id="636377">isLocal</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> = <a href="#440905" title="(iss: Implicits.this.Infoss, isLocal: Boolean)Map[Implicits.this.ImplicitInfo,Implicits.this.SearchResult]">applicableInfos</a><span class="delimiter">(</span><a href="#636376" title="Implicits.this.Infoss">iss</a>, <a href="#636377" title="Boolean">isLocal</a><span class="delimiter">)</span>.<span title="=&gt; Iterable[Implicits.this.SearchResult]">values</span>
      <span class="delimiter">(</span><a href="#636375" title="(iss: Implicits.this.Infoss, isLocal: Boolean)Iterable[Implicits.this.SearchResult]">search</a><span class="delimiter">(</span><a href="Typers.scala.html#187741" title="=&gt; Implicits.this.Context">context</a>.<a href="Contexts.scala.html#188243" title="=&gt; List[List[Implicits.this.ImplicitInfo]]">implicitss</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span title="(that: scala.collection.GenTraversableOnce[Implicits.this.SearchResult])(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[Implicits.this.SearchResult],Implicits.this.SearchResult,Iterable[Implicits.this.SearchResult]])Iterable[Implicits.this.SearchResult]">++</span> <a href="#636375" title="(iss: Implicits.this.Infoss, isLocal: Boolean)Iterable[Implicits.this.SearchResult]">search</a><span class="delimiter">(</span><a href="#440908" title="=&gt; Implicits.this.Infoss">implicitsOfExpectedType</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[Implicits.this.SearchResult]">toList</span>.<span title="(p: Implicits.this.SearchResult =&gt; Boolean)List[Implicits.this.SearchResult]">filter</span><span class="delimiter">(</span><a href="#636442" title="Implicits.this.SearchResult">_</a>.<a href="#633200" title="=&gt; Implicits.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="Analyzer.scala.html#187273" title="object Implicits.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Implicits.this.ImplicitNotFoundMsg" id="187523">ImplicitNotFoundMsg</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol)Option[scala.tools.nsc.typechecker.Implicits.ImplicitNotFoundMsg.Message]" id="626915">unapply</a><span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="626918">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Implicits.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[scala.tools.nsc.typechecker.Implicits.ImplicitNotFoundMsg.Message]">Option</span><span class="delimiter">[</span><span class="delimiter">(</span>Message<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#626918" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46531" title="=&gt; Option[String]">implicitNotFoundMsg</a> <span title="(f: String =&gt; scala.tools.nsc.typechecker.Implicits.ImplicitNotFoundMsg.Message)Option[scala.tools.nsc.typechecker.Implicits.ImplicitNotFoundMsg.Message]">map</span> <span class="delimiter">(</span><a title="String" id="636448">m</a> =&gt; <span class="delimiter">(</span><span title="scala.tools.nsc.typechecker.Implicits.ImplicitNotFoundMsg.Message" class="keyword">new</span> <a href="#626917" title="scala.tools.nsc.typechecker.Implicits.ImplicitNotFoundMsg.Message">Message</a><span class="delimiter">(</span><a href="#626918" title="Implicits.this.global.Symbol">sym</a>, <a href="#636448" title="String">m</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    // check the message's syntax: should be a string literal that may contain occurrences of the string &quot;${X}&quot;,
    // where `X` refers to a type parameter of `sym`
    <span class="keyword">def</span> <a title="(sym: Implicits.this.global.Symbol)Option[String]" id="626916">check</a><span class="delimiter">(</span><a title="Implicits.this.global.Symbol" id="636452">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Implicits.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
      <a href="#636452" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#44937" title="(cls: Implicits.this.global.Symbol)Option[Implicits.this.global.AnnotationInfo]">getAnnotation</a><span class="delimiter">(</span><a href="../../../reflect/internal/Definitions.scala.html#45377" title="=&gt; Implicits.this.global.Symbol">ImplicitNotFoundClass</a><span class="delimiter">)</span>.<span title="(f: Implicits.this.global.AnnotationInfo =&gt; Option[String])Option[String]">flatMap</span><span class="delimiter">(</span><a href="#636459" title="Implicits.this.global.AnnotationInfo">_</a>.<a href="../../../reflect/internal/AnnotationInfos.scala.html#45940" title="(index: Int)Option[String]">stringArg</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Option[String]">Some</span><span class="delimiter">(</span><a title="String" id="636461">m</a><span class="delimiter">)</span> =&gt; <span title="scala.tools.nsc.typechecker.Implicits.ImplicitNotFoundMsg.Message" class="keyword">new</span> <a href="#626917" title="scala.tools.nsc.typechecker.Implicits.ImplicitNotFoundMsg.Message">Message</a><span class="delimiter">(</span><a href="#636452" title="Implicits.this.global.Symbol">sym</a>, <a href="#636461" title="String">m</a><span class="delimiter">)</span> <a href="#626935" title="=&gt; Option[String]">validate</a>
        <span class="keyword">case</span> <span title="Some[String]">None</span> =&gt; <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="String(&quot;Missing argument `msg` on implicitNotFound annotation.&quot;)" class="string">&quot;Missing argument `msg` on implicitNotFound annotation.&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>


    <span class="keyword">class</span> <a title="class Message extends Object with ScalaObject" id="626917">Message</a><a href="#626917" title="ScalaObject" class="delimiter">(</a><a title="Implicits.this.global.Symbol" id="636449">sym</a>: <a href="../../../reflect/internal/Symbols.scala.html#38726" title="Implicits.this.global.Symbol">Symbol</a>, <a title="String" id="636450">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      // http://dcsobral.blogspot.com/2010/01/string-interpolation-in-scala-with.html
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(text: String, vars: Map[String,String])String" id="626930">interpolate</a><span class="delimiter">(</span><a title="String" id="636471">text</a>: <span title="String">String</span>, <a title="Map[String,String]" id="636472">vars</a>: <span title="Map[String,String]">Map</span><span class="delimiter">[</span>String, String<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;\$\{([^}]+)\}&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="(target: CharSequence, replacer: scala.util.matching.Regex.Match =&gt; String)String">replaceAllIn</span><span class="delimiter">(</span><a href="#636471" title="String">text</a>, <span class="delimiter">(</span><a href="#636481" title="scala.util.matching.Regex.Match">_</a>: Regex.<span title="scala.util.matching.Regex.Match">Match</span><span class="delimiter">)</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="String">Regex</span>.<a href="#636483" title="(m: scala.util.matching.Regex.Match)Option[Seq[String]]">Groups</a><span class="delimiter">(</span><a title="String" id="636485">v</a><span class="delimiter">)</span> =&gt; java.util.regex.<span title="object java.util.regex.Matcher">Matcher</span>.<span title="(x$1: String)String">quoteReplacement</span><span class="delimiter">(</span><a href="#636472" title="Map[String,String]">vars</a>.<span title="(key: String, default: =&gt; String)String">getOrElse</span><span class="delimiter">(</span><a href="#636485" title="String">v</a>, <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> // #3915: need to quote replacement string since it may include $'s (such as the interpreter's $iw)
        <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[String]" id="626932">typeParamNames</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#636449" title="Implicits.this.global.Symbol">sym</a>.<a href="../../../reflect/internal/Symbols.scala.html#46628" title="=&gt; List[Implicits.this.global.Symbol]">typeParams</a>.<span title="(f: Implicits.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Symbol],String,List[String]])List[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</span><a href="#636522" title="Implicits.this.global.Symbol">_</a>.<a href="../../../reflect/internal/Symbols.scala.html#46575" title="=&gt; String">decodedName</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(paramName: Implicits.this.global.Name, paramTp: Implicits.this.global.Type)String" id="626933">format</a><span class="delimiter">(</span><a title="Implicits.this.global.Name" id="626941">paramName</a>: <a href="../../../reflect/internal/Names.scala.html#38403" title="Implicits.this.global.Name">Name</a>, <a title="Implicits.this.global.Type" id="626942">paramTp</a>: <a href="../../../reflect/internal/Types.scala.html#38813" title="Implicits.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#626934" title="(typeArgs: List[String])String">format</a><span class="delimiter">(</span><a href="#626942" title="Implicits.this.global.Type">paramTp</a>.<a href="../../../reflect/internal/Types.scala.html#41517" title="=&gt; List[Implicits.this.global.Type]">typeArgs</a> <span title="(f: Implicits.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Implicits.this.global.Type],String,List[String]])List[String]">map</span> <span class="delimiter">(</span><a href="#636573" title="Implicits.this.global.Type">_</a>.<a href="../../../reflect/internal/Types.scala.html#41589" title="()String">toString</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(typeArgs: List[String])String" id="626934">format</a><span class="delimiter">(</span><a title="List[String]" id="626939">typeArgs</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> =
        <a href="#626930" title="(text: String, vars: Map[String,String])String">interpolate</a><span class="delimiter">(</span><a href="#636450" title="String">msg</a>, <span title="(elems: (String, String)*)scala.collection.immutable.Map[String,String]">Map</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#626931" title="=&gt; List[String]">typeParamNames</a> <span title="(that: scala.collection.GenIterable[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],(String, String),List[(String, String)]])List[(String, String)]">zip</span> <a href="#626939" title="List[String]">typeArgs</a><span class="delimiter">)</span>: _*<span class="delimiter">)</span><span class="delimiter">)</span> // TODO: give access to the name and type of the implicit argument, etc?

      <span class="keyword">def</span> <a title="=&gt; Option[String]" id="626935">validate</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">import</span> scala.util.matching.Regex; <span class="keyword">import</span> collection.breakOut
        // is there a shorter way to avoid the intermediate toList?
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[String]" id="636657">refs</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;\$\{([^}]+)\}&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>.<span title="(source: CharSequence)scala.util.matching.Regex.MatchIterator">findAllIn</span><span class="delimiter">(</span><a href="#636450" title="String">msg</a><span class="delimiter">)</span>.<span title="=&gt; Iterator[scala.util.matching.Regex.Match]">matchData</span>.<span title="(f: scala.util.matching.Regex.Match =&gt; String)Iterator[String]">map</span><span class="delimiter">(</span><a href="#636666" title="scala.util.matching.Regex.Match">_</a> <span title="(i: Int)String">group</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="scala.collection.immutable.Set[String]">toSet</span>
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[String]" id="636658">decls</a> = <a href="#626931" title="=&gt; List[String]">typeParamNames</a>.<span title="scala.collection.immutable.Set[String]">toSet</span>

        <span class="delimiter">(</span><a href="#636657" title="scala.collection.immutable.Set[String]">refs</a> <span title="(that: scala.collection.GenSet[String])scala.collection.immutable.Set[String]">&amp;~</span> <a href="#636658" title="scala.collection.immutable.Set[String]">decls</a><span class="delimiter">)</span> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="None.type" id="636689">s</a> <span class="keyword">if</span> <a href="#636689" title="scala.collection.immutable.Set[String]">s</a> <span title="=&gt; Boolean">isEmpty</span> =&gt; <span title="object None">None</span>
          <span class="keyword">case</span> <a title="Some[String]" id="636690">unboundNames</a> =&gt;
            <span class="keyword">val</span> <a title="Boolean" id="636691">singular</a> = <a href="#636690" title="scala.collection.immutable.Set[String]">unboundNames</a>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span>
            <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><span title="String(&quot;The type parameter&quot;)" class="string">&quot;The type parameter&quot;</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span> <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#636691" title="Boolean">singular</a><span class="delimiter">)</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span class="keyword">else</span> <span title="String(&quot;s &quot;)" class="string">&quot;s &quot;</span> <span class="delimiter">)</span><span title="(x$1: Any)String">+</span> <a href="#636690" title="scala.collection.immutable.Set[String]">unboundNames</a>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>  <span title="(x$1: Any)String">+</span>
                  <span title="String(&quot; referenced in the message of the @implicitNotFound annotation &quot;)" class="string">&quot; referenced in the message of the @implicitNotFound annotation &quot;</span><span title="(x$1: Any)String">+</span><span class="delimiter">(</span> <span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="#636691" title="Boolean">singular</a><span class="delimiter">)</span> <span title="String(&quot;is&quot;)" class="string">&quot;is&quot;</span> <span class="keyword">else</span> <span title="String(&quot;are&quot;)" class="string">&quot;are&quot;</span> <span class="delimiter">)</span><span title="(x$1: Any)String">+</span>
                  <span title="String(&quot; not defined by &quot;)" class="string">&quot; not defined by &quot;</span><span title="(x$1: Any)String">+</span> <a href="#636449" title="Implicits.this.global.Symbol">sym</a> <span title="(x$1: Any)String">+</span><span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="keyword">class</span> <a title="class DivergentImplicit extends Exception with ScalaObject" id="32027">DivergentImplicit</a> <a href="#32027" title="ScalaObject" class="keyword">extends</a> <span title="Exception">Exception</span>
<span class="keyword">object</span> <a title="object scala.tools.nsc.typechecker.DivergentImplicit" id="636707">DivergentImplicit</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#32027" title="scala.tools.nsc.typechecker.DivergentImplicit">DivergentImplicit</a>

        </pre>
    </body>
</html>