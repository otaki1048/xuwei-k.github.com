<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/interpreter/ReplTokens.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Paul Phillips
 */

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> interpreter

<span class="keyword">import</span> util.<span class="delimiter">{</span> BatchSourceFile, Indenter <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.ast.parser.<a href="../ast/parser/Tokens.scala.html#14555" title="object scala.tools.nsc.ast.parser.Tokens">Tokens</a>._
<span class="keyword">import</span> java.lang.<span title="object Integer">Integer</span>.toOctalString

/** This began as an attempt at a completely minimal
 *  pretty printer for a token stream, but as it turns out
 *  it's &quot;minimal, pretty, scala: pick any two.&quot; So
 *  now it's an unattractive hybrid between minimalism
 *  and other things.  Still, it's a big improvement on the
 *  way I was printing source in the repl, so in it goes.
 *
 *  @author   Paul Phillips
 */
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ReplTokens extends Object with ScalaObject" id="21989">ReplTokens</a> <a href="#21989" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="467937">global</a>: <a href="../Global.scala.html#12873" title="scala.tools.nsc.Global">Global</a>

  <span class="keyword">import</span> <a href="#467937" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#186229" title="object ReplTokens.this.global.syntaxAnalyzer">syntaxAnalyzer</a>.<span class="delimiter">{</span> UnitScanner, token2name <span class="delimiter">}</span>

  // Mostly, this means print &lt;NL&gt; so we can see where
  // semicolon inference took place.
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="467941">rawTokens</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="keyword">def</span> <a title="[T](body: =&gt; T)T" id="467943">withRawTokens</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="467945">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="486959">body</a>: =&gt; T<span class="delimiter">)</span>: <a href="#467945" title="T">T</a> = <span class="delimiter">{</span>
    <a href="#467941" title="(x$1: Boolean)Unit">rawTokens</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">try</span> <a href="#486959" title="=&gt; T">body</a>
    <span class="keyword">finally</span> <a href="#467941" title="(x$1: Boolean)Unit">rawTokens</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  // There's the seed of a good idea in here, but you wouldn't
  // know it from the current implementation.  The objects are
  // trying to depict what feelings of coziness a given token
  // might have toward its immediate neighbors.  But it lacks
  // sufficient granularity and a good resolution mechanism.
  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Cozy extends Object with ScalaObject" id="467946">Cozy</a><a href="#467946" title="ScalaObject" class="delimiter">(</a><a title="=&gt; Boolean" id="514970">l</a>: =&gt; Boolean, <a title="=&gt; Boolean" id="514971">r</a>: =&gt; Boolean<span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="514965">left</a> = <a href="#514970" title="=&gt; Boolean">l</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="514966">right</a> = <a href="#514971" title="=&gt; Boolean">r</a>
  <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="object ReplTokens.this.Cozy" id="467947">Cozy</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(x: ReplTokens.this.Cozy)Some[(Boolean, Boolean)]" id="514979">unapply</a><span class="delimiter">(</span><a title="ReplTokens.this.Cozy" id="514981">x</a>: <a href="#467946" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">)</span> = <span title="(x: (Boolean, Boolean))Some[(Boolean, Boolean)]">Some</span><span class="delimiter">(</span><span title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</span><a href="#514981" title="ReplTokens.this.Cozy">x</a>.<a href="#514965" title="=&gt; Boolean">left</a>, <a href="#514981" title="ReplTokens.this.Cozy">x</a>.<a href="#514966" title="=&gt; Boolean">right</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  case <span class="keyword">object</span>  <a href="#514998" title="object ReplTokens.this.|--*--|" id="515006">|--*--|</a>  <span title="ScalaObject" class="keyword">extends</span> <a href="#467946" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  case <span class="keyword">object</span>    <a href="#515012" title="object ReplTokens.this.&lt;*--|" id="515020">&lt;*--|</a>  <span title="ScalaObject" class="keyword">extends</span> <a href="#467946" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  case <span class="keyword">object</span>  <a href="#515026" title="object ReplTokens.this.|--*&gt;" id="515034">|--*&gt;</a>    <span title="ScalaObject" class="keyword">extends</span> <a href="#467946" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
  case <span class="keyword">object</span>    <a href="#515040" title="object ReplTokens.this.&lt;*&gt;" id="515048">&lt;*&gt;</a>    <span title="ScalaObject" class="keyword">extends</span> <a href="#467946" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  @annotation.switch <span class="keyword">def</span> <a title="(ch: Char)String" id="467957">escapedChar</a><span class="delimiter">(</span><a title="Char" id="515049">ch</a>: <span title="Char">Char</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#515049" title="Char">ch</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="String(&quot;\\b&quot;)" class="char">'\b'</span> =&gt; <span title="String(&quot;\\b&quot;)" class="string">&quot;\\b&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\t&quot;)" class="char">'\t'</span> =&gt; <span title="String(&quot;\\t&quot;)" class="string">&quot;\\t&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\n&quot;)" class="char">'\n'</span> =&gt; <span title="String(&quot;\\n&quot;)" class="string">&quot;\\n&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\f&quot;)" class="char">'\f'</span> =&gt; <span title="String(&quot;\\f&quot;)" class="string">&quot;\\f&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\r&quot;)" class="char">'\r'</span> =&gt; <span title="String(&quot;\\r&quot;)" class="string">&quot;\\r&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\\&quot;&quot;)" class="char">'&quot;'</span>  =&gt; <span title="String(&quot;\\\&quot;&quot;)" class="string">&quot;\\\&quot;&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\\'&quot;)" class="char">'\''</span> =&gt; <span title="String(&quot;\\\'&quot;)" class="string">&quot;\\\'&quot;</span>
    <span class="keyword">case</span> <span title="String(&quot;\\\\&quot;)" class="char">'\\'</span> =&gt; <span title="String(&quot;\\\\&quot;)" class="string">&quot;\\\\&quot;</span>
    <span class="keyword">case</span> <span title="String">_</span>    =&gt; <span title="object String">String</span>.<span title="(x$1: Char)String">valueOf</span><span class="delimiter">(</span><a href="#515049" title="Char">ch</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(text: String)String" id="467958">escape</a><span class="delimiter">(</span><a title="String" id="515055">text</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#515055" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">text</a> <span title="(f: Char =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[String,String,scala.collection.immutable.IndexedSeq[String]])scala.collection.immutable.IndexedSeq[String]">map</span> <span class="delimiter">{</span> <a title="Char" id="515500">ch</a> =&gt;
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#515500" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">ch</a>.<span title="=&gt; Boolean">isControl</span><span class="delimiter">)</span> <span title="String(&quot;\\0&quot;)" class="string">&quot;\\0&quot;</span> <span title="(x$1: Any)String">+</span> <span title="(x$1: Int)String">toOctalString</span><span class="delimiter">(</span><a href="#515500" title="=&gt; Int">ch</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#467957" title="(ch: Char)String">escapedChar</a><span class="delimiter">(</span><a href="#515500" title="Char">ch</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class Arrow extends Object with ScalaObject" id="467959">Arrow</a><a href="#467959" title="ScalaObject" class="delimiter">(</a><a title="Int" id="514576">code</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(str: String)(Int, ReplTokens.this.ReplToken)" id="514574">-&gt;</a><span class="delimiter">(</span><a title="String" id="514611">str</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="(Int, ReplTokens.this.ReplToken)" class="delimiter">(</span>Int, ReplToken<span class="delimiter">)</span>     = <span title="(_1: Int, _2: ReplTokens.this.Token)(Int, ReplTokens.this.Token)" class="delimiter">(</span><a href="#514576" title="Int">code</a>, <a href="#516787" title="(value: Int)(str: String)ReplTokens.this.Token">Token</a><span class="delimiter">(</span><a href="#514576" title="Int">code</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#514611" title="String">str</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)" id="514575">-&gt;</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="514598">tok</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span>: <span title="(Int, ReplTokens.this.ReplToken)" class="delimiter">(</span>Int, ReplToken<span class="delimiter">)</span>  = <span title="(_1: Int, _2: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)" class="delimiter">(</span><a href="#514576" title="Int">code</a>, <a href="#514598" title="ReplTokens.this.ReplToken">tok</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[Int,ReplTokens.this.ReplToken]" id="467960">symbolTokenMap</a> = <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow" id="514569">liftToken</a><span class="delimiter">(</span><a title="Int" id="514570">code</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#467959" title="ReplTokens.this.Arrow">Arrow</a> = <span title="ReplTokens.this.Arrow" class="keyword">new</span> <a href="#467959" title="ReplTokens.this.Arrow">Arrow</a><span class="delimiter">(</span><a href="#514570" title="Int">code</a><span class="delimiter">)</span>

    <span title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</span><span title="(elems: (Int, ReplTokens.this.ReplToken)*)scala.collection.immutable.Map[Int,ReplTokens.this.ReplToken]" class="delimiter">[</span><span title="Int">Int</span>, <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">]</span><span class="delimiter">(</span>
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">AT</a>         <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516068" title="object ReplTokens.this.At">At</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">CASECLASS</a>  <a href="#514574" title="(str: String)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <span title="String(&quot;case class&quot;)" class="string">&quot;case class&quot;</span>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">CASEOBJECT</a> <a href="#514574" title="(str: String)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <span title="String(&quot;case object&quot;)" class="string">&quot;case object&quot;</span>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">COLON</a>      <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516083" title="object ReplTokens.this.Colon">Colon</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">COMMA</a>      <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516098" title="object ReplTokens.this.Comma">Comma</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">DOT</a>        <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516113" title="object ReplTokens.this.Dot">Dot</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">EOF</a>        <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516128" title="object ReplTokens.this.Eof">Eof</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">ERROR</a>      <a href="#514574" title="(str: String)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <span title="String(&quot;&lt;error&gt;&quot;)" class="string">&quot;&lt;error&gt;&quot;</span>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">FALSE</a>      <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516159" title="object ReplTokens.this.False">False</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">IMPORT</a>     <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516174" title="object ReplTokens.this.Import">Import</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">LBRACE</a>     <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516189" title="object ReplTokens.this.LBrace">LBrace</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">LBRACKET</a>   <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516204" title="object ReplTokens.this.LBracket">LBracket</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">LPAREN</a>     <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516219" title="object ReplTokens.this.LParen">LParen</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">NEWLINE</a>    <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516237" title="object ReplTokens.this.Newline">Newline</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">NEWLINES</a>   <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516255" title="object ReplTokens.this.Newlines">Newlines</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">NULL</a>       <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516270" title="object ReplTokens.this.Null">Null</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">RBRACE</a>     <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516285" title="object ReplTokens.this.RBrace">RBrace</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">RBRACKET</a>   <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516300" title="object ReplTokens.this.RBracket">RBracket</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">RPAREN</a>     <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516315" title="object ReplTokens.this.RParen">RParen</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">SEMI</a>       <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516330" title="object ReplTokens.this.Semi">Semi</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">SUBTYPE</a>    <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516345" title="object ReplTokens.this.Subtype">Subtype</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">SUPERTYPE</a>  <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516360" title="object ReplTokens.this.Supertype">Supertype</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">TRUE</a>       <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516375" title="object ReplTokens.this.True">True</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">VIEWBOUND</a>  <a href="#514575" title="(tok: ReplTokens.this.ReplToken)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <a href="#516390" title="object ReplTokens.this.ViewBound">ViewBound</a>,
      <a href="#514569" title="implicit scala.tools.nsc.interpreter.ReplTokens.liftToken : (code: Int)ReplTokens.this.Arrow">XMLSTART</a>   <a href="#514574" title="(str: String)(Int, ReplTokens.this.ReplToken)">-&gt;</a> <span title="String(&quot;&lt;xmlstart&gt;&quot;)" class="string">&quot;&lt;xmlstart&gt;&quot;</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(t: ReplTokens.this.ReplToken)Boolean" id="467962">isAlphaId</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515541">t</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#515541" title="ReplTokens.this.ReplToken">t</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">Id</span><span class="delimiter">(</span><a title="String" id="515571">name</a><span class="delimiter">)</span> =&gt; <a href="#515571" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">name</a> <span title="(p: Char =&gt; Boolean)Boolean">forall</span> <span class="delimiter">(</span><a title="Char" id="515844">ch</a> =&gt; <a href="#515844" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">ch</a>.<span title="=&gt; Boolean">isDigit</span> <span title="(x: Boolean)Boolean">||</span> <a href="#515844" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">ch</a>.<span title="=&gt; Boolean">isLetter</span> <span title="(x: Boolean)Boolean">||</span> <a href="#515844" title="Char">ch</a> <span title="(x: Char)Boolean">==</span> <span title="Char('_')" class="char">'_'</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(t: ReplTokens.this.ReplToken)Boolean" id="467963">isOperatorId</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515853">t</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#515853" title="ReplTokens.this.ReplToken">t</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">Id</span><span class="delimiter">(</span><a title="String" id="515856">name</a><span class="delimiter">)</span> =&gt; <span title="=&gt; Boolean">!</span><a href="#467962" title="(t: ReplTokens.this.ReplToken)Boolean">isAlphaId</a><span class="delimiter">(</span><a href="#515853" title="ReplTokens.this.ReplToken">t</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>        =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ReplToken extends Object with ScalaObject" id="467964">ReplToken</a><a href="#467964" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="515860">tokenString</a>: <span title="String">String</span>, <span class="keyword">val</span> <a title="ReplTokens.this.Cozy" id="515861">cozy</a>: <a href="#467946" title="ReplTokens.this.Cozy">Cozy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(str: String)ReplTokens.this.ReplToken" id="514584" class="keyword">this</a><span class="delimiter">(</span><a title="String" id="515865">str</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#467964" title="ReplToken.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#515865" title="String">str</a>, <a href="#515006" title="object ReplTokens.this.|--*--|">|--*--|</a> <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="514585">insistsOnSpace</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="514586">cozyRight</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515876">other</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#515861" title="=&gt; ReplTokens.this.Cozy">cozy</a>.<a href="#514966" title="=&gt; Boolean">right</a> <span title="(x: Boolean)Boolean">||</span> <a href="#515876" title="ReplTokens.this.ReplToken">other</a>.<a href="#515861" title="=&gt; ReplTokens.this.Cozy">cozy</a>.<a href="#514965" title="=&gt; Boolean">left</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="514587">cozyLeft</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515879">other</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span>  = <span class="delimiter">(</span><a href="#515861" title="=&gt; ReplTokens.this.Cozy">cozy</a>.<a href="#514965" title="=&gt; Boolean">left</a> <span title="(x: Boolean)Boolean">||</span> <a href="#515879" title="ReplTokens.this.ReplToken">other</a>.<a href="#515861" title="=&gt; ReplTokens.this.Cozy">cozy</a>.<a href="#514966" title="=&gt; Boolean">right</a><span class="delimiter">)</span>

    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="514588">&lt;--?--&gt;</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515882">other</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="=&gt; Boolean">!</span><span class="delimiter">(</span><a href="#514585" title="=&gt; Boolean">insistsOnSpace</a> <span title="(x: Boolean)Boolean">||</span> <a href="#515882" title="ReplTokens.this.ReplToken">other</a>.<a href="#514585" title="=&gt; Boolean">insistsOnSpace</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span>
        <span class="delimiter">(</span><a href="#467964" title="ReplToken.this.type" class="keyword">this</a> <a href="#514586" title="(other: ReplTokens.this.ReplToken)Boolean">cozyRight</a> <a href="#515882" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span>
        <span class="delimiter">(</span><a href="#515882" title="ReplTokens.this.ReplToken">other</a> <a href="#514587" title="(other: ReplTokens.this.ReplToken)Boolean">cozyLeft</a> <a href="#467964" title="ReplTokens.this.ReplToken" class="keyword">this</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    // to show invisibles
    <span class="keyword">def</span> <a title="=&gt; String" id="514589">rawString</a> = <a href="#515860" title="=&gt; String">tokenString</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="514590">toString</a> = <span class="delimiter">(</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#467941" title="=&gt; Boolean">rawTokens</a><span class="delimiter">)</span> <a href="#514589" title="=&gt; String">rawString</a>
      <span class="keyword">else</span> <a href="#515860" title="=&gt; String">tokenString</a>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait InsistCozyRight extends ReplTokens.this.ReplToken with ScalaObject" id="467965">InsistCozyRight</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="514617">cozyRight</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515893">other</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait InsistCozyLeft extends ReplTokens.this.ReplToken with ScalaObject" id="467966">InsistCozyLeft</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="514673">cozyLeft</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515898">other</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait InsistCozy extends ReplTokens.this.ReplToken with ReplTokens.this.InsistCozyLeft with ReplTokens.this.InsistCozyRight" id="467967">InsistCozy</a> <span class="keyword">extends</span> <a href="#467966" title="ReplTokens.this.InsistCozyLeft">InsistCozyLeft</a> <span class="keyword">with</span> <a href="#467965" title="ReplTokens.this.InsistCozyRight">InsistCozyRight</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait InsistSpaced extends ReplTokens.this.ReplToken with ScalaObject" id="467968">InsistSpaced</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="514758">insistsOnSpace</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait CozyWithLetters extends ReplTokens.this.ReplToken with ScalaObject" id="467969">CozyWithLetters</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="515908">cozyRight</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515912">other</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#467962" title="(t: ReplTokens.this.ReplToken)Boolean">isAlphaId</a><span class="delimiter">(</span><a href="#515912" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#467969" title="ReplTokens.this.CozyWithLetters" class="keyword">super</a>.<a href="#514586" title="(other: ReplTokens.this.ReplToken)Boolean">cozyRight</a><span class="delimiter">(</span><a href="#515912" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="515909">cozyLeft</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515916">other</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#467962" title="(t: ReplTokens.this.ReplToken)Boolean">isAlphaId</a><span class="delimiter">(</span><a href="#515916" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#467969" title="ReplTokens.this.CozyWithLetters" class="keyword">super</a>.<a href="#514587" title="(other: ReplTokens.this.ReplToken)Boolean">cozyLeft</a><span class="delimiter">(</span><a href="#515916" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">trait</span> <a title="trait Brackets extends ReplTokens.this.ReplToken with ScalaObject" id="467970">Brackets</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: ReplTokens.this.ReplToken)Boolean" id="514774">isCozyToken</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515922">t</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span>    = <a href="#515922" title="ReplTokens.this.ReplToken">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#516204" title="object ReplTokens.this.LBracket">LBracket</a> <span title="(x: Boolean)Boolean">||</span> <a href="#515922" title="ReplTokens.this.ReplToken">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#516300" title="object ReplTokens.this.RBracket">RBracket</a> <span title="(x: Boolean)Boolean">||</span> <a href="#467962" title="(t: ReplTokens.this.ReplToken)Boolean">isAlphaId</a><span class="delimiter">(</span><a href="#515922" title="ReplTokens.this.ReplToken">t</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="514775">cozyRight</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515933">other</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#514774" title="(t: ReplTokens.this.ReplToken)Boolean">isCozyToken</a><span class="delimiter">(</span><a href="#515933" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#467970" title="ReplTokens.this.Brackets" class="keyword">super</a>.<a href="#514586" title="(other: ReplTokens.this.ReplToken)Boolean">cozyRight</a><span class="delimiter">(</span><a href="#515933" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: ReplTokens.this.ReplToken)Boolean" id="514776">cozyLeft</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="515937">other</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span>  = <a href="#514774" title="(t: ReplTokens.this.ReplToken)Boolean">isCozyToken</a><span class="delimiter">(</span><a href="#515937" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <a href="#467970" title="ReplTokens.this.Brackets" class="keyword">super</a>.<a href="#514587" title="(other: ReplTokens.this.ReplToken)Boolean">cozyLeft</a><span class="delimiter">(</span><a href="#515937" title="ReplTokens.this.ReplToken">other</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class Token extends ReplTokens.this.ReplToken with ScalaObject with Product with Serializable" id="516787">Token</a><a href="#514584" title="ScalaObject" class="delimiter">(</a><a title="Int" id="515530">value</a>: <span title="Int">Int</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String" id="515531">str</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><a href="#515531" title="String">str</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class Id extends ReplTokens.this.ReplToken with ScalaObject with Product with Serializable" id="516766">Id</a><a href="#514584" title="ScalaObject" class="delimiter">(</a><a title="String" id="516395">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><a href="#516395" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class Lit[T] extends ReplTokens.this.ReplToken with ScalaObject with Product with Serializable" id="516762">Lit</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="516403">T</a><span class="delimiter">]</span><a href="#514584" title="ScalaObject" class="delimiter">(</a><a title="T" id="516407">value</a>: <a href="#516403" title="T">T</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><a href="#516407" title="T">value</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="String" id="516023">s</a>: <span title="String">String</span>  =&gt; <span title="String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#516023" title="String">s</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span>
    <span class="keyword">case</span> <span title="String">_</span>          =&gt; <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#516407" title="T">value</a>
  <span class="delimiter">}</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#516061" title="object ReplTokens.this.At" id="516068">At</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;@&quot;)" class="string">&quot;@&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467965" title="ReplTokens.this.InsistCozyRight">InsistCozyRight</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#516076" title="object ReplTokens.this.Colon" id="516083">Colon</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;:&quot;)" class="string">&quot;:&quot;</span>, <a href="#515020" title="object ReplTokens.this.&lt;*--|">&lt;*--|</a><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#516091" title="object ReplTokens.this.Comma" id="516098">Comma</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <a href="#515020" title="object ReplTokens.this.&lt;*--|">&lt;*--|</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467966" title="ReplTokens.this.InsistCozyLeft">InsistCozyLeft</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#516106" title="object ReplTokens.this.Dot" id="516113">Dot</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;.&quot;)" class="string">&quot;.&quot;</span>, <a href="#515048" title="object ReplTokens.this.&lt;*&gt;">&lt;*&gt;</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467967" title="ReplTokens.this.InsistCozy">InsistCozy</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#516121" title="object ReplTokens.this.Eof" id="516128">Eof</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;EOF&quot;)" class="string">&quot;EOF&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#516137" title="object ReplTokens.this.ErrorToken" id="516144">ErrorToken</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;&lt;internal error&gt;&quot;)" class="string">&quot;&lt;internal error&gt;&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#516152" title="object ReplTokens.this.False" id="516159">False</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;false&quot;)" class="string">&quot;false&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#516167" title="object ReplTokens.this.Import" id="516174">Import</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;import&quot;)" class="string">&quot;import&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#516182" title="object ReplTokens.this.LBrace" id="516189">LBrace</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;{&quot;)" class="string">&quot;{&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467968" title="ReplTokens.this.InsistSpaced">InsistSpaced</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#516197" title="object ReplTokens.this.LBracket" id="516204">LBracket</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;[&quot;)" class="string">&quot;[&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467970" title="ReplTokens.this.Brackets">Brackets</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#516212" title="object ReplTokens.this.LParen" id="516219">LParen</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <a href="#515034" title="object ReplTokens.this.|--*&gt;">|--*&gt;</a><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#516230" title="object ReplTokens.this.Newline" id="516237">Newline</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span>, <a href="#515048" title="object ReplTokens.this.&lt;*&gt;">&lt;*&gt;</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467967" title="ReplTokens.this.InsistCozy">InsistCozy</a> <span class="delimiter">{</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="514805">rawString</a> = <span title="String(&quot;&lt;NL&gt;\n&quot;)" class="string">&quot;&lt;NL&gt;\n&quot;</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#516248" title="object ReplTokens.this.Newlines" id="516255">Newlines</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;\n\n&quot;)" class="string">&quot;\n\n&quot;</span>, <a href="#515048" title="object ReplTokens.this.&lt;*&gt;">&lt;*&gt;</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467967" title="ReplTokens.this.InsistCozy">InsistCozy</a> <span class="delimiter">{</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="514820">rawString</a> = <span title="String(&quot;&lt;NLS&gt;\n\n&quot;)" class="string">&quot;&lt;NLS&gt;\n\n&quot;</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#516263" title="object ReplTokens.this.Null" id="516270">Null</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;null&quot;)" class="string">&quot;null&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#516278" title="object ReplTokens.this.RBrace" id="516285">RBrace</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;}&quot;)" class="string">&quot;}&quot;</span>, <a href="#515034" title="object ReplTokens.this.|--*&gt;">|--*&gt;</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467968" title="ReplTokens.this.InsistSpaced">InsistSpaced</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#516293" title="object ReplTokens.this.RBracket" id="516300">RBracket</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467970" title="ReplTokens.this.Brackets">Brackets</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#516308" title="object ReplTokens.this.RParen" id="516315">RParen</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>, <a href="#515020" title="object ReplTokens.this.&lt;*--|">&lt;*--|</a><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#516323" title="object ReplTokens.this.Semi" id="516330">Semi</a> <span title="ScalaObject" class="keyword">extends</span> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;;&quot;)" class="string">&quot;;&quot;</span>, <a href="#515020" title="object ReplTokens.this.&lt;*--|">&lt;*--|</a><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#516338" title="object ReplTokens.this.Subtype" id="516345">Subtype</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;&lt;:&quot;)" class="string">&quot;&lt;:&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467968" title="ReplTokens.this.InsistSpaced">InsistSpaced</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#516353" title="object ReplTokens.this.Supertype" id="516360">Supertype</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;&gt;:&quot;)" class="string">&quot;&gt;:&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467968" title="ReplTokens.this.InsistSpaced">InsistSpaced</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  case <span class="keyword">object</span> <a href="#516368" title="object ReplTokens.this.True" id="516375">True</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;true&quot;)" class="string">&quot;true&quot;</span><span class="delimiter">)</span>
  case <span class="keyword">object</span> <a href="#516383" title="object ReplTokens.this.ViewBound" id="516390">ViewBound</a> <a href="#514584" title="ScalaObject" class="keyword">extends</a> <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">(</span><span title="String(&quot;&lt;%&quot;)" class="string">&quot;&lt;%&quot;</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#467968" title="ReplTokens.this.InsistSpaced">InsistSpaced</a> <span class="delimiter">{</span> <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class Tokenizer extends Object with ScalaObject" id="468025">Tokenizer</a><a href="#468025" title="ScalaObject" class="delimiter">(</a><a title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner" id="468125">in</a>: <a href="../ast/parser/Scanners.scala.html#232026" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">UnitScanner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tokenCode: Int)ReplTokens.this.ReplToken" id="468123">translate</a><span class="delimiter">(</span><a title="Int" id="516393">tokenCode</a>: <span title="Int">Int</span><span class="delimiter">)</span>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a> = <a href="#516393" title="Int">tokenCode</a> <span title="ReplTokens.this.ReplToken" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.Id">IDENTIFIER</span> | <span title="Int(11)">BACKQUOTED_IDENT</span> =&gt; <a href="#516766" title="(name: String)ReplTokens.this.Id">Id</a><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#468125" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#232426" title="=&gt; ReplTokens.this.global.syntaxAnalyzer.global.TermName">name</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.Lit[Long]">CHARLIT</span> | <span title="Int(2)">INTLIT</span> | <span title="Int(3)">LONGLIT</span>    =&gt; <a href="#516762" title="(value: Long)ReplTokens.this.Lit[Long]">Lit</a><span class="delimiter">(</span><a href="#468125" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#232367" title="=&gt; Long">intVal</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.Lit[Double]">DOUBLELIT</span> | <span title="Int(4)">FLOATLIT</span>          =&gt; <a href="#516762" title="(value: Double)ReplTokens.this.Lit[Double]">Lit</a><span class="delimiter">(</span><a href="#468125" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#232369" title="=&gt; Double">floatVal</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.Lit[String]">STRINGLIT</span>                     =&gt; <a href="#516762" title="(value: String)ReplTokens.this.Lit[String]">Lit</a><span class="delimiter">(</span><a href="#467958" title="(text: String)String">escape</a><span class="delimiter">(</span><a href="#468125" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#232429" title="=&gt; String">strVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.Lit[Symbol]">SYMBOLLIT</span>                     =&gt; <a href="#516762" title="(value: Symbol)ReplTokens.this.Lit[Symbol]">Lit</a><span class="delimiter">(</span>scala.<span title="(name: String)Symbol">Symbol</span><span class="delimiter">(</span><a href="#468125" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#232429" title="=&gt; String">strVal</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.ReplToken">_</span> =&gt;
        <a href="#467960" title="=&gt; scala.collection.immutable.Map[Int,ReplTokens.this.ReplToken]">symbolTokenMap</a>.<span title="(key: Int, default: =&gt; ReplTokens.this.ReplToken)ReplTokens.this.ReplToken">getOrElse</span><span class="delimiter">(</span>
          <a href="#516393" title="Int">tokenCode</a>,
          <a href="../ast/parser/Scanners.scala.html#232020" title="=&gt; scala.collection.immutable.Map[Int,ReplTokens.this.global.syntaxAnalyzer.global.Name]">token2name</a> <span title="(key: Int)Option[ReplTokens.this.global.syntaxAnalyzer.global.Name]">get</span> <a href="#516393" title="Int">tokenCode</a> <span title="ReplTokens.this.ReplToken" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="ReplTokens.this.Token">Some</span><span class="delimiter">(</span><a title="ReplTokens.this.global.syntaxAnalyzer.global.Name" id="516464">name</a><span class="delimiter">)</span> =&gt; <a href="#516787" title="(value: Int)(str: String)ReplTokens.this.Token">Token</a><span class="delimiter">(</span><a href="#516393" title="Int">tokenCode</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#516464" title="ReplTokens.this.global.syntaxAnalyzer.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="ReplTokens.this.Token">_</span>          =&gt; <a href="#516787" title="(value: Int)(str: String)ReplTokens.this.Token">Token</a><span class="delimiter">(</span><a href="#516393" title="Int">tokenCode</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="String(&quot;&lt;unknown: &quot;)" class="string">&quot;&lt;unknown: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#516393" title="Int">tokenCode</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Iterator[ReplTokens.this.ReplToken]" id="468124">tokenIterator</a>: <span title="Iterator[ReplTokens.this.ReplToken]">Iterator</span><span class="delimiter">[</span>ReplToken<span class="delimiter">]</span> = <span class="delimiter">(</span>
      <span title="=&gt; collection.Iterator.type">Iterator</span> <span title="(elem: =&gt; ReplTokens.this.ReplToken)Iterator[ReplTokens.this.ReplToken]">continually</span> <span class="delimiter">{</span>
        <span class="keyword">try</span> <a href="#468123" title="(tokenCode: Int)ReplTokens.this.ReplToken">translate</a><span class="delimiter">(</span><a href="#468125" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#232417" title="=&gt; Int">token</a><span class="delimiter">)</span>
        <span class="keyword">finally</span> <a href="#468125" title="ReplTokens.this.global.syntaxAnalyzer.UnitScanner">in</a>.<a href="../ast/parser/Scanners.scala.html#232345" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span title="(p: ReplTokens.this.ReplToken =&gt; Boolean)Iterator[ReplTokens.this.ReplToken]">takeWhile</span> <span class="delimiter">(</span><a href="#516472" title="ReplTokens.this.ReplToken">_</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#516128" title="object ReplTokens.this.Eof">Eof</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tokens: TraversableOnce[ReplTokens.this.ReplToken])Unit" id="468026">prettyPrintRaw</a><span class="delimiter">(</span><a title="TraversableOnce[ReplTokens.this.ReplToken]" id="516473">tokens</a>: <span title="TraversableOnce[ReplTokens.this.ReplToken]">TraversableOnce</span><span class="delimiter">[</span>ReplToken<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#467943" title="(body: =&gt; Unit)Unit">withRawTokens</a><span class="delimiter">(</span><a href="#468027" title="(tokens: TraversableOnce[ReplTokens.this.ReplToken])Unit">prettyPrint</a><span class="delimiter">(</span><a href="#516473" title="TraversableOnce[ReplTokens.this.ReplToken]">tokens</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tokens: TraversableOnce[ReplTokens.this.ReplToken])Unit" id="468027">prettyPrint</a><span class="delimiter">(</span><a title="TraversableOnce[ReplTokens.this.ReplToken]" id="485970">tokens</a>: <span title="TraversableOnce[ReplTokens.this.ReplToken]">TraversableOnce</span><span class="delimiter">[</span>ReplToken<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="ReplTokens.this.TokenPrinter" class="keyword">new</span> <a href="#468028" title="ReplTokens.this.TokenPrinter">TokenPrinter</a> <a href="#516489" title="(tokens: TraversableOnce[ReplTokens.this.ReplToken])Unit">prettyPrint</a> <a href="#485970" title="TraversableOnce[ReplTokens.this.ReplToken]">tokens</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class TokenPrinter extends Object with ScalaObject" id="468028">TokenPrinter</a> <a href="#468028" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">type</span> <a title="(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)" id="516479">TokenTriple</a> = <span title="(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)" class="delimiter">(</span>ReplToken, ReplToken, ReplToken<span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.util.Indenter" id="516480">writer</a> = <a href="../util/Indenter.scala.html#516509" title="()scala.tools.nsc.util.Indenter" class="keyword">new</a> <a href="../util/Indenter.scala.html#33730" title="scala.tools.nsc.util.Indenter">Indenter</a>
    <span class="keyword">var</span> <a title="List[ReplTokens.this.ReplToken]" id="516483">prev</a>: <span title="List[ReplTokens.this.ReplToken]">List</span><span class="delimiter">[</span>ReplToken<span class="delimiter">]</span> = <span title="object Nil">Nil</span>

    <span class="keyword">def</span> <a title="(t: ReplTokens.this.ReplToken)Boolean" id="516485">isIdentPart</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="516556">t</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#516556" title="ReplTokens.this.ReplToken">t</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#516113" title="Boolean(true)">Dot</a> | Id<span class="delimiter">(</span>_<span class="delimiter">)</span>  =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span>            =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; ReplTokens.this.ReplToken" id="516486">prevNonIdent</a> = <a href="#516483" title="=&gt; List[ReplTokens.this.ReplToken]">prev</a> <span title="(p: ReplTokens.this.ReplToken =&gt; Boolean)List[ReplTokens.this.ReplToken]">dropWhile</span> <a href="#516485" title="(t: ReplTokens.this.ReplToken)Boolean">isIdentPart</a> <span title="ReplTokens.this.ReplToken" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="ReplTokens.this.ErrorToken.type">Nil</span>    =&gt; <a href="#516144" title="object ReplTokens.this.ErrorToken">ErrorToken</a>
      <span class="keyword">case</span> <a title="ReplTokens.this.ReplToken" id="516577">t</a> :: _ =&gt; <a href="#516577" title="ReplTokens.this.ReplToken">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="516487">inImport</a> = <a href="#516486" title="=&gt; ReplTokens.this.ReplToken">prevNonIdent</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#516174" title="object ReplTokens.this.Import">Import</a>

    <span class="keyword">def</span> <a title="(left: ReplTokens.this.ReplToken, token: ReplTokens.this.ReplToken)Unit" id="516488">printToken</a><span class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="516586">left</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a>, <a title="ReplTokens.this.ReplToken" id="516587">token</a>: <a href="#467964" title="ReplTokens.this.ReplToken">ReplToken</a><span class="delimiter">)</span> = <a href="#516587" title="ReplTokens.this.ReplToken">token</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#516189" title="Unit">LBrace</a> =&gt;
        <a href="#516480" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#516540" title="(token: Any)Unit">openIndent</a> <span class="delimiter">(</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#516480" title="=&gt; scala.tools.nsc.util.Indenter">writer</a>.<a href="../util/Indenter.scala.html#516526" title="=&gt; Boolean">atStartOfLine</a><span class="delimiter">)</span> <a href="#516587" title="ReplTokens.this.ReplToken">token</a>
          <span class="keyword">else</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#516587" title="ReplTokens.this.ReplToken">token</a>
        <span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#516285" title="Unit">RBrace</a>             =&gt;
        <a href="#516480" title="=&gt; scala.tools.nsc.util.Indenter">writer</a>.<a href="../util/Indenter.scala.html#516541" title="(token: Any)Unit">closeIndent</a><span class="delimiter">(</span><a href="#516587" title="ReplTokens.this.ReplToken">token</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Unit" id="516597">tok</a> @ <span class="delimiter">(</span><a href="#516237" title="object ReplTokens.this.Newline">Newline</a> | <a href="#516255" title="object ReplTokens.this.Newlines">Newlines</a><span class="delimiter">)</span> =&gt;
        <a href="#516480" title="=&gt; scala.tools.nsc.util.Indenter">writer</a>.<a href="../util/Indenter.scala.html#516543" title="(endOfLine: Any)Unit">nextIndent</a><span class="delimiter">(</span><a href="#516597" title="ReplTokens.this.ReplToken">tok</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span>                  =&gt;
        <a href="#516480" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#516545" title="(x: Any)Unit">print</a> <span class="delimiter">(</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#516480" title="=&gt; scala.tools.nsc.util.Indenter">writer</a>.<a href="../util/Indenter.scala.html#516526" title="=&gt; Boolean">atStartOfLine</a><span class="delimiter">)</span> <a href="#516587" title="ReplTokens.this.ReplToken">token</a>
          <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#516586" title="ReplTokens.this.ReplToken">left</a> <a href="#514588" title="(other: ReplTokens.this.ReplToken)Boolean">&lt;--?--&gt;</a> <a href="#516587" title="ReplTokens.this.ReplToken">token</a><span class="delimiter">)</span> <a href="#516587" title="ReplTokens.this.ReplToken">token</a>
          <span class="keyword">else</span> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#516587" title="ReplTokens.this.ReplToken">token</a>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tokens: TraversableOnce[ReplTokens.this.ReplToken])Unit" id="516489">prettyPrint</a><span class="delimiter">(</span><a title="TraversableOnce[ReplTokens.this.ReplToken]" id="516499">tokens</a>: <span title="TraversableOnce[ReplTokens.this.ReplToken]">TraversableOnce</span><span class="delimiter">[</span>ReplToken<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]" id="516615">it</a> = <span title="(elems: ReplTokens.this.Newline.type*)Iterator[ReplTokens.this.Newline.type]">Iterator</span><span class="delimiter">(</span><a href="#516237" title="object ReplTokens.this.Newline">Newline</a><span class="delimiter">)</span> <span title="(that: =&gt; scala.collection.GenTraversableOnce[ReplTokens.this.ReplToken])Iterator[ReplTokens.this.ReplToken]">++</span> <a href="#516499" title="TraversableOnce[ReplTokens.this.ReplToken]">tokens</a>.<span title="=&gt; Iterator[ReplTokens.this.ReplToken]">toIterator</span> <a title="Iterator[ReplTokens.this.ReplToken]" id="516636">++</a> <span title="(elems: ReplTokens.this.Newline.type*)Iterator[ReplTokens.this.Newline.type]">Iterator</span><span class="delimiter">(</span><a href="#516237" title="object ReplTokens.this.Newline">Newline</a><span class="delimiter">)</span> <a href="#516636" title="Int" id="516640">sliding</a> <a title="Int(3)" id="516639" class="int">3</a> <span title="(f: Seq[ReplTokens.this.ReplToken] =&gt; (ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken))Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">map</span> <span class="delimiter">{</span> <a title="Seq[ReplTokens.this.ReplToken]" id="516645">x</a> =&gt;
        <span class="keyword">val</span> <a href="#516651" title="(x: List[A])Some[List[A]]">List</a><a href="#516647" title="(A, A, A)" class="delimiter">(</a><a href="#516646" title="A" id="516647">x1</a>, <a href="#516646" title="A" id="516648">x2</a>, <a href="#516646" title="A" id="516649">x3</a><span class="delimiter">)</span> = <a href="#516645" title="Seq[ReplTokens.this.ReplToken]">x</a>
        <span class="delimiter">(</span><span title="(_1: ReplTokens.this.ReplToken, _2: ReplTokens.this.ReplToken, _3: ReplTokens.this.ReplToken)(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)" class="delimiter">(</span><a href="#516647" title="ReplTokens.this.ReplToken">x1</a>, <a href="#516648" title="ReplTokens.this.ReplToken">x2</a>, <a href="#516649" title="ReplTokens.this.ReplToken">x3</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#516490" title="(it: Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)])Unit">prettyPrint</a><span class="delimiter">(</span><a href="#516615" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(it: Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)])Unit" id="516490">prettyPrint</a><span class="delimiter">(</span><a title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]" id="516493">it</a>: <span title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">Iterator</span><span class="delimiter">[</span>TokenTriple<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#516493" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <a href="#516493" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="()(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)">next</span> <a href="#516702" title="Unit" class="keyword">match</a> <span class="delimiter">{</span>
        // special casing to avoid newline on empty blocks
        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="516706">left</a>, <a href="#516189" title="object ReplTokens.this.LBrace">LBrace</a>, <a href="#516285" title="object ReplTokens.this.RBrace">RBrace</a><span class="delimiter">)</span>        =&gt;
          <a href="#516493" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="()(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)">next</span>
          <a href="#516480" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#516545" title="(x: Any)Unit">print</a> <span title="String(&quot; { }&quot;)" class="string">&quot; { }&quot;</span>
        // special casing to avoid newlines on import x.{ y, z, q }
        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="516710">left</a>, <a href="#516189" title="object ReplTokens.this.LBrace">LBrace</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#516487" title="=&gt; Boolean">inImport</a> =&gt;
          <a href="#516480" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#516545" title="(x: Any)Unit">print</a> <a href="#516189" title="object ReplTokens.this.LBrace">LBrace</a>
          <span class="keyword">def</span> <a title="()Unit" id="516711">loop</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#516493" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a href="#516716" title="ReplTokens.this.ReplToken" id="516712" class="delimiter">(</a>_, <a title="ReplTokens.this.ReplToken" id="516716">tok</a>, _<span class="delimiter">)</span> = <a href="#516493" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="()(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)">next</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#516712" title="ReplTokens.this.ReplToken">tok</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#516098" title="object ReplTokens.this.Comma">Comma</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#516480" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#516545" title="(x: Any)Unit">print</a> <span title="String(&quot; &quot;)" class="string">&quot; &quot;</span>
              <span class="delimiter">}</span>
              <a href="#516480" title="=&gt; scala.tools.nsc.util.Indenter">writer</a> <a href="../util/Indenter.scala.html#516545" title="(x: Any)Unit">print</a> <a href="#516712" title="ReplTokens.this.ReplToken">tok</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#516712" title="ReplTokens.this.ReplToken">tok</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#516285" title="object ReplTokens.this.RBrace">RBrace</a><span class="delimiter">)</span>
                <a href="#516711" title="()Unit">loop</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#516711" title="()Unit">loop</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="ReplTokens.this.ReplToken" id="516728">left</a>, <a title="ReplTokens.this.ReplToken" id="516729">token</a>, <a title="ReplTokens.this.ReplToken" id="516730">right</a><span class="delimiter">)</span> =&gt;
          <a href="#516488" title="(left: ReplTokens.this.ReplToken, token: ReplTokens.this.ReplToken)Unit">printToken</a><span class="delimiter">(</span><a href="#516728" title="ReplTokens.this.ReplToken">left</a>, <a href="#516729" title="ReplTokens.this.ReplToken">token</a><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#516493" title="Iterator[(ReplTokens.this.ReplToken, ReplTokens.this.ReplToken, ReplTokens.this.ReplToken)]">it</a>.<span title="=&gt; Boolean">hasNext</span><span class="delimiter">)</span> <a href="#516483" title="(x$1: List[ReplTokens.this.ReplToken])Unit">prev</a> <span title="(x: ReplTokens.this.ReplToken)List[ReplTokens.this.ReplToken]">::=</span> <a href="#516729" title="ReplTokens.this.ReplToken">token</a>
          <span class="keyword">else</span> <a href="#516488" title="(left: ReplTokens.this.ReplToken, token: ReplTokens.this.ReplToken)Unit">printToken</a><span class="delimiter">(</span><a href="#516729" title="ReplTokens.this.ReplToken">token</a>, <a href="#516730" title="ReplTokens.this.ReplToken">right</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>