<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/io/File.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2011, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */


<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> io

<span class="keyword">import</span> java.io.<span class="delimiter">{</span>
  FileInputStream, FileOutputStream, BufferedReader, BufferedWriter, InputStreamReader, OutputStreamWriter,
  BufferedInputStream, BufferedOutputStream, IOException, PrintStream, PrintWriter, Closeable =&gt; JCloseable <span class="delimiter">}</span>
<span class="keyword">import</span> java.nio.channels.<span class="delimiter">{</span> Channel, FileChannel <span class="delimiter">}</span>
<span class="keyword">import</span> scala.io.Codec

<span class="keyword">object</span> <a title="object scala.tools.nsc.io.File" id="24972">File</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="191057">pathSeparator</a> = java.io.<span title="object java.io.File">File</span>.<span title="String">pathSeparator</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="191058">separator</a> = java.io.<span title="object java.io.File">File</span>.<span title="String">separator</span>

  <span class="keyword">def</span> <a title="(path: scala.tools.nsc.io.Path)(implicit codec: scala.io.Codec)scala.tools.nsc.io.File" id="191059">apply</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="198215">path</a>: <a href="Path.scala.html#24683" title="scala.tools.nsc.io.Path">Path</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.io.Codec" id="198216">codec</a>: <span title="scala.io.Codec">Codec</span><span class="delimiter">)</span> = <span title="scala.tools.nsc.io.File" class="keyword">new</span> <a href="#24971" title="scala.tools.nsc.io.File">File</a><span class="delimiter">(</span><a href="#198215" title="scala.tools.nsc.io.Path">path</a>.<a href="Path.scala.html#190927" title="=&gt; scala.tools.nsc.io.JFile">jfile</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#198216" title="scala.io.Codec">codec</a><span class="delimiter">)</span>

  // Create a temporary file, which will be deleted upon jvm exit.
  <span class="keyword">def</span> <a title="(prefix: String, suffix: String, dir: scala.tools.nsc.io.JFile)scala.tools.nsc.io.File" id="191060">makeTemp</a><span class="delimiter">(</span><a title="String" id="199083">prefix</a>: <span title="String">String</span> = <a href="Path.scala.html#24684" title="object scala.tools.nsc.io.Path">Path</a>.<a href="Path.scala.html#191079" title="=&gt; String">randomPrefix</a>, <a title="String" id="199084">suffix</a>: <span title="String">String</span> = <span title="Null(null)" class="keyword">null</span>, <a title="scala.tools.nsc.io.JFile" id="199085">dir</a>: <span title="scala.tools.nsc.io.JFile">JFile</span> = <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.File" id="199086">jfile</a> = java.io.<span title="object java.io.File">File</span>.<span title="(x$1: String, x$2: String, x$3: java.io.File)java.io.File">createTempFile</span><span class="delimiter">(</span><a href="#199083" title="String">prefix</a>, <a href="#199084" title="String">suffix</a>, <a href="#199085" title="scala.tools.nsc.io.JFile">dir</a><span class="delimiter">)</span>
    <a href="#199086" title="java.io.File">jfile</a>.<span title="()Unit">deleteOnExit</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#191059" title="(path: scala.tools.nsc.io.Path)(implicit codec: scala.io.Codec)scala.tools.nsc.io.File">apply</a><span title="=&gt; scala.io.Codec" class="delimiter">(</span><a href="Path.scala.html#191070" title="implicit scala.tools.nsc.io.Path.jfile2path : (jfile: scala.tools.nsc.io.JFile)scala.tools.nsc.io.Path">jfile</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">type</span> <a title="File extends AnyRef" id="191061">HasClose</a> = <a href="#522306" title="File extends AnyRef" class="delimiter">{</a> <span class="keyword">def</span> close<span class="delimiter">(</span><span class="delimiter">)</span>: Unit <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(target: scala.tools.nsc.io.File.HasClose)Unit" id="191062">closeQuietly</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.File.HasClose" id="522308">target</a>: <a href="#522306" title="scala.tools.nsc.io.File.HasClose">HasClose</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">try</span> <a href="#522308" title="scala.tools.nsc.io.File.HasClose">target</a>.<a href="#522307" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Unit" id="522310">e</a>: <span title="java.io.IOException">IOException</span> =&gt; <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(target: java.io.Closeable)Unit" id="191063">closeQuietly</a><span class="delimiter">(</span><a title="java.io.Closeable" id="522311">target</a>: <span title="java.io.Closeable">JCloseable</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">try</span> <a href="#522311" title="java.io.Closeable">target</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Unit" id="522313">e</a>: <span title="java.io.IOException">IOException</span> =&gt; <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  // this is a workaround for http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6503430
  // we are using a static initializer to statically initialize a java class so we don't
  // trigger java.lang.InternalErrors later when using it concurrently.  We ignore all
  // the exceptions so as not to cause spurious failures when no write access is available,
  // e.g. google app engine.
  //
  // XXX need to put this behind a setting.
  //
  // try {
  //   import Streamable.closing
  //   val tmp = java.io.File.createTempFile(&quot;bug6503430&quot;, null, null)
  //   try closing(new FileInputStream(tmp)) { in =&gt;
  //     val inc = in.getChannel()
  //     closing(new FileOutputStream(tmp, true)) { out =&gt;
  //       out.getChannel().transferFrom(inc, 0, 0)
  //     }
  //   }
  //   finally tmp.delete()
  // }
  // catch {
  //   case _: IllegalArgumentException | _: IllegalStateException | _: IOException | _: SecurityException =&gt; ()
  // }
<span class="delimiter">}</span>
<span class="keyword">import</span> <a href="#24972" title="object scala.tools.nsc.io.File">File</a>._
<span class="keyword">import</span> <a href="Path.scala.html#24684" title="object scala.tools.nsc.io.Path">Path</a>._

/** An abstraction for files.  For character data, a Codec
 *  can be supplied at either creation time or when a method
 *  involving character data is called (with the latter taking
 *  precedence if supplied.) If neither is available, the value
 *  of scala.io.Codec.default is used.
 *
 *  @author  Paul Phillips
 *  @since   2.8
 */
<span class="keyword">class</span> <a title="class File extends scala.tools.nsc.io.Path with scala.tools.nsc.io.Streamable.Chars with ScalaObject" id="24971">File</a><a href="#24971" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.io.JFile" id="198219">jfile</a>: <span title="scala.tools.nsc.io.JFile">JFile</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.io.Codec" id="198220">constructorCodec</a>: <span title="scala.io.Codec">Codec</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Path.scala.html#24683" title="scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="#198219" title="scala.tools.nsc.io.JFile">jfile</a><span class="delimiter">)</span> <span class="keyword">with</span> Streamable.<a href="Streamable.scala.html#190917" title="scala.tools.nsc.io.Streamable.Chars">Chars</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="scala.io.Codec" id="191000">creationCodec</a> = <a href="#198220" title="scala.io.Codec">constructorCodec</a>
  <span class="keyword">def</span> <a title="(codec: scala.io.Codec)scala.tools.nsc.io.File" id="191002">withCodec</a><span class="delimiter">(</span><a title="scala.io.Codec" id="522317">codec</a>: <span title="scala.io.Codec">Codec</span><span class="delimiter">)</span>: <a href="#24971" title="scala.tools.nsc.io.File">File</a> = <span title="scala.tools.nsc.io.File" class="keyword">new</span> <a href="#24971" title="scala.tools.nsc.io.File">File</a><span class="delimiter">(</span><a href="#198219" title="scala.tools.nsc.io.JFile">jfile</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#522317" title="scala.io.Codec">codec</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ext: String)scala.tools.nsc.io.File" id="191003">addExtension</a><span class="delimiter">(</span><a title="String" id="522319">ext</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#24971" title="scala.tools.nsc.io.File">File</a> = <a href="#24971" title="scala.tools.nsc.io.File" class="keyword">super</a>.<a href="Path.scala.html#190960" title="(ext: String)scala.tools.nsc.io.Path">addExtension</a><span class="delimiter">(</span><a href="#522319" title="String">ext</a><span class="delimiter">)</span>.<a href="Path.scala.html#190935" title="=&gt; scala.tools.nsc.io.File">toFile</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.File" id="191004">toAbsolute</a>: <a href="#24971" title="scala.tools.nsc.io.File">File</a> = <span title="scala.tools.nsc.io.File" class="keyword">if</span> <span class="delimiter">(</span><a href="Path.scala.html#190974" title="=&gt; Boolean">isAbsolute</a><span class="delimiter">)</span> <a href="#24971" title="scala.tools.nsc.io.File" class="keyword">this</a> <span class="keyword">else</span> <a href="#24971" title="scala.tools.nsc.io.File" class="keyword">super</a>.<a href="Path.scala.html#190937" title="=&gt; scala.tools.nsc.io.Path">toAbsolute</a>.<a href="Path.scala.html#190935" title="=&gt; scala.tools.nsc.io.File">toFile</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.Directory" id="191005">toDirectory</a>: <a href="Directory.scala.html#24422" title="scala.tools.nsc.io.Directory">Directory</a> = <span title="scala.tools.nsc.io.Directory" class="keyword">new</span> <a href="Directory.scala.html#24422" title="scala.tools.nsc.io.Directory">Directory</a><span class="delimiter">(</span><a href="#198219" title="scala.tools.nsc.io.JFile">jfile</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.File" id="191006">toFile</a>: <a href="#24971" title="scala.tools.nsc.io.File">File</a> = <a href="#24971" title="scala.tools.nsc.io.File" class="keyword">this</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.File" id="191007">normalize</a>: <a href="#24971" title="scala.tools.nsc.io.File">File</a> = <a href="#24971" title="scala.tools.nsc.io.File" class="keyword">super</a>.<a href="Path.scala.html#190949" title="=&gt; scala.tools.nsc.io.Path">normalize</a>.<a href="Path.scala.html#190935" title="=&gt; scala.tools.nsc.io.File">toFile</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="191008">isValid</a> = <a href="#198219" title="scala.tools.nsc.io.JFile">jfile</a>.<span title="()Boolean">isFile</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span title="=&gt; Boolean">!</span><a href="#198219" title="scala.tools.nsc.io.JFile">jfile</a>.<span title="()Boolean">exists</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="191009">length</a> = <a href="#24971" title="scala.tools.nsc.io.File" class="keyword">super</a><span class="delimiter">[</span>Path<span class="delimiter">]</span>.<a href="Path.scala.html#190979" title="=&gt; Long">length</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(cond: scala.tools.nsc.io.Path =&gt; Boolean)Iterator[scala.tools.nsc.io.Path]" id="191010">walkFilter</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Path =&gt; Boolean" id="522333">cond</a>: Path =&gt; Boolean<span class="delimiter">)</span>: <span title="Iterator[scala.tools.nsc.io.Path]">Iterator</span><span class="delimiter">[</span>Path<span class="delimiter">]</span> =
    <span title="Iterator[scala.tools.nsc.io.Path]" class="keyword">if</span> <span class="delimiter">(</span><a href="#522333" title="(v1: scala.tools.nsc.io.Path)Boolean">cond</a><span class="delimiter">(</span><a href="#24971" title="scala.tools.nsc.io.File" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="=&gt; collection.Iterator.type">Iterator</span>.<span title="(elem: scala.tools.nsc.io.File)Iterator[scala.tools.nsc.io.File]">single</span><span class="delimiter">(</span><a href="#24971" title="scala.tools.nsc.io.File" class="keyword">this</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="=&gt; collection.Iterator.type">Iterator</span>.<span title="=&gt; Iterator[Nothing]">empty</span>

  /** Obtains an InputStream. */
  <span class="keyword">def</span> <a title="()java.io.FileInputStream" id="191011">inputStream</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="(x$1: java.io.File)java.io.FileInputStream" class="keyword">new</span> <span title="java.io.FileInputStream">FileInputStream</span><span class="delimiter">(</span><a href="#198219" title="scala.tools.nsc.io.JFile">jfile</a><span class="delimiter">)</span>

  /** Obtains a OutputStream. */
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.FileOutputStream" id="191012">outputStream</a><span class="delimiter">(</span><a title="Boolean" id="234978">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span title="(x$1: java.io.File, x$2: Boolean)java.io.FileOutputStream" class="keyword">new</span> <span title="java.io.FileOutputStream">FileOutputStream</span><span class="delimiter">(</span><a href="#198219" title="scala.tools.nsc.io.JFile">jfile</a>, <a href="#234978" title="Boolean">append</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.BufferedOutputStream" id="191013">bufferedOutput</a><span class="delimiter">(</span><a title="Boolean" id="234972">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span title="java.io.BufferedOutputStream" class="keyword">new</span> <span title="java.io.BufferedOutputStream">BufferedOutputStream</span><span class="delimiter">(</span><a href="#191012" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><a href="#234972" title="Boolean">append</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.PrintStream" id="191014">printStream</a><span class="delimiter">(</span><a title="Boolean" id="522342">append</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span title="(x$1: java.io.OutputStream, x$2: Boolean)java.io.PrintStream" class="keyword">new</span> <span title="java.io.PrintStream">PrintStream</span><span class="delimiter">(</span><a href="#191012" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><a href="#522342" title="Boolean">append</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  /** Obtains an OutputStreamWriter wrapped around a FileOutputStream.
   *  This should behave like a less broken version of java.io.FileWriter,
   *  in that unlike the java version you can specify the encoding.
   */
  <span class="keyword">def</span> <a title="()java.io.OutputStreamWriter" id="191015">writer</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="java.io.OutputStreamWriter">OutputStreamWriter</span> = <a href="#191016" title="(append: Boolean)java.io.OutputStreamWriter">writer</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.OutputStreamWriter" id="191016">writer</a><span class="delimiter">(</span><a title="Boolean" id="522355">append</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="java.io.OutputStreamWriter">OutputStreamWriter</span> = <a href="#191017" title="(append: Boolean, codec: scala.io.Codec)java.io.OutputStreamWriter">writer</a><span class="delimiter">(</span><a href="#522355" title="Boolean">append</a>, <a href="#191000" title="=&gt; scala.io.Codec">creationCodec</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean, codec: scala.io.Codec)java.io.OutputStreamWriter" id="191017">writer</a><span class="delimiter">(</span><a title="Boolean" id="522352">append</a>: <span title="Boolean">Boolean</span>, <a title="scala.io.Codec" id="522353">codec</a>: <span title="scala.io.Codec">Codec</span><span class="delimiter">)</span>: <span title="java.io.OutputStreamWriter">OutputStreamWriter</span> =
    <span title="(x$1: java.io.OutputStream, x$2: java.nio.charset.Charset)java.io.OutputStreamWriter" class="keyword">new</span> <span title="java.io.OutputStreamWriter">OutputStreamWriter</span><span class="delimiter">(</span><a href="#191012" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><a href="#522352" title="Boolean">append</a><span class="delimiter">)</span>, <a href="#522353" title="scala.io.Codec">codec</a>.<span title="=&gt; java.nio.charset.Charset">charSet</span><span class="delimiter">)</span>

  /** Wraps a BufferedWriter around the result of writer().
   */
  <span class="keyword">def</span> <a title="()java.io.BufferedWriter" id="191018">bufferedWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="java.io.BufferedWriter">BufferedWriter</span> = <a href="#191019" title="(append: Boolean)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.BufferedWriter" id="191019">bufferedWriter</a><span class="delimiter">(</span><a title="Boolean" id="522377">append</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="java.io.BufferedWriter">BufferedWriter</span> = <a href="#191020" title="(append: Boolean, codec: scala.io.Codec)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><a href="#522377" title="Boolean">append</a>, <a href="#191000" title="=&gt; scala.io.Codec">creationCodec</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean, codec: scala.io.Codec)java.io.BufferedWriter" id="191020">bufferedWriter</a><span class="delimiter">(</span><a title="Boolean" id="522374">append</a>: <span title="Boolean">Boolean</span>, <a title="scala.io.Codec" id="522375">codec</a>: <span title="scala.io.Codec">Codec</span><span class="delimiter">)</span>: <span title="java.io.BufferedWriter">BufferedWriter</span> =
    <span title="java.io.BufferedWriter" class="keyword">new</span> <span title="java.io.BufferedWriter">BufferedWriter</span><span class="delimiter">(</span><a href="#191017" title="(append: Boolean, codec: scala.io.Codec)java.io.OutputStreamWriter">writer</a><span class="delimiter">(</span><a href="#522374" title="Boolean">append</a>, <a href="#522375" title="scala.io.Codec">codec</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()java.io.PrintWriter" id="191021">printWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="java.io.PrintWriter">PrintWriter</span> = <span title="(x$1: java.io.Writer, x$2: Boolean)java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><a href="#191018" title="()java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.PrintWriter" id="191022">printWriter</a><span class="delimiter">(</span><a title="Boolean" id="356350">append</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span>: <span title="java.io.PrintWriter">PrintWriter</span> = <span title="(x$1: java.io.Writer, x$2: Boolean)java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><a href="#191019" title="(append: Boolean)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><a href="#356350" title="Boolean">append</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  /** Creates a new file and writes all the Strings to it. */
  <span class="keyword">def</span> <a title="(strings: String*)Unit" id="191023">writeAll</a><span class="delimiter">(</span><a title="String*" id="199191">strings</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.BufferedWriter" id="522405">out</a> = <a href="#191018" title="()java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#199191" title="String*">strings</a> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#522405" title="java.io.BufferedWriter">out</a> <span title="(x$1: String)Unit">write</span> <a href="#522426" title="String">_</a><span class="delimiter">)</span>
    <span class="keyword">finally</span> <a href="#522405" title="java.io.BufferedWriter">out</a> <span title="()Unit">close</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(bytes: Array[Byte])Unit" id="191024">writeBytes</a><span class="delimiter">(</span><a title="Array[Byte]" id="522432">bytes</a>: <span title="Array[Byte]">Array</span><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.BufferedOutputStream" id="522434">out</a> = <a href="#191013" title="(append: Boolean)java.io.BufferedOutputStream">bufferedOutput</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#522434" title="java.io.BufferedOutputStream">out</a> <span title="(x$1: Array[Byte])Unit">write</span> <a href="#522432" title="Array[Byte]">bytes</a>
    <span class="keyword">finally</span> <a href="#522434" title="java.io.BufferedOutputStream">out</a> <span title="()Unit">close</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(strings: String*)Unit" id="191025">appendAll</a><span class="delimiter">(</span><a title="String*" id="520068">strings</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.BufferedWriter" id="522439">out</a> = <a href="#191019" title="(append: Boolean)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span>append = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#520068" title="String*">strings</a> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#522439" title="java.io.BufferedWriter">out</a> <span title="(x$1: String)Unit">write</span> <a href="#522460" title="String">_</a><span class="delimiter">)</span>
    <span class="keyword">finally</span> <a href="#522439" title="java.io.BufferedWriter">out</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  /** Calls println on each string (so it adds a newline in the PrintWriter fashion.) */
  <span class="keyword">def</span> <a title="(strings: String*)Unit" id="191026">printlnAll</a><span class="delimiter">(</span><a title="String*" id="522466">strings</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.PrintWriter" id="522468">out</a> = <a href="#191021" title="()java.io.PrintWriter">printWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#522466" title="String*">strings</a> <span title="(f: String =&gt; Unit)Unit">foreach</span> <span class="delimiter">(</span><a href="#522468" title="java.io.PrintWriter">out</a> <span title="(x$1: String)Unit">println</span> <a href="#522489" title="String">_</a><span class="delimiter">)</span>
    <span class="keyword">finally</span> <a href="#522468" title="java.io.PrintWriter">out</a> <span title="()Unit">close</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Option[String]" id="191027">safeSlurp</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="keyword">try</span> <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="Streamable.scala.html#191050" title="()String">slurp</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="None.type">_</span>: <span title="java.io.IOException">IOException</span> =&gt; <span title="object None">None</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(destPath: scala.tools.nsc.io.Path, preserveFileDate: Boolean)Boolean" id="191028">copyTo</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="522502">destPath</a>: <a href="Path.scala.html#24683" title="scala.tools.nsc.io.Path">Path</a>, <a title="Boolean" id="522505">preserveFileDate</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="522506">CHUNK</a> = <span class="int">1024</span> * <span class="int">1024</span> <span title="Int(16777216)">*</span> <span class="int">16</span>  // 16 MB
    <span class="keyword">val</span> <a title="scala.tools.nsc.io.File" id="522507">dest</a> = <a href="#522502" title="scala.tools.nsc.io.Path">destPath</a>.<a href="Path.scala.html#190935" title="=&gt; scala.tools.nsc.io.File">toFile</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#191008" title="=&gt; Boolean">isValid</a><span class="delimiter">)</span> <a href="Path.scala.html#191080" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Source %s is not a valid file.&quot;</span> <span title="(args: Any*)String">format</span> <a href="Path.scala.html#190947" title="=&gt; String">name</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#24971" title="File.this.type" class="keyword">this</a>.<a href="#191007" title="=&gt; scala.tools.nsc.io.File">normalize</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#522507" title="scala.tools.nsc.io.File">dest</a>.<a href="#191007" title="=&gt; scala.tools.nsc.io.File">normalize</a><span class="delimiter">)</span> <a href="Path.scala.html#191080" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="String(&quot;Source and destination are the same.&quot;)" class="string">&quot;Source and destination are the same.&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#522507" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#190955" title="=&gt; scala.tools.nsc.io.Directory">parent</a>.<a href="Path.scala.html#190970" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <a href="Path.scala.html#191080" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="String(&quot;Destination cannot be created.&quot;)" class="string">&quot;Destination cannot be created.&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#522507" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#190970" title="=&gt; Boolean">exists</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#522507" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#190969" title="=&gt; Boolean">canWrite</a><span class="delimiter">)</span> <a href="Path.scala.html#191080" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="String(&quot;Destination exists but is not writable.&quot;)" class="string">&quot;Destination exists but is not writable.&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#522507" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#190973" title="=&gt; Boolean">isDirectory</a><span class="delimiter">)</span> <a href="Path.scala.html#191080" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="String(&quot;Destination exists but is a directory.&quot;)" class="string">&quot;Destination exists but is a directory.&quot;</span><span class="delimiter">)</span>

    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.FileInputStream" id="522509">in_s</a> = <a href="#191011" title="()java.io.FileInputStream">inputStream</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.FileOutputStream" id="522511">out_s</a> = <a href="#522507" title="scala.tools.nsc.io.File">dest</a>.<a href="#191012" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.nio.channels.FileChannel" id="522513">in</a> = <a href="#522508" title="=&gt; java.io.FileInputStream">in_s</a>.<span title="()java.nio.channels.FileChannel">getChannel</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.nio.channels.FileChannel" id="522515">out</a> = <a href="#522510" title="=&gt; java.io.FileOutputStream">out_s</a>.<span title="()java.nio.channels.FileChannel">getChannel</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Long" id="522548">size</a> = <a href="#522512" title="=&gt; java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Long" id="522549">pos</a>, <a title="Long" id="522550">count</a> = <span title="Long(0L)" class="long">0L</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#522549" title="Long">pos</a> <span title="(x: Long)Boolean">&lt;</span> <a href="#522548" title="Long">size</a><span class="delimiter">)</span> <a href="#522551" title="()Unit" class="delimiter">{</a>
        <a href="#522550" title="Long">count</a> = <span class="delimiter">(</span><a href="#522548" title="Long">size</a> <span title="implicit scala.LowPriorityImplicits.longWrapper : (x: Long)scala.runtime.RichLong">-</span> <a href="#522549" title="Long">pos</a><span class="delimiter">)</span> <span title="(that: Long)Long">min</span> <a href="#522506" title="=&gt; Long">CHUNK</a>
        <a href="#522549" title="Long">pos</a> <span title="(x: Long)Long">+=</span> <a href="#522514" title="=&gt; java.nio.channels.FileChannel">out</a>.<span title="(x$1: java.nio.channels.ReadableByteChannel, x$2: Long, x$3: Long)Long">transferFrom</span><span class="delimiter">(</span><a href="#522512" title="=&gt; java.nio.channels.FileChannel">in</a>, <a href="#522549" title="Long">pos</a>, <a href="#522550" title="Long">count</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">finally</span> <span title="[A](xs: A*)List[A]">List</span><span title="(xs: scala.tools.nsc.io.File.HasClose*)List[scala.tools.nsc.io.File.HasClose]" class="delimiter">[</span><a href="#522306" title="scala.tools.nsc.io.File.HasClose">HasClose</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#522514" title="=&gt; java.nio.channels.FileChannel">out</a>, <a href="#522510" title="=&gt; java.io.FileOutputStream">out_s</a>, <a href="#522512" title="=&gt; java.nio.channels.FileChannel">in</a>, <a href="#522508" title="=&gt; java.io.FileInputStream">in_s</a><span class="delimiter">)</span> <span title="(f: scala.tools.nsc.io.File.HasClose =&gt; Unit)Unit">foreach</span> <a href="#191062" title="(target: scala.tools.nsc.io.File.HasClose)Unit">closeQuietly</a>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#24971" title="File.this.type" class="keyword">this</a>.<a href="#191009" title="=&gt; Long">length</a> <span title="(x: Long)Boolean">!=</span> <a href="#522507" title="scala.tools.nsc.io.File">dest</a>.<a href="#191009" title="=&gt; Long">length</a><span class="delimiter">)</span>
      <a href="Path.scala.html#191080" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Failed to completely copy %s to %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="Path.scala.html#190947" title="=&gt; String">name</a>, <a href="#522507" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#190947" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#522505" title="Boolean">preserveFileDate</a><span class="delimiter">)</span>
      <a href="#522507" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#190978" title="(time: Long)Boolean">lastModified</a> = <a href="#24971" title="File.this.type" class="keyword">this</a>.<a href="Path.scala.html#190977" title="=&gt; Long">lastModified</a>

    <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  /** Reflection since we're into the java 6+ API.
   */
  <span class="keyword">def</span> <a title="(executable: Boolean, ownerOnly: Boolean)Boolean" id="191029">setExecutable</a><span class="delimiter">(</span><a title="Boolean" id="224591">executable</a>: <span title="Boolean">Boolean</span>, <a title="Boolean" id="224594">ownerOnly</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> = <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="Boolean" id="522679">JBoolean</a> = java.lang.<span title="Boolean">Boolean</span>
    <span class="keyword">val</span> <a title="java.lang.reflect.Method" id="522680">method</a> =
      <span class="keyword">try</span> classOf<span title="Class[scala.tools.nsc.io.JFile](classOf[java.io.File])" class="delimiter">[</span>JFile<span class="delimiter">]</span>.<span title="(x$1: String, x$2: &lt;repeated...&gt;[Class[_]])java.lang.reflect.Method">getMethod</span><span class="delimiter">(</span><span title="String(&quot;setExecutable&quot;)" class="string">&quot;setExecutable&quot;</span>, classOf<span title="Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>Boolean<span class="delimiter">]</span>, classOf<span title="Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Nothing">_</span>: <span title="NoSuchMethodException">NoSuchMethodException</span> =&gt; <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>

    <span class="keyword">try</span> <a href="#522680" title="java.lang.reflect.Method">method</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[Object])Object">invoke</span><span class="delimiter">(</span><a href="#198219" title="scala.tools.nsc.io.JFile">jfile</a>, <a href="#224591" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">executable</a>: <span title="JBoolean">JBoolean</span>, <a href="#224594" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)Boolean">ownerOnly</a>: <span title="JBoolean">JBoolean</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="JBoolean" class="delimiter">[</span><span title="JBoolean">JBoolean</span><span class="delimiter">]</span>.<span title="()Boolean">booleanValue</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Boolean(false)">_</span>: <span title="Exception">Exception</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>