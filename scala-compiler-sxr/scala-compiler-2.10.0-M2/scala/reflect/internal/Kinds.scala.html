<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/reflect/internal/Kinds.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
/* NSC -- new scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */

<span class="keyword">package</span> scala.reflect
<span class="keyword">package</span> internal

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.util.<a href="../../tools/util/StringOps.scala.html#34677" title="object scala.tools.util.StringOps">StringOps</a>.<span class="delimiter">{</span> countAsString, countElementsAsString <span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait Kinds extends Object with ScalaObject" id="10213">Kinds</a> <span title="ScalaObject" class="delimiter">{</span>
  self: SymbolTable =&gt;

  <span class="keyword">import</span> <a href="Definitions.scala.html#39224" title="object Kinds.this.definitions">definitions</a>._

  <span class="keyword">private</span> <span class="keyword">type</span> <a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="39155">SymPair</a> = <span class="delimiter">(</span><span title="(Kinds.this.Symbol, Kinds.this.Symbol)" class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">)</span> // ((Argument, Parameter))

  case <span class="keyword">class</span> <a title="class KindErrors extends Object with ScalaObject with Product with Serializable" id="88174">KindErrors</a><a href="#88174" title="ScalaObject" class="delimiter">(</a>
         <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87089">arity</a>: <span title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</span><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <span title="object Nil">Nil</span>,
      <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87090">variance</a>: <span title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</span><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <span title="object Nil">Nil</span>,
    <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87091">strictness</a>: <span title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]">List</span><span class="delimiter">[</span>SymPair<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
  <span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="87075">isEmpty</a> = <a href="#87089" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#87090" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#87091" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a>.<span title="=&gt; Boolean">isEmpty</span>

    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="87076">arityError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="87116">syms</a>: <span title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</span><span class="delimiter">)</span>      = <a href="#88174" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">copy</a><span class="delimiter">(</span>arity = <a href="#87089" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a> <span title="(elem: (Kinds.this.Symbol, Kinds.this.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">:+</span> <a href="#87116" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="87077">varianceError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="87192">syms</a>: <span title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</span><span class="delimiter">)</span>   = <a href="#87089" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87244">copy</a><span class="delimiter">(</span>variance = <a href="#87090" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a> <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87242">:+</a> <a href="#87192" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors" id="87078">strictnessError</a><span class="delimiter">(</span><a title="(Kinds.this.Symbol, Kinds.this.Symbol)" id="87245">syms</a>: <span title="(Kinds.this.Symbol, Kinds.this.Symbol)">SymPair</span><span class="delimiter">)</span> = <a href="#87089" title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87294">copy</a><span class="delimiter">(</span>strictness = <a href="#87091" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a> <a title="List[(Kinds.this.Symbol, Kinds.this.Symbol)]" id="87292">:+</a> <a href="#87245" title="(Kinds.this.Symbol, Kinds.this.Symbol)">syms</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(errs: Kinds.this.KindErrors)Kinds.this.KindErrors" id="87079">++</a><span class="delimiter">(</span><a title="Kinds.this.KindErrors" id="87295">errs</a>: <a href="#88174" title="Kinds.this.KindErrors">KindErrors</a><span class="delimiter">)</span> = <a href="#88174" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">KindErrors</a><span class="delimiter">(</span>
      <a href="#87089" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a> <span title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</span> <a href="#87295" title="Kinds.this.KindErrors">errs</a>.<a href="#87089" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a>,
      <a href="#87090" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a> <span title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</span> <a href="#87295" title="Kinds.this.KindErrors">errs</a>.<a href="#87090" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a>,
      <a href="#87091" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a> <span title="(that: scala.collection.GenTraversableOnce[(Kinds.this.Symbol, Kinds.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],(Kinds.this.Symbol, Kinds.this.Symbol),List[(Kinds.this.Symbol, Kinds.this.Symbol)]])List[(Kinds.this.Symbol, Kinds.this.Symbol)]">++</span> <a href="#87295" title="Kinds.this.KindErrors">errs</a>.<a href="#87091" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a>
    <span class="delimiter">)</span>
    // @M TODO this method is duplicated all over the place (varianceString)
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: Kinds.this.Symbol)String" id="87080">varStr</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87457">s</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#87457" title="Kinds.this.Symbol">s</a>.<a href="Symbols.scala.html#46456" title="=&gt; Boolean">isCovariant</a><span class="delimiter">)</span> <span title="String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#87457" title="Kinds.this.Symbol">s</a>.<a href="Symbols.scala.html#46454" title="=&gt; Boolean">isContravariant</a><span class="delimiter">)</span> <span title="String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
      <span class="keyword">else</span> <span title="String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String" id="87081">qualify</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87465">a0</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87466">b0</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#87465" title="Kinds.this.Symbol">a0</a>.<a href="Symbols.scala.html#46742" title="()String">toString</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#87466" title="Kinds.this.Symbol">b0</a>.<a href="Symbols.scala.html#46742" title="()String">toString</a><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span class="delimiter">{</span>
      <span title="String" class="keyword">if</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#87465" title="Kinds.this.Symbol">a0</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#87466" title="Kinds.this.Symbol">b0</a><span class="delimiter">)</span> <span title="(x: Boolean)Boolean">||</span> <span class="delimiter">(</span><a href="#87465" title="Kinds.this.Symbol">a0</a>.<a href="Symbols.scala.html#46564" title="=&gt; Kinds.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#87466" title="Kinds.this.Symbol">b0</a>.<a href="Symbols.scala.html#46564" title="=&gt; Kinds.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Kinds.this.Symbol" id="87473">a</a> = <a href="#87465" title="Kinds.this.Symbol">a0</a>; <span class="keyword">var</span> <a title="Kinds.this.Symbol" id="87474">b</a> = <a href="#87466" title="Kinds.this.Symbol">b0</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#87473" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#46564" title="=&gt; Kinds.this.Symbol">owner</a>.<a href="Symbols.scala.html#46571" title="=&gt; Kinds.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#87474" title="Kinds.this.Symbol">b</a>.<a href="Symbols.scala.html#46564" title="=&gt; Kinds.this.Symbol">owner</a>.<a href="Symbols.scala.html#46571" title="=&gt; Kinds.this.Name">name</a><span class="delimiter">)</span> <a href="#87475" title="()Unit" class="delimiter">{</a> <a href="#87473" title="Kinds.this.Symbol">a</a> = <a href="#87473" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#46564" title="=&gt; Kinds.this.Symbol">owner</a>; <a href="#87474" title="Kinds.this.Symbol">b</a> = <a href="#87474" title="Kinds.this.Symbol">b</a>.<a href="Symbols.scala.html#46564" title="=&gt; Kinds.this.Symbol">owner</a><span class="delimiter">}</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#87473" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#46744" title="=&gt; String">locationString</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="String(&quot; (&quot;)" class="string">&quot; (&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87473" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#46744" title="=&gt; String">locationString</a>.<span title="()String">trim</span> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <span title="String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String" id="87082">kindMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87489">a</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87490">p</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(String, String) =&gt; String" id="87491">f</a>: <span class="delimiter">(</span>String, String<span class="delimiter">)</span> =&gt; String<span class="delimiter">)</span>: <span title="String">String</span> =
      <a href="#87491" title="(v1: String, v2: String)String">f</a><span class="delimiter">(</span><a href="#87489" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">a</a><span title="(other: String)String">+</span><a href="#87081" title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#87489" title="Kinds.this.Symbol">a</a>,<a href="#87490" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span>, <a href="#87490" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">p</a><span title="(other: String)String">+</span><a href="#87081" title="(a0: Kinds.this.Symbol, b0: Kinds.this.Symbol)String">qualify</a><span class="delimiter">(</span><a href="#87490" title="Kinds.this.Symbol">p</a>,<a href="#87489" title="Kinds.this.Symbol">a</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="87083">strictnessMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87501">a</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87502">p</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#87082" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#87501" title="Kinds.this.Symbol">a</a>, <a href="#87502" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s's bounds %s are stricter than %s's declared bounds %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
        <a href="#87506" title="String">_</a>, <a href="#87501" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#46608" title="=&gt; Kinds.this.Type">info</a>, <a href="#87507" title="String">_</a>, <a href="#87502" title="Kinds.this.Symbol">p</a>.<a href="Symbols.scala.html#46608" title="=&gt; Kinds.this.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="87084">varianceMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87513">a</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87514">p</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#87082" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#87513" title="Kinds.this.Symbol">a</a>, <a href="#87514" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s is %s, but %s is declared %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#87518" title="String">_</a>, <a href="#87080" title="(s: Kinds.this.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#87513" title="Kinds.this.Symbol">a</a><span class="delimiter">)</span>, <a href="#87519" title="String">_</a>, <a href="#87080" title="(s: Kinds.this.Symbol)String">varStr</a><span class="delimiter">(</span><a href="#87514" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String" id="87085">arityMessage</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87523">a</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87524">p</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#87082" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)(f: (String, String) =&gt; String)String">kindMessage</a><span class="delimiter">(</span><a href="#87523" title="Kinds.this.Symbol">a</a>, <a href="#87524" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s has %s, but %s has %s&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span>
        <a href="#87528" title="String">_</a>, <a href="../../tools/util/StringOps.scala.html#87058" title="(n: Int, elements: String)String">countElementsAsString</a><span class="delimiter">(</span><a href="#87523" title="Kinds.this.Symbol">a</a>.<a href="Symbols.scala.html#46628" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span>, <span title="String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span><span class="delimiter">)</span>,
        <a href="#87529" title="String">_</a>, <a href="../../tools/util/StringOps.scala.html#87059" title="(n: Int)String">countAsString</a><span class="delimiter">(</span><a href="#87524" title="Kinds.this.Symbol">p</a>.<a href="Symbols.scala.html#46628" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(targ: Kinds.this.Type, tparam: Kinds.this.Symbol)String" id="87086">errorMessage</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="87540">targ</a>: <a href="Types.scala.html#38813" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="87541">tparam</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">(</span>
        <span class="delimiter">(</span><a href="#87540" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">targ</a><span title="(other: String)String">+</span><span title="String(&quot;\'s type parameters do not match &quot;)" class="string">&quot;'s type parameters do not match &quot;</span><span title="(x$1: Any)String">+</span><a href="#87541" title="Kinds.this.Symbol">tparam</a><span title="(x$1: Any)String">+</span><span title="String(&quot;\'s expected parameters: &quot;)" class="string">&quot;'s expected parameters: &quot;</span><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#87089" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">arity</a> <span title="(f: ((Kinds.this.Symbol, Kinds.this.Symbol)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],String,List[String]])List[String]">map</span> <a href="#87561" title="String" class="delimiter">{</a> <span class="keyword">case</span> <span title="String" class="delimiter">(</span><a title="Kinds.this.Symbol" id="87564">a</a>, <a title="Kinds.this.Symbol" id="87565">p</a><span class="delimiter">)</span> =&gt; <a href="#87085" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">arityMessage</a><span class="delimiter">(</span><a href="#87564" title="Kinds.this.Symbol">a</a>, <a href="#87565" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#87090" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">variance</a> <span title="(f: ((Kinds.this.Symbol, Kinds.this.Symbol)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],String,List[String]])List[String]">map</span> <a href="#87612" title="String" class="delimiter">{</a> <span class="keyword">case</span> <span title="String" class="delimiter">(</span><a title="Kinds.this.Symbol" id="87615">a</a>, <a title="Kinds.this.Symbol" id="87616">p</a><span class="delimiter">)</span> =&gt; <a href="#87084" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">varianceMessage</a><span class="delimiter">(</span><a href="#87615" title="Kinds.this.Symbol">a</a>, <a href="#87616" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
      <span title="(x$1: Any)String">+</span> <span class="delimiter">(</span><a href="#87091" title="=&gt; List[(Kinds.this.Symbol, Kinds.this.Symbol)]">strictness</a> <span title="(f: ((Kinds.this.Symbol, Kinds.this.Symbol)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Kinds.this.Symbol, Kinds.this.Symbol)],String,List[String]])List[String]">map</span> <a href="#87663" title="String" class="delimiter">{</a> <span class="keyword">case</span> <span title="String" class="delimiter">(</span><a title="Kinds.this.Symbol" id="87666">a</a>, <a title="Kinds.this.Symbol" id="87667">p</a><span class="delimiter">)</span> =&gt; <a href="#87083" title="(a: Kinds.this.Symbol, p: Kinds.this.Symbol)String">strictnessMessage</a><span class="delimiter">(</span><a href="#87666" title="Kinds.this.Symbol">a</a>, <a href="#87667" title="Kinds.this.Symbol">p</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span title="(sep: String)String">mkString</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">val</span> <a title="Kinds.this.KindErrors" id="39159">NoKindErrors</a> = <a href="#88174" title="(arity: List[(Kinds.this.Symbol, Kinds.this.Symbol)], variance: List[(Kinds.this.Symbol, Kinds.this.Symbol)], strictness: List[(Kinds.this.Symbol, Kinds.this.Symbol)])Kinds.this.KindErrors">KindErrors</a><span class="delimiter">(</span><span title="object Nil">Nil</span>, <span title="object Nil">Nil</span>, <span title="object Nil">Nil</span><span class="delimiter">)</span>

  // TODO: this desperately needs to be cleaned up
  // plan: split into kind inference and subkinding
  // every Type has a (cached) Kind
  <span class="keyword">def</span> <a title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol)Boolean" id="39161">kindsConform</a><span class="delimiter">(</span><a title="List[Kinds.this.Symbol]" id="87731">tparams</a>: <span title="List[Kinds.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Kinds.this.Type]" id="87732">targs</a>: <span title="List[Kinds.this.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Kinds.this.Type" id="87733">pre</a>: <a href="Types.scala.html#38813" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="87734">owner</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="Boolean">Boolean</span> =
    <a href="#39163" title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol, explainErrors: Boolean)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">checkKindBounds0</a><span class="delimiter">(</span><a href="#87731" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#87732" title="List[Kinds.this.Type]">targs</a>, <a href="#87733" title="Kinds.this.Type">pre</a>, <a href="#87734" title="Kinds.this.Symbol">owner</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<span title="=&gt; Boolean">isEmpty</span>

  /** Check whether `sym1`'s variance conforms to `sym2`'s variance.
   *
   *  If `sym2` is invariant, `sym1`'s variance is irrelevant. Otherwise they must be equal.
   */
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym1: Kinds.this.Symbol, sym2: Kinds.this.Symbol)Boolean" id="39162">variancesMatch</a><span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87743">sym1</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a>, <a title="Kinds.this.Symbol" id="87744">sym2</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
       <a href="#87744" title="Kinds.this.Symbol">sym2</a>.<a href="Symbols.scala.html#46562" title="=&gt; Int">variance</a><span title="(x: Int)Boolean">==</span><span title="Int(0)" class="int">0</span>
    <span title="(x: Boolean)Boolean">||</span> <a href="#87743" title="Kinds.this.Symbol">sym1</a>.<a href="Symbols.scala.html#46562" title="=&gt; Int">variance</a><span title="(x: Int)Boolean">==</span><a href="#87744" title="Kinds.this.Symbol">sym2</a>.<a href="Symbols.scala.html#46562" title="=&gt; Int">variance</a>
  <span class="delimiter">)</span>

  /** Check well-kindedness of type application (assumes arities are already checked) -- @M
   *
   * This check is also performed when abstract type members become concrete (aka a &quot;type alias&quot;) -- then tparams.length==1
   * (checked one type member at a time -- in that case, prefix is the name of the type alias)
   *
   * Type application is just like value application: it's &quot;contravariant&quot; in the sense that
   * the type parameters of the supplied type arguments must conform to the type parameters of
   * the required type parameters:
   *   - their bounds must be less strict
   *   - variances must match (here, variances are absolute, the variance of a type parameter does not influence the variance of its higher-order parameters)
   *   - @M TODO: are these conditions correct,sufficient&amp;necessary?
   *
   *  e.g. class Iterable[t, m[+x &lt;: t]] --&gt; the application Iterable[Int, List] is okay, since
   *       List's type parameter is also covariant and its bounds are weaker than &lt;: Int
   */
  <span class="keyword">def</span> <a title="(tparams: List[Kinds.this.Symbol], targs: List[Kinds.this.Type], pre: Kinds.this.Type, owner: Kinds.this.Symbol, explainErrors: Boolean)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" id="39163">checkKindBounds0</a><span class="delimiter">(</span>
    <a title="List[Kinds.this.Symbol]" id="87736">tparams</a>: <span title="List[Kinds.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
    <a title="List[Kinds.this.Type]" id="87737">targs</a>: <span title="List[Kinds.this.Type]">List</span><span class="delimiter">[</span>Type<span class="delimiter">]</span>,
    <a title="Kinds.this.Type" id="87738">pre</a>: <a href="Types.scala.html#38813" title="Kinds.this.Type">Type</a>,
    <a title="Kinds.this.Symbol" id="87739">owner</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a>,
    <a title="Boolean" id="87740">explainErrors</a>: <span title="Boolean">Boolean</span>
  <span class="delimiter">)</span>: <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">List</span><span class="delimiter">[</span><span class="delimiter">(</span>Type, Symbol, KindErrors<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>

    // instantiate type params that come from outside the abstract type we're currently checking
    <span class="keyword">def</span> <a title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type" id="87759">transform</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="87761">tp</a>: <a href="Types.scala.html#38813" title="Kinds.this.Type">Type</a>, <a title="Kinds.this.Symbol" id="87762">clazz</a>: <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Types.scala.html#38813" title="Kinds.this.Type">Type</a> = <a href="#87761" title="Kinds.this.Type">tp</a>.<a href="Types.scala.html#41554" title="(pre: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#87738" title="Kinds.this.Type">pre</a>, <a href="#87762" title="Kinds.this.Symbol">clazz</a><span class="delimiter">)</span>

    // check that the type parameters hkargs to a higher-kinded type conform to the
    // expected params hkparams
    <span class="keyword">def</span> <a title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors" id="87760">checkKindBoundsHK</a><span class="delimiter">(</span>
      <a title="List[Kinds.this.Symbol]" id="87767">hkargs</a>:        <span title="List[Kinds.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
      <a title="Kinds.this.Symbol" id="87768">arg</a>:           <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a>,
      <a title="Kinds.this.Symbol" id="87769">param</a>:         <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a>,
      <a title="Kinds.this.Symbol" id="87770">paramowner</a>:    <a href="Symbols.scala.html#38726" title="Kinds.this.Symbol">Symbol</a>,
      <a title="List[Kinds.this.Symbol]" id="87771">underHKParams</a>: <span title="List[Kinds.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
      <a title="List[Kinds.this.Symbol]" id="87772">withHKArgs</a>:    <span title="List[Kinds.this.Symbol]">List</span><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
    <span class="delimiter">)</span>: <a href="#88174" title="Kinds.this.KindErrors">KindErrors</a> = <span class="delimiter">{</span>

      <span class="keyword">var</span> <a title="Kinds.this.KindErrors" id="87773">kindErrors</a>: <a href="#88174" title="Kinds.this.KindErrors">KindErrors</a> = <a href="#39159" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
      <span class="keyword">def</span> <a title="(tp: Kinds.this.Type)Kinds.this.Type" id="87774">bindHKParams</a><span class="delimiter">(</span><a title="Kinds.this.Type" id="87777">tp</a>: <a href="Types.scala.html#38813" title="Kinds.this.Type">Type</a><span class="delimiter">)</span> = <a href="#87777" title="Kinds.this.Type">tp</a>.<a href="Types.scala.html#41559" title="(from: List[Kinds.this.Symbol], to: List[Kinds.this.Symbol])Kinds.this.Type">substSym</a><span class="delimiter">(</span><a href="#87771" title="List[Kinds.this.Symbol]">underHKParams</a>, <a href="#87772" title="List[Kinds.this.Symbol]">withHKArgs</a><span class="delimiter">)</span>
      // @M sometimes hkargs != arg.typeParams, the symbol and the type may
      // have very different type parameters
      <span class="keyword">val</span> <a title="List[Kinds.this.Symbol]" id="87775">hkparams</a> = <a href="#87769" title="Kinds.this.Symbol">param</a>.<a href="Symbols.scala.html#46628" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>
      
      <span class="keyword">def</span> <a title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit" id="87776">kindCheck</a><span class="delimiter">(</span><a title="Boolean" id="87780">cond</a>: <span title="Boolean">Boolean</span>, <a title="Kinds.this.KindErrors =&gt; Kinds.this.KindErrors" id="87781">f</a>: KindErrors =&gt; KindErrors<span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#87780" title="Boolean">cond</a><span class="delimiter">)</span>
          <a href="#87773" title="Kinds.this.KindErrors">kindErrors</a> = <a href="#87781" title="(v1: Kinds.this.KindErrors)Kinds.this.KindErrors">f</a><span class="delimiter">(</span><a href="#87773" title="Kinds.this.KindErrors">kindErrors</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Required.scala.html#39442" title="=&gt; scala.reflect.internal.settings.MutableSettings">settings</a>.<a href="settings/MutableSettings.scala.html#74514" title="=&gt; scala.reflect.internal.settings.MutableSettings#BooleanSetting">debug</a>.<a href="settings/MutableSettings.scala.html#74542" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="SymbolTable.scala.html#35602" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK expected: &quot;)" class="string">&quot;checkKindBoundsHK expected: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87769" title="Kinds.this.Symbol">param</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87775" title="List[Kinds.this.Symbol]">hkparams</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; by definition in &quot;)" class="string">&quot; by definition in &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87770" title="Kinds.this.Symbol">paramowner</a><span class="delimiter">)</span>
        <a href="SymbolTable.scala.html#35602" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK supplied: &quot;)" class="string">&quot;checkKindBoundsHK supplied: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87768" title="Kinds.this.Symbol">arg</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87767" title="List[Kinds.this.Symbol]">hkargs</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; from &quot;)" class="string">&quot; from &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87739" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>
        <a href="SymbolTable.scala.html#35602" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK under params: &quot;)" class="string">&quot;checkKindBoundsHK under params: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87771" title="List[Kinds.this.Symbol]">underHKParams</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with args &quot;)" class="string">&quot; with args &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87772" title="List[Kinds.this.Symbol]">withHKArgs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="Types.scala.html#39051" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#87767" title="List[Kinds.this.Symbol]">hkargs</a>, <a href="#87775" title="List[Kinds.this.Symbol]">hkparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        // Any and Nothing are kind-overloaded
        <span title="Kinds.this.KindErrors" class="keyword">if</span> <span class="delimiter">(</span><a href="#87768" title="Kinds.this.Symbol">arg</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#44982" title="=&gt; Kinds.this.Symbol">AnyClass</a> <span title="(x: Boolean)Boolean">||</span> <a href="#87768" title="Kinds.this.Symbol">arg</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#44996" title="object Kinds.this.definitions.NothingClass">NothingClass</a><span class="delimiter">)</span> <a href="#39159" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
        // shortcut: always set error, whether explainTypesOrNot
        <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <a href="#87773" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#87076" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">arityError</a><span class="delimiter">(</span><a href="#87768" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">arg</a> <span title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</span> <a href="#87769" title="Kinds.this.Symbol">param</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="util/Collections.scala.html#38337" title="(xs1: List[Kinds.this.Symbol], xs2: List[Kinds.this.Symbol])(f: (Kinds.this.Symbol, Kinds.this.Symbol) =&gt; Unit)Unit">foreach2</a><span class="delimiter">(</span><a href="#87767" title="List[Kinds.this.Symbol]">hkargs</a>, <a href="#87775" title="List[Kinds.this.Symbol]">hkparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Kinds.this.Symbol" id="87863">hkarg</a>, <a title="Kinds.this.Symbol" id="87864">hkparam</a><span class="delimiter">)</span> =&gt;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#87864" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#46628" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#87863" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#46628" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<span title="=&gt; Boolean">isEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span> // base-case: kind *
          <a href="#87776" title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit">kindCheck</a><span class="delimiter">(</span><a href="#39162" title="(sym1: Kinds.this.Symbol, sym2: Kinds.this.Symbol)Boolean">variancesMatch</a><span class="delimiter">(</span><a href="#87863" title="Kinds.this.Symbol">hkarg</a>, <a href="#87864" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span>, <a href="#87871" title="Kinds.this.KindErrors">_</a> <a href="#87077" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">varianceError</a> <span class="delimiter">(</span><a href="#87863" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">hkarg</a> <span title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</span> <a href="#87864" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span><span class="delimiter">)</span>
          // instantiateTypeParams(tparams, targs)
          //   higher-order bounds, may contain references to type arguments
          // substSym(hkparams, hkargs)
          //   these types are going to be compared as types of kind *
          //
          // Their arguments use different symbols, but are
          // conceptually the same. Could also replace the types by
          // polytypes, but can't just strip the symbols, as ordering
          // is lost then.
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="87867">declaredBounds</a>     = <a href="#87759" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#87864" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#46608" title="=&gt; Kinds.this.Type">info</a>.<a href="Types.scala.html#41531" title="(formals: List[Kinds.this.Symbol], actuals: List[Kinds.this.Type])Kinds.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#87736" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#87737" title="List[Kinds.this.Type]">targs</a><span class="delimiter">)</span>.<a href="Types.scala.html#41512" title="=&gt; Kinds.this.TypeBounds">bounds</a>, <a href="#87770" title="Kinds.this.Symbol">paramowner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="87868">declaredBoundsInst</a> = <a href="#87759" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#87774" title="(tp: Kinds.this.Type)Kinds.this.Type">bindHKParams</a><span class="delimiter">(</span><a href="#87867" title="Kinds.this.Type">declaredBounds</a><span class="delimiter">)</span>, <a href="#87739" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Kinds.this.Type" id="87869">argumentBounds</a>     = <a href="#87759" title="(tp: Kinds.this.Type, clazz: Kinds.this.Symbol)Kinds.this.Type">transform</a><span class="delimiter">(</span><a href="#87863" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#46608" title="=&gt; Kinds.this.Type">info</a>.<a href="Types.scala.html#41512" title="=&gt; Kinds.this.TypeBounds">bounds</a>, <a href="#87739" title="Kinds.this.Symbol">owner</a><span class="delimiter">)</span>

          <a href="#87776" title="(cond: Boolean, f: Kinds.this.KindErrors =&gt; Kinds.this.KindErrors)Unit">kindCheck</a><span class="delimiter">(</span><a href="#87868" title="Kinds.this.Type">declaredBoundsInst</a> <a href="Types.scala.html#41571" title="(that: Kinds.this.Type)Boolean">&lt;:&lt;</a> <a href="#87869" title="Kinds.this.Type">argumentBounds</a>, <a href="#87898" title="Kinds.this.KindErrors">_</a> <a href="#87078" title="(syms: (Kinds.this.Symbol, Kinds.this.Symbol))Kinds.this.KindErrors">strictnessError</a> <span class="delimiter">(</span><a href="#87863" title="(x: Kinds.this.Symbol)ArrowAssoc[Kinds.this.Symbol]">hkarg</a> <span title="(y: Kinds.this.Symbol)(Kinds.this.Symbol, Kinds.this.Symbol)">-&gt;</span> <a href="#87864" title="Kinds.this.Symbol">hkparam</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="SymbolTable.scala.html#35605" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span>
            <span title="String(&quot;checkKindBoundsHK base case: &quot;)" class="string">&quot;checkKindBoundsHK base case: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87864" title="Kinds.this.Symbol">hkparam</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; declared bounds: &quot;)" class="string">&quot; declared bounds: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87867" title="Kinds.this.Type">declaredBounds</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; after instantiating earlier hkparams: &quot;)" class="string">&quot; after instantiating earlier hkparams: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87868" title="Kinds.this.Type">declaredBoundsInst</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;\n&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot;checkKindBoundsHK base case: &quot;)" class="string">&quot;checkKindBoundsHK base case: &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87863" title="Kinds.this.Symbol">hkarg</a> <span title="(x$1: Any)String">+</span>
            <span title="String(&quot; has bounds: &quot;)" class="string">&quot; has bounds: &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87869" title="Kinds.this.Type">argumentBounds</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="SymbolTable.scala.html#35605" title="(msg: =&gt; String)Unit">debuglog</a><span class="delimiter">(</span><span title="String(&quot;checkKindBoundsHK recursing to compare params of &quot;)" class="string">&quot;checkKindBoundsHK recursing to compare params of &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87864" title="Kinds.this.Symbol">hkparam</a> <span title="(x$1: Any)String">+</span><span title="String(&quot; with &quot;)" class="string">&quot; with &quot;</span><span title="(x$1: Any)String">+</span> <a href="#87863" title="Kinds.this.Symbol">hkarg</a><span class="delimiter">)</span>
          <a href="#87773" title="Kinds.this.KindErrors">kindErrors</a> <a href="#87079" title="(errs: Kinds.this.KindErrors)Kinds.this.KindErrors">++=</a> <a href="#87760" title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors">checkKindBoundsHK</a><span class="delimiter">(</span>
            <a href="#87863" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#46628" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>,
            <a href="#87863" title="Kinds.this.Symbol">hkarg</a>,
            <a href="#87864" title="Kinds.this.Symbol">hkparam</a>,
            <a href="#87770" title="Kinds.this.Symbol">paramowner</a>,
            <a href="#87771" title="List[Kinds.this.Symbol]">underHKParams</a> <span title="(that: scala.collection.GenTraversableOnce[Kinds.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Kinds.this.Symbol],Kinds.this.Symbol,List[Kinds.this.Symbol]])List[Kinds.this.Symbol]">++</span> <a href="#87864" title="Kinds.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#46628" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>,
            <a href="#87772" title="List[Kinds.this.Symbol]">withHKArgs</a> <span title="(that: scala.collection.GenTraversableOnce[Kinds.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Kinds.this.Symbol],Kinds.this.Symbol,List[Kinds.this.Symbol]])List[Kinds.this.Symbol]">++</span> <a href="#87863" title="Kinds.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#46628" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="=&gt; Boolean">!</span><a href="#87740" title="Boolean">explainErrors</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span title="=&gt; Boolean">!</span><a href="#87773" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#87075" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#87773" title="Kinds.this.KindErrors">kindErrors</a>
      <span class="delimiter">}</span>
      <span title="Kinds.this.KindErrors" class="keyword">if</span> <span class="delimiter">(</span><a href="#87740" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="#87773" title="Kinds.this.KindErrors">kindErrors</a>
      <span class="keyword">else</span> <a href="#39159" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a>
    <span class="delimiter">}</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Required.scala.html#39442" title="=&gt; scala.reflect.internal.settings.MutableSettings">settings</a>.<a href="settings/MutableSettings.scala.html#74514" title="=&gt; scala.reflect.internal.settings.MutableSettings#BooleanSetting">debug</a>.<a href="settings/MutableSettings.scala.html#74542" title="=&gt; Boolean">value</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <span class="delimiter">(</span><a href="#87736" title="List[Kinds.this.Symbol]">tparams</a>.<span title="=&gt; Boolean">nonEmpty</span> <span title="(x: Boolean)Boolean">||</span> <a href="#87737" title="List[Kinds.this.Type]">targs</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="SymbolTable.scala.html#35602" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
      <span title="String(&quot;checkKindBounds0(&quot;)" class="string">&quot;checkKindBounds0(&quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87736" title="List[Kinds.this.Symbol]">tparams</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87737" title="List[Kinds.this.Type]">targs</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87738" title="Kinds.this.Type">pre</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span>
      <span title="(x$1: Any)String">+</span> <a href="#87739" title="Kinds.this.Symbol">owner</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)String">+</span> <a href="#87740" title="Boolean">explainErrors</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
    <span class="delimiter">)</span>

    <a href="util/Collections.scala.html#38318" title="(xs1: List[Kinds.this.Symbol], xs2: List[Kinds.this.Type])(f: (Kinds.this.Symbol, Kinds.this.Type) =&gt; List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)])List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">flatMap2</a><span class="delimiter">(</span><a href="#87736" title="List[Kinds.this.Symbol]">tparams</a>, <a href="#87737" title="List[Kinds.this.Type]">targs</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Kinds.this.Symbol" id="88088">tparam</a>, <a title="Kinds.this.Type" id="88089">targ</a><span class="delimiter">)</span> =&gt;
      // Prevent WildcardType from causing kind errors, as typevars may be higher-order
      <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#88089" title="Kinds.this.Type">targ</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Types.scala.html#38822" title="object Kinds.this.WildcardType">WildcardType</a><span class="delimiter">)</span> <span title="object Nil">Nil</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        // force symbol load for #4205
        <a href="#88089" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#41506" title="=&gt; Kinds.this.Symbol">typeSymbolDirect</a>.<a href="Symbols.scala.html#46608" title="=&gt; Kinds.this.Type">info</a>
        // @M must use the typeParams of the *type* targ, not of the *symbol* of targ!!
        <span class="keyword">val</span> <a title="List[Kinds.this.Symbol]" id="88094">tparamsHO</a> = <a href="#88089" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#41528" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>
        <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#88089" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#41490" title="=&gt; Boolean">isHigherKinded</a> <span title="(x: Boolean)Boolean">||</span> <a href="#88088" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#46628" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>.<span title="=&gt; Boolean">nonEmpty</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          // NOTE: *not* targ.typeSymbol, which normalizes
          <span class="keyword">val</span> <a title="Kinds.this.KindErrors" id="88098">kindErrors</a> = <a href="#87760" title="(hkargs: List[Kinds.this.Symbol], arg: Kinds.this.Symbol, param: Kinds.this.Symbol, paramowner: Kinds.this.Symbol, underHKParams: List[Kinds.this.Symbol], withHKArgs: List[Kinds.this.Symbol])Kinds.this.KindErrors">checkKindBoundsHK</a><span class="delimiter">(</span>
            <a href="#88094" title="List[Kinds.this.Symbol]">tparamsHO</a>, <a href="#88089" title="Kinds.this.Type">targ</a>.<a href="Types.scala.html#41506" title="=&gt; Kinds.this.Symbol">typeSymbolDirect</a>, <a href="#88088" title="Kinds.this.Symbol">tparam</a>,
            <a href="#88088" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#46564" title="=&gt; Kinds.this.Symbol">owner</a>, <a href="#88088" title="Kinds.this.Symbol">tparam</a>.<a href="Symbols.scala.html#46628" title="=&gt; List[Kinds.this.Symbol]">typeParams</a>, <a href="#88094" title="List[Kinds.this.Symbol]">tparamsHO</a>
          <span class="delimiter">)</span>
          <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#88098" title="Kinds.this.KindErrors">kindErrors</a>.<a href="#87075" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="object Nil">Nil</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#87740" title="Boolean">explainErrors</a><span class="delimiter">)</span> <span title="(xs: (Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)*)List[(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)]">List</span><span class="delimiter">(</span><span title="(_1: Kinds.this.Type, _2: Kinds.this.Symbol, _3: Kinds.this.KindErrors)(Kinds.this.Type, Kinds.this.Symbol, Kinds.this.KindErrors)" class="delimiter">(</span><a href="#88089" title="Kinds.this.Type">targ</a>, <a href="#88088" title="Kinds.this.Symbol">tparam</a>, <a href="#88098" title="Kinds.this.KindErrors">kindErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>
            // Return as soon as an error is seen if there's nothing to explain.
            <span class="keyword">else</span> <span title="Nothing" class="keyword">return</span> <span title="(xs: (Kinds.this.NoType.type, Kinds.this.NoSymbol, Kinds.this.KindErrors)*)List[(Kinds.this.NoType.type, Kinds.this.NoSymbol, Kinds.this.KindErrors)]">List</span><span class="delimiter">(</span><span title="(_1: Kinds.this.NoType.type, _2: Kinds.this.NoSymbol, _3: Kinds.this.KindErrors)(Kinds.this.NoType.type, Kinds.this.NoSymbol, Kinds.this.KindErrors)" class="delimiter">(</span><a href="Types.scala.html#38827" title="object Kinds.this.NoType">NoType</a>, <a href="Symbols.scala.html#38740" title="=&gt; Kinds.this.NoSymbol">NoSymbol</a>, <a href="#39159" title="=&gt; Kinds.this.KindErrors">NoKindErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="object Nil">Nil</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
        </pre>
    </body>
</html>