<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/ant/Scalac.scala</title>
        <script type="text/javascript" src="../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala Ant Tasks                      **
**    / __/ __// _ | / /  / _ |    (c) 2005-2011, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>


<span class="keyword">package</span> scala.tools.ant

<span class="keyword">import</span> java.io.<span class="delimiter">{</span>File,PrintWriter,BufferedWriter,FileWriter<span class="delimiter">}</span>

<span class="keyword">import</span> org.apache.tools.ant.<span class="delimiter">{</span> BuildException, Project, AntClassLoader <span class="delimiter">}</span>
<span class="keyword">import</span> org.apache.tools.ant.taskdefs.Java
<span class="keyword">import</span> org.apache.tools.ant.types.<span class="delimiter">{</span>Path, Reference<span class="delimiter">}</span>
<span class="keyword">import</span> org.apache.tools.ant.util.<span class="delimiter">{</span>FileUtils, GlobPatternMapper,
                                  SourceFileScanner<span class="delimiter">}</span>

<span class="keyword">import</span> scala.tools.nsc.<span class="delimiter">{</span>Global, Settings, CompilerCommand<span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.reporters.<span class="delimiter">{</span>Reporter, ConsoleReporter<span class="delimiter">}</span>

<span class="comment">/** &lt;p&gt;
 *    An Ant task to compile with the new Scala compiler (NSC).
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This task can take the following parameters as attributes:
 *  &lt;/p&gt;
 *  &lt;ul style=&quot;font-family:Courier;&quot;&gt;
 *    &lt;li&gt;srcdir (mandatory),&lt;/li&gt;
 *    &lt;li&gt;srcref,&lt;/li&gt;
 *    &lt;li&gt;destdir,&lt;/li&gt;
 *    &lt;li&gt;classpath,&lt;/li&gt;
 *    &lt;li&gt;classpathref,&lt;/li&gt;
 *    &lt;li&gt;sourcepath,&lt;/li&gt;
 *    &lt;li&gt;sourcepathref,&lt;/li&gt;
 *    &lt;li&gt;bootclasspath,&lt;/li&gt;
 *    &lt;li&gt;bootclasspathref,&lt;/li&gt;
 *    &lt;li&gt;extdirs,&lt;/li&gt;
 *    &lt;li&gt;extdirsref,&lt;/li&gt;
 *    &lt;li&gt;encoding,&lt;/li&gt;
 *    &lt;li&gt;target,&lt;/li&gt;
 *    &lt;li&gt;force,&lt;/li&gt;
 *    &lt;li&gt;fork,&lt;/li&gt;
 *    &lt;li&gt;logging,&lt;/li&gt;
 *    &lt;li&gt;logphase,&lt;/li&gt;
 *    &lt;li&gt;debuginfo,&lt;/li&gt;
 *    &lt;li&gt;addparams,&lt;/li&gt;
 *    &lt;li&gt;scalacdebugging,&lt;/li&gt;
 *    &lt;li&gt;deprecation,&lt;/li&gt;
 *    &lt;li&gt;optimise,&lt;/li&gt;
 *    &lt;li&gt;unchecked,&lt;/li&gt;
 *    &lt;li&gt;failonerror,&lt;/li&gt;
 *    &lt;li&gt;scalacdebugging,&lt;/li&gt;
 *    &lt;li&gt;assemname,&lt;/li&gt;
 *    &lt;li&gt;assemrefs.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It also takes the following parameters as nested elements:
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;src (for srcdir),&lt;/li&gt;
 *    &lt;li&gt;classpath,&lt;/li&gt;
 *    &lt;li&gt;sourcepath,&lt;/li&gt;
 *    &lt;li&gt;bootclasspath,&lt;/li&gt;
 *    &lt;li&gt;extdirs.&lt;/li&gt;
 * &lt;/ul&gt;
 *
 * @author Gilles Dubochet, Stephane Micheloud
 */</span>
<span class="keyword">class</span> <a title="class Scalac extends scala.tools.ant.ScalaMatchingTask with scala.tools.ant.ScalacShared with ScalaObject" id="21477">Scalac</a> <a href="../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="ScalaMatchingTask.scala.html#21642" title="scala.tools.ant.ScalaMatchingTask">ScalaMatchingTask</a> <span class="keyword">with</span> <a href="ScalacShared.scala.html#21492" title="scala.tools.ant.ScalacShared">ScalacShared</a> <span class="delimiter">{</span>

  <span class="comment">/** The unique Ant file utilities instance to use in this task. */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="org.apache.tools.ant.util.FileUtils" id="469231">fileUtils</a> = <span title="object org.apache.tools.ant.util.FileUtils">FileUtils</span>.<span title="()org.apache.tools.ant.util.FileUtils">getFileUtils</span><span class="delimiter">(</span><span class="delimiter">)</span>

<span class="comment">/*============================================================================*\
**                             Ant user-properties                            **
\*============================================================================*/</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class PermissibleValue extends java.lang.Object with ScalaObject" id="469233">PermissibleValue</a> <a href="../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">val</span> <a title="=&gt; List[String]" id="477469">values</a>: <a href="../../collection/immutable/List.scala.html#14047" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="(value: String)Boolean" id="477470">isPermissible</a><span class="delimiter">(</span><a title="String" id="477472">value</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
      <span class="delimiter">(</span><a href="#477472" title="String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <a href="../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#477469" title="=&gt; List[String]">values</a>.<a href="../../collection/LinearSeqOptimized.scala.html#71036" title="(p: String =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#477484" title="String">_</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#477472" title="String">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Defines valid values for the logging property. */</span>
  <span class="keyword">object</span> <a title="object Scalac.this.LoggingLevel" id="469234">LoggingLevel</a> <a href="../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#469233" title="Scalac.this.PermissibleValue">PermissibleValue</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="477488">values</a> = <a href="../../collection/immutable/List.scala.html#48877" title="(xs: java.lang.String*)List[java.lang.String]">List</a><span class="delimiter">(</span><span title="java.lang.String(&quot;none&quot;)" class="string">&quot;none&quot;</span>, <span title="java.lang.String(&quot;verbose&quot;)" class="string">&quot;verbose&quot;</span>, <span title="java.lang.String(&quot;debug&quot;)" class="string">&quot;debug&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Defines valid values for properties that refer to compiler phases. */</span>
  <span class="keyword">object</span> <a title="object Scalac.this.CompilerPhase" id="469236">CompilerPhase</a> <a href="../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#469233" title="Scalac.this.PermissibleValue">PermissibleValue</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="477499">values</a> = <a href="../../collection/immutable/List.scala.html#48877" title="(xs: java.lang.String*)List[java.lang.String]">List</a><span class="delimiter">(</span><span title="java.lang.String(&quot;namer&quot;)" class="string">&quot;namer&quot;</span>, <span title="java.lang.String(&quot;typer&quot;)" class="string">&quot;typer&quot;</span>, <span title="java.lang.String(&quot;pickler&quot;)" class="string">&quot;pickler&quot;</span>, <span title="java.lang.String(&quot;uncurry&quot;)" class="string">&quot;uncurry&quot;</span>, <span title="java.lang.String(&quot;tailcalls&quot;)" class="string">&quot;tailcalls&quot;</span>,
                      <span title="java.lang.String(&quot;explicitouter&quot;)" class="string">&quot;explicitouter&quot;</span>, <span title="java.lang.String(&quot;erasure&quot;)" class="string">&quot;erasure&quot;</span>, <span title="java.lang.String(&quot;lambdalift&quot;)" class="string">&quot;lambdalift&quot;</span>,
                      <span title="java.lang.String(&quot;flatten&quot;)" class="string">&quot;flatten&quot;</span>, <span title="java.lang.String(&quot;constructors&quot;)" class="string">&quot;constructors&quot;</span>, <span title="java.lang.String(&quot;mixin&quot;)" class="string">&quot;mixin&quot;</span>, <span title="java.lang.String(&quot;icode&quot;)" class="string">&quot;icode&quot;</span>, <span title="java.lang.String(&quot;jvm&quot;)" class="string">&quot;jvm&quot;</span>,
                      <span title="java.lang.String(&quot;terminal&quot;)" class="string">&quot;terminal&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Defines valid values for the &lt;code&gt;target&lt;/code&gt; property. */</span>
  <span class="keyword">object</span> <a title="object Scalac.this.Target" id="469238">Target</a> <a href="../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#469233" title="Scalac.this.PermissibleValue">PermissibleValue</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="477510">values</a> = <a href="../../collection/immutable/List.scala.html#48877" title="(xs: java.lang.String*)List[java.lang.String]">List</a><span class="delimiter">(</span><span title="java.lang.String(&quot;jvm-1.5&quot;)" class="string">&quot;jvm-1.5&quot;</span>, <span title="java.lang.String(&quot;msil&quot;)" class="string">&quot;msil&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Defines valid values for the &lt;code&gt;deprecation&lt;/code&gt; and
   *  &lt;code&gt;unchecked&lt;/code&gt; properties. */</span>
  <span class="keyword">object</span> <a title="object Scalac.this.Flag" id="469240">Flag</a> <a href="../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#469233" title="Scalac.this.PermissibleValue">PermissibleValue</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="477521">values</a> = <a href="../../collection/immutable/List.scala.html#48877" title="(xs: java.lang.String*)List[java.lang.String]">List</a><span class="delimiter">(</span><span title="java.lang.String(&quot;yes&quot;)" class="string">&quot;yes&quot;</span>, <span title="java.lang.String(&quot;no&quot;)" class="string">&quot;no&quot;</span>, <span title="java.lang.String(&quot;on&quot;)" class="string">&quot;on&quot;</span>, <span title="java.lang.String(&quot;off&quot;)" class="string">&quot;off&quot;</span>, <span title="java.lang.String(&quot;true&quot;)" class="string">&quot;true&quot;</span>, <span title="java.lang.String(&quot;false&quot;)" class="string">&quot;false&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(flag: String)Option[Boolean]" id="477523">toBoolean</a><span class="delimiter">(</span><a title="String" id="477532">flag</a>: <span title="String">String</span><span class="delimiter">)</span> =
      <span title="Option[Boolean]" class="keyword">if</span> <span class="delimiter">(</span><a href="#477532" title="String">flag</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;yes&quot;)" class="string">&quot;yes&quot;</span> <a href="../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#477532" title="String">flag</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;on&quot;)" class="string">&quot;on&quot;</span> <a href="../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#477532" title="String">flag</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;true&quot;)" class="string">&quot;true&quot;</span><span class="delimiter">)</span> <a href="../../Option.scala.html#57885" title="(x: Boolean)Some[Boolean]">Some</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Option[Boolean]" class="keyword">if</span> <span class="delimiter">(</span><a href="#477532" title="String">flag</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;no&quot;)" class="string">&quot;no&quot;</span> <a href="../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#477532" title="String">flag</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;off&quot;)" class="string">&quot;off&quot;</span> <a href="../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#477532" title="String">flag</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;false&quot;)" class="string">&quot;false&quot;</span><span class="delimiter">)</span> <a href="../../Option.scala.html#57885" title="(x: Boolean)Some[Boolean]">Some</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="delimiter">}</span>

  <span class="comment">/** The directories that contain source files to compile. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="469243">origin</a>: <a href="../../Option.scala.html#560" title="Option[org.apache.tools.ant.types.Path]">Option</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">/** The directory to put the compiled files in. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[java.io.File]" id="469246">destination</a>: <a href="../../Option.scala.html#560" title="Option[java.io.File]">Option</a><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>

  <span class="comment">/** The class path to use for this compilation. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="469249">classpath</a>: <a href="../../Option.scala.html#560" title="Option[org.apache.tools.ant.types.Path]">Option</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">/** The source path to use for this compilation. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="469252">sourcepath</a>: <a href="../../Option.scala.html#560" title="Option[org.apache.tools.ant.types.Path]">Option</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">/** The boot class path to use for this compilation. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="469255">bootclasspath</a>: <a href="../../Option.scala.html#560" title="Option[org.apache.tools.ant.types.Path]">Option</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">/** The path to use when finding scalac - *only used for forking!*  */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="469258">compilerPath</a>: <a href="../../Option.scala.html#560" title="Option[org.apache.tools.ant.types.Path]">Option</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">/** The external extensions path to use for this compilation. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[org.apache.tools.ant.types.Path]" id="469261">extdirs</a>: <a href="../../Option.scala.html#560" title="Option[org.apache.tools.ant.types.Path]">Option</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>

  <span class="comment">/** The character encoding of the files to compile. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="469264">encoding</a>: <a href="../../Option.scala.html#560" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>

  <span class="comment">// the targetted backend</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="469267">backend</a>: <a href="../../Option.scala.html#560" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>

  <span class="comment">/** Whether to force compilation of all files or not. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Boolean" id="469270">force</a>: <a href="../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="comment">/** Whether to fork the execution of scalac */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Boolean" id="469273">fork</a> : <a href="../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="comment">/** If forking, these are the arguments to the JVM */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="469276">jvmArgs</a> : <a href="../../Option.scala.html#560" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">/** How much logging output to print. Either none (default),
    * verbose or debug. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="469279">logging</a>: <a href="../../Option.scala.html#560" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">/** Which compilation phases should be logged during compilation. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="List[String]" id="469282">logPhase</a>: <a href="../../collection/immutable/List.scala.html#14047" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>

  <span class="comment">/** Instruct the compiler to generate debugging information */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="469285">debugInfo</a>: <a href="../../Option.scala.html#560" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">/** Instruct the compiler to use additional parameters */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="String" id="469288">addParams</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="comment">/** Instruct the compiler to generate deprecation information. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[Boolean]" id="469291">deprecation</a>: <a href="../../Option.scala.html#560" title="Option[Boolean]">Option</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">/** Instruct the compiler to run optimizations. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[Boolean]" id="469294">optimise</a>: <a href="../../Option.scala.html#560" title="Option[Boolean]">Option</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">/** Instruct the compiler to generate unchecked information. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[Boolean]" id="469297">unchecked</a>: <a href="../../Option.scala.html#560" title="Option[Boolean]">Option</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">/** Indicates whether compilation errors will fail the build; defaults to true. */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Boolean" id="469300">failonerror</a>: <a href="../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="comment">// Name of the output assembly (only relevant with -target:msil)</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="469303">assemname</a>: <a href="../../Option.scala.html#560" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>
  <span class="comment">// List of assemblies referenced by the program (only relevant with -target:msil)</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Option[String]" id="469306">assemrefs</a>: <a href="../../Option.scala.html#560" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../Option.scala.html#1737" title="object None">None</a>

  <span class="comment">/** Prints out the files being compiled by the scalac ant task
   *  (not only the number of files). */</span>
  <span class="keyword">protected</span> <span class="keyword">var</span> <a title="Boolean" id="469309">scalacDebugging</a>: <a href="../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="comment">/** Helpers */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(old: Option[org.apache.tools.ant.types.Path], arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]" id="469311">setOrAppend</a><span class="delimiter">(</span><a title="Option[org.apache.tools.ant.types.Path]" id="477576">old</a>: <a href="../../Option.scala.html#560" title="Option[org.apache.tools.ant.types.Path]">Option</a><span class="delimiter">[</span>Path<span class="delimiter">]</span>, <a title="org.apache.tools.ant.types.Path" id="477577">arg</a>: <span title="org.apache.tools.ant.types.Path">Path</span><span class="delimiter">)</span>: <a href="../../Option.scala.html#560" title="Option[org.apache.tools.ant.types.Path]">Option</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> = <a href="#477576" title="Option[org.apache.tools.ant.types.Path]">old</a> <span title="Option[org.apache.tools.ant.types.Path]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Some[org.apache.tools.ant.types.Path]">Some</span><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Path" id="477580">x</a><span class="delimiter">)</span>  =&gt; <a href="#477580" title="org.apache.tools.ant.types.Path">x</a> <span title="(x$1: org.apache.tools.ant.types.Path)Unit">append</span> <a href="#477577" title="org.apache.tools.ant.types.Path">arg</a> ; <a href="../../Option.scala.html#57885" title="(x: org.apache.tools.ant.types.Path)Some[org.apache.tools.ant.types.Path]">Some</a><span class="delimiter">(</span><a href="#477580" title="org.apache.tools.ant.types.Path">x</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="../../Option.scala.html#1737" title="Some[org.apache.tools.ant.types.Path]">None</a>     =&gt; <a href="../../Option.scala.html#57885" title="(x: org.apache.tools.ant.types.Path)Some[org.apache.tools.ant.types.Path]">Some</a><span class="delimiter">(</span><a href="#477577" title="org.apache.tools.ant.types.Path">arg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(p: Option[org.apache.tools.ant.types.Path], name: String)List[java.io.File]" id="469312">pathAsList</a><span class="delimiter">(</span><a title="Option[org.apache.tools.ant.types.Path]" id="477587">p</a>: <a href="../../Option.scala.html#560" title="Option[org.apache.tools.ant.types.Path]">Option</a><span class="delimiter">[</span>Path<span class="delimiter">]</span>, <a title="String" id="477588">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../collection/immutable/List.scala.html#14047" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#477587" title="Option[org.apache.tools.ant.types.Path]">p</a> <span title="List[java.io.File]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../Option.scala.html#1737" title="Nothing">None</a>     =&gt; <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Member \'&quot;)" class="string">&quot;Member '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#477588" title="String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' is empty.&quot;)" class="string">&quot;' is empty.&quot;</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="List[java.io.File]">Some</span><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Path" id="477591">x</a><span class="delimiter">)</span>  =&gt; <a href="#477591" title="org.apache.tools.ant.types.Path">x</a>.<a href="../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">list</a>.<a href="../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[java.lang.String]">toList</a> <a href="../../collection/TraversableLike.scala.html#49041" title="(f: java.lang.String =&gt; java.io.File)(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.String],java.io.File,List[java.io.File]])List[java.io.File]">map</a> <a href="#469358" title="(name: String)java.io.File">nameToFile</a>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path], setter: Option[org.apache.tools.ant.types.Path] =&gt; Unit)org.apache.tools.ant.types.Path" id="469313">createNewPath</a><span class="delimiter">(</span><a title="() =&gt; Option[org.apache.tools.ant.types.Path]" id="477748">getter</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Option<span class="delimiter">[</span>Path<span class="delimiter">]</span>, <a title="Option[org.apache.tools.ant.types.Path] =&gt; Unit" id="477749">setter</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>Path<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Function0.scala.html#62187" title="()Option[org.apache.tools.ant.types.Path]">getter</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
      <a href="../../Function1.scala.html#53453" title="(v1: Option[org.apache.tools.ant.types.Path])Unit">setter</a><span class="delimiter">(</span><a href="../../Option.scala.html#57885" title="(x: org.apache.tools.ant.types.Path)Some[org.apache.tools.ant.types.Path]">Some</a><span class="delimiter">(</span><span title="(x$1: org.apache.tools.ant.Project)org.apache.tools.ant.types.Path" class="keyword">new</span> <span title="org.apache.tools.ant.types.Path">Path</span><span class="delimiter">(</span><a href="#21477" title="()org.apache.tools.ant.Project">getProject</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="../../Function0.scala.html#62187" title="()Option[org.apache.tools.ant.types.Path]">getter</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../Option.scala.html#48473" title="=&gt; org.apache.tools.ant.types.Path">get</a>.<span title="()org.apache.tools.ant.types.Path">createPath</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(xs: List[Any])java.lang.String" id="469314">plural</a><span class="delimiter">(</span><a title="List[Any]" id="477758">xs</a>: <a href="../../collection/immutable/List.scala.html#14047" title="List[Any]">List</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#477758" title="List[Any]">xs</a>.<a href="../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: Int)java.lang.String" id="469315">plural</a><span class="delimiter">(</span><a title="Int" id="477766">x</a>: <a href="../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#477766" title="Int">x</a> <a href="../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

<span class="comment">/*============================================================================*\
**                             Properties setters                             **
\*============================================================================*/</span>


  <span class="comment">/** Sets the srcdir attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;origin&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="469316">setSrcdir</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Path" id="477774">input</a>: <span title="org.apache.tools.ant.types.Path">Path</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469243" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">origin</a> = <a href="#469311" title="(old: Option[org.apache.tools.ant.types.Path], arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a><span class="delimiter">(</span><a href="#469243" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a>, <a href="#477774" title="org.apache.tools.ant.types.Path">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sets the &lt;code&gt;origin&lt;/code&gt; as a nested src Ant parameter.
   *  @return An origin path to be configured. */</span>
  <span class="keyword">def</span> <a title="()org.apache.tools.ant.types.Path" id="469317">createSrc</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#469313" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path], setter: Option[org.apache.tools.ant.types.Path] =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a><span class="delimiter">(</span><a href="#469243" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="477779">p</a> =&gt; <a href="#469243" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">origin</a> = <a href="#477779" title="Option[org.apache.tools.ant.types.Path]">p</a><span class="delimiter">)</span>

  <span class="comment">/** Sets the &lt;code&gt;origin&lt;/code&gt; as an external reference Ant parameter.
   *  @param input A reference to an origin path. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="469318">setSrcref</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Reference" id="477780">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span><span class="delimiter">)</span> =
    <a href="#469317" title="()org.apache.tools.ant.types.Path">createSrc</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span><span class="delimiter">(</span><a href="#477780" title="org.apache.tools.ant.types.Reference">input</a><span class="delimiter">)</span>

  <span class="comment">/** Sets the &lt;code&gt;destdir&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;destination&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: java.io.File)Unit" id="469319">setDestdir</a><span class="delimiter">(</span><a title="java.io.File" id="477784">input</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#469246" title="(x$1: Option[java.io.File])Unit">destination</a> = <a href="../../Option.scala.html#57885" title="(x: java.io.File)Some[java.io.File]">Some</a><span class="delimiter">(</span><a href="#477784" title="java.io.File">input</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Sets the &lt;code&gt;classpath&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;classpath&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="469320">setClasspath</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Path" id="477789">input</a>: <span title="org.apache.tools.ant.types.Path">Path</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469249" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">classpath</a> = <a href="#469311" title="(old: Option[org.apache.tools.ant.types.Path], arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a><span class="delimiter">(</span><a href="#469249" title="=&gt; Option[org.apache.tools.ant.types.Path]">classpath</a>, <a href="#477789" title="org.apache.tools.ant.types.Path">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/** Sets the &lt;code&gt;compilerPath&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;compilerPath&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="469321">setCompilerPath</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Path" id="477791">input</a> : <span title="org.apache.tools.ant.types.Path">Path</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469258" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">compilerPath</a> = <a href="#469311" title="(old: Option[org.apache.tools.ant.types.Path], arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a><span class="delimiter">(</span><a href="#469258" title="=&gt; Option[org.apache.tools.ant.types.Path]">compilerPath</a>, <a href="#477791" title="org.apache.tools.ant.types.Path">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; org.apache.tools.ant.types.Path" id="469322">createCompilerPath</a>: <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#469313" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path], setter: Option[org.apache.tools.ant.types.Path] =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a><span class="delimiter">(</span><a href="#469258" title="=&gt; Option[org.apache.tools.ant.types.Path]">compilerPath</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="477797">p</a> =&gt; <a href="#469258" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">compilerPath</a> = <a href="#477797" title="Option[org.apache.tools.ant.types.Path]">p</a><span class="delimiter">)</span>

  <span class="comment">/** Sets the &lt;code&gt;compilerpathref&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;compilerpathref&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="469323">setCompilerPathRef</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Reference" id="477798">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469322" title="=&gt; org.apache.tools.ant.types.Path">createCompilerPath</a>.<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span><span class="delimiter">(</span><a href="#477798" title="org.apache.tools.ant.types.Reference">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sets the &lt;code&gt;classpath&lt;/code&gt; as a nested classpath Ant parameter.
   *  @return A class path to be configured. */</span>
  <span class="keyword">def</span> <a title="()org.apache.tools.ant.types.Path" id="469324">createClasspath</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#469313" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path], setter: Option[org.apache.tools.ant.types.Path] =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a><span class="delimiter">(</span><a href="#469249" title="=&gt; Option[org.apache.tools.ant.types.Path]">classpath</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="477804">p</a> =&gt; <a href="#469249" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">classpath</a> = <a href="#477804" title="Option[org.apache.tools.ant.types.Path]">p</a><span class="delimiter">)</span>

  <span class="comment">/** Sets the &lt;code&gt;classpath&lt;/code&gt; as an external reference Ant parameter.
   *  @param input A reference to a class path. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="469325">setClasspathref</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Reference" id="477805">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469324" title="()org.apache.tools.ant.types.Path">createClasspath</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span><span class="delimiter">(</span><a href="#477805" title="org.apache.tools.ant.types.Reference">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sets the &lt;code&gt;sourcepath&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;sourcepath&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="469326">setSourcepath</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Path" id="477808">input</a>: <span title="org.apache.tools.ant.types.Path">Path</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469252" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">sourcepath</a> = <a href="#469311" title="(old: Option[org.apache.tools.ant.types.Path], arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a><span class="delimiter">(</span><a href="#469252" title="=&gt; Option[org.apache.tools.ant.types.Path]">sourcepath</a>, <a href="#477808" title="org.apache.tools.ant.types.Path">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sets the &lt;code&gt;sourcepath&lt;/code&gt; as a nested sourcepath Ant parameter.
   *  @return A source path to be configured. */</span>
  <span class="keyword">def</span> <a title="()org.apache.tools.ant.types.Path" id="469327">createSourcepath</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#469313" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path], setter: Option[org.apache.tools.ant.types.Path] =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a><span class="delimiter">(</span><a href="#469252" title="=&gt; Option[org.apache.tools.ant.types.Path]">sourcepath</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="477813">p</a> =&gt; <a href="#469252" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">sourcepath</a> = <a href="#477813" title="Option[org.apache.tools.ant.types.Path]">p</a><span class="delimiter">)</span>

  <span class="comment">/** Sets the &lt;code&gt;sourcepath&lt;/code&gt; as an external reference Ant parameter.
   *  @param input A reference to a source path. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="469328">setSourcepathref</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Reference" id="477814">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469327" title="()org.apache.tools.ant.types.Path">createSourcepath</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span><span class="delimiter">(</span><a href="#477814" title="org.apache.tools.ant.types.Reference">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sets the boot classpath attribute. Used by Ant.
   *
   *  @param input The value of &lt;code&gt;bootclasspath&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="469329">setBootclasspath</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Path" id="477817">input</a>: <span title="org.apache.tools.ant.types.Path">Path</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469255" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">bootclasspath</a> = <a href="#469311" title="(old: Option[org.apache.tools.ant.types.Path], arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a><span class="delimiter">(</span><a href="#469255" title="=&gt; Option[org.apache.tools.ant.types.Path]">bootclasspath</a>, <a href="#477817" title="org.apache.tools.ant.types.Path">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sets the &lt;code&gt;bootclasspath&lt;/code&gt; as a nested sourcepath Ant
   *  parameter.
   *  @return A source path to be configured. */</span>
  <span class="keyword">def</span> <a title="()org.apache.tools.ant.types.Path" id="469330">createBootclasspath</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#469313" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path], setter: Option[org.apache.tools.ant.types.Path] =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a><span class="delimiter">(</span><a href="#469255" title="=&gt; Option[org.apache.tools.ant.types.Path]">bootclasspath</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="477822">p</a> =&gt; <a href="#469255" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">bootclasspath</a> = <a href="#477822" title="Option[org.apache.tools.ant.types.Path]">p</a><span class="delimiter">)</span>

  <span class="comment">/** Sets the &lt;code&gt;bootclasspath&lt;/code&gt; as an external reference Ant
   *  parameter.
   *  @param input A reference to a source path. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="469331">setBootclasspathref</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Reference" id="477823">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span><span class="delimiter">)</span> =
    <a href="#469330" title="()org.apache.tools.ant.types.Path">createBootclasspath</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span><span class="delimiter">(</span><a href="#477823" title="org.apache.tools.ant.types.Reference">input</a><span class="delimiter">)</span>

  <span class="comment">/** Sets the external extensions path attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;extdirs&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Path)Unit" id="469332">setExtdirs</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Path" id="477827">input</a>: <span title="org.apache.tools.ant.types.Path">Path</span><span class="delimiter">)</span> =
    <a href="#469261" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">extdirs</a> = <a href="#469311" title="(old: Option[org.apache.tools.ant.types.Path], arg: org.apache.tools.ant.types.Path)Option[org.apache.tools.ant.types.Path]">setOrAppend</a><span class="delimiter">(</span><a href="#469261" title="=&gt; Option[org.apache.tools.ant.types.Path]">extdirs</a>, <a href="#477827" title="org.apache.tools.ant.types.Path">input</a><span class="delimiter">)</span>

  <span class="comment">/** Sets the &lt;code&gt;extdirs&lt;/code&gt; as a nested sourcepath Ant parameter.
   *  @return An extensions path to be configured. */</span>
  <span class="keyword">def</span> <a title="()org.apache.tools.ant.types.Path" id="469333">createExtdirs</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="org.apache.tools.ant.types.Path">Path</span> = <a href="#469313" title="(getter: () =&gt; Option[org.apache.tools.ant.types.Path], setter: Option[org.apache.tools.ant.types.Path] =&gt; Unit)org.apache.tools.ant.types.Path">createNewPath</a><span class="delimiter">(</span><a href="#469261" title="=&gt; Option[org.apache.tools.ant.types.Path]">extdirs</a> _, <a title="Option[org.apache.tools.ant.types.Path]" id="477833">p</a> =&gt; <a href="#469261" title="(x$1: Option[org.apache.tools.ant.types.Path])Unit">extdirs</a> = <a href="#477833" title="Option[org.apache.tools.ant.types.Path]">p</a><span class="delimiter">)</span>

  <span class="comment">/** Sets the &lt;code&gt;extdirs&lt;/code&gt; as an external reference Ant parameter.
   *  @param input A reference to an extensions path. */</span>
  <span class="keyword">def</span> <a title="(input: org.apache.tools.ant.types.Reference)Unit" id="469334">setExtdirsref</a><span class="delimiter">(</span><a title="org.apache.tools.ant.types.Reference" id="477834">input</a>: <span title="org.apache.tools.ant.types.Reference">Reference</span><span class="delimiter">)</span> =
    <a href="#469333" title="()org.apache.tools.ant.types.Path">createExtdirs</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: org.apache.tools.ant.types.Reference)Unit">setRefid</span><span class="delimiter">(</span><a href="#477834" title="org.apache.tools.ant.types.Reference">input</a><span class="delimiter">)</span>

  <span class="comment">/** Sets the &lt;code&gt;encoding&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value of &lt;code&gt;encoding&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: String)Unit" id="469335">setEncoding</a><span class="delimiter">(</span><a title="String" id="477838">input</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#461" title="Unit">Unit</a> =
    <a href="#469264" title="(x$1: Option[String])Unit">encoding</a> = <a href="../../Option.scala.html#57885" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#477838" title="String">input</a><span class="delimiter">)</span>

  <span class="comment">/** Sets the &lt;code&gt;target&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;target&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: String)Unit" id="469336">setTarget</a><span class="delimiter">(</span><a title="String" id="477843">input</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../Unit.scala.html#461" title="Unit">Unit</a> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#469238" title="object Scalac.this.Target">Target</a>.<a href="#477470" title="(value: String)Boolean">isPermissible</a><span class="delimiter">(</span><a href="#477843" title="String">input</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#469267" title="(x$1: Option[String])Unit">backend</a> = <a href="../../Option.scala.html#57885" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#477843" title="String">input</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unknown target \'&quot;)" class="string">&quot;Unknown target '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#477843" title="String">input</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span><span class="delimiter">)</span>

  <span class="comment">/** Sets the &lt;code&gt;force&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;force&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: Boolean)Unit" id="469337">setForce</a><span class="delimiter">(</span><a title="Boolean" id="477848">input</a>: <a href="../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#469270" title="(x$1: Boolean)Unit">force</a> = <a href="#477848" title="Boolean">input</a> <span class="delimiter">}</span>

  <span class="comment">/** Sets the &lt;code&gt;fork&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;fork&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: Boolean)Unit" id="469338">setFork</a><span class="delimiter">(</span><a title="Boolean" id="477850">input</a> : <a href="../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#469273" title="(x$1: Boolean)Unit">fork</a> = <a href="#477850" title="Boolean">input</a> <span class="delimiter">}</span>
  <span class="comment">/**
   * Sets the &lt;code&gt;jvmargs&lt;/code&gt; attribute.  Used by Ant.
   * @param input The value for &lt;code&gt;jvmargs&lt;/code&gt;
   */</span>
  <span class="keyword">def</span> <a title="(input: String)Unit" id="469339">setJvmargs</a><span class="delimiter">(</span><a title="String" id="477852">input</a> : <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469276" title="(x$1: Option[String])Unit">jvmArgs</a> = <a href="../../Option.scala.html#57885" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#477852" title="String">input</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sets the logging level attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;logging&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: String)Unit" id="469340">setLogging</a><span class="delimiter">(</span><a title="String" id="477857">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#469234" title="object Scalac.this.LoggingLevel">LoggingLevel</a>.<a href="#477470" title="(value: String)Boolean">isPermissible</a><span class="delimiter">(</span><a href="#477857" title="String">input</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#469279" title="(x$1: Option[String])Unit">logging</a> = <a href="../../Option.scala.html#57885" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#477857" title="String">input</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Logging level \'&quot;)" class="string">&quot;Logging level '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#477857" title="String">input</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' does not exist.&quot;)" class="string">&quot;' does not exist.&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sets the &lt;code&gt;logphase&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;logPhase&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: String)Unit" id="469341">setLogPhase</a><span class="delimiter">(</span><a title="String" id="477862">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469282" title="(x$1: List[String])Unit">logPhase</a> = <a href="#477862" title="String">input</a>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><a href="../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</a><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span>.<a href="../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[java.lang.String]">toList</a>.<a href="../../collection/TraversableLike.scala.html#49046" title="(f: java.lang.String =&gt; scala.collection.GenTraversableOnce[java.lang.String])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.String],java.lang.String,List[String]])List[String]">flatMap</a> <a href="../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">{</a> s: <span title="String">String</span> =&gt;
      <span class="keyword">val</span> <a title="java.lang.String" id="477981">st</a> = <a href="#477980" title="String">s</a>.<span title="()java.lang.String">trim</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="List[java.lang.String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#469236" title="object Scalac.this.CompilerPhase">CompilerPhase</a>.<a href="#477470" title="(value: String)Boolean">isPermissible</a><span class="delimiter">(</span><a href="#477981" title="java.lang.String">st</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">(</span><span title="List[java.lang.String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#477862" title="String">input</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <a href="../../collection/immutable/List.scala.html#48877" title="(xs: java.lang.String*)List[java.lang.String]">List</a><span class="delimiter">(</span><a href="#477981" title="java.lang.String">st</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Phase &quot;)" class="string">&quot;Phase &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#477981" title="java.lang.String">st</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in log does not exist.&quot;)" class="string">&quot; in log does not exist.&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Set the &lt;code&gt;debug&lt;/code&gt; info attribute.
   *  @param input The value for &lt;code&gt;debug&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: String)Unit" id="469342">setDebuginfo</a><span class="delimiter">(</span><a title="String" id="478020">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#469285" title="(x$1: Option[String])Unit">debugInfo</a> = <a href="../../Option.scala.html#57885" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#478020" title="String">input</a><span class="delimiter">)</span> <span class="delimiter">}</span>

  <span class="comment">/** Set the &lt;code&gt;addparams&lt;/code&gt; info attribute.
   *  @param input The value for &lt;code&gt;addparams&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: String)Unit" id="469343">setAddparams</a><span class="delimiter">(</span><a title="String" id="478025">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#469288" title="(x$1: String)Unit">addParams</a> = <a href="#478025" title="String">input</a> <span class="delimiter">}</span>

  <span class="comment">/** Set the &lt;code&gt;deprecation&lt;/code&gt; info attribute.
   *  @param input One of the flags &lt;code&gt;yes/no&lt;/code&gt; or &lt;code&gt;on/off&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: String)Unit" id="469344">setDeprecation</a><span class="delimiter">(</span><a title="String" id="478027">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469291" title="(x$1: Option[Boolean])Unit">deprecation</a> = <a href="#469240" title="object Scalac.this.Flag">Flag</a> <a href="#477523" title="(flag: String)Option[Boolean]">toBoolean</a> <a href="#478027" title="String">input</a> <a href="../../Option.scala.html#48497" title="(alternative: =&gt; Option[Boolean])Option[Boolean]">orElse</a> <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unknown deprecation flag \'&quot;)" class="string">&quot;Unknown deprecation flag '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#478027" title="String">input</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Set the &lt;code&gt;optimise&lt;/code&gt; info attribute.
   *  @param input One of the flags &lt;code&gt;yes/no&lt;/code&gt; or &lt;code&gt;on/off&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: String)Unit" id="469345">setOptimise</a><span class="delimiter">(</span><a title="String" id="478034">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469294" title="(x$1: Option[Boolean])Unit">optimise</a> = <a href="#469240" title="object Scalac.this.Flag">Flag</a> <a href="#477523" title="(flag: String)Option[Boolean]">toBoolean</a> <a href="#478034" title="String">input</a> <a href="../../Option.scala.html#48497" title="(alternative: =&gt; Option[Boolean])Option[Boolean]">orElse</a> <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unknown optimisation flag \'&quot;)" class="string">&quot;Unknown optimisation flag '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#478034" title="String">input</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Set the &lt;code&gt;unchecked&lt;/code&gt; info attribute.
   *  @param input One of the flags &lt;code&gt;yes/no&lt;/code&gt; or &lt;code&gt;on/off&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: String)Unit" id="469346">setUnchecked</a><span class="delimiter">(</span><a title="String" id="478039">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#469297" title="(x$1: Option[Boolean])Unit">unchecked</a> = <a href="#469240" title="object Scalac.this.Flag">Flag</a> <a href="#477523" title="(flag: String)Option[Boolean]">toBoolean</a> <a href="#478039" title="String">input</a> <a href="../../Option.scala.html#48497" title="(alternative: =&gt; Option[Boolean])Option[Boolean]">orElse</a> <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unknown unchecked flag \'&quot;)" class="string">&quot;Unknown unchecked flag '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#478039" title="String">input</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Sets the &lt;code&gt;force&lt;/code&gt; attribute. Used by Ant.
   *  @param input The value for &lt;code&gt;force&lt;/code&gt;. */</span>
  <span class="keyword">def</span> <a title="(input: Boolean)Unit" id="469347">setFailonerror</a><span class="delimiter">(</span><a title="Boolean" id="478044">input</a>: <a href="../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#469300" title="(x$1: Boolean)Unit">failonerror</a> = <a href="#478044" title="Boolean">input</a> <span class="delimiter">}</span>

  <span class="comment">/** Set the &lt;code&gt;scalacdebugging&lt;/code&gt; info attribute. If set to
   *  &lt;code&gt;true&lt;/code&gt;, the scalac ant task will print out the filenames
   *  being compiled.
   *  @param input The specified flag */</span>
  <span class="keyword">def</span> <a title="(input: Boolean)Unit" id="469348">setScalacdebugging</a><span class="delimiter">(</span><a title="Boolean" id="478046">input</a>: <a href="../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#469309" title="(x$1: Boolean)Unit">scalacDebugging</a> = <a href="#478046" title="Boolean">input</a> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(input: String)Unit" id="469349">setAssemname</a><span class="delimiter">(</span><a title="String" id="478048">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#469303" title="(x$1: Option[String])Unit">assemname</a> = <a href="../../Option.scala.html#57885" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#478048" title="String">input</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(input: String)Unit" id="469350">setAssemrefs</a><span class="delimiter">(</span><a title="String" id="478053">input</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#469306" title="(x$1: Option[String])Unit">assemrefs</a> = <a href="../../Option.scala.html#57885" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#478053" title="String">input</a><span class="delimiter">)</span> <span class="delimiter">}</span>

<span class="comment">/*============================================================================*\
**                             Properties getters                             **
\*============================================================================*/</span>

  <span class="comment">/** Gets the value of the &lt;code&gt;classpath&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The class path as a list of files. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[java.io.File]" id="469351">getClasspath</a>: <a href="../../collection/immutable/List.scala.html#14047" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#469312" title="(p: Option[org.apache.tools.ant.types.Path], name: String)List[java.io.File]">pathAsList</a><span class="delimiter">(</span><a href="#469249" title="=&gt; Option[org.apache.tools.ant.types.Path]">classpath</a>, <span title="java.lang.String(&quot;classpath&quot;)" class="string">&quot;classpath&quot;</span><span class="delimiter">)</span>

  <span class="comment">/** Gets the value of the &lt;code&gt;origin&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The origin path as a list of files. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[java.io.File]" id="469352">getOrigin</a>: <a href="../../collection/immutable/List.scala.html#14047" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#469312" title="(p: Option[org.apache.tools.ant.types.Path], name: String)List[java.io.File]">pathAsList</a><span class="delimiter">(</span><a href="#469243" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a>, <span title="java.lang.String(&quot;origin&quot;)" class="string">&quot;origin&quot;</span><span class="delimiter">)</span>

  <span class="comment">/** Gets the value of the &lt;code&gt;destination&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The destination as a file. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.io.File" id="469353">getDestination</a>: <span title="java.io.File">File</span> =
    <span title="java.io.File" class="keyword">if</span> <span class="delimiter">(</span><a href="#469246" title="=&gt; Option[java.io.File]">destination</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Member \'destination\' is empty.&quot;)" class="string">&quot;Member 'destination' is empty.&quot;</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#469359" title="(file: java.io.File)java.io.File">existing</a><span class="delimiter">(</span><a href="#21477" title="()org.apache.tools.ant.Project">getProject</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)java.io.File">resolveFile</span><span class="delimiter">(</span><a href="#469246" title="=&gt; Option[java.io.File]">destination</a>.<a href="../../Option.scala.html#48473" title="=&gt; java.io.File">get</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Gets the value of the &lt;code&gt;sourcepath&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The source path as a list of files. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[java.io.File]" id="469354">getSourcepath</a>: <a href="../../collection/immutable/List.scala.html#14047" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#469312" title="(p: Option[org.apache.tools.ant.types.Path], name: String)List[java.io.File]">pathAsList</a><span class="delimiter">(</span><a href="#469252" title="=&gt; Option[org.apache.tools.ant.types.Path]">sourcepath</a>, <span title="java.lang.String(&quot;sourcepath&quot;)" class="string">&quot;sourcepath&quot;</span><span class="delimiter">)</span>

  <span class="comment">/** Gets the value of the &lt;code&gt;bootclasspath&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The boot class path as a list of files. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[java.io.File]" id="469355">getBootclasspath</a>: <a href="../../collection/immutable/List.scala.html#14047" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#469312" title="(p: Option[org.apache.tools.ant.types.Path], name: String)List[java.io.File]">pathAsList</a><span class="delimiter">(</span><a href="#469255" title="=&gt; Option[org.apache.tools.ant.types.Path]">bootclasspath</a>, <span title="java.lang.String(&quot;bootclasspath&quot;)" class="string">&quot;bootclasspath&quot;</span><span class="delimiter">)</span>

  <span class="comment">/** Gets the value of the &lt;code&gt;extdirs&lt;/code&gt; attribute in a
   *  Scala-friendly form.
   *  @return The extensions path as a list of files. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; List[java.io.File]" id="469356">getExtdirs</a>: <a href="../../collection/immutable/List.scala.html#14047" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span> = <a href="#469312" title="(p: Option[org.apache.tools.ant.types.Path], name: String)List[java.io.File]">pathAsList</a><span class="delimiter">(</span><a href="#469261" title="=&gt; Option[org.apache.tools.ant.types.Path]">extdirs</a>, <span title="java.lang.String(&quot;extdirs&quot;)" class="string">&quot;extdirs&quot;</span><span class="delimiter">)</span>

<span class="comment">/*============================================================================*\
**                       Compilation and support methods                      **
\*============================================================================*/</span>

  <span class="comment">/** Transforms a string name into a file relative to the provided base
   *  directory.
   *  @param base A file pointing to the location relative to which the name
   *              will be resolved.
   *  @param name A relative or absolute path to the file as a string.
   *  @return     A file created from the name and the base file. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(base: java.io.File)(name: String)java.io.File" id="469357">nameToFile</a><span class="delimiter">(</span><a title="java.io.File" id="477712">base</a>: <span title="java.io.File">File</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="String" id="477713">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
    <a href="#469359" title="(file: java.io.File)java.io.File">existing</a><span class="delimiter">(</span><a href="#469231" title="=&gt; org.apache.tools.ant.util.FileUtils">fileUtils</a>.<span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File">resolveFile</span><span class="delimiter">(</span><a href="#477712" title="java.io.File">base</a>, <a href="#477713" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Transforms a string name into a file relative to the build root
   *  directory.
   *  @param name A relative or absolute path to the file as a string.
   *  @return     A file created from the name. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(name: String)java.io.File" id="469358">nameToFile</a><span class="delimiter">(</span><a title="String" id="477710">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> =
    <a href="#469359" title="(file: java.io.File)java.io.File">existing</a><span class="delimiter">(</span><a href="#21477" title="()org.apache.tools.ant.Project">getProject</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)java.io.File">resolveFile</span><span class="delimiter">(</span><a href="#477710" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Tests if a file exists and prints a warning in case it doesn't. Always
   *  returns the file, even if it doesn't exist.
   *  @param file A file to test for existance.
   *  @return     The same file. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(file: java.io.File)java.io.File" id="469359">existing</a><span class="delimiter">(</span><a title="java.io.File" id="478064">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="java.io.File">File</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#478064" title="java.io.File">file</a>.<span title="()Boolean">exists</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#21477" title="(x$1: java.lang.String, x$2: Int)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Element \'&quot;)" class="string">&quot;Element '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#478064" title="java.io.File">file</a>.<span title="()java.lang.String">toString</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' does not exist.&quot;)" class="string">&quot;' does not exist.&quot;</span>,
          Project.<span title="Int(1)">MSG_WARN</span><span class="delimiter">)</span>
    <a href="#478064" title="java.io.File">file</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Transforms a path into a Scalac-readable string.
   *  @param path A path to convert.
   *  @return     A string-representation of the path like &lt;code&gt;a.jar:b.jar&lt;/code&gt;. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(path: List[java.io.File])String" id="469360">asString</a><span class="delimiter">(</span><a title="List[java.io.File]" id="478083">path</a>: <a href="../../collection/immutable/List.scala.html#14047" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> =
    <a href="#478083" title="List[java.io.File]">path</a>.<a href="../../collection/TraversableLike.scala.html#49041" title="(f: java.io.File =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[java.io.File],String,List[String]])List[String]">map</a><a href="../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#469361" title="(file: java.io.File)String">asString</a><span class="delimiter">)</span>.<a href="../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="object java.io.File">File</span>.<span title="java.lang.String">pathSeparator</span><span class="delimiter">)</span>

  <span class="comment">/** Transforms a file into a Scalac-readable string.
   *  @param path A file to convert.
   *  @return     A string-representation of the file like &lt;code&gt;/x/k/a.scala&lt;/code&gt;. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(file: java.io.File)String" id="469361">asString</a><span class="delimiter">(</span><a title="java.io.File" id="478104">file</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="String">String</span> =
    <a href="#478104" title="java.io.File">file</a>.<span title="()java.lang.String">getAbsolutePath</span><span class="delimiter">(</span><span class="delimiter">)</span>

<span class="comment">/*============================================================================*\
**                      Hooks for variants of Scala                           **
\*============================================================================*/</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(error: String =&gt; Unit)scala.tools.nsc.Settings" id="469362">newSettings</a><span class="delimiter">(</span><a title="String =&gt; Unit" id="478146">error</a>: String=&gt;Unit<span class="delimiter">)</span>: <a href="../nsc/Settings.scala.html#22887" title="scala.tools.nsc.Settings">Settings</a> =
    <span title="scala.tools.nsc.Settings" class="keyword">new</span> <a href="../nsc/Settings.scala.html#22887" title="scala.tools.nsc.Settings">Settings</a><span class="delimiter">(</span><a href="#478146" title="String =&gt; Unit">error</a><span class="delimiter">)</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(settings: scala.tools.nsc.Settings, reporter: scala.tools.nsc.reporters.Reporter)scala.tools.nsc.Global" id="469363">newGlobal</a><span class="delimiter">(</span><a title="scala.tools.nsc.Settings" id="478151">settings</a>: <a href="../nsc/Settings.scala.html#22887" title="scala.tools.nsc.Settings">Settings</a>, <a title="scala.tools.nsc.reporters.Reporter" id="478152">reporter</a>: <a href="../nsc/reporters/Reporter.scala.html#34933" title="scala.tools.nsc.reporters.Reporter">Reporter</a><span class="delimiter">)</span> =
    <span title="scala.tools.nsc.Global" class="keyword">new</span> <a href="../nsc/Global.scala.html#22521" title="scala.tools.nsc.Global">Global</a><span class="delimiter">(</span><a href="#478151" title="scala.tools.nsc.Settings">settings</a>, <a href="#478152" title="scala.tools.nsc.reporters.Reporter">reporter</a><span class="delimiter">)</span>


<span class="comment">/*============================================================================*\
**                           The big execute method                           **
\*============================================================================*/</span>

  <span class="comment">/** Initializes settings and source files */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; (scala.tools.nsc.Settings, List[java.io.File], Boolean)" id="469364">initialize</a>: <a href="../../Tuple3.scala.html#317" title="(scala.tools.nsc.Settings, List[java.io.File], Boolean)" class="delimiter">(</a>Settings, List<span class="delimiter">[</span>File<span class="delimiter">]</span>, Boolean<span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#469309" title="=&gt; Boolean">scalacDebugging</a><span class="delimiter">)</span>
      <a href="#21477" title="(x$1: java.lang.String)Unit">log</a><span class="delimiter">(</span><a href="../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Base directory is `%s`&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>scala.tools.nsc.io.<a href="../nsc/io/Path.scala.html#479374" title="(path: String)scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>.<a href="../nsc/io/Path.scala.html#479415" title="=&gt; scala.tools.nsc.io.Path">normalize</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">// Tests if all mandatory attributes are set and valid.</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#469243" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Attribute \'srcdir\' is not set.&quot;)" class="string">&quot;Attribute 'srcdir' is not set.&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469246" title="=&gt; Option[java.io.File]">destination</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a> <a href="../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469246" title="=&gt; Option[java.io.File]">destination</a>.<a href="../../Option.scala.html#48473" title="=&gt; java.io.File">get</a>.<span title="()Boolean">isDirectory</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Attribute \'destdir\' does not refer to an existing directory.&quot;)" class="string">&quot;Attribute 'destdir' does not refer to an existing directory.&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#469246" title="=&gt; Option[java.io.File]">destination</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#469246" title="(x$1: Option[java.io.File])Unit">destination</a> = <a href="../../Option.scala.html#57885" title="(x: java.io.File)Some[java.io.File]">Some</a><span class="delimiter">(</span><a href="#469352" title="=&gt; List[java.io.File]">getOrigin</a>.<a href="../../collection/IterableLike.scala.html#53870" title="=&gt; java.io.File">head</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="org.apache.tools.ant.util.GlobPatternMapper" id="479348">mapper</a> = <span title="org.apache.tools.ant.util.GlobPatternMapper" class="keyword">new</span> <span title="org.apache.tools.ant.util.GlobPatternMapper">GlobPatternMapper</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#479348" title="org.apache.tools.ant.util.GlobPatternMapper">mapper</a> <span title="(x$1: java.lang.String)Unit">setTo</span> <span title="java.lang.String(&quot;*.class&quot;)" class="string">&quot;*.class&quot;</span>
    <a href="#479348" title="org.apache.tools.ant.util.GlobPatternMapper">mapper</a> <span title="(x$1: java.lang.String)Unit">setFrom</span> <span title="java.lang.String(&quot;*.scala&quot;)" class="string">&quot;*.scala&quot;</span>

    <span class="keyword">var</span> <a title="Boolean" id="479349">javaOnly</a> = <span title="Boolean(true)" class="keyword">true</span>

    <span class="keyword">def</span> <a title="(originDir: java.io.File)List[java.lang.String]" id="479350">getOriginFiles</a><span class="delimiter">(</span><a title="java.io.File" id="479487">originDir</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Array[java.lang.String]" id="479488">includedFiles</a> = <a href="#21477" title="(x$1: java.io.File)org.apache.tools.ant.DirectoryScanner">getDirectoryScanner</a><span class="delimiter">(</span><a href="#479487" title="java.io.File">originDir</a><span class="delimiter">)</span>.<span title="()Array[java.lang.String]">getIncludedFiles</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[java.lang.String]" id="479489">javaFiles</a> = <a href="../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">includedFiles</a> <a href="../../collection/TraversableLike.scala.html#49051" title="(p: java.lang.String =&gt; Boolean)Array[java.lang.String]">filter</a> <span class="delimiter">(</span><a href="#479681" title="java.lang.String">_</a> <span title="(x$1: java.lang.String)Boolean">endsWith</span> <span title="java.lang.String(&quot;.java&quot;)" class="string">&quot;.java&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[java.lang.String]" id="479490">scalaFiles</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Array[java.lang.String]" id="479682">xs</a> = <a href="../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">includedFiles</a> <a href="../../collection/TraversableLike.scala.html#49051" title="(p: java.lang.String =&gt; Boolean)Array[java.lang.String]">filter</a> <span class="delimiter">(</span><a href="#479871" title="java.lang.String">_</a> <span title="(x$1: java.lang.String)Boolean">endsWith</span> <span title="java.lang.String(&quot;.scala&quot;)" class="string">&quot;.scala&quot;</span><span class="delimiter">)</span>
        <span title="Array[java.lang.String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#469270" title="=&gt; Boolean">force</a><span class="delimiter">)</span> <a href="#479682" title="Array[java.lang.String]">xs</a>
        <span class="keyword">else</span> <span title="org.apache.tools.ant.util.SourceFileScanner" class="keyword">new</span> <span title="org.apache.tools.ant.util.SourceFileScanner">SourceFileScanner</span><span class="delimiter">(</span><a href="#21477" title="scala.tools.ant.Scalac" class="keyword">this</a><span class="delimiter">)</span>.<span title="(x$1: Array[java.lang.String], x$2: java.io.File, x$3: java.io.File, x$4: org.apache.tools.ant.util.FileNameMapper)Array[java.lang.String]">restrict</span><span class="delimiter">(</span><a href="#479682" title="Array[java.lang.String]">xs</a>, <a href="#479487" title="java.io.File">originDir</a>, <a href="#469246" title="=&gt; Option[java.io.File]">destination</a>.<a href="../../Option.scala.html#48473" title="=&gt; java.io.File">get</a>, <a href="#479348" title="org.apache.tools.ant.util.GlobPatternMapper">mapper</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#479349" title="Boolean">javaOnly</a> = <a href="#479349" title="Boolean">javaOnly</a> <a href="../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#479490" title="Array[java.lang.String]">scalaFiles</a>.<a href="../../Array.scala.html#49204" title="=&gt; Int">length</a> <a href="../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[java.lang.String]" id="479491">list</a> = <span class="delimiter">(</span><a href="../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">scalaFiles</a> <a href="../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">++</a> <a href="../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">javaFiles</a><span class="delimiter">)</span>.<a href="../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[java.lang.String]">toList</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#469309" title="=&gt; Boolean">scalacDebugging</a> <a href="../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#479491" title="List[java.lang.String]">list</a>.<a href="../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
        <a href="#21477" title="(x$1: java.lang.String)Unit">log</a><span class="delimiter">(</span><a href="../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Compiling source file%s: %s to %s&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#469314" title="(xs: List[Any])java.lang.String">plural</a><span class="delimiter">(</span><a href="#479491" title="List[java.lang.String]">list</a><span class="delimiter">)</span>,
          <a href="#479491" title="List[java.lang.String]">list</a>.<a href="../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>,
          <a href="#469353" title="=&gt; java.io.File">getDestination</a>.<span title="()java.lang.String">toString</span>
        <span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#479491" title="List[java.lang.String]">list</a>.<a href="../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="String" id="480642">str</a> =
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">javaFiles</a>.<a href="../../collection/IndexedSeqOptimized.scala.html#55925" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%d source file%s&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#479491" title="List[java.lang.String]">list</a>.<a href="../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a>, <a href="#469314" title="(xs: List[Any])java.lang.String">plural</a><span class="delimiter">(</span><a href="#479491" title="List[java.lang.String]">list</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%d scala and %d java source files&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#479490" title="Array[java.lang.String]">scalaFiles</a>.<a href="../../Array.scala.html#49204" title="=&gt; Int">length</a>, <a href="#479489" title="Array[java.lang.String]">javaFiles</a>.<a href="../../Array.scala.html#49204" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <a href="#21477" title="(x$1: java.lang.String)Unit">log</a><span class="delimiter">(</span><a href="../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Compiling %s to %s&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#480642" title="String">str</a>, <a href="#469353" title="=&gt; java.io.File">getDestination</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#21477" title="(x$1: java.lang.String, x$2: Int)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;No files selected for compilation&quot;)" class="string">&quot;No files selected for compilation&quot;</span>, Project.<span title="Int(3)">MSG_VERBOSE</span><span class="delimiter">)</span>

      <a href="#479491" title="List[java.lang.String]">list</a>
    <span class="delimiter">}</span>

    <span class="comment">// Scans source directories to build up a compile lists.</span>
    <span class="comment">// If force is false, only files were the .class file in destination is</span>
    <span class="comment">// older than the .scala file will be used.</span>
    <span class="keyword">val</span> <a title="List[java.io.File]" id="479351">sourceFiles</a>: <a href="../../collection/immutable/List.scala.html#14047" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="java.io.File" id="480933">originDir</a> &lt;- <a href="../../collection/TraversableLike.scala.html#49046" title="(f: java.io.File =&gt; scala.collection.GenTraversableOnce[java.io.File])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.io.File],java.io.File,List[java.io.File]])List[java.io.File]">getOrigin</a> ; <a title="java.lang.String" id="480953">originFile</a> &lt;- <a href="#479350" title="(originDir: java.io.File)List[java.lang.String]">getOriginFiles</a><a href="../../collection/TraversableLike.scala.html#49041" title="(f: java.lang.String =&gt; java.io.File)(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.String],java.io.File,List[java.io.File]])List[java.io.File]" class="delimiter">(</a><a href="#480933" title="java.io.File">originDir</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="#21477" title="(x$1: java.lang.String, x$2: Int)Unit">log</a><span class="delimiter">(</span><a href="#480953" title="java.lang.String">originFile</a>, Project.<span title="Int(4)">MSG_DEBUG</span><span class="delimiter">)</span>
        <a href="#469357" title="(base: java.io.File)(name: String)java.io.File">nameToFile</a><span class="delimiter">(</span><a href="#480933" title="java.io.File">originDir</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#480953" title="java.lang.String">originFile</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">// Builds-up the compilation settings for Scalac with the existing Ant</span>
    <span class="comment">// parameters.</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.Settings" id="479352">settings</a> = <a href="#469362" title="(error: String =&gt; Unit)scala.tools.nsc.Settings">newSettings</a><span class="delimiter">(</span><a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">)</span>
    <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/ScalaSettings.scala.html#469709" title="=&gt; settings.OutputSetting">outdir</a>.<a href="../nsc/settings/MutableSettings.scala.html#470088" title="(str: String)Unit">value</a> = <a href="#469361" title="(file: java.io.File)String">asString</a><span class="delimiter">(</span><a href="#469246" title="=&gt; Option[java.io.File]">destination</a>.<a href="../../Option.scala.html#48473" title="=&gt; java.io.File">get</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469249" title="=&gt; Option[org.apache.tools.ant.types.Path]">classpath</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
      <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/ScalaSettings.scala.html#469629" title="=&gt; settings.PathSetting">classpath</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.classpath.T)Unit">value</a> = <a href="#469360" title="(path: List[java.io.File])String">asString</a><span class="delimiter">(</span><a href="#469351" title="=&gt; List[java.io.File]">getClasspath</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469252" title="=&gt; Option[org.apache.tools.ant.types.Path]">sourcepath</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
      <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/StandardScalaSettings.scala.html#469836" title="=&gt; settings.PathSetting">sourcepath</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.sourcepath.T)Unit">value</a> = <a href="#469360" title="(path: List[java.io.File])String">asString</a><span class="delimiter">(</span><a href="#469354" title="=&gt; List[java.io.File]">getSourcepath</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#469243" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a>.<a href="../../Option.scala.html#48473" title="=&gt; org.apache.tools.ant.types.Path">get</a>.<span title="()Int">size</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/StandardScalaSettings.scala.html#469836" title="=&gt; settings.PathSetting">sourcepath</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.sourcepath.T)Unit">value</a> = <a href="#469243" title="=&gt; Option[org.apache.tools.ant.types.Path]">origin</a>.<a href="../../Option.scala.html#48473" title="=&gt; org.apache.tools.ant.types.Path">get</a>.<span title="()Array[java.lang.String]">list</span><a href="../../Array.scala.html#49205" title="(i: Int)java.lang.String" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469255" title="=&gt; Option[org.apache.tools.ant.types.Path]">bootclasspath</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
      <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/StandardScalaSettings.scala.html#469826" title="=&gt; settings.PathSetting">bootclasspath</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.bootclasspath.T)Unit">value</a> = <a href="#469360" title="(path: List[java.io.File])String">asString</a><span class="delimiter">(</span><a href="#469355" title="=&gt; List[java.io.File]">getBootclasspath</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469261" title="=&gt; Option[org.apache.tools.ant.types.Path]">extdirs</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/StandardScalaSettings.scala.html#469830" title="=&gt; settings.PathSetting">extdirs</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.extdirs.T)Unit">value</a> = <a href="#469360" title="(path: List[java.io.File])String">asString</a><span class="delimiter">(</span><a href="#469356" title="=&gt; List[java.io.File]">getExtdirs</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469264" title="=&gt; Option[String]">encoding</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/StandardScalaSettings.scala.html#469842" title="=&gt; settings.StringSetting">encoding</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.encoding.T)Unit">value</a> = <a href="#469264" title="=&gt; Option[String]">encoding</a>.<a href="../../Option.scala.html#48473" title="=&gt; String">get</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469267" title="=&gt; Option[String]">backend</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/StandardScalaSettings.scala.html#469857" title="=&gt; settings.ChoiceSetting">target</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.target.T)Unit">value</a> = <a href="#469267" title="=&gt; Option[String]">backend</a>.<a href="../../Option.scala.html#48473" title="=&gt; String">get</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469279" title="=&gt; Option[String]">logging</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a> <a href="../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#469279" title="=&gt; Option[String]">logging</a>.<a href="../../Option.scala.html#48473" title="=&gt; String">get</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;verbose&quot;)" class="string">&quot;verbose&quot;</span><span class="delimiter">)</span>
      <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/StandardScalaSettings.scala.html#469865" title="=&gt; settings.BooleanSetting">verbose</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.verbose.T)Unit">value</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469279" title="=&gt; Option[String]">logging</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a> <a href="../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#469279" title="=&gt; Option[String]">logging</a>.<a href="../../Option.scala.html#48473" title="=&gt; String">get</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;debug&quot;)" class="string">&quot;debug&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/StandardScalaSettings.scala.html#469865" title="=&gt; settings.BooleanSetting">verbose</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.verbose.T)Unit">value</a> = <span title="Boolean(true)" class="keyword">true</span>
      <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/ScalaSettings.scala.html#469727" title="=&gt; settings.BooleanSetting">debug</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.debug.T)Unit">value</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469282" title="=&gt; List[String]">logPhase</a>.<a href="../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/ScalaSettings.scala.html#469735" title="=&gt; settings.PhasesSetting">log</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.log.T)Unit">value</a> = <a href="#469282" title="=&gt; List[String]">logPhase</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469285" title="=&gt; Option[String]">debugInfo</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/ScalaSettings.scala.html#469706" title="=&gt; settings.ChoiceSetting">debuginfo</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: java.lang.String)Unit">value</a> = <a href="#469285" title="=&gt; Option[String]">debugInfo</a>.<a href="../../Option.scala.html#48473" title="=&gt; String">get</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469291" title="=&gt; Option[Boolean]">deprecation</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/StandardScalaSettings.scala.html#469840" title="=&gt; settings.BooleanSetting">deprecation</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.deprecation.T)Unit">value</a> = <a href="#469291" title="=&gt; Option[Boolean]">deprecation</a>.<a href="../../Option.scala.html#48473" title="=&gt; Boolean">get</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469294" title="=&gt; Option[Boolean]">optimise</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/ScalaSettings.scala.html#469705" title="=&gt; settings.BooleanSetting">XO</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: Boolean)Unit">value</a> = <a href="#469294" title="=&gt; Option[Boolean]">optimise</a>.<a href="../../Option.scala.html#48473" title="=&gt; Boolean">get</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469297" title="=&gt; Option[Boolean]">unchecked</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/StandardScalaSettings.scala.html#469859" title="=&gt; settings.BooleanSetting">unchecked</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.unchecked.T)Unit">value</a> = <a href="#469297" title="=&gt; Option[Boolean]">unchecked</a>.<a href="../../Option.scala.html#48473" title="=&gt; Boolean">get</a>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469303" title="=&gt; Option[String]">assemname</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/ScalaSettings.scala.html#469639" title="=&gt; settings.StringSetting">assemname</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.assemname.T)Unit">value</a> = <a href="#469303" title="=&gt; Option[String]">assemname</a>.<a href="../../Option.scala.html#48473" title="=&gt; String">get</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#469306" title="=&gt; Option[String]">assemrefs</a>.<a href="../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/ScalaSettings.scala.html#469641" title="=&gt; settings.StringSetting">assemrefs</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: settings.assemrefs.T)Unit">value</a> = <a href="#469306" title="=&gt; Option[String]">assemrefs</a>.<a href="../../Option.scala.html#48473" title="=&gt; String">get</a>

    <a href="#21477" title="(x$1: java.lang.String, x$2: Int)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Scalac params = \'&quot;)" class="string">&quot;Scalac params = '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#469288" title="=&gt; String">addParams</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span>, Project.<span title="Int(4)">MSG_DEBUG</span><span class="delimiter">)</span>

    <span class="comment">// let CompilerCommand processes all params</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.CompilerCommand" id="479353">command</a> = <span title="scala.tools.nsc.CompilerCommand" class="keyword">new</span> <a href="../nsc/CompilerCommand.scala.html#22638" title="scala.tools.nsc.CompilerCommand">CompilerCommand</a><span class="delimiter">(</span><a href="#479352" title="scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/MutableSettings.scala.html#469552" title="(line: String)List[String]">splitParams</a><span class="delimiter">(</span><a href="#469288" title="=&gt; String">addParams</a><span class="delimiter">)</span>, <a href="#479352" title="scala.tools.nsc.Settings">settings</a><span class="delimiter">)</span>

    <span class="comment">// resolve dependenciesFile path from project's basedir, so &lt;ant antfile ...&gt; call from other project works.</span>
    <span class="comment">// the dependenciesFile may be relative path to basedir or absolute path, in either case, the following code</span>
    <span class="comment">// will return correct answer.</span>
    <a href="#479353" title="scala.tools.nsc.CompilerCommand">command</a>.<a href="../nsc/CompilerCommand.scala.html#481235" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/ScalaSettings.scala.html#469707" title="=&gt; command.settings.StringSetting">dependenciesFile</a>.<a href="../nsc/settings/MutableSettings.scala.html#470030" title="=&gt; java.lang.String">value</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit" class="string">&quot;none&quot;</span> =&gt;
      <span class="keyword">case</span> <a title="Unit" id="481456">x</a> =&gt;
        <span class="keyword">val</span> <a title="scala.tools.nsc.io.Path" id="481457">depFilePath</a> = scala.tools.nsc.io.<a href="../nsc/io/Path.scala.html#479374" title="(path: String)scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="#481456" title="java.lang.String">x</a><span class="delimiter">)</span>
        <a href="#479353" title="scala.tools.nsc.CompilerCommand">command</a>.<a href="../nsc/CompilerCommand.scala.html#481235" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../nsc/settings/ScalaSettings.scala.html#469707" title="=&gt; command.settings.StringSetting">dependenciesFile</a>.<a href="../nsc/settings/MutableSettings.scala.html#470031" title="(arg: java.lang.String)Unit">value</a> = scala.tools.nsc.io.<a href="../nsc/io/Path.scala.html#479375" title="(jfile: scala.tools.nsc.io.package.JFile)scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="#21477" title="()org.apache.tools.ant.Project">getProject</a>.<span title="()java.io.File">getBaseDir</span><span class="delimiter">)</span>.<a href="../nsc/io/Path.scala.html#479415" title="=&gt; scala.tools.nsc.io.Path">normalize</a> <a href="../nsc/io/Path.scala.html#479417" title="(other: scala.tools.nsc.io.Path)scala.tools.nsc.io.Path">resolve</a> <a href="#481457" title="scala.tools.nsc.io.Path">depFilePath</a> <a href="../nsc/io/Path.scala.html#479414" title="=&gt; String">path</a>
    <span class="delimiter">}</span>

    <a href="../../Tuple3.scala.html#53296" title="(_1: scala.tools.nsc.Settings, _2: List[java.io.File], _3: Boolean)(scala.tools.nsc.Settings, List[java.io.File], Boolean)" class="delimiter">(</a><a href="#479353" title="scala.tools.nsc.CompilerCommand">command</a>.<a href="../nsc/CompilerCommand.scala.html#481235" title="=&gt; scala.tools.nsc.Settings">settings</a>, <a href="#479351" title="List[java.io.File]">sourceFiles</a>, <a href="#479349" title="Boolean">javaOnly</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="469365">execute</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a href="../../Tuple3.scala.html#53296" title="(scala.tools.nsc.Settings, List[java.io.File], Boolean)" class="delimiter">(</a><a href="../../Tuple3.scala.html#53312" title="scala.tools.nsc.Settings" id="481604">settings</a>, <a href="../../Tuple3.scala.html#53314" title="List[java.io.File]" id="481605">sourceFiles</a>, <a href="../../Tuple3.scala.html#53316" title="Boolean" id="481606">javaOnly</a><span class="delimiter">)</span> = <a href="#469364" title="=&gt; (scala.tools.nsc.Settings, List[java.io.File], Boolean)">initialize</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#481605" title="List[java.io.File]">sourceFiles</a>.<a href="../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#481606" title="Boolean">javaOnly</a><span class="delimiter">)</span>
      <span title="Nothing" class="keyword">return</span>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#469273" title="=&gt; Boolean">fork</a><span class="delimiter">)</span> <a href="#469366" title="(settings: scala.tools.nsc.Settings, sourceFiles: List[java.io.File])Unit">executeFork</a><span class="delimiter">(</span><a href="#481604" title="scala.tools.nsc.Settings">settings</a>, <a href="#481605" title="List[java.io.File]">sourceFiles</a><span class="delimiter">)</span>  <span class="comment">// TODO - Error</span>
    <span class="keyword">else</span> <a href="#469367" title="(settings: scala.tools.nsc.Settings, sourceFiles: List[java.io.File])Unit">executeInternal</a><span class="delimiter">(</span><a href="#481604" title="scala.tools.nsc.Settings">settings</a>, <a href="#481605" title="List[java.io.File]">sourceFiles</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(settings: scala.tools.nsc.Settings, sourceFiles: List[java.io.File])Unit" id="469366">executeFork</a><span class="delimiter">(</span><a title="scala.tools.nsc.Settings" id="481622">settings</a>: <a href="../nsc/Settings.scala.html#22887" title="scala.tools.nsc.Settings">Settings</a>, <a title="List[java.io.File]" id="481623">sourceFiles</a>: <a href="../../collection/immutable/List.scala.html#14047" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.tools.ant.taskdefs.Java" id="481628">java</a> = <span title="(x$1: org.apache.tools.ant.Task)org.apache.tools.ant.taskdefs.Java" class="keyword">new</span> <span title="org.apache.tools.ant.taskdefs.Java">Java</span><span class="delimiter">(</span><a href="#21477" title="scala.tools.ant.Scalac" class="keyword">this</a><span class="delimiter">)</span>
      <a href="#481628" title="org.apache.tools.ant.taskdefs.Java">java</a> <span title="(x$1: Boolean)Unit">setFork</span> <span title="Boolean(true)" class="keyword">true</span>
      <span class="comment">// using 'setLine' creates multiple arguments out of a space-separated string</span>
      <a href="#469276" title="=&gt; Option[String]">jvmArgs</a> <a href="../../Option.scala.html#48491" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a href="#481628" title="org.apache.tools.ant.taskdefs.Java">java</a>.<span title="()org.apache.tools.ant.types.Commandline.Argument">createJvmarg</span><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: java.lang.String)Unit">setLine</span> <a href="#481852" title="String">_</a> <span class="delimiter">}</span>

      <span class="comment">// use user-provided path or retrieve from classloader</span>
      <span class="comment">// TODO - Allow user to override the compiler classpath</span>
      <span class="keyword">val</span> <a title="org.apache.tools.ant.types.Path" id="481629">scalacPath</a>: <span title="org.apache.tools.ant.types.Path">Path</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="org.apache.tools.ant.types.Path" id="481870">path</a> = <span title="(x$1: org.apache.tools.ant.Project)org.apache.tools.ant.types.Path" class="keyword">new</span> <span title="org.apache.tools.ant.types.Path">Path</span><span class="delimiter">(</span><a href="#21477" title="()org.apache.tools.ant.Project">getProject</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#469258" title="=&gt; Option[org.apache.tools.ant.types.Path]">compilerPath</a>.<a href="../../Option.scala.html#48472" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <a href="#481870" title="org.apache.tools.ant.types.Path">path</a> <span title="(x$1: org.apache.tools.ant.types.Path)Unit">add</span> <a href="#469258" title="=&gt; Option[org.apache.tools.ant.types.Path]">compilerPath</a>.<a href="../../Option.scala.html#48473" title="=&gt; org.apache.tools.ant.types.Path">get</a>
        <span class="keyword">else</span> <a href="#21477" title="()java.lang.Class[_]">getClass</a>.<span title="()java.lang.ClassLoader">getClassLoader</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Unit" id="481878">cl</a>: <span title="org.apache.tools.ant.AntClassLoader">AntClassLoader</span> =&gt; <a href="#481870" title="org.apache.tools.ant.types.Path">path</a> <span title="(x$1: org.apache.tools.ant.types.Path)Unit">add</span> <span title="org.apache.tools.ant.types.Path" class="keyword">new</span> <span title="org.apache.tools.ant.types.Path">Path</span><span class="delimiter">(</span><a href="#21477" title="()org.apache.tools.ant.Project">getProject</a>, <a href="#481878" title="org.apache.tools.ant.AntClassLoader">cl</a>.<span title="()java.lang.String">getClasspath</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Nothing">_</span>                  =&gt; <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot determine default classpath for scalac, please specify one!&quot;)" class="string">&quot;Cannot determine default classpath for scalac, please specify one!&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#481870" title="org.apache.tools.ant.types.Path">path</a>
      <span class="delimiter">}</span>

      <a href="#481628" title="org.apache.tools.ant.taskdefs.Java">java</a> <span title="(x$1: org.apache.tools.ant.types.Path)Unit">setClasspath</span> <a href="#481629" title="org.apache.tools.ant.types.Path">scalacPath</a>
      <a href="#481628" title="org.apache.tools.ant.taskdefs.Java">java</a> <span title="(x$1: java.lang.String)Unit">setClassname</span> <a href="ScalacShared.scala.html#469484" title="=&gt; java.lang.String">MainClass</a>

      <span class="comment">// Write all settings to a temporary file</span>
      <span class="keyword">def</span> <a title="()java.io.File" id="481630">writeSettings</a><span class="delimiter">(</span><span class="delimiter">)</span> : <span title="java.io.File">File</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(arg: String)java.lang.String" id="482040">escapeArgument</a><span class="delimiter">(</span><a title="String" id="482043">arg</a> : <span title="String">String</span><span class="delimiter">)</span> = <span title="java.lang.String" class="keyword">if</span><span class="delimiter">(</span><a href="#482043" title="String">arg</a>.<span title="(x$1: java.lang.String)Boolean">matches</span><span class="delimiter">(</span><span title="java.lang.String(&quot;.*\\s.*&quot;)" class="string">&quot;.*\\s.*&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">(</span><span title="Char(\'\\\&quot;\')" class="char">'&quot;'</span> <a href="../../Char.scala.html#54893" title="(x: String)String">+</a> <a href="#482043" title="String">arg</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="Char(\'\\\&quot;\')" class="char">'&quot;'</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#482043" title="String">arg</a>
        <span class="keyword">val</span> <a title="java.io.File" id="482041">file</a> = <span title="object java.io.File">File</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.io.File">createTempFile</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scalac-ant-&quot;)" class="string">&quot;scalac-ant-&quot;</span>,<span title="java.lang.String(&quot;.args&quot;)" class="string">&quot;.args&quot;</span><span class="delimiter">)</span>
        <a href="#482041" title="java.io.File">file</a>.<span title="()Unit">deleteOnExit</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="java.io.PrintWriter" id="482042">out</a> = <span title="java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><span title="java.io.BufferedWriter" class="keyword">new</span> <span title="java.io.BufferedWriter">BufferedWriter</span><span class="delimiter">(</span><span title="(x$1: java.io.File)java.io.FileWriter" class="keyword">new</span> <span title="java.io.FileWriter">FileWriter</span><span class="delimiter">(</span><a href="#482041" title="java.io.File">file</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="settings.Setting" id="482112">setting</a> &lt;- <a href="#481622" title="scala.tools.nsc.Settings">settings</a>.<a href="../../collection/IterableLike.scala.html#53856" title="(f: settings.Setting =&gt; Unit)Unit">visibleSettings</a> ; <a title="String" id="482134">arg</a> &lt;- <a href="#482112" title="settings.Setting">setting</a>.<a href="../../collection/LinearSeqOptimized.scala.html#71032" title="(f: String =&gt; Unit)Unit">unparse</a><span class="delimiter">)</span>
            <a href="#482042" title="java.io.PrintWriter">out</a> <span title="(x$1: java.lang.String)Unit">println</span> <a href="#482040" title="(arg: String)java.lang.String">escapeArgument</a><span class="delimiter">(</span><a href="#482134" title="String">arg</a><span class="delimiter">)</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="java.io.File" id="482160">file</a> &lt;- <a href="../../collection/LinearSeqOptimized.scala.html#71032" title="(f: java.io.File =&gt; Unit)Unit">sourceFiles</a><span class="delimiter">)</span>
            <a href="#482042" title="java.io.PrintWriter">out</a> <span title="(x$1: java.lang.String)Unit">println</span> <a href="#482040" title="(arg: String)java.lang.String">escapeArgument</a><span class="delimiter">(</span><a href="#482160" title="java.io.File">file</a>.<span title="()java.lang.String">getAbsolutePath</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">finally</span> <a href="#482042" title="java.io.PrintWriter">out</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <a href="#482041" title="java.io.File">file</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Int" id="481631">res</a> = <a href="ScalacShared.scala.html#469486" title="(java: org.apache.tools.ant.taskdefs.Java, paths: List[String])Int">execWithArgFiles</a><span class="delimiter">(</span><a href="#481628" title="org.apache.tools.ant.taskdefs.Java">java</a>, <a href="../../collection/immutable/List.scala.html#48877" title="(xs: java.lang.String*)List[java.lang.String]">List</a><span class="delimiter">(</span><a href="#481630" title="()java.io.File">writeSettings</a>.<span title="()java.lang.String">getAbsolutePath</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#469300" title="=&gt; Boolean">failonerror</a> <a href="../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#481631" title="Int">res</a> <a href="../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span class="string">&quot;Compilation failed because of an internal compiler error;&quot;</span><span title="java.lang.String(&quot;Compilation failed because of an internal compiler error; see the error output for details.&quot;)">+</span>
              <span class="string">&quot; see the error output for details.&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Performs the compilation. */</span>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(settings: scala.tools.nsc.Settings, sourceFiles: List[java.io.File])Unit" id="469367">executeInternal</a><span class="delimiter">(</span><a title="scala.tools.nsc.Settings" id="481625">settings</a>: <a href="../nsc/Settings.scala.html#22887" title="scala.tools.nsc.Settings">Settings</a>, <a title="List[java.io.File]" id="481626">sourceFiles</a> : <a href="../../collection/immutable/List.scala.html#14047" title="List[java.io.File]">List</a><span class="delimiter">[</span>File<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.reporters.ConsoleReporter" id="482438">reporter</a> = <a href="../nsc/reporters/ConsoleReporter.scala.html#482460" title="(settings: scala.tools.nsc.Settings)scala.tools.nsc.reporters.ConsoleReporter" class="keyword">new</a> <a href="../nsc/reporters/ConsoleReporter.scala.html#34927" title="scala.tools.nsc.reporters.ConsoleReporter">ConsoleReporter</a><span class="delimiter">(</span><a href="#481625" title="scala.tools.nsc.Settings">settings</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.Global" id="482439">compiler</a> = <a href="#469363" title="(settings: scala.tools.nsc.Settings, reporter: scala.tools.nsc.reporters.Reporter)scala.tools.nsc.Global">newGlobal</a><span class="delimiter">(</span><a href="#481625" title="scala.tools.nsc.Settings">settings</a>, <a href="#482438" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a><span class="delimiter">)</span>  <span class="comment">// compiles the actual code</span>

    <span class="keyword">try</span> <span title="compiler.Run" class="keyword">new</span> <a href="#482439" title="scala.tools.nsc.Global">compiler</a>.<a href="../nsc/Global.scala.html#478365" title="compiler.Run">Run</a> <a href="../nsc/Global.scala.html#482577" title="(filenames: List[String])Unit">compile</a> <span class="delimiter">(</span><a href="#481626" title="List[java.io.File]">sourceFiles</a> <a href="../../collection/TraversableLike.scala.html#49041" title="(f: java.io.File =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[java.io.File],java.lang.String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#482602" title="java.io.File">_</a>.<span title="()java.lang.String">toString</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="482630">ex</a>: <span title="Throwable">Throwable</span> =&gt;
        <a href="#482630" title="java.lang.Throwable">ex</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="java.lang.String" id="482631">msg</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#482630" title="java.lang.Throwable">ex</a>.<span title="()java.lang.String">getMessage</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;no error message provided&quot;)" class="string">&quot;no error message provided&quot;</span> <span class="keyword">else</span> <a href="#482630" title="java.lang.Throwable">ex</a>.<span title="()java.lang.String">getMessage</span>
        <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Compile failed because of an internal compiler error (&quot;)" class="string">&quot;Compile failed because of an internal compiler error (&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#482631" title="java.lang.String">msg</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;); see the error output for details.&quot;)" class="string">&quot;); see the error output for details.&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#482438" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/ConsoleReporter.scala.html#482474" title="()Unit">printSummary</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#482438" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#479335" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="482670">msg</a> = <a href="../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Compile failed with %d error%s; see the compiler error output for details.&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#482438" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#479316" title="=&gt; reporter.Severity">ERROR</a>.<a href="../nsc/reporters/Reporter.scala.html#482662" title="=&gt; Int">count</a>, <a href="#469315" title="(x: Int)java.lang.String">plural</a><span class="delimiter">(</span><a href="#482438" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#479316" title="=&gt; reporter.Severity">ERROR</a>.<a href="../nsc/reporters/Reporter.scala.html#482662" title="=&gt; Int">count</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#469300" title="=&gt; Boolean">failonerror</a><span class="delimiter">)</span> <a href="ScalaMatchingTask.scala.html#469482" title="(message: String)Nothing">buildError</a><span class="delimiter">(</span><a href="#482670" title="String">msg</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#21477" title="(x$1: java.lang.String)Unit">log</a><span class="delimiter">(</span><a href="#482670" title="String">msg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#482438" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#479314" title="=&gt; reporter.Severity">WARNING</a>.<a href="../nsc/reporters/Reporter.scala.html#482662" title="=&gt; Int">count</a> <a href="../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
      <a href="#21477" title="(x$1: java.lang.String)Unit">log</a><span class="delimiter">(</span><a href="../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Compile succeeded with %d warning%s; see the compiler output for details.&quot;</a>.<a href="../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#482438" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#479314" title="=&gt; reporter.Severity">WARNING</a>.<a href="../nsc/reporters/Reporter.scala.html#482662" title="=&gt; Int">count</a>, <a href="#469315" title="(x: Int)java.lang.String">plural</a><span class="delimiter">(</span><a href="#482438" title="scala.tools.nsc.reporters.ConsoleReporter">reporter</a>.<a href="../nsc/reporters/Reporter.scala.html#479314" title="=&gt; reporter.Severity">WARNING</a>.<a href="../nsc/reporters/Reporter.scala.html#482662" title="=&gt; Int">count</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>