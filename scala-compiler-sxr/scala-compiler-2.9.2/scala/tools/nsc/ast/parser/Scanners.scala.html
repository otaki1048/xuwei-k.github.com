<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/ast/parser/Scanners.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> ast.parser

<span class="keyword">import</span> scala.tools.nsc.util._
<span class="keyword">import</span> <a href="../../util/Chars.scala.html#42440" title="object scala.tools.nsc.util.Chars">Chars</a>._
<span class="keyword">import</span> <a href="Tokens.scala.html#24609" title="object scala.tools.nsc.ast.parser.Tokens">Tokens</a>._
<span class="keyword">import</span> scala.annotation.switch
<span class="keyword">import</span> scala.collection.mutable.<span class="delimiter">{</span> ListBuffer, ArrayBuffer <span class="delimiter">}</span>
<span class="keyword">import</span> scala.xml.<a href="../../../../xml/Utility.scala.html#46093" title="object scala.xml.Utility">Utility</a>.<span class="delimiter">{</span> isNameStart <span class="delimiter">}</span>

<span class="comment">/** See Parsers.scala / ParsersCommon for some explanation of ScannersCommon.
 */</span>
<span class="keyword">trait</span> <a title="trait ScannersCommon extends java.lang.Object with ScalaObject" id="24356">ScannersCommon</a> <a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="500510">global</a> : <a href="../../Global.scala.html#22521" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> <a href="#500510" title="=&gt; scala.tools.nsc.Global">global</a>._

  <span class="keyword">trait</span> <a title="trait CommonTokenData extends java.lang.Object" id="500512">CommonTokenData</a> <span title="java.lang.Object" class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="500914">token</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>
    <span class="keyword">def</span> <a title="=&gt; ScannersCommon.this.global.TermName" id="500915">name</a>: <a href="../../symtab/Names.scala.html#478414" title="ScannersCommon.this.global.TermName">TermName</a>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait ScannerCommon extends java.lang.Object with ScannersCommon.this.CommonTokenData" id="500513">ScannerCommon</a> <span class="keyword">extends</span> <a href="#500512" title="ScannersCommon.this.CommonTokenData">CommonTokenData</a> <span class="delimiter">{</span>
    <span class="comment">// things to fill in, in addition to buf, decodeUni which come from CharArrayReader</span>
    <span class="keyword">def</span> <a title="(off: Int, msg: String)Unit" id="500936">warning</a><span class="delimiter">(</span><a title="Int" id="582841">off</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>, <a title="String" id="582842">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a>
    <span class="keyword">def</span> <a title="(off: Int, msg: String)Unit" id="500937">error</a>  <span class="delimiter">(</span><a title="Int" id="582844">off</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>, <a title="String" id="582845">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a>
    <span class="keyword">def</span> <a title="(off: Int, msg: String)Unit" id="500938">incompleteInputError</a><span class="delimiter">(</span><a title="Int" id="582847">off</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>, <a title="String" id="582848">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(keywords: Seq[(ScannersCommon.this.global.Name, Int)], defaultToken: Int)(Int, Array[Int])" id="500514">createKeywordArray</a><span class="delimiter">(</span><a title="Seq[(ScannersCommon.this.global.Name, Int)]" id="582850">keywords</a>: <a href="../../../../collection/Seq.scala.html#8648" title="Seq[(ScannersCommon.this.global.Name, Int)]">Seq</a><span class="delimiter">[</span><span class="delimiter">(</span>Name, Int<span class="delimiter">)</span><span class="delimiter">]</span>, <a title="Int" id="582851">defaultToken</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../Tuple2.scala.html#1520" title="(Int, Array[Int])" class="delimiter">(</a>Int, Array<span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[(Int, Int)]" id="582853">names</a> = <a href="#582850" title="Seq[(ScannersCommon.this.global.Name, Int)]">keywords</a> <a href="../../../../collection/SeqLike.scala.html#54178" title="(f: ((ScannersCommon.this.global.Name, Int)) =&gt; Int)(implicit ord: scala.math.Ordering[Int])Seq[(ScannersCommon.this.global.Name, Int)]">sortBy</a> <span class="delimiter">(</span><a href="#582863" title="(ScannersCommon.this.global.Name, Int)">_</a>.<a href="../../../../Tuple2.scala.html#53402" title="=&gt; ScannersCommon.this.global.Name">_1</a>.<a href="../../symtab/Names.scala.html#501110" title="=&gt; Int">start</a><span class="delimiter">)</span> <a href="../../../../collection/TraversableLike.scala.html#49041" title="(f: ((ScannersCommon.this.global.Name, Int)) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[(ScannersCommon.this.global.Name, Int)],(Int, Int),Seq[(Int, Int)]])Seq[(Int, Int)]">map</a> <a href="#582946" title="(Int, Int)" class="delimiter">{</a> <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><a title="ScannersCommon.this.global.Name" id="582949">k</a>, <a title="Int" id="582950">v</a><span class="delimiter">)</span> =&gt; <a href="../../../../Tuple2.scala.html#53390" title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</a><a href="#582949" title="ScannersCommon.this.global.Name">k</a>.<a href="../../symtab/Names.scala.html#501110" title="=&gt; Int">start</a>, <a href="#582950" title="Int">v</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="Int" id="582854">low</a>   = <a href="#582853" title="Seq[(Int, Int)]">names</a>.<a href="../../../../collection/IterableLike.scala.html#53870" title="=&gt; (Int, Int)">head</a>.<a href="../../../../Tuple2.scala.html#53402" title="=&gt; Int">_1</a>
    <span class="keyword">val</span> <a title="Int" id="582855">high</a>  = <a href="#582853" title="Seq[(Int, Int)]">names</a>.<a href="../../../../collection/TraversableLike.scala.html#49083" title="=&gt; (Int, Int)">last</a>.<a href="../../../../Tuple2.scala.html#53402" title="=&gt; Int">_1</a>
    <span class="keyword">val</span> <a title="Array[Int]" id="582856">arr</a>   = <a href="../../../../Array.scala.html#1431" title="object Array">Array</a>.<a href="../../../../Array.scala.html#62711" title="(n: Int)(elem: =&gt; Int)(implicit evidence$9: scala.reflect.ClassManifest[Int])Array[Int]">fill</a><span class="delimiter">(</span><a href="#582855" title="Int">high</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#582854" title="Int">low</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><a href="../../../../reflect/Manifest.scala.html#56866" title="=&gt; scala.reflect.AnyValManifest[Int]" class="delimiter">(</a><a href="#582851" title="Int">defaultToken</a><span class="delimiter">)</span>

    <a href="#582853" title="Seq[(Int, Int)]">names</a> <a href="../../../../collection/IterableLike.scala.html#53856" title="(f: ((Int, Int)) =&gt; Unit)Unit">foreach</a> <a href="#583036" title="Unit" class="delimiter">{</a> <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="Int" id="583039">k</a>, <a title="Int" id="583040">v</a><span class="delimiter">)</span> =&gt; <a href="../../../../Array.scala.html#49206" title="(i: Int, x: Int)Unit">arr</a><span class="delimiter">(</span><a href="#583039" title="Int">k</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#582854" title="Int">low</a><span class="delimiter">)</span> = <a href="#583040" title="Int">v</a> <span class="delimiter">}</span>
    <a href="../../../../Tuple2.scala.html#53390" title="(_1: Int, _2: Array[Int])(Int, Array[Int])" class="delimiter">(</a><a href="#582854" title="Int">low</a>, <a href="#582856" title="Array[Int]">arr</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">trait</span> <a title="trait Scanners extends java.lang.Object with scala.tools.nsc.ast.parser.ScannersCommon with ScalaObject" id="24797">Scanners</a> <a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#24356" title="scala.tools.nsc.ast.parser.ScannersCommon">ScannersCommon</a> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="500516">global</a> : <a href="../../Global.scala.html#22521" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> <a href="#500516" title="=&gt; scala.tools.nsc.Global">global</a>._

  <span class="comment">/** Offset into source character array */</span>
  <span class="keyword">type</span> <a title="Int" id="500518">Offset</a> = <a href="../../../../Int.scala.html#386" title="Int">Int</a>

  <span class="comment">/** An undefined offset */</span>
  <span class="keyword">val</span> <a title="Scanners.this.Offset" id="500519">NoOffset</a>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a> = -<span title="Int(-1)" class="int">1</span>

  <span class="keyword">trait</span> <a title="trait TokenData extends java.lang.Object with Scanners.this.CommonTokenData with ScalaObject" id="500521">TokenData</a> <a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#500512" title="Scanners.this.CommonTokenData">CommonTokenData</a> <span class="delimiter">{</span>

    <span class="comment">/** the next token */</span>
    <span class="keyword">var</span> <a title="Int" id="500918">token</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a> = <span title="Int(-3)">EMPTY</span>

    <span class="comment">/** the offset of the first character of the current token */</span>
    <span class="keyword">var</span> <a title="Scanners.this.Offset" id="500921">offset</a>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a> = <span title="Int(0)" class="int">0</span>

    <span class="comment">/** the offset of the character following the token preceding this one */</span>
    <span class="keyword">var</span> <a title="Scanners.this.Offset" id="500924">lastOffset</a>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a> = <span title="Int(0)" class="int">0</span>

    <span class="comment">/** the name of an identifier */</span>
    <span class="keyword">var</span> <a title="Scanners.this.global.TermName" id="500927">name</a>: <a href="../../symtab/Names.scala.html#478414" title="Scanners.this.global.TermName">TermName</a> = <span title="Null(null)" class="keyword">null</span>

    <span class="comment">/** the string value of a literal */</span>
    <span class="keyword">var</span> <a title="String" id="500930">strVal</a>: <span title="String">String</span> = <span title="Null(null)" class="keyword">null</span>

    <span class="comment">/** the base of a number */</span>
    <span class="keyword">var</span> <a title="Int" id="500933">base</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a> = <span title="Int(0)" class="int">0</span>

    <span class="keyword">def</span> <a title="(td: Scanners.this.TokenData)Unit" id="500935">copyFrom</a><span class="delimiter">(</span><a title="Scanners.this.TokenData" id="583931">td</a>: <a href="#500521" title="Scanners.this.TokenData">TokenData</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#500521" title="TokenData.this.type" class="keyword">this</a>.<a href="#500918" title="(x$1: Int)Unit">token</a> = <a href="#583931" title="Scanners.this.TokenData">td</a>.<a href="#500918" title="=&gt; Int">token</a>
      <a href="#500521" title="TokenData.this.type" class="keyword">this</a>.<a href="#500921" title="(x$1: Scanners.this.Offset)Unit">offset</a> = <a href="#583931" title="Scanners.this.TokenData">td</a>.<a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>
      <a href="#500521" title="TokenData.this.type" class="keyword">this</a>.<a href="#500924" title="(x$1: Scanners.this.Offset)Unit">lastOffset</a> = <a href="#583931" title="Scanners.this.TokenData">td</a>.<a href="#500924" title="=&gt; Scanners.this.Offset">lastOffset</a>
      <a href="#500521" title="TokenData.this.type" class="keyword">this</a>.<a href="#500927" title="(x$1: Scanners.this.global.TermName)Unit">name</a> = <a href="#583931" title="Scanners.this.TokenData">td</a>.<a href="#500927" title="=&gt; Scanners.this.global.TermName">name</a>
      <a href="#500521" title="TokenData.this.type" class="keyword">this</a>.<a href="#500930" title="(x$1: String)Unit">strVal</a> = <a href="#583931" title="Scanners.this.TokenData">td</a>.<a href="#500930" title="=&gt; String">strVal</a>
      <a href="#500521" title="TokenData.this.type" class="keyword">this</a>.<a href="#500933" title="(x$1: Int)Unit">base</a> = <a href="#583931" title="Scanners.this.TokenData">td</a>.<a href="#500933" title="=&gt; Int">base</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Scanner extends scala.tools.nsc.util.CharArrayReader with Scanners.this.TokenData with Scanners.this.ScannerCommon with ScalaObject" id="500522">Scanner</a> <a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../util/CharArrayReader.scala.html#42778" title="scala.tools.nsc.util.CharArrayReader">CharArrayReader</a> <span class="keyword">with</span> <a href="#500521" title="Scanners.this.TokenData">TokenData</a> <span class="keyword">with</span> <a href="#500513" title="Scanners.this.ScannerCommon">ScannerCommon</a> <span class="delimiter">{</span>

    <span class="keyword">def</span> <a title="=&gt; Scanners.this.Scanner" id="500823">flush</a> = <span class="delimiter">{</span> <a href="../../util/CharArrayReader.scala.html#500803" title="(x$1: Int)Unit">charOffset</a> = <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>; <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500522" title="Scanners.this.Scanner" class="keyword">this</a> <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(lastCode: Int)Unit" id="500824">resume</a><span class="delimiter">(</span><a title="Int" id="567902">lastCode</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#500918" title="(x$1: Int)Unit">token</a> = <a href="#567902" title="Int">lastCode</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500845" title="=&gt; Scanners.this.TokenData">next</a>.<a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(-3)">EMPTY</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../Global.scala.html#478203" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../../reporters/Reporter.scala.html#479335" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
        <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unexpected end of input: possible missing \'}\' in XML block&quot;)" class="string">&quot;unexpected end of input: possible missing '}' in XML block&quot;</span><span class="delimiter">)</span>

      <a href="#500853" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** the last error offset
     */</span>
    <span class="keyword">var</span> <a title="Scanners.this.Offset" id="500826">errOffset</a>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a> = <a href="#500519" title="=&gt; Scanners.this.Offset">NoOffset</a>

    <span class="comment">/** A character buffer for literals
     */</span>
    <span class="keyword">val</span> <a title="StringBuilder" id="500828">cbuf</a> = <a href="../../../../collection/mutable/StringBuilder.scala.html#60509" title="()StringBuilder" class="keyword">new</a> <a href="../../../../package.scala.html#47558" title="StringBuilder">StringBuilder</a>

    <span class="comment">/** append Unicode character to &quot;cbuf&quot; buffer
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(c: Char)Unit" id="500830">putChar</a><span class="delimiter">(</span><a title="Char" id="583944">c</a>: <a href="../../../../Char.scala.html#2189" title="Char">Char</a><span class="delimiter">)</span> <span class="delimiter">{</span>
<span class="comment">//      assert(cbuf.size &lt; 10000, cbuf)</span>
      <a href="#500828" title="=&gt; StringBuilder">cbuf</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#60543" title="(x: Char)StringBuilder">append</a><span title="Unit" class="delimiter">(</span><a href="#583944" title="Char">c</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Clear buffer and set name and token */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="500831">finishNamed</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#500927" title="(x$1: Scanners.this.global.TermName)Unit">name</a> = <a href="../../symtab/Names.scala.html#478402" title="(s: String)Scanners.this.global.TermName">newTermName</a><span class="delimiter">(</span><a href="#500828" title="=&gt; StringBuilder">cbuf</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#60572" title="()java.lang.String">toString</a><span class="delimiter">)</span>
      <a href="#500918" title="(x$1: Int)Unit">token</a> = <a href="#500532" title="(name: Scanners.this.global.Name)Int">name2token</a><span class="delimiter">(</span><a href="#500927" title="=&gt; Scanners.this.global.TermName">name</a><span class="delimiter">)</span>
      <a href="#500828" title="=&gt; StringBuilder">cbuf</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#60515" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Clear buffer and set string */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="500832">setStrVal</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#500930" title="(x$1: String)Unit">strVal</a> = <a href="#500828" title="=&gt; StringBuilder">cbuf</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#60572" title="()java.lang.String">toString</a>
      <a href="#500828" title="=&gt; StringBuilder">cbuf</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#60515" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Should doc comments be built? */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="500833">buildDocs</a>: <a href="../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="../../Global.scala.html#478376" title="=&gt; Boolean">forScaladoc</a>

    <span class="comment">/** buffer for the documentation comment
     */</span>
    <span class="keyword">var</span> <a title="StringBuilder" id="500835">docBuffer</a>: <a href="../../../../collection/mutable/StringBuilder.scala.html#15106" title="StringBuilder">StringBuilder</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">var</span> <a title="Scanners.this.global.Position" id="500838">docPos</a>: <a href="../../util/Position.scala.html#42664" title="Scanners.this.global.Position">Position</a> = <span title="Null(null)" class="keyword">null</span>

    <span class="comment">/** Return current docBuffer and set docBuffer to null */</span>
    <span class="keyword">def</span> <a title="=&gt; Scanners.this.global.DocComment" id="500840">flushDoc</a>: <a href="../DocComments.scala.html#479266" title="Scanners.this.global.DocComment">DocComment</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Scanners.this.global.DocComment" id="583972">ret</a> = <span title="Scanners.this.global.DocComment" class="keyword">if</span> <span class="delimiter">(</span><a href="#500835" title="=&gt; StringBuilder">docBuffer</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../DocComments.scala.html#529333" title="(raw: String, pos: Scanners.this.global.Position)Scanners.this.global.DocComment">DocComment</a><span class="delimiter">(</span><a href="#500835" title="=&gt; StringBuilder">docBuffer</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#60572" title="()java.lang.String">toString</a>, <a href="#500838" title="=&gt; Scanners.this.global.Position">docPos</a><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
      <a href="#500835" title="(x$1: StringBuilder)Unit">docBuffer</a> = <span title="Null(null)" class="keyword">null</span>
      <a href="#583972" title="Scanners.this.global.DocComment">ret</a>
    <span class="delimiter">}</span>

    <span class="comment">/** add the given character to the documentation buffer
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(c: Char)Unit" id="500841">putDocChar</a><span class="delimiter">(</span><a title="Char" id="583983">c</a>: <a href="../../../../Char.scala.html#2189" title="Char">Char</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500835" title="=&gt; StringBuilder">docBuffer</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#500835" title="=&gt; StringBuilder">docBuffer</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#60543" title="(x: Char)StringBuilder">append</a><span title="Unit" class="delimiter">(</span><a href="#583983" title="Char">c</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(value: String, start: Int, end: Int)Unit" id="500842">foundComment</a><span class="delimiter">(</span><a title="String" id="583989">value</a>: <span title="String">String</span>, <a title="Int" id="583990">start</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="583991">end</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(value: String, start: Int, end: Int)Unit" id="500843">foundDocComment</a><span class="delimiter">(</span><a title="String" id="583994">value</a>: <span title="String">String</span>, <a title="Int" id="583995">start</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="583996">end</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">class</span> <a title="class TokenData0 extends java.lang.Object with Scanners.this.TokenData with ScalaObject" id="500844">TokenData0</a> <a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#500521" title="Scanners.this.TokenData">TokenData</a>

    <span class="comment">/** we need one token lookahead and one token history
     */</span>
    <span class="keyword">val</span> <a title="Scanners.this.TokenData" id="500845">next</a> : <a href="#500521" title="Scanners.this.TokenData">TokenData</a> = <span title="Scanner.this.TokenData0" class="keyword">new</span> <a href="#500844" title="Scanner.this.TokenData0">TokenData0</a>
    <span class="keyword">val</span> <a title="Scanners.this.TokenData" id="500847">prev</a> : <a href="#500521" title="Scanners.this.TokenData">TokenData</a> = <span title="Scanner.this.TokenData0" class="keyword">new</span> <a href="#500844" title="Scanner.this.TokenData0">TokenData0</a>

    <span class="comment">/** a stack of tokens which indicates whether line-ends can be statement separators
     */</span>
    <span class="keyword">var</span> <a title="List[Int]" id="500850">sepRegions</a>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[Int]">List</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> = List<a href="../../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

<span class="comment">// Get next token ------------------------------------------------------------</span>

    <span class="comment">/** read next token and return last offset
     */</span>
    <span class="keyword">def</span> <a title="()Scanners.this.Offset" id="500852">skipToken</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Scanners.this.Offset" id="584010">off</a> = <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>
      <a href="#500853" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#584010" title="Scanners.this.Offset">off</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Produce next token, filling TokenData fields of Scanner.
     */</span>
    <span class="keyword">def</span> <a title="()Unit" id="500853">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="584011">lastToken</a> = <a href="#500918" title="=&gt; Int">token</a>
      <span class="comment">// Adapt sepRegions according to last token</span>
      <span class="delimiter">(</span><a href="#584011" title="Int">lastToken</a>: @<a href="../../../../Int.scala.html#386" title="Int @scala.annotation.switch">switch</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">LPAREN</span> =&gt;
          <a href="#500850" title="(x$1: List[Int])Unit">sepRegions</a> = <span title="Int(91)">RPAREN</span> <a href="../../../../collection/immutable/List.scala.html#49140" title="(x: Int)List[Int]">::</a> <a href="#500850" title="=&gt; List[Int]">sepRegions</a>
        <span class="keyword">case</span> <span title="Unit">LBRACKET</span> =&gt;
          <a href="#500850" title="(x$1: List[Int])Unit">sepRegions</a> = <span title="Int(93)">RBRACKET</span> <a href="../../../../collection/immutable/List.scala.html#49140" title="(x: Int)List[Int]">::</a> <a href="#500850" title="=&gt; List[Int]">sepRegions</a>
        <span class="keyword">case</span> <span title="Unit">LBRACE</span> =&gt;
          <a href="#500850" title="(x$1: List[Int])Unit">sepRegions</a> = <span title="Int(95)">RBRACE</span> <a href="../../../../collection/immutable/List.scala.html#49140" title="(x: Int)List[Int]">::</a> <a href="#500850" title="=&gt; List[Int]">sepRegions</a>
        <span class="keyword">case</span> <span title="Unit">CASE</span> =&gt;
          <a href="#500850" title="(x$1: List[Int])Unit">sepRegions</a> = <span title="Int(77)">ARROW</span> <a href="../../../../collection/immutable/List.scala.html#49140" title="(x: Int)List[Int]">::</a> <a href="#500850" title="=&gt; List[Int]">sepRegions</a>
        <span class="keyword">case</span> <span title="Unit">RBRACE</span> =&gt;
          <a href="#500850" title="(x$1: List[Int])Unit">sepRegions</a> = <a href="#500850" title="=&gt; List[Int]">sepRegions</a> <a href="../../../../collection/immutable/List.scala.html#49169" title="(p: Int =&gt; Boolean)List[Int]">dropWhile</a> <span class="delimiter">(</span><a href="#584036" title="Int">_</a> <a href="../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(95)">RBRACE</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#500850" title="=&gt; List[Int]">sepRegions</a>.<a href="../../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#500850" title="(x$1: List[Int])Unit">sepRegions</a> = <a href="#500850" title="=&gt; List[Int]">sepRegions</a>.<a href="../../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Int]">tail</a>
        <span class="keyword">case</span> <span title="Unit">RBRACKET</span> | <span title="Int(91)">RPAREN</span> | <span title="Int(77)">ARROW</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#500850" title="=&gt; List[Int]">sepRegions</a>.<a href="../../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#500850" title="=&gt; List[Int]">sepRegions</a>.<a href="../../../../collection/IterableLike.scala.html#53870" title="=&gt; Int">head</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#584011" title="Int">lastToken</a><span class="delimiter">)</span>
            <a href="#500850" title="(x$1: List[Int])Unit">sepRegions</a> = <a href="#500850" title="=&gt; List[Int]">sepRegions</a>.<a href="../../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Int]">tail</a>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
      <span class="delimiter">(</span><a href="#584011" title="Int">lastToken</a>: @<a href="../../../../Int.scala.html#386" title="Int @scala.annotation.switch">switch</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">RBRACE</span> | <span title="Int(93)">RBRACKET</span> | <span title="Int(91)">RPAREN</span> =&gt;
          <a href="#500835" title="(x$1: StringBuilder)Unit">docBuffer</a> = <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>

      <span class="comment">// Read a token or copy it from `next` tokenData</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500845" title="=&gt; Scanners.this.TokenData">next</a>.<a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(-3)">EMPTY</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#500924" title="(x$1: Scanners.this.Offset)Unit">lastOffset</a> = <a href="../../util/CharArrayReader.scala.html#500802" title="=&gt; Int">charOffset</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#500924" title="=&gt; Scanners.this.Offset">lastOffset</a> <a href="../../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Array.scala.html#49205" title="(i: Int)Char">buf</a><span class="delimiter">(</span><a href="#500924" title="=&gt; Scanners.this.Offset">lastOffset</a><span class="delimiter">)</span> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\n\')" class="char">'\n'</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Array.scala.html#49205" title="(i: Int)Char">buf</a><span class="delimiter">(</span><a href="#500924" title="=&gt; Scanners.this.Offset">lastOffset</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\r\')" class="char">'\r'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#500924" title="(x$1: Scanners.this.Offset)Unit">lastOffset</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <a href="#500856" title="()Unit">fetchToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#500522" title="Scanner.this.type" class="keyword">this</a> <a href="#500935" title="(td: Scanners.this.TokenData)Unit">copyFrom</a> <a href="#500845" title="=&gt; Scanners.this.TokenData">next</a>
        <a href="#500845" title="=&gt; Scanners.this.TokenData">next</a>.<a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(-3)">EMPTY</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Insert NEWLINE or NEWLINES if
       *  - we are after a newline
       *  - we are within a { ... } or on toplevel (wrt sepRegions)
       *  - the current token can start a statement and the one before can end it
       *  insert NEWLINES if we are past a blank line, NEWLINE otherwise
       */</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#500880" title="()Boolean">applyBracePatch</a><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#500854" title="()Boolean">afterLineEnd</a><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#500859" title="(token: Int)Boolean">inLastOfStat</a><span class="delimiter">(</span><a href="#584011" title="Int">lastToken</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#500858" title="(token: Int)Boolean">inFirstOfStat</a><span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><a href="#500850" title="=&gt; List[Int]">sepRegions</a>.<a href="../../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#500850" title="=&gt; List[Int]">sepRegions</a>.<a href="../../../../collection/IterableLike.scala.html#53870" title="=&gt; Int">head</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(95)">RBRACE</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#500845" title="=&gt; Scanners.this.TokenData">next</a> <a href="#500935" title="(td: Scanners.this.TokenData)Unit">copyFrom</a> <a href="#500522" title="Scanners.this.Scanner" class="keyword">this</a>
        <a href="#500921" title="(x$1: Scanners.this.Offset)Unit">offset</a> = <span title="Scanners.this.Offset" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500805" title="=&gt; Int">lineStartOffset</a> <a href="../../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a><span class="delimiter">)</span> <a href="../../util/CharArrayReader.scala.html#500805" title="=&gt; Int">lineStartOffset</a> <span class="keyword">else</span> <a href="../../util/CharArrayReader.scala.html#500808" title="=&gt; Int">lastLineStartOffset</a>
        <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#500855" title="()Boolean">pastBlankLine</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(79)">NEWLINES</span> <span class="keyword">else</span> <span title="Int(78)">NEWLINE</span>
      <span class="delimiter">}</span>

      <span class="comment">// Join CASE + CLASS =&gt; CASECLASS, CASE + OBJECT =&gt; CASEOBJECT, SEMI + ELSE =&gt; ELSE</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(28)">CASE</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#500847" title="=&gt; Scanners.this.TokenData">prev</a> <a href="#500935" title="(td: Scanners.this.TokenData)Unit">copyFrom</a> <a href="#500522" title="Scanners.this.Scanner" class="keyword">this</a>
        <span class="keyword">val</span> <a title="Int" id="584109">nextLastOffset</a> = <a href="../../util/CharArrayReader.scala.html#500802" title="=&gt; Int">charOffset</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <a href="#500856" title="()Unit">fetchToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(45)">CLASS</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(29)">CASECLASS</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(44)">OBJECT</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(30)">CASEOBJECT</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#500924" title="(x$1: Scanners.this.Offset)Unit">lastOffset</a> = <a href="#584109" title="Int">nextLastOffset</a>
          <a href="#500845" title="=&gt; Scanners.this.TokenData">next</a> <a href="#500935" title="(td: Scanners.this.TokenData)Unit">copyFrom</a> <a href="#500522" title="Scanners.this.Scanner" class="keyword">this</a>
          <a href="#500522" title="Scanner.this.type" class="keyword">this</a> <a href="#500935" title="(td: Scanners.this.TokenData)Unit">copyFrom</a> <a href="#500847" title="=&gt; Scanners.this.TokenData">prev</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(71)">SEMI</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#500847" title="=&gt; Scanners.this.TokenData">prev</a> <a href="#500935" title="(td: Scanners.this.TokenData)Unit">copyFrom</a> <a href="#500522" title="Scanners.this.Scanner" class="keyword">this</a>
        <a href="#500856" title="()Unit">fetchToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(22)">ELSE</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#500845" title="=&gt; Scanners.this.TokenData">next</a> <a href="#500935" title="(td: Scanners.this.TokenData)Unit">copyFrom</a> <a href="#500522" title="Scanners.this.Scanner" class="keyword">this</a>
          <a href="#500522" title="Scanner.this.type" class="keyword">this</a> <a href="#500935" title="(td: Scanners.this.TokenData)Unit">copyFrom</a> <a href="#500847" title="=&gt; Scanners.this.TokenData">prev</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

<span class="comment">//      print(&quot;[&quot;+this+&quot;]&quot;)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Is current token first one after a newline? */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Boolean" id="500854">afterLineEnd</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
      <a href="#500924" title="=&gt; Scanners.this.Offset">lastOffset</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="../../util/CharArrayReader.scala.html#500805" title="=&gt; Int">lineStartOffset</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500805" title="=&gt; Int">lineStartOffset</a> <a href="../../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
       <a href="#500924" title="=&gt; Scanners.this.Offset">lastOffset</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="../../util/CharArrayReader.scala.html#500808" title="=&gt; Int">lastLineStartOffset</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500808" title="=&gt; Int">lastLineStartOffset</a> <a href="../../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a><span class="delimiter">)</span>

    <span class="comment">/** Is there a blank line between the current token and the last one?
     *  @pre  afterLineEnd().
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Boolean" id="500855">pastBlankLine</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Scanners.this.Offset" id="584150">idx</a> = <a href="#500924" title="=&gt; Scanners.this.Offset">lastOffset</a>
      <span class="keyword">var</span> <a title="Char" id="584151">ch</a> = <a href="../../../../Array.scala.html#49205" title="(i: Int)Char">buf</a><span class="delimiter">(</span><a href="#584150" title="Scanners.this.Offset">idx</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Scanners.this.Offset" id="584152">end</a> = <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#584150" title="Scanners.this.Offset">idx</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#584152" title="Scanners.this.Offset">end</a><span class="delimiter">)</span> <a href="#584153" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584151" title="Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\n\')">LF</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#584151" title="Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\f\')">FF</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#584168" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
            <a href="#584150" title="Scanners.this.Offset">idx</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>; <a href="#584151" title="Char">ch</a> = <a href="../../../../Array.scala.html#49205" title="(i: Int)Char">buf</a><span class="delimiter">(</span><a href="#584150" title="Scanners.this.Offset">idx</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584151" title="Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\n\')">LF</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#584151" title="Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\f\')">FF</span><span class="delimiter">)</span> <span class="delimiter">{</span>
<span class="comment">//              println(&quot;blank line found at &quot;+lastOffset+&quot;:&quot;+(lastOffset to idx).map(buf(_)).toList)</span>
              <span title="Nothing" class="keyword">return</span> <span title="Boolean(true)" class="keyword">true</span>
            <span class="delimiter">}</span>
	    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584150" title="Scanners.this.Offset">idx</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#584152" title="Scanners.this.Offset">end</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span> <span class="keyword">while</span> <span class="delimiter">(</span><a href="#584151" title="Char">ch</a> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <span title="Char(\' \')" class="char">' '</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#584150" title="Scanners.this.Offset">idx</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>; <a href="#584151" title="Char">ch</a> = <a href="../../../../Array.scala.html#49205" title="(i: Int)Char">buf</a><span class="delimiter">(</span><a href="#584150" title="Scanners.this.Offset">idx</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="comment">/** read next token, filling TokenData fields of Scanner.
     */</span>
    <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="500856">fetchToken</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#500921" title="(x$1: Scanners.this.Offset)Unit">offset</a> = <a href="../../util/CharArrayReader.scala.html#500802" title="=&gt; Int">charOffset</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a>: @<a href="../../../../Char.scala.html#2189" title="Char @scala.annotation.switch">switch</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>

        <span class="keyword">case</span> <span title="Unit" class="char">' '</span> | <span title="Char(\'\\t\')" class="char">'\t'</span> | <span title="Char(\'\\r\')">CR</span> | <span title="Char(\'\\n\')">LF</span> | <span title="Char(\'\\f\')">FF</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#500856" title="()Unit">fetchToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'A'</span> | <span title="Char(\'B\')" class="char">'B'</span> | <span title="Char(\'C\')" class="char">'C'</span> | <span title="Char(\'D\')" class="char">'D'</span> | <span title="Char(\'E\')" class="char">'E'</span> |
             <span title="Char(\'F\')" class="char">'F'</span> | <span title="Char(\'G\')" class="char">'G'</span> | <span title="Char(\'H\')" class="char">'H'</span> | <span title="Char(\'I\')" class="char">'I'</span> | <span title="Char(\'J\')" class="char">'J'</span> |
             <span title="Char(\'K\')" class="char">'K'</span> | <span title="Char(\'L\')" class="char">'L'</span> | <span title="Char(\'M\')" class="char">'M'</span> | <span title="Char(\'N\')" class="char">'N'</span> | <span title="Char(\'O\')" class="char">'O'</span> |
             <span title="Char(\'P\')" class="char">'P'</span> | <span title="Char(\'Q\')" class="char">'Q'</span> | <span title="Char(\'R\')" class="char">'R'</span> | <span title="Char(\'S\')" class="char">'S'</span> | <span title="Char(\'T\')" class="char">'T'</span> |
             <span title="Char(\'U\')" class="char">'U'</span> | <span title="Char(\'V\')" class="char">'V'</span> | <span title="Char(\'W\')" class="char">'W'</span> | <span title="Char(\'X\')" class="char">'X'</span> | <span title="Char(\'Y\')" class="char">'Y'</span> |
             <span title="Char(\'Z\')" class="char">'Z'</span> | <span title="Char(\'$\')" class="char">'$'</span> | <span title="Char(\'_\')" class="char">'_'</span> |
             <span title="Char(\'a\')" class="char">'a'</span> | <span title="Char(\'b\')" class="char">'b'</span> | <span title="Char(\'c\')" class="char">'c'</span> | <span title="Char(\'d\')" class="char">'d'</span> | <span title="Char(\'e\')" class="char">'e'</span> |
             <span title="Char(\'f\')" class="char">'f'</span> | <span title="Char(\'g\')" class="char">'g'</span> | <span title="Char(\'h\')" class="char">'h'</span> | <span title="Char(\'i\')" class="char">'i'</span> | <span title="Char(\'j\')" class="char">'j'</span> |
             <span title="Char(\'k\')" class="char">'k'</span> | <span title="Char(\'l\')" class="char">'l'</span> | <span title="Char(\'m\')" class="char">'m'</span> | <span title="Char(\'n\')" class="char">'n'</span> | <span title="Char(\'o\')" class="char">'o'</span> |
             <span title="Char(\'p\')" class="char">'p'</span> | <span title="Char(\'q\')" class="char">'q'</span> | <span title="Char(\'r\')" class="char">'r'</span> | <span title="Char(\'s\')" class="char">'s'</span> | <span title="Char(\'t\')" class="char">'t'</span> |
             <span title="Char(\'u\')" class="char">'u'</span> | <span title="Char(\'v\')" class="char">'v'</span> | <span title="Char(\'w\')" class="char">'w'</span> | <span title="Char(\'x\')" class="char">'x'</span> | <span title="Char(\'y\')" class="char">'y'</span> |  <span class="comment">// scala-mode: need to understand multi-line case patterns</span>
             <span title="Char(\'z\')" class="char">'z'</span> =&gt;
          <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#500861" title="()Unit">getIdentRest</a><span class="delimiter">(</span><span class="delimiter">)</span>  <span class="comment">// scala-mode: wrong indent for multi-line case blocks</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'&lt;'</span> =&gt; <span class="comment">// is XMLSTART?</span>
          <span class="keyword">val</span> <a title="Char" id="584201">last</a> = <span title="Char" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500802" title="=&gt; Int">charOffset</a> <a href="../../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="../../../../Array.scala.html#49205" title="(i: Int)Char">buf</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500802" title="=&gt; Int">charOffset</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Char(\' \')" class="char">' '</span>
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#584201" title="Char">last</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit" class="char">' '</span>|<span title="Char(\'\\t\')" class="char">'\t'</span>|<span title="Char(\'\\n\')" class="char">'\n'</span>|<span title="Char(\'{\')" class="char">'{'</span>|<span title="Char(\'(\')" class="char">'('</span>|<span title="Char(\'&gt;\')" class="char">'&gt;'</span> <span class="keyword">if</span> <a href="../../../../xml/parsing/TokenTests.scala.html#566100" title="(ch: Char)Boolean">isNameStart</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'!\')" class="char">'!'</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'?\')" class="char">'?'</span> =&gt;
              <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(96)">XMLSTART</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="comment">// Console.println(&quot;found '&lt;', but last is '&quot;+in.last+&quot;'&quot;); // DEBUG</span>
              <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'&lt;\')" class="char">'&lt;'</span><span class="delimiter">)</span>
              <a href="#500862" title="()Unit">getOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'~'</span> | <span title="Char(\'!\')" class="char">'!'</span> | <span title="Char(\'@\')" class="char">'@'</span> | <span title="Char(\'#\')" class="char">'#'</span> | <span title="Char(\'%\')" class="char">'%'</span> |
             <span title="Char(\'^\')" class="char">'^'</span> | <span title="Char(\'*\')" class="char">'*'</span> | <span title="Char(\'+\')" class="char">'+'</span> | <span title="Char(\'-\')" class="char">'-'</span> | <span class="comment">/*'&lt;' | */</span>
             <span title="Char(\'&gt;\')" class="char">'&gt;'</span> | <span title="Char(\'?\')" class="char">'?'</span> | <span title="Char(\':\')" class="char">':'</span> | <span title="Char(\'=\')" class="char">'='</span> | <span title="Char(\'&amp;\')" class="char">'&amp;'</span> |
             <span title="Char(\'|\')" class="char">'|'</span> | <span title="Char(\'\\\\\')" class="char">'\\'</span> =&gt;
          <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#500862" title="()Unit">getOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'/'</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500857" title="()Boolean">skipComment</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#500856" title="()Unit">fetchToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'/\')" class="char">'/'</span><span class="delimiter">)</span>
            <a href="#500862" title="()Unit">getOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'0'</span> =&gt;
          <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'x\')" class="char">'x'</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'X\')" class="char">'X'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#500933" title="(x$1: Int)Unit">base</a> = <span title="Int(16)" class="int">16</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#500933" title="(x$1: Int)Unit">base</a> = <span title="Int(8)" class="int">8</span>
          <span class="delimiter">}</span>
          <a href="#500874" title="()Unit">getNumber</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'1'</span> | <span title="Char(\'2\')" class="char">'2'</span> | <span title="Char(\'3\')" class="char">'3'</span> | <span title="Char(\'4\')" class="char">'4'</span> | <span title="Char(\'5\')" class="char">'5'</span> | <span title="Char(\'6\')" class="char">'6'</span> | <span title="Char(\'7\')" class="char">'7'</span> | <span title="Char(\'8\')" class="char">'8'</span> | <span title="Char(\'9\')" class="char">'9'</span> =&gt;
          <a href="#500933" title="(x$1: Int)Unit">base</a> = <span title="Int(10)" class="int">10</span>
          <a href="#500874" title="()Unit">getNumber</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'`'</span> =&gt;
          <a href="#500860" title="()Unit">getBackquotedIdent</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'\&quot;'</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../../util/CharArrayReader.scala.html#500816" title="()Unit">nextRawChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#500865" title="()Unit">getMultiLineStringLit</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(6)">STRINGLIT</span>
              <a href="#500930" title="(x$1: String)Unit">strVal</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500864" title="(delimiter: Char)Boolean">getStringLit</a><span class="delimiter">(</span><span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#500832" title="()Unit">setStrVal</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(6)">STRINGLIT</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unclosed string literal&quot;)" class="string">&quot;unclosed string literal&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'\''</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/Chars.scala.html#498730" title="(c: Char)Boolean">isIdentifierStart</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#500875" title="(op: () =&gt; Unit)Unit">charLitOr</a><span class="delimiter">(</span><a href="#500861" title="()Unit">getIdentRest</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/Chars.scala.html#498738" title="(c: Char)Boolean">isOperatorPart</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\\\\\')" class="char">'\\'</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#500875" title="(op: () =&gt; Unit)Unit">charLitOr</a><span class="delimiter">(</span><a href="#500862" title="()Unit">getOperatorRest</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#500866" title="()Unit">getLitChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\\'\')" class="char">'\''</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(1)">CHARLIT</span>
              <a href="#500832" title="()Unit">setStrVal</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unclosed character literal&quot;)" class="string">&quot;unclosed character literal&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'.'</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Char(\'0\')" class="char">'0'</span> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <span title="Char(\'9\')" class="char">'9'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'.\')" class="char">'.'</span><span class="delimiter">)</span>; <a href="#500867" title="()Unit">getFraction</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(72)">DOT</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Unit" class="char">';'</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(71)">SEMI</span>
        <span class="keyword">case</span> <span title="Unit" class="char">','</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(70)">COMMA</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'('</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(90)">LPAREN</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'{'</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(94)">LBRACE</span>
        <span class="keyword">case</span> <span title="Unit" class="char">')'</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(91)">RPAREN</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'}'</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(95)">RBRACE</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'['</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(92)">LBRACKET</span>
        <span class="keyword">case</span> <span title="Unit" class="char">']'</span> =&gt;
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(93)">RBRACKET</span>
        <span class="keyword">case</span> <span title="Unit">SU</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500802" title="=&gt; Int">charOffset</a> <a href="../../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="../../util/CharArrayReader.scala.html#500796" title="=&gt; Array[Char]">buf</a>.<a href="../../../../Array.scala.html#49204" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(0)">EOF</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;illegal character&quot;)" class="string">&quot;illegal character&quot;</span><span class="delimiter">)</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'⇒\')" class="char">'\u21D2'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(77)">ARROW</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'←\')" class="char">'\u2190'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(76)">LARROW</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="object java.lang.Character">Character</span>.<span title="(x$1: Char)Boolean">isUnicodeIdentifierStart</span><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#500861" title="()Unit">getIdentRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/Chars.scala.html#498732" title="(c: Char)Boolean">isSpecial</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#500862" title="()Unit">getOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;illegal character&quot;)" class="string">&quot;illegal character&quot;</span><span class="delimiter">)</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Boolean" id="500857">skipComment</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>

      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'/\')" class="char">'/'</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'*\')" class="char">'*'</span><span class="delimiter">)</span> <span class="delimiter">{</span>

        <span class="keyword">val</span> <a title="StringBuilder" id="584397">comment</a> = <a href="../../../../collection/mutable/StringBuilder.scala.html#60511" title="(str: String)StringBuilder" class="keyword">new</a> <a href="../../../../package.scala.html#47558" title="StringBuilder">StringBuilder</a><span class="delimiter">(</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="()StringBuilder" id="584398">appendToComment</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#584397" title="StringBuilder">comment</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#60543" title="(x: Char)StringBuilder">append</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'/\')" class="char">'/'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#584412" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
        	<a href="#584398" title="()StringBuilder">appendToComment</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\\r\')">CR</span><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\\n\')">LF</span><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\032\')">SU</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#500835" title="(x$1: StringBuilder)Unit">docBuffer</a> = <span title="Null(null)" class="keyword">null</span>
          <span class="keyword">var</span> <a title="Int" id="584428">openComments</a> = <span title="Int(1)" class="int">1</span>
          <a href="#584398" title="()StringBuilder">appendToComment</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#584398" title="()StringBuilder">appendToComment</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Boolean" id="584429">buildingDocComment</a> = <span title="Boolean(false)" class="keyword">false</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'*\')" class="char">'*'</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#500833" title="=&gt; Boolean">buildDocs</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#584429" title="Boolean">buildingDocComment</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="#500835" title="(x$1: StringBuilder)Unit">docBuffer</a> = <a href="../../../../collection/mutable/StringBuilder.scala.html#60511" title="(str: String)StringBuilder" class="keyword">new</a> <a href="../../../../package.scala.html#47558" title="StringBuilder">StringBuilder</a><span class="delimiter">(</span><span title="java.lang.String(&quot;/**&quot;)" class="string">&quot;/**&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#584428" title="Int">openComments</a> <a href="../../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#584430" title="()Unit" class="delimiter">{</a>
            <a href="#584444" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
              <a href="#584445" title="Unit" class="keyword">do</a> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'/\')" class="char">'/'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500841" title="(c: Char)Unit">putDocChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>; <a href="#584398" title="()StringBuilder">appendToComment</a><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'*\')" class="char">'*'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500841" title="(c: Char)Unit">putDocChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>; <a href="#584398" title="()StringBuilder">appendToComment</a><span class="delimiter">(</span><span class="delimiter">)</span>
                    <a href="#584428" title="Int">openComments</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'*\')" class="char">'*'</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\032\')">SU</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500841" title="(c: Char)Unit">putDocChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>; <a href="#584398" title="()StringBuilder">appendToComment</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span> <span class="keyword">while</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'*\')" class="char">'*'</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\032\')">SU</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'*\')" class="char">'*'</span><span class="delimiter">)</span> <a href="#584488" title="()Unit" class="delimiter">{</a>
                <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500841" title="(c: Char)Unit">putDocChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>; <a href="#584398" title="()StringBuilder">appendToComment</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">while</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'/\')" class="char">'/'</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\032\')">SU</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'/\')" class="char">'/'</span><span class="delimiter">)</span> <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#500878" title="(msg: String)Unit">incompleteInputError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unclosed comment&quot;)" class="string">&quot;unclosed comment&quot;</span><span class="delimiter">)</span>
            <a href="#584428" title="Int">openComments</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584429" title="Boolean">buildingDocComment</a><span class="delimiter">)</span>
            <a href="#500843" title="(value: String, start: Int, end: Int)Unit">foundDocComment</a><span class="delimiter">(</span><a href="#584397" title="StringBuilder">comment</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#60572" title="()java.lang.String">toString</a>, <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>, <a href="../../util/CharArrayReader.scala.html#500802" title="=&gt; Int">charOffset</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#500842" title="(value: String, start: Int, end: Int)Unit">foundComment</a><span class="delimiter">(</span><a href="#584397" title="StringBuilder">comment</a>.<a href="../../../../collection/mutable/StringBuilder.scala.html#60572" title="()java.lang.String">toString</a>, <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>, <a href="../../util/CharArrayReader.scala.html#500802" title="=&gt; Int">charOffset</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Can token start a statement? */</span>
    <span class="keyword">def</span> <a title="(token: Int)Boolean" id="500858">inFirstOfStat</a><span class="delimiter">(</span><a title="Int" id="584089">token</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <a href="#584089" title="Int">token</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(false)">EOF</span> | <span title="Int(54)">CATCH</span> | <span title="Int(22)">ELSE</span> | <span title="Int(41)">EXTENDS</span> | <span title="Int(55)">FINALLY</span> | <span title="Int(59)">FORSOME</span> | <span title="Int(58)">MATCH</span> | <span title="Int(26)">WITH</span> | <span title="Int(48)">YIELD</span> |
           <span title="Int(70)">COMMA</span> | <span title="Int(71)">SEMI</span> | <span title="Int(78)">NEWLINE</span> | <span title="Int(79)">NEWLINES</span> | <span title="Int(72)">DOT</span> | <span title="Int(74)">COLON</span> | <span title="Int(75)">EQUALS</span> | <span title="Int(77)">ARROW</span> | <span title="Int(76)">LARROW</span> |
           <span title="Int(80)">SUBTYPE</span> | <span title="Int(84)">VIEWBOUND</span> | <span title="Int(81)">SUPERTYPE</span> | <span title="Int(82)">HASH</span> | <span title="Int(91)">RPAREN</span> | <span title="Int(93)">RBRACKET</span> | <span title="Int(95)">RBRACE</span> | <span title="Int(92)">LBRACKET</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Can token end a statement? */</span>
    <span class="keyword">def</span> <a title="(token: Int)Boolean" id="500859">inLastOfStat</a><span class="delimiter">(</span><a title="Int" id="584086">token</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <a href="#584086" title="Int">token</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(true)">CHARLIT</span> | <span title="Int(2)">INTLIT</span> | <span title="Int(3)">LONGLIT</span> | <span title="Int(4)">FLOATLIT</span> | <span title="Int(5)">DOUBLELIT</span> | <span title="Int(6)">STRINGLIT</span> | <span title="Int(7)">SYMBOLLIT</span> |
           <span title="Int(10)">IDENTIFIER</span> | <span title="Int(11)">BACKQUOTED_IDENT</span> | <span title="Int(23)">THIS</span> | <span title="Int(24)">NULL</span> | <span title="Int(42)">TRUE</span> | <span title="Int(43)">FALSE</span> | <span title="Int(57)">RETURN</span> | <span title="Int(73)">USCORE</span> |
           <span title="Int(40)">TYPE</span> | <span title="Int(96)">XMLSTART</span> | <span title="Int(91)">RPAREN</span> | <span title="Int(93)">RBRACKET</span> | <span title="Int(95)">RBRACE</span> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

<span class="comment">// Identifiers ---------------------------------------------------------------</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="500860">getBackquotedIdent</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500864" title="(delimiter: Char)Boolean">getStringLit</a><span class="delimiter">(</span><span title="Char(\'`\')" class="char">'`'</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#500831" title="()Unit">finishNamed</a><span class="delimiter">(</span><span class="delimiter">)</span>;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500927" title="=&gt; Scanners.this.global.TermName">name</a>.<a href="../../symtab/Names.scala.html#501112" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;empty quoted identifier&quot;)" class="string">&quot;empty quoted identifier&quot;</span><span class="delimiter">)</span>
        <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(11)">BACKQUOTED_IDENT</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unclosed quoted identifier&quot;)" class="string">&quot;unclosed quoted identifier&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="500861">getIdentRest</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a>: @<a href="../../../../Char.scala.html#2189" title="Char @scala.annotation.switch">switch</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit" class="char">'A'</span> | <span title="Char(\'B\')" class="char">'B'</span> | <span title="Char(\'C\')" class="char">'C'</span> | <span title="Char(\'D\')" class="char">'D'</span> | <span title="Char(\'E\')" class="char">'E'</span> |
           <span title="Char(\'F\')" class="char">'F'</span> | <span title="Char(\'G\')" class="char">'G'</span> | <span title="Char(\'H\')" class="char">'H'</span> | <span title="Char(\'I\')" class="char">'I'</span> | <span title="Char(\'J\')" class="char">'J'</span> |
           <span title="Char(\'K\')" class="char">'K'</span> | <span title="Char(\'L\')" class="char">'L'</span> | <span title="Char(\'M\')" class="char">'M'</span> | <span title="Char(\'N\')" class="char">'N'</span> | <span title="Char(\'O\')" class="char">'O'</span> |
           <span title="Char(\'P\')" class="char">'P'</span> | <span title="Char(\'Q\')" class="char">'Q'</span> | <span title="Char(\'R\')" class="char">'R'</span> | <span title="Char(\'S\')" class="char">'S'</span> | <span title="Char(\'T\')" class="char">'T'</span> |
           <span title="Char(\'U\')" class="char">'U'</span> | <span title="Char(\'V\')" class="char">'V'</span> | <span title="Char(\'W\')" class="char">'W'</span> | <span title="Char(\'X\')" class="char">'X'</span> | <span title="Char(\'Y\')" class="char">'Y'</span> |
           <span title="Char(\'Z\')" class="char">'Z'</span> | <span title="Char(\'$\')" class="char">'$'</span> |
           <span title="Char(\'a\')" class="char">'a'</span> | <span title="Char(\'b\')" class="char">'b'</span> | <span title="Char(\'c\')" class="char">'c'</span> | <span title="Char(\'d\')" class="char">'d'</span> | <span title="Char(\'e\')" class="char">'e'</span> |
           <span title="Char(\'f\')" class="char">'f'</span> | <span title="Char(\'g\')" class="char">'g'</span> | <span title="Char(\'h\')" class="char">'h'</span> | <span title="Char(\'i\')" class="char">'i'</span> | <span title="Char(\'j\')" class="char">'j'</span> |
           <span title="Char(\'k\')" class="char">'k'</span> | <span title="Char(\'l\')" class="char">'l'</span> | <span title="Char(\'m\')" class="char">'m'</span> | <span title="Char(\'n\')" class="char">'n'</span> | <span title="Char(\'o\')" class="char">'o'</span> |
           <span title="Char(\'p\')" class="char">'p'</span> | <span title="Char(\'q\')" class="char">'q'</span> | <span title="Char(\'r\')" class="char">'r'</span> | <span title="Char(\'s\')" class="char">'s'</span> | <span title="Char(\'t\')" class="char">'t'</span> |
           <span title="Char(\'u\')" class="char">'u'</span> | <span title="Char(\'v\')" class="char">'v'</span> | <span title="Char(\'w\')" class="char">'w'</span> | <span title="Char(\'x\')" class="char">'x'</span> | <span title="Char(\'y\')" class="char">'y'</span> |
           <span title="Char(\'z\')" class="char">'z'</span> |
           <span title="Char(\'0\')" class="char">'0'</span> | <span title="Char(\'1\')" class="char">'1'</span> | <span title="Char(\'2\')" class="char">'2'</span> | <span title="Char(\'3\')" class="char">'3'</span> | <span title="Char(\'4\')" class="char">'4'</span> |
           <span title="Char(\'5\')" class="char">'5'</span> | <span title="Char(\'6\')" class="char">'6'</span> | <span title="Char(\'7\')" class="char">'7'</span> | <span title="Char(\'8\')" class="char">'8'</span> | <span title="Char(\'9\')" class="char">'9'</span> =&gt;
        <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
        <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#500861" title="()Unit">getIdentRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit" class="char">'_'</span> =&gt;
        <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
        <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#500863" title="()Unit">getIdentOrOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">SU</span> =&gt; <span class="comment">// strangely enough, Character.isUnicodeIdentifierPart(SU) returns true!</span>
        <a href="#500831" title="()Unit">finishNamed</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="object java.lang.Character">Character</span>.<span title="(x$1: Char)Boolean">isUnicodeIdentifierPart</span><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#500861" title="()Unit">getIdentRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#500831" title="()Unit">finishNamed</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="500862">getOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a>: @<a href="../../../../Char.scala.html#2189" title="Char @scala.annotation.switch">switch</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit" class="char">'~'</span> | <span title="Char(\'!\')" class="char">'!'</span> | <span title="Char(\'@\')" class="char">'@'</span> | <span title="Char(\'#\')" class="char">'#'</span> | <span title="Char(\'%\')" class="char">'%'</span> |
           <span title="Char(\'^\')" class="char">'^'</span> | <span title="Char(\'*\')" class="char">'*'</span> | <span title="Char(\'+\')" class="char">'+'</span> | <span title="Char(\'-\')" class="char">'-'</span> | <span title="Char(\'&lt;\')" class="char">'&lt;'</span> |
           <span title="Char(\'&gt;\')" class="char">'&gt;'</span> | <span title="Char(\'?\')" class="char">'?'</span> | <span title="Char(\':\')" class="char">':'</span> | <span title="Char(\'=\')" class="char">'='</span> | <span title="Char(\'&amp;\')" class="char">'&amp;'</span> |
           <span title="Char(\'|\')" class="char">'|'</span> | <span title="Char(\'\\\\\')" class="char">'\\'</span> =&gt;
        <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>; <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500862" title="()Unit">getOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit" class="char">'/'</span> =&gt;
        <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500857" title="()Boolean">skipComment</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#500831" title="()Unit">finishNamed</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span> <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'/\')" class="char">'/'</span><span class="delimiter">)</span>; <a href="#500862" title="()Unit">getOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/Chars.scala.html#498732" title="(c: Char)Boolean">isSpecial</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>; <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#500862" title="()Unit">getOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#500831" title="()Unit">finishNamed</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="500863">getIdentOrOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/Chars.scala.html#498731" title="(c: Char)Boolean">isIdentifierPart</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#500861" title="()Unit">getIdentRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit" class="char">'~'</span> | <span title="Char(\'!\')" class="char">'!'</span> | <span title="Char(\'@\')" class="char">'@'</span> | <span title="Char(\'#\')" class="char">'#'</span> | <span title="Char(\'%\')" class="char">'%'</span> |
             <span title="Char(\'^\')" class="char">'^'</span> | <span title="Char(\'*\')" class="char">'*'</span> | <span title="Char(\'+\')" class="char">'+'</span> | <span title="Char(\'-\')" class="char">'-'</span> | <span title="Char(\'&lt;\')" class="char">'&lt;'</span> |
             <span title="Char(\'&gt;\')" class="char">'&gt;'</span> | <span title="Char(\'?\')" class="char">'?'</span> | <span title="Char(\':\')" class="char">':'</span> | <span title="Char(\'=\')" class="char">'='</span> | <span title="Char(\'&amp;\')" class="char">'&amp;'</span> |
             <span title="Char(\'|\')" class="char">'|'</span> | <span title="Char(\'\\\\\')" class="char">'\\'</span> | <span title="Char(\'/\')" class="char">'/'</span> =&gt;
          <a href="#500862" title="()Unit">getOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/Chars.scala.html#498732" title="(c: Char)Boolean">isSpecial</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#500862" title="()Unit">getOperatorRest</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#500831" title="()Unit">finishNamed</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(delimiter: Char)Boolean" id="500864">getStringLit</a><span class="delimiter">(</span><a title="Char" id="584246">delimiter</a>: <a href="../../../../Char.scala.html#2189" title="Char">Char</a><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <a href="#584246" title="Char">delimiter</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500814" title="=&gt; Boolean">isUnicodeEscape</a> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\\r\')">CR</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\\n\')">LF</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\032\')">SU</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#500866" title="()Unit">getLitChar</a><a href="#584556" title="()Unit" class="delimiter">(</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <a href="#584246" title="Char">delimiter</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="500865">getMultiLineStringLit</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../util/CharArrayReader.scala.html#500816" title="()Unit">nextRawChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../util/CharArrayReader.scala.html#500816" title="()Unit">nextRawChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span> <a href="#584605" title="()Unit" class="delimiter">{</a>
              <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span>
              <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(6)">STRINGLIT</span>
            <a href="#500832" title="()Unit">setStrVal</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span>
            <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span>
            <a href="#500865" title="()Unit">getMultiLineStringLit</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span>
          <a href="#500865" title="()Unit">getMultiLineStringLit</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\032\')">SU</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#500878" title="(msg: String)Unit">incompleteInputError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unclosed multi-line string literal&quot;)" class="string">&quot;unclosed multi-line string literal&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
        <a href="../../util/CharArrayReader.scala.html#500816" title="()Unit">nextRawChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#500865" title="()Unit">getMultiLineStringLit</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">// Literals -----------------------------------------------------------------</span>

    <span class="comment">/** read next character in character or string literal:
    */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="500866">getLitChar</a><span class="delimiter">(</span><span class="delimiter">)</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\\\\')" class="char">'\\'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Char(\'0\')" class="char">'0'</span> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <span title="Char(\'7\')" class="char">'7'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Char" id="584278">leadch</a>: <a href="../../../../Char.scala.html#2189" title="Char">Char</a> = <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a>
          <span class="keyword">var</span> <a title="Int" id="584279">oct</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a> = <a href="../../util/Chars.scala.html#498725" title="(ch: Char, base: Int)Int">digit2int</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a>, <span title="Int(8)" class="int">8</span><span class="delimiter">)</span>
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Char(\'0\')" class="char">'0'</span> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <span title="Char(\'7\')" class="char">'7'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#584279" title="Int">oct</a> = <a href="#584279" title="Int">oct</a> <a href="../../../../Int.scala.html#54818" title="(x: Int)Int">*</a> <span title="Int(8)" class="int">8</span> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="../../util/Chars.scala.html#498725" title="(ch: Char, base: Int)Int">digit2int</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a>, <span title="Int(8)" class="int">8</span><span class="delimiter">)</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584278" title="Char">leadch</a> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <span title="Char(\'3\')" class="char">'3'</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span title="Char(\'0\')" class="char">'0'</span> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <span title="Char(\'7\')" class="char">'7'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#584279" title="Int">oct</a> = <a href="#584279" title="Int">oct</a> <a href="../../../../Int.scala.html#54818" title="(x: Int)Int">*</a> <span title="Int(8)" class="int">8</span> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="../../util/Chars.scala.html#498725" title="(ch: Char, base: Int)Int">digit2int</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a>, <span title="Int(8)" class="int">8</span><span class="delimiter">)</span>
              <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="#584279" title="Int">oct</a>.<a href="../../../../Int.scala.html#54729" title="=&gt; Char">toChar</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit" class="char">'b'</span>  =&gt; <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\b\')" class="char">'\b'</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit" class="char">'t'</span>  =&gt; <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\t\')" class="char">'\t'</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit" class="char">'n'</span>  =&gt; <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\n\')" class="char">'\n'</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit" class="char">'f'</span>  =&gt; <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\f\')" class="char">'\f'</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit" class="char">'r'</span>  =&gt; <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\r\')" class="char">'\r'</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit" class="char">'\&quot;'</span> =&gt; <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\\&quot;\')" class="char">'\&quot;'</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit" class="char">'\''</span> =&gt; <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\\'\')" class="char">'\''</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit" class="char">'\\'</span> =&gt; <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><span title="Char(\'\\\\\')" class="char">'\\'</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span>    =&gt;
              <a href="#500876" title="(off: Scanners.this.Offset, msg: String)Unit">syntaxError</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500802" title="=&gt; Int">charOffset</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>, <span title="java.lang.String(&quot;invalid escape character&quot;)" class="string">&quot;invalid escape character&quot;</span><span class="delimiter">)</span>
              <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span>  <span class="delimiter">{</span>
        <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
        <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/** read fractional part and exponent of floating point number
     *  if one is present.
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="500867">getFraction</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(5)">DOUBLELIT</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="Char(\'0\')" class="char">'0'</span> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <span title="Char(\'9\')" class="char">'9'</span><span class="delimiter">)</span> <a href="#584620" title="()Unit" class="delimiter">{</a>
        <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
        <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'e\')" class="char">'e'</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'E\')" class="char">'E'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Scanner.this.CharArrayLookaheadReader" id="584639">lookahead</a> = <a href="../../util/CharArrayReader.scala.html#500820" title="=&gt; Scanner.this.CharArrayLookaheadReader">lookaheadReader</a>
        <a href="#584639" title="Scanner.this.CharArrayLookaheadReader">lookahead</a>.<a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584639" title="Scanner.this.CharArrayLookaheadReader">lookahead</a>.<a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'+\')" class="char">'+'</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#584639" title="Scanner.this.CharArrayLookaheadReader">lookahead</a>.<a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'-\')" class="char">'-'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#584639" title="Scanner.this.CharArrayLookaheadReader">lookahead</a>.<a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Char(\'0\')" class="char">'0'</span> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <a href="#584639" title="Scanner.this.CharArrayLookaheadReader">lookahead</a>.<a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#584639" title="Scanner.this.CharArrayLookaheadReader">lookahead</a>.<a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <span title="Char(\'9\')" class="char">'9'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
          <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'+\')" class="char">'+'</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'-\')" class="char">'-'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span title="Char(\'0\')" class="char">'0'</span> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54923" title="(x: Char)Boolean">&lt;=</a> <span title="Char(\'9\')" class="char">'9'</span><span class="delimiter">)</span> <a href="#584668" title="()Unit" class="delimiter">{</a>
            <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(5)">DOUBLELIT</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'d\')" class="char">'d'</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'D\')" class="char">'D'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
        <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(5)">DOUBLELIT</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'f\')" class="char">'f'</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'F\')" class="char">'F'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
        <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(4)">FLOATLIT</span>
      <span class="delimiter">}</span>
      <a href="#500873" title="()Unit">checkNoLetter</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#500832" title="()Unit">setStrVal</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Convert current strVal to char value
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Char" id="500868">charVal</a>: <a href="../../../../Char.scala.html#2189" title="Char">Char</a> = <span title="Char" class="keyword">if</span> <span class="delimiter">(</span><a href="#500930" title="=&gt; String">strVal</a>.<span title="()Int">length</span> <a href="../../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#500930" title="=&gt; String">strVal</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="Char(\'\00\')" class="int">0</span>

    <span class="comment">/** Convert current strVal, base to long value
     *  This is tricky because of max negative value.
     */</span>
    <span class="keyword">def</span> <a title="(negated: Boolean)Long" id="500869">intVal</a><span class="delimiter">(</span><a title="Boolean" id="501092">negated</a>: <a href="../../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../../Long.scala.html#1439" title="Long">Long</a> = <span class="delimiter">{</span>
      <span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)">CHARLIT</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#501092" title="Boolean">negated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../../Char.scala.html#54887" title="=&gt; Long">charVal</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Long" id="584709">value</a>: <a href="../../../../Long.scala.html#1439" title="Long">Long</a> = <span title="Long(0L)" class="int">0</span>
        <span class="keyword">val</span> <a title="Int" id="584710">divider</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#500933" title="=&gt; Int">base</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(2)" class="int">2</span>
        <span class="keyword">val</span> <a title="Long" id="584711">limit</a>: <a href="../../../../Long.scala.html#1439" title="Long">Long</a> =
          <span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(3)">LONGLIT</span><span class="delimiter">)</span> Long.<span title="Long(9223372036854775807L)">MaxValue</span> <span class="keyword">else</span> Int.<span title="Long(2147483647L)">MaxValue</span>
        <span class="keyword">var</span> <a title="Int" id="584712">i</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">val</span> <a title="Int" id="584713">len</a> = <a href="#500930" title="=&gt; String">strVal</a>.<span title="()Int">length</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#584712" title="Int">i</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#584713" title="Int">len</a><span class="delimiter">)</span> <a href="#584714" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Int" id="584730">d</a> = <a href="../../util/Chars.scala.html#498725" title="(ch: Char, base: Int)Int">digit2int</a><span class="delimiter">(</span><a href="#500930" title="=&gt; String">strVal</a> <span title="(x$1: Int)Char">charAt</span> <a href="#584712" title="Int">i</a>, <a href="#500933" title="=&gt; Int">base</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584730" title="Int">d</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;malformed integer number&quot;)" class="string">&quot;malformed integer number&quot;</span><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <span title="Long(0L)" class="int">0</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584709" title="Long">value</a> <a href="../../../../Long.scala.html#55126" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
              <a href="#584711" title="Long">limit</a> <a href="../../../../Long.scala.html#55190" title="(x: Int)Long">/</a> <span class="delimiter">(</span><a href="#500933" title="=&gt; Int">base</a> <a href="../../../../Int.scala.html#54825" title="(x: Int)Int">/</a> <a href="#584710" title="Int">divider</a><span class="delimiter">)</span> <a href="../../../../Long.scala.html#55127" title="(x: Long)Boolean">&lt;</a> <a href="#584709" title="Long">value</a> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
              <a href="#584711" title="Long">limit</a> <a href="../../../../Long.scala.html#55176" title="(x: Int)Long">-</a> <span class="delimiter">(</span><a href="#584730" title="Int">d</a> <a href="../../../../Int.scala.html#54825" title="(x: Int)Int">/</a> <a href="#584710" title="Int">divider</a><span class="delimiter">)</span> <a href="../../../../Long.scala.html#55127" title="(x: Long)Boolean">&lt;</a> <a href="#584709" title="Long">value</a> <a href="../../../../Long.scala.html#55183" title="(x: Int)Long">*</a> <span class="delimiter">(</span><a href="#500933" title="=&gt; Int">base</a> <a href="../../../../Int.scala.html#54825" title="(x: Int)Int">/</a> <a href="#584710" title="Int">divider</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#501092" title="Boolean">negated</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#584711" title="Long">limit</a> <a href="../../../../Long.scala.html#55113" title="(x: Long)Boolean">==</a> <a href="#584709" title="Long">value</a> <a href="../../../../Long.scala.html#55183" title="(x: Int)Long">*</a> <a href="#500933" title="=&gt; Int">base</a> <a href="../../../../Long.scala.html#55176" title="(x: Int)Long">-</a> <span title="Int(1)" class="int">1</span> <a href="../../../../Long.scala.html#55169" title="(x: Int)Long">+</a> <a href="#584730" title="Int">d</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;integer number too large&quot;)" class="string">&quot;integer number too large&quot;</span><span class="delimiter">)</span>
                <span title="Nothing" class="keyword">return</span> <span title="Long(0L)" class="int">0</span>
              <span class="delimiter">}</span>
          <a href="#584709" title="Long">value</a> = <a href="#584709" title="Long">value</a> <a href="../../../../Long.scala.html#55183" title="(x: Int)Long">*</a> <a href="#500933" title="=&gt; Int">base</a> <a href="../../../../Long.scala.html#55169" title="(x: Int)Long">+</a> <a href="#584730" title="Int">d</a>
          <a href="#584712" title="Int">i</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <span title="Long" class="keyword">if</span> <span class="delimiter">(</span><a href="#501092" title="Boolean">negated</a><span class="delimiter">)</span> <a href="../../../../Long.scala.html#55100" title="=&gt; Long">-</a><a href="#584709" title="Long">value</a> <span class="keyword">else</span> <a href="#584709" title="Long">value</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Long" id="500870">intVal</a>: <a href="../../../../Long.scala.html#1439" title="Long">Long</a> = <a href="#500869" title="(negated: Boolean)Long">intVal</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <span class="comment">/** Convert current strVal, base to double value
    */</span>
    <span class="keyword">def</span> <a title="(negated: Boolean)Double" id="500871">floatVal</a><span class="delimiter">(</span><a title="Boolean" id="501098">negated</a>: <a href="../../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../../Double.scala.html#281" title="Double">Double</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Double" id="584812">limit</a>: <a href="../../../../Double.scala.html#281" title="Double">Double</a> =
        <span title="Double" class="keyword">if</span> <span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(5)">DOUBLELIT</span><span class="delimiter">)</span> Double.<span title="Double(1.7976931348623157E308)">MaxValue</span> <span class="keyword">else</span> Float.<span title="Double(3.4028234663852886E38)">MaxValue</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Double" id="584818">value</a>: <a href="../../../../Double.scala.html#281" title="Double">Double</a> = java.lang.<span title="object java.lang.Double">Double</span>.<span title="(x$1: java.lang.String)java.lang.Double">valueOf</span><span class="delimiter">(</span><a href="#500930" title="=&gt; String">strVal</a><span class="delimiter">)</span>.<span title="()Double">doubleValue</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584818" title="Double">value</a> <a href="../../../../Double.scala.html#55494" title="(x: Double)Boolean">&gt;</a> <a href="#584812" title="Double">limit</a><span class="delimiter">)</span>
          <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;floating point number too large&quot;)" class="string">&quot;floating point number too large&quot;</span><span class="delimiter">)</span>
        <span title="Double" class="keyword">if</span> <span class="delimiter">(</span><a href="#501098" title="Boolean">negated</a><span class="delimiter">)</span> <a href="../../../../Double.scala.html#55458" title="=&gt; Double">-</a><a href="#584818" title="Double">value</a> <span class="keyword">else</span> <a href="#584818" title="Double">value</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Double">_</span>: <span title="NumberFormatException">NumberFormatException</span> =&gt;
          <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;malformed floating point number&quot;)" class="string">&quot;malformed floating point number&quot;</span><span class="delimiter">)</span>
          <span title="Double(0.0)" class="double">0.0</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Double" id="500872">floatVal</a>: <a href="../../../../Double.scala.html#281" title="Double">Double</a> = <a href="#500871" title="(negated: Boolean)Double">floatVal</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="()Unit" id="500873">checkNoLetter</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/Chars.scala.html#498731" title="(c: Char)Boolean">isIdentifierPart</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54937" title="(x: Char)Boolean">&gt;=</a> <span title="Char(\' \')" class="char">' '</span><span class="delimiter">)</span>
        <a href="#500877" title="(msg: String)Unit">syntaxError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Invalid literal number&quot;)" class="string">&quot;Invalid literal number&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Read a number into strVal and set base
    */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="()Unit" id="500874">getNumber</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(c: Char)Boolean" id="584848">isDigit</a><span class="delimiter">(</span><a title="Char" id="584853">c</a>: <a href="../../../../Char.scala.html#2189" title="Char">Char</a><span class="delimiter">)</span> = java.lang.<span title="object java.lang.Character">Character</span> <span title="(x$1: Char)Boolean">isDigit</span> <a href="#584853" title="Char">c</a>
      <span class="keyword">val</span> <a title="Int" id="584849">base1</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#500933" title="=&gt; Int">base</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span> <span title="Int(10)" class="int">10</span> <span class="keyword">else</span> <a href="#500933" title="=&gt; Int">base</a>
        <span class="comment">// read 8,9's even if format is octal, produce a malformed number error afterwards.</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../util/Chars.scala.html#498725" title="(ch: Char, base: Int)Int">digit2int</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a>, <a href="#584849" title="Int">base1</a><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#584852" title="()Unit" class="delimiter">{</a>
        <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
        <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(2)">INTLIT</span>

      <span class="comment">/** When we know for certain it's a number after using a touch of lookahead */</span>
      <span class="keyword">def</span> <a title="()Unit" id="584850">restOfNumber</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
        <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#500867" title="()Unit">getFraction</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="()Unit" id="584851">restOfUncertainToken</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="584866">isEfd</a> = <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Boolean(true)" class="char">'e'</span> | <span title="Char(\'E\')" class="char">'E'</span> | <span title="Char(\'f\')" class="char">'f'</span> | <span title="Char(\'F\')" class="char">'F'</span> | <span title="Char(\'d\')" class="char">'d'</span> | <span title="Char(\'D\')" class="char">'D'</span> =&gt; <span title="Boolean(true)" class="keyword">true</span> ; <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="584867">isL</a>   = <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Boolean(true)" class="char">'l'</span> | <span title="Char(\'L\')" class="char">'L'</span> =&gt; <span title="Boolean(true)" class="keyword">true</span> ; <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500933" title="=&gt; Int">base</a> <a href="../../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <span title="Int(10)" class="int">10</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#584866" title="=&gt; Boolean">isEfd</a><span class="delimiter">)</span>
          <a href="#500867" title="()Unit">getFraction</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#500832" title="()Unit">setStrVal</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584867" title="=&gt; Boolean">isL</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(3)">LONGLIT</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#500873" title="()Unit">checkNoLetter</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500933" title="=&gt; Int">base</a> <a href="../../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(10)" class="int">10</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'.\')" class="char">'.'</span><span class="delimiter">)</span>
        <a href="#584851" title="()Unit">restOfUncertainToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Scanner.this.CharArrayLookaheadReader" id="584881">lookahead</a> = <a href="../../util/CharArrayReader.scala.html#500820" title="=&gt; Scanner.this.CharArrayLookaheadReader">lookaheadReader</a>
        <span class="keyword">val</span> <a title="Boolean" id="584882">isDefinitelyNumber</a> =
          <span class="delimiter">(</span><a href="#584881" title="Scanner.this.CharArrayLookaheadReader">lookahead</a>.<a href="../../util/CharArrayReader.scala.html#567928" title="()Char">getc</a><span class="delimiter">(</span><span class="delimiter">)</span>: @<a href="../../../../Char.scala.html#2189" title="Char @scala.annotation.switch">switch</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="comment">/** Another digit is a giveaway. */</span>
            <span class="keyword">case</span> <span title="Boolean(true)" class="char">'0'</span> | <span title="Char(\'1\')" class="char">'1'</span> | <span title="Char(\'2\')" class="char">'2'</span> | <span title="Char(\'3\')" class="char">'3'</span> | <span title="Char(\'4\')" class="char">'4'</span> | <span title="Char(\'5\')" class="char">'5'</span> | <span title="Char(\'6\')" class="char">'6'</span> | <span title="Char(\'7\')" class="char">'7'</span> | <span title="Char(\'8\')" class="char">'8'</span> | <span title="Char(\'9\')" class="char">'9'</span>  =&gt;
              <span title="Boolean(true)" class="keyword">true</span>

            <span class="comment">/** Backquoted idents like 22.`foo`. */</span>
            <span class="keyword">case</span> <span title="Nothing" class="char">'`'</span> =&gt;
              <span title="Nothing" class="keyword">return</span> <a href="#500832" title="()Unit">setStrVal</a><span class="delimiter">(</span><span class="delimiter">)</span>  <span class="comment">/** Note the early return */</span>

            <span class="comment">/** These letters may be part of a literal, or a method invocation on an Int */</span>
            <span class="keyword">case</span> <span title="Boolean" class="char">'d'</span> | <span title="Char(\'D\')" class="char">'D'</span> | <span title="Char(\'f\')" class="char">'f'</span> | <span title="Char(\'F\')" class="char">'F'</span> =&gt;
              <a href="../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../util/Chars.scala.html#498731" title="(c: Char)Boolean">isIdentifierPart</a><span class="delimiter">(</span><a href="#584881" title="Scanner.this.CharArrayLookaheadReader">lookahead</a>.<a href="../../util/CharArrayReader.scala.html#567928" title="()Char">getc</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="comment">/** A little more special handling for e.g. 5e7 */</span>
            <span class="keyword">case</span> <span title="Boolean" class="char">'e'</span> | <span title="Char(\'E\')" class="char">'E'</span> =&gt;
              <span class="keyword">val</span> <a title="Char" id="584885">ch</a> = <a href="#584881" title="Scanner.this.CharArrayLookaheadReader">lookahead</a>.<a href="../../util/CharArrayReader.scala.html#567928" title="()Char">getc</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../util/Chars.scala.html#498731" title="(c: Char)Boolean">isIdentifierPart</a><span class="delimiter">(</span><a href="#584885" title="Char">ch</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#584848" title="(c: Char)Boolean">isDigit</a><span class="delimiter">(</span><a href="#584885" title="Char">ch</a><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#584885" title="Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'+\')" class="char">'+'</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#584885" title="Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'-\')" class="char">'-'</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <a title="Boolean" id="584894">x</a>  =&gt;
              <a href="../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../util/Chars.scala.html#498730" title="(c: Char)Boolean">isIdentifierStart</a><span class="delimiter">(</span><a href="#584894" title="Char @scala.annotation.switch">x</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#584882" title="Boolean">isDefinitelyNumber</a><span class="delimiter">)</span> <a href="#584850" title="()Unit">restOfNumber</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#584851" title="()Unit">restOfUncertainToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Parse character literal if current character is followed by \',
     *  or follow with given op and return a symbol literal token
     */</span>
    <span class="keyword">def</span> <a title="(op: () =&gt; Unit)Unit" id="500875">charLitOr</a><span class="delimiter">(</span><a title="() =&gt; Unit" id="584254">op</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Unit<span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#500830" title="(c: Char)Unit">putChar</a><span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a><span class="delimiter">)</span>
      <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../util/CharArrayReader.scala.html#500799" title="=&gt; Char">ch</a> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\\'\')" class="char">'\''</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(1)">CHARLIT</span>
        <a href="#500832" title="()Unit">setStrVal</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../../../../Function0.scala.html#62187" title="()Unit">op</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(7)">SYMBOLLIT</span>
        <a href="#500930" title="(x$1: String)Unit">strVal</a> = <a href="#500927" title="=&gt; Scanners.this.global.TermName">name</a>.<a href="../../symtab/Names.scala.html#501123" title="()String">toString</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">// Errors -----------------------------------------------------------------</span>

    <span class="comment">/** generate an error at the given offset
    */</span>
    <span class="keyword">def</span> <a title="(off: Scanners.this.Offset, msg: String)Unit" id="500876">syntaxError</a><span class="delimiter">(</span><a title="Scanners.this.Offset" id="567917">off</a>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a>, <a title="String" id="567918">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#500937" title="(off: Int, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#567917" title="Scanners.this.Offset">off</a>, <a href="#567918" title="String">msg</a><span class="delimiter">)</span>
      <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(-1)">ERROR</span>
      <a href="#500826" title="(x$1: Scanners.this.Offset)Unit">errOffset</a> = <a href="#567917" title="Scanners.this.Offset">off</a>
    <span class="delimiter">}</span>

    <span class="comment">/** generate an error at the current token offset
    */</span>
    <span class="keyword">def</span> <a title="(msg: String)Unit" id="500877">syntaxError</a><span class="delimiter">(</span><a title="String" id="567915">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a> = <a href="#500876" title="(off: Scanners.this.Offset, msg: String)Unit">syntaxError</a><span class="delimiter">(</span><a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>, <a href="#567915" title="String">msg</a><span class="delimiter">)</span>

    <span class="comment">/** signal an error where the input ended in the middle of a token */</span>
    <span class="keyword">def</span> <a title="(msg: String)Unit" id="500878">incompleteInputError</a><span class="delimiter">(</span><a title="String" id="584509">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#500938" title="(off: Int, msg: String)Unit">incompleteInputError</a><span class="delimiter">(</span><a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>, <a href="#584509" title="String">msg</a><span class="delimiter">)</span>
      <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(0)">EOF</span>
      <a href="#500826" title="(x$1: Scanners.this.Offset)Unit">errOffset</a> = <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="500879">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#500918" title="=&gt; Int">token</a> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="java.lang.String">IDENTIFIER</span> | <span title="Int(11)">BACKQUOTED_IDENT</span> =&gt;
        <span title="java.lang.String(&quot;id(&quot;)" class="string">&quot;id(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#500927" title="=&gt; Scanners.this.global.TermName">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
      <span class="keyword">case</span> <span title="java.lang.String">CHARLIT</span> =&gt;
        <span title="java.lang.String(&quot;char(&quot;)" class="string">&quot;char(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#500870" title="=&gt; Long">intVal</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
      <span class="keyword">case</span> <span title="java.lang.String">INTLIT</span> =&gt;
        <span title="java.lang.String(&quot;int(&quot;)" class="string">&quot;int(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#500870" title="=&gt; Long">intVal</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
      <span class="keyword">case</span> <span title="java.lang.String">LONGLIT</span> =&gt;
        <span title="java.lang.String(&quot;long(&quot;)" class="string">&quot;long(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#500870" title="=&gt; Long">intVal</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
      <span class="keyword">case</span> <span title="java.lang.String">FLOATLIT</span> =&gt;
        <span title="java.lang.String(&quot;float(&quot;)" class="string">&quot;float(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#500872" title="=&gt; Double">floatVal</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
      <span class="keyword">case</span> <span title="java.lang.String">DOUBLELIT</span> =&gt;
        <span title="java.lang.String(&quot;double(&quot;)" class="string">&quot;double(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#500872" title="=&gt; Double">floatVal</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
      <span class="keyword">case</span> <span title="java.lang.String">STRINGLIT</span> =&gt;
        <span title="java.lang.String(&quot;string(&quot;)" class="string">&quot;string(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#500930" title="=&gt; String">strVal</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
      <span class="keyword">case</span> <span title="java.lang.String(&quot;;&quot;)">SEMI</span> =&gt;
        <span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span>
      <span class="keyword">case</span> <span title="java.lang.String(&quot;;&quot;)">NEWLINE</span> =&gt;
        <span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span>
      <span class="keyword">case</span> <span title="java.lang.String(&quot;;;&quot;)">NEWLINES</span> =&gt;
        <span title="java.lang.String(&quot;;;&quot;)" class="string">&quot;;;&quot;</span>
      <span class="keyword">case</span> <span title="java.lang.String(&quot;,&quot;)">COMMA</span> =&gt;
        <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>
      <span class="keyword">case</span> <span title="String">_</span> =&gt;
        <a href="#500533" title="(token: Int)String">token2string</a><span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// ------------- brace counting and healing ------------------------------</span>

    <span class="comment">/** overridden in UnitScanners:
     *  apply brace patch if one exists for this offset
     *  return true if subsequent end of line handling should be suppressed.
     */</span>
    <span class="keyword">def</span> <a title="()Boolean" id="500880">applyBracePatch</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** overridden in UnitScanners */</span>
    <span class="keyword">def</span> <a title="(token: Int)Int" id="500881">parenBalance</a><span class="delimiter">(</span><a title="Int" id="570104">token</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span title="Int(0)" class="int">0</span>

    <span class="comment">/** overridden in UnitScanners */</span>
    <span class="keyword">def</span> <a title="()List[scala.tools.nsc.ast.parser.BracePatch]" id="500882">healBraces</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span> = List<a href="../../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="comment">/** Initialization method: read first char, then first token
     */</span>
    <span class="keyword">def</span> <a title="()Unit" id="500883">init</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../util/CharArrayReader.scala.html#500815" title="()Unit">nextChar</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#500853" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="comment">// end Scanner</span>

  <span class="comment">// ------------- keyword configuration -----------------------------------</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="List[(Scanners.this.global.Name, Int)]" id="500523">allKeywords</a> = <a href="../../../../collection/immutable/List.scala.html#48877" title="[A](xs: A*)List[A]">List</a><span title="(xs: (Scanners.this.global.Name, Int)*)List[(Scanners.this.global.Name, Int)]" class="delimiter">[</span><a href="../../../../Tuple2.scala.html#1520" title="(Scanners.this.global.Name, Int)" class="delimiter">(</a>Name, Int<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">(</span>
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">ABSTRACTkw</a>  <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(32)">ABSTRACT</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">CASEkw</a>      <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(28)">CASE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">CATCHkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(54)">CATCH</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">CLASSkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(45)">CLASS</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">DEFkw</a>       <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(39)">DEF</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">DOkw</a>        <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(49)">DO</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">ELSEkw</a>      <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(22)">ELSE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">EXTENDSkw</a>   <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(41)">EXTENDS</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">FALSEkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(43)">FALSE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">FINALkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(33)">FINAL</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">FINALLYkw</a>   <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(55)">FINALLY</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">FORkw</a>       <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(21)">FOR</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">FORSOMEkw</a>   <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(59)">FORSOME</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">IFkw</a>        <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(20)">IF</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">IMPLICITkw</a>  <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(37)">IMPLICIT</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">IMPORTkw</a>    <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(46)">IMPORT</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">LAZYkw</a>      <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(61)">LAZY</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">MATCHkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(58)">MATCH</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">NEWkw</a>       <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(25)">NEW</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">NULLkw</a>      <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(24)">NULL</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">OBJECTkw</a>    <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(44)">OBJECT</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">OVERRIDEkw</a>  <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(36)">OVERRIDE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">PACKAGEkw</a>   <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(47)">PACKAGE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">PRIVATEkw</a>   <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(34)">PRIVATE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">PROTECTEDkw</a> <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(35)">PROTECTED</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">RETURNkw</a>    <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(57)">RETURN</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">SEALEDkw</a>    <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(51)">SEALED</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">SUPERkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(27)">SUPER</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">THISkw</a>      <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(23)">THIS</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">THROWkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(52)">THROW</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">TRAITkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(50)">TRAIT</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">TRUEkw</a>      <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(42)">TRUE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">TRYkw</a>       <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(53)">TRY</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">TYPEkw</a>      <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(40)">TYPE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">VALkw</a>       <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(31)">VAL</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">VARkw</a>       <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(38)">VAR</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">WHILEkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(56)">WHILE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">WITHkw</a>      <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(26)">WITH</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">YIELDkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(48)">YIELD</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">DOTkw</a>       <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(72)">DOT</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">USCOREkw</a>    <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(73)">USCORE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">COLONkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(74)">COLON</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">EQUALSkw</a>    <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(75)">EQUALS</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">ARROWkw</a>     <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(77)">ARROW</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">LARROWkw</a>    <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(76)">LARROW</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">SUBTYPEkw</a>   <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(80)">SUBTYPE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">VIEWBOUNDkw</a> <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(84)">VIEWBOUND</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">SUPERTYPEkw</a> <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(81)">SUPERTYPE</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">HASHkw</a>      <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(82)">HASH</span>,
    <a href="../../symtab/StdNames.scala.html#479055" title="object Scanners.this.global.nme">nme</a>.<a href="../../../../Predef.scala.html#9589" title="(x: Scanners.this.global.TermName)ArrowAssoc[Scanners.this.global.TermName]">ATkw</a>        <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Scanners.this.global.TermName, Int)">-&gt;</a> <span title="Int(83)">AT</span>
  <span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="500526">kwOffset</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a> = -<span title="Int(-1)" class="int">1</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Array[Int]" id="500528">kwArray</a>: <a href="../../../../Array.scala.html#1430" title="Array[Int]">Array</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a href="../../../../Tuple2.scala.html#53390" title="(Int, Array[Int])" class="delimiter">(</a><a href="../../../../Tuple2.scala.html#53402" title="Int" id="584942">offset</a>, <a href="../../../../Tuple2.scala.html#53404" title="Array[Int]" id="584943">arr</a><span class="delimiter">)</span> = <a href="#500514" title="(keywords: Seq[(Scanners.this.global.Name, Int)], defaultToken: Int)(Int, Array[Int])">createKeywordArray</a><a href="../../../../Tuple2.scala.html#1520" title="(Int, Array[Int]) @unchecked" class="delimiter">(</a><a href="#500523" title="=&gt; List[(Scanners.this.global.Name, Int)]">allKeywords</a>, <span title="Int(10)">IDENTIFIER</span><span class="delimiter">)</span>
    <a href="#500526" title="(x$1: Int)Unit">kwOffset</a> = <a href="#584942" title="Int">offset</a>
    <a href="#584943" title="Array[Int]">arr</a>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[Int,Scanners.this.global.Name]" id="500530">token2name</a> = <a href="#500523" title="=&gt; List[(Scanners.this.global.Name, Int)]">allKeywords</a> <a href="../../../../collection/TraversableLike.scala.html#49041" title="(f: ((Scanners.this.global.Name, Int)) =&gt; (Int, Scanners.this.global.Name))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Scanners.this.global.Name, Int)],(Int, Scanners.this.global.Name),List[(Int, Scanners.this.global.Name)]])List[(Int, Scanners.this.global.Name)]">map</a> <span class="delimiter">(</span><a href="#583881" title="(Scanners.this.global.Name, Int)">_</a>.<a href="../../../../Tuple2.scala.html#53408" title="=&gt; (Int, Scanners.this.global.Name)">swap</a><span class="delimiter">)</span> <a href="../../../../collection/TraversableOnce.scala.html#53703" title="(implicit ev: &lt;:&lt;[(Int, Scanners.this.global.Name),(Int, Scanners.this.global.Name)])scala.collection.immutable.Map[Int,Scanners.this.global.Name]">toMap</a>

  <span class="comment">/** Convert name to token */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(name: Scanners.this.global.Name)Int" id="500532">name2token</a><span class="delimiter">(</span><a title="Scanners.this.global.Name" id="583953">name</a>: <a href="../../symtab/Names.scala.html#478413" title="Scanners.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="583956">idx</a> = <a href="#583953" title="Scanners.this.global.Name">name</a>.<a href="../../symtab/Names.scala.html#501110" title="=&gt; Int">start</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#500526" title="=&gt; Int">kwOffset</a>
    <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#583956" title="Int">idx</a> <a href="../../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#583956" title="Int">idx</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#500528" title="=&gt; Array[Int]">kwArray</a>.<a href="../../../../Array.scala.html#49204" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="../../../../Array.scala.html#49205" title="(i: Int)Int">kwArray</a><span class="delimiter">(</span><a href="#583956" title="Int">idx</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Int(10)">IDENTIFIER</span>
  <span class="delimiter">}</span>

<span class="comment">// Token representation ----------------------------------------------------</span>

  <span class="comment">/** Returns the string representation of given token. */</span>
  <span class="keyword">def</span> <a title="(token: Int)String" id="500533">token2string</a><span class="delimiter">(</span><a title="Int" id="501101">token</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">(</span><a href="#501101" title="Int">token</a>: @<a href="../../../../Int.scala.html#386" title="Int @scala.annotation.switch">switch</a><span class="delimiter">)</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;identifier&quot;)">IDENTIFIER</span> | <span title="Int(11)">BACKQUOTED_IDENT</span> =&gt; <span title="java.lang.String(&quot;identifier&quot;)" class="string">&quot;identifier&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;character literal&quot;)">CHARLIT</span> =&gt; <span title="java.lang.String(&quot;character literal&quot;)" class="string">&quot;character literal&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;integer literal&quot;)">INTLIT</span> =&gt; <span title="java.lang.String(&quot;integer literal&quot;)" class="string">&quot;integer literal&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;long literal&quot;)">LONGLIT</span> =&gt; <span title="java.lang.String(&quot;long literal&quot;)" class="string">&quot;long literal&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;float literal&quot;)">FLOATLIT</span> =&gt; <span title="java.lang.String(&quot;float literal&quot;)" class="string">&quot;float literal&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;double literal&quot;)">DOUBLELIT</span> =&gt; <span title="java.lang.String(&quot;double literal&quot;)" class="string">&quot;double literal&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;string literal&quot;)">STRINGLIT</span> =&gt; <span title="java.lang.String(&quot;string literal&quot;)" class="string">&quot;string literal&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;symbol literal&quot;)">SYMBOLLIT</span> =&gt; <span title="java.lang.String(&quot;symbol literal&quot;)" class="string">&quot;symbol literal&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;\'(\'&quot;)">LPAREN</span> =&gt; <span title="java.lang.String(&quot;\'(\'&quot;)" class="string">&quot;'('&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;\')\'&quot;)">RPAREN</span> =&gt; <span title="java.lang.String(&quot;\')\'&quot;)" class="string">&quot;')'&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;\'{\'&quot;)">LBRACE</span> =&gt; <span title="java.lang.String(&quot;\'{\'&quot;)" class="string">&quot;'{'&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;\'}\'&quot;)">RBRACE</span> =&gt; <span title="java.lang.String(&quot;\'}\'&quot;)" class="string">&quot;'}'&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;\'[\'&quot;)">LBRACKET</span> =&gt; <span title="java.lang.String(&quot;\'[\'&quot;)" class="string">&quot;'['&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;\']\'&quot;)">RBRACKET</span> =&gt; <span title="java.lang.String(&quot;\']\'&quot;)" class="string">&quot;']'&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;eof&quot;)">EOF</span> =&gt; <span title="java.lang.String(&quot;eof&quot;)" class="string">&quot;eof&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;something&quot;)">ERROR</span> =&gt; <span title="java.lang.String(&quot;something&quot;)" class="string">&quot;something&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;\';\'&quot;)">SEMI</span> =&gt; <span title="java.lang.String(&quot;\';\'&quot;)" class="string">&quot;';'&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;\';\'&quot;)">NEWLINE</span> =&gt; <span title="java.lang.String(&quot;\';\'&quot;)" class="string">&quot;';'&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;\';\'&quot;)">NEWLINES</span> =&gt; <span title="java.lang.String(&quot;\';\'&quot;)" class="string">&quot;';'&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;\',\'&quot;)">COMMA</span> =&gt; <span title="java.lang.String(&quot;\',\'&quot;)" class="string">&quot;','&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;case class&quot;)">CASECLASS</span> =&gt; <span title="java.lang.String(&quot;case class&quot;)" class="string">&quot;case class&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;case object&quot;)">CASEOBJECT</span> =&gt; <span title="java.lang.String(&quot;case object&quot;)" class="string">&quot;case object&quot;</span>
    <span class="keyword">case</span> <span title="java.lang.String(&quot;$XMLSTART$&lt;&quot;)">XMLSTART</span> =&gt; <span title="java.lang.String(&quot;$XMLSTART$&lt;&quot;)" class="string">&quot;$XMLSTART$&lt;&quot;</span>
    <span class="keyword">case</span> <span title="String">_</span> =&gt;
      <span class="delimiter">(</span><a href="#500530" title="=&gt; scala.collection.immutable.Map[Int,Scanners.this.global.Name]">token2name</a> <a href="../../../../collection/MapLike.scala.html#73194" title="(key: Int)Option[Scanners.this.global.Name]">get</a> <a href="#501101" title="Int">token</a><span class="delimiter">)</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="java.lang.String">Some</span><span class="delimiter">(</span><a title="Scanners.this.global.Name" id="584959">name</a><span class="delimiter">)</span> =&gt; <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#584959" title="Scanners.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span>
        <span class="keyword">case</span> <span title="java.lang.String">_</span>          =&gt; <span title="java.lang.String(&quot;\'&lt;&quot;)" class="string">&quot;'&lt;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#501101" title="Int">token</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;&gt;\'&quot;)" class="string">&quot;&gt;'&quot;</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class MalformedInput extends java.lang.Exception with ScalaObject" id="500534">MalformedInput</a><a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Int" id="568667">offset</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>, <span class="keyword">val</span> <a title="String" id="568668">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../../package.scala.html#47500" title="java.lang.Exception">Exception</a>

  <span class="comment">/** A scanner for a given source file not necessarily attached to a compilation unit.
   *  Useful for looking inside source files that aren not currently compiled to see what's there
   */</span>
  <span class="keyword">class</span> <a title="class SourceFileScanner extends Scanners.this.Scanner with ScalaObject" id="500535">SourceFileScanner</a><a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="scala.tools.nsc.util.SourceFile" id="567901">source</a>: <a href="../../util/SourceFile.scala.html#42457" title="scala.tools.nsc.util.SourceFile">SourceFile</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#500522" title="Scanners.this.Scanner">Scanner</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Array[Char]" id="500888">buf</a> = <a href="#567901" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../../util/SourceFile.scala.html#501039" title="=&gt; Array[Char]">content</a>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="500890">decodeUni</a>: <a href="../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#469665" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nouescape</a>.<a href="../../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a>

    <span class="comment">// suppress warnings, throw exception on errors</span>
    <span class="keyword">def</span> <a title="(off: Scanners.this.Offset, msg: String)Unit" id="500892">warning</a><span class="delimiter">(</span><a title="Scanners.this.Offset" id="584973">off</a>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a>, <a title="String" id="584974">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a> = <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(off: Scanners.this.Offset, msg: String)Unit" id="500893">error</a>  <span class="delimiter">(</span><a title="Scanners.this.Offset" id="584976">off</a>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a>, <a title="String" id="584977">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a> = <span title="Nothing" class="keyword">throw</span> <span title="Scanners.this.MalformedInput" class="keyword">new</span> <a href="#500534" title="Scanners.this.MalformedInput">MalformedInput</a><span class="delimiter">(</span><a href="#584976" title="Scanners.this.Offset">off</a>, <a href="#584977" title="String">msg</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(off: Scanners.this.Offset, msg: String)Unit" id="500894">incompleteInputError</a><span class="delimiter">(</span><a title="Scanners.this.Offset" id="584979">off</a>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a>, <a title="String" id="584980">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a> = <span title="Nothing" class="keyword">throw</span> <span title="Scanners.this.MalformedInput" class="keyword">new</span> <a href="#500534" title="Scanners.this.MalformedInput">MalformedInput</a><span class="delimiter">(</span><a href="#584979" title="Scanners.this.Offset">off</a>, <a href="#584980" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A scanner over a given compilation unit
   */</span>
  <span class="keyword">class</span> <a title="class UnitScanner extends Scanners.this.SourceFileScanner with ScalaObject" id="500536">UnitScanner</a><a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Scanners.this.global.CompilationUnit" id="500988">unit</a>: <a href="../../CompilationUnits.scala.html#479284" title="Scanners.this.global.CompilationUnit">CompilationUnit</a>, <a title="List[scala.tools.nsc.ast.parser.BracePatch]" id="500989">patches</a>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#500535" title="Scanners.this.SourceFileScanner">SourceFileScanner</a><span class="delimiter">(</span><a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500950" title="=&gt; scala.tools.nsc.util.SourceFile">source</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(unit: Scanners.this.global.CompilationUnit)Scanners.this.UnitScanner" id="500900" class="keyword">this</a><span class="delimiter">(</span><a title="Scanners.this.global.CompilationUnit" id="500941">unit</a>: <a href="../../CompilationUnits.scala.html#479284" title="Scanners.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> = <a href="#500536" title="UnitScanner.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#500941" title="Scanners.this.global.CompilationUnit">unit</a>, List<a href="../../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(off: Scanners.this.Offset, msg: String)Unit" id="500901">warning</a><span class="delimiter">(</span><a title="Scanners.this.Offset" id="585038">off</a>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a>, <a title="String" id="585039">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500979" title="(pos: Scanners.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500974" title="(pos: Int)scala.tools.nsc.util.Position">position</a><span class="delimiter">(</span><a href="#585038" title="Scanners.this.Offset">off</a><span class="delimiter">)</span>, <a href="#585039" title="String">msg</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(off: Scanners.this.Offset, msg: String)Unit" id="500902">error</a>  <span class="delimiter">(</span><a title="Scanners.this.Offset" id="585044">off</a>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a>, <a title="String" id="585045">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500978" title="(pos: Scanners.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500974" title="(pos: Int)scala.tools.nsc.util.Position">position</a><span class="delimiter">(</span><a href="#585044" title="Scanners.this.Offset">off</a><span class="delimiter">)</span>, <a href="#585045" title="String">msg</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(off: Scanners.this.Offset, msg: String)Unit" id="500903">incompleteInputError</a><span class="delimiter">(</span><a title="Scanners.this.Offset" id="585050">off</a>: <a href="../../../../Int.scala.html#386" title="Scanners.this.Offset">Offset</a>, <a title="String" id="585051">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500982" title="(pos: Scanners.this.global.Position, msg: String)Unit">incompleteInputError</a><span class="delimiter">(</span><a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500974" title="(pos: Int)scala.tools.nsc.util.Position">position</a><span class="delimiter">(</span><a href="#585050" title="Scanners.this.Offset">off</a><span class="delimiter">)</span>, <a href="#585051" title="String">msg</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[scala.tools.nsc.ast.parser.BracePatch]" id="500905">bracePatches</a>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span> = <a href="#500989" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a>

    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Scanners.this.ParensAnalyzer" id="500908">parensAnalyzer</a> = <span title="Scanners.this.ParensAnalyzer" class="keyword">new</span> <a href="#500537" title="Scanners.this.ParensAnalyzer">ParensAnalyzer</a><span class="delimiter">(</span><a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>, List<a href="../../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(token: Int)Int" id="500909">parenBalance</a><span class="delimiter">(</span><a title="Int" id="585058">token</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <a href="#500907" title="=&gt; Scanners.this.ParensAnalyzer">parensAnalyzer</a>.<a href="../../../../collection/MapLike.scala.html#73204" title="(key: Int)Int">balance</a><span class="delimiter">(</span><a href="#585058" title="Int">token</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()List[scala.tools.nsc.ast.parser.BracePatch]" id="500910">healBraces</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="List[scala.tools.nsc.ast.parser.BracePatch]" id="585131">patches</a>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span> = List<a href="../../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#500907" title="=&gt; Scanners.this.ParensAnalyzer">parensAnalyzer</a>.<a href="#585000" title="=&gt; Boolean">tabSeen</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Int" id="585139">bal</a> = <a href="#500907" title="=&gt; Scanners.this.ParensAnalyzer">parensAnalyzer</a>.<a href="../../../../collection/MapLike.scala.html#73204" title="(key: Int)Int">balance</a><span class="delimiter">(</span><span title="Int(95)">RBRACE</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#585139" title="Int">bal</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#585140" title="()Unit" class="delimiter">{</a>
          <a href="#585131" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a> = <span title="Scanners.this.ParensAnalyzer" class="keyword">new</span> <a href="#500537" title="Scanners.this.ParensAnalyzer">ParensAnalyzer</a><span class="delimiter">(</span><a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>, <a href="#585131" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a><span class="delimiter">)</span>.<a href="#585007" title="()List[scala.tools.nsc.ast.parser.BracePatch]">insertRBrace</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#585139" title="Int">bal</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#585139" title="Int">bal</a> <a href="../../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#585167" title="()Unit" class="delimiter">{</a>
          <a href="#585131" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a> = <span title="Scanners.this.ParensAnalyzer" class="keyword">new</span> <a href="#500537" title="Scanners.this.ParensAnalyzer">ParensAnalyzer</a><span class="delimiter">(</span><a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>, <a href="#585131" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a><span class="delimiter">)</span>.<a href="#585008" title="()List[scala.tools.nsc.ast.parser.BracePatch]">deleteRBrace</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#585139" title="Int">bal</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#585131" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Insert or delete a brace, if a patch exists for this offset */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Boolean" id="500911">applyBracePatch</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#500905" title="=&gt; List[scala.tools.nsc.ast.parser.BracePatch]">bracePatches</a>.<a href="../../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#500905" title="=&gt; List[scala.tools.nsc.ast.parser.BracePatch]">bracePatches</a>.<a href="../../../../collection/IterableLike.scala.html#53870" title="=&gt; scala.tools.nsc.ast.parser.BracePatch">head</a>.<a href="BracePatch.scala.html#565855" title="=&gt; Int">off</a> <a href="../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.ast.parser.BracePatch" id="585189">patch</a> = <a href="#500905" title="=&gt; List[scala.tools.nsc.ast.parser.BracePatch]">bracePatches</a>.<a href="../../../../collection/IterableLike.scala.html#53870" title="=&gt; scala.tools.nsc.ast.parser.BracePatch">head</a>
        <a href="#500905" title="(x$1: List[scala.tools.nsc.ast.parser.BracePatch])Unit">bracePatches</a> = <a href="#500905" title="=&gt; List[scala.tools.nsc.ast.parser.BracePatch]">bracePatches</a>.<a href="../../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[scala.tools.nsc.ast.parser.BracePatch]">tail</a>
<span class="comment">//        println(&quot;applying brace patch &quot;+offset)//DEBUG</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#585189" title="scala.tools.nsc.ast.parser.BracePatch">patch</a>.<a href="BracePatch.scala.html#565857" title="=&gt; Boolean">inserted</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#500845" title="=&gt; Scanners.this.TokenData">next</a> <a href="#500935" title="(td: Scanners.this.TokenData)Unit">copyFrom</a> <a href="#500536" title="Scanners.this.UnitScanner" class="keyword">this</a>
          <a href="#500902" title="(off: Scanners.this.Offset, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>, <span title="java.lang.String(&quot;Missing closing brace `}\' assumed here&quot;)" class="string">&quot;Missing closing brace `}' assumed here&quot;</span><span class="delimiter">)</span>
          <a href="#500918" title="(x$1: Int)Unit">token</a> = <span title="Int(95)">RBRACE</span>
          <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#500902" title="(off: Scanners.this.Offset, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>, <span title="java.lang.String(&quot;Unmatched closing brace \'}\' ignored here&quot;)" class="string">&quot;Unmatched closing brace '}' ignored here&quot;</span><span class="delimiter">)</span>
          <a href="#500856" title="()Unit">fetchToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(value: String, start: Int, end: Int)Unit" id="500912">foundComment</a><span class="delimiter">(</span><a title="String" id="585192">value</a>: <span title="String">String</span>, <a title="Int" id="585193">start</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="585194">end</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.RangePosition" id="585196">pos</a> = <span title="scala.tools.nsc.util.RangePosition" class="keyword">new</span> <a href="../../util/Position.scala.html#43249" title="scala.tools.nsc.util.RangePosition">RangePosition</a><span class="delimiter">(</span><a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500950" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>, <a href="#585193" title="Int">start</a>, <a href="#585193" title="Int">start</a>, <a href="#585194" title="Int">end</a><span class="delimiter">)</span>
    	<a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500964" title="=&gt; scala.collection.mutable.ListBuffer[UnitScanner.this.unit.Comment]">comments</a> <a href="../../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: UnitScanner.this.unit.Comment)UnitScanner.this.unit.comments.type">+=</a> <a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#501601" title="(text: String, pos: Scanners.this.global.Position)UnitScanner.this.unit.Comment">Comment</a><span class="delimiter">(</span><a href="#585192" title="String">value</a>, <a href="#585196" title="scala.tools.nsc.util.RangePosition">pos</a><span class="delimiter">)</span>
    	<a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500983" title="(pos: Scanners.this.global.Position, msg: String)Unit">comment</a><span class="delimiter">(</span><a href="#585196" title="scala.tools.nsc.util.RangePosition">pos</a>, <a href="#585192" title="String">value</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(value: String, start: Int, end: Int)Unit" id="500913">foundDocComment</a><span class="delimiter">(</span><a title="String" id="585247">value</a>: <span title="String">String</span>, <a title="Int" id="585248">start</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="585249">end</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#500838" title="(x$1: Scanners.this.global.Position)Unit">docPos</a> = <span title="scala.tools.nsc.util.RangePosition" class="keyword">new</span> <a href="../../util/Position.scala.html#43249" title="scala.tools.nsc.util.RangePosition">RangePosition</a><span class="delimiter">(</span><a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500950" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>, <a href="#585248" title="Int">start</a>, <a href="#585248" title="Int">start</a>, <a href="#585249" title="Int">end</a><span class="delimiter">)</span>
      <a href="#500988" title="Scanners.this.global.CompilationUnit">unit</a>.<a href="../../CompilationUnits.scala.html#500983" title="(pos: Scanners.this.global.Position, msg: String)Unit">comment</a><span class="delimiter">(</span><a href="#500838" title="=&gt; Scanners.this.global.Position">docPos</a>, <a href="#585247" title="String">value</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class ParensAnalyzer extends Scanners.this.UnitScanner with ScalaObject" id="500537">ParensAnalyzer</a><a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Scanners.this.global.CompilationUnit" id="585012">unit</a>: <a href="../../CompilationUnits.scala.html#479284" title="Scanners.this.global.CompilationUnit">CompilationUnit</a>, <a title="List[scala.tools.nsc.ast.parser.BracePatch]" id="585013">patches</a>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#500536" title="Scanners.this.UnitScanner">UnitScanner</a><span class="delimiter">(</span><a href="#585012" title="Scanners.this.global.CompilationUnit">unit</a>, <a href="#585013" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scala.collection.mutable.Map[Int,Int]" id="584993">balance</a> = collection.mutable.<a href="../../../../collection/generic/GenMapFactory.scala.html#56702" title="(elems: (Int, Int)*)scala.collection.mutable.Map[Int,Int]">Map</a><span class="delimiter">(</span><a href="../../../../Predef.scala.html#9589" title="(x: Int)ArrowAssoc[Int]">RPAREN</a> <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Int, Int)">-&gt;</a> <span title="Int(0)" class="int">0</span>, <a href="../../../../Predef.scala.html#9589" title="(x: Int)ArrowAssoc[Int]">RBRACKET</a> <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Int, Int)">-&gt;</a> <span title="Int(0)" class="int">0</span>, <a href="../../../../Predef.scala.html#9589" title="(x: Int)ArrowAssoc[Int]">RBRACE</a> <a href="../../../../Predef.scala.html#57653" title="(y: Int)(Int, Int)">-&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

    <a href="#500883" title="()Unit">init</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">/** The offset of the first token on this line, or next following line if blank
     */</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[Int]" id="584995">lineStart</a> = <a href="../../../../collection/mutable/ArrayBuffer.scala.html#66115" title="()scala.collection.mutable.ArrayBuffer[Int]" class="keyword">new</a> <a href="../../../../collection/mutable/ArrayBuffer.scala.html#14968" title="scala.collection.mutable.ArrayBuffer[Int]">ArrayBuffer</a><span class="delimiter">[</span>Int<span class="delimiter">]</span>

    <span class="comment">/** The list of matching top-level brace pairs (each of which may contain nested brace pairs).
     */</span>
    <span class="keyword">val</span> <a title="List[scala.tools.nsc.ast.parser.BracePair]" id="584997">bracePairs</a>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePair]">List</a><span class="delimiter">[</span>BracePair<span class="delimiter">]</span> = <span class="delimiter">{</span>

      <span class="keyword">var</span> <a title="Int" id="585261">lineCount</a> = <span title="Int(1)" class="int">1</span>
      <span class="keyword">var</span> <a title="Int" id="585262">lastOffset</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="585263">indent</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Int,Int]" id="585264">oldBalance</a> = collection.mutable.<a href="../../../../collection/generic/GenMapFactory.scala.html#56702" title="[A, B](elems: (A, B)*)scala.collection.mutable.Map[A,B]">Map</a><span title="(elems: (Int, Int)*)scala.collection.mutable.Map[Int,Int]" class="delimiter">[</span><a href="../../../../Int.scala.html#386" title="Int">Int</a>, <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="()Unit" id="585265">markBalance</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="585302">k</a>, <a title="Int" id="585303">v</a><span class="delimiter">)</span> &lt;- <a href="../../../../collection/IterableLike.scala.html#53856" title="(f: ((Int, Int)) =&gt; Unit)Unit">balance</a><span class="delimiter">)</span> <a href="../../../../collection/mutable/MapLike.scala.html#73272" title="(key: Int, value: Int)Unit">oldBalance</a><span class="delimiter">(</span><a href="#585302" title="Int">k</a><span class="delimiter">)</span> = <a href="#585303" title="Int">v</a>
      <a href="#585265" title="()Unit">markBalance</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(bpbuf: scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair])(Int, Int)" id="585266">scan</a><span class="delimiter">(</span><a title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]" id="585307">bpbuf</a>: <a href="../../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">ListBuffer</a><span class="delimiter">[</span>BracePair<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../Tuple2.scala.html#1520" title="(Int, Int)" class="delimiter">(</a>Int, Int<span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(78)">NEWLINE</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(79)">NEWLINES</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#585262" title="Int">lastOffset</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a><span class="delimiter">)</span> <a href="#585318" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Array.scala.html#49205" title="(i: Int)Char">buf</a><span class="delimiter">(</span><a href="#585262" title="Int">lastOffset</a><span class="delimiter">)</span> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\n\')">LF</span><span class="delimiter">)</span> <a href="#585261" title="Int">lineCount</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <a href="#585262" title="Int">lastOffset</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#585261" title="Int">lineCount</a> <a href="../../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#584995" title="=&gt; scala.collection.mutable.ArrayBuffer[Int]">lineStart</a>.<a href="../../../../collection/mutable/ResizableArray.scala.html#66152" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#585336" title="()Unit" class="delimiter">{</a>
            <a href="#584995" title="=&gt; scala.collection.mutable.ArrayBuffer[Int]">lineStart</a> <a href="../../../../collection/mutable/ArrayBuffer.scala.html#66119" title="(elem: Int)ParensAnalyzer.this.lineStart.type">+=</a> <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>
            <span class="comment">// reset indentation unless there are new opening brackets or</span>
            <span class="comment">// braces since last ident line and at the same time there</span>
            <span class="comment">// are no new braces.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../collection/MapLike.scala.html#73204" title="(key: Int)Int">balance</a><span class="delimiter">(</span><span title="Int(91)">RPAREN</span><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="../../../../collection/MapLike.scala.html#73204" title="(key: Int)Int">oldBalance</a><span class="delimiter">(</span><span title="Int(91)">RPAREN</span><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <a href="../../../../collection/MapLike.scala.html#73204" title="(key: Int)Int">balance</a><span class="delimiter">(</span><span title="Int(93)">RBRACKET</span><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="../../../../collection/MapLike.scala.html#73204" title="(key: Int)Int">oldBalance</a><span class="delimiter">(</span><span title="Int(93)">RBRACKET</span><span class="delimiter">)</span> <a href="../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                <a href="../../../../collection/MapLike.scala.html#73204" title="(key: Int)Int">balance</a><span class="delimiter">(</span><span title="Int(95)">RBRACE</span><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="../../../../collection/MapLike.scala.html#73204" title="(key: Int)Int">oldBalance</a><span class="delimiter">(</span><span title="Int(95)">RBRACE</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#585263" title="Int">indent</a> = <a href="#585003" title="(offset: Int)Int">column</a><span class="delimiter">(</span><a href="#500921" title="=&gt; Scanners.this.Offset">offset</a><span class="delimiter">)</span>
              <a href="#585265" title="()Unit">markBalance</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#500918" title="=&gt; Int">token</a> <span title="(Int, Int)" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="(Int, Int)">LPAREN</span> =&gt;
            <a href="#584993" title="=&gt; scala.collection.mutable.Map[Int,Int]">balance</a><span class="delimiter">(</span><span title="Int(91)">RPAREN</span><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>; <a href="#500853" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#585266" title="(bpbuf: scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair])(Int, Int)">scan</a><span class="delimiter">(</span><a href="#585307" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="(Int, Int)">LBRACKET</span> =&gt;
            <a href="#584993" title="=&gt; scala.collection.mutable.Map[Int,Int]">balance</a><span class="delimiter">(</span><span title="Int(93)">RBRACKET</span><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>; <a href="#500853" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#585266" title="(bpbuf: scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair])(Int, Int)">scan</a><span class="delimiter">(</span><a href="#585307" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="(Int, Int)">RPAREN</span> =&gt;
            <a href="#584993" title="=&gt; scala.collection.mutable.Map[Int,Int]">balance</a><span class="delimiter">(</span><span title="Int(91)">RPAREN</span><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>; <a href="#500853" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#585266" title="(bpbuf: scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair])(Int, Int)">scan</a><span class="delimiter">(</span><a href="#585307" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="(Int, Int)">RBRACKET</span> =&gt;
            <a href="#584993" title="=&gt; scala.collection.mutable.Map[Int,Int]">balance</a><span class="delimiter">(</span><span title="Int(93)">RBRACKET</span><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>; <a href="#500853" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#585266" title="(bpbuf: scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair])(Int, Int)">scan</a><span class="delimiter">(</span><a href="#585307" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="(Int, Int)">LBRACE</span> =&gt;
            <a href="#584993" title="=&gt; scala.collection.mutable.Map[Int,Int]">balance</a><span class="delimiter">(</span><span title="Int(95)">RBRACE</span><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
            <span class="keyword">val</span> <a title="Int" id="585639">lc</a> = <a href="#585261" title="Int">lineCount</a>
            <span class="keyword">val</span> <a title="Scanners.this.Offset" id="585640">loff</a> = <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>
            <span class="keyword">val</span> <a title="Int" id="585641">lindent</a> = <a href="#585263" title="Int">indent</a>
            <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]" id="585642">bpbuf1</a> = <span title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]" class="keyword">new</span> <a href="../../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">ListBuffer</a><span class="delimiter">[</span>BracePair<span class="delimiter">]</span>
            <a href="#500853" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a href="../../../../Tuple2.scala.html#53390" title="(Int, Int)" class="delimiter">(</a><a href="../../../../Tuple2.scala.html#53402" title="Int" id="585644">roff</a>, <a href="../../../../Tuple2.scala.html#53404" title="Int" id="585645">rindent</a><span class="delimiter">)</span> = <a href="#585266" title="(bpbuf: scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair])(Int, Int)">scan</a><a href="../../../../Tuple2.scala.html#1520" title="(Int, Int) @unchecked" class="delimiter">(</a><a href="#585642" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf1</a><span class="delimiter">)</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#585639" title="Int">lc</a> <a href="../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="#585261" title="Int">lineCount</a><span class="delimiter">)</span>
              <a href="#585307" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a> <a href="../../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: scala.tools.nsc.ast.parser.BracePair)bpbuf.type">+=</a> <a href="BracePair.scala.html#565758" title="(loff: Int, lindent: Int, roff: Int, rindent: Int, nested: List[scala.tools.nsc.ast.parser.BracePair])scala.tools.nsc.ast.parser.BracePair">BracePair</a><span class="delimiter">(</span><a href="#585640" title="Scanners.this.Offset">loff</a>, <a href="#585641" title="Int">lindent</a>, <a href="#585644" title="Int">roff</a>, <a href="#585645" title="Int">rindent</a>, <a href="#585642" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf1</a>.<a href="../../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[scala.tools.nsc.ast.parser.BracePair]">toList</a><span class="delimiter">)</span>
            <a href="#585266" title="(bpbuf: scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair])(Int, Int)">scan</a><span class="delimiter">(</span><a href="#585307" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="(Scanners.this.Offset, Int)">RBRACE</span> =&gt;
            <a href="#584993" title="=&gt; scala.collection.mutable.Map[Int,Int]">balance</a><span class="delimiter">(</span><span title="Int(95)">RBRACE</span><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
            <span class="keyword">val</span> <a title="Scanners.this.Offset" id="585747">off</a> = <a href="#500921" title="=&gt; Scanners.this.Offset">offset</a>; <a href="#500853" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="../../../../Tuple2.scala.html#53390" title="(_1: Scanners.this.Offset, _2: Int)(Scanners.this.Offset, Int)" class="delimiter">(</a><a href="#585747" title="Scanners.this.Offset">off</a>, <a href="#585263" title="Int">indent</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="(Int, Int)">EOF</span> =&gt;
            <a href="../../../../Tuple2.scala.html#53390" title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</a>-<span title="Int(-1)" class="int">1</span>, -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="(Int, Int)">_</span> =&gt;
            <a href="#500853" title="()Unit">nextToken</a><span class="delimiter">(</span><span class="delimiter">)</span>; <a href="#585266" title="(bpbuf: scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair])(Int, Int)">scan</a><span class="delimiter">(</span><a href="#585307" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]" id="585267">bpbuf</a> = <span title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]" class="keyword">new</span> <a href="../../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">ListBuffer</a><span class="delimiter">[</span>BracePair<span class="delimiter">]</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#500918" title="=&gt; Int">token</a> <a href="../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)">EOF</span><span class="delimiter">)</span> <a href="#585269" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a href="../../../../Tuple2.scala.html#53390" title="(Int, Int)" class="delimiter">(</a><a href="../../../../Tuple2.scala.html#53402" title="Int" id="585810">roff</a>, <a href="../../../../Tuple2.scala.html#53404" title="Int" id="585811">rindent</a><span class="delimiter">)</span> = <a href="#585266" title="(bpbuf: scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair])(Int, Int)">scan</a><a href="../../../../Tuple2.scala.html#1520" title="(Int, Int) @unchecked" class="delimiter">(</a><a href="#585267" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#585810" title="Int">roff</a> <a href="../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.tools.nsc.ast.parser.BracePair" id="585826">current</a> = <a href="BracePair.scala.html#565758" title="(loff: Int, lindent: Int, roff: Int, rindent: Int, nested: List[scala.tools.nsc.ast.parser.BracePair])scala.tools.nsc.ast.parser.BracePair">BracePair</a><span class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span>, -<span title="Int(-1)" class="int">1</span>, <a href="#585810" title="Int">roff</a>, <a href="#585811" title="Int">rindent</a>, <a href="#585267" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a>.<a href="../../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[scala.tools.nsc.ast.parser.BracePair]">toList</a><span class="delimiter">)</span>
          <a href="#585267" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a>.<a href="../../../../collection/mutable/ListBuffer.scala.html#61789" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#585267" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a> <a href="../../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: scala.tools.nsc.ast.parser.BracePair)bpbuf.type">+=</a> <a href="#585826" title="scala.tools.nsc.ast.parser.BracePair">current</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(bp: scala.tools.nsc.ast.parser.BracePair, indent: Int)Unit" id="585268">printBP</a><span class="delimiter">(</span><a title="scala.tools.nsc.ast.parser.BracePair" id="585844">bp</a>: <a href="BracePair.scala.html#24830" title="scala.tools.nsc.ast.parser.BracePair">BracePair</a>, <a title="Int" id="585845">indent</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot; &quot;</a><a href="../../../../collection/immutable/StringLike.scala.html#56548" title="(n: Int)String">*</a><a href="#585845" title="Int">indent</a><span title="(x$1: Any)java.lang.String">+</span><a href="#585002" title="(offset: Int)Int">line</a><span class="delimiter">(</span><a href="#585844" title="scala.tools.nsc.ast.parser.BracePair">bp</a>.<a href="BracePair.scala.html#565703" title="=&gt; Int">loff</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#585844" title="scala.tools.nsc.ast.parser.BracePair">bp</a>.<a href="BracePair.scala.html#565705" title="=&gt; Int">lindent</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#585002" title="(offset: Int)Int">line</a><span class="delimiter">(</span><a href="#585844" title="scala.tools.nsc.ast.parser.BracePair">bp</a>.<a href="BracePair.scala.html#565707" title="=&gt; Int">roff</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#585844" title="scala.tools.nsc.ast.parser.BracePair">bp</a>.<a href="BracePair.scala.html#565709" title="=&gt; Int">rindent</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#585844" title="scala.tools.nsc.ast.parser.BracePair">bp</a>.<a href="BracePair.scala.html#565711" title="=&gt; List[scala.tools.nsc.ast.parser.BracePair]">nested</a>.<a href="../../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="scala.tools.nsc.ast.parser.BracePair" id="585872">bp1</a> &lt;- <a href="#585844" title="scala.tools.nsc.ast.parser.BracePair">bp</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: scala.tools.nsc.ast.parser.BracePair =&gt; Unit)Unit">nested</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#585268" title="(bp: scala.tools.nsc.ast.parser.BracePair, indent: Int)Unit">printBP</a><span class="delimiter">(</span><a href="#585872" title="scala.tools.nsc.ast.parser.BracePair">bp1</a>, <a href="#585845" title="Int">indent</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
<span class="comment">//      println(&quot;lineStart = &quot;+lineStart)//DEBUG</span>
<span class="comment">//      println(&quot;bracepairs = &quot;)</span>
<span class="comment">//      for (bp &lt;- bpbuf.toList) printBP(bp, 0)</span>
      <a href="#585267" title="scala.collection.mutable.ListBuffer[scala.tools.nsc.ast.parser.BracePair]">bpbuf</a>.<a href="../../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[scala.tools.nsc.ast.parser.BracePair]">toList</a>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Boolean" id="585000">tabSeen</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="(offset: Int)Int" id="585002">line</a><span class="delimiter">(</span><a title="Int" id="585851">offset</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../Int.scala.html#386" title="Int">Int</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(lo: Int, hi: Int)Int" id="585878">findLine</a><span class="delimiter">(</span><a title="Int" id="585879">lo</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="585880">hi</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../Int.scala.html#386" title="Int">Int</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="585881">mid</a> = <span class="delimiter">(</span><a href="#585879" title="Int">lo</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#585880" title="Int">hi</a><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54825" title="(x: Int)Int">/</a> <span title="Int(2)" class="int">2</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#585851" title="Int">offset</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="../../../../collection/mutable/ResizableArray.scala.html#66153" title="(idx: Int)Int">lineStart</a><span class="delimiter">(</span><a href="#585881" title="Int">mid</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#585878" title="(lo: Int, hi: Int)Int">findLine</a><span class="delimiter">(</span><a href="#585879" title="Int">lo</a>, <a href="#585881" title="Int">mid</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#585881" title="Int">mid</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#584995" title="=&gt; scala.collection.mutable.ArrayBuffer[Int]">lineStart</a>.<a href="../../../../collection/mutable/ResizableArray.scala.html#66152" title="=&gt; Int">length</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#585851" title="Int">offset</a> <a href="../../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="../../../../collection/mutable/ResizableArray.scala.html#66153" title="(idx: Int)Int">lineStart</a><span class="delimiter">(</span><a href="#585881" title="Int">mid</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#585878" title="(lo: Int, hi: Int)Int">findLine</a><span class="delimiter">(</span><a href="#585881" title="Int">mid</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <a href="#585880" title="Int">hi</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#585881" title="Int">mid</a>
      <span class="delimiter">}</span>
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#585851" title="Int">offset</a> <a href="../../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span>
      <span class="keyword">else</span> <a href="#585878" title="(lo: Int, hi: Int)Int">findLine</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#584995" title="=&gt; scala.collection.mutable.ArrayBuffer[Int]">lineStart</a>.<a href="../../../../collection/mutable/ResizableArray.scala.html#66152" title="=&gt; Int">length</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(offset: Int)Int" id="585003">column</a><span class="delimiter">(</span><a title="Int" id="585459">offset</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../../Int.scala.html#386" title="Int">Int</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="585948">col</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="585949">i</a> = <a href="#585459" title="Int">offset</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#585949" title="Int">i</a> <a href="../../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Array.scala.html#49205" title="(i: Int)Char">buf</a><span class="delimiter">(</span><a href="#585949" title="Int">i</a><span class="delimiter">)</span> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\\r\')">CR</span> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../Array.scala.html#49205" title="(i: Int)Char">buf</a><span class="delimiter">(</span><a href="#585949" title="Int">i</a><span class="delimiter">)</span> <a href="../../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'\\n\')">LF</span><span class="delimiter">)</span> <a href="#585950" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../Array.scala.html#49205" title="(i: Int)Char">buf</a><span class="delimiter">(</span><a href="#585949" title="Int">i</a><span class="delimiter">)</span> <a href="../../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'\\t\')" class="char">'\t'</span><span class="delimiter">)</span> <a href="#585000" title="(x$1: Boolean)Unit">tabSeen</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="#585948" title="Int">col</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#585949" title="Int">i</a> <a href="../../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
      <a href="#585948" title="Int">col</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(patches: List[scala.tools.nsc.ast.parser.BracePatch], patch: scala.tools.nsc.ast.parser.BracePatch)List[scala.tools.nsc.ast.parser.BracePatch]" id="585004">insertPatch</a><span class="delimiter">(</span><a title="List[scala.tools.nsc.ast.parser.BracePatch]" id="585982">patches</a>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span>, <a title="scala.tools.nsc.ast.parser.BracePatch" id="585983">patch</a>: <a href="BracePatch.scala.html#24383" title="scala.tools.nsc.ast.parser.BracePatch">BracePatch</a><span class="delimiter">)</span>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span> = <a href="#585982" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a> <span title="List[scala.tools.nsc.ast.parser.BracePatch]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../../collection/generic/GenSeqFactory.scala.html#48862" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="../../../../collection/immutable/List.scala.html#48877" title="(xs: scala.tools.nsc.ast.parser.BracePatch*)List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">(</span><a href="#585983" title="scala.tools.nsc.ast.parser.BracePatch">patch</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="List[scala.tools.nsc.ast.parser.BracePatch]" id="586013">bp</a> :: <a title="List[scala.tools.nsc.ast.parser.BracePatch]" id="586014">bps</a> =&gt; <span title="List[scala.tools.nsc.ast.parser.BracePatch]" class="keyword">if</span> <span class="delimiter">(</span><a href="#585983" title="scala.tools.nsc.ast.parser.BracePatch">patch</a>.<a href="BracePatch.scala.html#565855" title="=&gt; Int">off</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#586013" title="scala.tools.nsc.ast.parser.BracePatch">bp</a>.<a href="BracePatch.scala.html#565855" title="=&gt; Int">off</a><span class="delimiter">)</span> <a href="#585983" title="scala.tools.nsc.ast.parser.BracePatch">patch</a> <a href="../../../../collection/immutable/List.scala.html#49140" title="(x: scala.tools.nsc.ast.parser.BracePatch)List[scala.tools.nsc.ast.parser.BracePatch]">::</a> <a href="#585982" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a>
                        <span class="keyword">else</span> <a href="#586013" title="scala.tools.nsc.ast.parser.BracePatch">bp</a> <a href="../../../../collection/immutable/List.scala.html#49140" title="(x: scala.tools.nsc.ast.parser.BracePatch)List[scala.tools.nsc.ast.parser.BracePatch]">::</a> <a href="#585004" title="(patches: List[scala.tools.nsc.ast.parser.BracePatch], patch: scala.tools.nsc.ast.parser.BracePatch)List[scala.tools.nsc.ast.parser.BracePatch]">insertPatch</a><span class="delimiter">(</span><a href="#586014" title="List[scala.tools.nsc.ast.parser.BracePatch]">bps</a>, <a href="#585983" title="scala.tools.nsc.ast.parser.BracePatch">patch</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(offset: Int)Int" id="585005">leftColumn</a><span class="delimiter">(</span><a title="Int" id="586031">offset</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> =
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#586031" title="Int">offset</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span> <span class="keyword">else</span> <a href="#585003" title="(offset: Int)Int">column</a><span class="delimiter">(</span><a href="../../../../collection/mutable/ResizableArray.scala.html#66153" title="(idx: Int)Int">lineStart</a><span class="delimiter">(</span><a href="#585002" title="(offset: Int)Int">line</a><span class="delimiter">(</span><a href="#586031" title="Int">offset</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(offset: Int, default: Int)Int" id="585006">rightColumn</a><span class="delimiter">(</span><a title="Int" id="586045">offset</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="586046">default</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> =
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#586045" title="Int">offset</a> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="586053">rlin</a> = <a href="#585002" title="(offset: Int)Int">line</a><span class="delimiter">(</span><a href="#586045" title="Int">offset</a><span class="delimiter">)</span>
        <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../collection/mutable/ResizableArray.scala.html#66153" title="(idx: Int)Int">lineStart</a><span class="delimiter">(</span><a href="#586053" title="Int">rlin</a><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#586045" title="Int">offset</a><span class="delimiter">)</span> <a href="#585003" title="(offset: Int)Int">column</a><span class="delimiter">(</span><a href="#586045" title="Int">offset</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#586053" title="Int">rlin</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#584995" title="=&gt; scala.collection.mutable.ArrayBuffer[Int]">lineStart</a>.<a href="../../../../collection/mutable/ResizableArray.scala.html#66152" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#585003" title="(offset: Int)Int">column</a><span class="delimiter">(</span><a href="../../../../collection/mutable/ResizableArray.scala.html#66153" title="(idx: Int)Int">lineStart</a><span class="delimiter">(</span><a href="#586053" title="Int">rlin</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#586046" title="Int">default</a>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="()List[scala.tools.nsc.ast.parser.BracePatch]" id="585007">insertRBrace</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(bps: List[scala.tools.nsc.ast.parser.BracePair])List[scala.tools.nsc.ast.parser.BracePatch]" id="586085">insert</a><span class="delimiter">(</span><a title="List[scala.tools.nsc.ast.parser.BracePair]" id="586086">bps</a>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePair]">List</a><span class="delimiter">[</span>BracePair<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span> = <a href="#586086" title="List[scala.tools.nsc.ast.parser.BracePair]">bps</a> <span title="List[scala.tools.nsc.ast.parser.BracePatch]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../../collection/generic/GenSeqFactory.scala.html#48862" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#585013" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a>
        <span class="keyword">case</span> <span title="List[scala.tools.nsc.ast.parser.BracePatch]" class="delimiter">(</span><a title="scala.tools.nsc.ast.parser.BracePair" id="586105">bp</a> @ BracePair<span class="delimiter">(</span><a title="Int" id="586106">loff</a>, <a title="Int" id="586107">lindent</a>, <a title="Int" id="586108">roff</a>, <a title="Int" id="586109">rindent</a>, <a title="List[scala.tools.nsc.ast.parser.BracePair]" id="586110">nested</a><span class="delimiter">)</span><span class="delimiter">)</span> :: <a title="List[scala.tools.nsc.ast.parser.BracePair]" id="586111">bps1</a> =&gt;
          <span title="List[scala.tools.nsc.ast.parser.BracePatch]" class="keyword">if</span> <span class="delimiter">(</span><a href="#586107" title="Int">lindent</a> <a href="../../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#586109" title="Int">rindent</a><span class="delimiter">)</span> <a href="#586085" title="(bps: List[scala.tools.nsc.ast.parser.BracePair])List[scala.tools.nsc.ast.parser.BracePatch]">insert</a><span class="delimiter">(</span><a href="#586111" title="List[scala.tools.nsc.ast.parser.BracePair]">bps1</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
<span class="comment">//           println(&quot;patch inside &quot;+bp+&quot;/&quot;+line(loff)+&quot;/&quot;+lineStart(line(loff))+&quot;/&quot;+lindent&quot;/&quot;+rindent)//DEBUG</span>
            <span class="keyword">val</span> <a title="List[scala.tools.nsc.ast.parser.BracePatch]" id="586116">patches1</a> = <a href="#586085" title="(bps: List[scala.tools.nsc.ast.parser.BracePair])List[scala.tools.nsc.ast.parser.BracePatch]">insert</a><span class="delimiter">(</span><a href="#586110" title="List[scala.tools.nsc.ast.parser.BracePair]">nested</a><span class="delimiter">)</span>
            <span title="List[scala.tools.nsc.ast.parser.BracePatch]" class="keyword">if</span> <span class="delimiter">(</span><a href="#586116" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#585013" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a><span class="delimiter">)</span> <a href="#586116" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches1</a>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Int" id="586117">lin</a> = <a href="#585002" title="(offset: Int)Int">line</a><span class="delimiter">(</span><a href="#586106" title="Int">loff</a><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#586117" title="Int">lin</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#584995" title="=&gt; scala.collection.mutable.ArrayBuffer[Int]">lineStart</a>.<a href="../../../../collection/mutable/ResizableArray.scala.html#66152" title="=&gt; Int">length</a> <a href="../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#585003" title="(offset: Int)Int">column</a><span class="delimiter">(</span><a href="../../../../collection/mutable/ResizableArray.scala.html#66153" title="(idx: Int)Int">lineStart</a><span class="delimiter">(</span><a href="#586117" title="Int">lin</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#586107" title="Int">lindent</a><span class="delimiter">)</span>
                <a href="#586117" title="Int">lin</a> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
              <span title="List[scala.tools.nsc.ast.parser.BracePatch]" class="keyword">if</span> <span class="delimiter">(</span><a href="#586117" title="Int">lin</a> <a href="../../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#584995" title="=&gt; scala.collection.mutable.ArrayBuffer[Int]">lineStart</a>.<a href="../../../../collection/mutable/ResizableArray.scala.html#66152" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="List[scala.tools.nsc.ast.parser.BracePatch]" id="586146">patches1</a> = <a href="#585004" title="(patches: List[scala.tools.nsc.ast.parser.BracePatch], patch: scala.tools.nsc.ast.parser.BracePatch)List[scala.tools.nsc.ast.parser.BracePatch]">insertPatch</a><span class="delimiter">(</span><a href="#585013" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a>, <a href="BracePatch.scala.html#565912" title="(off: Int, inserted: Boolean)scala.tools.nsc.ast.parser.BracePatch">BracePatch</a><span class="delimiter">(</span><a href="../../../../collection/mutable/ResizableArray.scala.html#66153" title="(idx: Int)Int">lineStart</a><span class="delimiter">(</span><a href="#586117" title="Int">lin</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="comment">//println(&quot;patch for &quot;+bp+&quot;/&quot;+imbalanceMeasure+&quot;/&quot;+new ParensAnalyzer(unit, patches1).imbalanceMeasure)</span>
                <span class="comment">/*if (improves(patches1))*/</span>
                <a href="#586146" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches1</a>
                <span class="comment">/*else insert(bps1)*/</span>
                <span class="comment">// (this test did not seem to work very well in practice)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#585013" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#586085" title="(bps: List[scala.tools.nsc.ast.parser.BracePair])List[scala.tools.nsc.ast.parser.BracePatch]">insert</a><span class="delimiter">(</span><a href="#584997" title="=&gt; List[scala.tools.nsc.ast.parser.BracePair]">bracePairs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="()List[scala.tools.nsc.ast.parser.BracePatch]" id="585008">deleteRBrace</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(bps: List[scala.tools.nsc.ast.parser.BracePair])List[scala.tools.nsc.ast.parser.BracePatch]" id="586156">delete</a><span class="delimiter">(</span><a title="List[scala.tools.nsc.ast.parser.BracePair]" id="586157">bps</a>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePair]">List</a><span class="delimiter">[</span>BracePair<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span> = <a href="#586157" title="List[scala.tools.nsc.ast.parser.BracePair]">bps</a> <span title="List[scala.tools.nsc.ast.parser.BracePatch]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../../collection/generic/GenSeqFactory.scala.html#48862" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#585013" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a>
        <span class="keyword">case</span> <span title="List[scala.tools.nsc.ast.parser.BracePatch]">BracePair</span><span class="delimiter">(</span><a title="Int" id="586174">loff</a>, <a title="Int" id="586175">lindent</a>, <a title="Int" id="586176">roff</a>, <a title="Int" id="586177">rindent</a>, <a title="List[scala.tools.nsc.ast.parser.BracePair]" id="586178">nested</a><span class="delimiter">)</span> :: <a title="List[scala.tools.nsc.ast.parser.BracePair]" id="586179">bps1</a> =&gt;
          <span title="List[scala.tools.nsc.ast.parser.BracePatch]" class="keyword">if</span> <span class="delimiter">(</span><a href="#586175" title="Int">lindent</a> <a href="../../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="#586177" title="Int">rindent</a><span class="delimiter">)</span> <a href="#586156" title="(bps: List[scala.tools.nsc.ast.parser.BracePair])List[scala.tools.nsc.ast.parser.BracePatch]">delete</a><span class="delimiter">(</span><a href="#586179" title="List[scala.tools.nsc.ast.parser.BracePair]">bps1</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[scala.tools.nsc.ast.parser.BracePatch]" id="586184">patches1</a> = <a href="#586156" title="(bps: List[scala.tools.nsc.ast.parser.BracePair])List[scala.tools.nsc.ast.parser.BracePatch]">delete</a><span class="delimiter">(</span><a href="#586178" title="List[scala.tools.nsc.ast.parser.BracePair]">nested</a><span class="delimiter">)</span>
            <span title="List[scala.tools.nsc.ast.parser.BracePatch]" class="keyword">if</span> <span class="delimiter">(</span><a href="#586184" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#585013" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a><span class="delimiter">)</span> <a href="#586184" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches1</a>
            <span class="keyword">else</span> <a href="#585004" title="(patches: List[scala.tools.nsc.ast.parser.BracePatch], patch: scala.tools.nsc.ast.parser.BracePatch)List[scala.tools.nsc.ast.parser.BracePatch]">insertPatch</a><span class="delimiter">(</span><a href="#585013" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches</a>, <a href="BracePatch.scala.html#565912" title="(off: Int, inserted: Boolean)scala.tools.nsc.ast.parser.BracePatch">BracePatch</a><span class="delimiter">(</span><a href="#586176" title="Int">roff</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#586156" title="(bps: List[scala.tools.nsc.ast.parser.BracePair])List[scala.tools.nsc.ast.parser.BracePatch]">delete</a><span class="delimiter">(</span><a href="#584997" title="=&gt; List[scala.tools.nsc.ast.parser.BracePair]">bracePairs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Int" id="585009">imbalanceMeasure</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(bps: List[scala.tools.nsc.ast.parser.BracePair])Int" id="586187">measureList</a><span class="delimiter">(</span><a title="List[scala.tools.nsc.ast.parser.BracePair]" id="586189">bps</a>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePair]">List</a><span class="delimiter">[</span>BracePair<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../Int.scala.html#386" title="Int">Int</a> =
        <span class="delimiter">(</span><a href="#586189" title="List[scala.tools.nsc.ast.parser.BracePair]">bps</a> <a href="../../../../collection/TraversableLike.scala.html#49041" title="(f: scala.tools.nsc.ast.parser.BracePair =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.tools.nsc.ast.parser.BracePair],Int,List[Int]])List[Int]">map</a> <a href="#586188" title="(bp: scala.tools.nsc.ast.parser.BracePair)Int">measure</a><span class="delimiter">)</span>.<a href="../../../../collection/TraversableOnce.scala.html#53660" title="(implicit num: Numeric[Int])Int">sum</a>
      <span class="keyword">def</span> <a title="(bp: scala.tools.nsc.ast.parser.BracePair)Int" id="586188">measure</a><span class="delimiter">(</span><a title="scala.tools.nsc.ast.parser.BracePair" id="586205">bp</a>: <a href="BracePair.scala.html#24830" title="scala.tools.nsc.ast.parser.BracePair">BracePair</a><span class="delimiter">)</span>: <a href="../../../../Int.scala.html#386" title="Int">Int</a> =
        <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#586205" title="scala.tools.nsc.ast.parser.BracePair">bp</a>.<a href="BracePair.scala.html#565705" title="=&gt; Int">lindent</a> <a href="../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="#586205" title="scala.tools.nsc.ast.parser.BracePair">bp</a>.<a href="BracePair.scala.html#565709" title="=&gt; Int">rindent</a><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#586187" title="(bps: List[scala.tools.nsc.ast.parser.BracePair])Int">measureList</a><span class="delimiter">(</span><a href="#586205" title="scala.tools.nsc.ast.parser.BracePair">bp</a>.<a href="BracePair.scala.html#565711" title="=&gt; List[scala.tools.nsc.ast.parser.BracePair]">nested</a><span class="delimiter">)</span>
      <a href="#586187" title="(bps: List[scala.tools.nsc.ast.parser.BracePair])Int">measureList</a><span class="delimiter">(</span><a href="#584997" title="=&gt; List[scala.tools.nsc.ast.parser.BracePair]">bracePairs</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(patches1: List[scala.tools.nsc.ast.parser.BracePatch])Boolean" id="585010">improves</a><span class="delimiter">(</span><a title="List[scala.tools.nsc.ast.parser.BracePatch]" id="586255">patches1</a>: <a href="../../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.ast.parser.BracePatch]">List</a><span class="delimiter">[</span>BracePatch<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
      <a href="#585009" title="=&gt; Int">imbalanceMeasure</a> <a href="../../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Scanners.this.ParensAnalyzer" class="keyword">new</span> <a href="#500537" title="Scanners.this.ParensAnalyzer">ParensAnalyzer</a><span class="delimiter">(</span><a href="#585012" title="Scanners.this.global.CompilationUnit">unit</a>, <a href="#586255" title="List[scala.tools.nsc.ast.parser.BracePatch]">patches1</a><span class="delimiter">)</span>.<a href="#585009" title="=&gt; Int">imbalanceMeasure</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(offset: Int, msg: String)Unit" id="585011">error</a><span class="delimiter">(</span><a title="Int" id="586261">offset</a>: <a href="../../../../Int.scala.html#386" title="Int">Int</a>, <a title="String" id="586262">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>