<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/backend/jvm/BytecodeWriters.scala</title>
        <script type="text/javascript" src="../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Paul Phillips
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend.jvm

<span class="keyword">import</span> ch.epfl.lamp.fjbg._
<span class="keyword">import</span> java.io.<span class="delimiter">{</span> DataOutputStream, OutputStream <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.io.<span class="delimiter">{</span> AbstractFile, Path <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.util.ScalaClassLoader
<span class="keyword">import</span> scala.tools.util.Javap
<span class="keyword">import</span> java.util.jar.<span class="delimiter">{</span> JarEntry, JarOutputStream <span class="delimiter">}</span>

<span class="comment">/** For the last mile: turning generated bytecode in memory into
 *  something you can use.  Has implementations for writing to class
 *  files, jars, and disassembled/javap output.
 */</span>
<span class="keyword">trait</span> <a title="trait BytecodeWriters extends java.lang.Object with ScalaObject" id="26971">BytecodeWriters</a> <a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="514017">global</a>: <a href="../../Global.scala.html#22521" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> <a href="#514017" title="=&gt; scala.tools.nsc.Global">global</a>._

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: BytecodeWriters.this.global.Symbol)scala.tools.nsc.io.AbstractFile" id="514019">outputDirectory</a><span class="delimiter">(</span><a title="BytecodeWriters.this.global.Symbol" id="625344">sym</a>: <a href="../../symtab/Symbols.scala.html#478659" title="BytecodeWriters.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> = <span class="delimiter">(</span>
    <a href="../../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/MutableSettings.scala.html#469548" title="=&gt; scala.tools.nsc.Settings#OutputDirs">outputDirs</a>.<a href="../../settings/MutableSettings.scala.html#470110" title="(src: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.io.AbstractFile">outputDirFor</a> <span class="delimiter">{</span>
      <a href="../../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; scala.tools.nsc.io.AbstractFile)scala.tools.nsc.io.AbstractFile">atPhase</a><span class="delimiter">(</span><a href="../../Global.scala.html#478362" title="=&gt; BytecodeWriters.this.global.Run">currentRun</a>.<a href="../../Global.scala.html#482538" title="=&gt; scala.tools.nsc.Phase">flattenPhase</a>.<a href="../../Phase.scala.html#505129" title="=&gt; scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#625344" title="BytecodeWriters.this.global.Symbol">sym</a>.<a href="../../symtab/Symbols.scala.html#509351" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: scala.tools.nsc.io.AbstractFile, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile" id="514020">getFile</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="625352">base</a>: <a href="../../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <a title="ch.epfl.lamp.fjbg.JClass" id="625353">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="String" id="625354">suffix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scala.tools.nsc.io.AbstractFile" id="625428">dir</a> = <a href="#625352" title="scala.tools.nsc.io.AbstractFile">base</a>
    <span class="keyword">val</span> <a title="List[java.lang.String]" id="625429">pathParts</a> = <a href="#625353" title="ch.epfl.lamp.fjbg.JClass">cls</a>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><a href="../../../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</a><span title="java.lang.String(&quot;[./]&quot;)" class="string">&quot;[./]&quot;</span><span class="delimiter">)</span>.<a href="../../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[java.lang.String]">toList</a>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="java.lang.String" id="625582">part</a> &lt;- <a href="#625429" title="List[java.lang.String]">pathParts</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: java.lang.String =&gt; Unit)Unit">init</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#625428" title="scala.tools.nsc.io.AbstractFile">dir</a> = <a href="#625428" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../../io/AbstractFile.scala.html#501030" title="(name: String)scala.tools.nsc.io.AbstractFile">subdirectoryNamed</a><span class="delimiter">(</span><a href="#625582" title="java.lang.String">part</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#625428" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../../io/AbstractFile.scala.html#501029" title="(name: String)scala.tools.nsc.io.AbstractFile">fileNamed</a><span class="delimiter">(</span><a href="#625429" title="List[java.lang.String]">pathParts</a>.<a href="../../../../collection/LinearSeqOptimized.scala.html#71051" title="=&gt; java.lang.String">last</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#625354" title="String">suffix</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: BytecodeWriters.this.global.Symbol, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile" id="514021">getFile</a><span class="delimiter">(</span><a title="BytecodeWriters.this.global.Symbol" id="625588">sym</a>: <a href="../../symtab/Symbols.scala.html#478659" title="BytecodeWriters.this.global.Symbol">Symbol</a>, <a title="ch.epfl.lamp.fjbg.JClass" id="625589">cls</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="String" id="625590">suffix</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a> =
    <a href="#514020" title="(base: scala.tools.nsc.io.AbstractFile, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile">getFile</a><span class="delimiter">(</span><a href="#514019" title="(sym: BytecodeWriters.this.global.Symbol)scala.tools.nsc.io.AbstractFile">outputDirectory</a><span class="delimiter">(</span><a href="#625588" title="BytecodeWriters.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#625589" title="ch.epfl.lamp.fjbg.JClass">cls</a>, <a href="#625590" title="String">suffix</a><span class="delimiter">)</span>

  <span class="keyword">trait</span> <a title="trait BytecodeWriter extends java.lang.Object with ScalaObject" id="514022">BytecodeWriter</a> <a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="(label: String, jclass: ch.epfl.lamp.fjbg.JClass, sym: BytecodeWriters.this.global.Symbol)Unit" id="625599">writeClass</a><span class="delimiter">(</span><a title="String" id="625603">label</a>: <span title="String">String</span>, <a title="ch.epfl.lamp.fjbg.JClass" id="625604">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="BytecodeWriters.this.global.Symbol" id="625605">sym</a>: <a href="../../symtab/Symbols.scala.html#478659" title="BytecodeWriters.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a>
    <span class="keyword">def</span> <a title="()Unit" id="625600">close</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../../Unit.scala.html#461" title="Unit">Unit</a> = <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class DirectToJarfileWriter extends java.lang.Object with BytecodeWriters.this.BytecodeWriter with ScalaObject" id="514023">DirectToJarfileWriter</a><a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="625622">jarFile</a>: <a href="../../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#514022" title="BytecodeWriters.this.BytecodeWriter">BytecodeWriter</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="java.util.jar.JarOutputStream" id="625612">out</a> = <span title="(x$1: java.io.OutputStream)java.util.jar.JarOutputStream" class="keyword">new</span> <span title="java.util.jar.JarOutputStream">JarOutputStream</span><span class="delimiter">(</span><a href="#625622" title="=&gt; scala.tools.nsc.io.AbstractFile">jarFile</a>.<a href="../../io/AbstractFile.scala.html#501017" title="=&gt; java.io.BufferedOutputStream">bufferedOutput</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(label: String, jclass: ch.epfl.lamp.fjbg.JClass, sym: BytecodeWriters.this.global.Symbol)Unit" id="625614">writeClass</a><span class="delimiter">(</span><a title="String" id="625623">label</a>: <span title="String">String</span>, <a title="ch.epfl.lamp.fjbg.JClass" id="625624">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="BytecodeWriters.this.global.Symbol" id="625625">sym</a>: <a href="../../symtab/Symbols.scala.html#478659" title="BytecodeWriters.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="625627">path</a> = <a href="#625624" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()java.lang.String">getName</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span>
      <a href="#625612" title="=&gt; java.util.jar.JarOutputStream">out</a> <span title="(x$1: java.util.zip.ZipEntry)Unit">putNextEntry</span> <span title="java.util.jar.JarEntry" class="keyword">new</span> <span title="java.util.jar.JarEntry">JarEntry</span><span class="delimiter">(</span><a href="#625627" title="java.lang.String">path</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.io.DataOutputStream" id="625628">dataStream</a> = <span title="java.io.DataOutputStream" class="keyword">new</span> <span title="java.io.DataOutputStream">DataOutputStream</span><span class="delimiter">(</span><a href="#625612" title="=&gt; java.util.jar.JarOutputStream">out</a><span class="delimiter">)</span>
      <span class="keyword">try</span> <a href="#625624" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: java.io.DataOutputStream)Unit">writeTo</span> <a href="#625628" title="java.io.DataOutputStream">dataStream</a>
      <span class="keyword">finally</span> <a href="#625628" title="java.io.DataOutputStream">dataStream</a>.<span title="()Unit">flush</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../../Global.scala.html#478248" title="(msg: String)Unit">informProgress</a><span class="delimiter">(</span><span title="java.lang.String(&quot;added &quot;)" class="string">&quot;added &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#625623" title="String">label</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#625627" title="java.lang.String">path</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to jar&quot;)" class="string">&quot; to jar&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="625615">close</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#625612" title="=&gt; java.util.jar.JarOutputStream">out</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait JavapBytecodeWriter extends java.lang.Object with BytecodeWriters.this.BytecodeWriter with ScalaObject" id="514024">JavapBytecodeWriter</a> <a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#514022" title="BytecodeWriters.this.BytecodeWriter">BytecodeWriter</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.io.Path" id="625640">baseDir</a> = <a href="../../io/Path.scala.html#479374" title="(path: String)scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="../../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../settings/ScalaSettings.scala.html#469759" title="=&gt; scala.tools.nsc.Settings#StringSetting">Ygenjavap</a>.<a href="../../settings/MutableSettings.scala.html#470030" title="=&gt; java.lang.String">value</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(bytes: Array[Byte], javapFile: scala.tools.nsc.io.File)Unit" id="625642">emitJavap</a><span class="delimiter">(</span><a title="Array[Byte]" id="625659">bytes</a>: <a href="../../../../Array.scala.html#1430" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span>, <a title="scala.tools.nsc.io.File" id="625660">javapFile</a>: io.<a href="../../io/File.scala.html#33012" title="scala.tools.nsc.io.File">File</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.PrintWriter" id="625662">pw</a>    = <a href="#625660" title="scala.tools.nsc.io.File">javapFile</a>.<a href="../../io/File.scala.html#481541" title="()java.io.PrintWriter">printWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.util.Javap" id="625663">javap</a> = <a href="#625669" title="scala.tools.util.Javap" class="keyword">new</a> <a href="../../../util/Javap.scala.html#43737" title="anonymous class $anon extends scala.tools.util.Javap" id="625669">Javap</a><span class="delimiter">(</span><a href="../../util/ScalaClassLoader.scala.html#43109" title="object scala.tools.nsc.util.ScalaClassLoader">ScalaClassLoader</a>.<a href="../../util/ScalaClassLoader.scala.html#484510" title="()scala.tools.nsc.util.ScalaClassLoader">getSystemLoader</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#625662" title="java.io.PrintWriter">pw</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(path: String)Array[Byte]" id="625700">findBytes</a><span class="delimiter">(</span><a title="String" id="625701">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../../Array.scala.html#1430" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span> = <a href="#625659" title="Array[Byte]">bytes</a>
      <span class="delimiter">}</span>

      <span class="keyword">try</span> <a href="../../../util/Javap.scala.html#625680" title="(args: Seq[String])List[scala.tools.util.Javap.JpResult]">javap</a><span class="delimiter">(</span><a href="../../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: java.lang.String*)Seq[java.lang.String]">Seq</a><span class="delimiter">(</span><span title="java.lang.String(&quot;-verbose&quot;)" class="string">&quot;-verbose&quot;</span>, <span title="java.lang.String(&quot;dummy&quot;)" class="string">&quot;dummy&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: scala.tools.util.Javap.JpResult =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#625754" title="scala.tools.util.Javap.JpResult">_</a>.<a href="../../../util/Javap.scala.html#625758" title="()Unit">show</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">finally</span> <a href="#625662" title="java.io.PrintWriter">pw</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">abstract</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(label: String, jclass: ch.epfl.lamp.fjbg.JClass, sym: BytecodeWriters.this.global.Symbol)Unit" id="625643">writeClass</a><span class="delimiter">(</span><a title="String" id="625760">label</a>: <span title="String">String</span>, <a title="ch.epfl.lamp.fjbg.JClass" id="625761">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="BytecodeWriters.this.global.Symbol" id="625762">sym</a>: <a href="../../symtab/Symbols.scala.html#478659" title="BytecodeWriters.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#514024" title="BytecodeWriters.this.JavapBytecodeWriter" class="keyword">super</a>.<a href="#625599" title="(label: String, jclass: ch.epfl.lamp.fjbg.JClass, sym: BytecodeWriters.this.global.Symbol)Unit">writeClass</a><span class="delimiter">(</span><a href="#625760" title="String">label</a>, <a href="#625761" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <a href="#625762" title="BytecodeWriters.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Array[Byte]" id="625764">bytes</a>     = <a href="#514021" title="(sym: BytecodeWriters.this.global.Symbol, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile">getFile</a><span class="delimiter">(</span><a href="#625762" title="BytecodeWriters.this.global.Symbol">sym</a>, <a href="#625761" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <span title="java.lang.String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span><span class="delimiter">)</span>.<a href="../../io/AbstractFile.scala.html#501021" title="=&gt; Array[Byte]">toByteArray</a>
      <span class="keyword">val</span> <a title="Array[java.lang.String]" id="625765">segments</a>  = <a href="#625761" title="ch.epfl.lamp.fjbg.JClass">jclass</a>.<span title="()java.lang.String">getName</span><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span class="delimiter">(</span><span title="java.lang.String(&quot;[./]&quot;)" class="string">&quot;[./]&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.io.File" id="625766">javapFile</a> = <a href="../../../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">segments</a>.<a href="../../../../collection/IndexedSeqOptimized.scala.html#55938" title="(z: scala.tools.nsc.io.Path)(op: (scala.tools.nsc.io.Path, java.lang.String) =&gt; scala.tools.nsc.io.Path)scala.tools.nsc.io.Path">foldLeft</a><span class="delimiter">(</span><a href="#625640" title="=&gt; scala.tools.nsc.io.Path">baseDir</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#626187" title="scala.tools.nsc.io.Path">_</a> <a href="../../io/Path.scala.html#479408" title="(child: scala.tools.nsc.io.Path)scala.tools.nsc.io.Path">/</a> <a href="../../io/Path.scala.html#479366" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">_</a><span class="delimiter">)</span> <a href="../../io/Path.scala.html#479427" title="(ext: String)scala.tools.nsc.io.Path">changeExtension</a> <span title="java.lang.String(&quot;javap&quot;)" class="string">&quot;javap&quot;</span> <a href="../../io/Path.scala.html#479401" title="=&gt; scala.tools.nsc.io.File">toFile</a>

      <a href="#625766" title="scala.tools.nsc.io.File">javapFile</a>.<a href="../../io/Path.scala.html#479421" title="scala.tools.nsc.io.Directory" id="626197">parent</a>.<a href="../../io/Path.scala.html#502789" title="Boolean" id="626199">createDirectory</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="#625642" title="(bytes: Array[Byte], javapFile: scala.tools.nsc.io.File)Unit">emitJavap</a><span class="delimiter">(</span><a href="#625764" title="Array[Byte]">bytes</a>, <a href="#625766" title="scala.tools.nsc.io.File">javapFile</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait ClassBytecodeWriter extends java.lang.Object with BytecodeWriters.this.BytecodeWriter with ScalaObject" id="514025">ClassBytecodeWriter</a> <a href="../../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#514022" title="BytecodeWriters.this.BytecodeWriter">BytecodeWriter</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(label: String, jclass: ch.epfl.lamp.fjbg.JClass, sym: BytecodeWriters.this.global.Symbol)Unit" id="626201">writeClass</a><span class="delimiter">(</span><a title="String" id="626204">label</a>: <span title="String">String</span>, <a title="ch.epfl.lamp.fjbg.JClass" id="626205">jclass</a>: <span title="ch.epfl.lamp.fjbg.JClass">JClass</span>, <a title="BytecodeWriters.this.global.Symbol" id="626206">sym</a>: <a href="../../symtab/Symbols.scala.html#478659" title="BytecodeWriters.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="626208">outfile</a>   = <a href="#514021" title="(sym: BytecodeWriters.this.global.Symbol, cls: ch.epfl.lamp.fjbg.JClass, suffix: String)scala.tools.nsc.io.AbstractFile">getFile</a><span class="delimiter">(</span><a href="#626206" title="BytecodeWriters.this.global.Symbol">sym</a>, <a href="#626205" title="ch.epfl.lamp.fjbg.JClass">jclass</a>, <span title="java.lang.String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.io.DataOutputStream" id="626209">outstream</a> = <span title="java.io.DataOutputStream" class="keyword">new</span> <span title="java.io.DataOutputStream">DataOutputStream</span><span class="delimiter">(</span><a href="#626208" title="scala.tools.nsc.io.AbstractFile">outfile</a>.<a href="../../io/AbstractFile.scala.html#501017" title="=&gt; java.io.BufferedOutputStream">bufferedOutput</a><span class="delimiter">)</span>

      <span class="keyword">try</span> <a href="#626205" title="ch.epfl.lamp.fjbg.JClass">jclass</a> <span title="(x$1: java.io.DataOutputStream)Unit">writeTo</span> <a href="#626209" title="java.io.DataOutputStream">outstream</a>
      <span class="keyword">finally</span> <a href="#626209" title="java.io.DataOutputStream">outstream</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <a href="../../Global.scala.html#478248" title="(msg: String)Unit">informProgress</a><span class="delimiter">(</span><span title="java.lang.String(&quot;wrote \'&quot;)" class="string">&quot;wrote '&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#626204" title="String">label</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\' to &quot;)" class="string">&quot;' to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#626208" title="scala.tools.nsc.io.AbstractFile">outfile</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>