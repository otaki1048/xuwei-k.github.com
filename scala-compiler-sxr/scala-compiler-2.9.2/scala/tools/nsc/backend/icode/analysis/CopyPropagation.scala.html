<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/backend/icode/analysis/CopyPropagation.scala</title>
        <script type="text/javascript" src="../../../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>


<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> backend.icode.analysis

<span class="keyword">import</span> scala.collection.mutable.<span class="delimiter">{</span> Map, HashMap <span class="delimiter">}</span>

<span class="comment">/** A modified copy-propagation like analysis. It
 *  is augmented with a record-like value which is used
 *  to represent closures.
 *
 *  @author Iulian Dragos
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CopyPropagation extends java.lang.Object with ScalaObject" id="26800">CopyPropagation</a> <a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.Global" id="508991">global</a>: <a href="../../../Global.scala.html#22521" title="scala.tools.nsc.Global">Global</a>
  <span class="keyword">import</span> <a href="#508991" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../../../Global.scala.html#478218" title="object CopyPropagation.this.global.icodes">icodes</a>._

  <span class="comment">/** Locations can be local variables, this, and fields. */</span>
  <span class="keyword">abstract</span> <span class="keyword">sealed</span> <span class="keyword">class</span> <a title="class Location extends java.lang.Object with ScalaObject" id="508994">Location</a>
  case <span class="keyword">class</span> <a title="class LocalVar extends CopyPropagation.this.Location with ScalaObject with Product with Serializable" id="618545">LocalVar</a><a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="CopyPropagation.this.global.icodes.Local" id="619009">l</a>: <a href="../Members.scala.html#501264" title="CopyPropagation.this.global.icodes.Local">Local</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#508994" title="CopyPropagation.this.Location">Location</a>
  case <span class="keyword">class</span> <a title="class Field extends CopyPropagation.this.Location with ScalaObject with Product with Serializable" id="618618">Field</a><a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="CopyPropagation.this.Record" id="619749">r</a>: <a href="#618702" title="CopyPropagation.this.Record">Record</a>, <a title="CopyPropagation.this.global.Symbol" id="619750">sym</a>: <a href="../../../symtab/Symbols.scala.html#478659" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#508994" title="CopyPropagation.this.Location">Location</a>
  case <span class="keyword">object</span> <a href="#618668" title="object CopyPropagation.this.This" id="618671">This</a> <a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#508994" title="CopyPropagation.this.Location">Location</a>

  <span class="comment">/** Values that can be on the stack. */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Value extends java.lang.Object with ScalaObject" id="509003">Value</a> <a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="618589">isRecord</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  case <span class="keyword">class</span> <a title="class Record extends CopyPropagation.this.Value with ScalaObject with Product with Serializable" id="618702">Record</a><a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="CopyPropagation.this.global.Symbol" id="620080">cls</a>: <a href="../../../symtab/Symbols.scala.html#478659" title="CopyPropagation.this.global.Symbol">Symbol</a>, <a title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="620081">bindings</a>: <a href="../../../../../collection/mutable/Map.scala.html#14767" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">Map</a><span class="delimiter">[</span>Symbol, Value<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#509003" title="CopyPropagation.this.Value">Value</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="618597">isRecord</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>
  <span class="comment">/** The value of some location in memory. */</span>
  case <span class="keyword">class</span> <a title="class Deref extends CopyPropagation.this.Value with ScalaObject with Product with Serializable" id="618768">Deref</a><a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="CopyPropagation.this.Location" id="619049">l</a>: <a href="#508994" title="CopyPropagation.this.Location">Location</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#509003" title="CopyPropagation.this.Value">Value</a>

  <span class="comment">/** The boxed value of some location. */</span>
  case <span class="keyword">class</span> <a title="class Boxed extends CopyPropagation.this.Value with ScalaObject with Product with Serializable" id="618820">Boxed</a><a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="CopyPropagation.this.Location" id="620029">l</a>: <a href="#508994" title="CopyPropagation.this.Location">Location</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#509003" title="CopyPropagation.this.Value">Value</a>

  <span class="comment">/** The constant value c. */</span>
  case <span class="keyword">class</span> <a title="class Const extends CopyPropagation.this.Value with ScalaObject with Product with Serializable" id="618872">Const</a><a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="CopyPropagation.this.global.Constant" id="619704">c</a>: <a href="../../../../../reflect/generic/Constants.scala.html#433981" title="CopyPropagation.this.global.Constant">Constant</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#509003" title="CopyPropagation.this.Value">Value</a>

  <span class="comment">/** Unknown. */</span>
  case <span class="keyword">object</span> <a href="#618911" title="object CopyPropagation.this.Unknown" id="618914">Unknown</a> <a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#509003" title="CopyPropagation.this.Value">Value</a>

  <span class="comment">/** The bottom record. */</span>
  <span class="keyword">object</span> <a title="object CopyPropagation.this.AllRecords" id="509018">AllRecords</a> <a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#618702" title="CopyPropagation.this.Record">Record</a><span class="delimiter">(</span><a href="../../../symtab/Symbols.scala.html#478667" title="object CopyPropagation.this.global.NoSymbol">NoSymbol</a>, <a href="../../../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" class="keyword">new</a> <a href="../../../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">HashMap</a><span class="delimiter">[</span>Symbol, Value<span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/** The lattice for this analysis.   */</span>
  <span class="keyword">object</span> <a title="object CopyPropagation.this.copyLattice" id="509020">copyLattice</a> <a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="SemiLattice.scala.html#26671" title="scala.tools.nsc.backend.icode.analysis.SemiLattice">SemiLattice</a> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]" id="618931">Bindings</a> = <a href="../../../../../collection/mutable/Map.scala.html#14767" title="scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]">Map</a><span class="delimiter">[</span>Location, Value<span class="delimiter">]</span>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]" id="618932">emptyBinding</a> = <a href="../../../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]" class="keyword">new</a> <a href="../../../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">HashMap</a><span class="delimiter">[</span>Location, Value<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">class</span> <a title="class State extends java.lang.Object with ScalaObject" id="618933">State</a><a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings" id="618960">bindings</a>: <a href="../../../../../collection/mutable/Map.scala.html#14767" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">Bindings</a>, <span class="keyword">var</span> <a title="List[CopyPropagation.this.Value]" id="618961">stack</a>: <a href="../../../../../collection/immutable/List.scala.html#14047" title="List[CopyPropagation.this.Value]">List</a><span class="delimiter">[</span>Value<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="618951">hashCode</a> = <a href="#618960" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a>.<a href="../../../../../collection/GenMapLike.scala.html#58667" title="()Int">hashCode</a> <a href="../../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/GenSeqLike.scala.html#54032" title="()Int">hashCode</a>
      <span class="comment">/* comparison with bottom is reference equality! */</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(that: Any)Boolean" id="618952">equals</a><span class="delimiter">(</span><a title="Any" id="618986">that</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="../../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#618986" title="Any">that</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="618988">x</a>: <a href="#618933" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a> =&gt;
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#618933" title="State.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#618937" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">bottom</a><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#618933" title="State.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#618935" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">top</a><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#618988" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">x</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#618937" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">bottom</a><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#618988" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">x</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#618935" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">top</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#618933" title="State.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#618988" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">x</a>
          <span class="keyword">else</span> <a href="#618960" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#618988" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">x</a>.<a href="#618960" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a> <a href="../../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#618988" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">x</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>

      <span class="comment">/* Return an alias for the given local. It returns the last
       * local in the chain of aliased locals. Cycles are not allowed
       * to exist (by construction).
       */</span>
      <span class="keyword">def</span> <a title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.global.icodes.Local" id="618953">getAlias</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619002">l</a>: <a href="../Members.scala.html#501264" title="CopyPropagation.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <a href="../Members.scala.html#501264" title="CopyPropagation.this.global.icodes.Local">Local</a> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="CopyPropagation.this.global.icodes.Local" id="619004">target</a> = <a href="#619002" title="CopyPropagation.this.global.icodes.Local">l</a>
        <span class="keyword">var</span> <a title="Boolean" id="619005">stop</a> = <span title="Boolean(false)" class="keyword">false</span>

        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#618960" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a>.<a href="../../../../../collection/MapLike.scala.html#73206" title="(key: CopyPropagation.this.Location)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#618545" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#619004" title="CopyPropagation.this.global.icodes.Local">target</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#619005" title="Boolean">stop</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../../../collection/MapLike.scala.html#73204" title="(key: CopyPropagation.this.Location)CopyPropagation.this.Value">bindings</a><span class="delimiter">(</span><a href="#618545" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#619004" title="CopyPropagation.this.global.icodes.Local">target</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#619006" title="Unit" class="keyword">match</a> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">Deref</span><span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619035">t</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#619004" title="CopyPropagation.this.global.icodes.Local">target</a> = <a href="#619035" title="CopyPropagation.this.global.icodes.Local">t</a>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#619005" title="Boolean">stop</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#619004" title="CopyPropagation.this.global.icodes.Local">target</a>
      <span class="delimiter">}</span>

      <span class="comment">/* Return the value bound to the given local. */</span>
      <span class="keyword">def</span> <a title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.Value" id="618954">getBinding</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619036">l</a>: <a href="../Members.scala.html#501264" title="CopyPropagation.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <a href="#509003" title="CopyPropagation.this.Value">Value</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(lv: CopyPropagation.this.global.icodes.Local)Option[CopyPropagation.this.Value]" id="619038">loop</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619039">lv</a>: <a href="../Members.scala.html#501264" title="CopyPropagation.this.global.icodes.Local">Local</a><span class="delimiter">)</span>: <a href="../../../../../Option.scala.html#560" title="Option[CopyPropagation.this.Value]">Option</a><span class="delimiter">[</span>Value<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#618960" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a> <a href="../../../../../collection/MapLike.scala.html#73194" title="(key: CopyPropagation.this.Location)Option[CopyPropagation.this.Value]">get</a> <a href="#618545" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#619039" title="CopyPropagation.this.global.icodes.Local">lv</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Option[CopyPropagation.this.Value]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Option[CopyPropagation.this.Value]">Some</span><span class="delimiter">(</span>Deref<span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619043">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#619038" title="(lv: CopyPropagation.this.global.icodes.Local)Option[CopyPropagation.this.Value]">loop</a><span class="delimiter">(</span><a href="#619043" title="CopyPropagation.this.global.icodes.Local">t</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Option[CopyPropagation.this.Value]" id="619044">x</a>                        =&gt; <a href="#619044" title="Option[CopyPropagation.this.Value]">x</a>
        <span class="delimiter">}</span>
        <a href="#619038" title="(lv: CopyPropagation.this.global.icodes.Local)Option[CopyPropagation.this.Value]">loop</a><span class="delimiter">(</span><a href="#619036" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span> <a href="../../../../../Option.scala.html#48474" title="(default: =&gt; CopyPropagation.this.Value)CopyPropagation.this.Value">getOrElse</a> <a href="#618768" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#618545" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#619036" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/* Return the binding for the given field of the given record */</span>
      <span class="keyword">def</span> <a title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)CopyPropagation.this.Value" id="618955">getBinding</a><span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="619055">r</a>: <a href="#618702" title="CopyPropagation.this.Record">Record</a>, <a title="CopyPropagation.this.global.Symbol" id="619056">f</a>: <a href="../../../symtab/Symbols.scala.html#478659" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#509003" title="CopyPropagation.this.Value">Value</a> = <span class="delimiter">{</span>
        <a href="../../../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#619055" title="CopyPropagation.this.Record">r</a>.<a href="#620081" title="=&gt; scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="../../../../../collection/MapLike.scala.html#73205" title="(key: CopyPropagation.this.global.Symbol)Boolean">contains</a> <a href="#619056" title="CopyPropagation.this.global.Symbol">f</a>, <span title="java.lang.String(&quot;Record &quot;)" class="string">&quot;Record &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#619055" title="CopyPropagation.this.Record">r</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not contain a field &quot;)" class="string">&quot; does not contain a field &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#619056" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span>

        <a href="#619055" title="CopyPropagation.this.Record">r</a>.<a href="../../../../../collection/MapLike.scala.html#73204" title="(key: CopyPropagation.this.global.Symbol)CopyPropagation.this.Value">bindings</a><span class="delimiter">(</span><a href="#619056" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span> <span title="CopyPropagation.this.Value" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="CopyPropagation.this.Value">Deref</span><span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619081">l</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#618954" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.Value">getBinding</a><span class="delimiter">(</span><a href="#619081" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="CopyPropagation.this.Value" id="619086">target</a>             =&gt; <a href="#619086" title="CopyPropagation.this.Value">target</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Return a local which contains the same value as this field, if any.
       * If the field holds a reference to a local, the returned value is the
       * binding of that local.
       */</span>
      <span class="keyword">def</span> <a title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]" id="618956">getFieldValue</a><span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="619087">r</a>: <a href="#618702" title="CopyPropagation.this.Record">Record</a>, <a title="CopyPropagation.this.global.Symbol" id="619088">f</a>: <a href="../../../symtab/Symbols.scala.html#478659" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../../Option.scala.html#560" title="Option[CopyPropagation.this.Value]">Option</a><span class="delimiter">[</span>Value<span class="delimiter">]</span> = <a href="#619087" title="CopyPropagation.this.Record">r</a>.<a href="#620081" title="=&gt; scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="../../../../../collection/MapLike.scala.html#73194" title="(key: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">get</a> <a href="#619088" title="CopyPropagation.this.global.Symbol">f</a> <a href="../../../../../Option.scala.html#48480" title="(f: CopyPropagation.this.Value =&gt; CopyPropagation.this.Value)Option[CopyPropagation.this.Value]">map</a> <a href="#619096" title="CopyPropagation.this.Value" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="CopyPropagation.this.Value">Deref</span><span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619097">l</a><span class="delimiter">)</span><span class="delimiter">)</span>             =&gt; <a href="#618954" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.Value">getBinding</a><span class="delimiter">(</span><a href="#619097" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="CopyPropagation.this.Value" id="619102">target</a> @ Deref<span class="delimiter">(</span>Field<span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="619103">r1</a>, <a title="CopyPropagation.this.global.Symbol" id="619104">f1</a><span class="delimiter">)</span><span class="delimiter">)</span>  =&gt; <a href="#618956" title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">getFieldValue</a><span class="delimiter">(</span><a href="#619103" title="CopyPropagation.this.Record">r1</a>, <a href="#619104" title="CopyPropagation.this.global.Symbol">f1</a><span class="delimiter">)</span> <a href="../../../../../Option.scala.html#48474" title="(default: =&gt; CopyPropagation.this.Value)CopyPropagation.this.Value">getOrElse</a> <a href="#619102" title="CopyPropagation.this.Deref">target</a>
        <span class="keyword">case</span> <a title="CopyPropagation.this.Value" id="619108">target</a>                         =&gt; <a href="#619108" title="CopyPropagation.this.Value">target</a>
      <span class="delimiter">}</span>

      <span class="comment">/** The same as getFieldValue, but never returns Record/Field values. Use
       *  this when you want to find a replacement for a field value (either a local,
       *  or a constant/this value).
       */</span>
      <span class="keyword">def</span> <a title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]" id="618957">getFieldNonRecordValue</a><span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="619110">r</a>: <a href="#618702" title="CopyPropagation.this.Record">Record</a>, <a title="CopyPropagation.this.global.Symbol" id="619111">f</a>: <a href="../../../symtab/Symbols.scala.html#478659" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../../Option.scala.html#560" title="Option[CopyPropagation.this.Value]">Option</a><span class="delimiter">[</span>Value<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <a href="../../../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#619110" title="CopyPropagation.this.Record">r</a>.<a href="#620081" title="=&gt; scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="../../../../../collection/MapLike.scala.html#73205" title="(key: CopyPropagation.this.global.Symbol)Boolean">contains</a> <a href="#619111" title="CopyPropagation.this.global.Symbol">f</a>, <span title="java.lang.String(&quot;Record &quot;)" class="string">&quot;Record &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#619110" title="CopyPropagation.this.Record">r</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not contain a field &quot;)" class="string">&quot; does not contain a field &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#619111" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span>

        <a href="#619110" title="CopyPropagation.this.Record">r</a>.<a href="../../../../../collection/MapLike.scala.html#73204" title="(key: CopyPropagation.this.global.Symbol)CopyPropagation.this.Value">bindings</a><span class="delimiter">(</span><a href="#619111" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span> <span title="Option[CopyPropagation.this.Value]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Some[CopyPropagation.this.Value]">Deref</span><span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619131">l</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="CopyPropagation.this.global.icodes.Local" id="619132">alias</a> = <a href="#618953" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.global.icodes.Local">getAlias</a><span class="delimiter">(</span><a href="#619131" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="CopyPropagation.this.Deref" id="619133">derefAlias</a> = <a href="#618768" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#618545" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#619132" title="CopyPropagation.this.global.icodes.Local">alias</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="../../../../../Option.scala.html#57885" title="(x: CopyPropagation.this.Value)Some[CopyPropagation.this.Value]">Some</a><span class="delimiter">(</span><a href="#618954" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.Value">getBinding</a><span class="delimiter">(</span><a href="#619132" title="CopyPropagation.this.global.icodes.Local">alias</a><span class="delimiter">)</span> <span title="CopyPropagation.this.Value" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="CopyPropagation.this.Deref">Record</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span>         =&gt; <a href="#619133" title="CopyPropagation.this.Deref">derefAlias</a>
              <span class="keyword">case</span> <span title="CopyPropagation.this.Value">Deref</span><span class="delimiter">(</span>Field<span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="619142">r1</a>, <a title="CopyPropagation.this.global.Symbol" id="619143">f1</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#618957" title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">getFieldNonRecordValue</a><span class="delimiter">(</span><a href="#619142" title="CopyPropagation.this.Record">r1</a>, <a href="#619143" title="CopyPropagation.this.global.Symbol">f1</a><span class="delimiter">)</span> <a href="../../../../../Option.scala.html#48474" title="(default: =&gt; CopyPropagation.this.Value)CopyPropagation.this.Value">getOrElse</a> <a href="#619133" title="CopyPropagation.this.Deref">derefAlias</a>
              <span class="keyword">case</span> <span title="CopyPropagation.this.Deref">Boxed</span><span class="delimiter">(</span>_<span class="delimiter">)</span>             =&gt; <a href="#619133" title="CopyPropagation.this.Deref">derefAlias</a>
              <span class="keyword">case</span> <a title="CopyPropagation.this.Value" id="619147">v</a>                    =&gt; <a href="#619147" title="CopyPropagation.this.Value">v</a>
            <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Option[CopyPropagation.this.Value]">Deref</span><span class="delimiter">(</span>Field<span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="619149">r1</a>, <a title="CopyPropagation.this.global.Symbol" id="619150">f1</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#618957" title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">getFieldNonRecordValue</a><span class="delimiter">(</span><a href="#619149" title="CopyPropagation.this.Record">r1</a>, <a href="#619150" title="CopyPropagation.this.global.Symbol">f1</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Some[CopyPropagation.this.Deref]" id="619151">target</a> @ Deref<span class="delimiter">(</span><a href="#618671" title="object CopyPropagation.this.This">This</a><span class="delimiter">)</span> =&gt; <a href="../../../../../Option.scala.html#57885" title="(x: CopyPropagation.this.Deref)Some[CopyPropagation.this.Deref]">Some</a><span class="delimiter">(</span><a href="#619151" title="CopyPropagation.this.Deref">target</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Some[CopyPropagation.this.Const]" id="619155">target</a> @ Const<span class="delimiter">(</span><a title="CopyPropagation.this.global.Constant" id="619156">k</a><span class="delimiter">)</span>    =&gt; <a href="../../../../../Option.scala.html#57885" title="(x: CopyPropagation.this.Const)Some[CopyPropagation.this.Const]">Some</a><span class="delimiter">(</span><a href="#619155" title="CopyPropagation.this.Const">target</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="None.type">_</span>                    =&gt; <a href="../../../../../Option.scala.html#1737" title="object None">None</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="618958">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> =
        <span title="java.lang.String(&quot;\012Bindings: &quot;)" class="string">&quot;\nBindings: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#618960" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012Stack: &quot;)" class="string">&quot;\nStack: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>;

      <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" id="618959">dup</a>: <a href="#618933" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings" id="619163">b</a>: <a href="../../../../../collection/mutable/Map.scala.html#14767" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">Bindings</a> = <a href="../../../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]" class="keyword">new</a> <a href="../../../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">HashMap</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#619163" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">b</a> <a href="../../../../../collection/generic/Growable.scala.html#56649" title="(xs: scala.collection.TraversableOnce[(CopyPropagation.this.Location, CopyPropagation.this.Value)])b.type">++=</a> <a href="#618960" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a>
        <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" class="keyword">new</span> <a href="#618933" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a><span class="delimiter">(</span><a href="#619163" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">b</a>, <a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">type</span> <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" id="618934">Elem</a> = <a href="#618933" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a>

    <span class="keyword">val</span> <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" id="618935">top</a>    = <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" class="keyword">new</span> <a href="#618933" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a><span class="delimiter">(</span><a href="#618932" title="=&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">emptyBinding</a>, <a href="../../../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" id="618937">bottom</a> = <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" class="keyword">new</span> <a href="#618933" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a><span class="delimiter">(</span><a href="#618932" title="=&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">emptyBinding</a>, <a href="../../../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="List[CopyPropagation.this.Unknown.type]" id="618939">exceptionHandlerStack</a> = <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Unknown.type)List[CopyPropagation.this.Unknown.type]">::</a> <a href="../../../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>

    <span class="keyword">def</span> <a title="(exceptional: Boolean)(a: scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem, b: scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem)scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" id="618941">lub2</a><span class="delimiter">(</span><a title="Boolean" id="619168">exceptional</a>: <a href="../../../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" id="619169">a</a>: <a href="#618933" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">Elem</a>, <a title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" id="619170">b</a>: <a href="#618933" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">Elem</a><span class="delimiter">)</span>: <a href="#618933" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">Elem</a> = <span class="delimiter">{</span>
      <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" class="keyword">if</span> <span class="delimiter">(</span><a href="#619169" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#618937" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">bottom</a><span class="delimiter">)</span> <a href="#619170" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a>
      <span class="keyword">else</span> <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" class="keyword">if</span> <span class="delimiter">(</span><a href="#619170" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#618937" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">bottom</a><span class="delimiter">)</span> <a href="#619169" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a>
      <span class="keyword">else</span> <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem" class="keyword">if</span> <span class="delimiter">(</span><a href="#619169" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#619170" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a><span class="delimiter">)</span> <a href="#619169" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="comment">//assert(!(a.stack eq exceptionHandlerStack) &amp;&amp; !(b.stack eq exceptionHandlerStack))</span>
        <span class="keyword">val</span> <a title="List[CopyPropagation.this.Value]" id="619182">resStack</a> =
          <span title="List[CopyPropagation.this.Value]" class="keyword">if</span> <span class="delimiter">(</span><a href="#619168" title="Boolean">exceptional</a><span class="delimiter">)</span> <a href="#618939" title="=&gt; List[CopyPropagation.this.Unknown.type]">exceptionHandlerStack</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
<span class="comment">//            if (a.stack.length != b.stack.length)</span>
<span class="comment">//              throw new LubException(a, b, &quot;Invalid stacks in states: &quot;);</span>
            <a href="../../../../../Tuple2.scala.html#53390" title="(_1: List[CopyPropagation.this.Value], _2: List[CopyPropagation.this.Value])(List[CopyPropagation.this.Value], List[CopyPropagation.this.Value])" class="delimiter">(</a><a href="#619169" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>, <a href="#619170" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a><span class="delimiter">)</span>.<a href="../../../../../Tuple2.scala.html#53418" title="(implicit w1: List[CopyPropagation.this.Value] =&gt; scala.collection.TraversableLike[CopyPropagation.this.Value,List[CopyPropagation.this.Value]], implicit w2: List[CopyPropagation.this.Value] =&gt; scala.collection.IterableLike[CopyPropagation.this.Value,List[CopyPropagation.this.Value]])(List[CopyPropagation.this.Value], List[CopyPropagation.this.Value])#Zipped[List[CopyPropagation.this.Value],CopyPropagation.this.Value,List[CopyPropagation.this.Value],CopyPropagation.this.Value]">zipped</a> <a href="../../../../../Tuple2.scala.html#57617" title="(f: (CopyPropagation.this.Value, CopyPropagation.this.Value) =&gt; CopyPropagation.this.Value)(implicit cbf: scala.collection.generic.CanBuildFrom[List[CopyPropagation.this.Value],CopyPropagation.this.Value,List[CopyPropagation.this.Value]])List[CopyPropagation.this.Value]">map</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="CopyPropagation.this.Value" id="619245">v1</a>, <a title="CopyPropagation.this.Value" id="619246">v2</a><span class="delimiter">)</span> =&gt;
              <span title="CopyPropagation.this.Value" class="keyword">if</span> <span class="delimiter">(</span><a href="#619245" title="CopyPropagation.this.Value">v1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#619246" title="CopyPropagation.this.Value">v2</a><span class="delimiter">)</span> <a href="#619245" title="CopyPropagation.this.Value">v1</a> <span class="keyword">else</span> <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

<span class="comment">/*        if (a.stack.length != b.stack.length)
          throw new LubException(a, b, &quot;Invalid stacks in states: &quot;);
        val resStack = List.map2(a.stack, b.stack) { (v1, v2) =&gt;
          if (v1 == v2) v1 else Unknown
        }
        */</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]" id="619183">resBindings</a> = <a href="../../../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]" class="keyword">new</a> <a href="../../../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">HashMap</a><span class="delimiter">[</span>Location, Value<span class="delimiter">]</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="619329">k</a>, <a title="CopyPropagation.this.Value" id="619330">v</a><span class="delimiter">)</span> &lt;- <a href="#619169" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">a</a>.<a href="../../../../../collection/generic/FilterMonadic.scala.html#53496" title="(f: ((CopyPropagation.this.Location, CopyPropagation.this.Value)) =&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value])Unit">bindings</a> <span class="keyword">if</span> <a href="#619170" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a>.<a href="#618960" title="=&gt; scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Bindings">bindings</a>.<a href="../../../../../collection/MapLike.scala.html#73206" title="(key: CopyPropagation.this.Location)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#619329" title="CopyPropagation.this.Location">k</a><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#619330" title="CopyPropagation.this.Value">v</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#619170" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.Elem">b</a>.<a href="../../../../../collection/MapLike.scala.html#73204" title="(key: CopyPropagation.this.Location)CopyPropagation.this.Value">bindings</a><span class="delimiter">(</span><a href="#619329" title="CopyPropagation.this.Location">k</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#619183" title="scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">resBindings</a> <a href="../../../../../collection/mutable/HashMap.scala.html#73162" title="(kv: (CopyPropagation.this.Location, CopyPropagation.this.Value))resBindings.type">+=</a> <span class="delimiter">(</span><a href="../../../../../Predef.scala.html#9589" title="(x: CopyPropagation.this.Location)ArrowAssoc[CopyPropagation.this.Location]">k</a> <a href="../../../../../Predef.scala.html#57653" title="(y: CopyPropagation.this.Value)(CopyPropagation.this.Location, CopyPropagation.this.Value)">-&gt;</a> <a href="#619330" title="CopyPropagation.this.Value">v</a><span class="delimiter">)</span>;
        <span title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State" class="keyword">new</span> <a href="#618933" title="scala.tools.nsc.backend.icode.analysis.CopyPropagation.copyLattice.State">State</a><span class="delimiter">(</span><a href="#619183" title="scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">resBindings</a>, <a href="#619182" title="List[CopyPropagation.this.Value]">resStack</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class CopyAnalysis extends java.lang.Object with scala.tools.nsc.backend.icode.analysis.DataFlowAnalysis[CopyPropagation.this.copyLattice.type] with ScalaObject" id="509022">CopyAnalysis</a> <a href="../../../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="DataFlowAnalysis.scala.html#26764" title="scala.tools.nsc.backend.icode.analysis.DataFlowAnalysis[CopyPropagation.this.copyLattice.type]">DataFlowAnalysis</a><span class="delimiter">[</span>copyLattice.<span class="keyword">type</span><span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="CopyPropagation.this.global.icodes.BasicBlock" id="619383">P</a> = <a href="../BasicBlocks.scala.html#501270" title="CopyPropagation.this.global.icodes.BasicBlock">BasicBlock</a>
    <span class="keyword">val</span> <a title="CopyPropagation.this.copyLattice.type" id="619384">lattice</a> = <a href="#509020" title="object CopyPropagation.this.copyLattice">copyLattice</a>

    <span class="keyword">var</span> <a title="CopyPropagation.this.global.icodes.IMethod" id="619387">method</a>: <a href="../Members.scala.html#501263" title="CopyPropagation.this.global.icodes.IMethod">IMethod</a> = _

    <span class="keyword">def</span> <a title="(m: CopyPropagation.this.global.icodes.IMethod)Unit" id="619389">init</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.IMethod" id="619407">m</a>: <a href="../Members.scala.html#501263" title="CopyPropagation.this.global.icodes.IMethod">IMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#509022" title="CopyAnalysis.this.type" class="keyword">this</a>.<a href="#619387" title="(x$1: CopyPropagation.this.global.icodes.IMethod)Unit">method</a> = <a href="#619407" title="CopyPropagation.this.global.icodes.IMethod">m</a>

      <a href="DataFlowAnalysis.scala.html#619377" title="(f: =&gt; Unit)Unit">init</a> <span class="delimiter">{</span>
        <a href="DataFlowAnalysis.scala.html#619363" title="=&gt; scala.collection.mutable.Set[CopyAnalysis.this.P]">worklist</a> <a href="../../../../../collection/mutable/SetLike.scala.html#108335" title="(elem: CopyAnalysis.this.P)CopyAnalysis.this.worklist.type">+=</a> <a href="#619407" title="CopyPropagation.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#594471" title="=&gt; CopyPropagation.this.global.icodes.Code">code</a>.<a href="../Members.scala.html#594546" title="=&gt; CopyPropagation.this.global.icodes.BasicBlock">startBlock</a>
        <a href="DataFlowAnalysis.scala.html#619363" title="=&gt; scala.collection.mutable.Set[CopyAnalysis.this.P]">worklist</a> <a href="../../../../../collection/generic/Growable.scala.html#56649" title="(xs: scala.collection.TraversableOnce[CopyAnalysis.this.P])CopyAnalysis.this.worklist.type">++=</a> <span class="delimiter">(</span><a href="#619407" title="CopyPropagation.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#594477" title="=&gt; List[CopyPropagation.this.global.icodes.ExceptionHandler]">exh</a> <a href="../../../../../collection/TraversableLike.scala.html#49041" title="(f: CopyPropagation.this.global.icodes.ExceptionHandler =&gt; CopyPropagation.this.global.icodes.BasicBlock)(implicit bf: scala.collection.generic.CanBuildFrom[List[CopyPropagation.this.global.icodes.ExceptionHandler],CopyPropagation.this.global.icodes.BasicBlock,scala.collection.TraversableOnce[CopyAnalysis.this.P]])scala.collection.TraversableOnce[CopyAnalysis.this.P]">map</a> <span class="delimiter">(</span><a href="#619449" title="CopyPropagation.this.global.icodes.ExceptionHandler">_</a>.<a href="../ExceptionHandlers.scala.html#599663" title="=&gt; CopyPropagation.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#619407" title="CopyPropagation.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#594471" title="=&gt; CopyPropagation.this.global.icodes.Code">code</a>.<a href="../Members.scala.html#594544" title="=&gt; scala.collection.mutable.ListBuffer[CopyPropagation.this.global.icodes.BasicBlock]">blocks</a>.<a href="../../../../../collection/generic/TraversableForwarder.scala.html#61936" title="(f: CopyPropagation.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="CopyPropagation.this.global.icodes.BasicBlock" id="619507">b</a> =&gt;
          <a href="../../../../../collection/mutable/MapLike.scala.html#73272" title="(key: CopyAnalysis.this.P, value: CopyAnalysis.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><a href="#619507" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>  = <a href="#619384" title="=&gt; CopyPropagation.this.copyLattice.type">lattice</a>.<a href="#618937" title="=&gt; CopyAnalysis.this.lattice.State">bottom</a>
          <a href="../../../../../collection/mutable/MapLike.scala.html#73272" title="(key: CopyAnalysis.this.P, value: CopyAnalysis.this.lattice.Elem)Unit">out</a><span class="delimiter">(</span><a href="#619507" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> = <a href="#619384" title="=&gt; CopyPropagation.this.copyLattice.type">lattice</a>.<a href="#618937" title="=&gt; CopyAnalysis.this.lattice.State">bottom</a>
          <a href="../../../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="DataFlowAnalysis.scala.html#619367" title="=&gt; scala.collection.mutable.Map[CopyAnalysis.this.P,CopyAnalysis.this.lattice.Elem]">out</a>.<a href="../../../../../collection/MapLike.scala.html#73205" title="(key: CopyAnalysis.this.P)Boolean">contains</a><span class="delimiter">(</span><a href="#619507" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Added point: &quot;)" class="string">&quot;Added point: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#619507" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#619407" title="CopyPropagation.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#594477" title="=&gt; List[CopyPropagation.this.global.icodes.ExceptionHandler]">exh</a> <a href="../../../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: CopyPropagation.this.global.icodes.ExceptionHandler =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="CopyPropagation.this.global.icodes.ExceptionHandler" id="619537">e</a> =&gt;
          <a href="../../../../../collection/mutable/MapLike.scala.html#73272" title="(key: CopyAnalysis.this.P, value: CopyAnalysis.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><a href="#619537" title="CopyPropagation.this.global.icodes.ExceptionHandler">e</a>.<a href="../ExceptionHandlers.scala.html#599663" title="=&gt; CopyPropagation.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span> = <span title="CopyPropagation.this.copyLattice.State" class="keyword">new</span> <a href="#509020" title="object CopyPropagation.this.copyLattice">copyLattice</a>.<a href="#618933" title="CopyPropagation.this.copyLattice.State">State</a><span class="delimiter">(</span><a href="#509020" title="object CopyPropagation.this.copyLattice">copyLattice</a>.<a href="#618932" title="=&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">emptyBinding</a>, <a href="#509020" title="object CopyPropagation.this.copyLattice">copyLattice</a>.<a href="#618939" title="=&gt; List[CopyPropagation.this.Unknown.type]">exceptionHandlerStack</a><span class="delimiter">)</span>;
        <span class="delimiter">}</span>

        <span class="comment">// first block is special: it's not bottom, but a precisely defined state with no bindings</span>
        <a href="../../../../../collection/mutable/MapLike.scala.html#73272" title="(key: CopyAnalysis.this.P, value: CopyAnalysis.this.lattice.Elem)Unit">in</a><span class="delimiter">(</span><a href="#619407" title="CopyPropagation.this.global.icodes.IMethod">m</a>.<a href="../Members.scala.html#594471" title="=&gt; CopyPropagation.this.global.icodes.Code">code</a>.<a href="../Members.scala.html#594546" title="=&gt; CopyPropagation.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span> = <span title="CopyAnalysis.this.lattice.State" class="keyword">new</span> <a href="#619384" title="=&gt; CopyPropagation.this.copyLattice.type">lattice</a>.<a href="#618933" title="CopyAnalysis.this.lattice.State">State</a><span class="delimiter">(</span><a href="#619384" title="=&gt; CopyPropagation.this.copyLattice.type">lattice</a>.<a href="#618932" title="=&gt; scala.collection.mutable.HashMap[CopyPropagation.this.Location,CopyPropagation.this.Value]">emptyBinding</a>, <a href="../../../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="619390">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="DataFlowAnalysis.scala.html#619380" title="(f: (CopyAnalysis.this.P, CopyAnalysis.this.lattice.Elem) =&gt; CopyAnalysis.this.lattice.Elem)Unit">forwardAnalysis</a><span class="delimiter">(</span><a href="#619391" title="(b: CopyPropagation.this.global.icodes.BasicBlock, in: CopyAnalysis.this.lattice.Elem)CopyAnalysis.this.lattice.Elem">blockTransfer</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../ICodes.scala.html#501223" title="=&gt; CopyPropagation.this.global.icodes.Linearizer">linearizer</a>.<a href="../Linearizers.scala.html#611346" title="(c: CopyPropagation.this.global.icodes.IMethod)List[CopyPropagation.this.global.icodes.BasicBlock]">linearize</a><span class="delimiter">(</span><a href="#619387" title="=&gt; CopyPropagation.this.global.icodes.IMethod">method</a><span class="delimiter">)</span>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: CopyPropagation.this.global.icodes.BasicBlock =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.BasicBlock" id="619585">b</a> =&gt; <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#619585" title="CopyPropagation.this.global.icodes.BasicBlock">b</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#619387" title="=&gt; CopyPropagation.this.global.icodes.IMethod">method</a>.<a href="../Members.scala.html#594471" title="=&gt; CopyPropagation.this.global.icodes.Code">code</a>.<a href="../Members.scala.html#594546" title="=&gt; CopyPropagation.this.global.icodes.BasicBlock">startBlock</a><span class="delimiter">)</span>
          <a href="../../../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../../../collection/MapLike.scala.html#73204" title="(key: CopyAnalysis.this.P)CopyAnalysis.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#619585" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#619384" title="=&gt; CopyPropagation.this.copyLattice.type">lattice</a>.<a href="#618937" title="=&gt; CopyAnalysis.this.lattice.State">bottom</a>,
            <span title="java.lang.String(&quot;Block &quot;)" class="string">&quot;Block &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#619585" title="CopyPropagation.this.global.icodes.BasicBlock">b</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#509022" title="CopyAnalysis.this.type" class="keyword">this</a>.<a href="#619387" title="=&gt; CopyPropagation.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has input equal to bottom -- not visited?&quot;)" class="string">&quot; has input equal to bottom -- not visited?&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(b: CopyPropagation.this.global.icodes.BasicBlock, in: CopyAnalysis.this.lattice.Elem)CopyAnalysis.this.lattice.Elem" id="619391">blockTransfer</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.BasicBlock" id="619550">b</a>: <a href="../BasicBlocks.scala.html#501270" title="CopyPropagation.this.global.icodes.BasicBlock">BasicBlock</a>, <a title="CopyAnalysis.this.lattice.Elem" id="619551">in</a>: lattice.<a href="#618933" title="CopyAnalysis.this.lattice.Elem">Elem</a><span class="delimiter">)</span>: lattice.<a href="#618933" title="CopyAnalysis.this.lattice.Elem">Elem</a> =
      <a href="#619550" title="CopyPropagation.this.global.icodes.BasicBlock">b</a>.<a href="../../../../../collection/TraversableOnce.scala.html#53630" title="(z: CopyAnalysis.this.lattice.Elem)(op: (CopyAnalysis.this.lattice.Elem, CopyPropagation.this.global.icodes.Instruction) =&gt; CopyAnalysis.this.lattice.Elem)CopyAnalysis.this.lattice.Elem">foldLeft</a><span class="delimiter">(</span><a href="#619551" title="CopyAnalysis.this.lattice.Elem">in</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#619398" title="(in: CopyPropagation.this.copyLattice.Elem, i: CopyPropagation.this.global.icodes.Instruction)CopyPropagation.this.copyLattice.Elem">interpret</a><span class="delimiter">)</span>

    <span class="keyword">import</span> <a href="../Opcodes.scala.html#501275" title="object CopyPropagation.this.global.icodes.opcodes">opcodes</a>._

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="[A, B](map: scala.collection.mutable.Map[A,B])(p: (A, B) =&gt; Boolean)scala.collection.mutable.Map[A,B]" id="619393">retain</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="619396">A</a>, <a title="&gt;: Nothing &lt;: Any" id="619397">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="scala.collection.mutable.Map[A,B]" id="619636">map</a>: <a href="../../../../../collection/mutable/Map.scala.html#14767" title="scala.collection.mutable.Map[A,B]">Map</a><span class="delimiter">[</span>A, B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(A, B) =&gt; Boolean" id="619637">p</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="A" id="619673">k</a>, <a title="B" id="619674">v</a><span class="delimiter">)</span> &lt;- <a href="../../../../../collection/generic/FilterMonadic.scala.html#53496" title="(f: ((A, B)) =&gt; scala.collection.mutable.Map[A,B])Unit">map</a> ; <span class="keyword">if</span> <a href="../../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../../../../Function2.scala.html#59852" title="(v1: A, v2: B)Boolean">p</a><span class="delimiter">(</span><a href="#619673" title="A">k</a>, <a href="#619674" title="B">v</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#619636" title="scala.collection.mutable.Map[A,B]">map</a> <a href="../../../../../collection/mutable/MapLike.scala.html#73290" title="(key: A)map.type">-=</a> <a href="#619673" title="A">k</a>
      <a href="#619636" title="scala.collection.mutable.Map[A,B]">map</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Abstract interpretation for one instruction. */</span>
    <span class="keyword">def</span> <a title="(in: CopyPropagation.this.copyLattice.Elem, i: CopyPropagation.this.global.icodes.Instruction)CopyPropagation.this.copyLattice.Elem" id="619398">interpret</a><span class="delimiter">(</span><a title="CopyPropagation.this.copyLattice.Elem" id="619630">in</a>: copyLattice.<a href="#618933" title="CopyPropagation.this.copyLattice.Elem">Elem</a>, <a title="CopyPropagation.this.global.icodes.Instruction" id="619631">i</a>: <a href="../Opcodes.scala.html#501274" title="CopyPropagation.this.global.icodes.Instruction">Instruction</a><span class="delimiter">)</span>: copyLattice.<a href="#618933" title="CopyPropagation.this.copyLattice.Elem">Elem</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="CopyPropagation.this.copyLattice.State" id="619685">out</a> = <a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#618959" title="=&gt; CopyPropagation.this.copyLattice.State">dup</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;- &quot;)" class="string">&quot;- &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#619631" title="CopyPropagation.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
        <a href="../../../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;in: &quot;)" class="string">&quot;in: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a><span class="delimiter">)</span>
        <a href="../../../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#619631" title="CopyPropagation.this.global.icodes.Instruction">i</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">THIS</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618768" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#618671" title="object CopyPropagation.this.This">This</a><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>

        <span class="keyword">case</span> <span title="Unit">CONSTANT</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.global.Constant" id="619698">k</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#619698" title="CopyPropagation.this.global.icodes.global.Constant">k</a>.<a href="../../../../../reflect/generic/Constants.scala.html#434214" title="=&gt; Int">tag</a> <a href="../../../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(1)">UnitTag</span><span class="delimiter">)</span>
            <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618872" title="(c: CopyPropagation.this.global.Constant)CopyPropagation.this.Const">Const</a><span class="delimiter">(</span><a href="#619698" title="CopyPropagation.this.global.icodes.global.Constant">k</a><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>;

        <span class="keyword">case</span> <span title="Unit">LOAD_ARRAY_ITEM</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <span class="delimiter">(</span><a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">LOAD_LOCAL</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619722">local</a><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618768" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#618545" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#619722" title="CopyPropagation.this.global.icodes.Local">local</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>

        <span class="keyword">case</span> <span title="Unit">LOAD_FIELD</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.global.Symbol" id="619733">field</a>, <a title="Boolean" id="619734">isStatic</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#619734" title="Boolean">isStatic</a><span class="delimiter">)</span>
            <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>; <span class="comment">/* ignore static fields */</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="CopyPropagation.this.Value" id="619739">v1</a> = <a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <span title="CopyPropagation.this.Value" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="CopyPropagation.this.Deref" class="delimiter">(</span><a title="CopyPropagation.this.Record" id="619744">r</a> @ Record<span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="619745">cls</a>, <a title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="619746">bindings</a><span class="delimiter">)</span><span class="delimiter">)</span> :: <a title="List[CopyPropagation.this.Value]" id="619747">xs</a> =&gt;
                <a href="#618768" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#618618" title="(r: CopyPropagation.this.Record, sym: CopyPropagation.this.global.Symbol)CopyPropagation.this.Field">Field</a><span class="delimiter">(</span><a href="#619744" title="CopyPropagation.this.Record">r</a>, <a href="#619733" title="CopyPropagation.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>

              <span class="keyword">case</span> <span title="&lt;none&gt; extends Product with Serializable with CopyPropagation.this.Value">Deref</span><span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619760">l</a><span class="delimiter">)</span><span class="delimiter">)</span> :: _ =&gt;
                <a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#618954" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.Value">getBinding</a><span class="delimiter">(</span><a href="#619760" title="CopyPropagation.this.global.icodes.Local">l</a><span class="delimiter">)</span> <span title="&lt;none&gt; extends Product with Serializable with CopyPropagation.this.Value" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a title="CopyPropagation.this.Deref" id="619763">r</a> @ Record<span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="619764">cls</a>, <a title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="619765">bindings</a><span class="delimiter">)</span> =&gt; <a href="#618768" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#618618" title="(r: CopyPropagation.this.Record, sym: CopyPropagation.this.global.Symbol)CopyPropagation.this.Field">Field</a><span class="delimiter">(</span><a href="#619763" title="CopyPropagation.this.Record">r</a>, <a href="#619733" title="CopyPropagation.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="CopyPropagation.this.Unknown.type">_</span> =&gt; <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="CopyPropagation.this.Value">Deref</span><span class="delimiter">(</span>Field<span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="619781">r</a>, <a title="CopyPropagation.this.global.Symbol" id="619782">f</a><span class="delimiter">)</span><span class="delimiter">)</span> :: _ =&gt;
                <span class="keyword">val</span> <a title="Option[CopyPropagation.this.Value]" id="619783">fld</a> = <a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#618956" title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">getFieldValue</a><span class="delimiter">(</span><a href="#619781" title="CopyPropagation.this.Record">r</a>, <a href="#619782" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span>
                <a href="#619783" title="Option[CopyPropagation.this.Value]">fld</a> <span title="CopyPropagation.this.Value" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="CopyPropagation.this.Value">Some</span><span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="619785">r</a> @ Record<span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="619786">cls</a>, <a title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="619787">bindings</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#619787" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a>.<a href="../../../../../collection/MapLike.scala.html#73206" title="(key: CopyPropagation.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#619782" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span> =&gt;
                  	<a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#618956" title="(r: CopyPropagation.this.Record, f: CopyPropagation.this.global.Symbol)Option[CopyPropagation.this.Value]">getFieldValue</a><span class="delimiter">(</span><a href="#619785" title="CopyPropagation.this.Record">r</a>, <a href="#619782" title="CopyPropagation.this.global.Symbol">f</a><span class="delimiter">)</span>.<a href="../../../../../Option.scala.html#48474" title="(default: =&gt; CopyPropagation.this.Value)CopyPropagation.this.Value">getOrElse</a><span class="delimiter">(</span><a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="CopyPropagation.this.Unknown.type">_</span> =&gt; <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a>
                <span class="delimiter">}</span>

              <span class="keyword">case</span> <span title="CopyPropagation.this.Unknown.type">_</span> =&gt; <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a>
            <span class="delimiter">}</span>
            <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619739" title="CopyPropagation.this.Value">v1</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">LOAD_MODULE</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.global.Symbol" id="619801">module</a><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>

        <span class="keyword">case</span> <span title="Unit">STORE_ARRAY_ITEM</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.TypeKind" id="619809">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(3)" class="int">3</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">STORE_LOCAL</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619812">local</a><span class="delimiter">)</span> =&gt;
          <a href="#619399" title="(s: CopyPropagation.this.copyLattice.State, target: CopyPropagation.this.Location)Unit">cleanReferencesTo</a><span class="delimiter">(</span><a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>, <a href="#618545" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><span class="delimiter">(</span><a href="#619812" title="CopyPropagation.this.global.icodes.Local">local</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#618914" title="Unit">Unknown</a> :: <a title="List[CopyPropagation.this.Value]" id="619821">xs</a> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Any" id="619826">v</a> :: <a title="List[CopyPropagation.this.Value]" id="619827">vs</a> =&gt;
              <a href="#619826" title="CopyPropagation.this.Value">v</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Any">Deref</span><span class="delimiter">(</span>LocalVar<span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Local" id="619828">other</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#619828" title="CopyPropagation.this.global.icodes.Local">other</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#619812" title="CopyPropagation.this.global.icodes.Local">local</a><span class="delimiter">)</span>
                    <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618960" title="=&gt; CopyPropagation.this.copyLattice.Bindings">bindings</a> <a href="../../../../../collection/mutable/MapLike.scala.html#73273" title="(kv: (CopyPropagation.this.Location, CopyPropagation.this.Value))scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]">+=</a> <span class="delimiter">(</span><a href="#618545" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><a href="../../../../../Predef.scala.html#9589" title="(x: CopyPropagation.this.LocalVar)ArrowAssoc[CopyPropagation.this.LocalVar]" class="delimiter">(</a><a href="#619812" title="CopyPropagation.this.global.icodes.Local">local</a><span class="delimiter">)</span> <a href="../../../../../Predef.scala.html#57653" title="(y: CopyPropagation.this.Value)(CopyPropagation.this.LocalVar, CopyPropagation.this.Value)">-&gt;</a> <a href="#619826" title="CopyPropagation.this.Value">v</a><span class="delimiter">)</span>;
                <span class="keyword">case</span> <span title="scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]">_</span> =&gt;
                  <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618960" title="=&gt; CopyPropagation.this.copyLattice.Bindings">bindings</a> <a href="../../../../../collection/mutable/MapLike.scala.html#73273" title="(kv: (CopyPropagation.this.Location, CopyPropagation.this.Value))scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]">+=</a> <span class="delimiter">(</span><a href="#618545" title="(l: CopyPropagation.this.global.icodes.Local)CopyPropagation.this.LocalVar">LocalVar</a><a href="../../../../../Predef.scala.html#9589" title="(x: CopyPropagation.this.LocalVar)ArrowAssoc[CopyPropagation.this.LocalVar]" class="delimiter">(</a><a href="#619812" title="CopyPropagation.this.global.icodes.Local">local</a><span class="delimiter">)</span> <a href="../../../../../Predef.scala.html#57653" title="(y: CopyPropagation.this.Value)(CopyPropagation.this.LocalVar, CopyPropagation.this.Value)">-&gt;</a> <a href="#619826" title="CopyPropagation.this.Value">v</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <a href="../../../../../collection/immutable/List.scala.html#13700" title="Nothing">Nil</a> =&gt;
              sys.<a href="../../../../../sys/package.scala.html#48163" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Incorrect icode in &quot;)" class="string">&quot;Incorrect icode in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#619387" title="=&gt; CopyPropagation.this.global.icodes.IMethod">method</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;. Expecting something on the stack.&quot;)" class="string">&quot;. Expecting something on the stack.&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a> <span title="Int(1)" class="int">1</span>;

        <span class="keyword">case</span> <span title="Unit">STORE_THIS</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#619399" title="(s: CopyPropagation.this.copyLattice.State, target: CopyPropagation.this.Location)Unit">cleanReferencesTo</a><span class="delimiter">(</span><a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>, <a href="#618671" title="object CopyPropagation.this.This">This</a><span class="delimiter">)</span>
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a> <span title="Int(1)" class="int">1</span>

        <span class="keyword">case</span> <span title="Any">STORE_FIELD</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.global.Symbol" id="619915">field</a>, <a title="Boolean" id="619916">isStatic</a><span class="delimiter">)</span> =&gt;
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#619916" title="Boolean">isStatic</a><span class="delimiter">)</span>
            <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>;
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>;
            <a href="#619399" title="(s: CopyPropagation.this.copyLattice.State, target: CopyPropagation.this.Location)Unit">cleanReferencesTo</a><span class="delimiter">(</span><a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>, <a href="#618618" title="(r: CopyPropagation.this.Record, sym: CopyPropagation.this.global.Symbol)CopyPropagation.this.Field">Field</a><span class="delimiter">(</span><a href="#509018" title="object CopyPropagation.this.AllRecords">AllRecords</a>, <a href="#619915" title="CopyPropagation.this.global.icodes.global.Symbol">field</a><span class="delimiter">)</span><span class="delimiter">)</span>;
            <a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="bindings.type" id="619923">v</a> :: Record<span class="delimiter">(</span>_, <a title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="619931">bindings</a><span class="delimiter">)</span> :: <a title="List[CopyPropagation.this.Value]" id="619932">vs</a> =&gt;
                <a href="#619931" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="../../../../../collection/mutable/MapLike.scala.html#73273" title="(kv: (CopyPropagation.this.global.Symbol, CopyPropagation.this.Value))bindings.type">+=</a> <span class="delimiter">(</span><a href="../../../../../Predef.scala.html#9589" title="(x: CopyPropagation.this.global.icodes.global.Symbol)ArrowAssoc[CopyPropagation.this.global.icodes.global.Symbol]">field</a> <a href="../../../../../Predef.scala.html#57653" title="(y: CopyPropagation.this.Value)(CopyPropagation.this.global.icodes.global.Symbol, CopyPropagation.this.Value)">-&gt;</a> <a href="#619923" title="CopyPropagation.this.Value">v</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">CALL_PRIMITIVE</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.Primitive" id="619969">primitive</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// TODO: model primitives</span>
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><a href="#619631" title="CopyPropagation.this.global.icodes.Instruction">i</a>.<a href="../Opcodes.scala.html#594682" title="=&gt; Int">consumed</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">CALL_METHOD</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.global.Symbol" id="619979">method</a>, <a title="CopyPropagation.this.global.icodes.opcodes.InvokeStyle" id="619980">style</a><span class="delimiter">)</span> =&gt; <a href="#619980" title="CopyPropagation.this.global.icodes.opcodes.InvokeStyle">style</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../Opcodes.scala.html#515028" title="Unit">Dynamic</a> | <a href="../Opcodes.scala.html#515030" title="object CopyPropagation.this.global.icodes.opcodes.InvokeDynamic">InvokeDynamic</a> =&gt;
            <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a> = <a href="#619400" title="(state: CopyPropagation.this.copyLattice.State, method: CopyPropagation.this.global.Symbol, static: Boolean)CopyPropagation.this.copyLattice.State">simulateCall</a><span class="delimiter">(</span><a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>, <a href="#619979" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">Static</span><span class="delimiter">(</span><a title="Boolean" id="619985">onInstance</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#619985" title="Boolean">onInstance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="CopyPropagation.this.Value" id="619986">obj</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><a href="#619979" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>.<a href="../../../symtab/Symbols.scala.html#509272" title="=&gt; CopyPropagation.this.global.icodes.global.Type">info</a>.<a href="../../../symtab/Types.scala.html#507181" title="=&gt; List[CopyPropagation.this.global.icodes.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span>.<a href="../../../../../collection/IterableLike.scala.html#53870" title="=&gt; CopyPropagation.this.Value">head</a>
<span class="comment">//              if (method.isPrimaryConstructor) {</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#619979" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>.<a href="../../../symtab/Symbols.scala.html#509227" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#619986" title="CopyPropagation.this.Value">obj</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">Record</span><span class="delimiter">(</span>_, <a title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="619994">bindings</a><span class="delimiter">)</span> =&gt;
                    <span class="keyword">for</span> <span class="delimiter">(</span><a title="CopyPropagation.this.Value" id="620011">v</a> &lt;- <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49163" title="(n: Int)List[CopyPropagation.this.Value]">take</a><a href="../../../../../collection/generic/FilterMonadic.scala.html#53496" title="(f: CopyPropagation.this.Value =&gt; scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value])Unit" class="delimiter">(</a><a href="#619979" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>.<a href="../../../symtab/Symbols.scala.html#509272" title="=&gt; CopyPropagation.this.global.icodes.global.Type">info</a>.<a href="../../../symtab/Types.scala.html#507181" title="=&gt; List[CopyPropagation.this.global.icodes.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
                         <span class="keyword">if</span> <a href="#620011" title="CopyPropagation.this.Value">v</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#619986" title="CopyPropagation.this.Value">obj</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                       <a href="#619994" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="../../../../../collection/generic/Growable.scala.html#56649" title="(xs: scala.collection.TraversableOnce[(CopyPropagation.this.global.Symbol, CopyPropagation.this.Value)])bindings.type">++=</a> <a href="#619402" title="(in: CopyPropagation.this.copyLattice.State, ctor: CopyPropagation.this.global.Symbol)scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">getBindingsForPrimaryCtor</a><span class="delimiter">(</span><a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>, <a href="#619979" title="CopyPropagation.this.global.icodes.global.Symbol">method</a><span class="delimiter">)</span>;
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span class="comment">// put the Record back on the stack and remove the 'returned' value</span>
                <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#619979" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>.<a href="../../../symtab/Symbols.scala.html#509272" title="=&gt; CopyPropagation.this.global.icodes.global.Type">info</a>.<a href="../../../symtab/Types.scala.html#507181" title="=&gt; List[CopyPropagation.this.global.icodes.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span>
                <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a> = <a href="#619400" title="(state: CopyPropagation.this.copyLattice.State, method: CopyPropagation.this.global.Symbol, static: Boolean)CopyPropagation.this.copyLattice.State">simulateCall</a><span class="delimiter">(</span><a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>, <a href="#619979" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span>
              <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a> = <a href="#619400" title="(state: CopyPropagation.this.copyLattice.State, method: CopyPropagation.this.global.Symbol, static: Boolean)CopyPropagation.this.copyLattice.State">simulateCall</a><span class="delimiter">(</span><a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>, <a href="#619979" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">SuperCall</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a> = <a href="#619400" title="(state: CopyPropagation.this.copyLattice.State, method: CopyPropagation.this.global.Symbol, static: Boolean)CopyPropagation.this.copyLattice.State">simulateCall</a><span class="delimiter">(</span><a href="#619630" title="CopyPropagation.this.copyLattice.Elem">in</a>, <a href="#619979" title="CopyPropagation.this.global.icodes.global.Symbol">method</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">BOX</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.TypeKind" id="620025">tpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="&lt;none&gt; extends Product with Serializable with CopyPropagation.this.Value" id="620026">top</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/IterableLike.scala.html#53870" title="=&gt; CopyPropagation.this.Value">head</a> <span title="&lt;none&gt; extends Product with Serializable with CopyPropagation.this.Value" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="CopyPropagation.this.Boxed">Deref</span><span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="620028">loc</a><span class="delimiter">)</span> =&gt; <a href="#618820" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Boxed">Boxed</a><span class="delimiter">(</span><a href="#620028" title="CopyPropagation.this.Location">loc</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="CopyPropagation.this.Unknown.type">_</span>          =&gt; <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a>
          <span class="delimiter">}</span>
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#620026" title="&lt;none&gt; extends Product with Serializable with CopyPropagation.this.Value">top</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[CopyPropagation.this.Value]">tail</a>

        <span class="keyword">case</span> <span title="Any">UNBOX</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.TypeKind" id="620050">tpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="CopyPropagation.this.Value" id="620051">top</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/IterableLike.scala.html#53870" title="=&gt; CopyPropagation.this.Value">head</a>
          <a href="#620051" title="CopyPropagation.this.Value">top</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="List[CopyPropagation.this.Value]">Boxed</span><span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="620053">loc</a><span class="delimiter">)</span> =&gt; <a href="#618768" title="(l: CopyPropagation.this.Location)CopyPropagation.this.Deref">Deref</a><span class="delimiter">(</span><a href="#620053" title="CopyPropagation.this.Location">loc</a><span class="delimiter">)</span> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[CopyPropagation.this.Value]">tail</a>
            <span class="keyword">case</span> <span title="Unit">_</span>          =&gt; <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Unit">NEW</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.REFERENCE" id="620076">kind</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="&lt;none&gt; extends Product with Serializable with CopyPropagation.this.Value" id="620077">v1</a> = <a href="#620076" title="CopyPropagation.this.global.icodes.REFERENCE">kind</a> <span title="&lt;none&gt; extends Product with Serializable with CopyPropagation.this.Value" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="CopyPropagation.this.Record">REFERENCE</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.global.Symbol" id="620079">cls</a><span class="delimiter">)</span> =&gt; <a href="#618702" title="(cls: CopyPropagation.this.global.Symbol, bindings: scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value])CopyPropagation.this.Record">Record</a><span class="delimiter">(</span><a href="#620079" title="CopyPropagation.this.global.icodes.global.Symbol">cls</a>, <a href="../../../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" class="keyword">new</a> <a href="../../../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">HashMap</a><span class="delimiter">[</span>Symbol, Value<span class="delimiter">]</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="CopyPropagation.this.Unknown.type">_</span>              =&gt; <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a>
          <span class="delimiter">}</span>
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#620077" title="&lt;none&gt; extends Product with Serializable with CopyPropagation.this.Value">v1</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>

        <span class="keyword">case</span> <span title="Unit">CREATE_ARRAY</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.TypeKind" id="620107">elem</a>, <a title="Int" id="620108">dims</a><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><a href="#620108" title="Int">dims</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">IS_INSTANCE</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.TypeKind" id="620117">tpe</a><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">CHECK_CAST</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.TypeKind" id="620124">tpe</a><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">SWITCH</span><span class="delimiter">(</span><a title="List[List[Int]]" id="620132">tags</a>, <a title="List[CopyPropagation.this.global.icodes.BasicBlock]" id="620133">labels</a><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">JUMP</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.BasicBlock" id="620136">whereto</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">CJUMP</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.BasicBlock" id="620141">success</a>, <a title="CopyPropagation.this.global.icodes.BasicBlock" id="620142">failure</a>, <a title="CopyPropagation.this.global.icodes.TestOp" id="620143">cond</a>, <a title="CopyPropagation.this.global.icodes.TypeKind" id="620144">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(2)" class="int">2</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">CZJUMP</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.BasicBlock" id="620150">success</a>, <a title="CopyPropagation.this.global.icodes.BasicBlock" id="620151">failure</a>, <a title="CopyPropagation.this.global.icodes.TestOp" id="620152">cond</a>, <a title="CopyPropagation.this.global.icodes.TypeKind" id="620153">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">RETURN</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.TypeKind" id="620156">kind</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#620156" title="CopyPropagation.this.global.icodes.TypeKind">kind</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../TypeKinds.scala.html#501297" title="object CopyPropagation.this.global.icodes.UNIT">UNIT</a><span class="delimiter">)</span>
            <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">THROW</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">DROP</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.TypeKind" id="620165">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">DUP</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.TypeKind" id="620168">kind</a><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/IterableLike.scala.html#53870" title="=&gt; CopyPropagation.this.Value">head</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>

        <span class="keyword">case</span> <span title="Unit">MONITOR_ENTER</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>;

        <span class="keyword">case</span> <span title="Unit">MONITOR_EXIT</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">SCOPE_ENTER</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | SCOPE_EXIT<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Unit">LOAD_EXCEPTION</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Unknown.type)List[CopyPropagation.this.Unknown.type]">::</a> <a href="../../../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>

        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
          <a href="../ICodes.scala.html#501228" title="()Unit">dump</a>
          <a href="../../../symtab/SymbolTable.scala.html#478159" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unknown instruction: &quot;)" class="string">&quot;Unknown instruction: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#619631" title="CopyPropagation.this.global.icodes.Instruction">i</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#619685" title="CopyPropagation.this.copyLattice.State">out</a>
    <span class="delimiter">}</span> <span class="comment">/* def interpret */</span>

    <span class="comment">/** Remove all references to this local variable from both stack
     *  and bindings. It is called when a new assignment destroys
     *  previous copy-relations.
     */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: CopyPropagation.this.copyLattice.State, target: CopyPropagation.this.Location)Unit" id="619399">cleanReferencesTo</a><span class="delimiter">(</span><a title="CopyPropagation.this.copyLattice.State" id="619813">s</a>: copyLattice.<a href="#618933" title="CopyPropagation.this.copyLattice.State">State</a>, <a title="CopyPropagation.this.Location" id="619814">target</a>: <a href="#508994" title="CopyPropagation.this.Location">Location</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(r: CopyPropagation.this.Record)CopyPropagation.this.Record" id="620189">cleanRecord</a><span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="620190">r</a>: <a href="#618702" title="CopyPropagation.this.Record">Record</a><span class="delimiter">)</span>: <a href="#618702" title="CopyPropagation.this.Record">Record</a> = <span class="delimiter">{</span>
        <a href="#619393" title="(map: scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value])(p: (CopyPropagation.this.global.Symbol, CopyPropagation.this.Value) =&gt; Boolean)scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">retain</a><span class="delimiter">(</span><a href="#620190" title="CopyPropagation.this.Record">r</a>.<a href="#620081" title="=&gt; scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="620203">loc</a>, <a title="CopyPropagation.this.Value" id="620204">value</a><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#620204" title="CopyPropagation.this.Value">value</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean(false)">Deref</span><span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="620205">loc1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#620205" title="CopyPropagation.this.Location">loc1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#619814" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
            <span class="keyword">case</span> <span title="Boolean(false)">Boxed</span><span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="620210">loc1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#620210" title="CopyPropagation.this.Location">loc1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#619814" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span>  =&gt; <span title="Boolean(false)" class="keyword">false</span>
            <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#619814" title="CopyPropagation.this.Location">target</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean">Field</span><span class="delimiter">(</span><a href="#509018" title="object CopyPropagation.this.AllRecords">AllRecords</a>, <a title="CopyPropagation.this.global.Symbol" id="620215">sym1</a><span class="delimiter">)</span> =&gt; <a href="../../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#620203" title="CopyPropagation.this.global.Symbol">loc</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#620215" title="CopyPropagation.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#620190" title="CopyPropagation.this.Record">r</a>
      <span class="delimiter">}</span>

      <a href="#619813" title="CopyPropagation.this.copyLattice.State">s</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#619813" title="CopyPropagation.this.copyLattice.State">s</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <a href="../../../../../collection/TraversableLike.scala.html#49041" title="(f: CopyPropagation.this.Value =&gt; CopyPropagation.this.Value)(implicit bf: scala.collection.generic.CanBuildFrom[List[CopyPropagation.this.Value],CopyPropagation.this.Value,List[CopyPropagation.this.Value]])List[CopyPropagation.this.Value]">map</a> <span class="delimiter">{</span> <a title="CopyPropagation.this.Value" id="620239">v</a> =&gt; <a href="#620239" title="CopyPropagation.this.Value">v</a> <span title="CopyPropagation.this.Value" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="CopyPropagation.this.Record">Record</span><span class="delimiter">(</span>_, <a title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="620240">bindings</a><span class="delimiter">)</span> =&gt;
          <a href="#620189" title="(r: CopyPropagation.this.Record)CopyPropagation.this.Record">cleanRecord</a><span class="delimiter">(</span><a href="#620239" title="CopyPropagation.this.Value">v</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="CopyPropagation.this.Record" class="delimiter">[</span><a href="#618702" title="CopyPropagation.this.Record">Record</a><span class="delimiter">]</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="CopyPropagation.this.Unknown.type">Boxed</span><span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="620241">loc1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#620241" title="CopyPropagation.this.Location">loc1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#619814" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span> =&gt; <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a>
        <span class="keyword">case</span> <span title="CopyPropagation.this.Value">_</span> =&gt; <a href="#620239" title="CopyPropagation.this.Value">v</a>
      <span class="delimiter">}</span><span class="delimiter">}</span>

      <a href="#619393" title="(map: scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value])(p: (CopyPropagation.this.Location, CopyPropagation.this.Value) =&gt; Boolean)scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]">retain</a><span class="delimiter">(</span><a href="#619813" title="CopyPropagation.this.copyLattice.State">s</a>.<a href="#618960" title="=&gt; CopyPropagation.this.copyLattice.Bindings">bindings</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span> <span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="620285">loc</a>, <a title="CopyPropagation.this.Value" id="620286">value</a><span class="delimiter">)</span> =&gt;
        <span class="delimiter">(</span><a href="#620286" title="CopyPropagation.this.Value">value</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(false)">Deref</span><span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="620287">loc1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#620287" title="CopyPropagation.this.Location">loc1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#619814" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">case</span> <span title="Boolean(false)">Boxed</span><span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="620292">loc1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#620292" title="CopyPropagation.this.Location">loc1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#619814" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">case</span> <a title="Boolean" id="620297">rec</a> @ Record<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            <a href="#620189" title="(r: CopyPropagation.this.Record)CopyPropagation.this.Record">cleanRecord</a><span class="delimiter">(</span><a href="#620297" title="CopyPropagation.this.Record">rec</a><span class="delimiter">)</span>;
            <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">(</span><a href="#620285" title="CopyPropagation.this.Location">loc</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean(false)" id="620298">l</a>: <a href="#508994" title="CopyPropagation.this.Location">Location</a> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#620298" title="CopyPropagation.this.Location">l</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#619814" title="CopyPropagation.this.Location">target</a><span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Update the state &lt;code&gt;s&lt;/code&gt; after the call to &lt;code&gt;method&lt;/code&gt;.
     *  The stack elements are dropped and replaced by the result of the call.
     *  If the method is impure, all bindings to record fields are cleared.
     *
     *  @param state  ...
     *  @param method ...
     *  @param static ...
     *  @return       ...
     */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(state: CopyPropagation.this.copyLattice.State, method: CopyPropagation.this.global.Symbol, static: Boolean)CopyPropagation.this.copyLattice.State" id="619400">simulateCall</a><span class="delimiter">(</span><a title="CopyPropagation.this.copyLattice.State" id="619981">state</a>: copyLattice.<a href="#618933" title="CopyPropagation.this.copyLattice.State">State</a>, <a title="CopyPropagation.this.global.Symbol" id="619982">method</a>: <a href="../../../symtab/Symbols.scala.html#478659" title="CopyPropagation.this.global.Symbol">Symbol</a>, <a title="Boolean" id="619983">static</a>: <a href="../../../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: copyLattice.<a href="#618933" title="CopyPropagation.this.copyLattice.State">State</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="CopyPropagation.this.copyLattice.State" id="620303">out</a> = <span title="CopyPropagation.this.copyLattice.State" class="keyword">new</span> <a href="#509020" title="object CopyPropagation.this.copyLattice">copyLattice</a>.<a href="#618933" title="CopyPropagation.this.copyLattice.State">State</a><span class="delimiter">(</span><a href="#619981" title="CopyPropagation.this.copyLattice.State">state</a>.<a href="#618960" title="=&gt; CopyPropagation.this.copyLattice.Bindings">bindings</a>, <a href="#619981" title="CopyPropagation.this.copyLattice.State">state</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a><span class="delimiter">)</span>;
      <a href="#620303" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#620303" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><a href="#619982" title="CopyPropagation.this.global.Symbol">method</a>.<a href="../../../symtab/Symbols.scala.html#509272" title="=&gt; CopyPropagation.this.global.Type">info</a>.<a href="../../../symtab/Types.scala.html#507181" title="=&gt; List[CopyPropagation.this.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span class="delimiter">(</span><span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#619983" title="Boolean">static</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#619982" title="CopyPropagation.this.global.Symbol">method</a>.<a href="../../../symtab/Symbols.scala.html#509272" title="=&gt; CopyPropagation.this.global.Type">info</a>.<a href="../../../symtab/Types.scala.html#507173" title="=&gt; CopyPropagation.this.global.Type">resultType</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../symtab/Definitions.scala.html#479030" title="object CopyPropagation.this.global.definitions">definitions</a>.<a href="../../../symtab/Definitions.scala.html#508423" title="=&gt; CopyPropagation.this.global.Symbol">UnitClass</a>.<a href="../../../symtab/Symbols.scala.html#509270" title="=&gt; CopyPropagation.this.global.Type">tpe</a> <a href="../../../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#619982" title="CopyPropagation.this.global.Symbol">method</a>.<a href="../../../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
        <a href="#620303" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#618914" title="object CopyPropagation.this.Unknown">Unknown</a> <a href="../../../../../collection/immutable/List.scala.html#49140" title="(x: CopyPropagation.this.Value)List[CopyPropagation.this.Value]">::</a> <a href="#620303" title="CopyPropagation.this.copyLattice.State">out</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#619403" title="(m: CopyPropagation.this.global.Symbol)Boolean">isPureMethod</a><span class="delimiter">(</span><a href="#619982" title="CopyPropagation.this.global.Symbol">method</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#619401" title="(state: CopyPropagation.this.copyLattice.State)Unit">invalidateRecords</a><span class="delimiter">(</span><a href="#620303" title="CopyPropagation.this.copyLattice.State">out</a><span class="delimiter">)</span>;
      <a href="#620303" title="CopyPropagation.this.copyLattice.State">out</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Drop everything known about mutable record fields.
     *
     *  A simple escape analysis would help here. Some of the records we
     *  track never leak to other methods, therefore they can not be changed.
     *  We should not drop their bindings in this case. A closure object
     *  would be such an example. Some complications:
     *
     *   - outer pointers. An closure escapes as an outer pointer to another
     *     nested closure.
     */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(state: CopyPropagation.this.copyLattice.State)Unit" id="619401">invalidateRecords</a><span class="delimiter">(</span><a title="CopyPropagation.this.copyLattice.State" id="620332">state</a>: copyLattice.<a href="#618933" title="CopyPropagation.this.copyLattice.State">State</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: CopyPropagation.this.global.Symbol)Boolean" id="620334">shouldRetain</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="620335">sym</a>: <a href="../../../symtab/Symbols.scala.html#478659" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#620335" title="CopyPropagation.this.global.Symbol">sym</a>.<a href="../../../../../reflect/generic/HasFlags.scala.html#435300" title="=&gt; Boolean">isMutable</a><span class="delimiter">)</span>
          <a href="../../../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;dropping binding for &quot;)" class="string">&quot;dropping binding for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#620335" title="CopyPropagation.this.global.Symbol">sym</a>.<a href="../../../../../reflect/generic/Symbols.scala.html#435348" title="=&gt; String">fullName</a><span class="delimiter">)</span>
        <a href="../../../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#620335" title="CopyPropagation.this.global.Symbol">sym</a>.<a href="../../../../../reflect/generic/HasFlags.scala.html#435300" title="=&gt; Boolean">isMutable</a>
      <span class="delimiter">}</span>
      <a href="#620332" title="CopyPropagation.this.copyLattice.State">state</a>.<a href="#618961" title="(x$1: List[CopyPropagation.this.Value])Unit">stack</a> = <a href="#620332" title="CopyPropagation.this.copyLattice.State">state</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a> <a href="../../../../../collection/TraversableLike.scala.html#49041" title="(f: CopyPropagation.this.Value =&gt; CopyPropagation.this.Value)(implicit bf: scala.collection.generic.CanBuildFrom[List[CopyPropagation.this.Value],CopyPropagation.this.Value,List[CopyPropagation.this.Value]])List[CopyPropagation.this.Value]">map</a> <span class="delimiter">{</span> <a title="CopyPropagation.this.Value" id="620357">v</a> =&gt; <a href="#620357" title="CopyPropagation.this.Value">v</a> <span title="CopyPropagation.this.Value" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="CopyPropagation.this.Record">Record</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="620358">cls</a>, <a title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="620359">bindings</a><span class="delimiter">)</span> =&gt;
          <a href="#619393" title="(map: scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value])(p: (CopyPropagation.this.global.Symbol, CopyPropagation.this.Value) =&gt; Boolean)scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">retain</a><span class="delimiter">(</span><a href="#620359" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="620372">sym</a>, <a title="CopyPropagation.this.Value" id="620373">_</a><span class="delimiter">)</span> =&gt; <a href="#620334" title="(sym: CopyPropagation.this.global.Symbol)Boolean">shouldRetain</a><span class="delimiter">(</span><a href="#620372" title="CopyPropagation.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <a href="#618702" title="(cls: CopyPropagation.this.global.Symbol, bindings: scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value])CopyPropagation.this.Record">Record</a><span class="delimiter">(</span><a href="#620358" title="CopyPropagation.this.global.Symbol">cls</a>, <a href="#620359" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="CopyPropagation.this.Value">_</span> =&gt; <a href="#620357" title="CopyPropagation.this.Value">v</a>
      <span class="delimiter">}</span><span class="delimiter">}</span>

      <a href="#619393" title="(map: scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value])(p: (CopyPropagation.this.Location, CopyPropagation.this.Value) =&gt; Boolean)scala.collection.mutable.Map[CopyPropagation.this.Location,CopyPropagation.this.Value]">retain</a><span class="delimiter">(</span><a href="#620332" title="CopyPropagation.this.copyLattice.State">state</a>.<a href="#618960" title="=&gt; CopyPropagation.this.copyLattice.Bindings">bindings</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span> <span class="delimiter">(</span><a title="CopyPropagation.this.Location" id="620413">loc</a>, <a title="CopyPropagation.this.Value" id="620414">value</a><span class="delimiter">)</span> =&gt;
        <a href="#620414" title="CopyPropagation.this.Value">value</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">Deref</span><span class="delimiter">(</span>Field<span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="620415">rec</a>, <a title="CopyPropagation.this.global.Symbol" id="620416">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#620334" title="(sym: CopyPropagation.this.global.Symbol)Boolean">shouldRetain</a><span class="delimiter">(</span><a href="#620416" title="CopyPropagation.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">Boxed</span><span class="delimiter">(</span>Field<span class="delimiter">(</span><a title="CopyPropagation.this.Record" id="620417">rec</a>, <a title="CopyPropagation.this.global.Symbol" id="620418">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#620334" title="(sym: CopyPropagation.this.global.Symbol)Boolean">shouldRetain</a><span class="delimiter">(</span><a href="#620418" title="CopyPropagation.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Return bindings from an object fields to the values on the stack. This
     *  method has to find the correct mapping from fields to the order in which
     *  they are passed on the stack. It works for primary constructors.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(in: CopyPropagation.this.copyLattice.State, ctor: CopyPropagation.this.global.Symbol)scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="619402">getBindingsForPrimaryCtor</a><span class="delimiter">(</span><a title="CopyPropagation.this.copyLattice.State" id="620013">in</a>: copyLattice.<a href="#618933" title="CopyPropagation.this.copyLattice.State">State</a>, <a title="CopyPropagation.this.global.Symbol" id="620014">ctor</a>: <a href="../../../symtab/Symbols.scala.html#478659" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../../collection/mutable/Map.scala.html#14767" title="scala.collection.mutable.Map[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">Map</a><span class="delimiter">[</span>Symbol, Value<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[CopyPropagation.this.global.Symbol]" id="620419">paramAccessors</a> = <a href="#620014" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../symtab/Symbols.scala.html#509249" title="=&gt; CopyPropagation.this.global.Symbol">owner</a>.<a href="../../../symtab/Symbols.scala.html#509310" title="=&gt; List[CopyPropagation.this.global.Symbol]">constrParamAccessors</a>;
      <span class="keyword">var</span> <a title="List[CopyPropagation.this.Value]" id="620420">values</a> = <a href="#620013" title="CopyPropagation.this.copyLattice.State">in</a>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a>.<a href="../../../../../collection/immutable/List.scala.html#49163" title="(n: Int)List[CopyPropagation.this.Value]">take</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#620014" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../symtab/Symbols.scala.html#509272" title="=&gt; CopyPropagation.this.global.Type">info</a>.<a href="../../../symtab/Types.scala.html#507181" title="=&gt; List[CopyPropagation.this.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span>.<a href="../../../../../collection/immutable/List.scala.html#49171" title="=&gt; List[CopyPropagation.this.Value]">reverse</a>.<a href="../../../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[CopyPropagation.this.Value]">drop</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>;
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" id="620421">bindings</a> = <a href="../../../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]" class="keyword">new</a> <a href="../../../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">HashMap</a><span class="delimiter">[</span>Symbol, Value<span class="delimiter">]</span>;

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../../../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;getBindings for: &quot;)" class="string">&quot;getBindings for: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#620014" title="CopyPropagation.this.global.Symbol">ctor</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; acc: &quot;)" class="string">&quot; acc: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#620419" title="List[CopyPropagation.this.global.Symbol]">paramAccessors</a><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="List[CopyPropagation.this.global.Type]" id="620422">paramTypes</a> = <a href="#620014" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../symtab/Symbols.scala.html#509270" title="=&gt; CopyPropagation.this.global.Type">tpe</a>.<a href="../../../symtab/Types.scala.html#507181" title="=&gt; List[CopyPropagation.this.global.Type]">paramTypes</a>
      <span class="keyword">val</span> <a title="Int" id="620423">diff</a> = <a href="#620422" title="List[CopyPropagation.this.global.Type]">paramTypes</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#620419" title="List[CopyPropagation.this.global.Symbol]">paramAccessors</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a>
      <a href="#620423" title="Int">diff</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit" class="int">0</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit" class="int">1</span> <span class="keyword">if</span> <a href="#620014" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../symtab/Symbols.scala.html#509270" title="=&gt; CopyPropagation.this.global.Type">tpe</a>.<a href="../../../symtab/Types.scala.html#507181" title="=&gt; List[CopyPropagation.this.global.Type]">paramTypes</a>.<a href="../../../../../collection/IterableLike.scala.html#53870" title="=&gt; CopyPropagation.this.global.Type">head</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#620014" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../symtab/Symbols.scala.html#509249" title="=&gt; CopyPropagation.this.global.Symbol">owner</a>.<a href="../../../symtab/Symbols.scala.html#509092" title="=&gt; CopyPropagation.this.global.Symbol">rawowner</a>.<a href="../../../symtab/Symbols.scala.html#509270" title="=&gt; CopyPropagation.this.global.Type">tpe</a> =&gt;
          <span class="comment">// it's an unused outer</span>
          <a href="../../../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;considering unused outer at position 0 in &quot;)" class="string">&quot;considering unused outer at position 0 in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#620014" title="CopyPropagation.this.global.Symbol">ctor</a>.<a href="../../../symtab/Symbols.scala.html#509270" title="=&gt; CopyPropagation.this.global.Type">tpe</a>.<a href="../../../symtab/Types.scala.html#507181" title="=&gt; List[CopyPropagation.this.global.Type]">paramTypes</a><span class="delimiter">)</span>
          <a href="#620422" title="List[CopyPropagation.this.global.Type]">paramTypes</a> = <a href="#620422" title="List[CopyPropagation.this.global.Type]">paramTypes</a>.<a href="../../../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[CopyPropagation.this.global.Type]">tail</a>
          <a href="#620420" title="List[CopyPropagation.this.Value]">values</a> = <a href="#620420" title="List[CopyPropagation.this.Value]">values</a>.<a href="../../../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[CopyPropagation.this.Value]">tail</a>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
          <a href="../../../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;giving up on &quot;)" class="string">&quot;giving up on &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#620014" title="CopyPropagation.this.global.Symbol">ctor</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;(diff: &quot;)" class="string">&quot;(diff: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#620423" title="Int">diff</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#620421" title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a>
      <span class="delimiter">}</span>

      <span class="comment">// this relies on having the same order in paramAccessors and</span>
      <span class="comment">// the arguments on the stack. It should be the same!</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="620526">p</a>, <a title="Int" id="620527">i</a><span class="delimiter">)</span> &lt;- <a href="#620419" title="List[CopyPropagation.this.global.Symbol]">paramAccessors</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ((CopyPropagation.this.global.Symbol, Int)) =&gt; Unit)Unit">zipWithIndex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
<span class="comment">//        assert(p.tpe == paramTypes(i), &quot;In: &quot; + ctor.fullName</span>
<span class="comment">//               + &quot; having acc: &quot; + (paramAccessors map (_.tpe))+ &quot; vs. params&quot; + paramTypes</span>
<span class="comment">//               + &quot;\n\t failed at pos &quot; + i + &quot; with &quot; + p.tpe + &quot; == &quot; + paramTypes(i))</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#620526" title="CopyPropagation.this.global.Symbol">p</a>.<a href="../../../symtab/Symbols.scala.html#509270" title="=&gt; CopyPropagation.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)CopyPropagation.this.global.Type">paramTypes</a><span class="delimiter">(</span><a href="#620527" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#620421" title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a> <a href="../../../../../collection/mutable/HashMap.scala.html#73162" title="(kv: (CopyPropagation.this.global.Symbol, CopyPropagation.this.Value))bindings.type">+=</a> <span class="delimiter">(</span><a href="../../../../../Predef.scala.html#9589" title="(x: CopyPropagation.this.global.Symbol)ArrowAssoc[CopyPropagation.this.global.Symbol]">p</a> <a href="../../../../../Predef.scala.html#57653" title="(y: CopyPropagation.this.Value)(CopyPropagation.this.global.Symbol, CopyPropagation.this.Value)">-&gt;</a> <a href="#620420" title="List[CopyPropagation.this.Value]">values</a>.<a href="../../../../../collection/IterableLike.scala.html#53870" title="=&gt; CopyPropagation.this.Value">head</a><span class="delimiter">)</span>;
        <a href="#620420" title="List[CopyPropagation.this.Value]">values</a> = <a href="#620420" title="List[CopyPropagation.this.Value]">values</a>.<a href="../../../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[CopyPropagation.this.Value]">tail</a>;
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../../../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../../../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../../../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;\011&quot;)" class="string">&quot;\t&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#620421" title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a><span class="delimiter">)</span>
      <a href="#620421" title="scala.collection.mutable.HashMap[CopyPropagation.this.global.Symbol,CopyPropagation.this.Value]">bindings</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Is symbol &lt;code&gt;m&lt;/code&gt; a pure method?
     *
     *  @param m ...
     *  @return  ...
     */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(m: CopyPropagation.this.global.Symbol)Boolean" id="619403">isPureMethod</a><span class="delimiter">(</span><a title="CopyPropagation.this.global.Symbol" id="620330">m</a>: <a href="../../../symtab/Symbols.scala.html#478659" title="CopyPropagation.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
      <a href="#620330" title="CopyPropagation.this.global.Symbol">m</a>.<a href="../../../symtab/Symbols.scala.html#509171" title="=&gt; Boolean">isGetter</a> <span class="comment">// abstract getters are still pure, as we 'know'</span>

    <span class="keyword">final</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="619404">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="java.lang.String" id="620593">res</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="CopyPropagation.this.global.icodes.BasicBlock" id="620616">b</a> &lt;- <a href="#509022" title="CopyAnalysis.this.type" class="keyword">this</a>.<a href="#619387" title="=&gt; CopyPropagation.this.global.icodes.IMethod">method</a>.<a href="../Members.scala.html#594471" title="=&gt; CopyPropagation.this.global.icodes.Code">code</a>.<a href="../Members.scala.html#594544" title="=&gt; scala.collection.mutable.ListBuffer[CopyPropagation.this.global.icodes.BasicBlock]">blocks</a>.<a href="../../../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: CopyPropagation.this.global.icodes.BasicBlock =&gt; Unit)Unit">toList</a><span class="delimiter">)</span>
        <a href="#620593" title="java.lang.String">res</a> = <span class="delimiter">(</span><a href="#620593" title="java.lang.String">res</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012IN(&quot;)" class="string">&quot;\nIN(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#620616" title="CopyPropagation.this.global.icodes.BasicBlock">b</a>.<a href="../BasicBlocks.scala.html#594371" title="=&gt; Int">label</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;):\011 Bindings: &quot;)" class="string">&quot;):\t Bindings: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../../../../collection/MapLike.scala.html#73204" title="(key: CopyAnalysis.this.P)CopyAnalysis.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#620616" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<a href="#618960" title="=&gt; CopyAnalysis.this.lattice.Bindings">bindings</a> <span title="(x$1: Any)java.lang.String">+</span>
               <span title="java.lang.String(&quot;\012IN(&quot;)" class="string">&quot;\nIN(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#620616" title="CopyPropagation.this.global.icodes.BasicBlock">b</a>.<a href="../BasicBlocks.scala.html#594371" title="=&gt; Int">label</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;):\011 Stack: &quot;)" class="string">&quot;):\t Stack: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../../../../collection/MapLike.scala.html#73204" title="(key: CopyAnalysis.this.P)CopyAnalysis.this.lattice.Elem">in</a><span class="delimiter">(</span><a href="#620616" title="CopyPropagation.this.global.icodes.BasicBlock">b</a><span class="delimiter">)</span>.<a href="#618961" title="=&gt; List[CopyPropagation.this.Value]">stack</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>;
      <a href="#620593" title="java.lang.String">res</a>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span> <span class="comment">/* class CopyAnalysis */</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>