<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/matching/ParallelMatching.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * Copyright 2007 Google Inc. All Rights Reserved.
 * Author: bqe@google.com (Burak Emir)
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> matching

<span class="keyword">import</span> <a href="../../../PartialFunction.scala.html#336" title="object PartialFunction">PartialFunction</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> util.Position
<span class="keyword">import</span> transform.ExplicitOuter
<span class="keyword">import</span> symtab.Flags
<span class="keyword">import</span> mutable.ListBuffer
<span class="keyword">import</span> immutable.IntMap
<span class="keyword">import</span> annotation.elidable

<span class="keyword">trait</span> <a title="trait ParallelMatching extends java.lang.Object with scala.tools.nsc.ast.TreeDSL with scala.tools.nsc.matching.MatchSupport with scala.tools.nsc.matching.Matrix with scala.tools.nsc.matching.Patterns with scala.tools.nsc.matching.PatternBindings with ScalaObject" id="34645">ParallelMatching</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> ast.<a href="../ast/TreeDSL.scala.html#23679" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a>
      <span class="keyword">with</span> <a href="MatchSupport.scala.html#34705" title="scala.tools.nsc.matching.MatchSupport">MatchSupport</a>
      <span class="keyword">with</span> <a href="Matrix.scala.html#34609" title="scala.tools.nsc.matching.Matrix">Matrix</a>
      <span class="keyword">with</span> <a href="Patterns.scala.html#34198" title="scala.tools.nsc.matching.Patterns">Patterns</a>
      <span class="keyword">with</span> <a href="PatternBindings.scala.html#34327" title="scala.tools.nsc.matching.PatternBindings">PatternBindings</a>
<span class="delimiter">{</span>
  self: ExplicitOuter =&gt;

  <span class="keyword">import</span> <a href="../transform/TypingTransformers.scala.html#511838" title="=&gt; scala.tools.nsc.Global">global</a>.<span class="delimiter">{</span> typer =&gt; _, _ <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#479030" title="object ParallelMatching.this.global.definitions">definitions</a>.<span class="delimiter">{</span> AnyRefClass, NothingClass, IntClass, BooleanClass, SomeClass, getProductArgs, productProj <span class="delimiter">}</span>
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#507542" title="object ParallelMatching.this.CODE">CODE</a>._
  <span class="keyword">import</span> <a href="MatchSupport.scala.html#512284" title="object ParallelMatching.this.Types">Types</a>._
  <span class="keyword">import</span> <a href="MatchSupport.scala.html#512286" title="object ParallelMatching.this.Debug">Debug</a>._

  <span class="comment">/** Transition **/</span>
  <span class="keyword">def</span> <a title="(xs: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.Pattern]" id="512273">toPats</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="794406">xs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#794406" title="List[ParallelMatching.this.global.Tree]">xs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Tree],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">map</a> <a href="Patterns.scala.html#512253" title="object ParallelMatching.this.Pattern">Pattern</a>.<a href="Patterns.scala.html#797139" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern">apply</a>

  <span class="comment">/** The umbrella matrix class. **/</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class MatchMatrix extends java.lang.Object with ParallelMatching.this.MatchMatrixOptimizer with ParallelMatching.this.MatrixExhaustiveness with ScalaObject" id="512274">MatchMatrix</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="ParallelMatching.this.MatrixContext" id="793947">context</a>: <a href="Matrix.scala.html#512315" title="ParallelMatching.this.MatrixContext">MatrixContext</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="MatrixAdditions.scala.html#512303" title="ParallelMatching.this.MatchMatrixOptimizer">MatchMatrixOptimizer</a> <span class="keyword">with</span> <a href="MatrixAdditions.scala.html#512304" title="ParallelMatching.this.MatrixExhaustiveness">MatrixExhaustiveness</a> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#793947" title="=&gt; ParallelMatching.this.MatrixContext">context</a>._

    <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.MatrixContext#MatrixInit" id="793878">data</a>: MatrixContext#<a href="Matrix.scala.html#793754" title="ParallelMatching.this.MatrixContext#MatrixInit">MatrixInit</a>

    <span class="keyword">lazy</span> <span class="keyword">val</span> MatrixInit<a href="../../../Tuple3.scala.html#53296" title="(List[MatchMatrix.this.context.PatternVar], List[ParallelMatching.this.global.CaseDef], ParallelMatching.this.global.Tree)" id="793880" class="delimiter">(</a><a href="../../../Tuple3.scala.html#53312" title="List[MatchMatrix.this.context.PatternVar]" id="793882">roots</a>, <a href="../../../Tuple3.scala.html#53314" title="List[ParallelMatching.this.global.CaseDef]" id="793884">cases</a>, <a href="../../../Tuple3.scala.html#53316" title="ParallelMatching.this.global.Tree" id="793886">failTree</a><span class="delimiter">)</span> = <a href="#793878" title="=&gt; ParallelMatching.this.MatrixContext#MatrixInit">data</a>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[MatchMatrix.this.Row], List[Product with Serializable with MatchMatrix.this.State])" id="793888" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[MatchMatrix.this.Row]" id="793890">rows</a>, <a href="../../../Tuple2.scala.html#53404" title="List[Product with Serializable with MatchMatrix.this.State]" id="793892">targets</a><span class="delimiter">)</span>                    = <a href="#793929" title="(roots: List[MatchMatrix.this.context.PatternVar], cases: List[ParallelMatching.this.global.CaseDef])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]">expand</a><span class="delimiter">(</span><a href="#793881" title="=&gt; List[MatchMatrix.this.context.PatternVar]">roots</a>, <a href="#793883" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a><span class="delimiter">)</span>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53792" title="(implicit asPair: ((MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)) =&gt; (MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State))(List[MatchMatrix.this.Row], List[Product with Serializable with MatchMatrix.this.State])">unzip</a>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="793894">expansion</a>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a>                     = <a href="#793899" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="Matrix.scala.html#793757" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">roots</a>, <a href="#793889" title="=&gt; List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Int,ParallelMatching.this.global.Symbol]" id="793895">shortCuts</a> = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#56702" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (Int, ParallelMatching.this.global.Symbol)*)scala.collection.mutable.HashMap[Int,ParallelMatching.this.global.Symbol]" class="delimiter">[</span><a href="../../../Int.scala.html#386" title="Int">Int</a>, <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(theLabel: ParallelMatching.this.global.Symbol)Int" id="793897">createShortCut</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="797193">theLabel</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="797195">key</a> = <a href="#793895" title="=&gt; scala.collection.mutable.HashMap[Int,ParallelMatching.this.global.Symbol]">shortCuts</a>.<a href="../../../collection/mutable/HashMap.scala.html#73155" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>
      <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: Int, value: ParallelMatching.this.global.Symbol)Unit">shortCuts</a><span class="delimiter">(</span><a href="#797195" title="Int">key</a><span class="delimiter">)</span> = <a href="#797193" title="ParallelMatching.this.global.Symbol">theLabel</a>
      <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#797195" title="Int">key</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(namePrefix: String, body: ParallelMatching.this.global.Tree, params: List[ParallelMatching.this.global.Symbol], restpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.LabelDef" id="793898">createLabelDef</a><span class="delimiter">(</span><a title="String" id="794635">namePrefix</a>: <span title="String">String</span>, <a title="ParallelMatching.this.global.Tree" id="794636">body</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a>, <a title="List[ParallelMatching.this.global.Symbol]" id="794641">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a title="ParallelMatching.this.global.Type" id="794642">restpe</a>: <a href="../symtab/Types.scala.html#478720" title="ParallelMatching.this.global.Type">Type</a> = <a href="Matrix.scala.html#793743" title="=&gt; ParallelMatching.this.global.Type">matchResultType</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.TermName" id="794643">labelName</a> = <a href="Matrix.scala.html#793735" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#500956" title="(prefix: String)ParallelMatching.this.global.TermName">freshTermName</a><span class="delimiter">(</span><a href="#794635" title="String">namePrefix</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.MethodSymbol" id="794644">labelSym</a>  = <a href="Matrix.scala.html#793741" title="=&gt; ParallelMatching.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509132" title="(pos: ParallelMatching.this.global.Position, name: ParallelMatching.this.global.TermName)ParallelMatching.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="Matrix.scala.html#793741" title="=&gt; ParallelMatching.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; ParallelMatching.this.global.Position">pos</a>, <a href="#794643" title="ParallelMatching.this.global.TermName">labelName</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.MethodType" id="794645">labelInfo</a> = <a href="../symtab/Types.scala.html#546837" title="(params: List[ParallelMatching.this.global.Symbol], resultType: ParallelMatching.this.global.Type)ParallelMatching.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#794641" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#794642" title="ParallelMatching.this.global.Type">restpe</a><span class="delimiter">)</span>

      <a href="../ast/Trees.scala.html#479136" title="(sym: ParallelMatching.this.global.Symbol, params: List[ParallelMatching.this.global.Symbol], rhs: ParallelMatching.this.global.Tree)ParallelMatching.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#794644" title="ParallelMatching.this.global.MethodSymbol">labelSym</a> <a href="../symtab/Symbols.scala.html#509274" title="(info: ParallelMatching.this.global.Type)labelSym.type">setInfo</a> <a href="#794645" title="ParallelMatching.this.global.MethodType">labelInfo</a>, <a href="#794641" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#794636" title="ParallelMatching.this.global.Tree">body</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: ParallelMatching.this.global.Type)body.type">setType</a> <a href="#794642" title="ParallelMatching.this.global.Type">restpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** This is the recursively focal point for translating the current
     *  list of pattern variables and a list of pattern match rows into
     *  a tree suitable for entering erasure.
     *
     *  The first time it is called, the variables are (copies of) the
     *  original pattern matcher roots, and the rows correspond to the
     *  original casedefs.
     */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep" id="793899">make</a><span class="delimiter">(</span><a title="MatchMatrix.this.context.PatternVarGroup" id="797189">roots1</a>: <a href="Matrix.scala.html#793762" title="MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a>, <a title="List[MatchMatrix.this.Row]" id="797190">rows1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[MatchMatrix.this.Row]">List</a><span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a> = <span class="delimiter">{</span>
      <a href="MatchSupport.scala.html#792510" title="(cat: String, f: String, xs: Any*)Unit">traceCategory</a><span class="delimiter">(</span><span title="java.lang.String(&quot;New Match&quot;)" class="string">&quot;New Match&quot;</span>, <span title="java.lang.String(&quot;%sx%s (%s)&quot;)" class="string">&quot;%sx%s (%s)&quot;</span>, <a href="#797189" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>.<a href="Matrix.scala.html#794902" title="=&gt; Int">size</a>, <a href="#797190" title="List[MatchMatrix.this.Row]">rows1</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a>, <a href="#797189" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>.<a href="Matrix.scala.html#794897" title="=&gt; List[ParallelMatching.this.global.Symbol]">syms</a>.<a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(opat: ParallelMatching.this.Pattern, j: Int)ParallelMatching.this.Pattern" id="797204">classifyPat</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="797209">opat</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a>, <a title="Int" id="797210">j</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a> = <a href="#797209" title="ParallelMatching.this.Pattern">opat</a> <a href="Patterns.scala.html#796378" title="(pv: ParallelMatching.this.PatternVar)ParallelMatching.this.Pattern">simplify</a> <a href="Matrix.scala.html#794907" title="(i: Int)MatchMatrix.this.context.PatternVar">roots1</a><span class="delimiter">(</span><a href="#797210" title="Int">j</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="797205">newRows</a> = <a href="#797190" title="List[MatchMatrix.this.Row]">rows1</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: MatchMatrix.this.Row =&gt; scala.collection.GenTraversableOnce[MatchMatrix.this.Row])(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">flatMap</a> <span class="delimiter">(</span><a href="#797232" title="MatchMatrix.this.Row">_</a> <a href="#794389" title="(classifyPat: (ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern)List[MatchMatrix.this.Row]">expandAlternatives</a> <a href="#797204" title="(opat: ParallelMatching.this.Pattern, j: Int)ParallelMatching.this.Pattern">classifyPat</a><span class="delimiter">)</span>
      <span title="MatchMatrix.this.Rep" class="keyword">if</span> <span class="delimiter">(</span><a href="#797190" title="List[MatchMatrix.this.Row]">rows1</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="#797205" title="List[MatchMatrix.this.Row]">newRows</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="#793899" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#797189" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>, <a href="#797205" title="List[MatchMatrix.this.Row]">newRows</a><span class="delimiter">)</span>  <span class="comment">// recursive call if any change</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="797270">rep</a> = <a href="#796261" title="(tvars: MatchMatrix.this.context.PatternVarGroup, rows: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">Rep</a><span class="delimiter">(</span><a href="#797189" title="MatchMatrix.this.context.PatternVarGroup">roots1</a>, <a href="#797205" title="List[MatchMatrix.this.Row]">newRows</a><span class="delimiter">)</span>
        <span title="MatchMatrix.this.ExhaustivenessChecker" class="keyword">new</span> <a href="MatrixAdditions.scala.html#793939" title="MatchMatrix.this.ExhaustivenessChecker">ExhaustivenessChecker</a><span class="delimiter">(</span><a href="#797270" title="MatchMatrix.this.Rep">rep</a>, <a href="#793881" title="=&gt; List[MatchMatrix.this.context.PatternVar]">roots</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; MatchMatrix.this.context.PatternVar">head</a>.<a href="Matrix.scala.html#793807" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; ParallelMatching.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="MatrixAdditions.scala.html#796255" title="=&gt; MatchMatrix.this.Rep">check</a>
        <a href="#797270" title="MatchMatrix.this.Rep">rep</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="793900">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;MatchMatrix(%s) { %s }&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="Matrix.scala.html#793743" title="=&gt; ParallelMatching.this.global.Type">matchResultType</a>, <a href="MatchSupport.scala.html#792518" title="(s: Seq[Any])String">indentAll</a><span class="delimiter">(</span><a href="#793891" title="=&gt; List[Product with Serializable with MatchMatrix.this.State]">targets</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/**
     * Encapsulates a symbol being matched on.  It is created from a
     * PatternVar, which encapsulates the symbol's creation and assignment.
     *
     * We never match on trees directly - a temporary variable is created
     * (in a PatternVar) for any expression being matched on.
     */</span>
    <span class="keyword">class</span> <a title="class Scrutinee extends java.lang.Object with ScalaObject" id="793901">Scrutinee</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVar" id="797557">pv</a>: <a href="Matrix.scala.html#793763" title="MatchMatrix.this.context.PatternVar">PatternVar</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#479030" title="object ParallelMatching.this.global.definitions">definitions</a>._

      <span class="comment">// presenting a face of our symbol</span>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Symbol" id="797290">sym</a>   = <a href="#797557" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#793807" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="797291">tpe</a>   = <a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ParallelMatching.this.global.Type">tpe</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Position" id="797292">pos</a>   = <a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; ParallelMatching.this.global.Position">pos</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.gen.global.Tree" id="797293">id</a>    = <a href="../ast/TreeDSL.scala.html#515242" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)ParallelMatching.this.global.gen.global.Tree">setPos</a> <a href="#797292" title="=&gt; ParallelMatching.this.global.Position">pos</a>  <span class="comment">// attributed ident</span>

      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.Symbol]" id="797294">accessors</a>     = <span title="List[ParallelMatching.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#797302" title="=&gt; Boolean">isCaseClass</a><span class="delimiter">)</span> <a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509309" title="=&gt; List[ParallelMatching.this.global.Symbol]">caseFieldAccessors</a> <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.Type]" id="797295">accessorTypes</a> = <a href="#797294" title="=&gt; List[ParallelMatching.this.global.Symbol]">accessors</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Symbol],ParallelMatching.this.global.Type,List[ParallelMatching.this.global.Type]])List[ParallelMatching.this.global.Type]">map</a> <span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="797396">x</a> =&gt; <span class="delimiter">(</span><a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507207" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type">memberType</a> <a href="#797396" title="ParallelMatching.this.global.Symbol">x</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#507173" title="=&gt; ParallelMatching.this.global.Type">resultType</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVarGroup" id="797297">accessorPatternVars</a>  = <a href="Matrix.scala.html#794886" title="(xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a><span class="delimiter">(</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="797494">accessor</a>, <a title="ParallelMatching.this.global.Type" id="797495">tpe</a><span class="delimiter">)</span> &lt;- <a href="#797294" title="=&gt; List[ParallelMatching.this.global.Symbol]">accessors</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type)) =&gt; MatchMatrix.this.context.PatternVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Type)],MatchMatrix.this.context.PatternVar,List[MatchMatrix.this.context.PatternVar]])List[MatchMatrix.this.context.PatternVar]">zip</a> <a href="#797295" title="=&gt; List[ParallelMatching.this.global.Type]">accessorTypes</a><span class="delimiter">)</span> <span class="keyword">yield</span>
          <a href="#797311" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#797495" title="ParallelMatching.this.global.Type">tpe</a>, <a title="ParallelMatching.this.global.Symbol" id="797508">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#515197" title="(lhs: ParallelMatching.this.global.Tree, op: ParallelMatching.this.global.Symbol, args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">fn</a><span class="delimiter">(</span><a href="#797293" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>, <a href="#797494" title="ParallelMatching.this.global.Symbol">accessor</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]" id="797298">extraValDefs</a> = <span title="List[ParallelMatching.this.global.analyzer.global.ValDef]" class="keyword">if</span> <span class="delimiter">(</span><a href="#797557" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#793802" title="=&gt; ParallelMatching.this.global.Tree">rhs</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a> <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: ParallelMatching.this.global.analyzer.global.ValDef*)List[ParallelMatching.this.global.analyzer.global.ValDef]">List</a><span class="delimiter">(</span><a href="#797557" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#793811" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]" id="797299">allValDefs</a> = <a href="#797298" title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]">extraValDefs</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[ParallelMatching.this.global.analyzer.global.ValDef])List[ParallelMatching.this.global.analyzer.global.ValDef]">:::</a> <a href="#797296" title="=&gt; MatchMatrix.this.context.PatternVarGroup">accessorPatternVars</a>.<a href="Matrix.scala.html#794898" title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]">valDefs</a>

      <span class="comment">// tests</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="797300">isDefined</a>      = <a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#478667" title="object ParallelMatching.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="797301">isSubrangeType</a> = <a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: ParallelMatching.this.global.Symbol)Boolean">subrangeTypes</a><span class="delimiter">(</span><a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="797302">isCaseClass</a>    = <a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435296" title="=&gt; Boolean">isCase</a>

      <span class="comment">// sequences</span>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="797303">seqType</a>         = <a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; ParallelMatching.this.global.Type">widen</a> <a href="../symtab/Types.scala.html#507204" title="(clazz: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Type">baseType</a> <a href="../symtab/Definitions.scala.html#508082" title="=&gt; ParallelMatching.this.global.Symbol">SeqClass</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="797304">elemType</a>        = <a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)ParallelMatching.this.global.Type">typeArgs</a> <span title="Int(0)" class="int">0</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(i: Int)ParallelMatching.this.global.Apply" id="797305">elemAt</a><span class="delimiter">(</span><a title="Int" id="797618">i</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>  = <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#547472" title="(args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">DOT</a> <span class="delimiter">(</span><a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507200" title="(name: ParallelMatching.this.global.Name)ParallelMatching.this.global.Symbol">member</a> <a href="../symtab/StdNames.scala.html#479055" title="object ParallelMatching.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; ParallelMatching.this.global.nme.NameType">apply</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#547417" title="(x: Any)ParallelMatching.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#797618" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(i: Int)MatchMatrix.this.context.PatternVar" id="797306">createElemVar</a><span class="delimiter">(</span><a title="Int" id="797637">i</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>   = <a href="#797311" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#797304" title="=&gt; ParallelMatching.this.global.Type">elemType</a>, <a title="ParallelMatching.this.global.Symbol" id="797641">_</a> =&gt; <a href="#797305" title="(i: Int)ParallelMatching.this.global.Apply">elemAt</a><span class="delimiter">(</span><a href="#797637" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(drop: Int)MatchMatrix.this.context.PatternVar" id="797307">createSeqVar</a><span class="delimiter">(</span><a title="Int" id="797642">drop</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <a href="#797311" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#797303" title="=&gt; ParallelMatching.this.global.Type">seqType</a>, <a title="ParallelMatching.this.global.Symbol" id="797646">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#547508" title="(count: Int)ParallelMatching.this.global.Tree">DROP</a> <a href="#797642" title="Int">drop</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(count: Int)List[MatchMatrix.this.context.PatternVar]" id="797308">createSequenceVars</a><span class="delimiter">(</span><a title="Int" id="797651">count</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">[</span>PatternVar<span class="delimiter">]</span> =
        <span class="delimiter">(</span><a href="../../../LowPriorityImplicits.scala.html#9474" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../runtime/RichInt.scala.html#54713" title="(end: Int)scala.collection.immutable.Range.Inclusive">to</a> <a href="#797651" title="Int">count</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[Int]">toList</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Int =&gt; MatchMatrix.this.context.PatternVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],MatchMatrix.this.context.PatternVar,List[MatchMatrix.this.context.PatternVar]])List[MatchMatrix.this.context.PatternVar]">map</a> <span class="delimiter">(</span><a title="Int" id="797786">i</a> =&gt; <span title="MatchMatrix.this.context.PatternVar" class="keyword">if</span> <span class="delimiter">(</span><a href="#797786" title="Int">i</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#797651" title="Int">count</a><span class="delimiter">)</span> <a href="#797306" title="(i: Int)MatchMatrix.this.context.PatternVar">createElemVar</a><span class="delimiter">(</span><a href="#797786" title="Int">i</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#797307" title="(drop: Int)MatchMatrix.this.context.PatternVar">createSeqVar</a><span class="delimiter">(</span><a href="#797786" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">// for propagating &quot;unchecked&quot; to synthetic vars</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="797309">isChecked</a> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <a href="Matrix.scala.html#512312" title="=&gt; Long">NO_EXHAUSTIVE</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; List[Long]" id="797310">flags</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Long]">List</a><span class="delimiter">[</span>Long<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Long*)List[Long]">List</a><span class="delimiter">(</span><a href="Matrix.scala.html#512312" title="=&gt; Long">NO_EXHAUSTIVE</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Long =&gt; Boolean)List[Long]">filter</a> <span class="delimiter">(</span><a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <a href="#797832" title="Long">_</a><span class="delimiter">)</span>

      <span class="comment">// this is probably where this actually belongs</span>
      <span class="keyword">def</span> <a title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar" id="797311">createVar</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="797496">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="ParallelMatching.this.global.Type">Type</a>, <a title="ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree" id="797497">f</a>: Symbol =&gt; Tree<span class="delimiter">)</span> = <a href="#793947" title="=&gt; ParallelMatching.this.MatrixContext">context</a>.<a href="Matrix.scala.html#793766" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree, checked: Boolean)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#797496" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#797497" title="ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree">f</a>, <a href="#797309" title="=&gt; Boolean">isChecked</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(headType: ParallelMatching.this.global.Type)MatchMatrix.this.Scrutinee" id="797312">castedTo</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="797834">headType</a>: <a href="../symtab/Types.scala.html#478720" title="ParallelMatching.this.global.Type">Type</a><span class="delimiter">)</span> =
        <span title="MatchMatrix.this.Scrutinee" class="keyword">if</span> <span class="delimiter">(</span><a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507225" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#797834" title="ParallelMatching.this.global.Type">headType</a><span class="delimiter">)</span> <a href="#793901" title="MatchMatrix.this.Scrutinee" class="keyword">this</a>
        <span class="keyword">else</span> <span title="MatchMatrix.this.Scrutinee" class="keyword">new</span> <a href="#793901" title="MatchMatrix.this.Scrutinee">Scrutinee</a><span class="delimiter">(</span><a href="#797311" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#797834" title="ParallelMatching.this.global.Type">headType</a>, <a title="ParallelMatching.this.global.Symbol" id="797839">lhs</a> =&gt; <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#547510" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.gen.global.Tree">AS_ANY</a> <a href="#797839" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="797313">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;(%s: %s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#797293" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>, <a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(scrut: MatchMatrix.this.Scrutinee, ps: List[ParallelMatching.this.Pattern])Option[MatchMatrix.this.PatternSwitch]" id="793902">isPatternSwitch</a><span class="delimiter">(</span><a title="MatchMatrix.this.Scrutinee" id="797852">scrut</a>: <a href="#793901" title="MatchMatrix.this.Scrutinee">Scrutinee</a>, <a title="List[ParallelMatching.this.Pattern]" id="797853">ps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[MatchMatrix.this.PatternSwitch]">Option</a><span class="delimiter">[</span>PatternSwitch<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Boolean" id="797855">isSwitchableConst</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="797857">x</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="../../../PartialFunction.scala.html#65100" title="(x: ParallelMatching.this.Pattern)(pf: PartialFunction[ParallelMatching.this.Pattern,Boolean])Boolean">cond</a><span class="delimiter">(</span><a href="#797857" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span> <a href="#797866" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <a title="Boolean(true)" id="797867">x</a>: <a href="Patterns.scala.html#512209" title="ParallelMatching.this.LiteralPattern">LiteralPattern</a> <span class="keyword">if</span> <a href="#797867" title="ParallelMatching.this.LiteralPattern">x</a>.<a href="Patterns.scala.html#797878" title="=&gt; Boolean">isSwitchable</a> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Boolean" id="797856">isSwitchableDefault</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="797905">x</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="#797855" title="(x: ParallelMatching.this.Pattern)Boolean">isSwitchableConst</a><span class="delimiter">(</span><a href="#797905" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#797905" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#796380" title="=&gt; Boolean">isDefault</a>

      <span class="comment">// TODO - scala&gt; (5: Any) match { case 5 =&gt; 5 ; case 6 =&gt; 7 }</span>
      <span class="comment">// ... should compile to a switch.  It doesn't because the scrut isn't Int/Char, but</span>
      <span class="comment">// that could be handle in an if/else since every pattern requires an Int.</span>
      <span class="comment">// More immediately, Byte and Short scruts should also work.</span>
      <span title="Option[MatchMatrix.this.PatternSwitch]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#797852" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797301" title="=&gt; Boolean">isSubrangeType</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#1737" title="object None">None</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[ParallelMatching.this.Pattern]" id="797940">_lits</a>, <a href="../../../Tuple2.scala.html#53404" title="List[ParallelMatching.this.Pattern]" id="797941">others</a><span class="delimiter">)</span> = <a href="#797853" title="List[ParallelMatching.this.Pattern]">ps</a> <a href="../../../collection/immutable/List.scala.html#49170" title="(p: ParallelMatching.this.Pattern =&gt; Boolean)(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])">span</a> <a href="#797855" title="(x: ParallelMatching.this.Pattern)Boolean">isSwitchableConst</a>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.LiteralPattern]" id="797942">lits</a> = <a href="#797940" title="List[ParallelMatching.this.Pattern]">_lits</a> <a href="../../../collection/TraversableLike.scala.html#49053" title="(pf: PartialFunction[ParallelMatching.this.Pattern,ParallelMatching.this.LiteralPattern])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.LiteralPattern,List[ParallelMatching.this.LiteralPattern]])List[ParallelMatching.this.LiteralPattern]">collect</a> <a href="#797973" title="ParallelMatching.this.LiteralPattern" class="delimiter">{</a> <span class="keyword">case</span> <a title="ParallelMatching.this.LiteralPattern" id="797974">x</a>: <a href="Patterns.scala.html#512209" title="ParallelMatching.this.LiteralPattern">LiteralPattern</a> =&gt; <a href="#797974" title="ParallelMatching.this.LiteralPattern">x</a> <span class="delimiter">}</span>

        <a href="../../../PartialFunction.scala.html#65103" title="(x: List[ParallelMatching.this.Pattern])(pf: PartialFunction[List[ParallelMatching.this.Pattern],MatchMatrix.this.PatternSwitch])Option[MatchMatrix.this.PatternSwitch]">condOpt</a><span class="delimiter">(</span><a href="#797941" title="List[ParallelMatching.this.Pattern]">others</a><span class="delimiter">)</span> <a href="#798015" title="MatchMatrix.this.PatternSwitch" class="delimiter">{</a>
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="MatchMatrix.this.PatternSwitch">Nil</a>                                =&gt; <span title="MatchMatrix.this.PatternSwitch" class="keyword">new</span> <a href="#793903" title="MatchMatrix.this.PatternSwitch">PatternSwitch</a><span class="delimiter">(</span><a href="#797852" title="MatchMatrix.this.Scrutinee">scrut</a>, <a href="#797942" title="List[ParallelMatching.this.LiteralPattern]">lits</a>, <a href="../../../Option.scala.html#1737" title="object None">None</a><span class="delimiter">)</span>
          <span class="comment">// TODO: This needs to also allow the case that the last is a compatible type pattern.</span>
          <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="MatchMatrix.this.PatternSwitch">List</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="798031">x</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#797856" title="(x: ParallelMatching.this.Pattern)Boolean">isSwitchableDefault</a><span class="delimiter">(</span><a href="#798031" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span>  =&gt; <span title="MatchMatrix.this.PatternSwitch" class="keyword">new</span> <a href="#793903" title="MatchMatrix.this.PatternSwitch">PatternSwitch</a><span class="delimiter">(</span><a href="#797852" title="MatchMatrix.this.Scrutinee">scrut</a>, <a href="#797942" title="List[ParallelMatching.this.LiteralPattern]">lits</a>, <a href="../../../Option.scala.html#57885" title="(x: ParallelMatching.this.Pattern)Some[ParallelMatching.this.Pattern]">Some</a><span class="delimiter">(</span><a href="#798031" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class PatternSwitch extends MatchMatrix.this.PatternMatch with ScalaObject" id="793903">PatternSwitch</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a>
      <a title="MatchMatrix.this.Scrutinee" id="798016">scrut</a>: <a href="#793901" title="MatchMatrix.this.Scrutinee">Scrutinee</a>,
      <span class="keyword">override</span> <span class="keyword">val</span> <a title="List[ParallelMatching.this.LiteralPattern]" id="798017">ps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.LiteralPattern]">List</a><span class="delimiter">[</span>LiteralPattern<span class="delimiter">]</span>,
      <span class="keyword">val</span> <a title="Option[ParallelMatching.this.Pattern]" id="798018">defaultPattern</a>: <a href="../../../Option.scala.html#560" title="Option[ParallelMatching.this.Pattern]">Option</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span>
    <span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#798489" title="MatchMatrix.this.PatternMatch">PatternMatch</a><span class="delimiter">(</span><a href="#798016" title="MatchMatrix.this.Scrutinee">scrut</a>, <a href="#798017" title="List[ParallelMatching.this.LiteralPattern]">ps</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#9569" title="(requirement: Boolean)Unit">require</a><span class="delimiter">(</span><a href="#798016" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797301" title="=&gt; Boolean">isSubrangeType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#798017" title="=&gt; List[ParallelMatching.this.LiteralPattern]">ps</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: ParallelMatching.this.LiteralPattern =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#798051" title="ParallelMatching.this.LiteralPattern">_</a>.<a href="Patterns.scala.html#797878" title="=&gt; Boolean">isSwitchable</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class PatternMatch extends java.lang.Object with ScalaObject with Product with Serializable" id="798489">PatternMatch</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="MatchMatrix.this.Scrutinee" id="802949">scrut</a>: <a href="#793901" title="MatchMatrix.this.Scrutinee">Scrutinee</a>, <a title="List[ParallelMatching.this.Pattern]" id="802950">ps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.Pattern" id="797913">head</a> = <a href="#802950" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; ParallelMatching.this.Pattern">head</a>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="797914">tail</a> = <a href="#802950" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[ParallelMatching.this.Pattern]">tail</a>
      <span class="keyword">def</span> <a title="=&gt; Int" id="797915">size</a> = <a href="#802950" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a>

      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="797916">headType</a> = <a href="#797913" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#796381" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a>
      <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="797917">dummyCount</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#797913" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#796388" title="=&gt; Boolean">isCaseClass</a><span class="delimiter">)</span> <a href="#797916" title="=&gt; ParallelMatching.this.global.Type">headType</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509309" title="=&gt; List[ParallelMatching.this.global.Symbol]">caseFieldAccessors</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <span class="keyword">else</span> <span title="Int(0)" class="int">0</span>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="797919">dummies</a> = <a href="Patterns.scala.html#512195" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><a href="#797917" title="=&gt; Int">dummyCount</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(i: Int)ParallelMatching.this.Pattern" id="797920">apply</a><span class="delimiter">(</span><a title="Int" id="798081">i</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a> = <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)ParallelMatching.this.Pattern">ps</a><span class="delimiter">(</span><a href="#798081" title="Int">i</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="()List[(ParallelMatching.this.Pattern, Int)]" id="797921">pzip</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#802950" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53915" title="(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],(ParallelMatching.this.Pattern, Int),List[(ParallelMatching.this.Pattern, Int)]])List[(ParallelMatching.this.Pattern, Int)]">zipWithIndex</a>
      <span class="keyword">def</span> <a title="[T](others: List[T])List[(ParallelMatching.this.Pattern, T)]" id="797922">pzip</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="797924">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="798130">others</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[T]">List</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#802950" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#798130" title="List[T]">others</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a>, <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Internal error: ps = %s, others = %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#802950" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a>, <a href="#798130" title="List[T]">others</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#802950" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a> <a href="../../../collection/IterableLike.scala.html#53887" title="(that: scala.collection.GenIterable[T])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],(ParallelMatching.this.Pattern, T),List[(ParallelMatching.this.Pattern, T)]])List[(ParallelMatching.this.Pattern, T)]">zip</a> <a href="#798130" title="List[T]">others</a>
      <span class="delimiter">}</span>

      <span class="comment">// Any unapply - returns Some(true) if a type test is needed before the unapply can</span>
      <span class="comment">// be called (e.g. def unapply(x: Foo) = { ... } but our scrutinee is type Any.)</span>
      <span class="keyword">object</span> <a title="object PatternMatch.this.AnyUnapply" id="797925">AnyUnapply</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Option[Boolean]" id="798198">unapply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="798200">x</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[Boolean]">Option</a><span class="delimiter">[</span>Boolean<span class="delimiter">]</span> = <a href="../../../PartialFunction.scala.html#65103" title="(x: ParallelMatching.this.global.Tree)(pf: PartialFunction[ParallelMatching.this.global.Tree,Boolean])Option[Boolean]">condOpt</a><span class="delimiter">(</span><a href="#798200" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#796377" title="=&gt; ParallelMatching.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#798211" title="Boolean" class="delimiter">{</a>
          <span class="keyword">case</span> <a href="Patterns.scala.html#798213" title="Boolean">UnapplyParamType</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="798219">tpe</a><span class="delimiter">)</span> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#802949" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#798219" title="ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(rest: MatchMatrix.this.Rep)MatchMatrix.this.RuleApplication" id="797927">mkRule</a><span class="delimiter">(</span><a title="MatchMatrix.this.Rep" id="798222">rest</a>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span>: <a href="#793907" title="MatchMatrix.this.RuleApplication">RuleApplication</a> = <span class="delimiter">{</span>
        <a href="MatchSupport.scala.html#792511" title="(s: String)(x: MatchMatrix.this.RuleApplication)MatchMatrix.this.RuleApplication">tracing</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Rule&quot;)" class="string">&quot;Rule&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#797913" title="=&gt; ParallelMatching.this.Pattern">head</a> <span title="MatchMatrix.this.RuleApplication" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="MatchMatrix.this.MixEquals" id="798248">x</a> <span class="keyword">if</span> <a href="PatternBindings.scala.html#512324" title="(tpe: ParallelMatching.this.global.Type)Boolean">isEquals</a><span class="delimiter">(</span><a href="#798248" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#796377" title="=&gt; ParallelMatching.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>        =&gt; <span title="MatchMatrix.this.MixEquals" class="keyword">new</span> <a href="#793914" title="MatchMatrix.this.MixEquals">MixEquals</a><span class="delimiter">(</span><a href="#798489" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#798222" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="MatchMatrix.this.MixSequence" id="798290">x</a>: <a href="Patterns.scala.html#512240" title="ParallelMatching.this.SequencePattern">SequencePattern</a>               =&gt; <span title="MatchMatrix.this.MixSequence" class="keyword">new</span> <a href="#793913" title="MatchMatrix.this.MixSequence">MixSequence</a><span class="delimiter">(</span><a href="#798489" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#798222" title="MatchMatrix.this.Rep">rest</a>, <a href="#798290" title="ParallelMatching.this.SequencePattern">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="#798198" title="MatchMatrix.this.MixUnapply">AnyUnapply</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>                =&gt; <span title="MatchMatrix.this.MixUnapply" class="keyword">new</span> <a href="#793912" title="MatchMatrix.this.MixUnapply">MixUnapply</a><span class="delimiter">(</span><a href="#798489" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#798222" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="MatchMatrix.this.RuleApplication">_</span> =&gt;
            <a href="#793902" title="(scrut: MatchMatrix.this.Scrutinee, ps: List[ParallelMatching.this.Pattern])Option[MatchMatrix.this.PatternSwitch]">isPatternSwitch</a><span class="delimiter">(</span><a href="#802949" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#802950" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span> <span title="MatchMatrix.this.RuleApplication" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="MatchMatrix.this.MixLiteralInts">Some</span><span class="delimiter">(</span><a title="MatchMatrix.this.PatternSwitch" id="798377">x</a><span class="delimiter">)</span>  =&gt; <span title="MatchMatrix.this.MixLiteralInts" class="keyword">new</span> <a href="#793911" title="MatchMatrix.this.MixLiteralInts">MixLiteralInts</a><span class="delimiter">(</span><a href="#798377" title="MatchMatrix.this.PatternSwitch">x</a>, <a href="#798222" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="MatchMatrix.this.MixTypes">_</span>        =&gt; <span title="MatchMatrix.this.MixTypes" class="keyword">new</span> <a href="#793915" title="MatchMatrix.this.MixTypes">MixTypes</a><span class="delimiter">(</span><a href="#798489" title="MatchMatrix.this.PatternMatch" class="keyword">this</a>, <a href="#798222" title="MatchMatrix.this.Rep">rest</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="797928">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s match {%s}&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#802949" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="MatchSupport.scala.html#792518" title="(s: Seq[Any])String">indentAll</a><span class="delimiter">(</span><a href="#802950" title="=&gt; List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="comment">// PatternMatch</span>

    <span class="comment">/***** Rule Applications *****/</span>

    <span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RuleApplication extends java.lang.Object with ScalaObject" id="793907">RuleApplication</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.PatternMatch" id="798225">pmatch</a>: <a href="#798489" title="MatchMatrix.this.PatternMatch">PatternMatch</a>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.Rep" id="798226">rest</a>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="798227">cond</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="798228">success</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="798229">failure</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a>

      <span class="keyword">lazy</span> <span class="keyword">val</span> PatternMatch<a href="../../../Tuple2.scala.html#53390" title="(MatchMatrix.this.Scrutinee, List[ParallelMatching.this.Pattern])" id="798231" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="MatchMatrix.this.Scrutinee" id="798233">scrut</a>, <a href="../../../Tuple2.scala.html#53404" title="List[ParallelMatching.this.Pattern]" id="798235">patterns</a><span class="delimiter">)</span> = <a href="#798225" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.Pattern" id="798237">head</a> = <a href="#798225" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#797913" title="=&gt; ParallelMatching.this.Pattern">head</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798239">codegen</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> = <a href="../ast/TreeDSL.scala.html#515236" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.IfStart">IF</a> <span class="delimiter">(</span><a href="#798227" title="=&gt; ParallelMatching.this.global.Tree">cond</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#547456" title="(x: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.IfStart">THEN</a> <span class="delimiter">(</span><a href="#798228" title="=&gt; ParallelMatching.this.global.Tree">success</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#547457" title="(elsep: ParallelMatching.this.global.Tree)ParallelMatching.this.global.If">ELSE</a> <span class="delimiter">(</span><a href="#798229" title="=&gt; ParallelMatching.this.global.Tree">failure</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(xs: List[MatchMatrix.this.Row])ParallelMatching.this.global.Tree" id="798240">mkFail</a><span class="delimiter">(</span><a title="List[MatchMatrix.this.Row]" id="798554">xs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[MatchMatrix.this.Row]">List</a><span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#798554" title="List[MatchMatrix.this.Row]">xs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#793885" title="=&gt; ParallelMatching.this.global.Tree">failTree</a>
        <span class="keyword">else</span> <a href="#798241" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#798554" title="List[MatchMatrix.this.Row]">xs</a><span class="delimiter">)</span>.<a href="#793990" title="()ParallelMatching.this.global.Tree">toTree</a>

      <span class="keyword">def</span> <a title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep" id="798241">remake</a><span class="delimiter">(</span>
        <a title="List[MatchMatrix.this.Row]" id="798556">rows</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[MatchMatrix.this.Row]">List</a><span class="delimiter">[</span>Row<span class="delimiter">]</span>,
        <a title="MatchMatrix.this.context.PatternVarGroup" id="798560">pvgroup</a>: <a href="Matrix.scala.html#793762" title="MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a> = <a href="Matrix.scala.html#793760" title="=&gt; MatchMatrix.this.context.PatternVarGroup">emptyPatternVarGroup</a>,
        <a title="Boolean" id="798561">includeScrut</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a> =
      <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[MatchMatrix.this.context.PatternVar]" id="798566">scrutpvs</a> = <span title="List[MatchMatrix.this.context.PatternVar]" class="keyword">if</span> <span class="delimiter">(</span><a href="#798561" title="Boolean">includeScrut</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">(</span><a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797557" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
        <a href="#793899" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#798560" title="MatchMatrix.this.context.PatternVarGroup">pvgroup</a>.<a href="Matrix.scala.html#794894" title="=&gt; List[MatchMatrix.this.context.PatternVar]">pvs</a> <a href="Matrix.scala.html#794905" title="(ts: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">:::</a> <a href="#798566" title="List[MatchMatrix.this.context.PatternVar]">scrutpvs</a> <a href="Matrix.scala.html#794905" title="(ts: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">:::</a> <a href="#798226" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#797271" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>, <a href="#798556" title="List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** translate outcome of the rule application into code (possible involving recursive application of rewriting) */</span>
      <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="798242">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="798243">toString</a> =
        <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Rule/%s (%s =^= %s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#793907" title="()java.lang.Class[_]">getClass</a>.<span title="()java.lang.String">getSimpleName</span>, <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#798236" title="=&gt; ParallelMatching.this.Pattern">head</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** {case ... if guard =&gt; bx} else {guardedRest} */</span>
    <span class="comment">/** VariableRule: The top-most rows has only variable (non-constructor) patterns. */</span>
    case <span class="keyword">class</span> <a title="class VariableRule extends MatchMatrix.this.RuleApplication with ScalaObject with Product with Serializable" id="798802">VariableRule</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="ParallelMatching.this.Bindings" id="803098">subst</a>: <a href="PatternBindings.scala.html#512339" title="ParallelMatching.this.Bindings">Bindings</a>, <a title="ParallelMatching.this.global.Tree" id="803099">guard</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a>, <a title="MatchMatrix.this.Rep" id="803100">guardedRest</a>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a>, <a title="Int" id="803101">bx</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#793907" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.PatternMatch" id="798600">pmatch</a>: <a href="#798489" title="MatchMatrix.this.PatternMatch">PatternMatch</a> = <a href="MatchSupport.scala.html#512280" title="=&gt; Nothing">impossible</a>
      <span class="keyword">def</span> <a title="=&gt; MatchMatrix.this.Rep" id="798601">rest</a>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a> = <a href="#803100" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" id="798603" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[ParallelMatching.this.global.ValDef]" id="798605">valDefs</a>, <a href="../../../Tuple2.scala.html#53404" title="ParallelMatching.this.global.Tree" id="798607">successTree</a><span class="delimiter">)</span> = <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)Product with Serializable with MatchMatrix.this.State">targets</a><span class="delimiter">(</span><a href="#803101" title="=&gt; Int">bx</a><span class="delimiter">)</span> <a href="#794418" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)">applyBindings</a> <a href="#803098" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#798627" title="=&gt; scala.collection.immutable.Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">toMap</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798609">cond</a>    = <a href="#803099" title="=&gt; ParallelMatching.this.global.Tree">guard</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798611">success</a> = <a href="#798606" title="=&gt; ParallelMatching.this.global.Tree">successTree</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798613">failure</a> = <a href="#803100" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>.<a href="#793990" title="()ParallelMatching.this.global.Tree">toTree</a>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="798614">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#803101" title="=&gt; Int">bx</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#515243" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#73204" title="(key: Int)ParallelMatching.this.global.Symbol">shortCuts</a><span class="delimiter">(</span><a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#803101" title="=&gt; Int">bx</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="MatrixAdditions.scala.html#793728" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span>
          <a href="#798604" title="=&gt; List[ParallelMatching.this.global.ValDef]">valDefs</a>,
          <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#798608" title="=&gt; ParallelMatching.this.global.Tree">cond</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#798610" title="=&gt; ParallelMatching.this.global.Tree">success</a> <span class="keyword">else</span> <a href="#798238" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
        <span class="delimiter">)</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="798615">toString</a> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;(case %d) {\n  Bindings: %s\n\n  if (%s) { %s }\n  else { %s }\n}&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#803101" title="=&gt; Int">bx</a>, <a href="#803098" title="=&gt; ParallelMatching.this.Bindings">subst</a>, <a href="#803099" title="=&gt; ParallelMatching.this.global.Tree">guard</a>, <a href="#798610" title="=&gt; ParallelMatching.this.global.Tree">success</a>, <a href="#803100" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class MixLiteralInts extends MatchMatrix.this.RuleApplication with ScalaObject" id="793911">MixLiteralInts</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternSwitch" id="798419">pmatch</a>: <a href="#793903" title="MatchMatrix.this.PatternSwitch">PatternSwitch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="798420">rest</a>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#793907" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[ParallelMatching.this.LiteralPattern]" id="798385">literals</a> = <a href="#798419" title="=&gt; MatchMatrix.this.PatternSwitch">pmatch</a>.<a href="#798017" title="=&gt; List[ParallelMatching.this.LiteralPattern]">ps</a>
      <span class="keyword">val</span> <a title="Option[ParallelMatching.this.Pattern]" id="798387">defaultPattern</a> = <a href="#798419" title="=&gt; MatchMatrix.this.PatternSwitch">pmatch</a>.<a href="#798018" title="=&gt; Option[ParallelMatching.this.Pattern]">defaultPattern</a>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798390">casted</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="MatchSupport.scala.html#792464" title="implicit scala.tools.nsc.matching.MatchSupport.Types.enrichType : (x: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#792482" title="=&gt; Boolean">isInt</a><span class="delimiter">)</span> <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#515251" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: ParallelMatching.this.CODE.SelectStart)ParallelMatching.this.global.Select">DOT</a> <a href="../symtab/StdNames.scala.html#479055" title="object ParallelMatching.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516752" title="=&gt; ParallelMatching.this.global.nme.NameType">toInt</a> <span class="keyword">else</span> <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797293" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>

      <span class="comment">// creates a row transformer for injecting the default case bindings at a given index</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(index: Int)MatchMatrix.this.Row =&gt; MatchMatrix.this.Row" id="798391">addDefaultVars</a><span class="delimiter">(</span><a title="Int" id="799313">index</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: Row =&gt; Row =
        <span title="MatchMatrix.this.Row =&gt; MatchMatrix.this.Row" class="keyword">if</span> <span class="delimiter">(</span><a href="#798396" title="=&gt; List[ParallelMatching.this.global.Symbol]">defaultVars</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9550" title="(x: MatchMatrix.this.Row)MatchMatrix.this.Row">identity</a>
        <span class="keyword">else</span> <a href="#798392" title="(r: MatchMatrix.this.Row, vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">rebindAll</a><span class="delimiter">(</span><a href="#799526" title="MatchMatrix.this.Row">_</a>, <a href="#797920" title="(i: Int)ParallelMatching.this.Pattern">pmatch</a><span class="delimiter">(</span><a href="#799313" title="Int">index</a><span class="delimiter">)</span>.<a href="PatternBindings.scala.html#796367" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="comment">// add bindings for all the given vs to the given tvar</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(r: MatchMatrix.this.Row, vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row" id="798392">rebindAll</a><span class="delimiter">(</span><a title="MatchMatrix.this.Row" id="798890">r</a>: <a href="#794367" title="MatchMatrix.this.Row">Row</a>, <a title="Iterable[ParallelMatching.this.global.Symbol]" id="798891">vs</a>: <a href="../../../collection/Iterable.scala.html#8279" title="Iterable[ParallelMatching.this.global.Symbol]">Iterable</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Symbol" id="798892">tvar</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#798890" title="MatchMatrix.this.Row">r</a> <a href="#794387" title="(b: ParallelMatching.this.Bindings)MatchMatrix.this.Row">rebind</a> <a href="#798890" title="MatchMatrix.this.Row">r</a>.<a href="#794394" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#798628" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#798891" title="Iterable[ParallelMatching.this.global.Symbol]">vs</a>, <a href="#798892" title="ParallelMatching.this.global.Symbol">tvar</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(Tag: Int, orig: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings" id="798393">bindVars</a><span class="delimiter">(</span><a title="Int" id="799423">Tag</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="ParallelMatching.this.Bindings" id="799424">orig</a>: <a href="PatternBindings.scala.html#512339" title="ParallelMatching.this.Bindings">Bindings</a><span class="delimiter">)</span>: <a href="PatternBindings.scala.html#512339" title="ParallelMatching.this.Bindings">Bindings</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings" id="799527">myBindVars</a><span class="delimiter">(</span><a title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="799528">rest</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[(Int, List[ParallelMatching.this.global.Symbol])]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>Int, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>, <a title="ParallelMatching.this.Bindings" id="799529">bnd</a>: <a href="PatternBindings.scala.html#512339" title="ParallelMatching.this.Bindings">Bindings</a><span class="delimiter">)</span>: <a href="PatternBindings.scala.html#512339" title="ParallelMatching.this.Bindings">Bindings</a> = <a href="#799528" title="List[(Int, List[ParallelMatching.this.global.Symbol])]">rest</a> <span title="ParallelMatching.this.Bindings" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="ParallelMatching.this.Bindings">Nil</a> =&gt; <a href="#799529" title="ParallelMatching.this.Bindings">bnd</a>
          <span class="keyword">case</span> <span title="ParallelMatching.this.Bindings" class="delimiter">(</span><a href="#799423" title="Int">Tag</a>,<a title="List[ParallelMatching.this.global.Symbol]" id="799536">vs</a><span class="delimiter">)</span>::<a title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="799537">xs</a> =&gt; <a href="#799527" title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">myBindVars</a><span class="delimiter">(</span><a href="#799537" title="List[(Int, List[ParallelMatching.this.global.Symbol])]">xs</a>, <a href="#799529" title="ParallelMatching.this.Bindings">bnd</a>.<a href="PatternBindings.scala.html#798628" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#799536" title="List[ParallelMatching.this.global.Symbol]">vs</a>, <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.Bindings" class="delimiter">(</span>_,  <a title="List[ParallelMatching.this.global.Symbol]" id="799546">vs</a><span class="delimiter">)</span>::<a title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="799547">xs</a> =&gt; <a href="#799527" title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">myBindVars</a><span class="delimiter">(</span><a href="#799547" title="List[(Int, List[ParallelMatching.this.global.Symbol])]">xs</a>, <a href="#799529" title="ParallelMatching.this.Bindings">bnd</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#799527" title="(rest: List[(Int, List[ParallelMatching.this.global.Symbol])], bnd: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">myBindVars</a><span class="delimiter">(</span><a href="#798404" title="=&gt; List[(Int, List[ParallelMatching.this.global.Symbol])]">varMap</a>, <a href="#799424" title="ParallelMatching.this.Bindings">orig</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// bound vars and rows for default pattern (only one row, but a list is easier to use later)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])" id="798395" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[ParallelMatching.this.global.Symbol]" id="798397">defaultVars</a>, <a href="../../../Tuple2.scala.html#53404" title="List[MatchMatrix.this.Row]" id="798399">defaultRows</a><span class="delimiter">)</span> = <a href="#798387" title="=&gt; Option[ParallelMatching.this.Pattern]">defaultPattern</a> <span title="(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)">None</a>    =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: scala.collection.immutable.Nil.type, _2: scala.collection.immutable.Nil.type)(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])">Some</span><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="798871">p</a><span class="delimiter">)</span> =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: List[ParallelMatching.this.global.Symbol], _2: List[MatchMatrix.this.Row])(List[ParallelMatching.this.global.Symbol], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="#798871" title="ParallelMatching.this.Pattern">p</a>.<a href="PatternBindings.scala.html#796367" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: MatchMatrix.this.Row*)List[MatchMatrix.this.Row]">List</a><span class="delimiter">(</span><a href="#798392" title="(r: MatchMatrix.this.Row, vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">rebindAll</a><span class="delimiter">(</span><a href="#798420" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#798385" title="=&gt; List[ParallelMatching.this.LiteralPattern]">literals</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a>, <a href="#798871" title="ParallelMatching.this.Pattern">p</a>.<a href="PatternBindings.scala.html#796367" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// literalMap is a map from each literal to a list of row indices.</span>
      <span class="comment">// varMap is a list from each literal to a list of the defined vars.</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[(Int, Int)], List[(Int, List[ParallelMatching.this.global.Symbol])])" id="798401" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[(Int, Int)]" id="798403">litPairs</a>, <a href="../../../Tuple2.scala.html#53404" title="List[(Int, List[ParallelMatching.this.global.Symbol])]" id="798405">varMap</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
        <a href="#798385" title="=&gt; List[ParallelMatching.this.LiteralPattern]">literals</a>.<a href="../../../collection/IterableLike.scala.html#53915" title="(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.LiteralPattern],(ParallelMatching.this.LiteralPattern, Int),List[(ParallelMatching.this.LiteralPattern, Int)]])List[(ParallelMatching.this.LiteralPattern, Int)]">zipWithIndex</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((ParallelMatching.this.LiteralPattern, Int)) =&gt; ((Int, Int), (Int, List[ParallelMatching.this.global.Symbol])))(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.LiteralPattern, Int)],((Int, Int), (Int, List[ParallelMatching.this.global.Symbol])),List[((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))]])List[((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))]">map</a> <a href="#799010" title="((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))" class="delimiter">(</span><a title="ParallelMatching.this.LiteralPattern" id="799013">lit</a>, <a title="Int" id="799014">index</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="Int" id="799015">tag</a>  = <a href="#799013" title="ParallelMatching.this.LiteralPattern">lit</a>.<a href="Patterns.scala.html#797879" title="=&gt; Int">intValue</a>
            <a href="../../../Tuple2.scala.html#53390" title="(_1: (Int, Int), _2: (Int, List[ParallelMatching.this.global.Symbol]))((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))" class="delimiter">(</a><a href="../../../Predef.scala.html#9589" title="(x: Int)ArrowAssoc[Int]">tag</a> <a href="../../../Predef.scala.html#57653" title="(y: Int)(Int, Int)">-&gt;</a> <a href="#799014" title="Int">index</a>, <a href="../../../Predef.scala.html#9589" title="(x: Int)ArrowAssoc[Int]">tag</a> <a href="../../../Predef.scala.html#57653" title="(y: List[ParallelMatching.this.global.Symbol])(Int, List[ParallelMatching.this.global.Symbol])">-&gt;</a> <a href="#799013" title="ParallelMatching.this.LiteralPattern">lit</a>.<a href="PatternBindings.scala.html#796367" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53792" title="(implicit asPair: (((Int, Int), (Int, List[ParallelMatching.this.global.Symbol]))) =&gt; ((Int, Int), (Int, List[ParallelMatching.this.global.Symbol])))(List[(Int, Int)], List[(Int, List[ParallelMatching.this.global.Symbol])])">unzip</a>
      <span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[Int,List[Int]]" id="798406">literalMap</a> = <a href="#798402" title="=&gt; List[(Int, Int)]">litPairs</a> <a href="../../../collection/TraversableLike.scala.html#49059" title="(f: ((Int, Int)) =&gt; Int)scala.collection.immutable.Map[Int,List[(Int, Int)]]">groupBy</a> <span class="delimiter">(</span><a href="#799112" title="(Int, Int)">_</a>.<a href="../../../Tuple2.scala.html#53402" title="=&gt; Int">_1</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((Int, List[(Int, Int)])) =&gt; (Int, List[Int]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,List[(Int, Int)]],(Int, List[Int]),scala.collection.immutable.Map[Int,List[Int]]])scala.collection.immutable.Map[Int,List[Int]]">map</a> <a href="#799141" title="(Int, List[Int])" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, List[Int])" class="delimiter">(</span><a title="Int" id="799144">k</a>, <a title="List[(Int, Int)]" id="799145">vs</a><span class="delimiter">)</span> =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: Int, _2: List[Int])(Int, List[Int])" class="delimiter">(</a><a href="#799144" title="Int">k</a>, <a href="#799145" title="List[(Int, Int)]">vs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((Int, Int)) =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, Int)],Int,List[Int]])List[Int]">map</a> <span class="delimiter">(</span><a href="#799166" title="(Int, Int)">_</a>.<a href="../../../Tuple2.scala.html#53404" title="=&gt; Int">_2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.CaseDef]" id="798408">cases</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="799291">tag</a>, <a title="List[Int]" id="799292">indices</a><span class="delimiter">)</span> &lt;- <a href="#798406" title="=&gt; scala.collection.immutable.Map[Int,List[Int]]">literalMap</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((Int, List[Int])) =&gt; ParallelMatching.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, List[Int])],ParallelMatching.this.global.CaseDef,List[ParallelMatching.this.global.CaseDef]])List[ParallelMatching.this.global.CaseDef]">toList</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="799293">newRows</a> = <a href="#799292" title="List[Int]">indices</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Int =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <span class="delimiter">(</span><a title="Int" id="799312">i</a> =&gt; <a href="#798391" title="(index: Int)MatchMatrix.this.Row =&gt; MatchMatrix.this.Row">addDefaultVars</a><a href="../../../Function1.scala.html#53453" title="(v1: MatchMatrix.this.Row)MatchMatrix.this.Row" class="delimiter">(</a><a href="#799312" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#798420" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#799312" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="799294">r</a>       = <a href="#798560" title="MatchMatrix.this.context.PatternVarGroup" id="799405">remake</a><span class="delimiter">(</span><a href="#799293" title="List[MatchMatrix.this.Row]">newRows</a> <a href="../../../collection/immutable/List.scala.html#49152" title="List[MatchMatrix.this.Row]" id="799403">++</a> <a href="#798398" title="=&gt; List[MatchMatrix.this.Row]">defaultRows</a>, includeScrut = <a title="Boolean(false)" id="799404" class="keyword">false</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="799295">r2</a>      = <a href="#793899" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#799294" title="MatchMatrix.this.Rep">r</a>.<a href="#797271" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>, <a href="#799294" title="MatchMatrix.this.Rep">r</a>.<a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: MatchMatrix.this.Row =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <span class="delimiter">(</span><a title="MatchMatrix.this.Row" id="799422">x</a> =&gt; <a href="#799422" title="MatchMatrix.this.Row">x</a> <a href="#794387" title="(b: ParallelMatching.this.Bindings)MatchMatrix.this.Row">rebind</a> <a href="#798393" title="(Tag: Int, orig: ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">bindVars</a><span class="delimiter">(</span><a href="#799291" title="Int">tag</a>, <a href="#799422" title="MatchMatrix.this.Row">x</a>.<a href="#794394" title="=&gt; ParallelMatching.this.Bindings">subst</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <a href="../ast/TreeDSL.scala.html#515214" title="(pat: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.CaseStart">CASE</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#434144" title="(value: Any)ParallelMatching.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#799291" title="Int">tag</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#548126" title="(body: ParallelMatching.this.global.Tree)ParallelMatching.this.global.CaseDef">==&gt;</a> <a href="#799295" title="MatchMatrix.this.Rep">r2</a>.<a href="#793990" title="()ParallelMatching.this.global.Tree">toTree</a>
        <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798410">defaultTree</a> = <a href="#798560" title="MatchMatrix.this.context.PatternVarGroup" id="799495">remake</a><span class="delimiter">(</span><a href="#798398" title="List[MatchMatrix.this.Row]" id="799493">defaultRows</a>, includeScrut = <a title="Boolean(false)" id="799494" class="keyword">false</a><span class="delimiter">)</span>.<a href="#793990" title="()ParallelMatching.this.global.Tree">toTree</a>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.CaseDef" id="798411">defaultCase</a> = <a href="../ast/TreeDSL.scala.html#515214" title="(pat: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.CaseStart">CASE</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#547668" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.Ident">WILD</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508431" title="=&gt; ParallelMatching.this.global.Symbol">IntClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#548126" title="(body: ParallelMatching.this.global.Tree)ParallelMatching.this.global.CaseDef">==&gt;</a> <a href="#798409" title="=&gt; ParallelMatching.this.global.Tree">defaultTree</a>

      <span class="comment">// cond/success/failure only used if there is exactly one case.</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Apply" id="798413">cond</a>    = <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">id</a> <a href="../ast/TreeDSL.scala.html#547487" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">MEMBER_==</a> <a href="#798407" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; ParallelMatching.this.global.CaseDef">head</a>.<a href="../../../reflect/generic/Trees.scala.html#442450" title="=&gt; ParallelMatching.this.global.Tree">pat</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798415">success</a> = <a href="#798407" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; ParallelMatching.this.global.CaseDef">head</a>.<a href="../../../reflect/generic/Trees.scala.html#442454" title="=&gt; ParallelMatching.this.global.Tree">body</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798417">failure</a> = <a href="#798409" title="=&gt; ParallelMatching.this.global.Tree">defaultTree</a>

      <span class="comment">// only one case becomes if/else, otherwise match</span>
      <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="798418">tree</a><span class="delimiter">(</span><span class="delimiter">)</span> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#798407" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#798238" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
        <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">casted</a> <a href="../ast/TreeDSL.scala.html#547504" title="(cases: ParallelMatching.this.global.CaseDef*)ParallelMatching.this.global.Match">MATCH</a> <span class="delimiter">(</span><a href="#798407" title="=&gt; List[ParallelMatching.this.global.CaseDef]">cases</a> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: ParallelMatching.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.CaseDef],ParallelMatching.this.global.CaseDef,List[ParallelMatching.this.global.CaseDef]])List[ParallelMatching.this.global.CaseDef]">:+</a> <a href="#798411" title="=&gt; ParallelMatching.this.global.CaseDef">defaultCase</a>: _*<span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** mixture rule for unapply pattern
     */</span>
    <span class="keyword">class</span> <a title="class MixUnapply extends MatchMatrix.this.RuleApplication with ScalaObject" id="793912">MixUnapply</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="798374">pmatch</a>: <a href="#798489" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="798375">rest</a>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#793907" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="Patterns.scala.html#797140" title="(other: Any)Option[ParallelMatching.this.global.Tree]">Pattern</a><a href="../../../Tuple2.scala.html#53390" title="(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree])" class="delimiter">(</a>UnApply<span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53402" title="ParallelMatching.this.global.Tree" id="798349">unMethod</a>, <a href="../../../Tuple2.scala.html#53404" title="List[ParallelMatching.this.global.Tree]" id="798351">unArgs</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#798236" title="=&gt; ParallelMatching.this.Pattern">head</a>
      <span class="keyword">val</span> Apply<a href="../../../Tuple2.scala.html#53390" title="(ParallelMatching.this.global.Tree, List[ParallelMatching.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="ParallelMatching.this.global.Tree" id="798354">unTarget</a>, _ :: <a href="../../../Tuple2.scala.html#53404" title="List[ParallelMatching.this.global.Tree]" id="798356">trailing</a><span class="delimiter">)</span> = <a href="#798349" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>

      <span class="keyword">object</span> <a title="object MixUnapply.this.SameUnapplyCall" id="798358">SameUnapplyCall</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
        <span class="keyword">def</span> <a title="(t: ParallelMatching.this.global.Tree)Boolean" id="799864">isSame</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="799867">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="PatternBindings.scala.html#512328" title="(t1: ParallelMatching.this.global.Tree, t2: ParallelMatching.this.global.Tree)Boolean">isEquivalentTree</a><span class="delimiter">(</span><a href="#798354" title="=&gt; ParallelMatching.this.global.Tree">unTarget</a>, <a href="#799867" title="ParallelMatching.this.global.Tree">t</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Option[List[ParallelMatching.this.global.Tree]]" id="799865">unapply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="799870">x</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <span class="comment">/*tracing(&quot;SameUnapplyCall (%s vs. %s)&quot;.format(unTarget, x))*/</span><span class="delimiter">(</span><a href="#799870" title="ParallelMatching.this.Pattern">x</a> <span title="Option[List[ParallelMatching.this.global.Tree]]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Patterns.scala.html#797140" title="Some[List[ParallelMatching.this.global.Tree]]">Pattern</a><span class="delimiter">(</span>UnApply<span class="delimiter">(</span>Apply<span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="799878">fn</a>, _<span class="delimiter">)</span>, <a title="List[ParallelMatching.this.global.Tree]" id="799879">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#799864" title="(t: ParallelMatching.this.global.Tree)Boolean">isSame</a><span class="delimiter">(</span><a href="#799878" title="ParallelMatching.this.global.Tree">fn</a><span class="delimiter">)</span> =&gt; <a href="../../../Option.scala.html#57885" title="(x: List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]">Some</a><span class="delimiter">(</span><a href="#799879" title="List[ParallelMatching.this.global.Tree]">args</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="None.type">_</span>                                                  =&gt; <a href="../../../Option.scala.html#1737" title="object None">None</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">object</span> <a title="object MixUnapply.this.SameUnapplyPattern" id="798360">SameUnapplyPattern</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
        <span class="keyword">def</span> <a title="(t: ParallelMatching.this.global.Tree)Boolean" id="799673">isSame</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="799686">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span>   = <a href="PatternBindings.scala.html#512328" title="(t1: ParallelMatching.this.global.Tree, t2: ParallelMatching.this.global.Tree)Boolean">isEquivalentTree</a><span class="delimiter">(</span><a href="#798349" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>, <a href="#799686" title="ParallelMatching.this.global.Tree">t</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Boolean" id="799674">apply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="799676">x</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="#799675" title="(x: ParallelMatching.this.Pattern)Option[List[ParallelMatching.this.global.Tree]]">unapply</a><span class="delimiter">(</span><a href="#799676" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#48472" title="=&gt; Boolean">isDefined</a>
        <span class="keyword">def</span> <a title="(x: ParallelMatching.this.Pattern)Option[List[ParallelMatching.this.global.Tree]]" id="799675">unapply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="799679">x</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <span class="comment">/*tracing(&quot;SameUnapplyPattern (%s vs. %s)&quot;.format(unMethod, x))*/</span><span class="delimiter">(</span><a href="#799679" title="ParallelMatching.this.Pattern">x</a> <span title="Option[List[ParallelMatching.this.global.Tree]]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Patterns.scala.html#797140" title="Some[List[ParallelMatching.this.global.Tree]]">Pattern</a><span class="delimiter">(</span>UnApply<span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="799685">t</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#799673" title="(t: ParallelMatching.this.global.Tree)Boolean">isSame</a><span class="delimiter">(</span><a href="#799685" title="ParallelMatching.this.global.Tree">t</a><span class="delimiter">)</span> =&gt; <a href="../../../Option.scala.html#57885" title="(x: List[ParallelMatching.this.global.Tree])Some[List[ParallelMatching.this.global.Tree]]">Some</a><span class="delimiter">(</span><a href="#798351" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="None.type">_</span>                                   =&gt; <a href="../../../Option.scala.html#1737" title="object None">None</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]" id="798363">zipped</a>      = <a href="#798374" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a> <a href="#797922" title="(others: List[MatchMatrix.this.Row])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">pzip</a> <a href="#798375" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVar" id="798365">unapplyResult</a>: <a href="Matrix.scala.html#793763" title="MatchMatrix.this.context.PatternVar">PatternVar</a> =
        <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797311" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#798349" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ParallelMatching.this.global.Type">tpe</a>, <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: ParallelMatching.this.global.Tree, args: List[ParallelMatching.this.global.Tree])ParallelMatching.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#798354" title="=&gt; ParallelMatching.this.global.Tree">unTarget</a>, <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797293" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: ParallelMatching.this.global.Tree)List[ParallelMatching.this.global.Tree]">::</a> <a href="#798356" title="=&gt; List[ParallelMatching.this.global.Tree]">trailing</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: ParallelMatching.this.global.Type)ParallelMatching.this.global.Apply">setType</a> <a href="#799896" title="ParallelMatching.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798367">cond</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#798364" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="MatchSupport.scala.html#792464" title="implicit scala.tools.nsc.matching.MatchSupport.Types.enrichType : (x: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#792484" title="=&gt; Boolean">isBoolean</a><span class="delimiter">)</span> <a href="#798364" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="Matrix.scala.html#793809" title="=&gt; ParallelMatching.this.global.analyzer.global.Tree">ident</a>
        <span class="keyword">else</span> <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#798364" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="Matrix.scala.html#793808" title="=&gt; ParallelMatching.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508150" title="=&gt; ParallelMatching.this.global.Symbol">SomeClass</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#515186" title="=&gt; ParallelMatching.this.global.Literal">TRUE</a>
        <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#515239" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Select">NOT</a><span class="delimiter">(</span><a href="#798364" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">ident</a> <a href="../ast/TreeDSL.scala.html#515251" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: ParallelMatching.this.CODE.SelectStart)ParallelMatching.this.global.Select">DOT</a> <a href="../symtab/StdNames.scala.html#479055" title="object ParallelMatching.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516658" title="=&gt; ParallelMatching.this.global.nme.NameType">isEmpty</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798369">failure</a> =
        <a href="#798240" title="(xs: List[MatchMatrix.this.Row])ParallelMatching.this.global.Tree">mkFail</a><span class="delimiter">(</span><a href="#798362" title="=&gt; List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">zipped</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">tail</a> <a href="../../../collection/TraversableLike.scala.html#49052" title="(p: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; Boolean)List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">filterNot</a> <span class="delimiter">(</span><a title="(ParallelMatching.this.Pattern, MatchMatrix.this.Row)" id="799671">x</a> =&gt; <a href="#799674" title="(x: ParallelMatching.this.Pattern)Boolean">SameUnapplyPattern</a><span class="delimiter">(</span><a href="#799671" title="(ParallelMatching.this.Pattern, MatchMatrix.this.Row)">x</a>.<a href="../../../Tuple2.scala.html#53402" title="=&gt; ParallelMatching.this.Pattern">_1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <a href="#799738" title="MatchMatrix.this.Row" class="delimiter">{</a> <span class="keyword">case</span> <span title="MatchMatrix.this.Row" class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="799741">pat</a>, <a title="MatchMatrix.this.Row" id="799742">r</a><span class="delimiter">)</span> =&gt; <a href="#799742" title="MatchMatrix.this.Row">r</a> <a href="#794385" title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row">insert</a> <a href="#799741" title="ParallelMatching.this.Pattern">pat</a> <span class="delimiter">}</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; (List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" id="798370">doSuccess</a>: <a href="../../../Tuple3.scala.html#317" title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</a>List<span class="delimiter">[</span>PatternVar<span class="delimiter">]</span>, List<span class="delimiter">[</span>PatternVar<span class="delimiter">]</span>, List<span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="comment">// pattern variable for the unapply result of Some(x).get</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVar" id="799933">pv</a> = <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797311" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span>
          <a href="#798349" title="=&gt; ParallelMatching.this.global.Tree">unMethod</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)ParallelMatching.this.global.Type">typeArgs</a> <span title="Int(0)" class="int">0</span>,
          <a title="ParallelMatching.this.global.Symbol" id="799949">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#515196" title="(lhs: ParallelMatching.this.global.Tree, op: ParallelMatching.this.global.Name, args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">fn</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515242" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#798364" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="Matrix.scala.html#793800" title="=&gt; ParallelMatching.this.global.Symbol">lhs</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object ParallelMatching.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516638" title="=&gt; ParallelMatching.this.global.nme.NameType">get</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Symbol" id="799934">tuple</a> = <a href="#799932" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a>.<a href="Matrix.scala.html#793800" title="=&gt; ParallelMatching.this.global.Symbol">lhs</a>

        <span class="comment">// at this point it's Some[T1,T2...]</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.Type]" id="799936">tpes</a>  = <a href="../symtab/Definitions.scala.html#508193" title="(tpe: ParallelMatching.this.global.Type)Option[List[ParallelMatching.this.global.Type]]">getProductArgs</a><span class="delimiter">(</span><a href="#799934" title="=&gt; ParallelMatching.this.global.Symbol">tuple</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#48473" title="=&gt; List[ParallelMatching.this.global.Type]">get</a>

        <span class="comment">// one pattern variable per tuple element</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[MatchMatrix.this.context.PatternVar]" id="799938">tuplePVs</a> =
          <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="800030">tpe</a>, <a title="Int" id="800031">i</a><span class="delimiter">)</span> &lt;- <a href="#799935" title="=&gt; List[ParallelMatching.this.global.Type]">tpes</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((ParallelMatching.this.global.Type, Int)) =&gt; MatchMatrix.this.context.PatternVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.global.Type, Int)],MatchMatrix.this.context.PatternVar,List[MatchMatrix.this.context.PatternVar]])List[MatchMatrix.this.context.PatternVar]">zipWithIndex</a><span class="delimiter">)</span> <span class="keyword">yield</span>
            <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797311" title="(tpe: ParallelMatching.this.global.Type, f: ParallelMatching.this.global.Symbol =&gt; ParallelMatching.this.global.Tree)MatchMatrix.this.context.PatternVar">createVar</a><span class="delimiter">(</span><a href="#800030" title="ParallelMatching.this.global.Type">tpe</a>, <a title="ParallelMatching.this.global.Symbol" id="800033">_</a> =&gt; <a href="../ast/TreeDSL.scala.html#515197" title="(lhs: ParallelMatching.this.global.Tree, op: ParallelMatching.this.global.Symbol, args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">fn</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515242" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#799934" title="=&gt; ParallelMatching.this.global.Symbol">tuple</a><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#508189" title="(z: ParallelMatching.this.global.Symbol, j: Int)ParallelMatching.this.global.Symbol">productProj</a><span class="delimiter">(</span><a href="#799934" title="=&gt; ParallelMatching.this.global.Symbol">tuple</a>, <a href="#800031" title="Int">i</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// the filter prevents infinite unapply recursion</span>
        <span class="keyword">def</span> <a title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]" id="799939">mkNewRows</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree]" id="800081">sameFilter</a>: <span class="delimiter">(</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="800082">dum</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#798351" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#798351" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <span class="keyword">else</span> <a href="#799935" title="=&gt; List[ParallelMatching.this.global.Type]">tpes</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a>
          <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="800117">pat</a>, <a title="MatchMatrix.this.Row" id="800118">r</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">zipped</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#800117" title="ParallelMatching.this.Pattern">pat</a> <span title="MatchMatrix.this.Row" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#799865" title="MatchMatrix.this.Row">SameUnapplyCall</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="800120">xs</a><span class="delimiter">)</span>  =&gt; <a href="#800118" title="MatchMatrix.this.Row">r</a>.<a href="#794388" title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">insert2</a><span class="delimiter">(</span><a href="#512273" title="(xs: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="../../../Function1.scala.html#53453" title="(v1: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]">sameFilter</a><span class="delimiter">(</span><a href="#800120" title="List[ParallelMatching.this.global.Tree]">xs</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</a> <a href="Patterns.scala.html#512197" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>, <a href="#800117" title="ParallelMatching.this.Pattern">pat</a>.<a href="PatternBindings.scala.html#796367" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="MatchMatrix.this.Row">_</span>                    =&gt; <a href="#800118" title="MatchMatrix.this.Row">r</a> <a href="#794386" title="(hs: List[ParallelMatching.this.Pattern])MatchMatrix.this.Row">insert</a> <span class="delimiter">(</span><a href="Patterns.scala.html#512195" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><a href="#800082" title="Int">dum</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</a> <a href="#800117" title="ParallelMatching.this.Pattern">pat</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// 0 is Boolean, 1 is Option[T], 2+ is Option[(T1,T2,...)]</span>
        <a href="#798351" title="=&gt; List[ParallelMatching.this.global.Tree]">unArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <span title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type, List[MatchMatrix.this.Row])" class="int">0</span>  =&gt; <a href="../../../Tuple3.scala.html#53296" title="(_1: scala.collection.immutable.Nil.type, _2: scala.collection.immutable.Nil.type, _3: List[MatchMatrix.this.Row])(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type, List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="#799939" title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]">mkNewRows</a><span class="delimiter">(</span><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="800291">xs</a><span class="delimiter">)</span> =&gt; <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="int">1</span>  =&gt; <a href="../../../Tuple3.scala.html#53296" title="(_1: List[MatchMatrix.this.context.PatternVar], _2: List[MatchMatrix.this.context.PatternVar], _3: List[MatchMatrix.this.Row])(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">(</span><a href="#799932" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">(</span><a href="#799932" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span>, <a href="#799939" title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]">mkNewRows</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.global.Tree]" id="800316">xs</a> =&gt; <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#800316" title="List[ParallelMatching.this.global.Tree]">xs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; ParallelMatching.this.global.Tree">head</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])">_</span>  =&gt; <a href="../../../Tuple3.scala.html#53296" title="(_1: List[MatchMatrix.this.context.PatternVar], _2: List[MatchMatrix.this.context.PatternVar], _3: List[MatchMatrix.this.Row])(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="#799932" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: MatchMatrix.this.context.PatternVar)List[MatchMatrix.this.context.PatternVar]">::</a> <a href="#799937" title="=&gt; List[MatchMatrix.this.context.PatternVar]">tuplePVs</a>, <a href="#799937" title="=&gt; List[MatchMatrix.this.context.PatternVar]">tuplePVs</a>, <a href="#799939" title="(sameFilter: List[ParallelMatching.this.global.Tree] =&gt; List[ParallelMatching.this.global.Tree])List[MatchMatrix.this.Row]">mkNewRows</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9550" title="(x: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.global.Tree]">identity</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798372">success</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="../../../Tuple3.scala.html#53296" title="(List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="../../../Tuple3.scala.html#53312" title="List[MatchMatrix.this.context.PatternVar]" id="799798">squeezePVs</a>, <a href="../../../Tuple3.scala.html#53314" title="List[MatchMatrix.this.context.PatternVar]" id="799799">pvs</a>, <a href="../../../Tuple3.scala.html#53316" title="List[MatchMatrix.this.Row]" id="799800">rows</a><span class="delimiter">)</span> = <a href="#798370" title="=&gt; (List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.context.PatternVar], List[MatchMatrix.this.Row])">doSuccess</a>
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="799801">srep</a> = <a href="#798241" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#799800" title="List[MatchMatrix.this.Row]">rows</a>, <a href="Matrix.scala.html#793757" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">pvs</a><span class="delimiter">)</span>.<a href="#793990" title="()ParallelMatching.this.global.Tree">toTree</a>

        <a href="MatrixAdditions.scala.html#793728" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><a href="#799798" title="List[MatchMatrix.this.context.PatternVar]">squeezePVs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: MatchMatrix.this.context.PatternVar =&gt; ParallelMatching.this.global.analyzer.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.context.PatternVar],ParallelMatching.this.global.analyzer.global.ValDef,List[ParallelMatching.this.global.Tree]])List[ParallelMatching.this.global.Tree]">map</a> <span class="delimiter">(</span><a href="#799835" title="MatchMatrix.this.context.PatternVar">_</a>.<a href="Matrix.scala.html#793811" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span>, <a href="#799801" title="ParallelMatching.this.global.Tree">srep</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="798373">tree</a><span class="delimiter">(</span><span class="delimiter">)</span> =
        <a href="MatrixAdditions.scala.html#793728" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]">List</a><span class="delimiter">(</span><a href="../../../Function1.scala.html#53453" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="#798364" title="=&gt; MatchMatrix.this.context.PatternVar">unapplyResult</a>.<a href="Matrix.scala.html#793811" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#798238" title="=&gt; ParallelMatching.this.global.Tree">codegen</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Handle Sequence patterns (including Star patterns.)
     *  Note: pivot == head, just better typed.
     */</span>
    <span class="keyword">sealed</span> <span class="keyword">class</span> <a title="class MixSequence extends MatchMatrix.this.RuleApplication with ScalaObject" id="793913">MixSequence</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="798337">pmatch</a>: <a href="#798489" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="798338">rest</a>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a>, <a title="ParallelMatching.this.SequencePattern" id="798339">pivot</a>: <a href="Patterns.scala.html#512240" title="ParallelMatching.this.SequencePattern">SequencePattern</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#793907" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#9569" title="(requirement: Boolean)Unit">require</a><span class="delimiter">(</span><a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#798236" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#796385" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="=&gt; Boolean" id="798320">hasStar</a> = <a href="#798339" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#798305" title="=&gt; Boolean">hasStar</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Int" id="798321">pivotLen</a>    = <a href="#798339" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#798309" title="=&gt; Int">nonStarLength</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="798322">seqDummies</a>  = <a href="Patterns.scala.html#512195" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><a href="#798339" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#798299" title="=&gt; List[ParallelMatching.this.global.Tree]">elems</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>

      <span class="comment">// Should the given pattern join the expanded pivot in the success matrix? If so,</span>
      <span class="comment">// this partial function will be defined for the pattern, and the result of the apply</span>
      <span class="comment">// is the expanded sequence of new patterns.</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="successMatrixFn extends java.lang.Object with PartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]" id="798324">successMatrixFn</a> = <a href="#800363" title="java.lang.Object with PartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]{}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object with PartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]" id="800363">PartialFunction</a><span class="delimiter">[</span>Pattern, List<span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
        <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: ParallelMatching.this.SequenceLikePattern)Boolean" id="800365">seqIsDefinedAt</a><span class="delimiter">(</span><a title="ParallelMatching.this.SequenceLikePattern" id="800373">x</a>: <a href="Patterns.scala.html#512239" title="ParallelMatching.this.SequenceLikePattern">SequenceLikePattern</a><span class="delimiter">)</span> = <a href="../../../Tuple2.scala.html#53390" title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</a><a href="#798320" title="=&gt; Boolean">hasStar</a>, <a href="#800373" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798305" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(true)" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>   =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>  =&gt; <a href="#798321" title="=&gt; Int">pivotLen</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#800373" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798309" title="=&gt; Int">nonStarLength</a>
          <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>  =&gt; <a href="#798321" title="=&gt; Int">pivotLen</a> <a href="../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="#800373" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798309" title="=&gt; Int">nonStarLength</a>
          <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> =&gt; <a href="#798321" title="=&gt; Int">pivotLen</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#800373" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798309" title="=&gt; Int">nonStarLength</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(pat: ParallelMatching.this.Pattern)Boolean" id="800366">isDefinedAt</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="800368">pat</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="#800368" title="ParallelMatching.this.Pattern">pat</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="800372">x</a>: <a href="Patterns.scala.html#512239" title="ParallelMatching.this.SequenceLikePattern">SequenceLikePattern</a> =&gt; <a href="#800365" title="(x: ParallelMatching.this.SequenceLikePattern)Boolean">seqIsDefinedAt</a><span class="delimiter">(</span><a href="#800372" title="ParallelMatching.this.SequenceLikePattern">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean(true)">WildcardPattern</span><span class="delimiter">(</span><span class="delimiter">)</span>      =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span>                      =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(pat: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]" id="800367">apply</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="800439">pat</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#800439" title="ParallelMatching.this.Pattern">pat</a> <span title="List[ParallelMatching.this.Pattern]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="List[ParallelMatching.this.Pattern]" id="800444">x</a>: <a href="Patterns.scala.html#512239" title="ParallelMatching.this.SequenceLikePattern">SequenceLikePattern</a> =&gt;
            <span class="keyword">def</span> <a title="=&gt; Boolean" id="800445">isSameLength</a>  = <a href="#798321" title="=&gt; Int">pivotLen</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#800444" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798309" title="=&gt; Int">nonStarLength</a>
            <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.Pattern]" id="800446">rebound</a>       = <a href="#800444" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798308" title="=&gt; List[ParallelMatching.this.Pattern]">nonStarPatterns</a> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</a> <span class="delimiter">(</span><a href="#800444" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798306" title="=&gt; List[ParallelMatching.this.Pattern]">elemPatterns</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71051" title="=&gt; ParallelMatching.this.Pattern">last</a> <a href="PatternBindings.scala.html#796368" title="(t: ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern">rebindTo</a> <a href="../ast/TreeDSL.scala.html#547668" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.Ident">WILD</a><span class="delimiter">(</span><a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797303" title="=&gt; ParallelMatching.this.global.Type">seqType</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="../../../Tuple3.scala.html#53296" title="(_1: Boolean, _2: Boolean, _3: Boolean)(Boolean, Boolean, Boolean)" class="delimiter">(</a><a href="#798339" title="ParallelMatching.this.SequencePattern">pivot</a>.<a href="Patterns.scala.html#798305" title="=&gt; Boolean">hasStar</a>, <a href="#800444" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798305" title="=&gt; Boolean">hasStar</a>, <a href="#800445" title="=&gt; Boolean">isSameLength</a><span class="delimiter">)</span> <span title="List[ParallelMatching.this.Pattern]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>   =&gt; <a href="#800446" title="=&gt; List[ParallelMatching.this.Pattern]">rebound</a> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</a> <a href="Patterns.scala.html#512197" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>  =&gt; <span class="delimiter">(</span><a href="#798322" title="=&gt; List[ParallelMatching.this.Pattern]">seqDummies</a> <a href="../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[ParallelMatching.this.Pattern]">drop</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</a> <a href="#800444" title="ParallelMatching.this.SequenceLikePattern">x</a>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>  =&gt; <a href="#800444" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798306" title="=&gt; List[ParallelMatching.this.Pattern]">elemPatterns</a> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[ParallelMatching.this.Pattern])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">++</a> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: ParallelMatching.this.Pattern*)List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">(</span><a href="Patterns.scala.html#512199" title="=&gt; ParallelMatching.this.Pattern">NilPattern</a>, <a href="Patterns.scala.html#512197" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]" class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>  =&gt; <a href="#800446" title="=&gt; List[ParallelMatching.this.Pattern]">rebound</a>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]" class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> =&gt; <a href="#800444" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798306" title="=&gt; List[ParallelMatching.this.Pattern]">elemPatterns</a> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">:+</a> <a href="Patterns.scala.html#512197" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>
              <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]">_</span>                    =&gt; <a href="#798322" title="=&gt; List[ParallelMatching.this.Pattern]">seqDummies</a>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="List[ParallelMatching.this.Pattern]">_</span>  =&gt; <a href="#798322" title="=&gt; List[ParallelMatching.this.Pattern]">seqDummies</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">// Should the given pattern be in the fail matrix? This is true of any sequences</span>
      <span class="comment">// as long as the result of the length test on the pivot doesn't make it impossible:</span>
      <span class="comment">// for instance if neither sequence is right ignoring and they are of different</span>
      <span class="comment">// lengths, the later one cannot match since its length must be wrong.</span>
      <span class="keyword">def</span> <a title="(c: ParallelMatching.this.Pattern)Boolean" id="798325">failureMatrixFn</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="800898">c</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#798339" title="ParallelMatching.this.SequencePattern">pivot</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#800898" title="ParallelMatching.this.Pattern">c</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#800898" title="ParallelMatching.this.Pattern">c</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Boolean" id="800901">x</a>: <a href="Patterns.scala.html#512239" title="ParallelMatching.this.SequenceLikePattern">SequenceLikePattern</a> =&gt;
          <a href="../../../Tuple2.scala.html#53390" title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</a><a href="#798320" title="=&gt; Boolean">hasStar</a>, <a href="#800901" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798305" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean(true)" class="delimiter">(</span>_, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>      =&gt; <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>  =&gt; <a href="#798321" title="=&gt; Int">pivotLen</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#800901" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798309" title="=&gt; Int">nonStarLength</a>
            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> =&gt; <a href="#798321" title="=&gt; Int">pivotLen</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="#800901" title="ParallelMatching.this.SequenceLikePattern">x</a>.<a href="Patterns.scala.html#798309" title="=&gt; Int">nonStarLength</a>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Boolean(true)">WildcardPattern</span><span class="delimiter">(</span><span class="delimiter">)</span>      =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span>                      =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>

      <span class="comment">// divide the remaining rows into success/failure branches, expanding subsequences of patterns</span>
      <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="798326">successRows</a> = <a href="#798337" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a> <a href="#797922" title="(others: List[MatchMatrix.this.Row])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">pzip</a> <a href="#798338" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <a href="../../../collection/TraversableLike.scala.html#49053" title="(pf: PartialFunction[(ParallelMatching.this.Pattern, MatchMatrix.this.Row),MatchMatrix.this.Row])(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">collect</a> <a href="#800823" title="MatchMatrix.this.Row" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="MatchMatrix.this.Row" class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="800826">c</a>, <a title="MatchMatrix.this.Row" id="800827">row</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#798323" title="=&gt; java.lang.Object with PartialFunction[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]]">successMatrixFn</a> <a href="../../../PartialFunction.scala.html#53462" title="(x: ParallelMatching.this.Pattern)Boolean">isDefinedAt</a> <a href="#800826" title="ParallelMatching.this.Pattern">c</a> =&gt; <a href="#800827" title="MatchMatrix.this.Row">row</a> <a href="#794386" title="(hs: List[ParallelMatching.this.Pattern])MatchMatrix.this.Row">insert</a> <a href="../../../Function1.scala.html#53453" title="(v1: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">successMatrixFn</a><span class="delimiter">(</span><a href="#800826" title="ParallelMatching.this.Pattern">c</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="798328">failRows</a> = <a href="#798337" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a> <a href="#797922" title="(others: List[MatchMatrix.this.Row])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">pzip</a> <a href="#798338" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <a href="../../../collection/TraversableLike.scala.html#49053" title="(pf: PartialFunction[(ParallelMatching.this.Pattern, MatchMatrix.this.Row),MatchMatrix.this.Row])(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">collect</a> <a href="#800893" title="MatchMatrix.this.Row" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="MatchMatrix.this.Row" class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="800896">c</a>, <a title="MatchMatrix.this.Row" id="800897">row</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#798325" title="(c: ParallelMatching.this.Pattern)Boolean">failureMatrixFn</a><span class="delimiter">(</span><a href="#800896" title="ParallelMatching.this.Pattern">c</a><span class="delimiter">)</span> =&gt; <a href="#800897" title="MatchMatrix.this.Row">row</a> <a href="#794385" title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row">insert</a> <a href="#800896" title="ParallelMatching.this.Pattern">c</a>
      <span class="delimiter">}</span>

      <span class="comment">// the discrimination test for sequences is a call to lengthCompare.  Note that</span>
      <span class="comment">// this logic must be fully consistent wiith successMatrixFn and failureMatrixFn above:</span>
      <span class="comment">// any inconsistency will (and frequently has) manifested as pattern matcher crashes.</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798331">cond</a> = <span class="delimiter">{</span>
        <span class="comment">// the method call symbol</span>
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Symbol" id="800954">methodOp</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a>                = <a href="#798236" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#796385" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507200" title="(name: ParallelMatching.this.global.Name)ParallelMatching.this.global.Symbol">member</a> <a href="../symtab/StdNames.scala.html#479055" title="object ParallelMatching.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516668" title="=&gt; ParallelMatching.this.global.nme.NameType">lengthCompare</a>

        <span class="comment">// the comparison to perform.  If the pivot is right ignoring, then a scrutinee sequence</span>
        <span class="comment">// of &gt;= pivot length could match it; otherwise it must be exactly equal.</span>
        <span class="keyword">val</span> <a title="(ParallelMatching.this.global.Tree, ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree" id="800955">compareOp</a>: <span class="delimiter">(</span>Tree, Tree<span class="delimiter">)</span> =&gt; Tree = <span title="(ParallelMatching.this.global.Tree, ParallelMatching.this.global.Tree) =&gt; ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#798320" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">_</a> <a href="../ast/TreeDSL.scala.html#547497" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">INT_&gt;=</a> <a href="#800959" title="ParallelMatching.this.global.Tree">_</a> <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">_</a> <a href="../ast/TreeDSL.scala.html#547498" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">INT_==</a> <a href="#800969" title="ParallelMatching.this.global.Tree">_</a>

        <span class="comment">// scrutinee.lengthCompare(pivotLength) [== | &gt;=] 0</span>
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree" id="800956">compareFn</a>: Tree =&gt; Tree         = <span class="delimiter">(</span>t: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> =&gt; <a href="../../../Function2.scala.html#59852" title="(v1: ParallelMatching.this.global.Tree, v2: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">compareOp</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">t</a> <a href="../ast/TreeDSL.scala.html#547472" title="(args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">DOT</a> <a href="#800954" title="ParallelMatching.this.global.Symbol">methodOp</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#547417" title="(x: Any)ParallelMatching.this.global.Literal">LIT</a><span class="delimiter">(</span><a href="#798321" title="=&gt; Int">pivotLen</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../ast/TreeDSL.scala.html#515190" title="=&gt; ParallelMatching.this.global.Literal">ZERO</a><span class="delimiter">)</span>

        <span class="comment">// wrapping in a null check on the scrutinee</span>
        <span class="comment">// XXX this needs to use the logic in &quot;def condition&quot;</span>
        <a href="../ast/TreeDSL.scala.html#515177" title="(f: ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree, ifNull: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree">nullSafe</a><a href="../../../Function1.scala.html#53453" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree" class="delimiter">(</a><a href="#800956" title="ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Tree">compareFn</a>, <a href="../ast/TreeDSL.scala.html#515188" title="=&gt; ParallelMatching.this.global.Literal">FALSE</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797293" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a><span class="delimiter">)</span>
        <span class="comment">// condition(head.tpe, scrut.id, head.boundVariables.nonEmpty)</span>
      <span class="delimiter">}</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798333">success</a> = <span class="delimiter">{</span>
        <span class="comment">// one pattern var per sequence element up to elemCount, and one more for the rest of the sequence</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[MatchMatrix.this.context.PatternVar]" id="800998">pvs</a> = <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a> <a href="#797308" title="(count: Int)List[MatchMatrix.this.context.PatternVar]">createSequenceVars</a> <a href="#798321" title="=&gt; Int">pivotLen</a>

        <a href="MatrixAdditions.scala.html#793728" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><a href="#800997" title="=&gt; List[MatchMatrix.this.context.PatternVar]">pvs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: MatchMatrix.this.context.PatternVar =&gt; ParallelMatching.this.global.analyzer.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.context.PatternVar],ParallelMatching.this.global.analyzer.global.ValDef,List[ParallelMatching.this.global.Tree]])List[ParallelMatching.this.global.Tree]">map</a> <span class="delimiter">(</span><a href="#801015" title="MatchMatrix.this.context.PatternVar">_</a>.<a href="Matrix.scala.html#793811" title="=&gt; ParallelMatching.this.global.analyzer.global.ValDef">valDef</a><span class="delimiter">)</span>, <a href="#798241" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#798326" title="=&gt; List[MatchMatrix.this.Row]">successRows</a>, <a href="Matrix.scala.html#793757" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">pvs</a>, <a href="#798320" title="=&gt; Boolean">hasStar</a><span class="delimiter">)</span>.<a href="#793990" title="()ParallelMatching.this.global.Tree">toTree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798335">failure</a>  = <a href="#798241" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#798328" title="=&gt; List[MatchMatrix.this.Row]">failRows</a><span class="delimiter">)</span>.<a href="#793990" title="()ParallelMatching.this.global.Tree">toTree</a>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="798336">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> = <a href="#798238" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
    <span class="delimiter">}</span>

    <span class="keyword">class</span> <a title="class MixEquals extends MatchMatrix.this.RuleApplication with ScalaObject" id="793914">MixEquals</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="798288">pmatch</a>: <a href="#798489" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="798289">rest</a>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#793907" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.gen.global.Tree" id="798273">rhs</a> =
        <a href="PatternBindings.scala.html#512326" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.Type">decodedEqualsType</a><span class="delimiter">(</span><a href="#798236" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#796385" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="ParallelMatching.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.gen.global.Tree">SingleType</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="801052">pre</a>, <a title="ParallelMatching.this.global.Symbol" id="801053">sym</a><span class="delimiter">)</span> =&gt; <a href="../ast/TreeDSL.scala.html#515244" title="(pre: ParallelMatching.this.global.Type, sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="#801052" title="ParallelMatching.this.global.Type">pre</a>, <a href="#801053" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Tree">PseudoType</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="801086">o</a><span class="delimiter">)</span>        =&gt; <a href="#801086" title="ParallelMatching.this.global.Tree">o</a>
        <span class="delimiter">}</span>
      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.LabelDef" id="798275">labelDef</a> =
        <a href="#793898" title="(namePrefix: String, body: ParallelMatching.this.global.Tree, params: List[ParallelMatching.this.global.Symbol], restpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.LabelDef">createLabelDef</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fail%&quot;)" class="string">&quot;fail%&quot;</span>, <a href="#798241" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: List[MatchMatrix.this.Row], _2: List[ParallelMatching.this.Pattern])(List[MatchMatrix.this.Row], List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="#798289" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[MatchMatrix.this.Row]">tail</a>, <a href="#798288" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#797914" title="=&gt; List[ParallelMatching.this.Pattern]">tail</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[MatchMatrix.this.Row] =&gt; scala.collection.TraversableLike[MatchMatrix.this.Row,List[MatchMatrix.this.Row]], implicit w2: List[ParallelMatching.this.Pattern] =&gt; scala.collection.IterableLike[ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])(List[MatchMatrix.this.Row], List[ParallelMatching.this.Pattern])#Zipped[List[MatchMatrix.this.Row],MatchMatrix.this.Row,List[ParallelMatching.this.Pattern],ParallelMatching.this.Pattern]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (MatchMatrix.this.Row, ParallelMatching.this.Pattern) =&gt; MatchMatrix.this.Row)(implicit cbf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <span class="delimiter">(</span><a href="#801145" title="MatchMatrix.this.Row">_</a> <a href="#794385" title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row">insert</a> <a href="#801146" title="ParallelMatching.this.Pattern">_</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#793990" title="()ParallelMatching.this.global.Tree">toTree</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798277">cond</a>       = <a href="../../../Function1.scala.html#53453" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">rhs</a> <a href="../ast/TreeDSL.scala.html#547487" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">MEMBER_==</a> <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797293" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Row" id="798279">successOne</a> = <a href="#798289" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; MatchMatrix.this.Row">head</a>.<a href="#794388" title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">insert2</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: ParallelMatching.this.WildcardPattern*)List[ParallelMatching.this.WildcardPattern]">List</a><span class="delimiter">(</span><a href="Patterns.scala.html#512197" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a><span class="delimiter">)</span>, <a href="#798236" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="PatternBindings.scala.html#796367" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Row" id="798281">successTwo</a> = <a href="#794367" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">Row</a><span class="delimiter">(</span><a href="Patterns.scala.html#512195" title="(i: Int)List[ParallelMatching.this.Pattern]">emptyPatterns</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#798289" title="=&gt; MatchMatrix.this.Rep">rest</a>.<a href="#797271" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#794902" title="=&gt; Int">size</a><span class="delimiter">)</span>, <a href="PatternBindings.scala.html#512340" title="=&gt; ParallelMatching.this.Bindings">NoBinding</a>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object ParallelMatching.this.global.EmptyTree">EmptyTree</a>, <a href="#793897" title="(theLabel: ParallelMatching.this.global.Symbol)Int">createShortCut</a><span class="delimiter">(</span><a href="#798274" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; ParallelMatching.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798283">success</a>    = <a href="#798241" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: MatchMatrix.this.Row*)List[MatchMatrix.this.Row]">List</a><span class="delimiter">(</span><a href="#798278" title="=&gt; MatchMatrix.this.Row">successOne</a>, <a href="#798280" title="=&gt; MatchMatrix.this.Row">successTwo</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#793990" title="()ParallelMatching.this.global.Tree">toTree</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.LabelDef" id="798285">failure</a>    = <a href="#798274" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="798286">tree</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#798238" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="798287">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;MixEquals(%s == %s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#798236" title="=&gt; ParallelMatching.this.Pattern">head</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Mixture rule for type tests.
     *  moreSpecific: more specific patterns
     *      subsumed: more general patterns (subsuming current), rows index and subpatterns
     *     remaining: remaining, rows index and pattern
     */</span>
    <span class="keyword">class</span> <a title="class MixTypes extends MatchMatrix.this.RuleApplication with ScalaObject" id="793915">MixTypes</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.PatternMatch" id="798464">pmatch</a>: <a href="#798489" title="MatchMatrix.this.PatternMatch">PatternMatch</a>, <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="798465">rest</a>: <a href="#796261" title="MatchMatrix.this.Rep">Rep</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#793907" title="MatchMatrix.this.RuleApplication">RuleApplication</a> <span class="delimiter">{</span>
      case <span class="keyword">class</span> <a title="class Yes extends java.lang.Object with ScalaObject with Product with Serializable" id="801325">Yes</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Int" id="801338">bx</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="ParallelMatching.this.Pattern" id="801339">moreSpecific</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a>, <a title="List[ParallelMatching.this.Pattern]" id="801340">subsumed</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span>
      case <span class="keyword">class</span> <a title="class No extends java.lang.Object with ScalaObject with Product with Serializable" id="801353">No</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Int" id="801363">bx</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="ParallelMatching.this.Pattern" id="801364">remaining</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[MixTypes.this.Yes], List[MixTypes.this.No])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[MixTypes.this.Yes]" id="798435">yeses</a>, <a href="../../../Tuple2.scala.html#53404" title="List[MixTypes.this.No]" id="798437">noes</a><span class="delimiter">)</span> = <a href="../../../Tuple2.scala.html#1520" title="(List[MixTypes.this.Yes], List[MixTypes.this.No]) @unchecked" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]" id="801215">_ys</a> = <span title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]">ListBuffer</a><span class="delimiter">[</span>Yes<span class="delimiter">]</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[MixTypes.this.No]" id="801216">_ns</a> = <span title="scala.collection.mutable.ListBuffer[MixTypes.this.No]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[MixTypes.this.No]">ListBuffer</a><span class="delimiter">[</span>No<span class="delimiter">]</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="801259">pattern</a>, <a title="Int" id="801260">j</a><span class="delimiter">)</span> &lt;- <a href="#798464" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#797921" title="()List[(ParallelMatching.this.Pattern, Int)]">pzip</a><a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ((ParallelMatching.this.Pattern, Int)) =&gt; Option[scala.collection.mutable.ListBuffer[MixTypes.this.No]])Unit" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// scrutinee, head of pattern group</span>
          <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(ParallelMatching.this.global.Type, ParallelMatching.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="ParallelMatching.this.global.Type" id="801262">s</a>, <a href="../../../Tuple2.scala.html#53404" title="ParallelMatching.this.global.Type" id="801263">p</a><span class="delimiter">)</span> = <a href="../../../Tuple2.scala.html#53390" title="(_1: ParallelMatching.this.global.Type, _2: ParallelMatching.this.global.Type)(ParallelMatching.this.global.Type, ParallelMatching.this.global.Type)" class="delimiter">(</a><a href="#801259" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#796385" title="=&gt; ParallelMatching.this.global.Type">tpe</a>, <a href="#798236" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#796381" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="=&gt; Boolean" id="801264">isEquivalent</a>  = <a href="#798236" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="Patterns.scala.html#796381" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a> <a href="../symtab/Types.scala.html#507225" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#801259" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#796385" title="=&gt; ParallelMatching.this.global.Type">tpe</a>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="801265">isObjectTest</a>  = <a href="#801259" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#796389" title="=&gt; Boolean">isObject</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#801263" title="ParallelMatching.this.global.Type">p</a> <a href="../symtab/Types.scala.html#507225" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#801259" title="ParallelMatching.this.Pattern">pattern</a>.<a href="Patterns.scala.html#796381" title="=&gt; ParallelMatching.this.global.Type">necessaryType</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="=&gt; Boolean" id="801266">sMatchesP</a> = <a href="PatternBindings.scala.html#512327" title="(arg1: ParallelMatching.this.global.Type, arg2: ParallelMatching.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#801262" title="ParallelMatching.this.global.Type">s</a>, <a href="#801263" title="ParallelMatching.this.global.Type">p</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="801267">pMatchesS</a> = <a href="PatternBindings.scala.html#512327" title="(arg1: ParallelMatching.this.global.Type, arg2: ParallelMatching.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#801263" title="ParallelMatching.this.global.Type">p</a>, <a href="#801262" title="ParallelMatching.this.global.Type">s</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(yes: ParallelMatching.this.Pattern)ParallelMatching.this.Pattern" id="801268">ifEquiv</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="801316">yes</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a> = <span title="ParallelMatching.this.Pattern" class="keyword">if</span> <span class="delimiter">(</span><a href="#801264" title="=&gt; Boolean">isEquivalent</a><span class="delimiter">)</span> <a href="#801316" title="ParallelMatching.this.Pattern">yes</a> <span class="keyword">else</span> <a href="#801259" title="ParallelMatching.this.Pattern">pattern</a>

          <span class="keyword">def</span> <a title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]" id="801269">passl</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="801319">p</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a> = <a href="Patterns.scala.html#512197" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a>, <a title="List[ParallelMatching.this.Pattern]" id="801320">ps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#798464" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#797919" title="=&gt; List[ParallelMatching.this.Pattern]">dummies</a><span class="delimiter">)</span> = <a href="../../../Option.scala.html#57885" title="(x: MixTypes.this.Yes)Some[MixTypes.this.Yes]">Some</a><span class="delimiter">(</span><a href="#801325" title="(bx: Int, moreSpecific: ParallelMatching.this.Pattern, subsumed: List[ParallelMatching.this.Pattern])MixTypes.this.Yes">Yes</a><span class="delimiter">(</span><a href="#801260" title="Int">j</a>, <a href="#801319" title="ParallelMatching.this.Pattern">p</a>, <a href="#801320" title="List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="()Some[MixTypes.this.No]" id="801270">passr</a><span class="delimiter">(</span><span class="delimiter">)</span>                                                           = <a href="../../../Option.scala.html#57885" title="(x: MixTypes.this.No)Some[MixTypes.this.No]">Some</a><span class="delimiter">(</span> <a href="#801353" title="(bx: Int, remaining: ParallelMatching.this.Pattern)MixTypes.this.No">No</a><span class="delimiter">(</span><a href="#801260" title="Int">j</a>, <a href="#801259" title="ParallelMatching.this.Pattern">pattern</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(pp: ParallelMatching.this.global.Tree)Some[MixTypes.this.Yes]" id="801271">typed</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="801371">pp</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#801269" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><a href="#801268" title="(yes: ParallelMatching.this.Pattern)ParallelMatching.this.Pattern">ifEquiv</a><span class="delimiter">(</span><a href="Patterns.scala.html#797139" title="(tree: ParallelMatching.this.global.Tree)ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">(</span><a href="#801371" title="ParallelMatching.this.global.Tree">pp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="()Some[MixTypes.this.Yes]" id="801272">subs</a><span class="delimiter">(</span><span class="delimiter">)</span>          = <a href="#801269" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><a href="#801268" title="(yes: ParallelMatching.this.Pattern)ParallelMatching.this.Pattern">ifEquiv</a><span class="delimiter">(</span><a href="Patterns.scala.html#512197" title="=&gt; ParallelMatching.this.WildcardPattern">NoPattern</a><span class="delimiter">)</span>, <a href="#801259" title="ParallelMatching.this.Pattern">pattern</a> <a href="Patterns.scala.html#796383" title="(pm: ParallelMatching.this.MatchMatrix#PatternMatch)List[ParallelMatching.this.Pattern]">subpatterns</a> <a href="#798464" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Option[MixTypes.this.Yes]" id="801274">oneY</a>, <a href="../../../Tuple2.scala.html#53404" title="Option[MixTypes.this.No]" id="801275">oneN</a><span class="delimiter">)</span> = <a href="#801259" title="ParallelMatching.this.Pattern">pattern</a> <span title="(Option[MixTypes.this.Yes], Option[MixTypes.this.No])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="Patterns.scala.html#797140" title="(None.type, Some[MixTypes.this.No])">Pattern</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#547418" title="(x: Any)Option[Any]">LIT</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#801263" title="ParallelMatching.this.global.Type">p</a> <a href="../symtab/Types.scala.html#507225" title="(that: ParallelMatching.this.global.Type)Boolean">=:=</a> <a href="#801262" title="ParallelMatching.this.global.Type">s</a><span class="delimiter">)</span>       =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: None.type, _2: Some[MixTypes.this.No])(None.type, Some[MixTypes.this.No])" class="delimiter">(</a><a href="../../../Option.scala.html#1737" title="object None">None</a>, <a href="#801270" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>      <span class="comment">// (1)</span>
            <span class="keyword">case</span> <a title="(Some[MixTypes.this.Yes], None.type)" id="801386">x</a> <span class="keyword">if</span> <a href="#801265" title="=&gt; Boolean">isObjectTest</a>                      =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: Some[MixTypes.this.Yes], _2: None.type)(Some[MixTypes.this.Yes], None.type)" class="delimiter">(</a><a href="#801269" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../Option.scala.html#1737" title="object None">None</a><span class="delimiter">)</span>    <span class="comment">// (2)</span>
            <span class="keyword">case</span> <a href="Patterns.scala.html#797140" title="(Some[MixTypes.this.Yes], None.type)">Pattern</a><span class="delimiter">(</span>Typed<span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="801396">pp</a>, _<span class="delimiter">)</span><span class="delimiter">)</span>     <span class="keyword">if</span> <a href="#801266" title="=&gt; Boolean">sMatchesP</a> =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: Some[MixTypes.this.Yes], _2: None.type)(Some[MixTypes.this.Yes], None.type)" class="delimiter">(</a><a href="#801271" title="(pp: ParallelMatching.this.global.Tree)Some[MixTypes.this.Yes]">typed</a><span class="delimiter">(</span><a href="#801396" title="ParallelMatching.this.global.Tree">pp</a><span class="delimiter">)</span>, <a href="../../../Option.scala.html#1737" title="object None">None</a><span class="delimiter">)</span>  <span class="comment">// (4)</span>
            <span class="comment">// The next line used to be this which &quot;fixed&quot; 1697 but introduced</span>
            <span class="comment">// numerous regressions including #3136.</span>
            <span class="comment">// case Pattern(_: UnApply, _)              =&gt; (passl(), passr)</span>
            <span class="keyword">case</span> <a href="Patterns.scala.html#797140" title="(None.type, Some[MixTypes.this.No])">Pattern</a><span class="delimiter">(</span>_: <a href="../../../reflect/generic/Trees.scala.html#434085" title="ParallelMatching.this.global.UnApply">UnApply</a><span class="delimiter">)</span>                    =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: None.type, _2: Some[MixTypes.this.No])(None.type, Some[MixTypes.this.No])" class="delimiter">(</a><a href="../../../Option.scala.html#1737" title="object None">None</a>, <a href="#801270" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="(Some[MixTypes.this.Yes], None.type)" id="801410">x</a> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#801410" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#796380" title="=&gt; Boolean">isDefault</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#801266" title="=&gt; Boolean">sMatchesP</a>         =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: Some[MixTypes.this.Yes], _2: None.type)(Some[MixTypes.this.Yes], None.type)" class="delimiter">(</a><a href="#801272" title="()Some[MixTypes.this.Yes]">subs</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../Option.scala.html#1737" title="object None">None</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="(Some[MixTypes.this.Yes], Some[MixTypes.this.No])" id="801417">x</a> <span class="keyword">if</span>  <a href="#801417" title="ParallelMatching.this.Pattern">x</a>.<a href="Patterns.scala.html#796380" title="=&gt; Boolean">isDefault</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#801267" title="=&gt; Boolean">pMatchesS</a>         =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: Some[MixTypes.this.Yes], _2: Some[MixTypes.this.No])(Some[MixTypes.this.Yes], Some[MixTypes.this.No])" class="delimiter">(</a><a href="#801269" title="(p: ParallelMatching.this.Pattern, ps: List[ParallelMatching.this.Pattern])Some[MixTypes.this.Yes]">passl</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#801270" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(None.type, Some[MixTypes.this.No])">_</span>                                      =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: None.type, _2: Some[MixTypes.this.No])(None.type, Some[MixTypes.this.No])" class="delimiter">(</a><a href="../../../Option.scala.html#1737" title="object None">None</a>, <a href="#801270" title="()Some[MixTypes.this.No]">passr</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#801274" title="Option[MixTypes.this.Yes]">oneY</a> <a href="../../../Option.scala.html#48480" title="(f: MixTypes.this.Yes =&gt; scala.collection.mutable.ListBuffer[MixTypes.this.Yes])Option[scala.collection.mutable.ListBuffer[MixTypes.this.Yes]]">map</a> <span class="delimiter">(</span><a href="#801215" title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]">_ys</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: MixTypes.this.Yes)_ys.type">+=</a><span class="delimiter">)</span>
          <a href="#801275" title="Option[MixTypes.this.No]">oneN</a> <a href="../../../Option.scala.html#48480" title="(f: MixTypes.this.No =&gt; scala.collection.mutable.ListBuffer[MixTypes.this.No])Option[scala.collection.mutable.ListBuffer[MixTypes.this.No]]">map</a> <span class="delimiter">(</span><a href="#801216" title="scala.collection.mutable.ListBuffer[MixTypes.this.No]">_ns</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: MixTypes.this.No)_ns.type">+=</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../../../Tuple2.scala.html#53390" title="(_1: List[MixTypes.this.Yes], _2: List[MixTypes.this.No])(List[MixTypes.this.Yes], List[MixTypes.this.No])" class="delimiter">(</a><a href="#801215" title="scala.collection.mutable.ListBuffer[MixTypes.this.Yes]">_ys</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[MixTypes.this.Yes]">toList</a>, <a href="#801216" title="scala.collection.mutable.ListBuffer[MixTypes.this.No]">_ns</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[MixTypes.this.No]">toList</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[ParallelMatching.this.Pattern]" id="798439">moreSpecific</a> = <a href="#798435" title="=&gt; List[MixTypes.this.Yes]">yeses</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: MixTypes.this.Yes =&gt; ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.Yes],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">map</a> <span class="delimiter">(</span><a href="#801548" title="MixTypes.this.Yes">_</a>.<a href="#801339" title="=&gt; ParallelMatching.this.Pattern">moreSpecific</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[(Int, List[ParallelMatching.this.Pattern])]" id="798441">subsumed</a> = <a href="#798435" title="=&gt; List[MixTypes.this.Yes]">yeses</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: MixTypes.this.Yes =&gt; (Int, List[ParallelMatching.this.Pattern]))(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.Yes],(Int, List[ParallelMatching.this.Pattern]),List[(Int, List[ParallelMatching.this.Pattern])]])List[(Int, List[ParallelMatching.this.Pattern])]">map</a> <span class="delimiter">(</span><a title="MixTypes.this.Yes" id="801586">x</a> =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: Int, _2: List[ParallelMatching.this.Pattern])(Int, List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="#801586" title="MixTypes.this.Yes">x</a>.<a href="#801338" title="=&gt; Int">bx</a>, <a href="#801586" title="MixTypes.this.Yes">x</a>.<a href="#801340" title="=&gt; List[ParallelMatching.this.Pattern]">subsumed</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[(Int, ParallelMatching.this.Pattern)]" id="798443">remaining</a> = <a href="#798437" title="=&gt; List[MixTypes.this.No]">noes</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: MixTypes.this.No =&gt; (Int, ParallelMatching.this.Pattern))(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.No],(Int, ParallelMatching.this.Pattern),List[(Int, ParallelMatching.this.Pattern)]])List[(Int, ParallelMatching.this.Pattern)]">map</a> <span class="delimiter">(</span><a title="MixTypes.this.No" id="801636">x</a> =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: Int, _2: ParallelMatching.this.Pattern)(Int, ParallelMatching.this.Pattern)" class="delimiter">(</a><a href="#801636" title="MixTypes.this.No">x</a>.<a href="#801363" title="=&gt; Int">bx</a>, <a href="#801636" title="MixTypes.this.No">x</a>.<a href="#801364" title="=&gt; ParallelMatching.this.Pattern">remaining</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[(Int, List[ParallelMatching.this.Pattern])]" id="798445">mkZipped</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span>Yes<span class="delimiter">(</span><a title="Int" id="801763">j</a>, <a title="ParallelMatching.this.Pattern" id="801764">moreSpecific</a>, <a title="List[ParallelMatching.this.Pattern]" id="801765">subsumed</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: MixTypes.this.Yes =&gt; (Int, List[ParallelMatching.this.Pattern]))(implicit bf: scala.collection.generic.CanBuildFrom[List[MixTypes.this.Yes],(Int, List[ParallelMatching.this.Pattern]),List[(Int, List[ParallelMatching.this.Pattern])]])List[(Int, List[ParallelMatching.this.Pattern])]">yeses</a><span class="delimiter">)</span> <span class="keyword">yield</span>
          <a href="../../../Predef.scala.html#9589" title="(x: Int)ArrowAssoc[Int]">j</a> <a href="../../../Predef.scala.html#57653" title="(y: List[ParallelMatching.this.Pattern])(Int, List[ParallelMatching.this.Pattern])">-&gt;</a> <span class="delimiter">(</span><a href="#801764" title="ParallelMatching.this.Pattern">moreSpecific</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <a href="#801765" title="List[ParallelMatching.this.Pattern]">subsumed</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Scrutinee" id="798447">casted</a> = <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a> <a href="#797312" title="(headType: ParallelMatching.this.global.Type)MatchMatrix.this.Scrutinee">castedTo</a> <a href="#798464" title="=&gt; MatchMatrix.this.PatternMatch">pmatch</a>.<a href="#797916" title="=&gt; ParallelMatching.this.global.Type">headType</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798449">cond</a>   = <a href="#793930" title="(tpe: ParallelMatching.this.global.Type, scrut: MatchMatrix.this.Scrutinee, isBound: Boolean)ParallelMatching.this.global.Tree">condition</a><span class="delimiter">(</span><a href="#798446" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a>, <a href="#798232" title="=&gt; MatchMatrix.this.Scrutinee">scrut</a>, <a href="#798236" title="=&gt; ParallelMatching.this.Pattern">head</a>.<a href="PatternBindings.scala.html#796367" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="798450">isAnyMoreSpecific</a> = <a href="#798435" title="=&gt; List[MixTypes.this.Yes]">yeses</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: MixTypes.this.Yes =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="MixTypes.this.Yes" id="801694">x</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#801694" title="MixTypes.this.Yes">x</a>.<a href="#801339" title="=&gt; ParallelMatching.this.Pattern">moreSpecific</a>.<a href="Patterns.scala.html#796386" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[(Int, List[ParallelMatching.this.Pattern])], List[MatchMatrix.this.context.PatternVar])" id="798452" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[(Int, List[ParallelMatching.this.Pattern])]" id="798454">subtests</a>, <a href="../../../Tuple2.scala.html#53404" title="List[MatchMatrix.this.context.PatternVar]" id="798456">subtestVars</a><span class="delimiter">)</span> =
        <span title="(List[(Int, List[ParallelMatching.this.Pattern])], List[MatchMatrix.this.context.PatternVar])" class="keyword">if</span> <span class="delimiter">(</span><a href="#798450" title="=&gt; Boolean">isAnyMoreSpecific</a><span class="delimiter">)</span>  <a href="../../../Tuple2.scala.html#53390" title="(_1: List[(Int, List[ParallelMatching.this.Pattern])], _2: List[MatchMatrix.this.context.PatternVar])(List[(Int, List[ParallelMatching.this.Pattern])], List[MatchMatrix.this.context.PatternVar])" class="delimiter">(</a><a href="#798445" title="=&gt; List[(Int, List[ParallelMatching.this.Pattern])]">mkZipped</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: MatchMatrix.this.context.PatternVar*)List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">(</span><a href="#798446" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#797557" title="=&gt; MatchMatrix.this.context.PatternVar">pv</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>                    <a href="../../../Tuple2.scala.html#53390" title="(_1: List[(Int, List[ParallelMatching.this.Pattern])], _2: scala.collection.immutable.Nil.type)(List[(Int, List[ParallelMatching.this.Pattern])], scala.collection.immutable.Nil.type)" class="delimiter">(</a><a href="#798441" title="=&gt; List[(Int, List[ParallelMatching.this.Pattern])]">subsumed</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="798458">newRows</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="801876">j</a>, <a title="List[ParallelMatching.this.Pattern]" id="801877">ps</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((Int, List[ParallelMatching.this.Pattern])) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, List[ParallelMatching.this.Pattern])],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">subtests</a><span class="delimiter">)</span> <span class="keyword">yield</span>
          <span class="delimiter">(</span><a href="#798465" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#801876" title="Int">j</a><span class="delimiter">)</span>.<a href="#794388" title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row">insert2</a><span class="delimiter">(</span><a href="#801877" title="List[ParallelMatching.this.Pattern]">ps</a>, <a href="#797920" title="(i: Int)ParallelMatching.this.Pattern">pmatch</a><span class="delimiter">(</span><a href="#801876" title="Int">j</a><span class="delimiter">)</span>.<a href="PatternBindings.scala.html#796367" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a>, <a href="#798446" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#797290" title="=&gt; ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798460">success</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="801912">srep</a> = <a href="#798241" title="(rows: List[MatchMatrix.this.Row], pvgroup: MatchMatrix.this.context.PatternVarGroup, includeScrut: Boolean)MatchMatrix.this.Rep">remake</a><span class="delimiter">(</span><a href="#798457" title="=&gt; List[MatchMatrix.this.Row]">newRows</a>, <a href="#798455" title="=&gt; List[MatchMatrix.this.context.PatternVar]">subtestVars</a> <a href="Matrix.scala.html#794905" title="(ts: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">:::</a> <a href="#798446" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#797296" title="=&gt; MatchMatrix.this.context.PatternVarGroup">accessorPatternVars</a>, includeScrut = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <a href="MatrixAdditions.scala.html#793728" title="(vds: List[ParallelMatching.this.global.Tree], exp: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">squeezedBlock</a><span class="delimiter">(</span><a href="#798446" title="=&gt; MatchMatrix.this.Scrutinee">casted</a>.<a href="#797299" title="=&gt; List[ParallelMatching.this.global.analyzer.global.ValDef]">allValDefs</a>, <a href="#801912" title="MatchMatrix.this.Rep">srep</a>.<a href="#793990" title="()ParallelMatching.this.global.Tree">toTree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="798462">failure</a> =
        <a href="#798240" title="(xs: List[MatchMatrix.this.Row])ParallelMatching.this.global.Tree">mkFail</a><span class="delimiter">(</span><a href="#798443" title="=&gt; List[(Int, ParallelMatching.this.Pattern)]">remaining</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((Int, ParallelMatching.this.Pattern)) =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Int, ParallelMatching.this.Pattern)],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <a href="#801931" title="MatchMatrix.this.Row" class="delimiter">{</a> <span class="keyword">case</span> <span title="MatchMatrix.this.Row" class="delimiter">(</span><a title="Int" id="801934">p1</a>, <a title="ParallelMatching.this.Pattern" id="801935">p2</a><span class="delimiter">)</span> =&gt; <a href="#798465" title="=&gt; MatchMatrix.this.Rep">rest</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)MatchMatrix.this.Row">rows</a> <a href="#801934" title="Int">p1</a> <a href="#794385" title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row">insert</a> <a href="#801935" title="ParallelMatching.this.Pattern">p2</a> <span class="delimiter">}</span><span class="delimiter">)</span>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="798463">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> = <a href="#798238" title="=&gt; ParallelMatching.this.global.Tree">codegen</a>
    <span class="delimiter">}</span>

    <span class="comment">/*** States, Rows, Etc. ***/</span>

    case <span class="keyword">class</span> <a title="class Row extends java.lang.Object with ScalaObject with Product with Serializable" id="794367">Row</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[ParallelMatching.this.Pattern]" id="794393">pats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span>, <a title="ParallelMatching.this.Bindings" id="794394">subst</a>: <a href="PatternBindings.scala.html#512339" title="ParallelMatching.this.Bindings">Bindings</a>, <a title="ParallelMatching.this.global.Tree" id="794395">guard</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a>, <a title="Int" id="794396">bx</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="794381">nobindings</a> = <a href="#794394" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#798626" title="()List[ParallelMatching.this.Binding]">get</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="794382">bindstr</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#794381" title="=&gt; Boolean">nobindings</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="MatchSupport.scala.html#792505" title="(x: Any)String">pp</a><span class="delimiter">(</span><a href="#794394" title="=&gt; ParallelMatching.this.Bindings">subst</a><span class="delimiter">)</span>

      <span class="comment">/** Extracts the 'i'th pattern. */</span>
      <span class="keyword">def</span> <a title="(i: Int)(ParallelMatching.this.Pattern, MatchMatrix.this.Row)" id="794383">extractColumn</a><span class="delimiter">(</span><a title="Int" id="802109">i</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(ParallelMatching.this.Pattern, List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="ParallelMatching.this.Pattern" id="802113">x</a>, <a href="../../../Tuple2.scala.html#53404" title="List[ParallelMatching.this.Pattern]" id="802114">xs</a><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#512291" title="(xs: List[ParallelMatching.this.Pattern], n: Int)(ParallelMatching.this.Pattern, List[ParallelMatching.this.Pattern])">extractIndex</a><a href="../../../Tuple2.scala.html#1520" title="(ParallelMatching.this.Pattern, List[ParallelMatching.this.Pattern]) @unchecked" class="delimiter">(</a><a href="#794393" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a>, <a href="#802109" title="Int">i</a><span class="delimiter">)</span>
        <a href="../../../Tuple2.scala.html#53390" title="(_1: ParallelMatching.this.Pattern, _2: MatchMatrix.this.Row)(ParallelMatching.this.Pattern, MatchMatrix.this.Row)" class="delimiter">(</a><a href="#802113" title="ParallelMatching.this.Pattern">x</a>, <a href="#794367" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#802114" title="List[ParallelMatching.this.Pattern]">xs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Replaces the 'i'th pattern with the argument. */</span>
      <span class="keyword">def</span> <a title="(i: Int, p: ParallelMatching.this.Pattern)MatchMatrix.this.Row" id="794384">replaceAt</a><span class="delimiter">(</span><a title="Int" id="802141">i</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="ParallelMatching.this.Pattern" id="802142">p</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.Pattern]" id="802145">newps</a> = <span class="delimiter">(</span><a href="#794393" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a> <a href="../../../collection/immutable/List.scala.html#49163" title="(n: Int)List[ParallelMatching.this.Pattern]">take</a> <a href="#802141" title="Int">i</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:::</a> <a href="#802142" title="ParallelMatching.this.Pattern">p</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <span class="delimiter">(</span><a href="#794393" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a> <a href="../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[ParallelMatching.this.Pattern]">drop</a> <span class="delimiter">(</span><a href="#802141" title="Int">i</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#794367" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#802145" title="List[ParallelMatching.this.Pattern]">newps</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(h: ParallelMatching.this.Pattern)MatchMatrix.this.Row" id="794385">insert</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="799759">h</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span>              = <a href="#794367" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#799759" title="ParallelMatching.this.Pattern">h</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <a href="#794393" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(hs: List[ParallelMatching.this.Pattern])MatchMatrix.this.Row" id="794386">insert</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.Pattern]" id="799745">hs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span><span class="delimiter">)</span>       = <a href="#794367" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#799745" title="List[ParallelMatching.this.Pattern]">hs</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:::</a> <a href="#794393" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a><span class="delimiter">)</span>  <span class="comment">// prepends supplied pattern</span>
      <span class="keyword">def</span> <a title="(b: ParallelMatching.this.Bindings)MatchMatrix.this.Row" id="794387">rebind</a><span class="delimiter">(</span><a title="ParallelMatching.this.Bindings" id="798895">b</a>: <a href="PatternBindings.scala.html#512339" title="ParallelMatching.this.Bindings">Bindings</a><span class="delimiter">)</span>             = <a href="#794393" title="List[ParallelMatching.this.Pattern]" id="798923">copy</a><span class="delimiter">(</span>subst = <a href="#798895" title="ParallelMatching.this.Bindings" id="798920">b</a><span class="delimiter">)</span>           <span class="comment">// substitutes for bindings</span>

      <span class="keyword">def</span> <a title="(hs: List[ParallelMatching.this.Pattern], vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)MatchMatrix.this.Row" id="794388">insert2</a><span class="delimiter">(</span><a title="List[ParallelMatching.this.Pattern]" id="800121">hs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span>, <a title="Iterable[ParallelMatching.this.global.Symbol]" id="800122">vs</a>: <a href="../../../collection/Iterable.scala.html#8279" title="Iterable[ParallelMatching.this.global.Symbol]">Iterable</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Symbol" id="800123">tvar</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="MatchSupport.scala.html#792511" title="(s: String)(x: MatchMatrix.this.Row)MatchMatrix.this.Row">tracing</a><span class="delimiter">(</span><span title="java.lang.String(&quot;insert2&quot;)" class="string">&quot;insert2&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#794367" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#800121" title="List[ParallelMatching.this.Pattern]">hs</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[ParallelMatching.this.Pattern])List[ParallelMatching.this.Pattern]">:::</a> <a href="#794393" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a>, subst = <a href="#794394" title="=&gt; ParallelMatching.this.Bindings">subst</a>.<a href="PatternBindings.scala.html#798628" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#800122" title="Iterable[ParallelMatching.this.global.Symbol]">vs</a>, <a href="#800123" title="ParallelMatching.this.global.Symbol">tvar</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">// returns this rows with alternatives expanded</span>
      <span class="keyword">def</span> <a title="(classifyPat: (ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern)List[MatchMatrix.this.Row]" id="794389">expandAlternatives</a><span class="delimiter">(</span><a title="(ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern" id="797233">classifyPat</a>: <span class="delimiter">(</span>Pattern, Int<span class="delimiter">)</span> =&gt; Pattern<span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[MatchMatrix.this.Row]">List</a><span class="delimiter">[</span>Row<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(p: ParallelMatching.this.Pattern)Boolean" id="802164">isNotAlternative</a><span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="802169">p</a>: <a href="Patterns.scala.html#512263" title="ParallelMatching.this.Pattern">Pattern</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../../PartialFunction.scala.html#65100" title="(x: ParallelMatching.this.global.Tree)(pf: PartialFunction[ParallelMatching.this.global.Tree,Boolean])Boolean">cond</a><span class="delimiter">(</span><a href="#802169" title="ParallelMatching.this.Pattern">p</a>.<a href="Patterns.scala.html#796377" title="=&gt; ParallelMatching.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#802178" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean(true)">_</span>: <a href="../../../reflect/generic/Trees.scala.html#434076" title="ParallelMatching.this.global.Alternative">Alternative</a> =&gt; <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">}</span>

        <span class="comment">// classify all the top level patterns - alternatives come back unaltered</span>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.Pattern]" id="802165">newPats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.Pattern]">List</a><span class="delimiter">[</span>Pattern<span class="delimiter">]</span> = <a href="#794393" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a>.<a href="../../../collection/IterableLike.scala.html#53915" title="(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],(ParallelMatching.this.Pattern, Int),List[(ParallelMatching.this.Pattern, Int)]])List[(ParallelMatching.this.Pattern, Int)]">zipWithIndex</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((ParallelMatching.this.Pattern, Int)) =&gt; ParallelMatching.this.Pattern)(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.Pattern, Int)],ParallelMatching.this.Pattern,List[ParallelMatching.this.Pattern]])List[ParallelMatching.this.Pattern]">map</a> <a href="#797233" title="(ParallelMatching.this.Pattern, Int) =&gt; ParallelMatching.this.Pattern">classifyPat</a>.<a href="../../../Function2.scala.html#59855" title="=&gt; ((ParallelMatching.this.Pattern, Int)) =&gt; ParallelMatching.this.Pattern">tupled</a>
        <span class="comment">// see if any alternatives were in there</span>
        <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[ParallelMatching.this.Pattern]" id="802167">ps</a>, <a href="../../../Tuple2.scala.html#53404" title="List[ParallelMatching.this.Pattern]" id="802168">others</a><span class="delimiter">)</span> = <a href="#802165" title="List[ParallelMatching.this.Pattern]">newPats</a> <a href="../../../collection/immutable/List.scala.html#49170" title="(p: ParallelMatching.this.Pattern =&gt; Boolean)(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])">span</a> <a href="#802164" title="(p: ParallelMatching.this.Pattern)Boolean">isNotAlternative</a>
        <span class="comment">// make a new row for each alternative, with it spliced into the original position</span>
        <span title="List[MatchMatrix.this.Row]" class="keyword">if</span> <span class="delimiter">(</span><a href="#802168" title="List[ParallelMatching.this.Pattern]">others</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: MatchMatrix.this.Row*)List[MatchMatrix.this.Row]">List</a><span class="delimiter">(</span><a href="#794367" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">copy</a><span class="delimiter">(</span>pats = <a href="#802167" title="List[ParallelMatching.this.Pattern]">ps</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="PatternBindings.scala.html#512333" title="(p: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">extractBindings</a><span class="delimiter">(</span><a href="#802168" title="List[ParallelMatching.this.Pattern]">others</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; ParallelMatching.this.Pattern">head</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ParallelMatching.this.Pattern =&gt; MatchMatrix.this.Row)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],MatchMatrix.this.Row,List[MatchMatrix.this.Row]])List[MatchMatrix.this.Row]">map</a> <span class="delimiter">(</span><a title="ParallelMatching.this.Pattern" id="802305">x</a> =&gt; <a href="#794384" title="(i: Int, p: ParallelMatching.this.Pattern)MatchMatrix.this.Row">replaceAt</a><span class="delimiter">(</span><a href="#802167" title="List[ParallelMatching.this.Pattern]">ps</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a>, <a href="#802305" title="ParallelMatching.this.Pattern">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="794390">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="java.lang.String" id="802335">bs</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#794381" title="=&gt; Boolean">nobindings</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#794382" title="=&gt; java.lang.String">bindstr</a>
        <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Row(%d)(%s%s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#794396" title="=&gt; Int">bx</a>, <a href="MatchSupport.scala.html#792505" title="(x: Any)String">pp</a><span class="delimiter">(</span><a href="#794393" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a><span class="delimiter">)</span>, <a href="#802335" title="java.lang.String">bs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class State extends java.lang.Object with ScalaObject" id="793919">State</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
      <span class="keyword">def</span> <a title="=&gt; Int" id="794413">bx</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>                   <span class="comment">// index into the list of rows</span>
      <span class="keyword">def</span> <a title="=&gt; List[ParallelMatching.this.global.Symbol]" id="794414">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>      <span class="comment">// bound names to be supplied as arguments to labeldef</span>
      <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Tree" id="794415">body</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a>                <span class="comment">// body to execute upon match</span>
      <span class="keyword">def</span> <a title="=&gt; Option[ParallelMatching.this.global.LabelDef]" id="794416">label</a>: <a href="../../../Option.scala.html#560" title="Option[ParallelMatching.this.global.LabelDef]">Option</a><span class="delimiter">[</span>LabelDef<span class="delimiter">]</span>   <span class="comment">// label definition for this state</span>

      <span class="comment">// Called with a bindings map when a match is achieved.</span>
      <span class="comment">// Returns a list of variable declarations based on the labeldef parameters</span>
      <span class="comment">// and the given substitution, and the body to execute.</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" id="794417">applyBindingsImpl</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="794503">subst</a>: <a href="../../../collection/immutable/Map.scala.html#13468" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1520" title="(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" class="delimiter">(</a>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span>, Tree<span class="delimiter">)</span>

      <span class="keyword">final</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" id="794418">applyBindings</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="798639">subst</a>: <a href="../../../collection/immutable/Map.scala.html#13468" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1520" title="(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)" class="delimiter">(</a>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span>, Tree<span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#794420" title="(x$1: Int)Unit">_referenceCount</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
        <a href="#794417" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.ValDef], ParallelMatching.this.global.Tree)">applyBindingsImpl</a><span class="delimiter">(</span><a href="#798639" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="794420">_referenceCount</a>   = <span title="Int(0)" class="int">0</span>
      <span class="keyword">def</span> <a title="=&gt; Int" id="794422">referenceCount</a>            = <a href="#794420" title="=&gt; Int">_referenceCount</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="794423">unreached</a>                 = <a href="#794422" title="=&gt; Int">referenceCount</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span>
      <span class="keyword">def</span> <a title="(sym: ParallelMatching.this.global.Symbol)Boolean" id="794424">shouldInline</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="796149">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#794422" title="=&gt; Int">referenceCount</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#794416" title="=&gt; Option[ParallelMatching.this.global.LabelDef]">label</a>.<a href="../../../Option.scala.html#48490" title="(p: ParallelMatching.this.global.LabelDef =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#796159" title="ParallelMatching.this.global.LabelDef">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; ParallelMatching.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#796149" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="comment">// Creates a simple Ident if the symbol's type conforms to</span>
      <span class="comment">// the val definition's type, or a casted Ident if not.</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree with Serializable" id="794425">newValIdent</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="794555">lhs</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a>, <a title="ParallelMatching.this.global.Symbol" id="794556">rhs</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="&lt;none&gt; extends ParallelMatching.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#794556" title="ParallelMatching.this.global.Symbol">rhs</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#794555" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#479144" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#794556" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../ast/Trees.scala.html#479144" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Ident">Ident</a><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods" class="delimiter">(</a><a href="#794556" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#547509" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.TypeApply">AS</a> <a href="#794555" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ParallelMatching.this.global.Type">tpe</a>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.ValDef" id="794426">newValDefinition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="794533">lhs</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a>, <a title="ParallelMatching.this.global.Symbol" id="794534">rhs</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="Matrix.scala.html#793739" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#507730" title="(vdef: ParallelMatching.this.global.analyzer.global.ValDef)ParallelMatching.this.global.analyzer.global.ValDef">typedValDef</a> <a href="../ast/Trees.scala.html#479125" title="(sym: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Tree)ParallelMatching.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#794533" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#794425" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree with Serializable">newValIdent</a><span class="delimiter">(</span><a href="#794533" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#794534" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.Tree" id="794427">newValReference</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="802407">lhs</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a>, <a title="ParallelMatching.this.global.Symbol" id="802408">rhs</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="Matrix.scala.html#793739" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#507768" title="(tree: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">typed</a> <a href="#794425" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree with Serializable">newValIdent</a><span class="delimiter">(</span><a href="#802407" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#802408" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.ValDef]" id="794428">valDefsFor</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="794515">subst</a>: <a href="../../../collection/immutable/Map.scala.html#13468" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#794430" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(f: (ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; ParallelMatching.this.global.analyzer.global.ValDef)List[ParallelMatching.this.global.analyzer.global.ValDef]">mapSubst</a><span class="delimiter">(</span><a href="#794515" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#794426" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.ValDef">newValDefinition</a><span class="delimiter">)</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.Tree]" id="794429">identsFor</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="802419">subst</a>: <a href="../../../collection/immutable/Map.scala.html#13468" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span>  = <a href="#794430" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(f: (ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; ParallelMatching.this.global.analyzer.global.Tree)List[ParallelMatching.this.global.analyzer.global.Tree]">mapSubst</a><span class="delimiter">(</span><a href="#802419" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#794427" title="(lhs: ParallelMatching.this.global.Symbol, rhs: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.analyzer.global.Tree">newValReference</a><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="[T](subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(f: (ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; T)List[T]" id="794430">mapSubst</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="794432">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="794518">subst</a>: <a href="../../../collection/immutable/Map.scala.html#13468" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(ParallelMatching.this.global.Symbol, ParallelMatching.this.global.Symbol) =&gt; T" id="794519">f</a>: <span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span> =&gt; T<span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[T]">List</a><span class="delimiter">[</span>T<span class="delimiter">]</span> =
        <a href="#794414" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: ParallelMatching.this.global.Symbol =&gt; scala.collection.GenTraversableOnce[T])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Symbol],T,List[T]])List[T]">flatMap</a> <span class="delimiter">{</span> <a title="ParallelMatching.this.global.Symbol" id="802455">lhs</a> =&gt;
          <a href="#794518" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a> <a href="../../../collection/MapLike.scala.html#73194" title="(key: ParallelMatching.this.global.Symbol)Option[ParallelMatching.this.global.Symbol]">get</a> <a href="#802455" title="ParallelMatching.this.global.Symbol">lhs</a> <a href="../../../Option.scala.html#48480" title="(f: ParallelMatching.this.global.Symbol =&gt; T)Option[T]">map</a> <span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="802462">rhs</a> =&gt; <a href="../../../Function2.scala.html#59852" title="(v1: ParallelMatching.this.global.Symbol, v2: ParallelMatching.this.global.Symbol)T">f</a><span class="delimiter">(</span><a href="#802455" title="ParallelMatching.this.global.Symbol">lhs</a>, <a href="#802462" title="ParallelMatching.this.global.Symbol">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#80646" title="(xo: Option[T])Iterable[T]">orElse</a> <span class="delimiter">{</span>
            <span class="comment">// This should not happen; the code should be structured so it is</span>
            <span class="comment">// impossible, but that still lies ahead.</span>
            <a href="Matrix.scala.html#793735" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: ParallelMatching.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#802455" title="ParallelMatching.this.global.Symbol">lhs</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; ParallelMatching.this.global.Position">pos</a>, <span title="java.lang.String(&quot;No binding&quot;)" class="string">&quot;No binding&quot;</span><span class="delimiter">)</span>
            <a href="../../../Option.scala.html#1737" title="object None">None</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

      <span class="comment">// typer is not able to digest a body of type Nothing being assigned result type Unit</span>
      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; ParallelMatching.this.global.Type" id="794433">caseResultType</a> =
        <span title="ParallelMatching.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#794415" title="=&gt; ParallelMatching.this.global.Tree">body</a>.<a href="MatchSupport.scala.html#792464" title="implicit scala.tools.nsc.matching.MatchSupport.Types.enrichType : (x: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#792485" title="=&gt; Boolean">isNothing</a><span class="delimiter">)</span> <a href="#794415" title="=&gt; ParallelMatching.this.global.Tree">body</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="Matrix.scala.html#793743" title="=&gt; ParallelMatching.this.global.Type">matchResultType</a>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class LiteralState extends MatchMatrix.this.State with ScalaObject with Product with Serializable" id="794411">LiteralState</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Int" id="794448">bx</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="List[ParallelMatching.this.global.Symbol]" id="794449">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Tree" id="794450">body</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#793919" title="MatchMatrix.this.State">State</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; None.type" id="794444">label</a> = <a href="../../../Option.scala.html#1737" title="object None">None</a>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.Tree)" id="794445">applyBindingsImpl</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="794501">subst</a>: <a href="../../../collection/immutable/Map.scala.html#13468" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
        <a href="../../../Tuple2.scala.html#53390" title="(_1: List[ParallelMatching.this.global.analyzer.global.ValDef], _2: ParallelMatching.this.global.Tree)(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.Tree)" class="delimiter">(</a><a href="#794428" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.ValDef]">valDefsFor</a><span class="delimiter">(</span><a href="#794501" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>, <a href="#794450" title="=&gt; ParallelMatching.this.global.Tree">body</a>.<a href="../../../reflect/generic/Trees.scala.html#441040" title="=&gt; LiteralState.this.body.type">duplicate</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: ParallelMatching.this.global.Type)LiteralState.this.body.type">setType</a> <a href="#794433" title="=&gt; ParallelMatching.this.global.Type">caseResultType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class FinalState extends MatchMatrix.this.State with ScalaObject with Product with Serializable" id="794460">FinalState</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Int" id="794479">bx</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="List[ParallelMatching.this.global.Symbol]" id="794480">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ParallelMatching.this.global.Tree" id="794481">body</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#793919" title="MatchMatrix.this.State">State</a> <span class="delimiter">{</span>
      <a href="MatchSupport.scala.html#792510" title="(cat: String, f: String, xs: Any*)Unit">traceCategory</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Final State&quot;)" class="string">&quot;Final State&quot;</span>, <span title="java.lang.String(&quot;(%s) =&gt; %s&quot;)" class="string">&quot;(%s) =&gt; %s&quot;</span>, <a href="#794475" title="=&gt; String">paramsString</a>, <a href="#794481" title="=&gt; ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Some[ParallelMatching.this.global.LabelDef]" id="794471">label</a> = <a href="../../../Option.scala.html#57885" title="(x: ParallelMatching.this.global.LabelDef)Some[ParallelMatching.this.global.LabelDef]">Some</a><span class="delimiter">(</span><a href="#794472" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a><span class="delimiter">)</span>

      <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ParallelMatching.this.global.LabelDef" id="794473">labelDef</a> = <a href="#793898" title="(namePrefix: String, body: ParallelMatching.this.global.Tree, params: List[ParallelMatching.this.global.Symbol], restpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.LabelDef">createLabelDef</a><span class="delimiter">(</span><span title="java.lang.String(&quot;body%&quot;)" class="string">&quot;body%&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#794479" title="=&gt; Int">bx</a>, <a href="#794481" title="=&gt; ParallelMatching.this.global.Tree">body</a>, <a href="#794480" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#794433" title="=&gt; ParallelMatching.this.global.Type">caseResultType</a><span class="delimiter">)</span>

      <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.TermTree with Serializable)" id="794474">applyBindingsImpl</a><span class="delimiter">(</span><a title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]" id="802672">subst</a>: <a href="../../../collection/immutable/Map.scala.html#13468" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">Map</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="&lt;none&gt; extends ParallelMatching.this.global.TermTree with Serializable" id="802675">tree</a> =
          <span title="&lt;none&gt; extends ParallelMatching.this.global.TermTree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#794422" title="=&gt; Int">referenceCount</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#515242" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">ID</a><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods" class="delimiter">(</a><a href="#794472" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; ParallelMatching.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#547503" title="(params: List[ParallelMatching.this.global.Tree])ParallelMatching.this.global.Apply">APPLY</a> <a href="#794429" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.Tree]">identsFor</a><span class="delimiter">(</span><a href="#802672" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#794472" title="=&gt; ParallelMatching.this.global.LabelDef">labelDef</a>

        <a href="../../../Tuple2.scala.html#53390" title="(_1: List[ParallelMatching.this.global.analyzer.global.ValDef], _2: ParallelMatching.this.global.TermTree with Serializable)(List[ParallelMatching.this.global.analyzer.global.ValDef], ParallelMatching.this.global.TermTree with Serializable)" class="delimiter">(</a><a href="#794428" title="(subst: Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol])List[ParallelMatching.this.global.analyzer.global.ValDef]">valDefsFor</a><span class="delimiter">(</span><a href="#802672" title="Map[ParallelMatching.this.global.Symbol,ParallelMatching.this.global.Symbol]">subst</a><span class="delimiter">)</span>, <a href="#802675" title="&lt;none&gt; extends ParallelMatching.this.global.TermTree with Serializable">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; String" id="794475">paramsString</a> = <a href="#794480" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ParallelMatching.this.global.Symbol =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Symbol],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a> <span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="802639">s</a> =&gt; <a href="#802639" title="ParallelMatching.this.global.Symbol">s</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#802639" title="ParallelMatching.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ParallelMatching.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="794476">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#792505" title="(x: Any)String">pp</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;(%s) =&gt; %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="MatchSupport.scala.html#792505" title="(x: Any)String">pp</a><span class="delimiter">(</span><a href="#794480" title="=&gt; List[ParallelMatching.this.global.Symbol]">params</a><span class="delimiter">)</span>, <a href="#794481" title="=&gt; ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    case <span class="keyword">class</span> <a title="class Rep extends java.lang.Object with ScalaObject with Product with Serializable" id="796261">Rep</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="MatchMatrix.this.context.PatternVarGroup" id="797271">tvars</a>: <a href="Matrix.scala.html#793762" title="MatchMatrix.this.context.PatternVarGroup">PatternVarGroup</a>, <span class="keyword">val</span> <a title="List[MatchMatrix.this.Row]" id="797272">rows</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[MatchMatrix.this.Row]">List</a><span class="delimiter">[</span>Row<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> Row<a href="../../../Tuple4.scala.html#53216" title="(List[ParallelMatching.this.Pattern], ParallelMatching.this.Bindings, ParallelMatching.this.global.Tree, Int)" id="793972" class="delimiter">(</a><a href="../../../Tuple4.scala.html#53236" title="List[ParallelMatching.this.Pattern]" id="793974">pats</a>, <a href="../../../Tuple4.scala.html#53238" title="ParallelMatching.this.Bindings" id="793976">subst</a>, <a href="../../../Tuple4.scala.html#53240" title="ParallelMatching.this.global.Tree" id="793978">guard</a>, <a href="../../../Tuple4.scala.html#53242" title="Int" id="793980">index</a><span class="delimiter">)</span> = <a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; MatchMatrix.this.Row">head</a>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="MatchMatrix.this.Rep" id="793982">guardedRest</a>        = <span title="MatchMatrix.this.Rep" class="keyword">if</span> <span class="delimiter">(</span><a href="#793977" title="=&gt; ParallelMatching.this.global.Tree">guard</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#796261" title="(tvars: MatchMatrix.this.context.PatternVarGroup, rows: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">Rep</a><span class="delimiter">(</span><a href="Matrix.scala.html#793757" title="implicit scala.tools.nsc.matching.Matrix.MatrixContext.pvlist2pvgroup : (xs: List[MatchMatrix.this.context.PatternVar])MatchMatrix.this.context.PatternVarGroup">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#793899" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#797271" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>, <a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[MatchMatrix.this.Row]">tail</a><span class="delimiter">)</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])" id="793984" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[ParallelMatching.this.Pattern]" id="793986">defaults</a>, <a href="../../../Tuple2.scala.html#53404" title="List[ParallelMatching.this.Pattern]" id="793988">others</a><span class="delimiter">)</span> = <a href="#793973" title="=&gt; List[ParallelMatching.this.Pattern]">pats</a> <a href="../../../collection/immutable/List.scala.html#49170" title="(p: ParallelMatching.this.Pattern =&gt; Boolean)(List[ParallelMatching.this.Pattern], List[ParallelMatching.this.Pattern])">span</a> <span class="delimiter">(</span><a href="#802820" title="ParallelMatching.this.Pattern">_</a>.<a href="Patterns.scala.html#796380" title="=&gt; Boolean">isDefault</a><span class="delimiter">)</span>

      <span class="comment">/** Cut out the column containing the non-default pattern. */</span>
      <span class="keyword">class</span> <a title="class Cut extends java.lang.Object with ScalaObject" id="793989">Cut</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Int" id="802943">index</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">/** The first two separate out the 'i'th pattern in each row from the remainder. */</span>
        <span class="keyword">private</span> <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[ParallelMatching.this.Pattern], List[MatchMatrix.this.Row])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[ParallelMatching.this.Pattern]" id="802835">_column</a>, <a href="../../../Tuple2.scala.html#53404" title="List[MatchMatrix.this.Row]" id="802837">_rows</a><span class="delimiter">)</span> = <a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: MatchMatrix.this.Row =&gt; (ParallelMatching.this.Pattern, MatchMatrix.this.Row))(implicit bf: scala.collection.generic.CanBuildFrom[List[MatchMatrix.this.Row],(ParallelMatching.this.Pattern, MatchMatrix.this.Row),List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]])List[(ParallelMatching.this.Pattern, MatchMatrix.this.Row)]">map</a> <span class="delimiter">(</span><a href="#802868" title="MatchMatrix.this.Row">_</a> <a href="#794383" title="(i: Int)(ParallelMatching.this.Pattern, MatchMatrix.this.Row)">extractColumn</a> <a href="#802943" title="Int">index</a><span class="delimiter">)</span> <a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53792" title="(implicit asPair: ((ParallelMatching.this.Pattern, MatchMatrix.this.Row)) =&gt; (ParallelMatching.this.Pattern, MatchMatrix.this.Row))(List[ParallelMatching.this.Pattern], List[MatchMatrix.this.Row])">unzip</a>

        <span class="comment">/** Now the 'i'th tvar is separated out and used as a new Scrutinee. */</span>
        <span class="keyword">private</span> <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(MatchMatrix.this.context.PatternVar, MatchMatrix.this.context.PatternVarGroup)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="MatchMatrix.this.context.PatternVar" id="802840">_pv</a>, <a href="../../../Tuple2.scala.html#53404" title="MatchMatrix.this.context.PatternVarGroup" id="802842">_tvars</a><span class="delimiter">)</span> = <a href="#797271" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a> <a href="Matrix.scala.html#794900" title="(index: Int)(MatchMatrix.this.context.PatternVar, MatchMatrix.this.context.PatternVarGroup)">extractIndex</a> <a href="#802943" title="Int">index</a>

        <span class="comment">/** The non-default pattern (others.head) replaces the column head. */</span>
        <span class="keyword">private</span> <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[ParallelMatching.this.Pattern], MatchMatrix.this.Rep)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[ParallelMatching.this.Pattern]" id="802845">_ncol</a>, <a href="../../../Tuple2.scala.html#53404" title="MatchMatrix.this.Rep" id="802847">_nrep</a><span class="delimiter">)</span> =
          <a href="../../../Tuple2.scala.html#53390" title="(_1: List[ParallelMatching.this.Pattern], _2: MatchMatrix.this.Rep)(List[ParallelMatching.this.Pattern], MatchMatrix.this.Rep)" class="delimiter">(</a><a href="#793987" title="=&gt; List[ParallelMatching.this.Pattern]">others</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; ParallelMatching.this.Pattern">head</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: ParallelMatching.this.Pattern)List[ParallelMatching.this.Pattern]">::</a> <a href="#802835" title="=&gt; List[ParallelMatching.this.Pattern]">_column</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[ParallelMatching.this.Pattern]">tail</a>, <a href="#793899" title="(roots1: MatchMatrix.this.context.PatternVarGroup, rows1: List[MatchMatrix.this.Row])MatchMatrix.this.Rep">make</a><span class="delimiter">(</span><a href="#802842" title="=&gt; MatchMatrix.this.context.PatternVarGroup">_tvars</a>, <a href="#802837" title="=&gt; List[MatchMatrix.this.Row]">_rows</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="()MatchMatrix.this.RuleApplication" id="802849">mix</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="MatchMatrix.this.Scrutinee" id="802946">newScrut</a> = <span title="MatchMatrix.this.Scrutinee" class="keyword">new</span> <a href="#793901" title="MatchMatrix.this.Scrutinee">Scrutinee</a><span class="delimiter">(</span><a href="Matrix.scala.html#793764" title="(lhs: ParallelMatching.this.global.Symbol, checked: Boolean)MatchMatrix.this.context.PatternVar">specialVar</a><span class="delimiter">(</span><a href="#802840" title="=&gt; MatchMatrix.this.context.PatternVar">_pv</a>.<a href="Matrix.scala.html#793807" title="=&gt; ParallelMatching.this.global.Symbol">sym</a>, <a href="#802840" title="=&gt; MatchMatrix.this.context.PatternVar">_pv</a>.<a href="Matrix.scala.html#793804" title="=&gt; Boolean">checked</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#798489" title="(scrut: MatchMatrix.this.Scrutinee, ps: List[ParallelMatching.this.Pattern])MatchMatrix.this.PatternMatch">PatternMatch</a><span class="delimiter">(</span><a href="#802946" title="MatchMatrix.this.Scrutinee">newScrut</a>, <a href="#802845" title="=&gt; List[ParallelMatching.this.Pattern]">_ncol</a><span class="delimiter">)</span> <a href="#797927" title="(rest: MatchMatrix.this.Rep)MatchMatrix.this.RuleApplication">mkRule</a> <a href="#802847" title="=&gt; MatchMatrix.this.Rep">_nrep</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Converts this to a tree - recursively acquires subreps. */</span>
      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="793990">toTree</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> = <a href="MatchSupport.scala.html#792511" title="(s: String)(x: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">tracing</a><span class="delimiter">(</span><span title="java.lang.String(&quot;toTree&quot;)" class="string">&quot;toTree&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="Matrix.scala.html#793739" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#507768" title="(tree: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">typed</a> <a href="#793993" title="()ParallelMatching.this.global.Tree">applyRule</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">/** The VariableRule. */</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="()MatchMatrix.this.VariableRule" id="793991">variable</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ParallelMatching.this.Bindings" id="802967">binding</a> = <span class="delimiter">(</span><a href="#793985" title="=&gt; List[ParallelMatching.this.Pattern]">defaults</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ParallelMatching.this.Pattern =&gt; List[ParallelMatching.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.Pattern],List[ParallelMatching.this.global.Symbol],List[List[ParallelMatching.this.global.Symbol]]])List[List[ParallelMatching.this.global.Symbol]]">map</a> <span class="delimiter">(</span><a href="#802984" title="ParallelMatching.this.Pattern">_</a>.<a href="PatternBindings.scala.html#796367" title="=&gt; List[ParallelMatching.this.global.Symbol]">boundVariables</a><span class="delimiter">)</span> <a href="../../../collection/IterableLike.scala.html#53887" title="(that: scala.collection.GenIterable[MatchMatrix.this.context.PatternVar])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[ParallelMatching.this.global.Symbol]],(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar),List[(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)]])List[(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)]">zip</a> <a href="#797271" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#794894" title="=&gt; List[MatchMatrix.this.context.PatternVar]">pvs</a><span class="delimiter">)</span> .
          <a href="../../../collection/LinearSeqOptimized.scala.html#71039" title="(z: ParallelMatching.this.Bindings)(f: (ParallelMatching.this.Bindings, (List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)) =&gt; ParallelMatching.this.Bindings)ParallelMatching.this.Bindings">foldLeft</a><span class="delimiter">(</span><a href="#793975" title="=&gt; ParallelMatching.this.Bindings">subst</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="ParallelMatching.this.Bindings" id="803094">b</a>, <a title="(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)" id="803095">pair</a><span class="delimiter">)</span> =&gt; <a href="#803094" title="ParallelMatching.this.Bindings">b</a>.<a href="PatternBindings.scala.html#798628" title="(vs: Iterable[ParallelMatching.this.global.Symbol], tvar: ParallelMatching.this.global.Symbol)ParallelMatching.this.Bindings">add</a><span class="delimiter">(</span><a href="#803095" title="(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)">pair</a>.<a href="../../../Tuple2.scala.html#53402" title="=&gt; List[ParallelMatching.this.global.Symbol]">_1</a>, <a href="#803095" title="(List[ParallelMatching.this.global.Symbol], MatchMatrix.this.context.PatternVar)">pair</a>.<a href="../../../Tuple2.scala.html#53404" title="=&gt; MatchMatrix.this.context.PatternVar">_2</a>.<a href="Matrix.scala.html#793800" title="=&gt; ParallelMatching.this.global.Symbol">lhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <a href="#798802" title="(subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, guardedRest: MatchMatrix.this.Rep, bx: Int)MatchMatrix.this.VariableRule">VariableRule</a><span class="delimiter">(</span><a href="#802967" title="ParallelMatching.this.Bindings">binding</a>, <a href="#793977" title="=&gt; ParallelMatching.this.global.Tree">guard</a>, <a href="#793981" title="=&gt; MatchMatrix.this.Rep">guardedRest</a>, <a href="#793979" title="=&gt; Int">index</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="comment">/** The MixtureRule: picks a rewrite rule to apply. */</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="()MatchMatrix.this.RuleApplication" id="793992">mixture</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="Rep.this.Cut" class="keyword">new</span> <a href="#793989" title="Rep.this.Cut">Cut</a><span class="delimiter">(</span><a href="#793985" title="=&gt; List[ParallelMatching.this.Pattern]">defaults</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a><span class="delimiter">)</span> <a href="#802849" title="()MatchMatrix.this.RuleApplication">mix</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="comment">/** Applying the rule will result in one of:
        *
        *   VariableRule - if all patterns are default patterns
        *    MixtureRule - if one or more patterns are not default patterns
        *          Error - no rows remaining
        */</span>
      <span class="keyword">final</span> <span class="keyword">def</span> <a title="()ParallelMatching.this.global.Tree" id="793993">applyRule</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> =
        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#793885" title="=&gt; ParallelMatching.this.global.Tree">failTree</a>
        <span class="keyword">else</span> <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#793987" title="=&gt; List[ParallelMatching.this.Pattern]">others</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#793991" title="()MatchMatrix.this.VariableRule">variable</a>.<a href="#798614" title="()ParallelMatching.this.global.Tree">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#793992" title="()MatchMatrix.this.RuleApplication">mixture</a>.<a href="#798242" title="()ParallelMatching.this.global.Tree">tree</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(x: Any)String" id="793994">ppn</a><span class="delimiter">(</span><a title="Any" id="803114">x</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#792506" title="(x: Any, newlines: Boolean)String">pp</a><span class="delimiter">(</span><a href="#803114" title="Any">x</a>, newlines = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="793995">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> =
        <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#797271" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#794901" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Rep(%d) = %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a>, <a href="#793994" title="(x: Any)String">ppn</a><span class="delimiter">(</span><a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Rep(%dx%d)%s%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#797271" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a>.<a href="Matrix.scala.html#794902" title="=&gt; Int">size</a>, <a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a>, <a href="#793994" title="(x: Any)String">ppn</a><span class="delimiter">(</span><a href="#797271" title="=&gt; MatchMatrix.this.context.PatternVarGroup">tvars</a><span class="delimiter">)</span>, <a href="#793994" title="(x: Any)String">ppn</a><span class="delimiter">(</span><a href="#797272" title="=&gt; List[MatchMatrix.this.Row]">rows</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Expands the patterns recursively. */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(roots: List[MatchMatrix.this.context.PatternVar], cases: List[ParallelMatching.this.global.CaseDef])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]" id="793929">expand</a><span class="delimiter">(</span><a title="List[MatchMatrix.this.context.PatternVar]" id="794104">roots</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[MatchMatrix.this.context.PatternVar]">List</a><span class="delimiter">[</span>PatternVar<span class="delimiter">]</span>, <a title="List[ParallelMatching.this.global.CaseDef]" id="794105">cases</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ParallelMatching.this.global.CaseDef]">List</a><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="MatchSupport.scala.html#792511" title="(s: String)(x: List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]">tracing</a><span class="delimiter">(</span><span title="java.lang.String(&quot;expand&quot;)" class="string">&quot;expand&quot;</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span>CaseDef<span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="794213">pat</a>, <a title="ParallelMatching.this.global.Tree" id="794214">guard</a>, <a title="ParallelMatching.this.global.Tree" id="794215">body</a><span class="delimiter">)</span>, <a title="Int" id="794216">bx</a><span class="delimiter">)</span> &lt;- <a href="#794105" title="List[ParallelMatching.this.global.CaseDef]">cases</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((ParallelMatching.this.global.CaseDef, Int)) =&gt; (MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State))(implicit bf: scala.collection.generic.CanBuildFrom[List[(ParallelMatching.this.global.CaseDef, Int)],(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State),List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]])List[(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)]">zipWithIndex</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.Tree]" id="794217">subtrees</a> = <a href="#794213" title="ParallelMatching.this.global.Tree">pat</a> <span title="List[ParallelMatching.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="List[ParallelMatching.this.global.Tree]" id="794221">x</a> <span class="keyword">if</span> <a href="#794104" title="List[MatchMatrix.this.context.PatternVar]">roots</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <span title="Int(1)" class="int">1</span> =&gt; <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: ParallelMatching.this.global.Tree*)List[ParallelMatching.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#794221" title="ParallelMatching.this.global.Tree">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="List[ParallelMatching.this.global.Tree]">Apply</span><span class="delimiter">(</span>_, <a title="List[ParallelMatching.this.global.Tree]" id="794235">args</a><span class="delimiter">)</span>         =&gt; <a href="#794235" title="List[ParallelMatching.this.global.Tree]">args</a>
          <span class="keyword">case</span> <a href="../ast/TreeDSL.scala.html#547669" title="List[ParallelMatching.this.global.Tree]">WILD</a><span class="delimiter">(</span><span class="delimiter">)</span>                 =&gt; <a href="Patterns.scala.html#512196" title="(i: Int)List[ParallelMatching.this.global.Tree]">emptyTrees</a><span class="delimiter">(</span><a href="#794104" title="List[MatchMatrix.this.context.PatternVar]">roots</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[ParallelMatching.this.global.Symbol]" id="794218">params</a> = <a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: ParallelMatching.this.global.Tree)ParallelMatching.this.global.TreeOps">pat</a> <a href="../ast/Trees.scala.html#510733" title="(f: ParallelMatching.this.global.Tree =&gt; Boolean)List[ParallelMatching.this.global.Tree]">filter</a> <span class="delimiter">(</span><a href="#794310" title="ParallelMatching.this.global.Tree">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434082" title="ParallelMatching.this.global.Bind">Bind</a><span class="delimiter">]</span><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ParallelMatching.this.global.Tree =&gt; ParallelMatching.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[ParallelMatching.this.global.Tree],ParallelMatching.this.global.Symbol,List[ParallelMatching.this.global.Symbol]])List[ParallelMatching.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#794332" title="ParallelMatching.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; ParallelMatching.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54140" title="=&gt; List[ParallelMatching.this.global.Symbol]">distinct</a>
        <span class="keyword">val</span> <a title="MatchMatrix.this.Row" id="794219">row</a>    = <a href="#794367" title="(pats: List[ParallelMatching.this.Pattern], subst: ParallelMatching.this.Bindings, guard: ParallelMatching.this.global.Tree, bx: Int)MatchMatrix.this.Row">Row</a><span class="delimiter">(</span><a href="#512273" title="(xs: List[ParallelMatching.this.global.Tree])List[ParallelMatching.this.Pattern]">toPats</a><span class="delimiter">(</span><a href="#794217" title="List[ParallelMatching.this.global.Tree]">subtrees</a><span class="delimiter">)</span>, <a href="PatternBindings.scala.html#512340" title="=&gt; ParallelMatching.this.Bindings">NoBinding</a>, <a href="#794214" title="ParallelMatching.this.global.Tree">guard</a>, <a href="#794216" title="Int">bx</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="&lt;none&gt; extends Product with Serializable with MatchMatrix.this.State" id="794220">state</a>  = <a href="#794215" title="ParallelMatching.this.global.Tree">body</a> <span title="&lt;none&gt; extends Product with Serializable with MatchMatrix.this.State" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="MatchMatrix.this.LiteralState" id="794408">x</a>: <a href="../../../reflect/generic/Trees.scala.html#434141" title="ParallelMatching.this.global.Literal">Literal</a> =&gt; <a href="#794411" title="(bx: Int, params: List[ParallelMatching.this.global.Symbol], body: ParallelMatching.this.global.Tree)MatchMatrix.this.LiteralState">LiteralState</a><span class="delimiter">(</span><a href="#794216" title="Int">bx</a>, <a href="#794218" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#794215" title="ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="MatchMatrix.this.FinalState">_</span>          =&gt; <a href="#794460" title="(bx: Int, params: List[ParallelMatching.this.global.Symbol], body: ParallelMatching.this.global.Tree)MatchMatrix.this.FinalState">FinalState</a><span class="delimiter">(</span><a href="#794216" title="Int">bx</a>, <a href="#794218" title="List[ParallelMatching.this.global.Symbol]">params</a>, <a href="#794215" title="ParallelMatching.this.global.Tree">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="../../../Predef.scala.html#9589" title="(x: MatchMatrix.this.Row)ArrowAssoc[MatchMatrix.this.Row]">row</a> <a href="../../../Predef.scala.html#57653" title="(y: Product with Serializable with MatchMatrix.this.State)(MatchMatrix.this.Row, Product with Serializable with MatchMatrix.this.State)">-&gt;</a> <a href="#794220" title="&lt;none&gt; extends Product with Serializable with MatchMatrix.this.State">state</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** returns the condition in &quot;if (cond) k1 else k2&quot;
     */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(tpe: ParallelMatching.this.global.Type, scrut: MatchMatrix.this.Scrutinee, isBound: Boolean)ParallelMatching.this.global.Tree" id="793930">condition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="801678">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="ParallelMatching.this.global.Type">Type</a>, <a title="MatchMatrix.this.Scrutinee" id="801679">scrut</a>: <a href="#793901" title="MatchMatrix.this.Scrutinee">Scrutinee</a>, <a title="Boolean" id="801680">isBound</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#801679" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797300" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="803160">cond</a> = <a href="../../../Function1.scala.html#53453" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="#793931" title="(tpe: ParallelMatching.this.global.Type, scrutTree: ParallelMatching.this.global.Tree, isBound: Boolean)ParallelMatching.this.global.Tree">condition</a><span class="delimiter">(</span><a href="#801678" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#801679" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797293" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a>, <a href="#801680" title="Boolean">isBound</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Types.scala.html#478898" title="(patType: ParallelMatching.this.global.Type, selType: ParallelMatching.this.global.Type, currentOwner: ParallelMatching.this.global.Symbol)Boolean">needsOuterTest</a><span class="delimiter">(</span><a href="#801678" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#801679" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797291" title="=&gt; ParallelMatching.this.global.Type">tpe</a>, <a href="Matrix.scala.html#793741" title="=&gt; ParallelMatching.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#803160" title="ParallelMatching.this.global.Tree">cond</a>
      <span class="keyword">else</span> <a href="#793932" title="(cond: ParallelMatching.this.global.Tree, tpe2test: ParallelMatching.this.global.Type, scrut: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">addOuterCondition</a><span class="delimiter">(</span><a href="#803160" title="ParallelMatching.this.global.Tree">cond</a>, <a href="#801678" title="ParallelMatching.this.global.Type">tpe</a>, <a href="#801679" title="MatchMatrix.this.Scrutinee">scrut</a>.<a href="#797293" title="=&gt; ParallelMatching.this.global.gen.global.Tree">id</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(tpe: ParallelMatching.this.global.Type, scrutTree: ParallelMatching.this.global.Tree, isBound: Boolean)ParallelMatching.this.global.Tree" id="793931">condition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="801674">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="ParallelMatching.this.global.Type">Type</a>, <a title="ParallelMatching.this.global.Tree" id="801675">scrutTree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a>, <a title="Boolean" id="801676">isBound</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#801674" title="ParallelMatching.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Types.scala.html#478734" title="object ParallelMatching.this.global.NoType">NoType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#801675" title="ParallelMatching.this.global.Tree">scrutTree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Types.scala.html#478734" title="object ParallelMatching.this.global.NoType">NoType</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="803223">isMatchUnlessNull</a> = <a href="#801675" title="ParallelMatching.this.global.Tree">scrutTree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ParallelMatching.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: ParallelMatching.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#801674" title="ParallelMatching.this.global.Type">tpe</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="MatchSupport.scala.html#792464" title="implicit scala.tools.nsc.matching.MatchSupport.Types.enrichType : (x: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#792478" title="=&gt; Boolean">isAnyRef</a>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="803224">isRef</a>             = <a href="#801675" title="ParallelMatching.this.global.Tree">scrutTree</a>.<a href="MatchSupport.scala.html#792464" title="implicit scala.tools.nsc.matching.MatchSupport.Types.enrichType : (x: ParallelMatching.this.global.Type)ParallelMatching.this.Types.RichType">tpe</a>.<a href="MatchSupport.scala.html#792478" title="=&gt; Boolean">isAnyRef</a>

      <span class="comment">// See ticket #1503 for the motivation behind checking for a binding.</span>
      <span class="comment">// The upshot is that it is unsound to assume equality means the right</span>
      <span class="comment">// type, but if the value doesn't appear on the right hand side of the</span>
      <span class="comment">// match that's unimportant; so we add an instance check only if there</span>
      <span class="comment">// is a binding.</span>
      <span class="keyword">def</span> <a title="()Unit" id="803225">bindingWarning</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#801676" title="Boolean">isBound</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469663" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Matrix.scala.html#793735" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: ParallelMatching.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#801675" title="ParallelMatching.this.global.Tree">scrutTree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; ParallelMatching.this.global.Position">pos</a>,
            <span title="java.lang.String(&quot;A bound pattern such as \'x @ Pattern\' now matches fewer cases than the same pattern with no binding.&quot;)" class="string">&quot;A bound pattern such as 'x @ Pattern' now matches fewer cases than the same pattern with no binding.&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree" id="803226">genEquals</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="803240">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="ParallelMatching.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="803241">t1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a> = <a href="../ast/TreeDSL.scala.html#515243" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods" class="delimiter">(</a><a href="#803240" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#547487" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">MEMBER_==</a> <a href="#801675" title="ParallelMatching.this.global.Tree">scrutTree</a>

        <span title="ParallelMatching.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#801676" title="Boolean">isBound</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#803225" title="()Unit">bindingWarning</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">t1</a> <a href="../ast/TreeDSL.scala.html#547486" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">AND</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="../ast/TreeDSL.scala.html#547512" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.gen.global.Tree">IS</a> <a href="#801674" title="ParallelMatching.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; ParallelMatching.this.global.Type">widen</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#803241" title="ParallelMatching.this.global.Tree">t1</a>
      <span class="delimiter">}</span>

      <a href="Matrix.scala.html#793739" title="=&gt; ParallelMatching.this.global.analyzer.Typer">typer</a> <a href="../typechecker/Typers.scala.html#507768" title="(tree: ParallelMatching.this.global.analyzer.global.Tree)ParallelMatching.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <a href="#801674" title="ParallelMatching.this.global.Type">tpe</a> <span title="ParallelMatching.this.global.analyzer.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Apply">ConstantType</span><span class="delimiter">(</span>Constant<span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#803224" title="=&gt; Boolean">isRef</a>  =&gt; <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="../ast/TreeDSL.scala.html#547493" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">OBJ_EQ</a> <a href="../ast/TreeDSL.scala.html#515192" title="=&gt; ParallelMatching.this.global.Literal">NULL</a>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Apply">ConstantType</span><span class="delimiter">(</span>Constant<span class="delimiter">(</span><a title="Any" id="803267">value</a><span class="delimiter">)</span><span class="delimiter">)</span>          =&gt; <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="../ast/TreeDSL.scala.html#547487" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">MEMBER_==</a> <a href="../../../reflect/generic/Trees.scala.html#434144" title="(value: Any)ParallelMatching.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#803267" title="Any">value</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Tree">SingleType</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478736" title="object ParallelMatching.this.global.NoPrefix">NoPrefix</a>, <a title="ParallelMatching.this.global.Symbol" id="803285">sym</a><span class="delimiter">)</span>              =&gt; <a href="#803226" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree">genEquals</a><span class="delimiter">(</span><a href="#803285" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Tree">SingleType</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Type" id="803288">pre</a>, <a title="ParallelMatching.this.global.Symbol" id="803289">sym</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#803289" title="ParallelMatching.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a>   =&gt; <a href="#803226" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree">genEquals</a><span class="delimiter">(</span><a href="#803289" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Tree">ThisType</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="803291">sym</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#803291" title="ParallelMatching.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a>          =&gt; <a href="#803226" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Tree">genEquals</a><span class="delimiter">(</span><a href="#803291" title="ParallelMatching.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.Apply">_</span> <span class="keyword">if</span> <a href="#803223" title="=&gt; Boolean">isMatchUnlessNull</a>                 =&gt; <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="../ast/TreeDSL.scala.html#547494" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">OBJ_NE</a> <a href="../ast/TreeDSL.scala.html#515192" title="=&gt; ParallelMatching.this.global.Literal">NULL</a>
          <span class="keyword">case</span> <span title="ParallelMatching.this.global.gen.global.Tree">_</span>                                      =&gt; <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrutTree</a> <a href="../ast/TreeDSL.scala.html#547512" title="(tpe: ParallelMatching.this.global.Type)ParallelMatching.this.global.gen.global.Tree">IS</a> <a href="#801674" title="ParallelMatching.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** adds a test comparing the dynamic outer to the static outer */</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(cond: ParallelMatching.this.global.Tree, tpe2test: ParallelMatching.this.global.Type, scrut: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree" id="793932">addOuterCondition</a><span class="delimiter">(</span><a title="ParallelMatching.this.global.Tree" id="803173">cond</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a>, <a title="ParallelMatching.this.global.Type" id="803174">tpe2test</a>: <a href="../symtab/Types.scala.html#478720" title="ParallelMatching.this.global.Type">Type</a>, <a title="ParallelMatching.this.global.Tree" id="803175">scrut</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ParallelMatching.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> TypeRef<a href="#803183" title="ParallelMatching.this.global.Type" id="803178" class="delimiter">(</a><a title="ParallelMatching.this.global.Type" id="803183">prefix</a>, _, _<span class="delimiter">)</span> = <a href="#803174" title="ParallelMatching.this.global.Type">tpe2test</a>
      <span class="keyword">val</span> <a title="ParallelMatching.this.global.Tree" id="803179">theRef</a> = <a href="../../../Function1.scala.html#53453" title="(v1: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">handleOuter</a><span class="delimiter">(</span><a href="#803178" title="ParallelMatching.this.global.Type">prefix</a> <span title="ParallelMatching.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478736" title="Nothing">NoPrefix</a>         =&gt; <a href="../symtab/SymbolTable.scala.html#478159" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;assertion failed: NoPrefix&quot;)" class="string">&quot;assertion failed: NoPrefix&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="ParallelMatching.this.global.gen.global.Tree">ThisType</span><span class="delimiter">(</span><a title="ParallelMatching.this.global.Symbol" id="803187">clazz</a><span class="delimiter">)</span>  =&gt; <a href="../ast/TreeDSL.scala.html#515241" title="(sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">THIS</a><span class="delimiter">(</span><a href="#803187" title="ParallelMatching.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="ParallelMatching.this.global.gen.global.Tree" id="803189">pre</a>              =&gt; <a href="../ast/TreeDSL.scala.html#515244" title="(pre: ParallelMatching.this.global.Type, sym: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="#803189" title="ParallelMatching.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; ParallelMatching.this.global.Type">prefix</a>, <a href="#803189" title="ParallelMatching.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507158" title="=&gt; ParallelMatching.this.global.Symbol">termSymbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>

      <a href="../transform/ExplicitOuter.scala.html#512150" title="(clazz: ParallelMatching.this.global.Symbol)ParallelMatching.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#803174" title="ParallelMatching.this.global.Type">tpe2test</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span title="ParallelMatching.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../symtab/Symbols.scala.html#478667" title="ParallelMatching.this.global.Tree">NoSymbol</a> =&gt; <a href="MatchSupport.scala.html#792507" title="(body: =&gt; Unit)Unit">ifDebug</a><span class="delimiter">(</span><a href="Matrix.scala.html#793735" title="=&gt; ParallelMatching.this.global.CompilationUnit">cunit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: ParallelMatching.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#803175" title="ParallelMatching.this.global.Tree">scrut</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; ParallelMatching.this.global.Position">pos</a>, <span title="java.lang.String(&quot;no outer acc for &quot;)" class="string">&quot;no outer acc for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#803174" title="ParallelMatching.this.global.Type">tpe2test</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; ParallelMatching.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> ; <a href="#803173" title="ParallelMatching.this.global.Tree">cond</a>
        <span class="keyword">case</span> <a title="ParallelMatching.this.global.Tree" id="803195">outerAcc</a> =&gt; <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">cond</a> <a href="../ast/TreeDSL.scala.html#547486" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Tree">AND</a> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">scrut</a> <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods">AS_ANY</a> <a href="#803174" title="ParallelMatching.this.global.Type">tpe2test</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#547472" title="(args: ParallelMatching.this.global.Tree*)ParallelMatching.this.global.Apply">DOT</a> <a href="#803195" title="ParallelMatching.this.global.Symbol">outerAcc</a><span class="delimiter">)</span><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ParallelMatching.this.global.Tree)ParallelMatching.this.CODE.TreeMethods" class="delimiter">(</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#547493" title="(other: ParallelMatching.this.global.Tree)ParallelMatching.this.global.Apply">OBJ_EQ</a> <a href="#803179" title="ParallelMatching.this.global.Tree">theRef</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>