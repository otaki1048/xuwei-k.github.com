<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/io/File.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/*                     __                                               *\
**     ________ ___   / /  ___     Scala API                            **
**    / __/ __// _ | / /  / _ |    (c) 2003-2011, LAMP/EPFL             **
**  __\ \/ /__/ __ |/ /__/ __ |    http://scala-lang.org/               **
** /____/\___/_/ |_/____/_/ | |                                         **
**                          |/                                          **
\*                                                                      */</span>


<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> io

<span class="keyword">import</span> java.io.<span class="delimiter">{</span>
  FileInputStream, FileOutputStream, BufferedReader, BufferedWriter, InputStreamReader, OutputStreamWriter,
  BufferedInputStream, BufferedOutputStream, IOException, PrintStream, PrintWriter, Closeable =&gt; JCloseable <span class="delimiter">}</span>
<span class="keyword">import</span> java.nio.channels.<span class="delimiter">{</span> Channel, FileChannel <span class="delimiter">}</span>
<span class="keyword">import</span> scala.io.Codec

<span class="keyword">object</span> <a title="object scala.tools.nsc.io.File" id="33013">File</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="482214">pathSeparator</a> = java.io.<span title="object java.io.File">File</span>.<span title="java.lang.String">pathSeparator</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="482215">separator</a> = java.io.<span title="object java.io.File">File</span>.<span title="java.lang.String">separator</span>

  <span class="keyword">def</span> <a title="(path: scala.tools.nsc.io.Path)(implicit codec: scala.io.Codec)scala.tools.nsc.io.File" id="482216">apply</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="482221">path</a>: <a href="Path.scala.html#33120" title="scala.tools.nsc.io.Path">Path</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.io.Codec" id="482222">codec</a>: <a href="../../../io/Codec.scala.html#18633" title="scala.io.Codec">Codec</a><span class="delimiter">)</span> = <span title="scala.tools.nsc.io.File" class="keyword">new</span> <a href="#33012" title="scala.tools.nsc.io.File">File</a><span class="delimiter">(</span><a href="#482221" title="scala.tools.nsc.io.Path">path</a>.<a href="Path.scala.html#479393" title="=&gt; scala.tools.nsc.io.package.JFile">jfile</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#482222" title="scala.io.Codec">codec</a><span class="delimiter">)</span>

  <span class="comment">// Create a temporary file, which will be deleted upon jvm exit.</span>
  <span class="keyword">def</span> <a title="(prefix: String, suffix: String, dir: scala.tools.nsc.io.package.JFile)scala.tools.nsc.io.File" id="482217">makeTemp</a><span class="delimiter">(</span><a title="String" id="487268">prefix</a>: <span title="String">String</span> = <a href="Path.scala.html#33121" title="object scala.tools.nsc.io.Path">Path</a>.<a href="Path.scala.html#479376" title="=&gt; String">randomPrefix</a>, <a title="String" id="487269">suffix</a>: <span title="String">String</span> = <span title="Null(null)" class="keyword">null</span>, <a title="scala.tools.nsc.io.package.JFile" id="487270">dir</a>: <span title="scala.tools.nsc.io.package.JFile">JFile</span> = <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.File" id="487271">jfile</a> = java.io.<span title="object java.io.File">File</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String, x$3: java.io.File)java.io.File">createTempFile</span><span class="delimiter">(</span><a href="#487268" title="String">prefix</a>, <a href="#487269" title="String">suffix</a>, <a href="#487270" title="scala.tools.nsc.io.package.JFile">dir</a><span class="delimiter">)</span>
    <a href="#487271" title="java.io.File">jfile</a>.<span title="()Unit">deleteOnExit</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#482216" title="(path: scala.tools.nsc.io.Path)(implicit codec: scala.io.Codec)scala.tools.nsc.io.File">apply</a><a href="../../../io/Codec.scala.html#417661" title="=&gt; scala.io.Codec" class="delimiter">(</a><a href="Path.scala.html#479367" title="implicit scala.tools.nsc.io.Path.jfile2path : (jfile: scala.tools.nsc.io.package.JFile)scala.tools.nsc.io.Path">jfile</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">type</span> <a title="File extends AnyRef" id="482218">HasClose</a> = <a href="#777179" title="File extends AnyRef" class="delimiter">{</a> <span class="keyword">def</span> close<span class="delimiter">(</span><span class="delimiter">)</span>: Unit <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(target: scala.tools.nsc.io.File.HasClose)Unit" id="482219">closeQuietly</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.File.HasClose" id="777181">target</a>: <a href="#777179" title="scala.tools.nsc.io.File.HasClose">HasClose</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">try</span> <a href="#777181" title="scala.tools.nsc.io.File.HasClose">target</a>.<a href="#777180" title="()Unit">close</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Unit" id="777183">e</a>: <span title="java.io.IOException">IOException</span> =&gt; <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(target: java.io.Closeable)Unit" id="482220">closeQuietly</a><span class="delimiter">(</span><a title="java.io.Closeable" id="777184">target</a>: <span title="java.io.Closeable">JCloseable</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">try</span> <a href="#777184" title="java.io.Closeable">target</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Unit" id="777186">e</a>: <span title="java.io.IOException">IOException</span> =&gt; <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// this is a workaround for http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6503430</span>
  <span class="comment">// we are using a static initializer to statically initialize a java class so we don't</span>
  <span class="comment">// trigger java.lang.InternalErrors later when using it concurrently.  We ignore all</span>
  <span class="comment">// the exceptions so as not to cause spurious failures when no write access is available,</span>
  <span class="comment">// e.g. google app engine.</span>
  <span class="comment">//</span>
  <span class="comment">// XXX need to put this behind a setting.</span>
  <span class="comment">//</span>
  <span class="comment">// try {</span>
  <span class="comment">//   import Streamable.closing</span>
  <span class="comment">//   val tmp = java.io.File.createTempFile(&quot;bug6503430&quot;, null, null)</span>
  <span class="comment">//   try closing(new FileInputStream(tmp)) { in =&gt;</span>
  <span class="comment">//     val inc = in.getChannel()</span>
  <span class="comment">//     closing(new FileOutputStream(tmp, true)) { out =&gt;</span>
  <span class="comment">//       out.getChannel().transferFrom(inc, 0, 0)</span>
  <span class="comment">//     }</span>
  <span class="comment">//   }</span>
  <span class="comment">//   finally tmp.delete()</span>
  <span class="comment">// }</span>
  <span class="comment">// catch {</span>
  <span class="comment">//   case _: IllegalArgumentException | _: IllegalStateException | _: IOException | _: SecurityException =&gt; ()</span>
  <span class="comment">// }</span>
<span class="delimiter">}</span>
<span class="keyword">import</span> <a href="#33013" title="object scala.tools.nsc.io.File">File</a>._
<span class="keyword">import</span> <a href="Path.scala.html#33121" title="object scala.tools.nsc.io.Path">Path</a>._

<span class="comment">/** An abstraction for files.  For character data, a Codec
 *  can be supplied at either creation time or when a method
 *  involving character data is called (with the latter taking
 *  precedence if supplied.) If neither is available, the value
 *  of scala.io.Codec.default is used.
 *
 *  @author  Paul Phillips
 *  @since   2.8
 */</span>
<span class="keyword">class</span> <a title="class File extends scala.tools.nsc.io.Path with scala.tools.nsc.io.Streamable.Chars with ScalaObject" id="33012">File</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.io.package.JFile" id="482225">jfile</a>: <span title="scala.tools.nsc.io.package.JFile">JFile</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="scala.io.Codec" id="482226">constructorCodec</a>: <a href="../../../io/Codec.scala.html#18633" title="scala.io.Codec">Codec</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Path.scala.html#33120" title="scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="#482225" title="scala.tools.nsc.io.package.JFile">jfile</a><span class="delimiter">)</span> <span class="keyword">with</span> Streamable.<a href="Streamable.scala.html#481506" title="scala.tools.nsc.io.Streamable.Chars">Chars</a> <span class="delimiter">{</span>
  <span class="keyword">override</span> <span class="keyword">val</span> <a title="scala.io.Codec" id="481520">creationCodec</a> = <a href="#482226" title="scala.io.Codec">constructorCodec</a>
  <span class="keyword">def</span> <a title="(codec: scala.io.Codec)scala.tools.nsc.io.File" id="481522">withCodec</a><span class="delimiter">(</span><a title="scala.io.Codec" id="777190">codec</a>: <a href="../../../io/Codec.scala.html#18633" title="scala.io.Codec">Codec</a><span class="delimiter">)</span>: <a href="#33012" title="scala.tools.nsc.io.File">File</a> = <span title="scala.tools.nsc.io.File" class="keyword">new</span> <a href="#33012" title="scala.tools.nsc.io.File">File</a><span class="delimiter">(</span><a href="#482225" title="scala.tools.nsc.io.package.JFile">jfile</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#777190" title="scala.io.Codec">codec</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(ext: String)scala.tools.nsc.io.File" id="481523">addExtension</a><span class="delimiter">(</span><a title="String" id="777192">ext</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#33012" title="scala.tools.nsc.io.File">File</a> = <a href="#33012" title="scala.tools.nsc.io.File" class="keyword">super</a>.<a href="Path.scala.html#479426" title="(ext: String)scala.tools.nsc.io.Path">addExtension</a><span class="delimiter">(</span><a href="#777192" title="String">ext</a><span class="delimiter">)</span>.<a href="Path.scala.html#479401" title="=&gt; scala.tools.nsc.io.File">toFile</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.File" id="481524">toAbsolute</a>: <a href="#33012" title="scala.tools.nsc.io.File">File</a> = <span title="scala.tools.nsc.io.File" class="keyword">if</span> <span class="delimiter">(</span><a href="Path.scala.html#479440" title="=&gt; Boolean">isAbsolute</a><span class="delimiter">)</span> <a href="#33012" title="scala.tools.nsc.io.File" class="keyword">this</a> <span class="keyword">else</span> <a href="#33012" title="scala.tools.nsc.io.File" class="keyword">super</a>.<a href="Path.scala.html#479403" title="=&gt; scala.tools.nsc.io.Path">toAbsolute</a>.<a href="Path.scala.html#479401" title="=&gt; scala.tools.nsc.io.File">toFile</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.Directory" id="481525">toDirectory</a>: <a href="Directory.scala.html#33603" title="scala.tools.nsc.io.Directory">Directory</a> = <span title="scala.tools.nsc.io.Directory" class="keyword">new</span> <a href="Directory.scala.html#33603" title="scala.tools.nsc.io.Directory">Directory</a><span class="delimiter">(</span><a href="#482225" title="scala.tools.nsc.io.package.JFile">jfile</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.File" id="481526">toFile</a>: <a href="#33012" title="scala.tools.nsc.io.File">File</a> = <a href="#33012" title="scala.tools.nsc.io.File" class="keyword">this</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.io.File" id="481527">normalize</a>: <a href="#33012" title="scala.tools.nsc.io.File">File</a> = <a href="#33012" title="scala.tools.nsc.io.File" class="keyword">super</a>.<a href="Path.scala.html#479415" title="=&gt; scala.tools.nsc.io.Path">normalize</a>.<a href="Path.scala.html#479401" title="=&gt; scala.tools.nsc.io.File">toFile</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="481528">isValid</a> = <a href="#482225" title="scala.tools.nsc.io.package.JFile">jfile</a>.<span title="()Boolean">isFile</span><span class="delimiter">(</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#482225" title="scala.tools.nsc.io.package.JFile">jfile</a>.<span title="()Boolean">exists</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="481529">length</a> = <a href="#33012" title="scala.tools.nsc.io.File" class="keyword">super</a><span class="delimiter">[</span>Path<span class="delimiter">]</span>.<a href="Path.scala.html#479446" title="=&gt; Long">length</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(cond: scala.tools.nsc.io.Path =&gt; Boolean)Iterator[scala.tools.nsc.io.Path]" id="481530">walkFilter</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Path =&gt; Boolean" id="777206">cond</a>: Path =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../collection/Iterator.scala.html#8783" title="Iterator[scala.tools.nsc.io.Path]">Iterator</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> =
    <span title="Iterator[scala.tools.nsc.io.Path]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Function1.scala.html#53453" title="(v1: scala.tools.nsc.io.Path)Boolean">cond</a><span class="delimiter">(</span><a href="#33012" title="scala.tools.nsc.io.File" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../package.scala.html#47534" title="=&gt; collection.Iterator.type">Iterator</a>.<a href="../../../collection/Iterator.scala.html#71475" title="(elem: scala.tools.nsc.io.File)java.lang.Object with Iterator[scala.tools.nsc.io.File]">single</a><span class="delimiter">(</span><a href="#33012" title="scala.tools.nsc.io.File" class="keyword">this</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../package.scala.html#47534" title="=&gt; collection.Iterator.type">Iterator</a>.<a href="../../../collection/Iterator.scala.html#71473" title="=&gt; java.lang.Object with Iterator[Nothing]">empty</a>

  <span class="comment">/** Obtains an InputStream. */</span>
  <span class="keyword">def</span> <a title="()java.io.FileInputStream" id="481531">inputStream</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="(x$1: java.io.File)java.io.FileInputStream" class="keyword">new</span> <span title="java.io.FileInputStream">FileInputStream</span><span class="delimiter">(</span><a href="#482225" title="scala.tools.nsc.io.package.JFile">jfile</a><span class="delimiter">)</span>

  <span class="comment">/** Obtains a OutputStream. */</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.FileOutputStream" id="481532">outputStream</a><span class="delimiter">(</span><a title="Boolean" id="503358">append</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span title="(x$1: java.io.File, x$2: Boolean)java.io.FileOutputStream" class="keyword">new</span> <span title="java.io.FileOutputStream">FileOutputStream</span><span class="delimiter">(</span><a href="#482225" title="scala.tools.nsc.io.package.JFile">jfile</a>, <a href="#503358" title="Boolean">append</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.BufferedOutputStream" id="481533">bufferedOutput</a><span class="delimiter">(</span><a title="Boolean" id="503352">append</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span title="java.io.BufferedOutputStream" class="keyword">new</span> <span title="java.io.BufferedOutputStream">BufferedOutputStream</span><span class="delimiter">(</span><a href="#481532" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><a href="#503352" title="Boolean">append</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.PrintStream" id="481534">printStream</a><span class="delimiter">(</span><a title="Boolean" id="777219">append</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span title="(x$1: java.io.OutputStream, x$2: Boolean)java.io.PrintStream" class="keyword">new</span> <span title="java.io.PrintStream">PrintStream</span><span class="delimiter">(</span><a href="#481532" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><a href="#777219" title="Boolean">append</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  <span class="comment">/** Obtains an OutputStreamWriter wrapped around a FileOutputStream.
   *  This should behave like a less broken version of java.io.FileWriter,
   *  in that unlike the java version you can specify the encoding.
   */</span>
  <span class="keyword">def</span> <a title="()java.io.OutputStreamWriter" id="481535">writer</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="java.io.OutputStreamWriter">OutputStreamWriter</span> = <a href="#481536" title="(append: Boolean)java.io.OutputStreamWriter">writer</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.OutputStreamWriter" id="481536">writer</a><span class="delimiter">(</span><a title="Boolean" id="777232">append</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <span title="java.io.OutputStreamWriter">OutputStreamWriter</span> = <a href="#481537" title="(append: Boolean, codec: scala.io.Codec)java.io.OutputStreamWriter">writer</a><span class="delimiter">(</span><a href="#777232" title="Boolean">append</a>, <a href="#481520" title="=&gt; scala.io.Codec">creationCodec</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean, codec: scala.io.Codec)java.io.OutputStreamWriter" id="481537">writer</a><span class="delimiter">(</span><a title="Boolean" id="777229">append</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a>, <a title="scala.io.Codec" id="777230">codec</a>: <a href="../../../io/Codec.scala.html#18633" title="scala.io.Codec">Codec</a><span class="delimiter">)</span>: <span title="java.io.OutputStreamWriter">OutputStreamWriter</span> =
    <span title="(x$1: java.io.OutputStream, x$2: java.nio.charset.Charset)java.io.OutputStreamWriter" class="keyword">new</span> <span title="java.io.OutputStreamWriter">OutputStreamWriter</span><span class="delimiter">(</span><a href="#481532" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><a href="#777229" title="Boolean">append</a><span class="delimiter">)</span>, <a href="#777230" title="scala.io.Codec">codec</a>.<a href="../../../io/Codec.scala.html#415887" title="=&gt; java.nio.charset.Charset">charSet</a><span class="delimiter">)</span>

  <span class="comment">/** Wraps a BufferedWriter around the result of writer().
   */</span>
  <span class="keyword">def</span> <a title="()java.io.BufferedWriter" id="481538">bufferedWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="java.io.BufferedWriter">BufferedWriter</span> = <a href="#481539" title="(append: Boolean)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.BufferedWriter" id="481539">bufferedWriter</a><span class="delimiter">(</span><a title="Boolean" id="777254">append</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <span title="java.io.BufferedWriter">BufferedWriter</span> = <a href="#481540" title="(append: Boolean, codec: scala.io.Codec)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><a href="#777254" title="Boolean">append</a>, <a href="#481520" title="=&gt; scala.io.Codec">creationCodec</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean, codec: scala.io.Codec)java.io.BufferedWriter" id="481540">bufferedWriter</a><span class="delimiter">(</span><a title="Boolean" id="777251">append</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a>, <a title="scala.io.Codec" id="777252">codec</a>: <a href="../../../io/Codec.scala.html#18633" title="scala.io.Codec">Codec</a><span class="delimiter">)</span>: <span title="java.io.BufferedWriter">BufferedWriter</span> =
    <span title="java.io.BufferedWriter" class="keyword">new</span> <span title="java.io.BufferedWriter">BufferedWriter</span><span class="delimiter">(</span><a href="#481537" title="(append: Boolean, codec: scala.io.Codec)java.io.OutputStreamWriter">writer</a><span class="delimiter">(</span><a href="#777251" title="Boolean">append</a>, <a href="#777252" title="scala.io.Codec">codec</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()java.io.PrintWriter" id="481541">printWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>: <span title="java.io.PrintWriter">PrintWriter</span> = <span title="(x$1: java.io.Writer, x$2: Boolean)java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><a href="#481538" title="()java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(append: Boolean)java.io.PrintWriter" id="481542">printWriter</a><span class="delimiter">(</span><a title="Boolean" id="625666">append</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <span title="java.io.PrintWriter">PrintWriter</span> = <span title="(x$1: java.io.Writer, x$2: Boolean)java.io.PrintWriter" class="keyword">new</span> <span title="java.io.PrintWriter">PrintWriter</span><span class="delimiter">(</span><a href="#481539" title="(append: Boolean)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><a href="#625666" title="Boolean">append</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

  <span class="comment">/** Creates a new file and writes all the Strings to it. */</span>
  <span class="keyword">def</span> <a title="(strings: String*)Unit" id="481543">writeAll</a><span class="delimiter">(</span><a title="String*" id="487880">strings</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.BufferedWriter" id="777282">out</a> = <a href="#481538" title="()java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#487880" title="String*">strings</a> <a href="../../../collection/IterableLike.scala.html#53856" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#777282" title="java.io.BufferedWriter">out</a> <span title="(x$1: java.lang.String)Unit">write</span> <a href="#777303" title="String">_</a><span class="delimiter">)</span>
    <span class="keyword">finally</span> <a href="#777282" title="java.io.BufferedWriter">out</a> <span title="()Unit">close</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(bytes: Array[Byte])Unit" id="481544">writeBytes</a><span class="delimiter">(</span><a title="Array[Byte]" id="777309">bytes</a>: <a href="../../../Array.scala.html#1430" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.BufferedOutputStream" id="777311">out</a> = <a href="#481533" title="(append: Boolean)java.io.BufferedOutputStream">bufferedOutput</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#777311" title="java.io.BufferedOutputStream">out</a> <span title="(x$1: Array[Byte])Unit">write</span> <a href="#777309" title="Array[Byte]">bytes</a>
    <span class="keyword">finally</span> <a href="#777311" title="java.io.BufferedOutputStream">out</a> <span title="()Unit">close</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(strings: String*)Unit" id="481545">appendAll</a><span class="delimiter">(</span><a title="String*" id="775209">strings</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.BufferedWriter" id="777316">out</a> = <a href="#481539" title="(append: Boolean)java.io.BufferedWriter">bufferedWriter</a><span class="delimiter">(</span>append = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#775209" title="String*">strings</a> <a href="../../../collection/IterableLike.scala.html#53856" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#777316" title="java.io.BufferedWriter">out</a> <span title="(x$1: java.lang.String)Unit">write</span> <a href="#777337" title="String">_</a><span class="delimiter">)</span>
    <span class="keyword">finally</span> <a href="#777316" title="java.io.BufferedWriter">out</a>.<span title="()Unit">close</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Calls println on each string (so it adds a newline in the PrintWriter fashion.) */</span>
  <span class="keyword">def</span> <a title="(strings: String*)Unit" id="481546">printlnAll</a><span class="delimiter">(</span><a title="String*" id="777343">strings</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.io.PrintWriter" id="777345">out</a> = <a href="#481541" title="()java.io.PrintWriter">printWriter</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">try</span> <a href="#777343" title="String*">strings</a> <a href="../../../collection/IterableLike.scala.html#53856" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#777345" title="java.io.PrintWriter">out</a> <span title="(x$1: java.lang.String)Unit">println</span> <a href="#777366" title="String">_</a><span class="delimiter">)</span>
    <span class="keyword">finally</span> <a href="#777345" title="java.io.PrintWriter">out</a> <span title="()Unit">close</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Option[String]" id="481547">safeSlurp</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span class="keyword">try</span> <a href="../../../Option.scala.html#57885" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="Streamable.scala.html#481570" title="()String">slurp</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="None.type">_</span>: <span title="java.io.IOException">IOException</span> =&gt; <a href="../../../Option.scala.html#1737" title="object None">None</a> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(destPath: scala.tools.nsc.io.Path, preserveFileDate: Boolean)Boolean" id="481548">copyTo</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="777379">destPath</a>: <a href="Path.scala.html#33120" title="scala.tools.nsc.io.Path">Path</a>, <a title="Boolean" id="777382">preserveFileDate</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Int" id="777383">CHUNK</a> = <span class="int">1024</span> * <span class="int">1024</span> <span title="Int(16777216)">*</span> <span class="int">16</span>  <span class="comment">// 16 MB</span>
    <span class="keyword">val</span> <a title="scala.tools.nsc.io.File" id="777384">dest</a> = <a href="#777379" title="scala.tools.nsc.io.Path">destPath</a>.<a href="Path.scala.html#479401" title="=&gt; scala.tools.nsc.io.File">toFile</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#481528" title="=&gt; Boolean">isValid</a><span class="delimiter">)</span> <a href="Path.scala.html#479377" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Source %s is not a valid file.&quot;</a> <a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a> <a href="Path.scala.html#479413" title="=&gt; String">name</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#33012" title="File.this.type" class="keyword">this</a>.<a href="#481527" title="=&gt; scala.tools.nsc.io.File">normalize</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#777384" title="scala.tools.nsc.io.File">dest</a>.<a href="#481527" title="=&gt; scala.tools.nsc.io.File">normalize</a><span class="delimiter">)</span> <a href="Path.scala.html#479377" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Source and destination are the same.&quot;)" class="string">&quot;Source and destination are the same.&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#777384" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#479421" title="=&gt; scala.tools.nsc.io.Directory">parent</a>.<a href="Path.scala.html#479436" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <a href="Path.scala.html#479377" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Destination cannot be created.&quot;)" class="string">&quot;Destination cannot be created.&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#777384" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#479436" title="=&gt; Boolean">exists</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#777384" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#479435" title="=&gt; Boolean">canWrite</a><span class="delimiter">)</span> <a href="Path.scala.html#479377" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Destination exists but is not writable.&quot;)" class="string">&quot;Destination exists but is not writable.&quot;</span><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#777384" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#479439" title="=&gt; Boolean">isDirectory</a><span class="delimiter">)</span> <a href="Path.scala.html#479377" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Destination exists but is a directory.&quot;)" class="string">&quot;Destination exists but is a directory.&quot;</span><span class="delimiter">)</span>

    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.FileInputStream" id="777386">in_s</a> = <a href="#481531" title="()java.io.FileInputStream">inputStream</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.io.FileOutputStream" id="777388">out_s</a> = <a href="#777384" title="scala.tools.nsc.io.File">dest</a>.<a href="#481532" title="(append: Boolean)java.io.FileOutputStream">outputStream</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.nio.channels.FileChannel" id="777390">in</a> = <a href="#777385" title="=&gt; java.io.FileInputStream">in_s</a>.<span title="()java.nio.channels.FileChannel">getChannel</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="java.nio.channels.FileChannel" id="777392">out</a> = <a href="#777387" title="=&gt; java.io.FileOutputStream">out_s</a>.<span title="()java.nio.channels.FileChannel">getChannel</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Long" id="777427">size</a> = <a href="#777389" title="=&gt; java.nio.channels.FileChannel">in</a>.<span title="()Long">size</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Long" id="777428">pos</a>, <a title="Long" id="777429">count</a> = <span title="Long(0L)" class="long">0L</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#777428" title="Long">pos</a> <a href="../../../Long.scala.html#55127" title="(x: Long)Boolean">&lt;</a> <a href="#777427" title="Long">size</a><span class="delimiter">)</span> <a href="#777430" title="()Unit" class="delimiter">{</a>
        <a href="#777429" title="Long">count</a> = <span class="delimiter">(</span><a href="#777427" title="Long">size</a> <a href="../../../LowPriorityImplicits.scala.html#9476" title="implicit scala.LowPriorityImplicits.longWrapper : (x: Long)scala.runtime.RichLong">-</a> <a href="#777428" title="Long">pos</a><span class="delimiter">)</span> <a href="../../../runtime/ScalaNumberProxy.scala.html#54396" title="(that: Long)Long">min</a> <a href="../../../Int.scala.html#54731" title="=&gt; Long">CHUNK</a>
        <a href="#777428" title="Long">pos</a> <a href="../../../Long.scala.html#55170" title="(x: Long)Long">+=</a> <a href="#777391" title="=&gt; java.nio.channels.FileChannel">out</a>.<span title="(x$1: java.nio.channels.ReadableByteChannel, x$2: Long, x$3: Long)Long">transferFrom</span><span class="delimiter">(</span><a href="#777389" title="=&gt; java.nio.channels.FileChannel">in</a>, <a href="#777428" title="Long">pos</a>, <a href="#777429" title="Long">count</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">finally</span> <a href="../../../collection/immutable/List.scala.html#48877" title="[A](xs: A*)List[A]">List</a><span title="(xs: scala.tools.nsc.io.File.HasClose*)List[scala.tools.nsc.io.File.HasClose]" class="delimiter">[</span><a href="#777179" title="scala.tools.nsc.io.File.HasClose">HasClose</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#777391" title="=&gt; java.nio.channels.FileChannel">out</a>, <a href="#777387" title="=&gt; java.io.FileOutputStream">out_s</a>, <a href="#777389" title="=&gt; java.nio.channels.FileChannel">in</a>, <a href="#777385" title="=&gt; java.io.FileInputStream">in_s</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: scala.tools.nsc.io.File.HasClose =&gt; Unit)Unit">foreach</a> <a href="#482219" title="(target: scala.tools.nsc.io.File.HasClose)Unit">closeQuietly</a>

    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#33012" title="File.this.type" class="keyword">this</a>.<a href="#481529" title="=&gt; Long">length</a> <a href="../../../Long.scala.html#55120" title="(x: Long)Boolean">!=</a> <a href="#777384" title="scala.tools.nsc.io.File">dest</a>.<a href="#481529" title="=&gt; Long">length</a><span class="delimiter">)</span>
      <a href="Path.scala.html#479377" title="(msg: String)Nothing">fail</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Failed to completely copy %s to %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="Path.scala.html#479413" title="=&gt; String">name</a>, <a href="#777384" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#479413" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span title="AnyVal" class="keyword">if</span> <span class="delimiter">(</span><a href="#777382" title="Boolean">preserveFileDate</a><span class="delimiter">)</span>
      <a href="#777384" title="scala.tools.nsc.io.File">dest</a>.<a href="Path.scala.html#479445" title="(time: Long)Boolean">lastModified</a> = <a href="#33012" title="File.this.type" class="keyword">this</a>.<a href="Path.scala.html#479444" title="=&gt; Long">lastModified</a>

    <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Reflection since we're into the java 6+ API.
   */</span>
  <span class="keyword">def</span> <a title="(executable: Boolean, ownerOnly: Boolean)Boolean" id="481549">setExecutable</a><span class="delimiter">(</span><a title="Boolean" id="493050">executable</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a>, <a title="Boolean" id="493053">ownerOnly</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="java.lang.Boolean" id="777564">JBoolean</a> = java.lang.<span title="java.lang.Boolean">Boolean</span>
    <span class="keyword">val</span> <a title="java.lang.reflect.Method" id="777565">method</a> =
      <span class="keyword">try</span> classOf<span title="java.lang.Class[scala.tools.nsc.io.package.JFile](classOf[java.io.File])" class="delimiter">[</span>JFile<span class="delimiter">]</span>.<span title="(x$1: java.lang.String, x$2: &lt;repeated...&gt;[java.lang.Class[_]])java.lang.reflect.Method">getMethod</span><span class="delimiter">(</span><span title="java.lang.String(&quot;setExecutable&quot;)" class="string">&quot;setExecutable&quot;</span>, classOf<span title="java.lang.Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>Boolean<span class="delimiter">]</span>, classOf<span title="java.lang.Class[Boolean](classOf[scala.Boolean])" class="delimiter">[</span>Boolean<span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Nothing">_</span>: <span title="java.lang.NoSuchMethodException">NoSuchMethodException</span> =&gt; <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>

    <span class="keyword">try</span> <a href="#777565" title="java.lang.reflect.Method">method</a>.<span title="(x$1: Any, x$2: &lt;repeated...&gt;[java.lang.Object])java.lang.Object">invoke</span><span class="delimiter">(</span><a href="#482225" title="scala.tools.nsc.io.package.JFile">jfile</a>, <a href="../../../Predef.scala.html#9664" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)java.lang.Boolean">executable</a>: <span title="JBoolean">JBoolean</span>, <a href="../../../Predef.scala.html#9664" title="implicit scala.Predef.boolean2Boolean : (x: Boolean)java.lang.Boolean">ownerOnly</a>: <span title="JBoolean">JBoolean</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="JBoolean" class="delimiter">[</span><span title="JBoolean">JBoolean</span><span class="delimiter">]</span>.<span title="()Boolean">booleanValue</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Boolean(false)">_</span>: <span title="Exception">Exception</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>