<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/symtab/Types.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> symtab

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.ref.WeakReference
<span class="keyword">import</span> mutable.ListBuffer
<span class="keyword">import</span> ast.TreeGen
<span class="keyword">import</span> util.<span class="delimiter">{</span> Position, NoPosition <span class="delimiter">}</span>
<span class="keyword">import</span> util.<a href="../util/Statistics.scala.html#43001" title="object scala.tools.nsc.util.Statistics">Statistics</a>._
<span class="keyword">import</span> <a href="Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> scala.util.control.ControlThrowable
<span class="keyword">import</span> scala.annotation.tailrec

<span class="comment">/* A standard type pattern match:
  case ErrorType =&gt;
    // internal: error
  case WildcardType =&gt;
    // internal: unknown
  case NoType =&gt;
  case NoPrefix =&gt;
  case ThisType(sym) =&gt;
    // sym.this.type
  case SuperType(thistpe, supertpe) =&gt;
    // super references
  case SingleType(pre, sym) =&gt;
    // pre.sym.type
  case ConstantType(value) =&gt;
    // Int(2)
  case TypeRef(pre, sym, args) =&gt;
    // pre.sym[targs]
    // Outer.this.C would be represented as TypeRef(ThisType(Outer), C, List())
  case RefinedType(parents, defs) =&gt;
    // parent1 with ... with parentn { defs }
  case ExistentialType(tparams, result) =&gt;
    // result forSome { tparams }
  case AnnotatedType(annots, tp, selfsym) =&gt;
    // tp @annots

  // the following are non-value types; you cannot write them down in Scala source.

  case TypeBounds(lo, hi) =&gt;
    // &gt;: lo &lt;: hi
  case ClassInfoType(parents, defs, clazz) =&gt;
    // same as RefinedType except as body of class
  case MethodType(paramtypes, result) =&gt;
    // (paramtypes)result
    // For instance def m(): T is represented as MethodType(List(), T)
  case NullaryMethodType(result) =&gt; // eliminated by uncurry
    // an eval-by-name type
    // For instance def m: T is represented as NullaryMethodType(T)
  case PolyType(tparams, result) =&gt;
    // [tparams]result where result is a (Nullary)MethodType or ClassInfoType

  // The remaining types are not used after phase `typer'.
  case OverloadedType(pre, tparams, alts) =&gt;
    // all alternatives of an overloaded ident
  case AntiPolyType(pre, targs) =&gt;
    // rarely used, disappears when combined with a PolyType
  case TypeVar(inst, constr) =&gt;
    // a type variable
    // Replace occurrences of type parameters with type vars, where
    // inst is the instantiation and constr is a list of bounds.
  case DeBruijnIndex(level, index)
    // for dependent method types: a type referring to a method parameter.
    // Not presently used, it seems.
*/</span>

<span class="keyword">trait</span> <a title="trait Types extends java.lang.Object with scala.reflect.generic.Types with ScalaObject" id="36105">Types</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> reflect.generic.<a href="../../../reflect/generic/Types.scala.html#19785" title="scala.reflect.generic.Types">Types</a> <span class="delimiter">{</span> self: SymbolTable =&gt;
  <span class="keyword">import</span> <a href="Definitions.scala.html#479030" title="object Types.this.definitions">definitions</a>._

  <span class="comment">//statistics</span>
  <span class="keyword">def</span> <a title="=&gt; Int" id="478687">uniqueTypeCount</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#478829" title="=&gt; scala.tools.nsc.util.HashSet[Types.this.Type]">uniques</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <a href="#478829" title="=&gt; scala.tools.nsc.util.HashSet[Types.this.Type]">uniques</a>.<a href="../util/HashSet.scala.html#520007" title="=&gt; Int">size</a>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Boolean" id="478689">explainSwitch</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Set[Types.this.Symbol]" id="478691">emptySymbolSet</a> = immutable.<a href="../../../collection/immutable/Set.scala.html#13577" title="object scala.collection.immutable.Set">Set</a>.<a href="../../../collection/immutable/Set.scala.html#56780" title="[A]=&gt; scala.collection.immutable.Set[A]">empty</a><span title="scala.collection.immutable.Set[Types.this.Symbol]" class="delimiter">[</span><a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">]</span>

  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="478693">alternativeNarrow</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(50)" id="478695">LogPendingSubTypesThreshold</a> = <span title="Int(50)" class="int">50</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(50)" id="478697">LogPendingBaseTypesThreshold</a> = <span title="Int(50)" class="int">50</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(50)" id="478699">LogVolatileThreshold</a> = <span title="Int(50)" class="int">50</span>

  <span class="comment">/** A don't care value for the depth parameter in lubs/glbs and related operations */</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(-3)" id="478701">AnyDepth</a> = -<span title="Int(-3)" class="int">3</span>

  <span class="comment">/** Decrement depth unless it is a don't care */</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(depth: Int)Int" id="478703">decr</a><span class="delimiter">(</span><a title="Int" id="842143">depth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#842143" title="Int">depth</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(-3)">AnyDepth</span><span class="delimiter">)</span> <span title="Int(-3)">AnyDepth</span> <span class="keyword">else</span> <a href="#842143" title="Int">depth</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>

  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="478704">printLubs</a> = <span title="Boolean(false)" class="keyword">false</span>
  <span class="comment">/** In case anyone wants to turn off lub verification without reverting anything. */</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(true)" id="478706">verifyLubs</a> = <span title="Boolean(true)" class="keyword">true</span>

  <span class="comment">/** The current skolemization level, needed for the algorithms
   *  in isSameType, isSubType that do constraint solving under a prefix
   */</span>
  <span class="keyword">var</span> <a title="Int" id="478709">skolemizationLevel</a> = <span title="Int(0)" class="int">0</span>

  <span class="comment">/** A log of type variable with their original constraints. Used in order
   *  to undo constraints in the case of isSubType/isSameType failure.
   */</span>
  <span class="keyword">object</span> <a title="object Types.this.undoLog" id="478711">undoLog</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">private</span> <span class="keyword">type</span> <a title="List[(Types.this.TypeVar, Types.this.TypeConstraint)]" id="508581">UndoLog</a> = <a href="../../../collection/immutable/List.scala.html#14047" title="List[(Types.this.TypeVar, Types.this.TypeConstraint)]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>TypeVar, TypeConstraint<span class="delimiter">)</span><span class="delimiter">]</span>
    <span class="keyword">private</span><span class="delimiter">[</span>nsc<span class="delimiter">]</span> <span class="keyword">var</span> <a title="scala.tools.nsc.symtab.Types.undoLog.UndoLog" id="508583">log</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="scala.tools.nsc.symtab.Types.undoLog.UndoLog">UndoLog</a> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="comment">/** Undo all changes to constraints to type variables upto `limit'
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(limit: scala.tools.nsc.symtab.Types.undoLog.UndoLog)Unit" id="508585">undoTo</a><span class="delimiter">(</span><a title="scala.tools.nsc.symtab.Types.undoLog.UndoLog" id="842163">limit</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[(Types.this.TypeVar, Types.this.TypeConstraint)]">UndoLog</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#508583" title="=&gt; scala.tools.nsc.symtab.Types.undoLog.UndoLog">log</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#842163" title="scala.tools.nsc.symtab.Types.undoLog.UndoLog">limit</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#508583" title="=&gt; scala.tools.nsc.symtab.Types.undoLog.UndoLog">log</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="#842165" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Types.this.TypeVar, Types.this.TypeConstraint)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Types.this.TypeVar" id="842172">tv</a>, <a href="../../../Tuple2.scala.html#53404" title="Types.this.TypeConstraint" id="842173">constr</a><span class="delimiter">)</span> = <a href="#508583" title="=&gt; scala.tools.nsc.symtab.Types.undoLog.UndoLog">log</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; (Types.this.TypeVar, Types.this.TypeConstraint)">head</a>
        <a href="#842172" title="Types.this.TypeVar">tv</a>.<a href="#841830" title="(x$1: Types.this.TypeConstraint)Unit">constr</a> = <a href="#842173" title="Types.this.TypeConstraint">constr</a>
        <a href="#508583" title="(x$1: scala.tools.nsc.symtab.Types.undoLog.UndoLog)Unit">log</a> = <a href="#508583" title="=&gt; scala.tools.nsc.symtab.Types.undoLog.UndoLog">log</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[(Types.this.TypeVar, Types.this.TypeConstraint)]">tail</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span><span class="delimiter">[</span>Types<span class="delimiter">]</span> <span class="keyword">def</span> <a title="(tv: Types.this.TypeVar)Unit" id="508586">record</a><span class="delimiter">(</span><a title="Types.this.TypeVar" id="842221">tv</a>: <a href="#478797" title="Types.this.TypeVar">TypeVar</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#508583" title="(x$1: scala.tools.nsc.symtab.Types.undoLog.UndoLog)Unit">log</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: (Types.this.TypeVar, Types.this.TypeConstraint))List[(Types.this.TypeVar, Types.this.TypeConstraint)]">::=</a> <span class="delimiter">(</span><a href="#842221" title="Types.this.TypeVar">tv</a>, <a href="#842221" title="Types.this.TypeVar">tv</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842215" title="=&gt; Types.this.TypeConstraint">cloneInternal</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span><span class="delimiter">[</span>nsc<span class="delimiter">]</span> <span class="keyword">def</span> <a title="()Unit" id="508587">clear</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#36105" title="Types.this.type">self</a>.<a href="SymbolTable.scala.html#478158" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Clearing &quot;)" class="string">&quot;Clearing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#508583" title="=&gt; scala.tools.nsc.symtab.Types.undoLog.UndoLog">log</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; entries from the undoLog.&quot;)" class="string">&quot; entries from the undoLog.&quot;</span><span class="delimiter">)</span>

      <a href="#508583" title="(x$1: scala.tools.nsc.symtab.Types.undoLog.UndoLog)Unit">log</a> = <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
    <span class="delimiter">}</span>

    <span class="comment">// `block` should not affect constraints on typevars</span>
    <span class="keyword">def</span> <a title="[T](block: =&gt; T)T" id="508588">undo</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="508590">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="508592">block</a>: =&gt; T<span class="delimiter">)</span>: <a href="#508590" title="T">T</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.symtab.Types.undoLog.UndoLog" id="842255">before</a> = <a href="#508583" title="=&gt; scala.tools.nsc.symtab.Types.undoLog.UndoLog">log</a>

      <span class="keyword">try</span> <a href="#508592" title="=&gt; T">block</a>
      <span class="keyword">finally</span> <a href="#508585" title="(limit: scala.tools.nsc.symtab.Types.undoLog.UndoLog)Unit">undoTo</a><span class="delimiter">(</span><a href="#842255" title="scala.tools.nsc.symtab.Types.undoLog.UndoLog">before</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// if `block` evaluates to false, it should not affect constraints on typevars</span>
    <span class="keyword">def</span> <a title="(block: =&gt; Boolean)Boolean" id="508591">undoUnless</a><span class="delimiter">(</span><a title="=&gt; Boolean" id="842256">block</a>: =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.symtab.Types.undoLog.UndoLog" id="842258">before</a> = <a href="#508583" title="=&gt; scala.tools.nsc.symtab.Types.undoLog.UndoLog">log</a>
      <span class="keyword">var</span> <a title="Boolean" id="842259">result</a> = <span title="Boolean(false)" class="keyword">false</span>

      <span class="keyword">try</span> <a href="#842259" title="Boolean">result</a> = <a href="#842256" title="=&gt; Boolean">block</a>
      <span class="keyword">finally</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#842259" title="Boolean">result</a><span class="delimiter">)</span> <a href="#508585" title="(limit: scala.tools.nsc.symtab.Types.undoLog.UndoLog)Unit">undoTo</a><span class="delimiter">(</span><a href="#842258" title="scala.tools.nsc.symtab.Types.undoLog.UndoLog">before</a><span class="delimiter">)</span>

      <a href="#842259" title="Boolean">result</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map from lists to compound types that have the given list as parents.
   *  This is used to avoid duplication in the computation of base type sequences and baseClasses.
   *  It makes use of the fact that these two operations depend only on the parents,
   *  not on the refinement.
   */</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.WeakHashMap[List[Types.this.Type],scala.ref.WeakReference[Types.this.Type]]" id="478713">intersectionWitness</a> = <span title="scala.collection.mutable.WeakHashMap[List[Types.this.Type],scala.ref.WeakReference[Types.this.Type]]" class="keyword">new</span> mutable.<a href="../../../collection/mutable/WeakHashMap.scala.html#15082" title="scala.collection.mutable.WeakHashMap[List[Types.this.Type],scala.ref.WeakReference[Types.this.Type]]">WeakHashMap</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, WeakReference<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span>

  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object Types.this.gen" id="478715">gen</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Types.this.type" id="842266">global</a> : Types.<span class="keyword">this</span>.<span class="keyword">type</span> = <a href="#36105" title="Types.this.type">Types</a>.<span class="keyword">this</span>
  <span class="delimiter">}</span> <span class="keyword">with</span> <a href="../ast/TreeGen.scala.html#23844" title="scala.tools.nsc.ast.TreeGen">TreeGen</a>

  <span class="keyword">import</span> <a href="#478715" title="object Types.this.gen">gen</a>._

  <span class="comment">/** A proxy for a type (identified by field `underlying') that forwards most
   *  operations to it (for exceptions, see WrappingProxy, which forwards even more operations).
   *  every operation that is overridden for some kind of types should be forwarded.
   */</span>
  <span class="keyword">trait</span> <a title="trait SimpleTypeProxy extends Types.this.Type with ScalaObject" id="478718">SimpleTypeProxy</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546367">underlying</a>: <a href="#478720" title="Types.this.Type">Type</a>

    <span class="comment">// the following operations + those in RewrappingTypeProxy are all operations</span>
    <span class="comment">// in class Type that are overridden in some subclass</span>
    <span class="comment">// Important to keep this up-to-date when new operations are added!</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546368">isTrivial</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507149" title="=&gt; Boolean">isTrivial</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546369">isHigherKinded</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507150" title="=&gt; Boolean">isHigherKinded</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546370">typeConstructor</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507171" title="=&gt; Types.this.Type">typeConstructor</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546371">isNotNull</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507153" title="=&gt; Boolean">isNotNull</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546372">isError</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507190" title="=&gt; Boolean">isError</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546373">isErroneous</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507191" title="=&gt; Boolean">isErroneous</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546374">isStable</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507151" title="=&gt; Boolean">isStable</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546375">isVolatile</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507152" title="=&gt; Boolean">isVolatile</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546376">finalResultType</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507177" title="=&gt; Types.this.Type">finalResultType</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="546377">paramSectionCount</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507178" title="=&gt; Int">paramSectionCount</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[List[Types.this.Symbol]]" id="546378">paramss</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507179" title="=&gt; List[List[Types.this.Symbol]]">paramss</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="546379">params</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507180" title="=&gt; List[Types.this.Symbol]">params</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="546380">paramTypes</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507181" title="=&gt; List[Types.this.Type]">paramTypes</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="546381">termSymbol</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507158" title="=&gt; Types.this.Symbol">termSymbol</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="546382">termSymbolDirect</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507160" title="=&gt; Types.this.Symbol">termSymbolDirect</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="546383">typeParams</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507182" title="=&gt; List[Types.this.Symbol]">typeParams</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]" id="546384">boundSyms</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507183" title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]">boundSyms</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="546385">typeSymbol</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="546386">typeSymbolDirect</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507161" title="=&gt; Types.this.Symbol">typeSymbolDirect</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546387">widen</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507163" title="=&gt; Types.this.Type">widen</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546388">typeOfThis</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507165" title="=&gt; Types.this.Type">typeOfThis</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.TypeBounds" id="546389">bounds</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="546390">parents</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546391">prefix</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507169" title="=&gt; Types.this.Type">prefix</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Scope" id="546392">decls</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol)Types.this.Type" id="546393">baseType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="842346">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#842346" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.BaseTypeSeq" id="546394">baseTypeSeq</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="546395">baseTypeSeqDepth</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507230" title="=&gt; Int">baseTypeSeqDepth</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="546396">baseClasses</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a>
  <span class="delimiter">}</span>

  <span class="comment">/** A proxy for a type (identified by field `underlying') that forwards most
   *  operations to it. Every operation that is overridden for some kind of types is
   *  forwarded here. Some operations are rewrapped again.
   */</span>
  <span class="keyword">trait</span> <a title="trait RewrappingTypeProxy extends Types.this.Type with Types.this.SimpleTypeProxy with ScalaObject" id="478719">RewrappingTypeProxy</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478718" title="Types.this.SimpleTypeProxy">SimpleTypeProxy</a> <span class="delimiter">{</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(newtp: Types.this.Type)Types.this.Type" id="547087">maybeRewrap</a><span class="delimiter">(</span><a title="Types.this.Type" id="842360">newtp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#842360" title="Types.this.Type">newtp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#507162" title="=&gt; Types.this.Type">underlying</a><span class="delimiter">)</span> <a href="#478719" title="Types.this.RewrappingTypeProxy" class="keyword">this</a> <span class="keyword">else</span> <a href="#547088" title="(newtp: Types.this.Type)Types.this.Type">rewrap</a><span class="delimiter">(</span><a href="#842360" title="Types.this.Type">newtp</a><span class="delimiter">)</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(newtp: Types.this.Type)Types.this.Type" id="547088">rewrap</a><span class="delimiter">(</span><a title="Types.this.Type" id="842363">newtp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a>

    <span class="comment">// the following are all operations in class Type that are overridden in some subclass</span>
    <span class="comment">// Important to keep this up-to-date when new operations are added!</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547089">widen</a> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507163" title="=&gt; Types.this.Type">widen</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547090">narrow</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507166" title="=&gt; Types.this.Type">narrow</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547091">deconst</a> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507164" title="=&gt; Types.this.Type">deconst</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547092">resultType</a> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507173" title="=&gt; Types.this.Type">resultType</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(actuals: List[Types.this.Type])Types.this.Type" id="547093">resultType</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="842382">actuals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507174" title="(actuals: List[Types.this.Type])Types.this.Type">resultType</a><span class="delimiter">(</span><a href="#842382" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547094">finalResultType</a> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507177" title="=&gt; Types.this.Type">finalResultType</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="547095">paramSectionCount</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[List[Types.this.Symbol]]" id="547096">paramss</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[List[Types.this.Symbol]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="547097">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="547098">paramTypes</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="547099">typeArgs</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507172" title="=&gt; List[Types.this.Type]">typeArgs</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547100">notNull</a> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507184" title="=&gt; Types.this.Type">notNull</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type" id="547101">instantiateTypeParams</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="842430">formals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="842431">actuals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#842430" title="List[Types.this.Symbol]">formals</a>, <a href="#842431" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Types.this.Symbol, origin: AnyRef)Types.this.Type" id="547102">skolemizeExistential</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="842437">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="AnyRef" id="842438">origin</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507186" title="(owner: Types.this.Symbol, origin: AnyRef)Types.this.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#842437" title="Types.this.Symbol">owner</a>, <a href="#842438" title="AnyRef">origin</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547103">normalize</a> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547104">dealias</a> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507189" title="=&gt; Types.this.Type">dealias</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Types.this.Symbol)Types.this.Type" id="547105">cloneInfo</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="842451">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507233" title="(owner: Types.this.Symbol)Types.this.Type">cloneInfo</a><span class="delimiter">(</span><a href="#842451" title="Types.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Types.this.Symbol)Types.this.Type" id="547106">atOwner</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="842454">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507234" title="(owner: Types.this.Symbol)Types.this.Type">atOwner</a><span class="delimiter">(</span><a href="#842454" title="Types.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="547107">prefixString</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507238" title="=&gt; java.lang.String">prefixString</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="547108">isComplete</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="../../../reflect/generic/Types.scala.html#434190" title="=&gt; Boolean">isComplete</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Unit" id="547109">complete</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="842463">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="../../../reflect/generic/Types.scala.html#434191" title="(sym: Types.this.Symbol)Unit">complete</a><span class="delimiter">(</span><a href="#842463" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Unit" id="547110">load</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="842468">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507241" title="(sym: Types.this.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#842468" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(annots: List[Types.this.AnnotationInfo])Types.this.Type" id="547111">withAnnotations</a><span class="delimiter">(</span><a title="List[Types.this.AnnotationInfo]" id="842470">annots</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507248" title="(annots: List[Types.this.AnnotationInfo])Types.this.Type">withAnnotations</a><span class="delimiter">(</span><a href="#842470" title="List[Types.this.AnnotationInfo]">annots</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547112">withoutAnnotations</a> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The base class for all types */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Type extends Types.this.AbsType with ScalaObject" id="478720">Type</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433898" title="Types.this.AbsType">AbsType</a> <span class="delimiter">{</span>

    <span class="comment">/** Types for which asSeenFrom always is the identity, no matter what
     *  prefix or owner.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507149">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Is this type higher-kinded, i.e., is it a type constructor @M */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507150">isHigherKinded</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Does this type denote a stable reference (i.e. singleton type)? */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507151">isStable</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Is this type dangerous (i.e. it might contain conflicting
     *  type information when empty, so that it can be constructed
     *  so that type unsoundness results.) A dangerous type has an underlying
     *  type of the form T_1 with T_n { decls }, where one of the
     *  T_i (i &gt; 1) is an abstract type.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507152">isVolatile</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Is this type guaranteed not to have `null' as a value? */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507153">isNotNull</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Is this type a structural refinement type (it 'refines' members that have not been inherited) */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507154">isStructuralRefinement</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Does this type depend immediately on an enclosing method parameter?
      * i.e., is it a singleton type whose termSymbol refers to an argument of the symbol's owner (which is a method)
      */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507155">isImmediatelyDependent</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Does this depend on an enclosing method parameter? */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507156">isDependent</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#478867" title="object Types.this.IsDependentCollector">IsDependentCollector</a>.<a href="#842122" title="(tp: Types.this.Type)Boolean">collect</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>

    <span class="comment">/** True for WildcardType or BoundedWildcardType */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507157">isWildcard</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** The term symbol associated with the type
      * Note that the symbol of the normalized type is returned (@see normalize)
      */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="507158">termSymbol</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a>

    <span class="comment">/** The type symbol associated with the type
      * Note that the symbol of the normalized type is returned (@see normalize)
      */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="507159">typeSymbol</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a>

    <span class="comment">/** The term symbol *directly* associated with the type
      */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="507160">termSymbolDirect</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="#507158" title="=&gt; Types.this.Symbol">termSymbol</a>

    <span class="comment">/** The type symbol *directly* associated with the type
      */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="507161">typeSymbolDirect</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>

    <span class="comment">/** The base type underlying a type proxy,
     *  identity on all other types */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507162">underlying</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** Widen from singleton type to its underlying non-singleton
     *  base type by applying one or more `underlying' dereferences,
     *  identity for all other types.
     *
     *  class Outer { class C ; val x: C }
     *  val o: Outer
     *  &lt;o.x.type&gt;.widen = o.C
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507163">widen</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** Map a constant type or not-null-type to its underlying base type,
     *  identity for all other types.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507164">deconst</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** The type of `this' of a class type or reference type
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507165">typeOfThis</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509307" title="=&gt; Types.this.Type">typeOfThis</a>

    <span class="comment">/** Map to a singleton type which is a subtype of this type.
     *  The fallback implemented here gives
     *    T.narrow  =  (T {}).this.type
     *  Overridden where we know more about where types come from.
     *
     *  todo: change to singleton type of an existentially defined variable
     *  of the right type instead of making this a `this` of a refined type.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507166">narrow</a>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#478720" title="Types.this.Type" class="keyword">this</a>
      <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)">alternativeNarrow</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// investigate why this does not work!</span>
        <span class="keyword">val</span> <a title="Types.this.Symbol" id="842498">tparam</a> = <a href="#478989" title="(t: Types.this.Type)Types.this.Symbol">commonOwner</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span> <a href="Symbols.scala.html#509150" title="(suffix: String)Types.this.Symbol">freshExistential</a> <span title="java.lang.String(&quot;.type&quot;)" class="string">&quot;.type&quot;</span> <a href="Symbols.scala.html#509274" title="(info: Types.this.Type)Types.this.Symbol">setInfo</a> <a href="#478858" title="(hi: Types.this.Type)Types.this.TypeBounds">singletonBounds</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>
        <a href="#842498" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Types.this.Symbol" id="842526">cowner</a> = <a href="#478989" title="(t: Types.this.Type)Types.this.Symbol">commonOwner</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>
        <a href="#478808" title="(parents: List[Types.this.Type], owner: Types.this.Symbol, decls: Types.this.Scope, pos: Types.this.Position)Types.this.Type">refinedType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Type*)List[Types.this.Type]">List</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>, <a href="#842526" title="Types.this.Symbol">cowner</a>, <a href="Scopes.scala.html#479022" title="object Types.this.EmptyScope">EmptyScope</a>, <a href="#842526" title="Types.this.Symbol">cowner</a>.<a href="Symbols.scala.html#509109" title="=&gt; Types.this.Position">pos</a><span class="delimiter">)</span>.<a href="#507166" title="=&gt; Types.this.Type">narrow</a>
      <span class="delimiter">}</span>

    <span class="comment">/** For a TypeBounds type, itself;
     *  for a reference denoting an abstract type, its bounds,
     *  for all other types, a TypeBounds type all of whose bounds are this type.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.TypeBounds" id="507167">bounds</a>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a> = <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>

    <span class="comment">/** For a class or intersection type, its parents.
     *  For a TypeBounds type, the parents of its hi bound.
     *  inherited by typerefs, singleton types, and refinement types,
     *  The empty list for all other types */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="507168">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="comment">/** For a typeref or single-type, the prefix of the normalized type (@see normalize).
     *  NoType for all other types. */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507169">prefix</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#843724" title="object Types.this.NoType">NoType</a>

    <span class="comment">/** A chain of all typeref or singletype prefixes of this type, longest first.
     *  (Only used from safeToString.)
     */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="507170">prefixChain</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#478720" title="Types.this.Type" class="keyword">this</a> <span title="List[Types.this.Type]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[Types.this.Type]">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="842553">pre</a>, _, _<span class="delimiter">)</span> =&gt; <a href="#842553" title="Types.this.Type">pre</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Type)List[Types.this.Type]">::</a> <a href="#842553" title="Types.this.Type">pre</a>.<a href="#507170" title="=&gt; List[Types.this.Type]">prefixChain</a>
      <span class="keyword">case</span> <span title="List[Types.this.Type]">SingleType</span><span class="delimiter">(</span><a title="Types.this.Type" id="842560">pre</a>, _<span class="delimiter">)</span> =&gt; <a href="#842560" title="Types.this.Type">pre</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Type)List[Types.this.Type]">::</a> <a href="#842560" title="Types.this.Type">pre</a>.<a href="#507170" title="=&gt; List[Types.this.Type]">prefixChain</a>
      <span class="keyword">case</span> <span title="List[Nothing]">_</span> =&gt; List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** This type, without its type arguments @M */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507171">typeConstructor</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** For a typeref, its arguments. The empty list for all other types */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="507172">typeArgs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="comment">/** For a (nullary) method or poly type, its direct result type,
     *  the type itself for all other types. */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507173">resultType</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="keyword">def</span> <a title="(actuals: List[Types.this.Type])Types.this.Type" id="507174">resultType</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="601042">actuals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** Only used for dependent method types. */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507175">resultApprox</a>: <a href="#478720" title="Types.this.Type">Type</a> = <span title="Types.this.Type" class="keyword">if</span><span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469799" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">YdepMethTpes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#842587" title="(tp: Types.this.Type)Types.this.Type">ApproximateDependentMap</a><span class="delimiter">(</span><a href="#507173" title="=&gt; Types.this.Type">resultType</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#507173" title="=&gt; Types.this.Type">resultType</a>

    <span class="comment">/** If this is a TypeRef `clazz`[`T`], return the argument `T`
     *  otherwise return this type
     */</span>
    <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol)Types.this.Type" id="507176">remove</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="842600">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** For a curried/nullary method or poly type its non-method result type,
     *  the type itself for all other types */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507177">finalResultType</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** For a method type, the number of its value parameter sections,
     *  0 for all other types */</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="507178">paramSectionCount</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <span title="Int(0)" class="int">0</span>

    <span class="comment">/** For a method or poly type, a list of its value parameter sections,
     *  the empty list for all other types */</span>
    <span class="keyword">def</span> <a title="=&gt; List[List[Types.this.Symbol]]" id="507179">paramss</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[List[Types.this.Symbol]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="comment">/** For a method or poly type, its first value parameter section,
     *  the empty list for all other types */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="507180">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="comment">/** For a method or poly type, the types of its first value parameter section,
     *  the empty list for all other types */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="507181">paramTypes</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="comment">/** For a (potentially wrapped) poly type, its type parameters,
     *  the empty list for all other types */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="507182">typeParams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="comment">/** For a (potentially wrapped) poly or existential type, its bound symbols,
     *  the empty list for all other types */</span>
    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]" id="507183">boundSyms</a>: immutable.<a href="../../../collection/immutable/Set.scala.html#13576" title="scala.collection.immutable.Set[Types.this.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#478691" title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]">emptySymbolSet</a>

    <span class="comment">/** Mixin a NotNull trait unless type already has one
     *  ...if the option is given, since it is causing typing bugs.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507184">notNull</a>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469797" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Ynotnull</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#507153" title="=&gt; Boolean">isNotNull</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#478720" title="Types.this.Type" class="keyword">this</a>
      <span class="keyword">else</span> <a href="#842637" title="(underlying: Types.this.Type)Types.this.NotNullType">NotNullType</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>

    <span class="comment">/** Replace formal type parameter symbols with actual type arguments.
     *
     * Amounts to substitution except for higher-kinded types. (See overridden method in TypeRef) -- @M
     */</span>
    <span class="keyword">def</span> <a title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type" id="507185">instantiateTypeParams</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="842433">formals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="842434">actuals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#842433" title="List[Types.this.Symbol]">formals</a>, <a href="#842434" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#478720" title="Type.this.type" class="keyword">this</a>.<a href="#507209" title="(from: List[Types.this.Symbol], to: List[Types.this.Type])Types.this.Type">subst</a><span class="delimiter">(</span><a href="#842433" title="List[Types.this.Symbol]">formals</a>, <a href="#842434" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#843657" title="object Types.this.ErrorType">ErrorType</a>

    <span class="comment">/** If this type is an existential, turn all existentially bound variables to type skolems.
     *  @param  owner    The owner of the created type skolems
     *  @param  origin   The tree whose type was an existential for which the skolem was created.
     */</span>
    <span class="keyword">def</span> <a title="(owner: Types.this.Symbol, origin: AnyRef)Types.this.Type" id="507186">skolemizeExistential</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="769964">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="AnyRef" id="769965">origin</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** A simple version of skolemizeExistential for situations where
     *  owner or unpack location do not matter (typically used in subtype tests)
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507187">skolemizeExistential</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#507186" title="(owner: Types.this.Symbol, origin: AnyRef)Types.this.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a>, <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>

    <span class="comment">/** Reduce to beta eta-long normal form.
     *  Expands type aliases and converts higher-kinded TypeRefs to PolyTypes.
     *  Functions on types are also implemented as PolyTypes.
     *
     *  Example: (in the below, &lt;List&gt; is the type constructor of List)
     *    TypeRef(pre, &lt;List&gt;, List()) is replaced by
     *    PolyType(X, TypeRef(pre, &lt;List&gt;, List(X)))
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507188">normalize</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a> <span class="comment">// @MAT</span>

    <span class="comment">/** Expands type aliases. */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507189">dealias</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** Is this type produced as a repair for an error? */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507190">isError</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509183" title="=&gt; Boolean">isError</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#507158" title="=&gt; Types.this.Symbol">termSymbol</a>.<a href="Symbols.scala.html#509183" title="=&gt; Boolean">isError</a>

    <span class="comment">/** Is this type produced as a repair for an error? */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507191">isErroneous</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#478883" title="object Types.this.ErroneousCollector">ErroneousCollector</a>.<a href="#842122" title="(tp: Types.this.Type)Boolean">collect</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>

    <span class="comment">/** Does this type denote a reference type which can be null? */</span>
    <span class="comment">// def isNullable: Boolean = false</span>

    <span class="comment">/** For a classtype or refined type, its defined or declared members;
     *  inherited by subtypes and typerefs.
     *  The empty scope for all other types.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Scope" id="507192">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a> = <a href="Scopes.scala.html#479022" title="object Types.this.EmptyScope">EmptyScope</a>

    <span class="comment">/** The defined or declared members with name `name' in this type;
     *  an OverloadedSymbol if several exist, NoSymbol if none exist.
     *  Alternatives of overloaded symbol appear in the order they are declared.
     */</span>
    <span class="keyword">def</span> <a title="(name: Types.this.Name)Types.this.Symbol" id="507193">decl</a><span class="delimiter">(</span><a title="Types.this.Name" id="618348">name</a>: <a href="Names.scala.html#478413" title="Types.this.Name">Name</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="#507242" title="(name: Types.this.Name, excludedFlags: Int)Types.this.Symbol">findDecl</a><span class="delimiter">(</span><a href="#618348" title="Types.this.Name">name</a>, <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>

    <span class="comment">/** The non-private defined or declared members with name `name' in this type;
     *  an OverloadedSymbol if several exist, NoSymbol if none exist.
     *  Alternatives of overloaded symbol appear in the order they are declared.
     */</span>
    <span class="keyword">def</span> <a title="(name: Types.this.Name)Types.this.Symbol" id="507194">nonPrivateDecl</a><span class="delimiter">(</span><a title="Types.this.Name" id="744917">name</a>: <a href="Names.scala.html#478413" title="Types.this.Name">Name</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="#507242" title="(name: Types.this.Name, excludedFlags: Int)Types.this.Symbol">findDecl</a><span class="delimiter">(</span><a href="#744917" title="Types.this.Name">name</a>, <span title="Int(4)">PRIVATE</span><span class="delimiter">)</span>

    <span class="comment">/** A list of all members of this type (defined or inherited)
     *  Members appear in linearization order of their owners.
     *  Members with the same owner appear in reverse order of their declarations.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="507195">members</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#507243" title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol">findMember</a><span class="delimiter">(</span><a href="StdNames.scala.html#479055" title="object Types.this.nme">nme</a>.<a href="StdNames.scala.html#516544" title="=&gt; Types.this.nme.NameType">ANYNAME</a>, <span title="Long(0L)" class="int">0</span>, <span title="Long(0L)" class="int">0</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="Symbols.scala.html#509299" title="=&gt; List[Types.this.Symbol]">alternatives</a>

    <span class="comment">/** A list of all non-private members of this type (defined or inherited) */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="507196">nonPrivateMembers</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <a href="#507243" title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol">findMember</a><span class="delimiter">(</span><a href="StdNames.scala.html#479055" title="object Types.this.nme">nme</a>.<a href="StdNames.scala.html#516544" title="=&gt; Types.this.nme.NameType">ANYNAME</a>, PRIVATE <span title="Long(4398113619972L)">|</span> BRIDGES, <span title="Long(0L)" class="int">0</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="Symbols.scala.html#509299" title="=&gt; List[Types.this.Symbol]">alternatives</a>

    <span class="comment">/** A list of all non-private members of this type  (defined or inherited),
     *  admitting members with given flags `admit`
     */</span>
    <span class="keyword">def</span> <a title="(admit: Long)List[Types.this.Symbol]" id="507197">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><a title="Long" id="842681">admit</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <a href="#507243" title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol">findMember</a><span class="delimiter">(</span><a href="StdNames.scala.html#479055" title="object Types.this.nme">nme</a>.<a href="StdNames.scala.html#516544" title="=&gt; Types.this.nme.NameType">ANYNAME</a>, <span class="delimiter">(</span>PRIVATE <span title="Long(4398113619972L)">|</span> BRIDGES<span class="delimiter">)</span> <a href="../../../Long.scala.html#55160" title="(x: Long)Long">&amp;</a> <a href="../../../Long.scala.html#55101" title="=&gt; Long">~</a><a href="#842681" title="Long">admit</a>, <span title="Long(0L)" class="int">0</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="Symbols.scala.html#509299" title="=&gt; List[Types.this.Symbol]">alternatives</a>

    <span class="comment">/** A list of all implicit symbols of this type  (defined or inherited) */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="507198">implicitMembers</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <a href="#507243" title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol">findMember</a><span class="delimiter">(</span><a href="StdNames.scala.html#479055" title="object Types.this.nme">nme</a>.<a href="StdNames.scala.html#516544" title="=&gt; Types.this.nme.NameType">ANYNAME</a>, <span title="Long(4398113619968L)">BRIDGES</span>, <span title="Long(512L)">IMPLICIT</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="Symbols.scala.html#509299" title="=&gt; List[Types.this.Symbol]">alternatives</a>

    <span class="comment">/** A list of all deferred symbols of this type  (defined or inherited) */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="507199">deferredMembers</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <a href="#507243" title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol">findMember</a><span class="delimiter">(</span><a href="StdNames.scala.html#479055" title="object Types.this.nme">nme</a>.<a href="StdNames.scala.html#516544" title="=&gt; Types.this.nme.NameType">ANYNAME</a>, <span title="Long(4398113619968L)">BRIDGES</span>, <span title="Long(16L)">DEFERRED</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="Symbols.scala.html#509299" title="=&gt; List[Types.this.Symbol]">alternatives</a>

    <span class="comment">/** The member with given name,
     *  an OverloadedSymbol if several exist, NoSymbol if none exist */</span>
    <span class="keyword">def</span> <a title="(name: Types.this.Name)Types.this.Symbol" id="507200">member</a><span class="delimiter">(</span><a title="Types.this.Name" id="522102">name</a>: <a href="Names.scala.html#478413" title="Types.this.Name">Name</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="#507243" title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol">findMember</a><span class="delimiter">(</span><a href="#522102" title="Types.this.Name">name</a>, <span title="Long(4398113619968L)">BRIDGES</span>, <span title="Long(0L)" class="int">0</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <span class="comment">/** The non-private member with given name,
     *  an OverloadedSymbol if several exist, NoSymbol if none exist.
     *  Bridges are excluded from the result
     */</span>
    <span class="keyword">def</span> <a title="(name: Types.this.Name)Types.this.Symbol" id="507201">nonPrivateMember</a><span class="delimiter">(</span><a title="Types.this.Name" id="531683">name</a>: <a href="Names.scala.html#478413" title="Types.this.Name">Name</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> =
      <a href="#507243" title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol">findMember</a><span class="delimiter">(</span><a href="#531683" title="Types.this.Name">name</a>, PRIVATE <span title="Long(4398113619972L)">|</span> BRIDGES, <span title="Long(0L)" class="int">0</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <span class="comment">/** The non-private member with given name, admitting members with given flags `admit`
     *  an OverloadedSymbol if several exist, NoSymbol if none exist
     */</span>
    <span class="keyword">def</span> <a title="(name: Types.this.Name, admit: Long)Types.this.Symbol" id="507202">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a title="Types.this.Name" id="839572">name</a>: <a href="Names.scala.html#478413" title="Types.this.Name">Name</a>, <a title="Long" id="839573">admit</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> =
      <a href="#507243" title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol">findMember</a><span class="delimiter">(</span><a href="#839572" title="Types.this.Name">name</a>, <span class="delimiter">(</span>PRIVATE <span title="Long(4398113619972L)">|</span> BRIDGES<span class="delimiter">)</span> <a href="../../../Long.scala.html#55160" title="(x: Long)Long">&amp;</a> <a href="../../../Long.scala.html#55101" title="=&gt; Long">~</a><a href="#839573" title="Long">admit</a>, <span title="Long(0L)" class="int">0</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <span class="comment">/** The non-local member with given name,
     *  an OverloadedSymbol if several exist, NoSymbol if none exist */</span>
    <span class="keyword">def</span> <a title="(name: Types.this.Name)Types.this.Symbol" id="507203">nonLocalMember</a><span class="delimiter">(</span><a title="Types.this.Name" id="842705">name</a>: <a href="Names.scala.html#478413" title="Types.this.Name">Name</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> =
      <a href="#507243" title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol">findMember</a><span class="delimiter">(</span><a href="#842705" title="Types.this.Name">name</a>, LOCAL <span title="Long(4398114144256L)">|</span> BRIDGES, <span title="Long(0L)" class="int">0</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <span class="comment">/** The least type instance of given class which is a supertype
     *  of this type.  Example:
     *    class D[T]
     *    class C extends p.D[Int]
     *    ThisType(C).baseType(D) = p.D[Int]
     */</span>
    <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol)Types.this.Type" id="507204">baseType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="696458">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#843724" title="object Types.this.NoType">NoType</a>

    <span class="comment">/** This type as seen from prefix `pre' and class `clazz'. This means:
     *  Replace all thistypes of `clazz' or one of its subclasses
     *  by `pre' and instantiate all parameters by arguments of `pre'.
     *  Proceed analogously for thistypes referring to outer classes.
     *
     *  Example:
     *    class D[T] { def m: T }
     *    class C extends p.D[Int]
     *    T.asSeenFrom(ThisType(C), D)  (where D is owner of m)
     *      = Int
     */</span>
    <span class="keyword">def</span> <a title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type" id="507205">asSeenFrom</a><span class="delimiter">(</span><a title="Types.this.Type" id="532687">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="532688">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507149" title="=&gt; Boolean">isTrivial</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#532687" title="Types.this.Type">pre</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#508099" title="=&gt; Types.this.Symbol">ArrayClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478535" title="=&gt; scala.tools.nsc.util.Statistics.Counter">asSeenFromCount</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="842716">start</a> = <a href="../util/Statistics.scala.html#478494" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478537" title="=&gt; scala.tools.nsc.util.Statistics.Timer">asSeenFromNanos</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Types.this.AsSeenFromMap" id="842717">m</a> = <span title="Types.this.AsSeenFromMap" class="keyword">new</span> <a href="#478859" title="Types.this.AsSeenFromMap">AsSeenFromMap</a><span class="delimiter">(</span><a href="#532687" title="Types.this.Type">pre</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>, <a href="#532688" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="842718">tp</a> = <a href="#842717" title="Types.this.AsSeenFromMap">m</a> <a href="#842738" title="(tp: Types.this.Type)Types.this.Type">apply</a> <a href="#478720" title="Types.this.Type" class="keyword">this</a>
        <span class="keyword">val</span> <a title="Types.this.Type" id="842719">result</a> = <a href="#478821" title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#842717" title="Types.this.AsSeenFromMap">m</a>.<a href="#842730" title="=&gt; List[Types.this.Symbol]">capturedParams</a>, <a href="#842718" title="Types.this.Type">tp</a><span class="delimiter">)</span>
        <a href="../util/Statistics.scala.html#478495" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478537" title="=&gt; scala.tools.nsc.util.Statistics.Timer">asSeenFromNanos</a>, <a href="#842716" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
        <a href="#842719" title="Types.this.Type">result</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** The info of `sym', seen as a member of this type.
     *
     *  Example:
     *    class D[T] { def m: T }
     *    class C extends p.D[Int]
     *    ThisType(C).memberType(m) = Int
     */</span>
    <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Types.this.Type" id="507206">memberInfo</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="630901">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <a href="#630901" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507205" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#630901" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** The type of `sym', seen as a member of this type. */</span>
    <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Types.this.Type" id="507207">memberType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="531691">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#531691" title="Types.this.Symbol">sym</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Types.this.Type" id="842745">meth</a>: <a href="Symbols.scala.html#478662" title="Types.this.MethodSymbol">MethodSymbol</a> =&gt;
        <a href="#842745" title="Types.this.MethodSymbol">meth</a>.<a href="Symbols.scala.html#606994" title="(pre: Types.this.Type)Types.this.Type">typeAsMemberOf</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
        <a href="#507208" title="(sym: Types.this.Symbol)Types.this.Type">computeMemberType</a><span class="delimiter">(</span><a href="#531691" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Types.this.Type" id="507208">computeMemberType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="840272">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#840272" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509271" title="=&gt; Types.this.Type">tpeHK</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span> <span class="comment">//@M don't prematurely instantiate higher-kinded types, they will be instantiated by transform, typedTypeApply, etc. when really necessary</span>
      <span class="keyword">case</span> <span title="Types.this.OverloadedType">OverloadedType</span><span class="delimiter">(</span>_, <a title="List[Types.this.Symbol]" id="842747">alts</a><span class="delimiter">)</span> =&gt;
        <a href="#645804" title="(pre: Types.this.Type, alternatives: List[Types.this.Symbol])Types.this.OverloadedType">OverloadedType</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#842747" title="List[Types.this.Symbol]">alts</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.Type" id="842750">tp</a> =&gt;
        <a href="#842750" title="Types.this.Type">tp</a>.<a href="#507205" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#840272" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Substitute types `to' for occurrences of references to
     *  symbols `from' in this type.
     */</span>
    <span class="keyword">def</span> <a title="(from: List[Types.this.Symbol], to: List[Types.this.Type])Types.this.Type" id="507209">subst</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="842657">from</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="842658">to</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#842657" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#478720" title="Types.this.Type" class="keyword">this</a>
      <span class="keyword">else</span> <span title="Types.this.SubstTypeMap" class="keyword">new</span> <a href="#478863" title="Types.this.SubstTypeMap">SubstTypeMap</a><span class="delimiter">(</span><a href="#842657" title="List[Types.this.Symbol]">from</a>, <a href="#842658" title="List[Types.this.Type]">to</a><span class="delimiter">)</span> <a href="#565140" title="(tp0: Types.this.Type)Types.this.Type">apply</a> <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** Substitute symbols `to' for occurrences of symbols
     *  `from' in this type.
     * !!! NOTE !!!: If you need to do a substThis and a substSym, the substThis has to come
     * first, as otherwise symbols will immediately get rebound in typeRef to the old
     * symbol.
     */</span>
    <span class="keyword">def</span> <a title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type" id="507210">substSym</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="711729">from</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="711730">to</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#711729" title="List[Types.this.Symbol]">from</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#711730" title="List[Types.this.Symbol]">to</a><span class="delimiter">)</span> <a href="#478720" title="Types.this.Type" class="keyword">this</a>
      <span class="keyword">else</span> <span title="Types.this.SubstSymMap" class="keyword">new</span> <a href="#478862" title="Types.this.SubstSymMap">SubstSymMap</a><span class="delimiter">(</span><a href="#711729" title="List[Types.this.Symbol]">from</a>, <a href="#711730" title="List[Types.this.Symbol]">to</a><span class="delimiter">)</span> <a href="#565258" title="(tp: Types.this.Type)Types.this.Type">apply</a> <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** Substitute all occurrences of `ThisType(from)' in this type
     *  by `to'.
     * !!! NOTE !!!: If you need to do a substThis and a substSym, the substThis has to come
     * first, as otherwise symbols will immediately get rebound in typeRef to the old
     * symbol.
     */</span>
    <span class="keyword">def</span> <a title="(from: Types.this.Symbol, to: Types.this.Type)Types.this.Type" id="507211">substThis</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="839108">from</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Type" id="839109">to</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.SubstThisMap" class="keyword">new</span> <a href="#478864" title="Types.this.SubstThisMap">SubstThisMap</a><span class="delimiter">(</span><a href="#839108" title="Types.this.Symbol">from</a>, <a href="#839109" title="Types.this.Type">to</a><span class="delimiter">)</span> <a href="#842760" title="(tp: Types.this.Type)Types.this.Type">apply</a> <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="keyword">def</span> <a title="(from: Types.this.Type, to: Types.this.Type)Types.this.Type" id="507212">substSuper</a><span class="delimiter">(</span><a title="Types.this.Type" id="842768">from</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="842769">to</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.SubstSuperMap" class="keyword">new</span> <a href="#478865" title="Types.this.SubstSuperMap">SubstSuperMap</a><span class="delimiter">(</span><a href="#842768" title="Types.this.Type">from</a>, <a href="#842769" title="Types.this.Type">to</a><span class="delimiter">)</span> <a href="#842776" title="(tp: Types.this.Type)Types.this.Type">apply</a> <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** Returns all parts of this type which satisfy predicate `p' */</span>
    <span class="keyword">def</span> <a title="(p: Types.this.Type =&gt; Boolean)List[Types.this.Type]" id="507213">filter</a><span class="delimiter">(</span><a title="Types.this.Type =&gt; Boolean" id="842784">p</a>: Type =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span title="Types.this.FilterTypeCollector" class="keyword">new</span> <a href="#478880" title="Types.this.FilterTypeCollector">FilterTypeCollector</a><span class="delimiter">(</span><a href="#842784" title="Types.this.Type =&gt; Boolean">p</a><span class="delimiter">)</span>.<a href="#842122" title="(tp: Types.this.Type)scala.collection.mutable.ListBuffer[Types.this.Type]">collect</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[Types.this.Type]">toList</a>

    <span class="comment">/** Returns optionally first type (in a preorder traversal) which satisfies predicate `p',
     *  or None if none exists.
     */</span>
    <span class="keyword">def</span> <a title="(p: Types.this.Type =&gt; Boolean)Option[Types.this.Type]" id="507214">find</a><span class="delimiter">(</span><a title="Types.this.Type =&gt; Boolean" id="842801">p</a>: Type =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[Types.this.Type]">Option</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span title="Types.this.FindTypeCollector" class="keyword">new</span> <a href="#478882" title="Types.this.FindTypeCollector">FindTypeCollector</a><span class="delimiter">(</span><a href="#842801" title="Types.this.Type =&gt; Boolean">p</a><span class="delimiter">)</span>.<a href="#842122" title="(tp: Types.this.Type)Option[Types.this.Type]">collect</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>

    <span class="comment">/** Apply `f' to each part of this type */</span>
    <span class="keyword">def</span> <a title="(f: Types.this.Type =&gt; Unit)Unit" id="507215">foreach</a><span class="delimiter">(</span><a title="Types.this.Type =&gt; Unit" id="842808">f</a>: Type =&gt; Unit<span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Types.this.ForEachTypeTraverser" class="keyword">new</span> <a href="#478881" title="Types.this.ForEachTypeTraverser">ForEachTypeTraverser</a><span class="delimiter">(</span><a href="#842808" title="Types.this.Type =&gt; Unit">f</a><span class="delimiter">)</span>.<a href="#842813" title="(tp: Types.this.Type)Unit">traverse</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span> <span class="delimiter">}</span>

    <span class="comment">/** Apply `f' to each part of this type; children get mapped before their parents */</span>
    <span class="keyword">def</span> <a title="(f: Types.this.Type =&gt; Types.this.Type)Types.this.Type" id="507216">map</a><span class="delimiter">(</span><a title="Types.this.Type =&gt; Types.this.Type" id="842818">f</a>: Type =&gt; Type<span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#842820" title="Types.this.TypeMap" class="keyword">new</a> <a href="#478842" title="anonymous class $anon extends Types.this.TypeMap" id="842820">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(x: Types.this.Type)Types.this.Type" id="842822">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="842823">x</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type">f</a><span class="delimiter">(</span><a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#842823" title="Types.this.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <a href="#842822" title="(x: Types.this.Type)Types.this.Type">apply</a> <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** Is there part of this type which satisfies predicate `p'? */</span>
    <span class="keyword">def</span> <a title="(p: Types.this.Type =&gt; Boolean)Boolean" id="507217">exists</a><span class="delimiter">(</span><a title="Types.this.Type =&gt; Boolean" id="842842">p</a>: Type =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507214" title="(p: Types.this.Type =&gt; Boolean)Option[Types.this.Type]">find</a><span class="delimiter">(</span><a href="#842842" title="Types.this.Type =&gt; Boolean">p</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a>

    <span class="comment">/** Does this type contain a reference to this symbol? */</span>
    <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Boolean" id="507218">contains</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="842844">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Types.this.ContainsCollector" class="keyword">new</span> <a href="#478878" title="Types.this.ContainsCollector">ContainsCollector</a><span class="delimiter">(</span><a href="#842844" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>.<a href="#842122" title="(tp: Types.this.Type)Boolean">collect</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>

    <span class="comment">/** Does this type contain a reference to this type */</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="507219">containsTp</a><span class="delimiter">(</span><a title="Types.this.Type" id="842855">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Types.this.ContainsTypeCollector" class="keyword">new</span> <a href="#478879" title="Types.this.ContainsTypeCollector">ContainsTypeCollector</a><span class="delimiter">(</span><a href="#842855" title="Types.this.Type">tp</a><span class="delimiter">)</span>.<a href="#842122" title="(tp: Types.this.Type)Boolean">collect</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>

    <span class="comment">/** Is this type a subtype of that type? */</span>
    <span class="keyword">def</span> <a title="(that: Types.this.Type)Boolean" id="507220">&lt;:&lt;</a><span class="delimiter">(</span><a title="Types.this.Type" id="549956">that</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span>util.<a href="../util/Statistics.scala.html#43001" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#478483" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <a href="#507223" title="(that: Types.this.Type)Boolean">stat_&lt;:&lt;</a><span class="delimiter">(</span><a href="#549956" title="Types.this.Type">that</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="#478720" title="Type.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#549956" title="Types.this.Type">that</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
        <span class="delimiter">(</span><span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#478689" title="=&gt; Boolean">explainSwitch</a><span class="delimiter">)</span> <a href="#479005" title="(op: String, p: (Types.this.Type, Types.this.Type) =&gt; Boolean, tp1: Types.this.Type, arg2: Types.this.Type)Boolean">explain</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&lt;:&quot;)" class="string">&quot;&lt;:&quot;</span>, <a href="#478922" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isSubType</a>, <a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#549956" title="Types.this.Type">that</a><span class="delimiter">)</span>
         <span class="keyword">else</span> <a href="#478923" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#549956" title="Types.this.Type">that</a>, <span title="Int(-3)">AnyDepth</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Can this type only be subtyped by bottom types?
     *  This is assessed to be the case if the class is final,
     *  and all type parameters (if any) are invariant.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507221">isFinalType</a> = <span class="delimiter">(</span>
      <a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435297" title="=&gt; Boolean">isFinal</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">(</span><a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#606615" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>

    <span class="comment">/** Is this type a subtype of that type in a pattern context?
     *  Any type arguments on the right hand side are replaced with
     *  fresh existentials, except for Arrays.
     *
     *  See bug1434.scala for an example of code which would fail
     *  if only a &lt;:&lt; test were applied.
     */</span>
    <span class="keyword">def</span> <a title="(that: Types.this.Type)Boolean" id="507222">matchesPattern</a><span class="delimiter">(</span><a title="Types.this.Type" id="796593">that</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="delimiter">(</span><a href="#478720" title="Type.this.type" class="keyword">this</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#796593" title="Types.this.Type">that</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Types.this.Type)(Types.this.Type, Types.this.Type)" class="delimiter">(</a><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#796593" title="Types.this.Type">that</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a href="Definitions.scala.html#508099" title="=&gt; Types.this.Symbol">ArrayClass</a>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Types.this.Type])Some[List[Types.this.Type]]">List</a><span class="delimiter">(</span><a title="Types.this.Type" id="842919">arg1</a><span class="delimiter">)</span><span class="delimiter">)</span>, TypeRef<span class="delimiter">(</span>_, <a href="Definitions.scala.html#508099" title="=&gt; Types.this.Symbol">ArrayClass</a>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Types.this.Type])Some[List[Types.this.Type]]">List</a><span class="delimiter">(</span><a title="Types.this.Type" id="842932">arg2</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#842932" title="Types.this.Type">arg2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> =&gt;
          <a href="#842919" title="Types.this.Type">arg1</a> <a href="#507222" title="(that: Types.this.Type)Boolean">matchesPattern</a> <a href="#842932" title="Types.this.Type">arg2</a>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_, TypeRef<span class="delimiter">(</span>_, _, <a title="List[Types.this.Type]" id="842936">args</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Types.this.Type" id="842937">newtp</a> = <a href="#478821" title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#842936" title="List[Types.this.Type]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">map</a> <span class="delimiter">(</span><a href="#842954" title="Types.this.Type">_</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span>, <a href="#796593" title="Types.this.Type">that</a><span class="delimiter">)</span>
          <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#796593" title="Types.this.Type">that</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#842937" title="Types.this.Type">newtp</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#478720" title="Type.this.type" class="keyword">this</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#842937" title="Types.this.Type">newtp</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(that: Types.this.Type)Boolean" id="507223">stat_&lt;:&lt;</a><span class="delimiter">(</span><a title="Types.this.Type" id="842866">that</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478539" title="=&gt; scala.tools.nsc.util.Statistics.Counter">subtypeCount</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="842982">start</a> = <a href="../util/Statistics.scala.html#478494" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478541" title="=&gt; scala.tools.nsc.util.Statistics.Timer">subtypeNanos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="842983">result</a> =
        <span class="delimiter">(</span><a href="#478720" title="Type.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#842866" title="Types.this.Type">that</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
        <span class="delimiter">(</span><span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#478689" title="=&gt; Boolean">explainSwitch</a><span class="delimiter">)</span> <a href="#479005" title="(op: String, p: (Types.this.Type, Types.this.Type) =&gt; Boolean, tp1: Types.this.Type, arg2: Types.this.Type)Boolean">explain</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&lt;:&quot;)" class="string">&quot;&lt;:&quot;</span>, <a href="#478922" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isSubType</a>, <a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#842866" title="Types.this.Type">that</a><span class="delimiter">)</span>
         <span class="keyword">else</span> <a href="#478923" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#842866" title="Types.this.Type">that</a>, <span title="Int(-3)">AnyDepth</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../util/Statistics.scala.html#478495" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478541" title="=&gt; scala.tools.nsc.util.Statistics.Timer">subtypeNanos</a>, <a href="#842982" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
      <a href="#842983" title="Boolean">result</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Is this type a weak subtype of that type? True also for numeric types, i.e. Int weak_&lt;:&lt; Long.
     */</span>
    <span class="keyword">def</span> <a title="(that: Types.this.Type)Boolean" id="507224">weak_&lt;:&lt;</a><span class="delimiter">(</span><a title="Types.this.Type" id="843008">that</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478539" title="=&gt; scala.tools.nsc.util.Statistics.Counter">subtypeCount</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="843010">start</a> = <a href="../util/Statistics.scala.html#478494" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478541" title="=&gt; scala.tools.nsc.util.Statistics.Timer">subtypeNanos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="843011">result</a> =
        <span class="delimiter">(</span><span class="delimiter">(</span><a href="#478720" title="Type.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843008" title="Types.this.Type">that</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
         <span class="delimiter">(</span><span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#478689" title="=&gt; Boolean">explainSwitch</a><span class="delimiter">)</span> <a href="#479005" title="(op: String, p: (Types.this.Type, Types.this.Type) =&gt; Boolean, tp1: Types.this.Type, arg2: Types.this.Type)Boolean">explain</a><span class="delimiter">(</span><span title="java.lang.String(&quot;weak_&lt;:&quot;)" class="string">&quot;weak_&lt;:&quot;</span>, <a href="#478972" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isWeakSubType</a>, <a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#843008" title="Types.this.Type">that</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#478972" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isWeakSubType</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#843008" title="Types.this.Type">that</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../util/Statistics.scala.html#478495" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478541" title="=&gt; scala.tools.nsc.util.Statistics.Timer">subtypeNanos</a>, <a href="#843010" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
      <a href="#843011" title="Boolean">result</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Is this type equivalent to that type? */</span>
    <span class="keyword">def</span> <a title="(that: Types.this.Type)Boolean" id="507225">=:=</a><span class="delimiter">(</span><a title="Types.this.Type" id="606623">that</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">(</span>
      <span class="delimiter">(</span><a href="#478720" title="Type.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#606623" title="Types.this.Type">that</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
      <span class="delimiter">(</span><span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#478689" title="=&gt; Boolean">explainSwitch</a><span class="delimiter">)</span> <a href="#479005" title="(op: String, p: (Types.this.Type, Types.this.Type) =&gt; Boolean, tp1: Types.this.Type, arg2: Types.this.Type)Boolean">explain</a><span class="delimiter">(</span><span title="java.lang.String(&quot;=&quot;)" class="string">&quot;=&quot;</span>, <a href="#478905" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isSameType</a>, <a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#606623" title="Types.this.Type">that</a><span class="delimiter">)</span>
       <span class="keyword">else</span> <a href="#478905" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isSameType</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#606623" title="Types.this.Type">that</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">)</span>;

    <span class="comment">/** Does this type implement symbol `sym' with same or stronger type?
     */</span>
    <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Boolean" id="507226">specializes</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="843070">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#478689" title="=&gt; Boolean">explainSwitch</a><span class="delimiter">)</span> <a href="#479005" title="(op: String, p: (Types.this.Type, Types.this.Symbol) =&gt; Boolean, tp1: Types.this.Type, arg2: Types.this.Symbol)Boolean">explain</a><span class="delimiter">(</span><span title="java.lang.String(&quot;specializes&quot;)" class="string">&quot;specializes&quot;</span>, <a href="#478942" title="(tp: Types.this.Type, sym: Types.this.Symbol)Boolean">specializesSym</a>, <a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#843070" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#478942" title="(tp: Types.this.Type, sym: Types.this.Symbol)Boolean">specializesSym</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#843070" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>

    <span class="comment">/** Is this type close enough to that type so that members
     *  with the two type would override each other?
     *  This means:
     *    - Either both types are polytypes with the same number of
     *      type parameters and their result types match after renaming
     *      corresponding type parameters
     *    - Or both types are (nullary) method types with equivalent type parameter types
     *      and matching result types
     *    - Or both types are equivalent
     *    - Or phase.erasedTypes is false and both types are neither method nor
     *      poly types.
     */</span>
    <span class="keyword">def</span> <a title="(that: Types.this.Type)Boolean" id="507227">matches</a><span class="delimiter">(</span><a title="Types.this.Type" id="711859">that</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#711859" title="Types.this.Type">that</a>, <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span>

    <span class="comment">/** Same as matches, except that non-method types are always assumed to match.
     */</span>
    <span class="keyword">def</span> <a title="(that: Types.this.Type)Boolean" id="507228">looselyMatches</a><span class="delimiter">(</span><a title="Types.this.Type" id="843102">that</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#843102" title="Types.this.Type">that</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

    <span class="comment">/** The shortest sorted upwards closed array of types that contains
     *  this type as first element.
     *
     *  A list or array of types ts is upwards closed if
     *
     *    for all t in ts:
     *      for all typerefs p.s[args] such that t &lt;: p.s[args]
     *      there exists a typeref p'.s[args'] in ts such that
     *      t &lt;: p'.s['args] &lt;: p.s[args],
     *
     *      and
     *
     *      for all singleton types p.s such that t &lt;: p.s
     *      there exists a singleton type p'.s in ts such that
     *      t &lt;: p'.s &lt;: p.s
     *
     *  Sorting is with respect to Symbol.isLess() on type symbols.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.BaseTypeSeq" id="507229">baseTypeSeq</a>: <a href="BaseTypeSeqs.scala.html#479035" title="Types.this.BaseTypeSeq">BaseTypeSeq</a> = <a href="BaseTypeSeqs.scala.html#479038" title="(tp: Types.this.Type)Types.this.BaseTypeSeq">baseTypeSingletonSeq</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>

    <span class="comment">/** The maximum depth (@see maxDepth)
     *  of each type in the BaseTypeSeq of this type.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Int" id="507230">baseTypeSeqDepth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <span title="Int(1)" class="int">1</span>

    <span class="comment">/** The list of all baseclasses of this type (including its own typeSymbol)
     *  in reverse linearization order, starting with the class itself and ending
     *  in class Any.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="507231">baseClasses</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="comment">/**
     *  @param sym the class symbol
     *  @return    the index of given class symbol in the BaseTypeSeq of this type,
     *             or -1 if no base type with given class symbol exists.
     */</span>
    <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Int" id="507232">baseTypeIndex</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="839223">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.BaseTypeSeq" id="843112">bts</a> = <a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a>
      <span class="keyword">var</span> <a title="Int" id="843113">lo</a> = <span title="Int(0)" class="int">0</span>
      <span class="keyword">var</span> <a title="Int" id="843114">hi</a> = <a href="#843112" title="Types.this.BaseTypeSeq">bts</a>.<a href="BaseTypeSeqs.scala.html#594265" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#843113" title="Int">lo</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#843114" title="Int">hi</a><span class="delimiter">)</span> <a href="#843115" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="Int" id="843124">mid</a> = <span class="delimiter">(</span><a href="#843113" title="Int">lo</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#843114" title="Int">hi</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54825" title="(x: Int)Int">/</a> <span title="Int(2)" class="int">2</span>
        <span class="keyword">val</span> <a title="Types.this.Symbol" id="843125">btssym</a> = <a href="#843112" title="Types.this.BaseTypeSeq">bts</a>.<a href="BaseTypeSeqs.scala.html#594270" title="(i: Int)Types.this.Symbol">typeSymbol</a><span class="delimiter">(</span><a href="#843124" title="Int">mid</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#839223" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843125" title="Types.this.Symbol">btssym</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#843124" title="Int">mid</a>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#839223" title="Types.this.Symbol">sym</a> <a href="Symbols.scala.html#509294" title="(that: Types.this.Symbol)Boolean">isLess</a> <a href="#843125" title="Types.this.Symbol">btssym</a><span class="delimiter">)</span> <a href="#843114" title="Int">hi</a> = <a href="#843124" title="Int">mid</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843125" title="Types.this.Symbol">btssym</a> <a href="Symbols.scala.html#509294" title="(that: Types.this.Symbol)Boolean">isLess</a> <a href="#839223" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <a href="#843113" title="Int">lo</a> = <a href="#843124" title="Int">mid</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>
        <span class="keyword">else</span> <a href="SymbolTable.scala.html#478160" title="()Nothing">abort</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      -<span title="Int(-1)" class="int">1</span>
    <span class="delimiter">}</span>

    <span class="comment">/** If this is a poly- or methodtype, a copy with cloned type / value parameters
     *  owned by `owner'. Identity for all other types.
     */</span>
    <span class="keyword">def</span> <a title="(owner: Types.this.Symbol)Types.this.Type" id="507233">cloneInfo</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="721302">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** Make sure this type is correct as the info of given owner; clone it if not.
     */</span>
    <span class="keyword">def</span> <a title="(owner: Types.this.Symbol)Types.this.Type" id="507234">atOwner</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="838758">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="507235">objectPrefix</a> = <span title="java.lang.String(&quot;object &quot;)" class="string">&quot;object &quot;</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="507236">packagePrefix</a> = <span title="java.lang.String(&quot;package &quot;)" class="string">&quot;package &quot;</span>

    <span class="keyword">def</span> <a title="(str: String)java.lang.String" id="507237">trimPrefix</a><span class="delimiter">(</span><a title="String" id="804388">str</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">str</a> <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripPrefix</a> <a href="#507235" title="=&gt; java.lang.String">objectPrefix</a> <a href="../../../collection/immutable/StringLike.scala.html#56556" title="(prefix: String)java.lang.String">stripPrefix</a> <a href="#507236" title="=&gt; java.lang.String">packagePrefix</a>

    <span class="comment">/** The string representation of this type used as a prefix */</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="507238">prefixString</a> = <a href="#507237" title="(str: String)java.lang.String">trimPrefix</a><span class="delimiter">(</span><a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;#&quot;)" class="string">&quot;#&quot;</span>

    <span class="comment">/** The string representation of this type, with singletypes explained */</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="507239">toLongString</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="841774">str</a> = <a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a>
      <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#841774" title="String">str</a> <span title="(x$1: java.lang.String)Boolean">endsWith</span> <span title="java.lang.String(&quot;.type&quot;)" class="string">&quot;.type&quot;</span><span class="delimiter">)</span> <a href="#841774" title="String">str</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; (with underlying type &quot;)" class="string">&quot; (with underlying type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#507163" title="=&gt; Types.this.Type">widen</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
      <span class="keyword">else</span> <a href="#841774" title="String">str</a>
    <span class="delimiter">}</span>

    <span class="comment">/** A test whether a type contains any unification type variables */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="507240">isGround</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#841808" title="Boolean">TypeVar</a><span class="delimiter">(</span>_, <a title="Types.this.TypeConstraint" id="843155">constr</a><span class="delimiter">)</span> =&gt;
        <a href="#843155" title="Types.this.TypeConstraint">constr</a>.<a href="#842214" title="=&gt; Boolean">instValid</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#843155" title="Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a>.<a href="#507240" title="=&gt; Boolean">isGround</a>
      <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="843159">pre</a>, <a title="Types.this.Symbol" id="843160">sym</a>, <a title="List[Types.this.Type]" id="843161">args</a><span class="delimiter">)</span> =&gt;
        <a href="#843160" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#843159" title="Types.this.Type">pre</a>.<a href="#507240" title="=&gt; Boolean">isGround</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#843161" title="List[Types.this.Type]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#843168" title="Types.this.Type">_</a>.<a href="#507240" title="=&gt; Boolean">isGround</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">SingleType</span><span class="delimiter">(</span><a title="Types.this.Type" id="843169">pre</a>, <a title="Types.this.Symbol" id="843170">sym</a><span class="delimiter">)</span> =&gt;
        <a href="#843170" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#843169" title="Types.this.Type">pre</a>.<a href="#507240" title="=&gt; Boolean">isGround</a>
      <span class="keyword">case</span> <span title="Boolean(true)">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a> | <a href="#843675" title="object Types.this.WildcardType">WildcardType</a> | <a href="#843724" title="object Types.this.NoType">NoType</a> | <a href="#843657" title="object Types.this.ErrorType">ErrorType</a> | ConstantType<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="#843172" title="(tp: Types.this.Type)Types.this.Type">typeVarToOriginMap</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#478720" title="Types.this.Type" class="keyword">this</a>
    <span class="delimiter">}</span>

    <span class="comment">/** If this is a symbol loader type, load and assign a new type to
     *  `sym'.
     */</span>
    <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Unit" id="507241">load</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="833463">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(name: Types.this.Name, excludedFlags: Int)Types.this.Symbol" id="507242">findDecl</a><span class="delimiter">(</span><a title="Types.this.Name" id="842669">name</a>: <a href="Names.scala.html#478413" title="Types.this.Name">Name</a>, <a title="Int" id="842670">excludedFlags</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="List[Types.this.Symbol]" id="843177">alts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Types.this.Symbol" id="843178">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a>
      <span class="keyword">var</span> <a title="Types.this.ScopeEntry" id="843179">e</a>: <a href="Scopes.scala.html#479018" title="Types.this.ScopeEntry">ScopeEntry</a> = <a href="#507192" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514369" title="(name: Types.this.Name)Types.this.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#842669" title="Types.this.Name">name</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#843179" title="Types.this.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#843180" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#843179" title="Types.this.ScopeEntry">e</a>.<a href="Scopes.scala.html#514515" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><a href="../../../Int.scala.html#54731" title="=&gt; Long">excludedFlags</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843178" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#843178" title="Types.this.Symbol">sym</a> = <a href="#843179" title="Types.this.ScopeEntry">e</a>.<a href="Scopes.scala.html#514515" title="=&gt; Types.this.Symbol">sym</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843177" title="List[Types.this.Symbol]">alts</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#843177" title="List[Types.this.Symbol]">alts</a> = <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Symbol*)List[Types.this.Symbol]">List</a><span class="delimiter">(</span><a href="#843178" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
            <a href="#843177" title="List[Types.this.Symbol]">alts</a> = <a href="#843179" title="Types.this.ScopeEntry">e</a>.<a href="Scopes.scala.html#514515" title="=&gt; Types.this.Symbol">sym</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Symbol)List[Types.this.Symbol]">::</a> <a href="#843177" title="List[Types.this.Symbol]">alts</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#843179" title="Types.this.ScopeEntry">e</a> = <a href="#507192" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514370" title="(entry: Types.this.ScopeEntry)Types.this.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#843179" title="Types.this.ScopeEntry">e</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#843177" title="List[Types.this.Symbol]">alts</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#843178" title="Types.this.Symbol">sym</a>
      <span class="keyword">else</span> <span class="delimiter">(</span><a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a>.<a href="Symbols.scala.html#509140" title="(pre: Types.this.Type, alternatives: List[Types.this.Symbol])Types.this.Symbol">newOverloaded</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#843177" title="List[Types.this.Symbol]">alts</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  Find member(s) in this type. If several members matching criteria are found, they are
     *  returned in an OverloadedSymbol
     *
     *  @param name           The member's name, where nme.ANYNAME means `unspecified'
     *  @param excludedFlags  Returned members do not have these flags
     *  @param requiredFlags  Returned members do have these flags
     *  @param stableOnly     If set, return only members that are types or stable values
     */</span>
    <span class="comment">//TODO: use narrow only for modules? (correct? efficiency gain?)</span>
    <span class="keyword">def</span> <a title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol" id="507243">findMember</a><span class="delimiter">(</span><a title="Types.this.Name" id="842672">name</a>: <a href="Names.scala.html#478413" title="Types.this.Name">Name</a>, <a title="Long" id="842673">excludedFlags</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a>, <a title="Long" id="842674">requiredFlags</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a>, <a title="Boolean" id="842675">stableOnly</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="scala.collection.mutable.HashSet[Types.this.TypeVar]" id="843214">suspension</a>: mutable.<a href="../../../collection/mutable/HashSet.scala.html#14593" title="scala.collection.mutable.HashSet[Types.this.TypeVar]">HashSet</a><span class="delimiter">[</span>TypeVar<span class="delimiter">]</span> = <span title="Null(null)" class="keyword">null</span>
      <span class="comment">// if this type contains type variables, put them to sleep for a while -- don't just wipe them out by</span>
      <span class="comment">// replacing them by the corresponding type parameter, as that messes up (e.g.) type variables in type refinements</span>
      <span class="comment">// without this, the matchesType call would lead to type variables on both sides</span>
      <span class="comment">// of a subtyping/equality judgement, which can lead to recursive types being constructed.</span>
      <span class="comment">// See (t0851) for a situation where this happens.</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#478720" title="Type.this.type" class="keyword">this</a>.<a href="#507240" title="=&gt; Boolean">isGround</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// PP: The foreach below was formerly expressed as:</span>
        <span class="comment">//   for(tv @ TypeVar(_, _) &lt;- this) { suspension suspend tv }</span>
        <span class="comment">//</span>
        <span class="comment">// The tree checker failed this saying a TypeVar is required, but a (Type @unchecked) was found.</span>
        <span class="comment">// This is a consequence of using a pattern match and variable binding + ticket #1503, which</span>
        <span class="comment">// was addressed by weakening the type of bindings in pattern matches if they occur on the right.</span>
        <span class="comment">// So I'm not quite sure why this works at all, as the checker is right that it is mistyped.</span>
        <span class="comment">// For now I modified it as below, which achieves the same without error.</span>
        <span class="comment">//</span>
        <span class="comment">// make each type var in this type use its original type for comparisons instead of collecting constraints</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Types.this.TypeVar]" id="843223">susp</a> = <a href="../../../collection/mutable/HashSet.scala.html#108311" title="()scala.collection.mutable.HashSet[Types.this.TypeVar]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashSet.scala.html#14593" title="scala.collection.mutable.HashSet[Types.this.TypeVar]">HashSet</a><span class="delimiter">[</span>TypeVar<span class="delimiter">]</span> <span class="comment">// use a local val so it remains unboxed</span>
        <a href="#478720" title="Type.this.type" class="keyword">this</a> <a href="#507215" title="(f: Types.this.Type =&gt; Unit)Unit">foreach</a> <a href="#843226" title="Unit" class="delimiter">{</a>
          <span class="keyword">case</span> <a title="Unit" id="843227">tv</a>: <a href="#478797" title="Types.this.TypeVar">TypeVar</a>  =&gt; <a href="#843227" title="Types.this.TypeVar">tv</a>.<a href="#841840" title="(x$1: Boolean)Unit">suspended</a> = <span title="Boolean(true)" class="keyword">true</span>; <a href="#843223" title="scala.collection.mutable.HashSet[Types.this.TypeVar]">susp</a> <a href="../../../collection/mutable/HashSet.scala.html#108315" title="(elem: Types.this.TypeVar)susp.type">+=</a> <a href="#843227" title="Types.this.TypeVar">tv</a>
          <span class="keyword">case</span> <span title="Unit">_</span>            =&gt;
        <span class="delimiter">}</span>
        <a href="#843214" title="scala.collection.mutable.HashSet[Types.this.TypeVar]">suspension</a> = <a href="#843223" title="scala.collection.mutable.HashSet[Types.this.TypeVar]">susp</a>
      <span class="delimiter">}</span>

      <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478527" title="=&gt; scala.tools.nsc.util.Statistics.Counter">findMemberCount</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="843215">start</a> = <a href="../util/Statistics.scala.html#478494" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478533" title="=&gt; scala.tools.nsc.util.Statistics.Timer">findMemberNanos</a><span class="delimiter">)</span>

      <span class="comment">//Console.println(&quot;find member &quot; + name.decode + &quot; in &quot; + this + &quot;:&quot; + this.baseClasses)//DEBUG</span>
      <span class="keyword">var</span> <a title="Types.this.Scope" id="843216">members</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a> = <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">var</span> <a title="Types.this.Symbol" id="843217">member</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a>
      <span class="keyword">var</span> <a title="Long" id="843218">excluded</a> = <a href="#842673" title="Long">excludedFlags</a> <a href="../../../Long.scala.html#55154" title="(x: Int)Long">|</a> <span title="Int(16)">DEFERRED</span>
      <span class="keyword">var</span> <a title="Boolean" id="843219">continue</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">var</span> <a title="Types.this.Type" id="843220">self</a>: <a href="#478720" title="Types.this.Type">Type</a> = <span title="Null(null)" class="keyword">null</span>
      <span class="keyword">var</span> <a title="Types.this.Type" id="843221">membertpe</a>: <a href="#478720" title="Types.this.Type">Type</a> = <span title="Null(null)" class="keyword">null</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#843219" title="Boolean">continue</a><span class="delimiter">)</span> <a href="#843222" title="()Unit" class="delimiter">{</a>
        <a href="#843219" title="Boolean">continue</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="843244">bcs0</a> = <a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a>
        <span class="keyword">var</span> <a title="List[Types.this.Symbol]" id="843245">bcs</a> = <a href="#843244" title="List[Types.this.Symbol]">bcs0</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#843245" title="List[Types.this.Symbol]">bcs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#843246" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Types.this.Scope" id="843248">decls</a> = <a href="#843245" title="List[Types.this.Symbol]">bcs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a>
          <span class="keyword">var</span> <a title="Types.this.ScopeEntry" id="843249">entry</a> =
            <span title="Types.this.ScopeEntry" class="keyword">if</span> <span class="delimiter">(</span><a href="#842672" title="Types.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="StdNames.scala.html#479055" title="object Types.this.nme">nme</a>.<a href="StdNames.scala.html#516544" title="=&gt; Types.this.nme.NameType">ANYNAME</a><span class="delimiter">)</span> <a href="#843248" title="Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514334" title="=&gt; Types.this.ScopeEntry">elems</a> <span class="keyword">else</span> <a href="#843248" title="Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514369" title="(name: Types.this.Name)Types.this.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#842672" title="Types.this.Name">name</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#843249" title="Types.this.ScopeEntry">entry</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#843250" title="()Unit" class="delimiter">{</a>
            <span class="keyword">val</span> <a title="Types.this.Symbol" id="843258">sym</a> = <a href="#843249" title="Types.this.ScopeEntry">entry</a>.<a href="Scopes.scala.html#514515" title="=&gt; Types.this.Symbol">sym</a>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#843258" title="Types.this.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435350" title="(mask: Long)Boolean">hasAllFlags</a> <a href="#842674" title="Long">requiredFlags</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Long" id="843259">excl</a> = <a href="#843258" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509263" title="(mask: Long)Long">getFlag</a><span class="delimiter">(</span><a href="#843218" title="Long">excluded</a><span class="delimiter">)</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#843259" title="Long">excl</a> <a href="../../../Long.scala.html#55113" title="(x: Long)Boolean">==</a> <span title="Long(0L)" class="long">0L</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <span class="delimiter">(</span><span class="comment">// omit PRIVATE LOCALS unless selector class is contained in class owning the def.</span>
                   <span class="delimiter">(</span><a href="#843245" title="List[Types.this.Symbol]">bcs</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843244" title="List[Types.this.Symbol]">bcs0</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                   <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#843258" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435306" title="=&gt; Boolean">isPrivateLocal</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                   <span class="delimiter">(</span><a href="#843244" title="List[Types.this.Symbol]">bcs0</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a>.<a href="Symbols.scala.html#509255" title="(sym: Types.this.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#843245" title="List[Types.this.Symbol]">bcs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#842672" title="Types.this.Name">name</a>.<a href="Names.scala.html#501116" title="=&gt; Boolean">isTypeName</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#842675" title="Boolean">stableOnly</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#843258" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../util/Statistics.scala.html#478495" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478533" title="=&gt; scala.tools.nsc.util.Statistics.Timer">findMemberNanos</a>, <a href="#843215" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843214" title="scala.collection.mutable.HashSet[Types.this.TypeVar]">suspension</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#843214" title="scala.collection.mutable.HashSet[Types.this.TypeVar]">suspension</a> <a href="../../../collection/mutable/HashSet.scala.html#108321" title="(f: Types.this.TypeVar =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#843291" title="Types.this.TypeVar">_</a>.<a href="#841840" title="(x$1: Boolean)Unit">suspended</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                  <span title="Nothing" class="keyword">return</span> <a href="#843258" title="Types.this.Symbol">sym</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#843217" title="Types.this.Symbol">member</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#843217" title="Types.this.Symbol">member</a> = <a href="#843258" title="Types.this.Symbol">sym</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#843216" title="Types.this.Scope">members</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843217" title="Types.this.Symbol">member</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#843258" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#843217" title="Types.this.Symbol">member</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843258" title="Types.this.Symbol">sym</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                        <a href="#843217" title="Types.this.Symbol">member</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#843258" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                        <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#843258" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
                          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843220" title="Types.this.Type">self</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#843220" title="Types.this.Type">self</a> = <a href="#478720" title="Type.this.type" class="keyword">this</a>.<a href="#507166" title="=&gt; Types.this.Type">narrow</a>
                          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843221" title="Types.this.Type">membertpe</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#843221" title="Types.this.Type">membertpe</a> = <a href="#843220" title="Types.this.Type">self</a>.<a href="#507207" title="(sym: Types.this.Symbol)Types.this.Type">memberType</a><span class="delimiter">(</span><a href="#843217" title="Types.this.Symbol">member</a><span class="delimiter">)</span>
                          <span class="delimiter">(</span><a href="#843221" title="Types.this.Type">membertpe</a> <a href="#507227" title="(that: Types.this.Type)Boolean">matches</a> <a href="#843220" title="Types.this.Type">self</a>.<a href="#507207" title="(sym: Types.this.Symbol)Types.this.Type">memberType</a><span class="delimiter">(</span><a href="#843258" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                        <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="#843216" title="Types.this.Scope">members</a> = <a href="Scopes.scala.html#514354" title="(decls: List[Types.this.Symbol])Types.this.Scope" class="keyword">new</a> <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Symbol*)List[Types.this.Symbol]">List</a><span class="delimiter">(</span><a href="#843217" title="Types.this.Symbol">member</a>, <a href="#843258" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <span class="keyword">var</span> <a title="Types.this.ScopeEntry" id="843329">prevEntry</a> = <a href="#843216" title="Types.this.Scope">members</a>.<a href="Scopes.scala.html#514369" title="(name: Types.this.Name)Types.this.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#843258" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>
                  <span class="keyword">var</span> <a title="Types.this.Type" id="843330">symtpe</a>: <a href="#478720" title="Types.this.Type">Type</a> = <span title="Null(null)" class="keyword">null</span>
                  <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#843329" title="Types.this.ScopeEntry">prevEntry</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                         <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#843329" title="Types.this.ScopeEntry">prevEntry</a>.<a href="Scopes.scala.html#514515" title="=&gt; Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843258" title="Types.this.Symbol">sym</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                           <a href="#843329" title="Types.this.ScopeEntry">prevEntry</a>.<a href="Scopes.scala.html#514515" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#843258" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                           <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#843258" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
                             <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843220" title="Types.this.Type">self</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#843220" title="Types.this.Type">self</a> = <a href="#478720" title="Type.this.type" class="keyword">this</a>.<a href="#507166" title="=&gt; Types.this.Type">narrow</a>
                             <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843330" title="Types.this.Type">symtpe</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#843330" title="Types.this.Type">symtpe</a> = <a href="#843220" title="Types.this.Type">self</a>.<a href="#507207" title="(sym: Types.this.Symbol)Types.this.Type">memberType</a><span class="delimiter">(</span><a href="#843258" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
                             <a href="#843220" title="Types.this.Type">self</a>.<a href="#507207" title="(sym: Types.this.Symbol)Types.this.Type">memberType</a><span class="delimiter">(</span><a href="#843329" title="Types.this.ScopeEntry">prevEntry</a>.<a href="Scopes.scala.html#514515" title="=&gt; Types.this.Symbol">sym</a><span class="delimiter">)</span> <a href="#507227" title="(that: Types.this.Type)Boolean">matches</a> <a href="#843330" title="Types.this.Type">symtpe</a>
                           <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="#843329" title="Types.this.ScopeEntry">prevEntry</a> = <a href="#843216" title="Types.this.Scope">members</a> <a href="Scopes.scala.html#514370" title="(entry: Types.this.ScopeEntry)Types.this.ScopeEntry">lookupNextEntry</a> <a href="#843329" title="Types.this.ScopeEntry">prevEntry</a>
                  <span class="delimiter">}</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#843329" title="Types.this.ScopeEntry">prevEntry</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="#843216" title="Types.this.Scope">members</a> <a href="Scopes.scala.html#514360" title="(sym: Types.this.Symbol)Types.this.Symbol">enter</a> <a href="#843258" title="Types.this.Symbol">sym</a>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843259" title="Long">excl</a> <a href="../../../Long.scala.html#55113" title="(x: Long)Boolean">==</a> <span title="Int(16)">DEFERRED</span>.<a href="../../../Int.scala.html#54731" title="=&gt; Long">toLong</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#843219" title="Boolean">continue</a> = <span title="Boolean(true)" class="keyword">true</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="#843249" title="Types.this.ScopeEntry">entry</a> = <span title="Types.this.ScopeEntry" class="keyword">if</span> <span class="delimiter">(</span><a href="#842672" title="Types.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="StdNames.scala.html#479055" title="object Types.this.nme">nme</a>.<a href="StdNames.scala.html#516544" title="=&gt; Types.this.nme.NameType">ANYNAME</a><span class="delimiter">)</span> <a href="#843249" title="Types.this.ScopeEntry">entry</a>.<a href="Scopes.scala.html#514523" title="=&gt; Types.this.ScopeEntry">next</a> <span class="keyword">else</span> <a href="#843248" title="Types.this.Scope">decls</a> <a href="Scopes.scala.html#514370" title="(entry: Types.this.ScopeEntry)Types.this.ScopeEntry">lookupNextEntry</a> <a href="#843249" title="Types.this.ScopeEntry">entry</a>
          <span class="delimiter">}</span> <span class="comment">// while (entry ne null)</span>
          <span class="comment">// excluded = excluded | LOCAL</span>
          <a href="#843245" title="List[Types.this.Symbol]">bcs</a> = <span title="List[Types.this.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#842672" title="Types.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="StdNames.scala.html#479055" title="object Types.this.nme">nme</a>.<a href="StdNames.scala.html#516546" title="=&gt; Types.this.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a> <span class="keyword">else</span> <a href="#843245" title="List[Types.this.Symbol]">bcs</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Symbol]">tail</a>
        <span class="delimiter">}</span> <span class="comment">// while (!bcs.isEmpty)</span>
        <a href="#843218" title="Long">excluded</a> = <a href="#842673" title="Long">excludedFlags</a>
      <span class="delimiter">}</span> <span class="comment">// while (continue)</span>
      <a href="../util/Statistics.scala.html#478495" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478533" title="=&gt; scala.tools.nsc.util.Statistics.Timer">findMemberNanos</a>, <a href="#843215" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843214" title="scala.collection.mutable.HashSet[Types.this.TypeVar]">suspension</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#843214" title="scala.collection.mutable.HashSet[Types.this.TypeVar]">suspension</a> <a href="../../../collection/mutable/HashSet.scala.html#108321" title="(f: Types.this.TypeVar =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#843394" title="Types.this.TypeVar">_</a>.<a href="#841840" title="(x$1: Boolean)Unit">suspended</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#843216" title="Types.this.Scope">members</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843217" title="Types.this.Symbol">member</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478529" title="=&gt; scala.tools.nsc.util.Statistics.Counter">noMemberCount</a><span class="delimiter">)</span>
        <a href="#843217" title="Types.this.Symbol">member</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478531" title="=&gt; scala.tools.nsc.util.Statistics.Counter">multMemberCount</a><span class="delimiter">)</span>
        <a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a>.<a href="Symbols.scala.html#509140" title="(pre: Types.this.Type, alternatives: List[Types.this.Symbol])Types.this.Symbol">newOverloaded</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="#843216" title="Types.this.Scope">members</a>.<a href="Scopes.scala.html#514371" title="=&gt; List[Types.this.Symbol]">toList</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** The existential skolems and existentially quantified variables which are free in this type */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="507244">existentialSkolems</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="List[Types.this.Symbol]" id="843409">boundSyms</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="List[Types.this.Symbol]" id="843410">skolems</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Type" id="843426">t</a> &lt;- <a href="#507215" title="(f: Types.this.Type =&gt; Unit)Unit" class="keyword">this</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#843426" title="Types.this.Type">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="843427">quantified</a>, <a title="Types.this.Type" id="843428">qtpe</a><span class="delimiter">)</span> =&gt;
            <a href="#843409" title="List[Types.this.Symbol]">boundSyms</a> = <a href="#843409" title="List[Types.this.Symbol]">boundSyms</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[Types.this.Symbol])List[Types.this.Symbol]">:::</a> <a href="#843427" title="List[Types.this.Symbol]">quantified</a>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="843437">sym</a>, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#843437" title="Types.this.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#843409" title="List[Types.this.Symbol]">boundSyms</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#843437" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#843410" title="List[Types.this.Symbol]">skolems</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#843437" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#843410" title="List[Types.this.Symbol]">skolems</a> = <a href="#843437" title="Types.this.Symbol">sym</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Symbol)List[Types.this.Symbol]">::</a> <a href="#843410" title="List[Types.this.Symbol]">skolems</a>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#843410" title="List[Types.this.Symbol]">skolems</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Return the annotations on this type. */</span>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.AnnotationInfo]" id="507245">annotations</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>

    <span class="comment">/** Test for the presence of an annotation */</span>
    <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol)Boolean" id="507246">hasAnnotation</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="843442">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#507245" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.AnnotationInfo =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a href="#843457" title="Types.this.AnnotationInfo">_</a>.<a href="AnnotationInfos.scala.html#532479" title="=&gt; Types.this.Type">atp</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843442" title="Types.this.Symbol">clazz</a> <span class="delimiter">}</span>

    <span class="comment">/** Add an annotation to this type */</span>
    <span class="keyword">def</span> <a title="(annot: Types.this.AnnotationInfo)Types.this.Type" id="507247">withAnnotation</a><span class="delimiter">(</span><a title="Types.this.AnnotationInfo" id="843463">annot</a>: <a href="AnnotationInfos.scala.html#479085" title="Types.this.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> = <a href="#507248" title="(annots: List[Types.this.AnnotationInfo])Types.this.Type">withAnnotations</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.AnnotationInfo*)List[Types.this.AnnotationInfo]">List</a><span class="delimiter">(</span><a href="#843463" title="Types.this.AnnotationInfo">annot</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Add a number of annotations to this type */</span>
    <span class="keyword">def</span> <a title="(annots: List[Types.this.AnnotationInfo])Types.this.Type" id="507248">withAnnotations</a><span class="delimiter">(</span><a title="List[Types.this.AnnotationInfo]" id="842472">annots</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <a href="#842472" title="List[Types.this.AnnotationInfo]">annots</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="Types.this.Type">Nil</a> =&gt; <a href="#478720" title="Types.this.Type" class="keyword">this</a>
        <span class="keyword">case</span> <span title="Types.this.AnnotatedType">_</span> =&gt; <a href="#547085" title="(annotations: List[Types.this.AnnotationInfo], underlying: Types.this.Type, selfsym: Types.this.Symbol)Types.this.AnnotatedType">AnnotatedType</a><span class="delimiter">(</span><a href="#842472" title="List[Types.this.AnnotationInfo]">annots</a>, <a href="#478720" title="Types.this.Type" class="keyword">this</a>, <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Remove any annotations from this type */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507249">withoutAnnotations</a> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** Remove any annotations from this type and from any
     *  types embedded in this type. */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="507250">stripAnnotations</a> = <a href="#843487" title="(tp: Types.this.Type)Types.this.Type">StripAnnotationsMap</a><span class="delimiter">(</span><a href="#478720" title="Types.this.Type" class="keyword">this</a><span class="delimiter">)</span>

    <span class="comment">/** Set the self symbol of an annotated type, or do nothing
     *  otherwise.  */</span>
    <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Types.this.Type" id="507251">withSelfsym</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="843492">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#478720" title="Types.this.Type" class="keyword">this</a>

    <span class="comment">/** The selfsym of an annotated type, or NoSymbol of anything else */</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="507252">selfsym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a>

    <span class="comment">/** The kind of this type; used for debugging */</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="507253">kind</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;unknown type of class &quot;)" class="string">&quot;unknown type of class &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#478720" title="()java.lang.Class[_]">getClass</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

<span class="comment">// Subclasses ------------------------------------------------------------</span>

  <span class="keyword">trait</span> <a title="trait UniqueType extends java.lang.Object with ScalaObject" id="478721">UniqueType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
    <span class="keyword">override</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Int" id="843502">hashCode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <a href="#478721" title="Types.this.UniqueType" class="keyword">super</a>.<span title="()Int">hashCode</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

 <span class="comment">/** A base class for types that defer some operations
   *  to their immediate supertype.
   */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SubType extends Types.this.Type with ScalaObject" id="478722">SubType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546335">supertype</a>: <a href="#478720" title="Types.this.Type">Type</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="546336">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#546335" title="=&gt; Types.this.Type">supertype</a>.<a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Scope" id="546337">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a> = <a href="#546335" title="=&gt; Types.this.Type">supertype</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol)Types.this.Type" id="546338">baseType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="843511">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#546335" title="=&gt; Types.this.Type">supertype</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#843511" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.BaseTypeSeq" id="546339">baseTypeSeq</a>: <a href="BaseTypeSeqs.scala.html#479035" title="Types.this.BaseTypeSeq">BaseTypeSeq</a> = <a href="#546335" title="=&gt; Types.this.Type">supertype</a>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="546340">baseTypeSeqDepth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <a href="#546335" title="=&gt; Types.this.Type">supertype</a>.<a href="#507230" title="=&gt; Int">baseTypeSeqDepth</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="546341">baseClasses</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#546335" title="=&gt; Types.this.Type">supertype</a>.<a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546342">isNotNull</a> = <a href="#546335" title="=&gt; Types.this.Type">supertype</a>.<a href="#507153" title="=&gt; Boolean">isNotNull</a>
  <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class NotNullType extends Types.this.SubType with Types.this.RewrappingTypeProxy with ScalaObject with Product with Serializable" id="842637">NotNullType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="Types.this.Type" id="842651">underlying</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478722" title="Types.this.SubType">SubType</a> <span class="keyword">with</span> <a href="#478719" title="Types.this.RewrappingTypeProxy">RewrappingTypeProxy</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="842642">supertype</a> = <a href="#842651" title="=&gt; Types.this.Type">underlying</a>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(newtp: Types.this.Type)Types.this.Type" id="842643">rewrap</a><span class="delimiter">(</span><a title="Types.this.Type" id="843528">newtp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#842637" title="(underlying: Types.this.Type)Types.this.NotNullType">NotNullType</a><span class="delimiter">(</span><a href="#843528" title="Types.this.Type">newtp</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="842644">isNotNull</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.NotNullType" id="842645">notNull</a> = <a href="#842637" title="Types.this.NotNullType" class="keyword">this</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="842646">deconst</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#842651" title="=&gt; Types.this.Type">underlying</a> <span class="comment">//todo: needed?</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="842647">safeToString</a>: <span title="String">String</span> = <a href="#842651" title="=&gt; Types.this.Type">underlying</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with NotNull&quot;)" class="string">&quot; with NotNull&quot;</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="842648">kind</a> = <span title="java.lang.String(&quot;NotNullType&quot;)" class="string">&quot;NotNullType&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A base class for types that represent a single value
   *  (single-types and this-types).
   */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SingletonType extends Types.this.SubType with Types.this.SimpleTypeProxy with ScalaObject" id="478726">SingletonType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478722" title="Types.this.SubType">SubType</a> <span class="keyword">with</span> <a href="#478718" title="Types.this.SimpleTypeProxy">SimpleTypeProxy</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546344">supertype</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546345">isTrivial</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546346">isStable</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546347">isVolatile</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507152" title="=&gt; Boolean">isVolatile</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546348">widen</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507163" title="=&gt; Types.this.Type">widen</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.BaseTypeSeq" id="546349">baseTypeSeq</a>: <a href="BaseTypeSeqs.scala.html#479035" title="Types.this.BaseTypeSeq">BaseTypeSeq</a> = <span class="delimiter">{</span>
      <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478521" title="=&gt; scala.tools.nsc.util.Statistics.Counter">singletonBaseTypeSeqCount</a><span class="delimiter">)</span>
      <a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a> <a href="BaseTypeSeqs.scala.html#594273" title="(tp: Types.this.Type)Types.this.BaseTypeSeq">prepend</a> <a href="#478726" title="Types.this.SingletonType" class="keyword">this</a>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546350">isHigherKinded</a> = <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// singleton type classifies objects, thus must be kind *</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="546351">safeToString</a>: <span title="String">String</span> = <a href="#507238" title="=&gt; java.lang.String">prefixString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;type&quot;)" class="string">&quot;type&quot;</span>
<span class="comment">/*
    override def typeOfThis: Type = typeSymbol.typeOfThis
    override def bounds: TypeBounds = TypeBounds(this, this)
    override def prefix: Type = NoType
    override def typeArgs: List[Type] = List()
    override def typeParams: List[Symbol] = List()
*/</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An object representing an erroneous type */</span>
  case <span class="keyword">object</span> <a href="#843654" title="object Types.this.ErrorType" id="843657">ErrorType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="comment">// todo see whether we can do without</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546321">isError</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Scope" id="546322">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a> = <span title="Types.this.ErrorScope" class="keyword">new</span> <a href="Scopes.scala.html#479024" title="Types.this.ErrorScope">ErrorScope</a><span class="delimiter">(</span><a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol" id="546323">findMember</a><span class="delimiter">(</span><a title="Types.this.Name" id="843613">name</a>: <a href="Names.scala.html#478413" title="Types.this.Name">Name</a>, <a title="Long" id="843614">excludedFlags</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a>, <a title="Long" id="843615">requiredFlags</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a>, <a title="Boolean" id="843616">stableOnly</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Types.this.Symbol" id="843618">sym</a> = <a href="#546322" title="=&gt; Types.this.Scope">decls</a> <a href="Scopes.scala.html#514367" title="(name: Types.this.Name)Types.this.Symbol">lookup</a> <a href="#843613" title="Types.this.Name">name</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#843618" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#843618" title="Types.this.Symbol">sym</a> = <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a>.<a href="Symbols.scala.html#509163" title="(name: Types.this.Name)Types.this.Symbol">newErrorSymbol</a><span class="delimiter">(</span><a href="#843613" title="Types.this.Name">name</a><span class="delimiter">)</span>
        <a href="#546322" title="=&gt; Types.this.Scope">decls</a> <a href="Scopes.scala.html#514360" title="(sym: Types.this.Symbol)Types.this.Symbol">enter</a> <a href="#843618" title="Types.this.Symbol">sym</a>
      <span class="delimiter">}</span>
      <a href="#843618" title="Types.this.Symbol">sym</a>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol)Types.this.Type" id="546324">baseType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="843641">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="keyword">this</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="546325">safeToString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&lt;error&gt;&quot;)" class="string">&quot;&lt;error&gt;&quot;</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546326">narrow</a>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="keyword">this</span>
    <span class="comment">// override def isNullable: Boolean = true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546327">kind</a> = <span title="java.lang.String(&quot;ErrorType&quot;)" class="string">&quot;ErrorType&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An object representing an unknown type, used during type inference.
   *  If you see WildcardType outside of inference it is almost certainly a bug.
   */</span>
  case <span class="keyword">object</span> <a href="#843672" title="object Types.this.WildcardType" id="843675">WildcardType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546329">isWildcard</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="546330">safeToString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span>
    <span class="comment">// override def isNullable: Boolean = true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546331">kind</a> = <span title="java.lang.String(&quot;WildcardType&quot;)" class="string">&quot;WildcardType&quot;</span>
  <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class BoundedWildcardType extends Types.this.Type with ScalaObject with Product with Serializable" id="652054">BoundedWildcardType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="Types.this.TypeBounds" id="849481">bounds</a>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="652059">isWildcard</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="652060">safeToString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#849481" title="=&gt; Types.this.TypeBounds">bounds</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="652061">kind</a> = <span title="java.lang.String(&quot;BoundedWildcardType&quot;)" class="string">&quot;BoundedWildcardType&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An object representing a non-existing type */</span>
  case <span class="keyword">object</span> <a href="#843721" title="object Types.this.NoType" id="843724">NoType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="531713">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="531714">safeToString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&lt;notype&gt;&quot;)" class="string">&quot;&lt;notype&gt;&quot;</span>
    <span class="comment">// override def isNullable: Boolean = true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="531715">kind</a> = <span title="java.lang.String(&quot;NoType&quot;)" class="string">&quot;NoType&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An object representing a non-existing prefix */</span>
  case <span class="keyword">object</span> <a href="#843743" title="object Types.this.NoPrefix" id="843746">NoPrefix</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="532395">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="532396">isStable</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="532397">prefixString</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="532398">safeToString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&lt;noprefix&gt;&quot;)" class="string">&quot;&lt;noprefix&gt;&quot;</span>
    <span class="comment">// override def isNullable: Boolean = true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="532399">kind</a> = <span title="java.lang.String(&quot;NoPrefixType&quot;)" class="string">&quot;NoPrefixType&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A class for this-types of the form &lt;sym&gt;.this.type
   */</span>
  <span class="keyword">abstract</span> case <span class="keyword">class</span> <a href="../../../runtime/ScalaRunTime.scala.html#62573" title="class ThisType extends Types.this.SingletonType with ScalaObject with Product with Serializable" id="546398">ThisType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Symbol" id="546406">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478726" title="Types.this.SingletonType">SingletonType</a> <span class="delimiter">{</span>
    <span class="comment">//assert(sym.isClass &amp;&amp; !sym.isModuleClass || sym.isRoot, sym)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546356">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#546406" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546357">isNotNull</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="546358">typeSymbol</a> = <a href="#546406" title="=&gt; Types.this.Symbol">sym</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546359">underlying</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#546406" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509307" title="=&gt; Types.this.Type">typeOfThis</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546360">isVolatile</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546361">isHigherKinded</a> = <a href="#546406" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#546359" title="=&gt; Types.this.Type">underlying</a>.<a href="#507150" title="=&gt; Boolean">isHigherKinded</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546362">prefixString</a> =
      <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#546406" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509363" title="=&gt; java.lang.String">nameString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.this.&quot;)" class="string">&quot;.this.&quot;</span>
      <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#546406" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509194" title="=&gt; Boolean">isAnonOrRefinementClass</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;this.&quot;)" class="string">&quot;this.&quot;</span>
      <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#546406" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509206" title="=&gt; Boolean">printWithoutPrefix</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#546406" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span> <a href="#546406" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435348" title="=&gt; String">fullName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
      <span class="keyword">else</span> <a href="#546406" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509363" title="=&gt; java.lang.String">nameString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.this.&quot;)" class="string">&quot;.this.&quot;</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="546363">safeToString</a>: <span title="String">String</span> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#546406" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435396" title="=&gt; Boolean">isRoot</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&lt;root&gt;&quot;)" class="string">&quot;&lt;root&gt;&quot;</span>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#546406" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435393" title="=&gt; Boolean">isEmptyPackageClass</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&lt;empty&gt;&quot;)" class="string">&quot;&lt;empty&gt;&quot;</span>
      <span class="keyword">else</span> <a href="#546398" title="Types.this.ThisType" class="keyword">super</a>.<a href="#546351" title="=&gt; String">safeToString</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546364">narrow</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#546398" title="Types.this.ThisType" class="keyword">this</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546365">kind</a> = <span title="java.lang.String(&quot;ThisType&quot;)" class="string">&quot;ThisType&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class UniqueThisType extends Types.this.ThisType with Types.this.UniqueType with ScalaObject" id="478741">UniqueThisType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Symbol" id="843803">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#546398" title="Types.this.ThisType">ThisType</a><span class="delimiter">(</span><a href="#843803" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#478721" title="Types.this.UniqueType">UniqueType</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="object Types.this.ThisType" id="478739">ThisType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433932" title="Types.this.ThisTypeExtractor">ThisTypeExtractor</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Types.this.Type" id="546333">apply</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="557668">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#478834" title="(tp: Types.this.UniqueThisType)Types.this.UniqueThisType">unique</a><span class="delimiter">(</span><span title="Types.this.UniqueThisType" class="keyword">new</span> <a href="#478741" title="Types.this.UniqueThisType">UniqueThisType</a><span class="delimiter">(</span><a href="#557668" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#557668" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435382" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <a href="#557668" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509307" title="=&gt; Types.this.Type">typeOfThis</a>
      <span class="keyword">else</span> <a href="#557668" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A class for singleton types of the form &lt;prefix&gt;.&lt;sym.name&gt;.type.
   *  Cannot be created directly; one should always use
   *  `singleType' for creation.
   */</span>
  <span class="keyword">abstract</span> case <span class="keyword">class</span> <a href="../../../runtime/ScalaRunTime.scala.html#62573" title="class SingleType extends Types.this.SingletonType with ScalaObject with Product with Serializable" id="546436">SingleType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="546450">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="546451">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478726" title="Types.this.SingletonType">SingletonType</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="546418">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#546450" title="=&gt; Types.this.Type">pre</a>.<a href="#507149" title="=&gt; Boolean">isTrivial</a>
    <span class="comment">// override def isNullable = underlying.isNullable</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546420">isNotNull</a> = <a href="#546427" title="=&gt; Types.this.Type">underlying</a>.<a href="#507153" title="=&gt; Boolean">isNotNull</a>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Types.this.Type" id="546422">underlyingCache</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#843724" title="object Types.this.NoType">NoType</a>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="546425">underlyingPeriod</a> = <span title="Int(0)">NoPeriod</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546427">underlying</a>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="843821">period</a> = <a href="#546425" title="=&gt; Int">underlyingPeriod</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843821" title="Int">period</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="SymbolTable.scala.html#478181" title="=&gt; Types.this.Period">currentPeriod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#546425" title="(x$1: Int)Unit">underlyingPeriod</a> = <a href="SymbolTable.scala.html#478181" title="=&gt; Types.this.Period">currentPeriod</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478190" title="(period: Types.this.Period)Boolean">isValid</a><span class="delimiter">(</span><a href="#843821" title="Int">period</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#546422" title="(x$1: Types.this.Type)Unit">underlyingCache</a> = <a href="#546450" title="=&gt; Types.this.Type">pre</a>.<a href="#507207" title="(sym: Types.this.Symbol)Types.this.Type">memberType</a><span class="delimiter">(</span><a href="#546451" title="=&gt; Types.this.Symbol">sym</a><span class="delimiter">)</span>.<a href="#507173" title="=&gt; Types.this.Type">resultType</a>;
          <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#546422" title="=&gt; Types.this.Type">underlyingCache</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#546436" title="Types.this.SingleType" class="keyword">this</a>, <a href="#546436" title="Types.this.SingleType" class="keyword">this</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#546422" title="=&gt; Types.this.Type">underlyingCache</a>
    <span class="delimiter">}</span>

    <span class="comment">// more precise conceptually, but causes cyclic errors:    (paramss exists (_ contains sym))</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546428">isImmediatelyDependent</a> = <span class="delimiter">(</span><a href="#546451" title="=&gt; Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#546451" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#546451" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509175" title="=&gt; Boolean">isValueParameter</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546429">isVolatile</a> : <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#546427" title="=&gt; Types.this.Type">underlying</a>.<a href="#507152" title="=&gt; Boolean">isVolatile</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#546451" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a>
<span class="comment">/*
    override def narrow: Type = {
      if (phase.erasedTypes) this
      else {
        val thissym = refinedType(List(this), sym.owner, EmptyScope).typeSymbol
        if (sym.owner != NoSymbol) {
          //Console.println(&quot;narrowing module &quot; + sym + thissym.owner);
          thissym.typeOfThis = this
        }
        thissym.thisType
      }
    }
*/</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546430">narrow</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#546436" title="Types.this.SingleType" class="keyword">this</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="546431">termSymbol</a> = <a href="#546451" title="=&gt; Types.this.Symbol">sym</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546432">prefix</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#546450" title="=&gt; Types.this.Type">pre</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="546433">prefixString</a>: <span title="String">String</span> =
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#546451" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435392" title="=&gt; Boolean">isEmptyPackage</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#546451" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509219" title="=&gt; Boolean">isInterpreterWrapper</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#546451" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509200" title="=&gt; Boolean">isPredefModule</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#546451" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509201" title="=&gt; Boolean">isScalaPackage</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <a href="#546450" title="=&gt; Types.this.Type">pre</a>.<a href="#507238" title="=&gt; java.lang.String">prefixString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#546451" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509363" title="=&gt; java.lang.String">nameString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546434">kind</a> = <span title="java.lang.String(&quot;SingleType&quot;)" class="string">&quot;SingleType&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class UniqueSingleType extends Types.this.SingleType with Types.this.UniqueType with ScalaObject" id="478745">UniqueSingleType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="843880">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="843881">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#546436" title="Types.this.SingleType">SingleType</a><span class="delimiter">(</span><a href="#843880" title="Types.this.Type">pre</a>, <a href="#843881" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#478721" title="Types.this.UniqueType">UniqueType</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="object Types.this.SingleType" id="478743">SingleType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433933" title="Types.this.SingleTypeExtractor">SingleTypeExtractor</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type" id="546410">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="843883">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="843884">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <a href="#478834" title="(tp: Types.this.UniqueSingleType)Types.this.UniqueSingleType">unique</a><span class="delimiter">(</span><span title="Types.this.UniqueSingleType" class="keyword">new</span> <a href="#478745" title="Types.this.UniqueSingleType">UniqueSingleType</a><span class="delimiter">(</span><a href="#843883" title="Types.this.Type">pre</a>, <a href="#843884" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">abstract</span> case <span class="keyword">class</span> <a href="../../../runtime/ScalaRunTime.scala.html#62573" title="class SuperType extends Types.this.SingletonType with ScalaObject with Product with Serializable" id="547343">SuperType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="547357">thistpe</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="547358">supertpe</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478726" title="Types.this.SingletonType">SingletonType</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="547333">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#547357" title="=&gt; Types.this.Type">thistpe</a>.<a href="#507149" title="=&gt; Boolean">isTrivial</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#547358" title="=&gt; Types.this.Type">supertpe</a>.<a href="#507149" title="=&gt; Boolean">isTrivial</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="547335">isNotNull</a> = <span title="Boolean(true)" class="keyword">true</span>;
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="547336">typeSymbol</a> = <a href="#547357" title="=&gt; Types.this.Type">thistpe</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547337">underlying</a> = <a href="#547358" title="=&gt; Types.this.Type">supertpe</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547338">prefix</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#547358" title="=&gt; Types.this.Type">supertpe</a>.<a href="#507169" title="=&gt; Types.this.Type">prefix</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="547339">prefixString</a> = <a href="#547357" title="=&gt; Types.this.Type">thistpe</a>.<a href="#507238" title="=&gt; java.lang.String">prefixString</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">replaceAll</span><span class="delimiter">(</span><span title="java.lang.String(&quot;this\\.$&quot;)" class="string">&quot;&quot;&quot;this\.$&quot;&quot;&quot;</span>, <span title="java.lang.String(&quot;super.&quot;)" class="string">&quot;super.&quot;</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547340">narrow</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#547357" title="=&gt; Types.this.Type">thistpe</a>.<a href="#507166" title="=&gt; Types.this.Type">narrow</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="547341">kind</a> = <span title="java.lang.String(&quot;SuperType&quot;)" class="string">&quot;SuperType&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class UniqueSuperType extends Types.this.SuperType with Types.this.UniqueType with ScalaObject" id="478749">UniqueSuperType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="843942">thistp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="843943">supertp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#547343" title="Types.this.SuperType">SuperType</a><span class="delimiter">(</span><a href="#843942" title="Types.this.Type">thistp</a>, <a href="#843943" title="Types.this.Type">supertp</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#478721" title="Types.this.UniqueType">UniqueType</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="object Types.this.SuperType" id="478747">SuperType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433934" title="Types.this.SuperTypeExtractor">SuperTypeExtractor</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(thistp: Types.this.Type, supertp: Types.this.Type)Types.this.Type" id="547325">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="843945">thistp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="843946">supertp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#843946" title="Types.this.Type">supertp</a>
      <span class="keyword">else</span> <a href="#478834" title="(tp: Types.this.UniqueSuperType)Types.this.UniqueSuperType">unique</a><span class="delimiter">(</span><span title="Types.this.UniqueSuperType" class="keyword">new</span> <a href="#478749" title="Types.this.UniqueSuperType">UniqueSuperType</a><span class="delimiter">(</span><a href="#843945" title="Types.this.Type">thistp</a>, <a href="#843946" title="Types.this.Type">supertp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A class for the bounds of abstract types and type parameters
   */</span>
  <span class="keyword">abstract</span> case <span class="keyword">class</span> <a href="../../../runtime/ScalaRunTime.scala.html#62573" title="class TypeBounds extends Types.this.SubType with ScalaObject with Product with Serializable" id="546596">TypeBounds</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="546610">lo</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="546611">hi</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478722" title="Types.this.SubType">SubType</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546588">supertype</a> = <a href="#546611" title="=&gt; Types.this.Type">hi</a>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="546589">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#546610" title="=&gt; Types.this.Type">lo</a>.<a href="#507149" title="=&gt; Boolean">isTrivial</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#546611" title="=&gt; Types.this.Type">hi</a>.<a href="#507149" title="=&gt; Boolean">isTrivial</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.TypeBounds" id="546591">bounds</a>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a> = <a href="#546596" title="Types.this.TypeBounds" class="keyword">this</a>
    <span class="keyword">def</span> <a title="(that: Types.this.Type)Boolean" id="546592">containsType</a><span class="delimiter">(</span><a title="Types.this.Type" id="652084">that</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#652084" title="Types.this.Type">that</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">TypeBounds</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="#652084" title="Types.this.Type">that</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#546596" title="Types.this.TypeBounds" class="keyword">this</a>
      <span class="keyword">case</span> <span title="Boolean">_</span>                =&gt; <a href="#546610" title="=&gt; Types.this.Type">lo</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#652084" title="Types.this.Type">that</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#652084" title="Types.this.Type">that</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#546611" title="=&gt; Types.this.Type">hi</a>
    <span class="delimiter">}</span>
    <span class="comment">// override def isNullable: Boolean = NullClass.tpe &lt;:&lt; lo;</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546593">safeToString</a> = <span title="java.lang.String(&quot;&gt;: &quot;)" class="string">&quot;&gt;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#546610" title="=&gt; Types.this.Type">lo</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &lt;: &quot;)" class="string">&quot; &lt;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#546611" title="=&gt; Types.this.Type">hi</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546594">kind</a> = <span title="java.lang.String(&quot;TypeBoundsType&quot;)" class="string">&quot;TypeBoundsType&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class UniqueTypeBounds extends Types.this.TypeBounds with Types.this.UniqueType with ScalaObject" id="478753">UniqueTypeBounds</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="843996">lo</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="843997">hi</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#843996" title="Types.this.Type">lo</a>, <a href="#843997" title="Types.this.Type">hi</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#478721" title="Types.this.UniqueType">UniqueType</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="object Types.this.TypeBounds" id="478751">TypeBounds</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433936" title="Types.this.TypeBoundsExtractor">TypeBoundsExtractor</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.TypeBounds" id="546577">empty</a>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a>           = <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">apply</a><span class="delimiter">(</span><a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>, <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(hi: Types.this.Type)Types.this.TypeBounds" id="546578">upper</a><span class="delimiter">(</span><a title="Types.this.Type" id="839118">hi</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a> = <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">apply</a><span class="delimiter">(</span><a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>, <a href="#839118" title="Types.this.Type">hi</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(lo: Types.this.Type)Types.this.TypeBounds" id="546579">lower</a><span class="delimiter">(</span><a title="Types.this.Type" id="844001">lo</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a> = <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">apply</a><span class="delimiter">(</span><a href="#844001" title="Types.this.Type">lo</a>, <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds" id="546580">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="631034">lo</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="631035">hi</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a> = <span class="delimiter">{</span>
      <a href="#478834" title="(tp: Types.this.UniqueTypeBounds)Types.this.UniqueTypeBounds">unique</a><span class="delimiter">(</span><span title="Types.this.UniqueTypeBounds" class="keyword">new</span> <a href="#478753" title="Types.this.UniqueTypeBounds">UniqueTypeBounds</a><span class="delimiter">(</span><a href="#631034" title="Types.this.Type">lo</a>, <a href="#631035" title="Types.this.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Types.this.TypeBounds" class="delimiter">[</span><a href="#546596" title="Types.this.TypeBounds">TypeBounds</a><span class="delimiter">]</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A common base class for intersection types and class types
   */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CompoundType extends Types.this.Type with ScalaObject" id="478754">CompoundType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>

    <span class="keyword">var</span> <a title="Types.this.BaseTypeSeq" id="546658">baseTypeSeqCache</a>: <a href="BaseTypeSeqs.scala.html#479035" title="Types.this.BaseTypeSeq">BaseTypeSeq</a> = _
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="546661">baseTypeSeqPeriod</a> = <span title="Int(0)">NoPeriod</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[Types.this.Symbol]" id="546664">baseClassesCache</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = _
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="546667">baseClassesPeriod</a> = <span title="Int(0)">NoPeriod</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.BaseTypeSeq" id="546669">baseTypeSeq</a>: <a href="BaseTypeSeqs.scala.html#479035" title="Types.this.BaseTypeSeq">BaseTypeSeq</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="844013">period</a> = <a href="#546661" title="=&gt; Int">baseTypeSeqPeriod</a>;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#844013" title="Int">period</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="SymbolTable.scala.html#478181" title="=&gt; Types.this.Period">currentPeriod</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// no caching in IDE</span>
        <a href="#546661" title="(x$1: Int)Unit">baseTypeSeqPeriod</a> = <a href="SymbolTable.scala.html#478181" title="=&gt; Types.this.Period">currentPeriod</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478191" title="(period: Types.this.Period)Boolean">isValidForBaseClasses</a><span class="delimiter">(</span><a href="#844013" title="Int">period</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#844031" title="Types.this.Type">_</a>.<a href="#507217" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#844033" title="Types.this.Type">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#478797" title="Types.this.TypeVar">TypeVar</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// rename type vars to fresh type params, take base type sequence of</span>
            <span class="comment">// resulting type, and rename back all the entries in that sequence</span>
            <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Types.this.TypeVar]" id="844034">tvs</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Types.this.TypeVar*)scala.collection.immutable.Set[Types.this.TypeVar]" class="delimiter">[</span><a href="#478797" title="Types.this.TypeVar">TypeVar</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Type" id="844062">p</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Type =&gt; Unit)Unit">parents</a><span class="delimiter">)</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Type" id="844064">t</a> &lt;- <a href="#507215" title="(f: Types.this.Type =&gt; Unit)Unit">p</a><span class="delimiter">)</span> <a href="#844064" title="Types.this.Type">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Unit" id="844065">tv</a>: <a href="#478797" title="Types.this.TypeVar">TypeVar</a> =&gt; <a href="#844034" title="scala.collection.immutable.Set[Types.this.TypeVar]">tvs</a> <a href="../../../collection/SetLike.scala.html#65656" title="(elem: Types.this.TypeVar)scala.collection.immutable.Set[Types.this.TypeVar]">+=</a> <a href="#844065" title="Types.this.TypeVar">tv</a>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Map[Types.this.Type,Types.this.Symbol]" id="844035">varToParamMap</a>: <a href="../../../collection/immutable/Map.scala.html#13468" title="Map[Types.this.Type,Types.this.Symbol]">Map</a><span class="delimiter">[</span>Type, Symbol<span class="delimiter">]</span> = <a href="#844034" title="scala.collection.immutable.Set[Types.this.TypeVar]">tvs</a> <a href="../../../collection/SetLike.scala.html#65650" title="(f: Types.this.TypeVar =&gt; (Types.this.TypeVar, Types.this.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[Types.this.TypeVar],(Types.this.TypeVar, Types.this.Symbol),scala.collection.immutable.Set[(Types.this.TypeVar, Types.this.Symbol)]])scala.collection.immutable.Set[(Types.this.TypeVar, Types.this.Symbol)]">map</a> <span class="delimiter">(</span><a title="Types.this.TypeVar" id="844105">tv</a> =&gt; <a href="../../../Predef.scala.html#9589" title="(x: Types.this.TypeVar)ArrowAssoc[Types.this.TypeVar]">tv</a> <a href="../../../Predef.scala.html#57653" title="(y: Types.this.Symbol)(Types.this.TypeVar, Types.this.Symbol)">-&gt;</a> <a href="#844105" title="Types.this.TypeVar">tv</a>.<a href="#847557" title="=&gt; Types.this.Type">origin</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509302" title="=&gt; Types.this.Symbol">cloneSymbol</a><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53703" title="(implicit ev: &lt;:&lt;[(Types.this.TypeVar, Types.this.Symbol),(Types.this.Type, Types.this.Symbol)])scala.collection.immutable.Map[Types.this.Type,Types.this.Symbol]">toMap</a>
            <span class="keyword">val</span> <a title="scala.collection.immutable.Map[Types.this.Symbol,Types.this.Type]" id="844036">paramToVarMap</a> = <a href="#844035" title="Map[Types.this.Type,Types.this.Symbol]">varToParamMap</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((Types.this.Type, Types.this.Symbol)) =&gt; (Types.this.Symbol, Types.this.Type))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Types.this.Type,Types.this.Symbol],(Types.this.Symbol, Types.this.Type),scala.collection.immutable.Map[Types.this.Symbol,Types.this.Type]])scala.collection.immutable.Map[Types.this.Symbol,Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#844189" title="(Types.this.Type, Types.this.Symbol)">_</a>.<a href="../../../Tuple2.scala.html#53408" title="=&gt; (Types.this.Symbol, Types.this.Type)">swap</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Types.this.TypeMap" id="844037">varToParam</a> = <a href="#844240" title="Types.this.TypeMap" class="keyword">new</a> <a href="#478842" title="anonymous class $anon extends Types.this.TypeMap" id="844240">TypeMap</a> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="844242">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="844243">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#844035" title="Map[Types.this.Type,Types.this.Symbol]">varToParamMap</a> <a href="../../../collection/MapLike.scala.html#73194" title="(key: Types.this.Type)Option[Types.this.Symbol]">get</a> <a href="#844243" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Types.this.Type">Some</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="844248">sym</a><span class="delimiter">)</span> =&gt; <a href="#844248" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
                <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#844243" title="Types.this.Type">tp</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Types.this.TypeMap" id="844038">paramToVar</a> = <a href="#844267" title="Types.this.TypeMap" class="keyword">new</a> <a href="#478842" title="anonymous class $anon extends Types.this.TypeMap" id="844267">TypeMap</a> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="844269">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="844270">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#844270" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="844272">tsym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#844036" title="scala.collection.immutable.Map[Types.this.Symbol,Types.this.Type]">paramToVarMap</a>.<a href="../../../collection/MapLike.scala.html#73206" title="(key: Types.this.Symbol)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#844272" title="Types.this.Symbol">tsym</a><span class="delimiter">)</span> =&gt; <a href="../../../collection/MapLike.scala.html#73204" title="(key: Types.this.Symbol)Types.this.Type">paramToVarMap</a><span class="delimiter">(</span><a href="#844272" title="Types.this.Symbol">tsym</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#844270" title="Types.this.Type">tp</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Types.this.BaseTypeSeq" id="844039">bts</a> = <a href="#478810" title="(original: Types.this.RefinedType, parents: List[Types.this.Type], decls: Types.this.Scope)Types.this.Type">copyRefinedType</a><span class="delimiter">(</span><a href="#478754" title="CompoundType.this.type" class="keyword">this</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Types.this.RefinedType" class="delimiter">[</span><a href="#546655" title="Types.this.RefinedType">RefinedType</a><span class="delimiter">]</span>, <a href="#507168" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <a href="#844037" title="Types.this.TypeMap">varToParam</a>, <a href="#844037" title="Types.this.TypeMap">varToParam</a> <a href="#532448" title="(scope: Types.this.Scope)Types.this.Scope">mapOver</a> <a href="#507192" title="=&gt; Types.this.Scope">decls</a><span class="delimiter">)</span>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a>
            <a href="#546658" title="(x$1: Types.this.BaseTypeSeq)Unit">baseTypeSeqCache</a> = <a href="#844039" title="Types.this.BaseTypeSeq">bts</a> <a href="BaseTypeSeqs.scala.html#594276" title="(f: Types.this.Type =&gt; Types.this.Type)Types.this.BaseTypeSeq">lateMap</a> <a href="#844038" title="Types.this.TypeMap">paramToVar</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478523" title="=&gt; scala.tools.nsc.util.Statistics.Counter">compoundBaseTypeSeqCount</a><span class="delimiter">)</span>
            <a href="#546658" title="(x$1: Types.this.BaseTypeSeq)Unit">baseTypeSeqCache</a> = <a href="BaseTypeSeqs.scala.html#479036" title="=&gt; Types.this.BaseTypeSeq">undetBaseTypeSeq</a>
            <a href="#546658" title="(x$1: Types.this.BaseTypeSeq)Unit">baseTypeSeqCache</a> = <span title="Types.this.BaseTypeSeq" class="keyword">if</span> <span class="delimiter">(</span><a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a><span class="delimiter">)</span>
              <a href="#546672" title="(op1: =&gt; Types.this.BaseTypeSeq)(op2: Types.this.Type =&gt; Types.this.BaseTypeSeq)Types.this.BaseTypeSeq">memo</a><span class="delimiter">(</span><a href="BaseTypeSeqs.scala.html#479039" title="(tp: Types.this.Type)Types.this.BaseTypeSeq">compoundBaseTypeSeq</a><span class="delimiter">(</span><a href="#478754" title="Types.this.CompoundType" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#844460" title="Types.this.Type">_</a>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a> <a href="BaseTypeSeqs.scala.html#594274" title="(tp: Types.this.Type)Types.this.BaseTypeSeq">updateHead</a> <a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="BaseTypeSeqs.scala.html#479039" title="(tp: Types.this.Type)Types.this.BaseTypeSeq">compoundBaseTypeSeq</a><span class="delimiter">(</span><a href="#478754" title="Types.this.CompoundType" class="keyword">this</a><span class="delimiter">)</span>
            <span class="comment">// [Martin] suppressing memo-ization solves the problem with &quot;same type after erasure&quot; errors</span>
            <span class="comment">// when compiling with</span>
            <span class="comment">// scalac scala.collection.IterableViewLike.scala scala.collection.IterableLike.scala</span>
            <span class="comment">// I have not yet figured out precisely why this is the case.</span>
            <span class="comment">// My current assumption is that taking memos forces baseTypeSeqs to be computed</span>
            <span class="comment">// at stale types (i.e. the underlying typeSymbol has already another type).</span>
            <span class="comment">// I do not yet see precisely why this would cause a problem, but it looks</span>
            <span class="comment">// fishy in any case.</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="comment">//Console.println(&quot;baseTypeSeq(&quot; + typeSymbol + &quot;) = &quot; + baseTypeSeqCache.toList);//DEBUG</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#546658" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeqCache</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="BaseTypeSeqs.scala.html#479036" title="=&gt; Types.this.BaseTypeSeq">undetBaseTypeSeq</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <a href="#711710" title="(msg: String)Types.this.TypeError" class="keyword">new</a> <a href="#478998" title="Types.this.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;illegal cyclic inheritance involving &quot;)" class="string">&quot;illegal cyclic inheritance involving &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span>
      <a href="#546658" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeqCache</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="546670">baseTypeSeqDepth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <a href="#546669" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a>.<a href="BaseTypeSeqs.scala.html#594278" title="=&gt; Int">maxDepth</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="546671">baseClasses</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="844469">computeBaseClasses</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
        <span title="List[Types.this.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Symbol*)List[Types.this.Symbol]">List</a><span class="delimiter">(</span><a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">//Console.println(&quot;computing base classes of &quot; + typeSymbol + &quot; at phase &quot; + phase);//DEBUG</span>
          <span class="comment">// optimized, since this seems to be performance critical</span>
          <span class="keyword">val</span> <a title="Types.this.Type" id="844479">superclazz</a> = <a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a>
          <span class="keyword">var</span> <a title="List[Types.this.Type]" id="844480">mixins</a> = <a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Type]">tail</a>
          <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="844481">sbcs</a> = <a href="#844479" title="Types.this.Type">superclazz</a>.<a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a>
          <span class="keyword">var</span> <a title="List[Types.this.Symbol]" id="844482">bcs</a> = <a href="#844481" title="List[Types.this.Symbol]">sbcs</a>
          <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol)Boolean" id="844483">isNew</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="844487">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">(</span>
            <a href="#844479" title="Types.this.Type">superclazz</a>.<a href="#507232" title="(sym: Types.this.Symbol)Int">baseTypeIndex</a><span class="delimiter">(</span><a href="#844487" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <span class="delimiter">{</span> <span class="keyword">var</span> <a title="List[Types.this.Symbol]" id="844492">p</a> = <a href="#844482" title="List[Types.this.Symbol]">bcs</a>;
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#844492" title="List[Types.this.Symbol]">p</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#844481" title="List[Types.this.Symbol]">sbcs</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#844492" title="List[Types.this.Symbol]">p</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#844487" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#844492" title="List[Types.this.Symbol]">p</a> = <a href="#844492" title="List[Types.this.Symbol]">p</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Symbol]">tail</a>;
              <a href="#844492" title="List[Types.this.Symbol]">p</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#844481" title="List[Types.this.Symbol]">sbcs</a>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span>;
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#844480" title="List[Types.this.Type]">mixins</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#844484" title="()Unit" class="delimiter">{</a>
            <span class="keyword">def</span> <a title="(mbcs: List[Types.this.Symbol])List[Types.this.Symbol]" id="844502">addMixinBaseClasses</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="844503">mbcs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
              <span title="List[Types.this.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#844503" title="List[Types.this.Symbol]">mbcs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#844482" title="List[Types.this.Symbol]">bcs</a>
              <span class="keyword">else</span> <span title="List[Types.this.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#844483" title="(clazz: Types.this.Symbol)Boolean">isNew</a><span class="delimiter">(</span><a href="#844503" title="List[Types.this.Symbol]">mbcs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#844503" title="List[Types.this.Symbol]">mbcs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Symbol)List[Types.this.Symbol]">::</a> <a href="#844502" title="(mbcs: List[Types.this.Symbol])List[Types.this.Symbol]">addMixinBaseClasses</a><span class="delimiter">(</span><a href="#844503" title="List[Types.this.Symbol]">mbcs</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Symbol]">tail</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#844502" title="(mbcs: List[Types.this.Symbol])List[Types.this.Symbol]">addMixinBaseClasses</a><span class="delimiter">(</span><a href="#844503" title="List[Types.this.Symbol]">mbcs</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Symbol]">tail</a><span class="delimiter">)</span>;
            <a href="#844482" title="List[Types.this.Symbol]">bcs</a> = <a href="#844502" title="(mbcs: List[Types.this.Symbol])List[Types.this.Symbol]">addMixinBaseClasses</a><span class="delimiter">(</span><a href="#844480" title="List[Types.this.Type]">mixins</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a>.<a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a><span class="delimiter">)</span>
            <a href="#844480" title="List[Types.this.Type]">mixins</a> = <a href="#844480" title="List[Types.this.Type]">mixins</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Type]">tail</a>
          <span class="delimiter">}</span>
          <a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Symbol)List[Types.this.Symbol]">::</a> <a href="#844482" title="List[Types.this.Symbol]">bcs</a>
         <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Int" id="844470">period</a> = <a href="#546667" title="=&gt; Int">baseClassesPeriod</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#844470" title="Int">period</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="SymbolTable.scala.html#478181" title="=&gt; Types.this.Period">currentPeriod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#546667" title="(x$1: Int)Unit">baseClassesPeriod</a> = <a href="SymbolTable.scala.html#478181" title="=&gt; Types.this.Period">currentPeriod</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478191" title="(period: Types.this.Period)Boolean">isValidForBaseClasses</a><span class="delimiter">(</span><a href="#844470" title="Int">period</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#546664" title="(x$1: List[Types.this.Symbol])Unit">baseClassesCache</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="#546664" title="(x$1: List[Types.this.Symbol])Unit">baseClassesCache</a> = <a href="#546672" title="(op1: =&gt; List[Types.this.Symbol])(op2: Types.this.Type =&gt; List[Types.this.Symbol])List[Types.this.Symbol]">memo</a><span class="delimiter">(</span><a href="#844469" title="=&gt; List[Types.this.Symbol]">computeBaseClasses</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Symbol)List[Types.this.Symbol]">::</a> <a href="#844526" title="Types.this.Type">_</a>.<a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Symbol]">tail</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#546664" title="=&gt; List[Types.this.Symbol]">baseClassesCache</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <a href="#711710" title="(msg: String)Types.this.TypeError" class="keyword">new</a> <a href="#478998" title="Types.this.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;illegal cyclic reference involving &quot;)" class="string">&quot;illegal cyclic reference involving &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span>
      <a href="#546664" title="=&gt; List[Types.this.Symbol]">baseClassesCache</a>
    <span class="delimiter">}</span>

    <span class="comment">/** The slightly less idiomatic use of Options is due to
     *  performance considerations. A version using for comprehensions
     *  might be too slow (this is deemed a hotspot of the type checker).
     *
     *  See with Martin before changing this method.
     */</span>
    <span class="keyword">def</span> <a title="[A](op1: =&gt; A)(op2: Types.this.Type =&gt; A)A" id="546672">memo</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="546674">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="844446">op1</a>: =&gt; A<span class="delimiter">)</span><span class="delimiter">(</span><a title="Types.this.Type =&gt; A" id="844447">op2</a>: Type =&gt; A<span class="delimiter">)</span>: <a href="#546674" title="A">A</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="()A" id="844536">updateCache</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="#546674" title="A">A</a> = <span class="delimiter">{</span>
        <a href="../../../collection/JavaConversions.scala.html#134043" title="(k: List[Types.this.Type], v: scala.ref.WeakReference[Types.this.Type])Unit">intersectionWitness</a><span class="delimiter">(</span><a href="#507168" title="=&gt; List[Types.this.Type]">parents</a><span class="delimiter">)</span> = <a href="../../../ref/WeakReference.scala.html#425703" title="(value: Types.this.CompoundType)scala.ref.WeakReference[Types.this.CompoundType]" class="keyword">new</a> <a href="../../../ref/WeakReference.scala.html#19379" title="scala.ref.WeakReference[Types.this.CompoundType]">WeakReference</a><span class="delimiter">(</span><a href="#478754" title="Types.this.CompoundType" class="keyword">this</a><span class="delimiter">)</span>
        <a href="#844446" title="=&gt; A">op1</a>
      <span class="delimiter">}</span>

      <a href="#478713" title="=&gt; scala.collection.mutable.WeakHashMap[List[Types.this.Type],scala.ref.WeakReference[Types.this.Type]]">intersectionWitness</a> <a href="../../../collection/JavaConversions.scala.html#134039" title="(k: List[Types.this.Type])Option[scala.ref.WeakReference[Types.this.Type]]">get</a> <a href="#507168" title="=&gt; List[Types.this.Type]">parents</a> <span title="A" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="A">Some</span><span class="delimiter">(</span><a title="scala.ref.WeakReference[Types.this.Type]" id="844552">ref</a><span class="delimiter">)</span> =&gt;
          <a href="#844552" title="scala.ref.WeakReference[Types.this.Type]">ref</a>.<a href="../../../ref/ReferenceWrapper.scala.html#425283" title="=&gt; Option[Types.this.Type]">get</a> <span title="A" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="A">Some</span><span class="delimiter">(</span><a title="Types.this.Type" id="844554">w</a><span class="delimiter">)</span> =&gt; <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#844554" title="Types.this.Type">w</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#478754" title="Types.this.CompoundType" class="keyword">this</a><span class="delimiter">)</span> <a href="#844446" title="=&gt; A">op1</a> <span class="keyword">else</span> <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)A">op2</a><span class="delimiter">(</span><a href="#844554" title="Types.this.Type">w</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="A">None</a> =&gt; <a href="#844536" title="()A">updateCache</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="A">None</a> =&gt; <a href="#844536" title="()A">updateCache</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Types.this.Type" id="546675">baseType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="844556">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="844558">index</a> = <a href="#507232" title="(sym: Types.this.Symbol)Int">baseTypeIndex</a><span class="delimiter">(</span><a href="#844556" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#844558" title="Int">index</a> <a href="../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="BaseTypeSeqs.scala.html#594268" title="(i: Int)Types.this.Type">baseTypeSeq</a><span class="delimiter">(</span><a href="#844558" title="Int">index</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#843724" title="object Types.this.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546676">narrow</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509308" title="=&gt; Types.this.Type">thisType</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546677">isNotNull</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#507168" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#844575" title="Types.this.Type">_</a>.<a href="#507153" title="=&gt; Boolean">isNotNull</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546678">isStructuralRefinement</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
      <a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509194" title="=&gt; Boolean">isAnonOrRefinementClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">(</span><a href="#507192" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514371" title="=&gt; List[Types.this.Symbol]">toList</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="Types.this.Symbol" id="844587">entry</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#844587" title="Types.this.Symbol">entry</a>.<a href="Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#844587" title="Types.this.Symbol">entry</a>.<a href="Symbols.scala.html#509340" title="=&gt; List[Types.this.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <span class="delimiter">}</span><span class="delimiter">)</span>

    <span class="comment">// override def isNullable: Boolean =</span>
    <span class="comment">// parents forall (p =&gt; p.isNullable &amp;&amp; !p.typeSymbol.isAbstractType);</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="546679">safeToString</a>: <span title="String">String</span> =
      <a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>.<a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot; with &quot;)" class="string">&quot; with &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
      <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#507192" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514334" title="=&gt; Types.this.ScopeEntry">elems</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#507192" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514378" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;{&quot;)" class="string">&quot;{&quot;</span>, <span title="java.lang.String(&quot;; &quot;)" class="string">&quot;; &quot;</span>, <span title="java.lang.String(&quot;}&quot;)" class="string">&quot;}&quot;</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A class representing intersection types with refinements of the form
   *    `&lt;parents_0&gt; with ... with &lt;parents_n&gt; { decls }'
   *  Cannot be created directly;
   *  one should always use `refinedType' for creation.
   */</span>
  case <span class="keyword">class</span> <a title="class RefinedType extends Types.this.CompoundType with ScalaObject with Product with Serializable" id="546655">RefinedType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="List[Types.this.Type]" id="630991">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>,
                         <span class="keyword">override</span> <span class="keyword">val</span> <a title="Types.this.Scope" id="630992">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478754" title="Types.this.CompoundType">CompoundType</a> <span class="delimiter">{</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546687">isHigherKinded</a> = <span class="delimiter">(</span>
      <a href="#630991" title="=&gt; List[Types.this.Type]">parents</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">(</span><a href="#630991" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#844613" title="Types.this.Type">_</a>.<a href="#507150" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a>    <span class="comment">// @MO to AM: please check this class!</span>
    <span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="546688">typeParams</a> =
      <span title="List[Types.this.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#546687" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span> <a href="#630991" title="=&gt; List[Types.this.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a>.<a href="#507182" title="=&gt; List[Types.this.Symbol]">typeParams</a>
      <span class="keyword">else</span> <a href="#546655" title="Types.this.RefinedType" class="keyword">super</a>.<a href="#507182" title="=&gt; List[Types.this.Symbol]">typeParams</a>

    <span class="comment">//@M may result in an invalid type (references to higher-order args become dangling )</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546689">typeConstructor</a> =
      <a href="#478810" title="(original: Types.this.RefinedType, parents: List[Types.this.Type], decls: Types.this.Scope)Types.this.Type">copyRefinedType</a><span class="delimiter">(</span><a href="#546655" title="Types.this.RefinedType" class="keyword">this</a>, <a href="#630991" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#844637" title="Types.this.Type">_</a>.<a href="#507171" title="=&gt; Types.this.Type">typeConstructor</a><span class="delimiter">)</span>, <a href="#630992" title="=&gt; Types.this.Scope">decls</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="546690">dummyArgs</a> = <a href="#546688" title="=&gt; List[Types.this.Symbol]">typeParams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#844687" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509285" title="=&gt; Types.this.Type">typeConstructor</a><span class="delimiter">)</span>

    <span class="comment">/* MO to AM: This is probably not correct
     * If they are several higher-kinded parents with different bounds we need
     * to take the intersection of their bounds
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546691">normalize</a> = <span class="delimiter">{</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#546687" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#478820" title="(tps: List[Types.this.Symbol], body: Types.this.Type)Types.this.Type">typeFun</a><span class="delimiter">(</span>
          <a href="#546688" title="=&gt; List[Types.this.Symbol]">typeParams</a>,
          <a href="#546654" title="(parents: List[Types.this.Type], decls: Types.this.Scope, clazz: Types.this.Symbol)Types.this.RefinedType">RefinedType</a><span class="delimiter">(</span>
            <a href="#630991" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <a href="#844748" title="Types.this.Type" class="delimiter">{</a>
              <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="844749">pre</a>, <a title="Types.this.Symbol" id="844750">sym</a>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Types.this.Type])Some[List[Types.this.Type]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#532513" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">TypeRef</a><span class="delimiter">(</span><a href="#844749" title="Types.this.Type">pre</a>, <a href="#844750" title="Types.this.Symbol">sym</a>, <a href="#546690" title="=&gt; List[Types.this.Type]">dummyArgs</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <a title="Types.this.Type" id="844766">p</a> =&gt; <a href="#844766" title="Types.this.Type">p</a>
            <span class="delimiter">}</span>,
            <a href="#630992" title="=&gt; Types.this.Scope">decls</a>,
            <a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#546655" title="Types.this.RefinedType" class="keyword">super</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>
    <span class="delimiter">}</span>

    <span class="comment">/** A refined type P1 with ... with Pn { decls } is volatile if
     *  one of the parent types Pi is an abstract type, and
     *  either i &gt; 1, or decls or a following parent Pj, j &gt; 1, contributes
     *  an abstract member.
     *  A type contributes an abstract member if it has an abstract member which
     *  is also a member of the whole refined type. A scope `decls' contributes
     *  an abstract member if it has an abstract definition which is also
     *  a member of the whole type.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546692">isVolatile</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(m: Types.this.Symbol)Boolean" id="844798">isVisible</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="844800">m</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#546655" title="RefinedType.this.type" class="keyword">this</a>.<a href="#507201" title="(name: Types.this.Name)Types.this.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#844800" title="Types.this.Symbol">m</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>.<a href="Symbols.scala.html#509299" title="=&gt; List[Types.this.Symbol]">alternatives</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#844800" title="Types.this.Symbol">m</a>
      <span class="keyword">def</span> <a title="(p: Types.this.Type)Boolean" id="844799">contributesAbstractMembers</a><span class="delimiter">(</span><a title="Types.this.Type" id="844801">p</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> =
        <a href="#844801" title="Types.this.Type">p</a>.<a href="#507199" title="=&gt; List[Types.this.Symbol]">deferredMembers</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <a href="#844798" title="(m: Types.this.Symbol)Boolean">isVisible</a>

      <span class="delimiter">(</span><span class="delimiter">(</span><a href="#630991" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#844817" title="Types.this.Type">_</a>.<a href="#507152" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span><span class="delimiter">)</span>
       <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
       <span class="delimiter">(</span><a href="#630991" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#49169" title="(p: Types.this.Type =&gt; Boolean)List[Types.this.Type]">dropWhile</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a> <a href="#844822" title="Types.this.Type">_</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
         <span class="keyword">case</span> <a title="Boolean" id="844823">ps</a> @ <span class="delimiter">(</span>_ :: <a title="List[Types.this.Type]" id="844828">ps1</a><span class="delimiter">)</span> =&gt;
           <span class="delimiter">(</span><a href="#844823" title="collection.immutable.::[Types.this.Type]">ps</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#630991" title="=&gt; List[Types.this.Type]">parents</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
           <span class="delimiter">(</span><a href="#844828" title="List[Types.this.Type]">ps1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <a href="#844799" title="(p: Types.this.Type)Boolean">contributesAbstractMembers</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
           <span class="delimiter">(</span><a href="#630992" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514373" title="=&gt; Iterator[Types.this.Symbol]">iterator</a> <a href="../../../collection/Iterator.scala.html#59158" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Types.this.Symbol" id="844842">m</a> =&gt; <a href="#844842" title="Types.this.Symbol">m</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#844798" title="(m: Types.this.Symbol)Boolean">isVisible</a><span class="delimiter">(</span><a href="#844842" title="Types.this.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
         <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
           <span title="Boolean(false)" class="keyword">false</span>
       <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546693">kind</a> = <span title="java.lang.String(&quot;RefinedType&quot;)" class="string">&quot;RefinedType&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class RefinedType0 extends Types.this.RefinedType with ScalaObject" id="478758">RefinedType0</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[Types.this.Type]" id="844890">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Types.this.Scope" id="844891">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a>, <a title="Types.this.Symbol" id="844892">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#546655" title="Types.this.RefinedType">RefinedType</a><span class="delimiter">(</span><a href="#844890" title="List[Types.this.Type]">parents</a>, <a href="#844891" title="Types.this.Scope">decls</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="844885">typeSymbol</a> = <a href="#844892" title="Types.this.Symbol">clazz</a>
  <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="object Types.this.RefinedType" id="478756">RefinedType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433937" title="Types.this.RefinedTypeExtractor">RefinedTypeExtractor</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(parents: List[Types.this.Type], decls: Types.this.Scope, clazz: Types.this.Symbol)Types.this.RefinedType" id="546654">apply</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="630976">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Types.this.Scope" id="630977">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a>, <a title="Types.this.Symbol" id="630978">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#546655" title="Types.this.RefinedType">RefinedType</a> =
      <span title="Types.this.RefinedType0" class="keyword">new</span> <a href="#478758" title="Types.this.RefinedType0">RefinedType0</a><span class="delimiter">(</span><a href="#630976" title="List[Types.this.Type]">parents</a>, <a href="#630977" title="Types.this.Scope">decls</a>, <a href="#630978" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A class representing a class info
   */</span>
  case <span class="keyword">class</span> <a title="class ClassInfoType extends Types.this.CompoundType with ScalaObject with Product with Serializable" id="546740">ClassInfoType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="List[Types.this.Type]" id="792551">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>,
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Types.this.Scope" id="792552">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a>,
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Types.this.Symbol" id="792553">typeSymbol</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478754" title="Types.this.CompoundType">CompoundType</a>
  <span class="delimiter">{</span>

    <span class="comment">/** refs indices */</span>
    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(0)" id="546751">NonExpansive</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(1)" id="546753">Expansive</a> = <span title="Int(1)" class="int">1</span>

    <span class="comment">/** initialization states */</span>
    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(0)" id="546755">UnInitialized</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(1)" id="546757">Initializing</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(2)" id="546759">Initialized</a> = <span title="Int(2)" class="int">2</span>

    <span class="keyword">private</span> <span class="keyword">type</span> <a title="Map[Types.this.Symbol,scala.collection.immutable.Set[Types.this.Symbol]]" id="546761">RefMap</a> = <a href="../../../collection/immutable/Map.scala.html#13468" title="Map[Types.this.Symbol,scala.collection.immutable.Set[Types.this.Symbol]]">Map</a><span class="delimiter">[</span>Symbol, immutable.Set<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span>

    <span class="comment">/** All type parameters reachable from given type parameter
     *  by a path which contains at least one expansive reference.
     *  @See Kennedy, Pierce: On Decidability of Nominal Subtyping with Variance
     */</span>
    <span class="keyword">def</span> <a title="(tparam: Types.this.Symbol)Set[Types.this.Symbol]" id="546762">expansiveRefs</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="844903">tparam</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#546767" title="=&gt; Int">state</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)">UnInitialized</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#546773" title="()Unit">computeRefs</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#546767" title="=&gt; Int">state</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(2)">Initialized</span><span class="delimiter">)</span> <a href="#546774" title="()Boolean">propagate</a><a href="#844912" title="()Unit" class="delimiter">(</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#546769" title="(which: Int, from: Types.this.Symbol)Set[Types.this.Symbol]">getRefs</a><span class="delimiter">(</span><span title="Int(1)">Expansive</span>, <a href="#844903" title="Types.this.Symbol">tparam</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/* The rest of this class is auxiliary code for `expansiveRefs'
     */</span>

    <span class="comment">/** The type parameters which are referenced type parameters of this class.
     *  Two entries: refs(0): Non-expansive references
     *               refs(1): Expansive references
     */</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Array[ClassInfoType.this.RefMap]" id="546764">refs</a>: <a href="../../../Array.scala.html#1430" title="Array[ClassInfoType.this.RefMap]">Array</a><span class="delimiter">[</span>RefMap<span class="delimiter">]</span> = _

    <span class="comment">/** The initialization state of the class: UnInialized --&gt; Initializing --&gt; Initialized
     */</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="546767">state</a> = <span title="Int(0)">UnInitialized</span>

    <span class="comment">/** Get references for given type parameter
     *  @param  which in {NonExpansive, Expansive}
     *  @param  from  The type parameter from which references originate.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(which: Int, from: Types.this.Symbol)Set[Types.this.Symbol]" id="546769">getRefs</a><span class="delimiter">(</span><a title="Int" id="844919">which</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Types.this.Symbol" id="844920">from</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/Set.scala.html#13576" title="Set[Types.this.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../Array.scala.html#49205" title="(i: Int)ClassInfoType.this.RefMap">refs</a><span class="delimiter">(</span><a href="#844919" title="Int">which</a><span class="delimiter">)</span> <a href="../../../collection/MapLike.scala.html#73194" title="(key: Types.this.Symbol)Option[scala.collection.immutable.Set[Types.this.Symbol]]">get</a> <a href="#844920" title="Types.this.Symbol">from</a> <span title="Set[Types.this.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Set[Types.this.Symbol]">Some</span><span class="delimiter">(</span><a title="scala.collection.immutable.Set[Types.this.Symbol]" id="844935">set</a><span class="delimiter">)</span> =&gt; <a href="#844935" title="scala.collection.immutable.Set[Types.this.Symbol]">set</a>
      <span class="keyword">case</span> <a title="scala.collection.immutable.Set[Types.this.Symbol]" id="844936">none</a> =&gt; <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: Types.this.Symbol*)scala.collection.immutable.Set[Types.this.Symbol]">Set</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Augment existing refs map with reference &lt;pre&gt;from -&gt; to&lt;/pre&gt;
     *  @param  which &lt;- {NonExpansive, Expansive}
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(which: Int, from: Types.this.Symbol, to: Types.this.Symbol)Unit" id="546770">addRef</a><span class="delimiter">(</span><a title="Int" id="844940">which</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Types.this.Symbol" id="844941">from</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Symbol" id="844942">to</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Array.scala.html#49206" title="(i: Int, x: ClassInfoType.this.RefMap)Unit">refs</a><span class="delimiter">(</span><a href="#844940" title="Int">which</a><span class="delimiter">)</span> = <a href="../../../Array.scala.html#49205" title="(i: Int)ClassInfoType.this.RefMap">refs</a><span class="delimiter">(</span><a href="#844940" title="Int">which</a><span class="delimiter">)</span> <a href="../../../collection/immutable/Map.scala.html#56993" title="(kv: (Types.this.Symbol, scala.collection.immutable.Set[Types.this.Symbol]))scala.collection.immutable.Map[Types.this.Symbol,scala.collection.immutable.Set[Types.this.Symbol]]">+</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#9589" title="(x: Types.this.Symbol)ArrowAssoc[Types.this.Symbol]">from</a> <a href="../../../Predef.scala.html#57653" title="(y: scala.collection.immutable.Set[Types.this.Symbol])(Types.this.Symbol, scala.collection.immutable.Set[Types.this.Symbol])">-&gt;</a> <span class="delimiter">(</span><a href="#546769" title="(which: Int, from: Types.this.Symbol)Set[Types.this.Symbol]">getRefs</a><span class="delimiter">(</span><a href="#844940" title="Int">which</a>, <a href="#844941" title="Types.this.Symbol">from</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#65656" title="(elem: Types.this.Symbol)scala.collection.immutable.Set[Types.this.Symbol]">+</a> <a href="#844942" title="Types.this.Symbol">to</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Augment existing refs map with references &lt;pre&gt;from -&gt; sym&lt;/pre&gt;, for
     *  all elements &lt;pre&gt;sym&lt;/pre&gt; of set `to'.
     *  @param  which &lt;- {NonExpansive, Expansive}
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(which: Int, from: Types.this.Symbol, to: Set[Types.this.Symbol])Unit" id="546771">addRefs</a><span class="delimiter">(</span><a title="Int" id="845044">which</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Types.this.Symbol" id="845045">from</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Set[Types.this.Symbol]" id="845046">to</a>: <a href="../../../collection/immutable/Set.scala.html#13576" title="Set[Types.this.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Array.scala.html#49206" title="(i: Int, x: ClassInfoType.this.RefMap)Unit">refs</a><span class="delimiter">(</span><a href="#845044" title="Int">which</a><span class="delimiter">)</span> = <a href="../../../Array.scala.html#49205" title="(i: Int)ClassInfoType.this.RefMap">refs</a><span class="delimiter">(</span><a href="#845044" title="Int">which</a><span class="delimiter">)</span> <a href="../../../collection/immutable/Map.scala.html#56993" title="(kv: (Types.this.Symbol, scala.collection.immutable.Set[Types.this.Symbol]))scala.collection.immutable.Map[Types.this.Symbol,scala.collection.immutable.Set[Types.this.Symbol]]">+</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#9589" title="(x: Types.this.Symbol)ArrowAssoc[Types.this.Symbol]">from</a> <a href="../../../Predef.scala.html#57653" title="(y: scala.collection.immutable.Set[Types.this.Symbol])(Types.this.Symbol, scala.collection.immutable.Set[Types.this.Symbol])">-&gt;</a> <span class="delimiter">(</span><a href="#546769" title="(which: Int, from: Types.this.Symbol)Set[Types.this.Symbol]">getRefs</a><span class="delimiter">(</span><a href="#845044" title="Int">which</a>, <a href="#845045" title="Types.this.Symbol">from</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#65658" title="(elems: scala.collection.GenTraversableOnce[Types.this.Symbol])scala.collection.immutable.Set[Types.this.Symbol]">++</a> <a href="#845046" title="Set[Types.this.Symbol]">to</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** The ClassInfoType which belongs to the class containing given type parameter
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tparam: Types.this.Symbol)Types.this.ClassInfoType" id="546772">classInfo</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="845192">tparam</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#546740" title="Types.this.ClassInfoType">ClassInfoType</a> =
      <a href="#845192" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507173" title="=&gt; Types.this.Type">resultType</a> <span title="Types.this.ClassInfoType" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Types.this.ClassInfoType" id="845197">ci</a>: <a href="#546740" title="Types.this.ClassInfoType">ClassInfoType</a> =&gt; <a href="#845197" title="Types.this.ClassInfoType">ci</a>
        <span class="keyword">case</span> <span title="Types.this.ClassInfoType">_</span> =&gt; <a href="#546772" title="(tparam: Types.this.Symbol)Types.this.ClassInfoType">classInfo</a><span class="delimiter">(</span><a href="Definitions.scala.html#507925" title="=&gt; Types.this.Symbol">ObjectClass</a><span class="delimiter">)</span> <span class="comment">// something's wrong; fall back to safe value</span>
                                         <span class="comment">// (this can happen only for erroneous programs).</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Compute initial (one-step) references and set state to `Initializing'.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="546773">computeRefs</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#546764" title="(x$1: Array[ClassInfoType.this.RefMap])Unit">refs</a> = <a href="../../../Array.scala.html#62681" title="(xs: ClassInfoType.this.RefMap*)(implicit evidence$2: scala.reflect.ClassManifest[ClassInfoType.this.RefMap])Array[ClassInfoType.this.RefMap]">Array</a><a href="../../../reflect/ClassManifest.scala.html#56843" title="(clazz: java.lang.Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[scala.collection.immutable.Map[Types.this.Symbol,scala.collection.immutable.Set[Types.this.Symbol]]]" class="delimiter">(</a><a href="../../../collection/generic/GenMapFactory.scala.html#56702" title="(elems: (Types.this.Symbol, Nothing)*)scala.collection.immutable.Map[Types.this.Symbol,Nothing]">Map</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../collection/generic/GenMapFactory.scala.html#56702" title="(elems: (Types.this.Symbol, Nothing)*)scala.collection.immutable.Map[Types.this.Symbol,Nothing]">Map</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="845292">tparam</a> &lt;- <a href="#792553" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Symbol =&gt; Unit)Unit">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Types.this.TypeMap" id="845293">enterRefs</a> = <a href="#845294" title="Types.this.TypeMap" class="keyword">new</a> <a href="#478842" title="anonymous class $anon extends Types.this.TypeMap" id="845294">TypeMap</a> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="845296">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="845297">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
            <a href="#845297" title="Types.this.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="845300">sym</a>, <a title="List[Types.this.Type]" id="845301">args</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="845395">tparam1</a>, <a title="Types.this.Type" id="845396">arg</a><span class="delimiter">)</span> &lt;- <a href="#845300" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507182" title="=&gt; List[Types.this.Symbol]">typeParams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ((Types.this.Symbol, Types.this.Type)) =&gt; Unit)Unit">zip</a> <a href="#845301" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#845396" title="Types.this.Type">arg</a> <a href="#507218" title="(sym: Types.this.Symbol)Boolean">contains</a> <a href="#845292" title="Types.this.Symbol">tparam</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="#546770" title="(which: Int, from: Types.this.Symbol, to: Types.this.Symbol)Unit">addRef</a><span class="delimiter">(</span><span title="Int(0)">NonExpansive</span>, <a href="#845292" title="Types.this.Symbol">tparam</a>, <a href="#845395" title="Types.this.Symbol">tparam1</a><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#845396" title="Types.this.Type">arg</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#845292" title="Types.this.Symbol">tparam</a><span class="delimiter">)</span> <a href="#546770" title="(which: Int, from: Types.this.Symbol, to: Types.this.Symbol)Unit">addRef</a><span class="delimiter">(</span><span title="Int(1)">Expansive</span>, <a href="#845292" title="Types.this.Symbol">tparam</a>, <a href="#845395" title="Types.this.Symbol">tparam1</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
            <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#845297" title="Types.this.Type">tp</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Type" id="845439">p</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Type =&gt; Types.this.Type)Unit">parents</a><span class="delimiter">)</span> <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type">enterRefs</a><span class="delimiter">(</span><a href="#845439" title="Types.this.Type">p</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#546767" title="(x$1: Int)Unit">state</a> = <span title="Int(1)">Initializing</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Propagate to form transitive closure.
     *  Set state to Initialized if no change resulted from propagation.
     *  @return   true iff there as a change in last iteration
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Boolean" id="546774">propagate</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#546767" title="=&gt; Int">state</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)">UnInitialized</span><span class="delimiter">)</span> <a href="#546773" title="()Unit">computeRefs</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="comment">//Console.println(&quot;Propagate &quot;+symbol+&quot;, initial expansive = &quot;+refs(Expansive)+&quot;, nonexpansive = &quot;+refs(NonExpansive))//DEBUG</span>
      <span class="keyword">val</span> <a title="Array[scala.collection.immutable.Map[Types.this.Symbol,scala.collection.immutable.Set[Types.this.Symbol]]]" id="845443">lastRefs</a> = <a href="../../../Array.scala.html#62681" title="(xs: ClassInfoType.this.RefMap*)(implicit evidence$2: scala.reflect.ClassManifest[ClassInfoType.this.RefMap])Array[ClassInfoType.this.RefMap]">Array</a><a href="../../../reflect/ClassManifest.scala.html#56843" title="(clazz: java.lang.Class[_], arg1: scala.reflect.OptManifest[_], args: scala.reflect.OptManifest[_]*)scala.reflect.ClassManifest[scala.collection.immutable.Map[Types.this.Symbol,scala.collection.immutable.Set[Types.this.Symbol]]]" class="delimiter">(</a><a href="../../../Array.scala.html#49205" title="(i: Int)ClassInfoType.this.RefMap">refs</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <a href="../../../Array.scala.html#49205" title="(i: Int)ClassInfoType.this.RefMap">refs</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#546767" title="(x$1: Int)Unit">state</a> = <span title="Int(2)">Initialized</span>
      <span class="keyword">var</span> <a title="Boolean" id="845444">change</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="845539">from</a>, <a title="scala.collection.immutable.Set[Types.this.Symbol]" id="845540">targets</a><span class="delimiter">)</span> &lt;- <a href="../../../Array.scala.html#49205" title="(i: Int)ClassInfoType.this.RefMap">refs</a><span class="delimiter">(</span><span title="Int(0)">NonExpansive</span><span class="delimiter">)</span>.<a href="../../../collection/Iterator.scala.html#59154" title="(f: ((Types.this.Symbol, scala.collection.immutable.Set[Types.this.Symbol])) =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="845557">target</a> &lt;- <a href="../../../collection/IterableLike.scala.html#53856" title="(f: Types.this.Symbol =&gt; Unit)Unit">targets</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Types.this.ClassInfoType" id="845558">thatInfo</a> = <a href="#546772" title="(tparam: Types.this.Symbol)Types.this.ClassInfoType">classInfo</a><span class="delimiter">(</span><a href="#845557" title="Types.this.Symbol">target</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#845558" title="Types.this.ClassInfoType">thatInfo</a>.<a href="#546767" title="=&gt; Int">state</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(2)">Initialized</span><span class="delimiter">)</span>
            <a href="#845444" title="Boolean">change</a> = <a href="#845444" title="Boolean">change</a> <a href="../../../Boolean.scala.html#55581" title="(x: Boolean)Boolean">|</a> <a href="#845558" title="Types.this.ClassInfoType">thatInfo</a>.<a href="#546774" title="()Boolean">propagate</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#546771" title="(which: Int, from: Types.this.Symbol, to: Set[Types.this.Symbol])Unit">addRefs</a><span class="delimiter">(</span><span title="Int(0)">NonExpansive</span>, <a href="#845539" title="Types.this.Symbol">from</a>, <a href="#845558" title="Types.this.ClassInfoType">thatInfo</a>.<a href="#546769" title="(which: Int, from: Types.this.Symbol)Set[Types.this.Symbol]">getRefs</a><span class="delimiter">(</span><span title="Int(0)">NonExpansive</span>, <a href="#845557" title="Types.this.Symbol">target</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#546771" title="(which: Int, from: Types.this.Symbol, to: Set[Types.this.Symbol])Unit">addRefs</a><span class="delimiter">(</span><span title="Int(1)">Expansive</span>, <a href="#845539" title="Types.this.Symbol">from</a>, <a href="#845558" title="Types.this.ClassInfoType">thatInfo</a>.<a href="#546769" title="(which: Int, from: Types.this.Symbol)Set[Types.this.Symbol]">getRefs</a><span class="delimiter">(</span><span title="Int(1)">Expansive</span>, <a href="#845557" title="Types.this.Symbol">target</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="845586">from</a>, <a title="scala.collection.immutable.Set[Types.this.Symbol]" id="845587">targets</a><span class="delimiter">)</span> &lt;- <a href="../../../Array.scala.html#49205" title="(i: Int)ClassInfoType.this.RefMap">refs</a><span class="delimiter">(</span><span title="Int(1)">Expansive</span><span class="delimiter">)</span>.<a href="../../../collection/Iterator.scala.html#59154" title="(f: ((Types.this.Symbol, scala.collection.immutable.Set[Types.this.Symbol])) =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="845604">target</a> &lt;- <a href="../../../collection/IterableLike.scala.html#53856" title="(f: Types.this.Symbol =&gt; Unit)Unit">targets</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Types.this.ClassInfoType" id="845605">thatInfo</a> = <a href="#546772" title="(tparam: Types.this.Symbol)Types.this.ClassInfoType">classInfo</a><span class="delimiter">(</span><a href="#845604" title="Types.this.Symbol">target</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#845605" title="Types.this.ClassInfoType">thatInfo</a>.<a href="#546767" title="=&gt; Int">state</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(2)">Initialized</span><span class="delimiter">)</span>
            <a href="#845444" title="Boolean">change</a> = <a href="#845444" title="Boolean">change</a> <a href="../../../Boolean.scala.html#55581" title="(x: Boolean)Boolean">|</a> <a href="#845605" title="Types.this.ClassInfoType">thatInfo</a>.<a href="#546774" title="()Boolean">propagate</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#546771" title="(which: Int, from: Types.this.Symbol, to: Set[Types.this.Symbol])Unit">addRefs</a><span class="delimiter">(</span><span title="Int(1)">Expansive</span>, <a href="#845586" title="Types.this.Symbol">from</a>, <a href="#845605" title="Types.this.ClassInfoType">thatInfo</a>.<a href="#546769" title="(which: Int, from: Types.this.Symbol)Set[Types.this.Symbol]">getRefs</a><span class="delimiter">(</span><span title="Int(0)">NonExpansive</span>, <a href="#845604" title="Types.this.Symbol">target</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <a href="#845444" title="Boolean">change</a> = <a href="#845444" title="Boolean">change</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Array.scala.html#49205" title="(i: Int)ClassInfoType.this.RefMap">refs</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../Array.scala.html#49205" title="(i: Int)scala.collection.immutable.Map[Types.this.Symbol,scala.collection.immutable.Set[Types.this.Symbol]]">lastRefs</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Array.scala.html#49205" title="(i: Int)ClassInfoType.this.RefMap">refs</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../Array.scala.html#49205" title="(i: Int)scala.collection.immutable.Map[Types.this.Symbol,scala.collection.immutable.Set[Types.this.Symbol]]">lastRefs</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#845444" title="Boolean">change</a><span class="delimiter">)</span> <a href="#546767" title="(x$1: Int)Unit">state</a> = <span title="Int(1)">Initializing</span>
      <span class="comment">//else Console.println(&quot;Propagate &quot;+symbol+&quot;, final expansive = &quot;+refs(Expansive)+&quot;, nonexpansive = &quot;+refs(NonExpansive))//DEBUG</span>
      <a href="#845444" title="Boolean">change</a>
    <span class="delimiter">}</span>

    <span class="comment">// override def isNullable: Boolean =</span>
    <span class="comment">// symbol == AnyClass ||</span>
    <span class="comment">// symbol != NothingClass &amp;&amp; (symbol isSubClass ObjectClass) &amp;&amp; !(symbol isSubClass NonNullClass);</span>

    <span class="comment">// override def isNonNull: Boolean = symbol == NonNullClass || super.isNonNull;</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546775">kind</a> = <span title="java.lang.String(&quot;ClassInfoType&quot;)" class="string">&quot;ClassInfoType&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Types.this.ClassInfoType" id="478760">ClassInfoType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433938" title="Types.this.ClassInfoTypeExtractor">ClassInfoTypeExtractor</a>

  <span class="keyword">class</span> <a title="class PackageClassInfoType extends Types.this.ClassInfoType with ScalaObject" id="478762">PackageClassInfoType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Scope" id="833613">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a>, <a title="Types.this.Symbol" id="833614">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#546740" title="Types.this.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#833613" title="Types.this.Scope">decls</a>, <a href="#833614" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>

  <span class="comment">/** A class representing a constant type.
   *
   *  @param value ...
   */</span>
  <span class="keyword">abstract</span> case <span class="keyword">class</span> <a href="../../../runtime/ScalaRunTime.scala.html#62573" title="class ConstantType extends Types.this.SingletonType with ScalaObject with Product with Serializable" id="546501">ConstantType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Constant" id="546509">value</a>: <a href="../../../reflect/generic/Constants.scala.html#433981" title="Types.this.Constant">Constant</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478726" title="Types.this.SingletonType">SingletonType</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546494">underlying</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#546509" title="=&gt; Types.this.Constant">value</a>.<a href="../../../reflect/generic/Constants.scala.html#434223" title="=&gt; Types.this.Type">tpe</a>
    <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#546494" title="=&gt; Types.this.Type">underlying</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Definitions.scala.html#508423" title="=&gt; Types.this.Symbol">UnitClass</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546495">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546496">isNotNull</a> = <a href="#546509" title="=&gt; Types.this.Constant">value</a>.<a href="../../../reflect/generic/Constants.scala.html#434211" title="=&gt; Any">value</a> <span title="(x$1: Any)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546497">deconst</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#546494" title="=&gt; Types.this.Type">underlying</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="546498">safeToString</a>: <span title="String">String</span> =
      <a href="#546494" title="=&gt; Types.this.Type">underlying</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#546509" title="=&gt; Types.this.Constant">value</a>.<a href="../../../reflect/generic/Constants.scala.html#434237" title="=&gt; String">escapedStringValue</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
    <span class="comment">// override def isNullable: Boolean = value.value eq null</span>
    <span class="comment">// override def isNonNull: Boolean = value.value ne null</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546499">kind</a> = <span title="java.lang.String(&quot;ConstantType&quot;)" class="string">&quot;ConstantType&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class UniqueConstantType extends Types.this.ConstantType with Types.this.UniqueType with ScalaObject" id="478766">UniqueConstantType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Constant" id="845715">value</a>: <a href="../../../reflect/generic/Constants.scala.html#433981" title="Types.this.Constant">Constant</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#546501" title="Types.this.ConstantType">ConstantType</a><span class="delimiter">(</span><a href="#845715" title="Types.this.Constant">value</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#478721" title="Types.this.UniqueType">UniqueType</a> <span class="delimiter">{</span>
    <span class="comment">/** Save the type of 'value'. For Java enums, it depends on finding the linked class,
     *  which might not be found after 'flatten'. */</span>
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Types.this.Type" id="845711">_tpe</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#845715" title="Types.this.Constant">value</a>.<a href="../../../reflect/generic/Constants.scala.html#434223" title="=&gt; Types.this.Type">tpe</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="845712">underlying</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#845710" title="=&gt; Types.this.Type">_tpe</a>
  <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="object Types.this.ConstantType" id="478764">ConstantType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433939" title="Types.this.ConstantTypeExtractor">ConstantTypeExtractor</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(value: Types.this.Constant)Types.this.ConstantType" id="546489">apply</a><span class="delimiter">(</span><a title="Types.this.Constant" id="549997">value</a>: <a href="../../../reflect/generic/Constants.scala.html#433981" title="Types.this.Constant">Constant</a><span class="delimiter">)</span>: <a href="#546501" title="Types.this.ConstantType">ConstantType</a> = <span class="delimiter">{</span>
      <a href="#478834" title="(tp: Types.this.UniqueConstantType)Types.this.UniqueConstantType">unique</a><span class="delimiter">(</span><span title="Types.this.UniqueConstantType" class="keyword">new</span> <a href="#478766" title="Types.this.UniqueConstantType">UniqueConstantType</a><span class="delimiter">(</span><a href="#549997" title="Types.this.Constant">value</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Types.this.ConstantType" class="delimiter">[</span><a href="#546501" title="Types.this.ConstantType">ConstantType</a><span class="delimiter">]</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="478768">volatileRecursions</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Types.this.Symbol]" id="478770">pendingVolatiles</a> = <a href="../../../collection/mutable/HashSet.scala.html#108311" title="()scala.collection.mutable.HashSet[Types.this.Symbol]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashSet.scala.html#14593" title="scala.collection.mutable.HashSet[Types.this.Symbol]">HashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

  <span class="comment">/** A class for named types of the form
   *  `&lt;prefix&gt;.&lt;sym.name&gt;[args]'
   *  Cannot be created directly; one should always use `typeRef'
   *  for creation. (@M: Otherwise hashing breaks)
   *
   * @M: a higher-kinded type is represented as a TypeRef with sym.info.typeParams.nonEmpty, but args.isEmpty
   *  @param pre  ...
   *  @param sym  ...
   *  @param args ...
   */</span>
  <span class="keyword">abstract</span> case <span class="keyword">class</span> <a href="../../../runtime/ScalaRunTime.scala.html#62573" title="class TypeRef extends Types.this.Type with ScalaObject with Product with Serializable" id="532591">TypeRef</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="532613">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="532614">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="List[Types.this.Type]" id="532615">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
<span class="comment">//    assert(!sym.isAbstractType || pre.isStable || pre.isError)</span>
<span class="comment">//    assert(!pre.isInstanceOf[ClassInfoType], this)</span>
<span class="comment">//    assert(!(sym hasFlag (PARAM | EXISTENTIAL)) || pre == NoPrefix, this)</span>
<span class="comment">//    assert(args.isEmpty || !sym.info.typeParams.isEmpty, this)</span>
<span class="comment">//    assert(args.isEmpty || ((sym ne AnyClass) &amp;&amp; (sym ne NothingClass))</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[Types.this.Type]" id="532525">parentsCache</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = _
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="532528">parentsPeriod</a> = <span title="Int(0)">NoPeriod</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Types.this.BaseTypeSeq" id="532531">baseTypeSeqCache</a>: <a href="BaseTypeSeqs.scala.html#479035" title="Types.this.BaseTypeSeq">BaseTypeSeq</a> = _
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="532534">baseTypeSeqPeriod</a> = <span title="Int(0)">NoPeriod</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Types.this.Type" id="532537">symInfoCache</a>: <a href="#478720" title="Types.this.Type">Type</a> = _
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Types.this.Type" id="532540">memberInfoCache</a>: <a href="#478720" title="Types.this.Type">Type</a> = _
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Types.this.Type" id="532543">thisInfoCache</a>: <a href="#478720" title="Types.this.Type">Type</a> = _
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Types.this.Type" id="532546">relativeInfoCache</a>: <a href="#478720" title="Types.this.Type">Type</a> = _

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Types.this.Type" id="532549">normalized</a>: <a href="#478720" title="Types.this.Type">Type</a> = <span title="Null(null)" class="keyword">null</span>


    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="532551">isStable</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="#532614" title="=&gt; Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
      <a href="#532614" title="=&gt; Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#508049" title="=&gt; Types.this.Symbol">SingletonClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
      <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#532581" title="=&gt; Types.this.Type">normalize</a>.<a href="#507151" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
      <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#532564" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="Symbols.scala.html#509297" title="(that: Types.this.Symbol)Boolean">isSubClass</a> <a href="Definitions.scala.html#508049" title="=&gt; Types.this.Symbol">SingletonClass</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="532552">isVolatile</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#532581" title="=&gt; Types.this.Type">normalize</a>.<a href="#507152" title="=&gt; Boolean">isVolatile</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
      <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
        <span class="comment">// need to be careful not to fall into an infinite recursion here</span>
        <span class="comment">// because volatile checking is done before all cycles are detected.</span>
        <span class="comment">// the case to avoid is an abstract type directly or</span>
        <span class="comment">// indirectly upper-bounded by itself. See #2918</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#478768" title="(x$1: Int)Unit">volatileRecursions</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#478768" title="=&gt; Int">volatileRecursions</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(50)">LogVolatileThreshold</span><span class="delimiter">)</span>
            <a href="#532564" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a>.<a href="#507152" title="=&gt; Boolean">isVolatile</a>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: Types.this.Symbol)Boolean">pendingVolatiles</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Boolean(true)" class="keyword">true</span> <span class="comment">// we can return true here, because a cycle will be detected</span>
                 <span class="comment">// here afterwards and an error will result anyway.</span>
          <span class="keyword">else</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
              <a href="#478770" title="=&gt; scala.collection.mutable.HashSet[Types.this.Symbol]">pendingVolatiles</a> <a href="../../../collection/mutable/HashSet.scala.html#108315" title="(elem: Types.this.Symbol)Types.this.pendingVolatiles.type">+=</a> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>
              <a href="#532564" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a>.<a href="#507152" title="=&gt; Boolean">isVolatile</a>
            <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
              <a href="#478770" title="=&gt; scala.collection.mutable.HashSet[Types.this.Symbol]">pendingVolatiles</a> <a href="../../../collection/mutable/HashSet.scala.html#108316" title="(elem: Types.this.Symbol)Types.this.pendingVolatiles.type">-=</a> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
          <a href="#478768" title="(x$1: Int)Unit">volatileRecursions</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="532554">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435391" title="=&gt; Boolean">isTypeParameter</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#532613" title="=&gt; Types.this.Type">pre</a>.<a href="#507149" title="=&gt; Boolean">isTrivial</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#532615" title="=&gt; List[Types.this.Type]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a><span class="delimiter">(</span><a href="#845801" title="Types.this.Type">_</a>.<a href="#507149" title="=&gt; Boolean">isTrivial</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="532555">isNotNull</a> =
      <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="Definitions.scala.html#508366" title="(sym: Types.this.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#532591" title="Types.this.TypeRef" class="keyword">super</a>.<a href="#507153" title="=&gt; Boolean">isNotNull</a>

    <span class="comment">// @M: propagate actual type params (args) to `tp', by replacing formal type parameters with actual ones</span>
    <span class="comment">// if tp is higher kinded, the &quot;actual&quot; type arguments are types that simply reference the corresponding type parameters  (unbound type variables)</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="532556">transform</a><span class="delimiter">(</span><a title="Types.this.Type" id="845812">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="845814">res</a> = <a href="#845812" title="Types.this.Type">tp</a>.<a href="#507205" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#532613" title="=&gt; Types.this.Type">pre</a>, <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#532615" title="=&gt; List[Types.this.Type]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#845822" title="Types.this.Type">_</a>.<a href="#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478854" title="(sym: Types.this.Symbol, args: List[Types.this.Type])Boolean">isRaw</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>, <a href="#532615" title="=&gt; List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="comment">/*#2266/2305*/</span><span class="delimiter">)</span> <a href="#845814" title="Types.this.Type">res</a>
      <span class="keyword">else</span> <a href="#845814" title="Types.this.Type">res</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#532570" title="=&gt; List[Types.this.Type]">typeArgsOrDummies</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">//@M! use appliedType on the polytype that represents the bounds (or if aliastype, the rhs)</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="532557">transformInfo</a><span class="delimiter">(</span><a title="Types.this.Type" id="845883">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478817" title="(tycon: Types.this.Type, args: List[Types.this.Type])Types.this.Type">appliedType</a><span class="delimiter">(</span><a href="#845883" title="Types.this.Type">tp</a>.<a href="#507205" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#532613" title="=&gt; Types.this.Type">pre</a>, <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span>, <a href="#532570" title="=&gt; List[Types.this.Type]">typeArgsOrDummies</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="532558">thisInfo</a>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#532581" title="=&gt; Types.this.Type">normalize</a>
      <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509167" title="=&gt; Boolean">isNonClassType</a><span class="delimiter">)</span> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="845887">symInfo</a> = <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#532543" title="=&gt; Types.this.Type">thisInfoCache</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#845887" title="Types.this.Type">symInfo</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#532537" title="=&gt; Types.this.Type">symInfoCache</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#532537" title="(x$1: Types.this.Type)Unit">symInfoCache</a> = <a href="#845887" title="Types.this.Type">symInfo</a>
          <a href="#532543" title="(x$1: Types.this.Type)Unit">thisInfoCache</a> = <a href="#532557" title="(tp: Types.this.Type)Types.this.Type">transformInfo</a><span class="delimiter">(</span><a href="#845887" title="Types.this.Type">symInfo</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#532543" title="=&gt; Types.this.Type">thisInfoCache</a>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="532559">relativeInfo</a>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509167" title="=&gt; Boolean">isNonClassType</a><span class="delimiter">)</span> <a href="#532613" title="=&gt; Types.this.Type">pre</a>.<a href="#507206" title="(sym: Types.this.Symbol)Types.this.Type">memberInfo</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="845895">memberInfo</a> = <a href="#532613" title="=&gt; Types.this.Type">pre</a>.<a href="#507206" title="(sym: Types.this.Symbol)Types.this.Type">memberInfo</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#532546" title="=&gt; Types.this.Type">relativeInfoCache</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#845895" title="Types.this.Type">memberInfo</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#532540" title="=&gt; Types.this.Type">memberInfoCache</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#532540" title="(x$1: Types.this.Type)Unit">memberInfoCache</a> = <a href="#845895" title="Types.this.Type">memberInfo</a>
          <a href="#532546" title="(x$1: Types.this.Type)Unit">relativeInfoCache</a> = <a href="#532557" title="(tp: Types.this.Type)Types.this.Type">transformInfo</a><span class="delimiter">(</span><a href="#845895" title="Types.this.Type">memberInfo</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#532546" title="=&gt; Types.this.Type">relativeInfoCache</a>
      <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="532560">typeSymbol</a> = <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#532581" title="=&gt; Types.this.Type">normalize</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span class="keyword">else</span> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="532561">termSymbol</a> = <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#532581" title="=&gt; Types.this.Type">normalize</a>.<a href="#507158" title="=&gt; Types.this.Symbol">termSymbol</a> <span class="keyword">else</span> <a href="#532591" title="Types.this.TypeRef" class="keyword">super</a>.<a href="#507158" title="=&gt; Types.this.Symbol">termSymbol</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="532562">typeSymbolDirect</a> = <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="532563">termSymbolDirect</a> = <a href="#532591" title="Types.this.TypeRef" class="keyword">super</a>.<a href="#507158" title="=&gt; Types.this.Symbol">termSymbol</a>

<span class="comment">/* @MAT
whenever you see `tp.typeSymbol.isXXXX' and then act on tp based on that predicate, you're on thin ice,
as `typeSymbol' (and `prefix') automatically normalize, but the other inspectors don't.
In other words, even if `tp.normalize.sym.isXXX' is true, `tp.sym.isXXX' may be false (if sym were a public method to access the non-normalized typeSymbol)...

In retrospect, I think `tp.typeSymbol.isXXX' or (worse) `tp.typeSymbol==XXX' should be replaced by `val tp = tp0.asXXX'.
A type's typeSymbol should never be inspected directly.
*/</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.TypeBounds" id="532564">bounds</a>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a> =
      <span title="Types.this.TypeBounds" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <a href="#532558" title="=&gt; Types.this.Type">thisInfo</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a> <span class="comment">// transform(thisInfo.bounds).asInstanceOf[TypeBounds] // ??? seems to be doing asSeenFrom twice</span>
      <span class="keyword">else</span> <a href="#532591" title="Types.this.TypeRef" class="keyword">super</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="532565">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="845912">period</a> = <a href="#532528" title="=&gt; Int">parentsPeriod</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#845912" title="Int">period</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="SymbolTable.scala.html#478181" title="=&gt; Types.this.Period">currentPeriod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#532528" title="(x$1: Int)Unit">parentsPeriod</a> = <a href="SymbolTable.scala.html#478181" title="=&gt; Types.this.Period">currentPeriod</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478191" title="(period: Types.this.Period)Boolean">isValidForBaseClasses</a><span class="delimiter">(</span><a href="#845912" title="Int">period</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#532525" title="(x$1: List[Types.this.Type])Unit">parentsCache</a> = <a href="#532558" title="=&gt; Types.this.Type">thisInfo</a>.<a href="#507168" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <a href="#532556" title="(tp: Types.this.Type)Types.this.Type">transform</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#532525" title="=&gt; List[Types.this.Type]">parentsCache</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// seems this can happen if things are currupted enough, see #2641</span>
          <a href="#532525" title="(x$1: List[Types.this.Type])Unit">parentsCache</a> = <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Type*)List[Types.this.Type]">List</a><span class="delimiter">(</span><a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#532525" title="=&gt; List[Types.this.Type]">parentsCache</a>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="532566">typeOfThis</a> = <a href="#532556" title="(tp: Types.this.Type)Types.this.Type">transform</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509307" title="=&gt; Types.this.Type">typeOfThis</a><span class="delimiter">)</span>

<span class="comment">/*
    override def narrow =
      if (sym.isModuleClass) transform(sym.thisType)
      else if (sym.isAliasType) normalize.narrow
      else super.narrow
*/</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="532567">narrow</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span> <a href="#478807" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">singleType</a><span class="delimiter">(</span><a href="#532613" title="=&gt; Types.this.Type">pre</a>, <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435366" title="=&gt; Types.this.Symbol">sourceModule</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#532581" title="=&gt; Types.this.Type">normalize</a>.<a href="#507166" title="=&gt; Types.this.Type">narrow</a>
      <span class="keyword">else</span> <a href="#532591" title="Types.this.TypeRef" class="keyword">super</a>.<a href="#507166" title="=&gt; Types.this.Type">narrow</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="532568">prefix</a>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#532581" title="=&gt; Types.this.Type">normalize</a>.<a href="#507169" title="=&gt; Types.this.Type">prefix</a>
      <span class="keyword">else</span> <a href="#532613" title="=&gt; Types.this.Type">pre</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="532569">typeArgs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#532615" title="=&gt; List[Types.this.Type]">args</a>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="532570">typeArgsOrDummies</a> = <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#532575" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span> <a href="#532615" title="=&gt; List[Types.this.Type]">args</a> <span class="keyword">else</span> <a href="#532572" title="=&gt; List[Types.this.Type]">dummyArgs</a>
    <span class="comment">// def hasFishyArgs = args == dummyArgs</span>

    <span class="comment">// @MAT was typeSymbol.unsafeTypeParams, but typeSymbol normalizes now</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="532571">typeParamsDirect</a> =
      <span title="List[Types.this.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="Definitions.scala.html#507876" title="=&gt; Boolean">isDefinitionsInitialized</a><span class="delimiter">)</span> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>
      <span class="keyword">else</span> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509286" title="=&gt; List[Types.this.Symbol]">unsafeTypeParams</a>

    <span class="comment">// placeholders derived from type params</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="532572">dummyArgs</a> = <span class="delimiter">{</span>
      <span class="comment">// @PP to @AM: this appears to me a place where</span>
      <span class="comment">// higher-order tparams are going off the beam.</span>
      <span class="comment">// if (sym.isAbstractType) { something goes wrong }</span>

      <span class="comment">//@M must be .typeConstructor</span>
      <a href="#532571" title="=&gt; List[Types.this.Symbol]">typeParamsDirect</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#845855" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509285" title="=&gt; Types.this.Type">typeConstructor</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// (!result.isEmpty) IFF isHigherKinded</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="532573">typeParams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="List[Types.this.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#532575" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span> <a href="#532571" title="=&gt; List[Types.this.Symbol]">typeParamsDirect</a> <span class="keyword">else</span> List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="comment">// note: does not go through typeRef. There's no need to because</span>
    <span class="comment">// neither `pre` nor `sym` changes.  And there's a performance</span>
    <span class="comment">// advantage to call TypeRef directly.</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="532574">typeConstructor</a> = <a href="#532513" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">TypeRef</a><span class="delimiter">(</span><a href="#532613" title="=&gt; Types.this.Type">pre</a>, <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>

    <span class="comment">// A reference (in a Scala program) to a type that has type</span>
    <span class="comment">// parameters, but where the reference does not include type</span>
    <span class="comment">// arguments. Note that it doesn't matter whether the symbol refers</span>
    <span class="comment">// to a java or scala symbol, it does matter whether it occurs in</span>
    <span class="comment">// java or scala code. TypeRefs w/o type params that occur in java</span>
    <span class="comment">// signatures/code are considered raw types, and are represented as</span>
    <span class="comment">// existential types.</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="532575">isHigherKinded</a> = <a href="#532615" title="=&gt; List[Types.this.Type]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#532571" title="=&gt; List[Types.this.Symbol]">typeParamsDirect</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type" id="532576">instantiateTypeParams</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="845999">formals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="846000">actuals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532575" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="846002">substTps</a> = <a href="#845999" title="List[Types.this.Symbol]">formals</a>.<a href="../../../collection/SeqLike.scala.html#54131" title="(that: scala.collection.GenSeq[Types.this.Symbol])List[Types.this.Symbol]">intersect</a><span class="delimiter">(</span><a href="#532573" title="=&gt; List[Types.this.Symbol]">typeParams</a><span class="delimiter">)</span>

        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#846002" title="List[Types.this.Symbol]">substTps</a>, <a href="#532573" title="=&gt; List[Types.this.Symbol]">typeParams</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#478812" title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#532591" title="Types.this.TypeRef" class="keyword">this</a>, <a href="#532613" title="=&gt; Types.this.Type">pre</a>, <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>, <a href="#846000" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#845999" title="List[Types.this.Symbol]">formals</a>, <a href="#846000" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// partial application (needed in infer when bunching type arguments from classes and methods together)</span>
          <a href="#478812" title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#532591" title="Types.this.TypeRef" class="keyword">this</a>, <a href="#532613" title="=&gt; Types.this.Type">pre</a>, <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>, <a href="#532572" title="=&gt; List[Types.this.Type]">dummyArgs</a><span class="delimiter">)</span>.<a href="#507209" title="(from: List[Types.this.Symbol], to: List[Types.this.Type])Types.this.Type">subst</a><span class="delimiter">(</span><a href="#845999" title="List[Types.this.Symbol]">formals</a>, <a href="#846000" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#843657" title="object Types.this.ErrorType">ErrorType</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span>
        <a href="#532591" title="Types.this.TypeRef" class="keyword">super</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#845999" title="List[Types.this.Symbol]">formals</a>, <a href="#846000" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span>


    <span class="comment">/** @pre: sym.info.typeParams.length == typeArgs.length */</span>
    @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="532577">betaReduce</a>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <span class="comment">// isHKSubType0 introduces synthetic type params so that</span>
      <span class="comment">// betaReduce can first apply sym.info to typeArgs before calling</span>
      <span class="comment">// asSeenFrom.  asSeenFrom then skips synthetic type params, which</span>
      <span class="comment">// are used to reduce HO subtyping to first-order subtyping, but</span>
      <span class="comment">// which can't be instantiated from the given prefix and class.</span>
      <a href="#532556" title="(tp: Types.this.Type)Types.this.Type">transform</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507173" title="=&gt; Types.this.Type">resultType</a><span class="delimiter">)</span>
      <span class="comment">//</span>
      <span class="comment">// this crashes pos/depmet_implicit_tpbetareduce.scala</span>
      <span class="comment">// appliedType(sym.info, typeArgs).asSeenFrom(pre, sym.owner)</span>
    <span class="delimiter">}</span>

    <span class="comment">// @M: initialize (by sym.info call) needed (see test/files/pos/ticket0137.scala)</span>
    @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="532578">etaExpand</a>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="846023">tpars</a> = <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507182" title="=&gt; List[Types.this.Symbol]">typeParams</a> <span class="comment">// must go through sym.info for typeParams to initialise symbol</span>
      <a href="#478819" title="(tps: List[Types.this.Symbol], body: Types.this.Type)Types.this.Type">typeFunAnon</a><span class="delimiter">(</span><a href="#846023" title="List[Types.this.Symbol]">tpars</a>, <a href="#478812" title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#532591" title="Types.this.TypeRef" class="keyword">this</a>, <a href="#532613" title="=&gt; Types.this.Type">pre</a>, <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>, <a href="#846023" title="List[Types.this.Symbol]">tpars</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#846043" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509271" title="=&gt; Types.this.Type">tpeHK</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// todo: also beta-reduce?</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="532579">dealias</a>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507182" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#532615" title="=&gt; List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#532577" title="=&gt; Types.this.Type">betaReduce</a>.<a href="#507189" title="=&gt; Types.this.Type">dealias</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#532591" title="Types.this.TypeRef" class="keyword">this</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="532580">normalize0</a>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532613" title="=&gt; Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843675" title="object Types.this.WildcardType">WildcardType</a><span class="delimiter">)</span> <a href="#843675" title="object Types.this.WildcardType">WildcardType</a> <span class="comment">// arises when argument-dependent types are approximated (see def depoly in implicits)</span>
      <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532575" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span> <a href="#532578" title="=&gt; Types.this.Type">etaExpand</a>   <span class="comment">// eta-expand, subtyping relies on eta-expansion of higher-kinded types</span>
      <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507182" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#532615" title="=&gt; List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
                               <a href="#532577" title="=&gt; Types.this.Type">betaReduce</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a> <span class="comment">// beta-reduce, but don't do partial application -- cycles have been checked in typeRef</span>
      <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a><span class="delimiter">)</span>
                               <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a> <span class="comment">// I think this is okay, but see #1241 (r12414), #2208, and typedTypeConstructor in Typers</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Types.this.Type" class="keyword">if</span><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#843657" title="object Types.this.ErrorType">ErrorType</a> <span class="comment">//println(&quot;!!error: &quot;+(pre, sym, sym.info, sym.info.typeParams, args))</span>
        <span class="keyword">else</span> <a href="#532591" title="Types.this.TypeRef" class="keyword">super</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>
      <span class="delimiter">}</span>

   <span class="comment">// TODO: test case that is compiled  in a specific order and in different runs</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="532581">normalize</a>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#532580" title="=&gt; Types.this.Type">normalize0</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#532549" title="=&gt; Types.this.Type">normalized</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#532549" title="(x$1: Types.this.Type)Unit">normalized</a> = <a href="#532580" title="=&gt; Types.this.Type">normalize0</a>

        <a href="#532549" title="=&gt; Types.this.Type">normalized</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Scope" id="532582">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a> = <span class="delimiter">{</span>
      <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="846087">sym1</a>, _<span class="delimiter">)</span> =&gt;
          <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#846087" title="Types.this.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>, <a href="#532591" title="Types.this.TypeRef" class="keyword">this</a><span class="delimiter">)</span> <span class="comment">// @MAT was != typeSymbol</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
      <a href="#532558" title="=&gt; Types.this.Type">thisInfo</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol)Types.this.Type" id="532583">baseType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="846094">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#846094" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span> <a href="#532591" title="Types.this.TypeRef" class="keyword">this</a>
      <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#532556" title="(tp: Types.this.Type)Types.this.Type">transform</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#846094" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#478918" title="(x$1: Int)Unit">basetypeRecursions</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478918" title="=&gt; Int">basetypeRecursions</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(50)">LogPendingBaseTypesThreshold</span><span class="delimiter">)</span>
            <a href="#532559" title="=&gt; Types.this.Type">relativeInfo</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#846094" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478920" title="=&gt; scala.collection.mutable.HashSet[Types.this.Type]">pendingBaseTypes</a> <a href="../../../collection/mutable/HashSet.scala.html#108314" title="(elem: Types.this.Type)Boolean">contains</a> <a href="#532591" title="Types.this.TypeRef" class="keyword">this</a><span class="delimiter">)</span>
            <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#846094" title="Types.this.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a><span class="delimiter">)</span> <a href="#846094" title="Types.this.Symbol">clazz</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a> <span class="keyword">else</span> <a href="#843724" title="object Types.this.NoType">NoType</a>
          <span class="keyword">else</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
              <a href="#478920" title="=&gt; scala.collection.mutable.HashSet[Types.this.Type]">pendingBaseTypes</a> <a href="../../../collection/mutable/HashSet.scala.html#108315" title="(elem: Types.this.Type)Types.this.pendingBaseTypes.type">+=</a> <a href="#532591" title="Types.this.TypeRef" class="keyword">this</a>
              <a href="#532559" title="=&gt; Types.this.Type">relativeInfo</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#846094" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
              <a href="#478920" title="=&gt; scala.collection.mutable.HashSet[Types.this.Type]">pendingBaseTypes</a> <a href="../../../collection/mutable/HashSet.scala.html#108316" title="(elem: Types.this.Type)Types.this.pendingBaseTypes.type">-=</a> <a href="#532591" title="Types.this.TypeRef" class="keyword">this</a>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
          <a href="#478918" title="(x$1: Int)Unit">basetypeRecursions</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.BaseTypeSeq" id="532584">baseTypeSeq</a>: <a href="BaseTypeSeqs.scala.html#479035" title="Types.this.BaseTypeSeq">BaseTypeSeq</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="846138">period</a> = <a href="#532534" title="=&gt; Int">baseTypeSeqPeriod</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#846138" title="Int">period</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="SymbolTable.scala.html#478181" title="=&gt; Types.this.Period">currentPeriod</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#532534" title="(x$1: Int)Unit">baseTypeSeqPeriod</a> = <a href="SymbolTable.scala.html#478181" title="=&gt; Types.this.Period">currentPeriod</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478191" title="(period: Types.this.Period)Boolean">isValidForBaseClasses</a><span class="delimiter">(</span><a href="#846138" title="Int">period</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478525" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typerefBaseTypeSeqCount</a><span class="delimiter">)</span>
          <a href="#532531" title="(x$1: Types.this.BaseTypeSeq)Unit">baseTypeSeqCache</a> = <a href="BaseTypeSeqs.scala.html#479036" title="=&gt; Types.this.BaseTypeSeq">undetBaseTypeSeq</a>
          <a href="#532531" title="(x$1: Types.this.BaseTypeSeq)Unit">baseTypeSeqCache</a> =
            <span title="Types.this.BaseTypeSeq" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <a href="#532556" title="(tp: Types.this.Type)Types.this.Type">transform</a><span class="delimiter">(</span><a href="#532564" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a><span class="delimiter">)</span>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a> <a href="BaseTypeSeqs.scala.html#594273" title="(tp: Types.this.Type)Types.this.BaseTypeSeq">prepend</a> <a href="#532591" title="Types.this.TypeRef" class="keyword">this</a>
            <span class="keyword">else</span> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a> <a href="BaseTypeSeqs.scala.html#594275" title="(f: Types.this.Type =&gt; Types.this.Type)Types.this.BaseTypeSeq">map</a> <a href="#532556" title="(tp: Types.this.Type)Types.this.Type">transform</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#532531" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeqCache</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="BaseTypeSeqs.scala.html#479036" title="=&gt; Types.this.BaseTypeSeq">undetBaseTypeSeq</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">throw</span> <a href="#711710" title="(msg: String)Types.this.TypeError" class="keyword">new</a> <a href="#478998" title="Types.this.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;illegal cyclic inheritance involving &quot;)" class="string">&quot;illegal cyclic inheritance involving &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a><span class="delimiter">)</span>
      <a href="#532531" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeqCache</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="532585">baseTypeSeqDepth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <a href="#532584" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a>.<a href="BaseTypeSeqs.scala.html#594278" title="=&gt; Int">maxDepth</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="532586">baseClasses</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#532558" title="=&gt; Types.this.Type">thisInfo</a>.<a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a>

    <span class="comment">// override def isNullable: Boolean = sym.info.isNullable</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="532587">safeToString</a>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#532591" title="Types.this.TypeRef" class="keyword">this</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Nothing">TypeRef</span><span class="delimiter">(</span>_, <a href="Definitions.scala.html#508057" title="=&gt; Types.this.Symbol">RepeatedParamClass</a>, <a title="Types.this.Type" id="846170">arg</a> :: _<span class="delimiter">)</span> =&gt; <span title="Nothing" class="keyword">return</span> <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">arg</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>
          <span class="keyword">case</span> <span title="Nothing">TypeRef</span><span class="delimiter">(</span>_, <a href="Definitions.scala.html#508070" title="=&gt; Types.this.Symbol">ByNameParamClass</a>, <a title="Types.this.Type" id="846177">arg</a> :: _<span class="delimiter">)</span>   =&gt; <span title="Nothing" class="keyword">return</span> <span title="java.lang.String(&quot;=&gt; &quot;)" class="string">&quot;=&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#846177" title="Types.this.Type">arg</a>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Definitions.scala.html#508198" title="(tp: Types.this.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#532591" title="Types.this.TypeRef" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Types.this.Type]" id="846179">targs</a> = <a href="#532581" title="=&gt; Types.this.Type">normalize</a>.<a href="#507172" title="=&gt; List[Types.this.Type]">typeArgs</a>
              <span class="comment">// Aesthetics: printing Function1 as T =&gt; R rather than (T) =&gt; R</span>
              <span class="comment">// ...but only if it's not a tuple, so ((T1, T2)) =&gt; R is distinguishable</span>
              <span class="comment">// from (T1, T2) =&gt; R.</span>
              <span title="Nothing" class="keyword">return</span> <span class="delimiter">(</span><a href="#846179" title="List[Types.this.Type]">targs</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="java.lang.String" id="846184">in</a> :: <a title="Types.this.Type" id="846192">out</a> :: <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Definitions.scala.html#508180" title="(tp: Types.this.Type)Boolean">isTupleTypeOrSubtype</a><span class="delimiter">(</span><a href="#846184" title="Types.this.Type">in</a><span class="delimiter">)</span> =&gt;
                  <span class="comment">// A =&gt; B =&gt; C should be (A =&gt; B) =&gt; C or A =&gt; (B =&gt; C)</span>
                  <span class="keyword">val</span> <a title="java.lang.String" id="846194">in_s</a>  = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="Definitions.scala.html#508198" title="(tp: Types.this.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#846184" title="Types.this.Type">in</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#846184" title="Types.this.Type">in</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#846184" title="Types.this.Type">in</a>
                  <span class="keyword">val</span> <a title="java.lang.String" id="846195">out_s</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="Definitions.scala.html#508198" title="(tp: Types.this.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#846192" title="Types.this.Type">out</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#846192" title="Types.this.Type">out</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#846192" title="Types.this.Type">out</a>
                  <a href="#846194" title="java.lang.String">in_s</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; =&gt; &quot;)" class="string">&quot; =&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#846195" title="java.lang.String">out_s</a>
                <span class="keyword">case</span> <a title="java.lang.String" id="846196">xs</a> =&gt;
                  <a href="#846196" title="List[Types.this.Type]">xs</a>.<a href="../../../collection/TraversableLike.scala.html#49085" title="=&gt; List[Types.this.Type]">init</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; =&gt; &quot;)" class="string">&quot; =&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#846196" title="List[Types.this.Type]">xs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71051" title="=&gt; Types.this.Type">last</a>
              <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Definitions.scala.html#508180" title="(tp: Types.this.Type)Boolean">isTupleTypeOrSubtype</a><span class="delimiter">(</span><a href="#532591" title="Types.this.TypeRef" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <a href="#532581" title="=&gt; Types.this.Type">normalize</a>.<a href="#507172" title="=&gt; List[Types.this.Type]">typeArgs</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#478914" title="(xs: List[_], len: Int)Boolean">hasLength</a><span class="delimiter">(</span><a href="#532581" title="=&gt; Types.this.Type">normalize</a>.<a href="#507172" title="=&gt; List[Types.this.Type]">typeArgs</a>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;,)&quot;)" class="string">&quot;,)&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#507170" title="=&gt; List[Types.this.Type]">prefixChain</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#846223" title="Types.this.Type">_</a>.<a href="#507158" title="=&gt; Types.this.Symbol">termSymbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435304" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Types.this.Type" id="846224">normed</a> = <a href="#532581" title="=&gt; Types.this.Type">normalize</a>;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#846224" title="Types.this.Type">normed</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#532591" title="Types.this.TypeRef" class="keyword">this</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#846224" title="Types.this.Type">normed</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="String" id="846161">monopart</a> =
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <span class="delimiter">(</span><a href="#479014" title="=&gt; scala.collection.immutable.Set[java.lang.String]">shorthands</a> <a href="../../../collection/SetLike.scala.html#65655" title="(elem: java.lang.String)Boolean">contains</a> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435348" title="=&gt; String">fullName</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509252" title="=&gt; List[Types.this.Symbol]">ownerChain</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#846240" title="Types.this.Symbol">_</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// ensure that symbol is not a local copy with a name coincidence</span>
          <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a>.<a href="Names.scala.html#501123" title="()String">toString</a>
        <span class="keyword">else</span>
          <a href="#532613" title="=&gt; Types.this.Type">pre</a>.<a href="#507238" title="=&gt; java.lang.String">prefixString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509363" title="=&gt; java.lang.String">nameString</a>

      <span class="keyword">var</span> <a title="java.lang.String" id="846162">str</a> = <a href="#846161" title="String">monopart</a> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#532615" title="=&gt; List[Types.this.Type]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#532615" title="=&gt; List[Types.this.Type]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
        <a href="#507236" title="=&gt; java.lang.String">packagePrefix</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#846162" title="java.lang.String">str</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span>
        <a href="#507235" title="=&gt; java.lang.String">objectPrefix</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#846162" title="java.lang.String">str</a>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509192" title="=&gt; Boolean">isAnonymousClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509246" title="=&gt; Boolean">isInitialized</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span>
        <a href="#532558" title="=&gt; Types.this.Type">thisInfo</a>.<a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>.<a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot; with &quot;)" class="string">&quot; with &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509242" title="=&gt; Boolean">isStructuralRefinement</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><span class="delimiter">(</span><a href="#532582" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514371" title="=&gt; List[Types.this.Symbol]">toList</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Types.this.Symbol =&gt; Boolean)List[Types.this.Symbol]">filter</a> <span class="delimiter">{</span> <a title="Types.this.Symbol" id="846256">entry</a> =&gt;
              <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#846256" title="Types.this.Symbol">entry</a>.<a href="Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#846256" title="Types.this.Symbol">entry</a>.<a href="Symbols.scala.html#509340" title="=&gt; List[Types.this.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#846256" title="Types.this.Symbol">entry</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a>
            <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],String,List[String]])List[String]">map</a> <span class="delimiter">{</span> <a title="Types.this.Symbol" id="846277">entry</a> =&gt; <a href="#846277" title="Types.this.Symbol">entry</a>.<a href="Symbols.scala.html#509375" title="=&gt; String">defString</a> <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;{&quot;)" class="string">&quot;{&quot;</span>, <span title="java.lang.String(&quot;; &quot;)" class="string">&quot;; &quot;</span>, <span title="java.lang.String(&quot;}&quot;)" class="string">&quot;}&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509246" title="=&gt; Boolean">isInitialized</a><span class="delimiter">)</span>
        <a href="#532558" title="=&gt; Types.this.Type">thisInfo</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a>
      <span class="keyword">else</span> <a href="#846162" title="java.lang.String">str</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="532588">prefixString</a> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#532591" title="Types.this.TypeRef" class="keyword">super</a>.<a href="#507238" title="=&gt; java.lang.String">prefixString</a>
      <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509206" title="=&gt; Boolean">printWithoutPrefix</a><span class="delimiter">)</span>
        <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
        <a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435348" title="=&gt; String">fullName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
      <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#532551" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="StdNames.scala.html#479055" title="object Types.this.nme">nme</a>.<a href="NameManglers.scala.html#516881" title="(name: Types.this.Name)Boolean">isSingletonName</a><span class="delimiter">(</span><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="StdNames.scala.html#479055" title="object Types.this.nme">nme</a>.<a href="NameManglers.scala.html#516893" title="(name: Types.this.Name)Types.this.TypeName">dropSingletonName</a><a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</a><a href="#532614" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
      <span class="keyword">else</span>
        <a href="#532591" title="Types.this.TypeRef" class="keyword">super</a>.<a href="#507238" title="=&gt; java.lang.String">prefixString</a>
    <span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="532589">kind</a> = <span title="java.lang.String(&quot;TypeRef&quot;)" class="string">&quot;TypeRef&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">final</span> <span class="keyword">class</span> <a title="class UniqueTypeRef extends Types.this.TypeRef with Types.this.UniqueType with ScalaObject" id="478775">UniqueTypeRef</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="846363">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="846364">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="List[Types.this.Type]" id="846365">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#532591" title="Types.this.TypeRef">TypeRef</a><span class="delimiter">(</span><a href="#846363" title="Types.this.Type">pre</a>, <a href="#846364" title="Types.this.Symbol">sym</a>, <a href="#846365" title="List[Types.this.Type]">args</a><span class="delimiter">)</span> <span class="keyword">with</span> <a href="#478721" title="Types.this.UniqueType">UniqueType</a> <span class="delimiter">{</span> <span class="delimiter">}</span>
  <span class="keyword">object</span> <a title="object Types.this.TypeRef" id="478773">TypeRef</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433935" title="Types.this.TypeRefExtractor">TypeRefExtractor</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type" id="532513">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="631152">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="631153">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="List[Types.this.Type]" id="631154">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <a href="#478834" title="(tp: Types.this.UniqueTypeRef)Types.this.UniqueTypeRef">unique</a><span class="delimiter">(</span><span title="Types.this.UniqueTypeRef" class="keyword">new</span> <a href="#478775" title="Types.this.UniqueTypeRef">UniqueTypeRef</a><span class="delimiter">(</span><a href="#631152" title="Types.this.Type">pre</a>, <a href="#631153" title="Types.this.Symbol">sym</a>, <a href="#631154" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A class representing a method type with parameters.
   *  Note that a parameterless method is represented by a NullaryMethodType:
   *
   *    def m(): Int        MethodType(Nil, Int)
   *    def m: Int          NullaryMethodType(Int)
   */</span>
  case <span class="keyword">class</span> <a title="class MethodType extends Types.this.Type with ScalaObject with Product with Serializable" id="546837">MethodType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="549908">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                        <span class="keyword">override</span> <span class="keyword">val</span> <a title="Types.this.Type" id="549909">resultType</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546845">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#546846" title="=&gt; Boolean">isTrivial0</a>
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="546847">isTrivial0</a> =
      <a href="#549909" title="=&gt; Types.this.Type">resultType</a>.<a href="#507149" title="=&gt; Boolean">isTrivial</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">forall</a><span class="delimiter">{</span><a title="Types.this.Symbol" id="846384">p</a> =&gt; <a href="#846384" title="Types.this.Symbol">p</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>.<a href="#507149" title="=&gt; Boolean">isTrivial</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>  <span class="delimiter">(</span>
        <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469799" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">YdepMethTpes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#846394" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>.<a href="#507218" title="(sym: Types.this.Symbol)Boolean">contains</a><span class="delimiter">(</span><a href="#846384" title="Types.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#549909" title="=&gt; Types.this.Type">resultType</a>.<a href="#507218" title="(sym: Types.this.Symbol)Boolean">contains</a><span class="delimiter">(</span><a href="#846384" title="Types.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="546848">isImplicit</a> = <a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435298" title="=&gt; Boolean">isImplicit</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="546849">isJava</a> = <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// can we do something like for implicits? I.e. do Java methods without parameters need to be recognized?</span>

    <span class="comment">//assert(paramTypes forall (pt =&gt; !pt.typeSymbol.isImplClass))//DEBUG</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="546850">paramSectionCount</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <a href="#549909" title="=&gt; Types.this.Type">resultType</a>.<a href="#507178" title="=&gt; Int">paramSectionCount</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[List[Types.this.Symbol]]" id="546851">paramss</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[List[Types.this.Symbol]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: List[Types.this.Symbol])List[List[Types.this.Symbol]]">::</a> <a href="#549909" title="=&gt; Types.this.Type">resultType</a>.<a href="#507179" title="=&gt; List[List[Types.this.Symbol]]">paramss</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="546852">paramTypes</a> = <a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#805406" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]" id="546853">boundSyms</a> = immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Types.this.Symbol*)scala.collection.immutable.Set[Types.this.Symbol]" class="delimiter">[</span><a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[Types.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">++</a> <a href="#549909" title="=&gt; Types.this.Type">resultType</a>.<a href="#507183" title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]">boundSyms</a>: _*<span class="delimiter">)</span>

    <span class="comment">// AM to TR: #dropNonContraintAnnotations</span>
    <span class="comment">// this is needed for plugins to work correctly, only TypeConstraint annotations are supposed to be carried over</span>
    <span class="comment">// TODO: this should probably be handled in a more structured way in adapt -- remove this map in resultType and watch the continuations tests fail</span>
    <span class="keyword">object</span> <a title="object MethodType.this.dropNonContraintAnnotations" id="546854">dropNonContraintAnnotations</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="655299">dropNonConstraintAnnotations</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">def</span> <a title="(x: Types.this.Type)Types.this.Type" id="655301">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="655302">x</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#655302" title="Types.this.Type">x</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(actuals: List[Types.this.Type])Types.this.Type" id="546856">resultType</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="655289">actuals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#546845" title="=&gt; Boolean">isTrivial</a><span class="delimiter">)</span> <a href="#655301" title="(x: Types.this.Type)Types.this.Type">dropNonContraintAnnotations</a><span class="delimiter">(</span><a href="#549909" title="=&gt; Types.this.Type">resultType</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#655289" title="List[Types.this.Type]">actuals</a>, <a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Types.this.InstantiateDependentMap" id="655351">idm</a> = <span title="Types.this.InstantiateDependentMap" class="keyword">new</span> <a href="#478871" title="Types.this.InstantiateDependentMap">InstantiateDependentMap</a><span class="delimiter">(</span><a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a>, <a href="#655289" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Types.this.Type" id="655352">res</a> = <a href="#655364" title="(tp: Types.this.Type)Types.this.Type">idm</a><span class="delimiter">(</span><a href="#549909" title="=&gt; Types.this.Type">resultType</a><span class="delimiter">)</span>
          <span class="comment">// println(&quot;resultTypeDep &quot;+(params, actuals, resultType, idm.existentialsNeeded, &quot;\n= &quot;+ res))</span>
          <a href="#478821" title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#655351" title="Types.this.InstantiateDependentMap">idm</a>.<a href="#655365" title="=&gt; List[Types.this.Symbol]">existentialsNeeded</a>, <a href="#655352" title="Types.this.Type">res</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">// Thread.dumpStack()</span>
          <span class="comment">// println(&quot;resultType &quot;+(params, actuals, resultType))</span>
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#549909" title="=&gt; Types.this.Type">resultType</a>
          <span class="keyword">else</span> <a href="#478821" title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a>, <a href="#549909" title="=&gt; Types.this.Type">resultType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="comment">// implicit args can only be depended on in result type: TODO this may be generalised so that the only constraint is dependencies are acyclic</span>
    <span class="keyword">def</span> <a title="=&gt; Types.this.MethodType" id="546857">approximate</a>: <a href="#546837" title="Types.this.MethodType">MethodType</a> = <a href="#546837" title="(params: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.MethodType">MethodType</a><span class="delimiter">(</span><a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a>, <a href="#507175" title="=&gt; Types.this.Type">resultApprox</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546858">finalResultType</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#549909" title="=&gt; Types.this.Type">resultType</a>.<a href="#507177" title="=&gt; Types.this.Type">finalResultType</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546859">safeToString</a> = <a href="TypeDebugging.scala.html#479278" title="(tp: Types.this.Type)String">paramString</a><span class="delimiter">(</span><a href="#546837" title="Types.this.MethodType" class="keyword">this</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#549909" title="=&gt; Types.this.Type">resultType</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Types.this.Symbol)Types.this.Type" id="546860">cloneInfo</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="846500">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="846503">vparams</a> = <a href="Symbols.scala.html#478672" title="(syms: List[Types.this.Symbol], owner: Types.this.Symbol)List[Types.this.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a>, <a href="#846500" title="Types.this.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#478814" title="(tp: Types.this.Type, params: List[Types.this.Symbol], restpe: Types.this.Type)Types.this.Type">copyMethodType</a><span class="delimiter">(</span><a href="#546837" title="Types.this.MethodType" class="keyword">this</a>, <a href="#846503" title="List[Types.this.Symbol]">vparams</a>, <a href="#549909" title="=&gt; Types.this.Type">resultType</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a>, <a href="#846503" title="List[Types.this.Symbol]">vparams</a><span class="delimiter">)</span>.<a href="#507233" title="(owner: Types.this.Symbol)Types.this.Type">cloneInfo</a><span class="delimiter">(</span><a href="#846500" title="Types.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Types.this.Symbol)Types.this.Type" id="546861">atOwner</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="846548">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#846552" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#846548" title="Types.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#549909" title="=&gt; Types.this.Type">resultType</a>.<a href="#507234" title="(owner: Types.this.Symbol)Types.this.Type">atOwner</a><span class="delimiter">(</span><a href="#846548" title="Types.this.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#549909" title="=&gt; Types.this.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#546860" title="(owner: Types.this.Symbol)Types.this.Type">cloneInfo</a><span class="delimiter">(</span><a href="#846548" title="Types.this.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#546837" title="Types.this.MethodType" class="keyword">this</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546862">kind</a> = <span title="java.lang.String(&quot;MethodType&quot;)" class="string">&quot;MethodType&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Types.this.MethodType" id="478777">MethodType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433940" title="Types.this.MethodTypeExtractor">MethodTypeExtractor</a>

  <span class="keyword">class</span> <a title="class JavaMethodType extends Types.this.MethodType with ScalaObject" id="478779">JavaMethodType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[Types.this.Symbol]" id="846615">ps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Types.this.Type" id="846616">rt</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#546837" title="Types.this.MethodType">MethodType</a><span class="delimiter">(</span><a href="#846615" title="List[Types.this.Symbol]">ps</a>, <a href="#846616" title="Types.this.Type">rt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="846611">isJava</a> = <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class NullaryMethodType extends Types.this.Type with ScalaObject with Product with Serializable" id="546934">NullaryMethodType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="Types.this.Type" id="816810">resultType</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="comment">// AM to TR: #dropNonContraintAnnotations</span>
    <span class="comment">// change isTrivial to the commented version and watch continuations-run/t3225.scala fail</span>
    <span class="comment">// isTrivial implies asSeenFrom is bypassed, since it's supposed to be the identity map</span>
    <span class="comment">// it's not really the identity due to dropNonContraintAnnotations</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546939">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span> <span class="comment">//resultType.isTrivial -- `false` to make continuations plugin work (so that asSeenFromMap drops non-constrain annotations even when type doesn't change otherwise)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546940">prefix</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507169" title="=&gt; Types.this.Type">prefix</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546941">narrow</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507166" title="=&gt; Types.this.Type">narrow</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="546942">finalResultType</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507177" title="=&gt; Types.this.Type">finalResultType</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="546943">termSymbol</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507158" title="=&gt; Types.this.Symbol">termSymbol</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="546944">typeSymbol</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="546945">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Scope" id="546946">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.BaseTypeSeq" id="546947">baseTypeSeq</a>: <a href="BaseTypeSeqs.scala.html#479035" title="Types.this.BaseTypeSeq">BaseTypeSeq</a> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="546948">baseTypeSeqDepth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507230" title="=&gt; Int">baseTypeSeqDepth</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="546949">baseClasses</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol)Types.this.Type" id="546950">baseType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="846684">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#846684" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]" id="546951">boundSyms</a> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507183" title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]">boundSyms</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="546952">isVolatile</a> = <a href="#816810" title="=&gt; Types.this.Type">resultType</a>.<a href="#507152" title="=&gt; Boolean">isVolatile</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="546953">safeToString</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;=&gt; &quot;)" class="string">&quot;=&gt; &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#816810" title="=&gt; Types.this.Type">resultType</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="546954">kind</a> = <span title="java.lang.String(&quot;NullaryMethodType&quot;)" class="string">&quot;NullaryMethodType&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Types.this.NullaryMethodType" id="478781">NullaryMethodType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433941" title="Types.this.NullaryMethodTypeExtractor">NullaryMethodTypeExtractor</a>

  <span class="comment">/** A type function or the type of a polymorphic value (and thus of kind *).
   *
   * Before the introduction of NullaryMethodType, a polymorphic nullary method (e.g, def isInstanceOf[T]: Boolean)
   * used to be typed as PolyType(tps, restpe), and a monomorphic one as PolyType(Nil, restpe)
   * This is now: PolyType(tps, NullaryMethodType(restpe)) and NullaryMethodType(restpe)
   * by symmetry to MethodTypes: PolyType(tps, MethodType(params, restpe)) and MethodType(params, restpe)
   *
   * Thus, a PolyType(tps, TypeRef(...)) unambiguously indicates a type function (which results from eta-expanding a type constructor alias).
   * Similarly, PolyType(tps, ClassInfoType(...)) is a type constructor.
   *
   * A polytype is of kind * iff its resultType is a (nullary) method type.
   */</span>
  case <span class="keyword">class</span> <a title="class PolyType extends Types.this.Type with ScalaObject with Product with Serializable" id="546990">PolyType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="698019">typeParams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <span class="keyword">override</span> <span class="keyword">val</span> <a title="Types.this.Type" id="698020">resultType</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>
       <span class="keyword">extends</span> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="comment">//assert(!(typeParams contains NoSymbol), this)</span>
    <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#698019" title="=&gt; List[Types.this.Symbol]">typeParams</a> <a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a>, <a href="#546990" title="Types.this.PolyType" class="keyword">this</a><span class="delimiter">)</span> <span class="comment">// used to be a marker for nullary method type, illegal now (see @NullaryMethodType)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="546998">paramSectionCount</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507178" title="=&gt; Int">paramSectionCount</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[List[Types.this.Symbol]]" id="546999">paramss</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[List[Types.this.Symbol]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507179" title="=&gt; List[List[Types.this.Symbol]]">paramss</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="547000">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507180" title="=&gt; List[Types.this.Symbol]">params</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="547001">paramTypes</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507181" title="=&gt; List[Types.this.Type]">paramTypes</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="547002">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Scope" id="547003">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="547004">termSymbol</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507158" title="=&gt; Types.this.Symbol">termSymbol</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="547005">typeSymbol</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]" id="547006">boundSyms</a> = immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Types.this.Symbol*)scala.collection.immutable.Set[Types.this.Symbol]" class="delimiter">[</span><a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="#698019" title="=&gt; List[Types.this.Symbol]">typeParams</a> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[Types.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">++</a> <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507183" title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]">boundSyms</a>: _*<span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547007">prefix</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507169" title="=&gt; Types.this.Type">prefix</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.BaseTypeSeq" id="547008">baseTypeSeq</a>: <a href="BaseTypeSeqs.scala.html#479035" title="Types.this.BaseTypeSeq">BaseTypeSeq</a> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Int" id="547009">baseTypeSeqDepth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507230" title="=&gt; Int">baseTypeSeqDepth</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="547010">baseClasses</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol)Types.this.Type" id="547011">baseType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="846876">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#846876" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547012">narrow</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507166" title="=&gt; Types.this.Type">narrow</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="547013">isVolatile</a> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507152" title="=&gt; Boolean">isVolatile</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547014">finalResultType</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507177" title="=&gt; Types.this.Type">finalResultType</a>

    <span class="comment">/** @M: typeDefSig wraps a TypeBounds in a PolyType
     *  to represent a higher-kinded type parameter
     *  wrap lo&amp;hi in polytypes to bind variables
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.TypeBounds" id="547015">bounds</a>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a> =
      <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#478820" title="(tps: List[Types.this.Symbol], body: Types.this.Type)Types.this.Type">typeFun</a><span class="delimiter">(</span><a href="#698019" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a><span class="delimiter">)</span>,
                 <a href="#478820" title="(tps: List[Types.this.Symbol], body: Types.this.Type)Types.this.Type">typeFun</a><span class="delimiter">(</span><a href="#698019" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="547016">isHigherKinded</a> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#698019" title="=&gt; List[Types.this.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="547017">safeToString</a> = <a href="TypeDebugging.scala.html#479279" title="(tp: Types.this.Type)String">typeParamsString</a><span class="delimiter">(</span><a href="#546990" title="Types.this.PolyType" class="keyword">this</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#698020" title="=&gt; Types.this.Type">resultType</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Types.this.Symbol)Types.this.PolyType" id="547018">cloneInfo</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="846924">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="846927">tparams</a> = <a href="Symbols.scala.html#478672" title="(syms: List[Types.this.Symbol], owner: Types.this.Symbol)List[Types.this.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#698019" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#846924" title="Types.this.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#546990" title="(typeParams: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.PolyType">PolyType</a><span class="delimiter">(</span><a href="#846927" title="List[Types.this.Symbol]">tparams</a>, <a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#698019" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#846927" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span>.<a href="#507233" title="(owner: Types.this.Symbol)Types.this.Type">cloneInfo</a><span class="delimiter">(</span><a href="#846924" title="Types.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Types.this.Symbol)Types.this.Type" id="547019">atOwner</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="846958">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#698019" title="=&gt; List[Types.this.Symbol]">typeParams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#846967" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#846958" title="Types.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#698020" title="=&gt; Types.this.Type">resultType</a>.<a href="#507234" title="(owner: Types.this.Symbol)Types.this.Type">atOwner</a><span class="delimiter">(</span><a href="#846958" title="Types.this.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#698020" title="=&gt; Types.this.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#547018" title="(owner: Types.this.Symbol)Types.this.PolyType">cloneInfo</a><span class="delimiter">(</span><a href="#846958" title="Types.this.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#546990" title="Types.this.PolyType" class="keyword">this</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="547020">kind</a> = <span title="java.lang.String(&quot;PolyType&quot;)" class="string">&quot;PolyType&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Types.this.PolyType" id="478784">PolyType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433942" title="Types.this.PolyTypeExtractor">PolyTypeExtractor</a>

  case <span class="keyword">class</span> <a title="class ExistentialType extends Types.this.Type with Types.this.RewrappingTypeProxy with ScalaObject with Product with Serializable" id="547201">ExistentialType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[Types.this.Symbol]" id="631016">quantified</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
                             <span class="keyword">override</span> <span class="keyword">val</span> <a title="Types.this.Type" id="631017">underlying</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478719" title="Types.this.RewrappingTypeProxy">RewrappingTypeProxy</a>
  <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(newtp: Types.this.Type)Types.this.Type" id="547209">rewrap</a><span class="delimiter">(</span><a title="Types.this.Type" id="847024">newtp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#478821" title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a>, <a href="#847024" title="Types.this.Type">newtp</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="547210">isTrivial</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="547211">isStable</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.TypeBounds" id="547212">bounds</a> = <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a><span class="delimiter">)</span>, <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="547213">parents</a> = <a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507168" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]" id="547214">boundSyms</a> = <a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a>.<a href="../../../collection/TraversableOnce.scala.html#53700" title="scala.collection.immutable.Set[Types.this.Symbol]">toSet</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547215">prefix</a> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507169" title="=&gt; Types.this.Type">prefix</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="547216">typeArgs</a> = <a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507172" title="=&gt; List[Types.this.Type]">typeArgs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="547217">params</a> = <a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507180" title="=&gt; List[Types.this.Symbol]">params</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Types.this.Symbol =&gt; Types.this.Symbol)List[Types.this.Symbol]">mapConserve</a> <span class="delimiter">{</span> <a title="Types.this.Symbol" id="847154">param</a> =&gt;
      <span class="keyword">val</span> <a title="Types.this.Type" id="847155">tpe1</a> = <a href="#547209" title="(newtp: Types.this.Type)Types.this.Type">rewrap</a><span class="delimiter">(</span><a href="#847154" title="Types.this.Symbol">param</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>
      <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#847155" title="Types.this.Type">tpe1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#847154" title="Types.this.Symbol">param</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span> <a href="#847154" title="Types.this.Symbol">param</a> <span class="keyword">else</span> <a href="#847154" title="Types.this.Symbol">param</a>.<a href="Symbols.scala.html#509302" title="=&gt; Types.this.Symbol">cloneSymbol</a>.<a href="Symbols.scala.html#509274" title="(info: Types.this.Type)Types.this.Symbol">setInfo</a><span class="delimiter">(</span><a href="#847155" title="Types.this.Type">tpe1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="547218">paramTypes</a> = <a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507181" title="=&gt; List[Types.this.Type]">paramTypes</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type" id="547219">instantiateTypeParams</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="847213">formals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="847214">actuals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
<span class="comment">//      maybeRewrap(underlying.instantiateTypeParams(formals, actuals))</span>

      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="847217">quantified1</a> = <span title="Types.this.SubstTypeMap" class="keyword">new</span> <a href="#478863" title="Types.this.SubstTypeMap">SubstTypeMap</a><span class="delimiter">(</span><a href="#847213" title="List[Types.this.Symbol]">formals</a>, <a href="#847214" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span> <a href="#532449" title="(origSyms: List[Types.this.Symbol])List[Types.this.Symbol]">mapOver</a> <a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a>
      <span class="keyword">val</span> <a title="Types.this.Type" id="847218">underlying1</a> = <a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#847213" title="List[Types.this.Symbol]">formals</a>, <a href="#847214" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#847217" title="List[Types.this.Symbol]">quantified1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#847218" title="Types.this.Type">underlying1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#631017" title="=&gt; Types.this.Type">underlying</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#547201" title="Types.this.ExistentialType" class="keyword">this</a>
      <span class="keyword">else</span> <a href="#478821" title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#847217" title="List[Types.this.Symbol]">quantified1</a>, <a href="#847218" title="Types.this.Type">underlying1</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a>, <a href="#847217" title="List[Types.this.Symbol]">quantified1</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol)Types.this.Type" id="547220">baseType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="847228">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a><span class="delimiter">(</span><a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#847228" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.BaseTypeSeq" id="547221">baseTypeSeq</a> = <a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a> <a href="BaseTypeSeqs.scala.html#594275" title="(f: Types.this.Type =&gt; Types.this.Type)Types.this.BaseTypeSeq">map</a> <a href="#547087" title="(newtp: Types.this.Type)Types.this.Type">maybeRewrap</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="547222">isHigherKinded</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Types.this.Symbol, origin: AnyRef)Types.this.Type" id="547223">skolemizeExistential</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="847239">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="AnyRef" id="847240">origin</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tparam: Types.this.Symbol)Types.this.Symbol" id="847245">mkSkolem</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="847247">tparam</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Types.this.TypeSkolem" id="847248">skolem</a> = <span title="Types.this.TypeSkolem" class="keyword">new</span> <a href="Symbols.scala.html#478664" title="Types.this.TypeSkolem">TypeSkolem</a><span class="delimiter">(</span>
          <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#847239" title="Types.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#847247" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a> <span class="keyword">else</span> <a href="#847239" title="Types.this.Symbol">owner</a>,
          <a href="#847247" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509109" title="=&gt; Types.this.Position">pos</a>, <a href="#847247" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a>.<a href="Names.scala.html#501118" title="=&gt; Types.this.TypeName">toTypeName</a>, <a href="#847240" title="AnyRef">origin</a><span class="delimiter">)</span>
        <a href="#847248" title="Types.this.TypeSkolem">skolem</a>.<a href="Symbols.scala.html#509274" title="(info: Types.this.Type)skolem.type">setInfo</a><span class="delimiter">(</span><a href="#847247" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507233" title="(owner: Types.this.Symbol)Types.this.Type">cloneInfo</a><span class="delimiter">(</span><a href="#847248" title="Types.this.TypeSkolem">skolem</a><span class="delimiter">)</span><span class="delimiter">)</span>
              .<a href="Symbols.scala.html#509261" title="(mask: Long)skolem.type">setFlag</a><span class="delimiter">(</span><a href="#847247" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509259" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#55155" title="(x: Long)Long">|</a> <span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span>
              .<a href="Symbols.scala.html#509262" title="(mask: Long)skolem.type">resetFlag</a><span class="delimiter">(</span><span title="Long(8192L)">PARAM</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="847246">skolems</a> = <a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">map</a> <a href="#847245" title="(tparam: Types.this.Symbol)Types.this.Symbol">mkSkolem</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="847325">skolem</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Symbol =&gt; Types.this.Symbol)Unit">skolems</a><span class="delimiter">)</span>
        <a href="#847325" title="Types.this.Symbol">skolem</a> <a href="Symbols.scala.html#509274" title="(info: Types.this.Type)skolem.type">setInfo</a> <a href="#847325" title="Types.this.Symbol">skolem</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a>, <a href="#847246" title="List[Types.this.Symbol]">skolems</a><span class="delimiter">)</span>
      <a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a>, <a href="#847246" title="List[Types.this.Symbol]">skolems</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(available: Set[Types.this.Symbol], args: List[Types.this.Type])List[String]" id="547224">wildcardArgsString</a><span class="delimiter">(</span><a title="Set[Types.this.Symbol]" id="847331">available</a>: <a href="../../../collection/immutable/Set.scala.html#13576" title="Set[Types.this.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="847332">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#847332" title="List[Types.this.Type]">args</a> <span title="List[String]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[String]">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="847338">sym</a>, _<span class="delimiter">)</span> :: <a title="List[Types.this.Type]" id="847339">args1</a> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#847331" title="Set[Types.this.Symbol]">available</a> <a href="../../../collection/SetLike.scala.html#65655" title="(elem: Types.this.Symbol)Boolean">contains</a> <a href="#847338" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> =&gt;
        <span class="delimiter">(</span><span title="java.lang.String(&quot;_&quot;)" class="string">&quot;_&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#847338" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509369" title="(tp: Types.this.Type)String">infoString</a><span class="delimiter">(</span><a href="#847338" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: String)List[String]">::</a> <a href="#547224" title="(available: Set[Types.this.Symbol], args: List[Types.this.Type])List[String]">wildcardArgsString</a><span class="delimiter">(</span><a href="#847331" title="Set[Types.this.Symbol]">available</a> <a href="../../../collection/SetLike.scala.html#65660" title="(elem: Types.this.Symbol)scala.collection.immutable.Set[Types.this.Symbol]">-</a> <a href="#847338" title="Types.this.Symbol">sym</a>, <a href="#847339" title="List[Types.this.Type]">args1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="List[String]" id="847361">arg</a> :: <a title="List[Types.this.Type]" id="847362">args1</a> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#847361" title="Types.this.Type">arg</a> <a href="#507218" title="(sym: Types.this.Symbol)Boolean">contains</a> <a href="#847369" title="Types.this.Symbol">_</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#847361" title="Types.this.Type">arg</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: String)List[String]">::</a> <a href="#547224" title="(available: Set[Types.this.Symbol], args: List[Types.this.Type])List[String]">wildcardArgsString</a><span class="delimiter">(</span><a href="#847331" title="Set[Types.this.Symbol]">available</a>, <a href="#847362" title="List[Types.this.Type]">args1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[Nothing]">_</span> =&gt;
        List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="547225">safeToString</a>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#847386" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509377" title="=&gt; Boolean">isSingletonExistential</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <span class="comment">// try to represent with wildcards first</span>
        <a href="#631017" title="=&gt; Types.this.Type">underlying</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="847390">pre</a>, <a title="Types.this.Symbol" id="847391">sym</a>, <a title="List[Types.this.Type]" id="847392">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#847392" title="List[Types.this.Type]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> =&gt;
            <span class="keyword">val</span> <a title="List[String]" id="847393">wargs</a> = <a href="#547224" title="(available: Set[Types.this.Symbol], args: List[Types.this.Type])List[String]">wildcardArgsString</a><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a>.<a href="../../../collection/TraversableOnce.scala.html#53700" title="scala.collection.immutable.Set[Types.this.Symbol]">toSet</a>, <a href="#847392" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#847393" title="List[String]">wargs</a>, <a href="#847392" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <a href="#532513" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">TypeRef</a><a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</a><a href="#847390" title="Types.this.Type">pre</a>, <a href="#847391" title="Types.this.Symbol">sym</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <a href="#847393" title="List[String]">wargs</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="keyword">var</span> <a title="String" id="847383">ustr</a> = <a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a>
      <a href="#631017" title="=&gt; Types.this.Type">underlying</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> | NullaryMethodType<span class="delimiter">(</span>_<span class="delimiter">)</span> | PolyType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="#847383" title="String">ustr</a> = <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#847383" title="String">ustr</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="847384">str</a> =
        <a href="#847383" title="String">ustr</a><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a> <span class="delimiter">(</span><a href="#847419" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509378" title="=&gt; java.lang.String">existentialToString</a><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot; forSome { &quot;)" class="string">&quot; forSome { &quot;</span>, <span title="java.lang.String(&quot;; &quot;)" class="string">&quot;; &quot;</span>, <span title="java.lang.String(&quot; }&quot;)" class="string">&quot; }&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#469844" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#847384" title="java.lang.String">str</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span class="keyword">else</span> <a href="#847384" title="java.lang.String">str</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Types.this.Symbol)Types.this.ExistentialType" id="547226">cloneInfo</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="847455">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="847458">tparams</a> = <a href="Symbols.scala.html#478672" title="(syms: List[Types.this.Symbol], owner: Types.this.Symbol)List[Types.this.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a>, <a href="#847455" title="Types.this.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#547201" title="(quantified: List[Types.this.Symbol], underlying: Types.this.Type)Types.this.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#847458" title="List[Types.this.Symbol]">tparams</a>, <a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a>, <a href="#847458" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(owner: Types.this.Symbol)Types.this.Type" id="547227">atOwner</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="847485">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#847489" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#847485" title="Types.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#547226" title="(owner: Types.this.Symbol)Types.this.ExistentialType">cloneInfo</a><span class="delimiter">(</span><a href="#847485" title="Types.this.Symbol">owner</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#547201" title="Types.this.ExistentialType" class="keyword">this</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="547228">kind</a> = <span title="java.lang.String(&quot;ExistentialType&quot;)" class="string">&quot;ExistentialType&quot;</span>

    <span class="keyword">def</span> <a title="(op: Types.this.Type =&gt; Boolean)Boolean" id="547229">withTypeVars</a><span class="delimiter">(</span><a title="Types.this.Type =&gt; Boolean" id="847498">op</a>: Type =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#547230" title="(op: Types.this.Type =&gt; Boolean, depth: Int)Boolean">withTypeVars</a><span class="delimiter">(</span><a href="#847498" title="Types.this.Type =&gt; Boolean">op</a>, <span title="Int(-3)">AnyDepth</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(op: Types.this.Type =&gt; Boolean, depth: Int)Boolean" id="547230">withTypeVars</a><span class="delimiter">(</span><a title="Types.this.Type =&gt; Boolean" id="847504">op</a>: Type =&gt; Boolean, <a title="Int" id="847505">depth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="847507">quantifiedFresh</a> = <a href="Symbols.scala.html#478669" title="(syms: List[Types.this.Symbol])List[Types.this.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Types.this.TypeVar]" id="847508">tvars</a> = <a href="#847507" title="List[Types.this.Symbol]">quantifiedFresh</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.TypeVar)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.TypeVar,List[Types.this.TypeVar]])List[Types.this.TypeVar]">map</a> <span class="delimiter">(</span><a title="Types.this.Symbol" id="847548">tparam</a> =&gt; <a href="#841810" title="(tparam: Types.this.Symbol)Types.this.TypeVar">TypeVar</a><span class="delimiter">(</span><a href="#847548" title="Types.this.Symbol">tparam</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="847509">underlying1</a> = <a href="#631017" title="=&gt; Types.this.Type">underlying</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#631016" title="=&gt; List[Types.this.Symbol]">quantified</a>, <a href="#847508" title="List[Types.this.TypeVar]">tvars</a><span class="delimiter">)</span> <span class="comment">// fuse subst quantified -&gt; quantifiedFresh -&gt; tvars</span>
      <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Boolean">op</a><span class="delimiter">(</span><a href="#847509" title="Types.this.Type">underlying1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
        <a href="#478952" title="(tvars: List[Types.this.TypeVar], tparams: List[Types.this.Symbol], variances: List[Int], upper: Boolean, depth: Int)Boolean">solve</a><span class="delimiter">(</span><a href="#847508" title="List[Types.this.TypeVar]">tvars</a>, <a href="#847507" title="List[Types.this.Symbol]">quantifiedFresh</a>, <a href="#847507" title="List[Types.this.Symbol]">quantifiedFresh</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Int,List[Int]])List[Int]">map</a> <span class="delimiter">(</span><a title="Types.this.Symbol" id="847653">x</a> =&gt; <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#847505" title="Int">depth</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#478953" title="(pre: Types.this.Type, owner: Types.this.Symbol, tparams: List[Types.this.Symbol], targs: List[Types.this.Type])Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a>, <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a>, <a href="#847507" title="List[Types.this.Symbol]">quantifiedFresh</a>, <a href="#847508" title="List[Types.this.TypeVar]">tvars</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.TypeVar =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.TypeVar],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#847702" title="Types.this.TypeVar">_</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Types.this.ExistentialType" id="478787">ExistentialType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433943" title="Types.this.ExistentialTypeExtractor">ExistentialTypeExtractor</a>

  <span class="comment">/** A class containing the alternatives and type prefix of an overloaded symbol.
   *  Not used after phase `typer'.
   */</span>
  case <span class="keyword">class</span> <a title="class OverloadedType extends Types.this.Type with ScalaObject with Product with Serializable" id="645804">OverloadedType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="837481">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="List[Types.this.Symbol]" id="837482">alternatives</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="645812">prefix</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#837481" title="=&gt; Types.this.Type">pre</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="645813">safeToString</a> =
      <span class="delimiter">(</span><a href="#837482" title="=&gt; List[Types.this.Symbol]">alternatives</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <a href="#837481" title="=&gt; Types.this.Type">pre</a>.<a href="#507207" title="(sym: Types.this.Symbol)Types.this.Type">memberType</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot; &lt;and&gt; &quot;)" class="string">&quot; &lt;and&gt; &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="645814">kind</a> = <span title="java.lang.String(&quot;OverloadedType&quot;)" class="string">&quot;OverloadedType&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A class remembering a type instantiation for some a set of overloaded
   *  polymorphic symbols.
   *  Not used after phase `typer'.
   */</span>
  case <span class="keyword">class</span> <a title="class AntiPolyType extends Types.this.Type with ScalaObject with Product with Serializable" id="847896">AntiPolyType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="849526">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="List[Types.this.Type]" id="849527">targs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="847860">safeToString</a> =
      <a href="#849526" title="=&gt; Types.this.Type">pre</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#849527" title="=&gt; List[Types.this.Type]">targs</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(with type arguments &quot;)" class="string">&quot;(with type arguments &quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>;
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Types.this.Type" id="847861">memberType</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="847874">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#478817" title="(tycon: Types.this.Type, args: List[Types.this.Type])Types.this.Type">appliedType</a><span class="delimiter">(</span><a href="#849526" title="=&gt; Types.this.Type">pre</a>.<a href="#507207" title="(sym: Types.this.Symbol)Types.this.Type">memberType</a><span class="delimiter">(</span><a href="#847874" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>, <a href="#849527" title="=&gt; List[Types.this.Type]">targs</a><span class="delimiter">)</span>
<span class="comment">//     override def memberType(sym: Symbol) = pre.memberType(sym) match {</span>
<span class="comment">//       case PolyType(tparams, restp) =&gt;</span>
<span class="comment">//         restp.subst(tparams, targs)</span>
<span class="comment">// /* I don't think this is needed, as existential types close only over value types</span>
<span class="comment">//       case ExistentialType(tparams, qtpe) =&gt;</span>
<span class="comment">//         existentialAbstraction(tparams, qtpe.memberType(sym))</span>
<span class="comment">// */</span>
<span class="comment">//       case ErrorType =&gt;</span>
<span class="comment">//         ErrorType</span>
<span class="comment">//     }</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="847862">kind</a> = <span title="java.lang.String(&quot;AntiPolyType&quot;)" class="string">&quot;AntiPolyType&quot;</span>
  <span class="delimiter">}</span>

  <span class="comment">//private var tidCount = 0  //DEBUG</span>

  <span class="comment">//@M</span>
  <span class="comment">// a TypeVar used to be a case class with only an origin and a constr</span>
  <span class="comment">// then, constr became mutable (to support UndoLog, I guess),</span>
  <span class="comment">// but pattern-matching returned the original constr0 (a bug)</span>
  <span class="comment">// now, pattern-matching returns the most recent constr</span>
  <span class="keyword">object</span> <a title="object Types.this.TypeVar" id="478795">TypeVar</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
    <span class="comment">// encapsulate suspension so we can automatically link the suspension of cloned</span>
    <span class="comment">// typevars to their original if this turns out to be necessary</span>
<span class="comment">/*
    def Suspension = new Suspension
    class Suspension {
      private val suspended = mutable.HashSet[TypeVar]()
      def suspend(tv: TypeVar): Unit = {
        tv.suspended = true
        suspended += tv
      }
      def resumeAll(): Unit = {
        for (tv &lt;- suspended) {
          tv.suspended = false
        }
        suspended.clear()
      }
    }
*/</span>
    <span class="keyword">def</span> <a title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]" id="841808">unapply</a><span class="delimiter">(</span><a title="Types.this.TypeVar" id="841812">tv</a>: <a href="#478797" title="Types.this.TypeVar">TypeVar</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#56" title="Some[(Types.this.Type, Types.this.TypeConstraint)]">Some</a><span class="delimiter">[</span><span class="delimiter">(</span>Type, TypeConstraint<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="../../../Option.scala.html#57885" title="(x: (Types.this.Type, Types.this.TypeConstraint))Some[(Types.this.Type, Types.this.TypeConstraint)]">Some</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Types.this.TypeConstraint)(Types.this.Type, Types.this.TypeConstraint)" class="delimiter">(</a><a href="#841812" title="Types.this.TypeVar">tv</a>.<a href="#847557" title="=&gt; Types.this.Type">origin</a>, <a href="#841812" title="Types.this.TypeVar">tv</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(origin: Types.this.Type, constr: Types.this.TypeConstraint)Types.this.TypeVar" id="841809">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="847573">origin</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.TypeConstraint" id="847574">constr</a>: <a href="#478841" title="Types.this.TypeConstraint">TypeConstraint</a><span class="delimiter">)</span> = <span title="Types.this.TypeVar" class="keyword">new</span> <a href="#478797" title="Types.this.TypeVar">TypeVar</a><span class="delimiter">(</span><a href="#847573" title="Types.this.Type">origin</a>, <a href="#847574" title="Types.this.TypeConstraint">constr</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="comment">// TODO why not initialise TypeConstraint with bounds of tparam?</span>
    <span class="comment">// @PP: I tried that, didn't work out so well for me.</span>
    <span class="keyword">def</span> <a title="(tparam: Types.this.Symbol)Types.this.TypeVar" id="841810">apply</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="847561">tparam</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="Types.this.TypeVar" class="keyword">new</span> <a href="#478797" title="Types.this.TypeVar">TypeVar</a><span class="delimiter">(</span><a href="#847561" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509271" title="=&gt; Types.this.Type">tpeHK</a>, <a href="#842193" title="()Types.this.TypeConstraint" class="keyword">new</a> <a href="#478841" title="Types.this.TypeConstraint">TypeConstraint</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#847561" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(origin: Types.this.Type, constr: Types.this.TypeConstraint, args: List[Types.this.Type], params: List[Types.this.Symbol])Types.this.TypeVar" id="841811">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="847551">origin</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.TypeConstraint" id="847552">constr</a>: <a href="#478841" title="Types.this.TypeConstraint">TypeConstraint</a>, <a title="List[Types.this.Type]" id="847553">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="847554">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
      <span title="Types.this.TypeVar" class="keyword">new</span> <a href="#478797" title="Types.this.TypeVar">TypeVar</a><span class="delimiter">(</span><a href="#847551" title="Types.this.Type">origin</a>, <a href="#847552" title="Types.this.TypeConstraint">constr</a>, <a href="#847553" title="List[Types.this.Type]">args</a>, <a href="#847554" title="List[Types.this.Symbol]">params</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A class representing a type variable
   * Not used after phase `typer'.
   * A higher-kinded type variable has type arguments (a list of Type's) and type parameters (list of Symbols)
   * A TypeVar whose list of args is non-empty can only be instantiated by a higher-kinded type that can be applied to these args
   * a typevar is much like a typeref, except it has special logic for type equality/subtyping
   */</span>
  <span class="keyword">class</span> <a title="class TypeVar extends Types.this.Type with ScalaObject" id="478797">TypeVar</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Types.this.Type" id="847557">origin</a>: <a href="#478720" title="Types.this.Type">Type</a>, <span class="keyword">val</span> <a title="Types.this.TypeConstraint" id="847558">constr0</a>: <a href="#478841" title="Types.this.TypeConstraint">TypeConstraint</a>, <span class="keyword">override</span> <span class="keyword">val</span> <a title="List[Types.this.Type]" id="847559">typeArgs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <span class="keyword">override</span> <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="847560">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="comment">// params are needed to keep track of variance (see mapOverArgs in SubstMap)</span>
    <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#847559" title="=&gt; List[Types.this.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#847559" title="=&gt; List[Types.this.Type]">typeArgs</a>, <a href="#847560" title="=&gt; List[Types.this.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="comment">// var tid = { tidCount += 1; tidCount } //DEBUG</span>

    <span class="comment">/** The constraint associated with the variable */</span>
    <span class="keyword">var</span> <a title="Types.this.TypeConstraint" id="841830">constr</a> = <a href="#847558" title="=&gt; Types.this.TypeConstraint">constr0</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="841832">instValid</a> = <a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842214" title="=&gt; Boolean">instValid</a>

    <span class="comment">/** The variable's skolemization level */</span>
    <span class="keyword">val</span> <a title="Int" id="841833">level</a> = <a href="#478709" title="=&gt; Int">skolemizationLevel</a>

    <span class="comment">/**
     *  two occurrences of a higher-kinded typevar, e.g. ?CC[Int] and ?CC[String], correspond to
     *  *two instances* of TypeVar that share the *same* TypeConstraint
     *  constr for ?CC only tracks type constructors anyway, so when ?CC[Int] &lt;:&lt; List[Int] and ?CC[String] &lt;:&lt; Iterable[String]
     *  ?CC's hibounds contains List and Iterable
     */</span>
    <span class="keyword">def</span> <a title="(newArgs: List[Types.this.Type])Types.this.TypeVar" id="841835">applyArgs</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="847961">newArgs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478797" title="Types.this.TypeVar">TypeVar</a> =
      <span title="Types.this.TypeVar" class="keyword">if</span> <span class="delimiter">(</span><a href="#847961" title="List[Types.this.Type]">newArgs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#478797" title="Types.this.TypeVar" class="keyword">this</a> <span class="comment">// SubstMap relies on this (though this check is redundant when called from appliedType...)</span>
      <span class="keyword">else</span> <a href="#841811" title="(origin: Types.this.Type, constr: Types.this.TypeConstraint, args: List[Types.this.Type], params: List[Types.this.Symbol])Types.this.TypeVar">TypeVar</a><span class="delimiter">(</span><a href="#847557" title="=&gt; Types.this.Type">origin</a>, <a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>, <a href="#847961" title="List[Types.this.Type]">newArgs</a>, <a href="#847560" title="=&gt; List[Types.this.Symbol]">params</a><span class="delimiter">)</span> <span class="comment">// @M TODO: interaction with undoLog??</span>
        <span class="comment">// newArgs.length may differ from args.length (could've been empty before)</span>
      <span class="comment">// example: when making new typevars, you start out with C[A], then you replace C by ?C, which should yield ?C[A], then A by ?A, ?C[?A]</span>
      <span class="comment">// we need to track a TypeVar's arguments, and map over them (see TypeMap::mapOver)</span>
      <span class="comment">// TypeVars get applied to different arguments over time (in asSeenFrom)</span>
       <span class="comment">// -- see pos/tcpoly_infer_implicit_tuplewrapper.scala</span>
      <span class="comment">// thus: make new TypeVar's for every application of a TV to args,</span>
      <span class="comment">// inference may generate several TypeVar's for a single type parameter that must be inferred,</span>
      <span class="comment">// only one of them is in the set of tvars that need to be solved, but</span>
      <span class="comment">// they share the same TypeConstraint instance</span>

    <span class="comment">// &lt;region name=&quot;constraint mutators + undoLog&quot;&gt;</span>
    <span class="comment">// invariant: before mutating constr, save old state in undoLog (undoLog is used to reset constraints to avoid piling up unrelated ones)</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Unit" id="841836">setInst</a><span class="delimiter">(</span><a title="Types.this.Type" id="847969">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
<span class="comment">//      assert(!(tp containsTp this), this)</span>
      <a href="#478711" title="object Types.this.undoLog">undoLog</a> <a href="#508586" title="(tv: Types.this.TypeVar)Unit">record</a> <a href="#478797" title="Types.this.TypeVar" class="keyword">this</a>
      <a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="(x$1: Types.this.Type)Unit">inst</a> = <a href="#847969" title="Types.this.Type">tp</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Types.this.Type, isNumericBound: Boolean)Unit" id="841837">addLoBound</a><span class="delimiter">(</span><a title="Types.this.Type" id="847971">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Boolean" id="847974">isNumericBound</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#847971" title="Types.this.Type">tp</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#478797" title="Types.this.TypeVar" class="keyword">this</a><span class="delimiter">)</span> <span class="comment">// implies there is a cycle somewhere (?)</span>
      <span class="comment">//println(&quot;addLoBound: &quot;+(safeToString, debugString(tp))) //DEBUG</span>
      <a href="#478711" title="object Types.this.undoLog">undoLog</a> <a href="#508586" title="(tv: Types.this.TypeVar)Unit">record</a> <a href="#478797" title="Types.this.TypeVar" class="keyword">this</a>
      <a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842208" title="(tp: Types.this.Type, isNumericBound: Boolean)Unit">addLoBound</a><span class="delimiter">(</span><a href="#847971" title="Types.this.Type">tp</a>, <a href="#847974" title="Boolean">isNumericBound</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Types.this.Type, isNumericBound: Boolean)Unit" id="841838">addHiBound</a><span class="delimiter">(</span><a title="Types.this.Type" id="847985">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Boolean" id="847988">isNumericBound</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// assert(tp != this)</span>
      <span class="comment">//println(&quot;addHiBound: &quot;+(safeToString, debugString(tp))) //DEBUG</span>
      <a href="#478711" title="object Types.this.undoLog">undoLog</a> <a href="#508586" title="(tv: Types.this.TypeVar)Unit">record</a> <a href="#478797" title="Types.this.TypeVar" class="keyword">this</a>
      <a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842209" title="(tp: Types.this.Type, isNumericBound: Boolean)Unit">addHiBound</a><span class="delimiter">(</span><a href="#847985" title="Types.this.Type">tp</a>, <a href="#847988" title="Boolean">isNumericBound</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">// &lt;/region&gt;</span>

    <span class="comment">// ignore subtyping&amp;equality checks while true -- see findMember</span>
    <span class="keyword">private</span><span class="delimiter">[</span>Types<span class="delimiter">]</span> <span class="keyword">var</span> <a title="Boolean" id="841840">suspended</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Called when a TypeVar is involved in a subtyping check.  Result is whether
     *  this TypeVar could plausibly be a [super/sub]type of argument `tp` and if so,
     *  tracks tp as a [lower/upper] bound of this TypeVar.
     *
     *  if (isLowerBound)   this typevar could be a subtype, track tp as a lower bound
     *  if (!isLowerBound)  this typevar could be a supertype, track tp as an upper bound
     *
     *  If isNumericBound is true, the subtype check is performed with weak_&lt;:&lt; instead of &lt;:&lt;.
     */</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type, isLowerBound: Boolean, isNumericBound: Boolean)Boolean" id="841842">registerBound</a><span class="delimiter">(</span><a title="Types.this.Type" id="843031">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Boolean" id="843032">isLowerBound</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a>, <a title="Boolean" id="843035">isNumericBound</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="comment">// println(&quot;regBound: &quot;+(safeToString, debugString(tp), isLowerBound)) //@MDEBUG</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843032" title="Boolean">isLowerBound</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#843031" title="Types.this.Type">tp</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#478797" title="Types.this.TypeVar" class="keyword">this</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="847993">checkSubtypeLower</a><span class="delimiter">(</span><a title="Types.this.Type" id="848005">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="848006">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#843035" title="Boolean">isNumericBound</a><span class="delimiter">)</span> <a href="#848005" title="Types.this.Type">tp1</a> <a href="#507224" title="(that: Types.this.Type)Boolean">weak_&lt;:&lt;</a> <a href="#848006" title="Types.this.Type">tp2</a>
        <span class="keyword">else</span> <a href="#848005" title="Types.this.Type">tp1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#848006" title="Types.this.Type">tp2</a>

      <span class="comment">// swaps the arguments if it's an upper bound</span>
      <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="847994">checkSubtype</a><span class="delimiter">(</span><a title="Types.this.Type" id="848007">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="848008">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#843032" title="Boolean">isLowerBound</a><span class="delimiter">)</span> <a href="#847993" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">checkSubtypeLower</a><span class="delimiter">(</span><a href="#848007" title="Types.this.Type">tp1</a>, <a href="#848008" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#847993" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">checkSubtypeLower</a><span class="delimiter">(</span><a href="#848008" title="Types.this.Type">tp2</a>, <a href="#848007" title="Types.this.Type">tp1</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="847995">addBound</a><span class="delimiter">(</span><a title="Types.this.Type" id="848009">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#843032" title="Boolean">isLowerBound</a><span class="delimiter">)</span> <a href="#841837" title="(tp: Types.this.Type, isNumericBound: Boolean)Unit">addLoBound</a><span class="delimiter">(</span><a href="#848009" title="Types.this.Type">tp</a>, <a href="#843035" title="Boolean">isNumericBound</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#841838" title="(tp: Types.this.Type, isNumericBound: Boolean)Unit">addHiBound</a><span class="delimiter">(</span><a href="#848009" title="Types.this.Type">tp</a>, <a href="#843035" title="Boolean">isNumericBound</a><span class="delimiter">)</span>
        <span class="comment">// println(&quot;addedBound: &quot;+(this, tp)) // @MDEBUG</span>
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Simple case: type arguments can be ignored, because either this typevar has
       *  no type parameters, or we are comparing to Any/Nothing.
       *
       *  The latter condition is needed because HK unification is limited to constraints of the shape
       *    TC1[T1,..., TN] &lt;: TC2[T'1,...,T'N]
       *  which would preclude the following important constraints:
       *    Nothing &lt;: ?TC[?T]
       *    ?TC[?T] &lt;: Any
       */</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="847996">unifySimple</a> = <span class="delimiter">(</span><a href="#847560" title="=&gt; List[Types.this.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#843031" title="Types.this.Type">tp</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#843031" title="Types.this.Type">tp</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#847995" title="(tp: Types.this.Type)Boolean">addBound</a><span class="delimiter">(</span><a href="#843031" title="Types.this.Type">tp</a><span class="delimiter">)</span>

      <span class="comment">/** Full case: involving a check of the form
       *    TC1[T1,..., TN] &lt;: TC2[T'1,...,T'N]
       *  Checks subtyping of higher-order type vars, and uses variances as defined in the
       *  type parameter we're trying to infer (the result will be sanity-checked later)
       */</span>
      <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="847997">unifyFull</a><span class="delimiter">(</span><a title="Types.this.Type" id="848020">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#847559" title="=&gt; List[Types.this.Type]">typeArgs</a>, <a href="#848020" title="Types.this.Type">tp</a>.<a href="#507172" title="=&gt; List[Types.this.Type]">typeArgs</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span> <span class="comment">// this is a higher-kinded type var with same arity as tp</span>
        <span class="comment">// side effect: adds the type constructor itself as a bound</span>
        <a href="#847995" title="(tp: Types.this.Type)Boolean">addBound</a><span class="delimiter">(</span><a href="#848020" title="Types.this.Type">tp</a>.<a href="#507171" title="=&gt; Types.this.Type">typeConstructor</a><span class="delimiter">)</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#843032" title="Boolean">isLowerBound</a><span class="delimiter">)</span> <a href="#478938" title="(tps1: List[Types.this.Type], tps2: List[Types.this.Type], tparams: List[Types.this.Symbol])Boolean">isSubArgs</a><span class="delimiter">(</span><a href="#848020" title="Types.this.Type">tp</a>.<a href="#507172" title="=&gt; List[Types.this.Type]">typeArgs</a>, <a href="#847559" title="=&gt; List[Types.this.Type]">typeArgs</a>, <a href="#847560" title="=&gt; List[Types.this.Symbol]">params</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#478938" title="(tps1: List[Types.this.Type], tps2: List[Types.this.Type], tparams: List[Types.this.Symbol])Boolean">isSubArgs</a><span class="delimiter">(</span><a href="#847559" title="=&gt; List[Types.this.Type]">typeArgs</a>, <a href="#848020" title="Types.this.Type">tp</a>.<a href="#507172" title="=&gt; List[Types.this.Type]">typeArgs</a>, <a href="#847560" title="=&gt; List[Types.this.Symbol]">params</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** TODO: need positive/negative test cases demonstrating this is correct.
       */</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="847998">unifyParents</a> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#843032" title="Boolean">isLowerBound</a><span class="delimiter">)</span> <a href="#843031" title="Types.this.Type">tp</a>.<a href="#507168" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <a href="#847997" title="(tp: Types.this.Type)Boolean">unifyFull</a>
        <span class="keyword">else</span> <a href="#843031" title="Types.this.Type">tp</a>.<a href="#507168" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <a href="#847997" title="(tp: Types.this.Type)Boolean">unifyFull</a>

      <span class="comment">// TODO: fancier unification, maybe rewrite constraint as follows?</span>
      <span class="comment">// val sym = constr.hiBounds map {_.typeSymbol} find { _.typeParams.length == typeArgs.length}</span>
      <span class="comment">// this &lt;: tp.baseType(sym)</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#841840" title="=&gt; Boolean">suspended</a><span class="delimiter">)</span> <a href="#847994" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">checkSubtype</a><span class="delimiter">(</span><a href="#843031" title="Types.this.Type">tp</a>, <a href="#847557" title="=&gt; Types.this.Type">origin</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842214" title="=&gt; Boolean">instValid</a><span class="delimiter">)</span> <a href="#847994" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">checkSubtype</a><span class="delimiter">(</span><a href="#843031" title="Types.this.Type">tp</a>, <a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a><span class="delimiter">)</span>  <span class="comment">// type var is already set</span>
      <span class="keyword">else</span> <a href="#841845" title="(tp: Types.this.Type)Boolean">isRelatable</a><span class="delimiter">(</span><a href="#843031" title="Types.this.Type">tp</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span> <span class="comment">// gradually let go of some type precision in hopes of finding a type that has the same shape as the type variable</span>
        <span class="comment">// okay, this just screams &quot;CLEAN ME UP&quot; -- I think we could use tp.widen instead of tp straight from the get-go in registerBound, since we don't infer singleton types anyway (but maybe that'll change?)</span>
        <a href="#847996" title="=&gt; Boolean">unifySimple</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#847997" title="(tp: Types.this.Type)Boolean">unifyFull</a><span class="delimiter">(</span><a href="#843031" title="Types.this.Type">tp</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#847997" title="(tp: Types.this.Type)Boolean">unifyFull</a><span class="delimiter">(</span><a href="#843031" title="Types.this.Type">tp</a>.<a href="#507189" title="=&gt; Types.this.Type">dealias</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#847997" title="(tp: Types.this.Type)Boolean">unifyFull</a><span class="delimiter">(</span><a href="#843031" title="Types.this.Type">tp</a>.<a href="#507163" title="=&gt; Types.this.Type">widen</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#847997" title="(tp: Types.this.Type)Boolean">unifyFull</a><span class="delimiter">(</span><a href="#843031" title="Types.this.Type">tp</a>.<a href="#507163" title="=&gt; Types.this.Type">widen</a>.<a href="#507189" title="=&gt; Types.this.Type">dealias</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#847998" title="=&gt; Boolean">unifyParents</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Types.this.Type, typeVarLHS: Boolean)Boolean" id="841843">registerTypeEquality</a><span class="delimiter">(</span><a title="Types.this.Type" id="848047">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Boolean" id="848048">typeVarLHS</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="comment">//println(&quot;regTypeEq: &quot;+(safeToString, debugString(tp), typeVarLHS)) //@MDEBUG</span>
      <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="848050">checkIsSameType</a><span class="delimiter">(</span><a title="Types.this.Type" id="848051">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> =
        <span title="Boolean" class="keyword">if</span><span class="delimiter">(</span><a href="#848048" title="Boolean">typeVarLHS</a><span class="delimiter">)</span> <a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#848051" title="Types.this.Type">tp</a>
        <span class="keyword">else</span>           <a href="#848051" title="Types.this.Type">tp</a>          <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a>

      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#841840" title="=&gt; Boolean">suspended</a><span class="delimiter">)</span> <a href="#848047" title="Types.this.Type">tp</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#847557" title="=&gt; Types.this.Type">origin</a>
      <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842214" title="=&gt; Boolean">instValid</a><span class="delimiter">)</span> <a href="#848050" title="(tp: Types.this.Type)Boolean">checkIsSameType</a><span class="delimiter">(</span><a href="#848047" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#841845" title="(tp: Types.this.Type)Boolean">isRelatable</a><span class="delimiter">(</span><a href="#848047" title="Types.this.Type">tp</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="848052">newInst</a> = <a href="#848054" title="(tp: Types.this.Type)Types.this.Type">wildcardToTypeVarMap</a><span class="delimiter">(</span><a href="#848047" title="Types.this.Type">tp</a><span class="delimiter">)</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842210" title="(tp: Types.this.Type)Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="#848052" title="Types.this.Type">newInst</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#841836" title="(tp: Types.this.Type)Unit">setInst</a><span class="delimiter">(</span><a href="#848047" title="Types.this.Type">tp</a><span class="delimiter">)</span>
          <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * ?A.T =:= tp is rewritten as the constraint ?A &lt;: {type T = tp}
     *
     * TODO: make these constraints count (incorporate them into implicit search in applyImplicitArgs)
     * (T corresponds to @param sym)
     */</span>
    <span class="keyword">def</span> <a title="(sym: Types.this.Symbol, tp: Types.this.Type)Boolean" id="841844">registerTypeSelection</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="848061">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Type" id="848062">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="848064">bound</a> = <a href="#478809" title="(parents: List[Types.this.Type], owner: Types.this.Symbol)Types.this.Type">refinedType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.WildcardType.type*)List[Types.this.WildcardType.type]">List</a><span class="delimiter">(</span><a href="#843675" title="object Types.this.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Types.this.TypeSymbol" id="848065">bsym</a> = <a href="#848064" title="Types.this.Type">bound</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509143" title="(pos: Types.this.Position, name: Types.this.TypeName)Types.this.TypeSymbol">newAliasType</a><span class="delimiter">(</span><a href="Positions.scala.html#479233" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>, <a href="#848061" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a>.<a href="Names.scala.html#501118" title="=&gt; Types.this.TypeName">toTypeName</a><span class="delimiter">)</span>
      <a href="#848065" title="Types.this.TypeSymbol">bsym</a> <a href="Symbols.scala.html#509274" title="(info: Types.this.Type)bsym.type">setInfo</a> <a href="#848062" title="Types.this.Type">tp</a>
      <a href="#848064" title="Types.this.Type">bound</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a> <a href="Scopes.scala.html#514360" title="(sym: Types.this.Symbol)Types.this.Symbol">enter</a> <a href="#848065" title="Types.this.TypeSymbol">bsym</a>
      <a href="#841842" title="(tp: Types.this.Type, isLowerBound: Boolean, isNumericBound: Boolean)Boolean">registerBound</a><span class="delimiter">(</span><a href="#848064" title="Types.this.Type">bound</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Can this variable be related in a constraint to type `tp'?
     *  This is not the case if `tp' contains type skolems whose
     *  skolemization level is higher than the level of this variable.
     */</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="841845">isRelatable</a><span class="delimiter">(</span><a title="Types.this.Type" id="848045">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#848045" title="Types.this.Type">tp</a>.<a href="#507217" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="Types.this.Type" id="848103">t</a> =&gt;
        <a href="#848103" title="Types.this.Type">t</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="848104">ts</a>: <a href="Symbols.scala.html#478664" title="Types.this.TypeSkolem">TypeSkolem</a> =&gt; <a href="#848104" title="Types.this.TypeSkolem">ts</a>.<a href="Symbols.scala.html#837694" title="=&gt; Int">level</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#841833" title="=&gt; Int">level</a>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="841846">isHigherKinded</a> = <a href="#847559" title="=&gt; List[Types.this.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#847560" title="=&gt; List[Types.this.Symbol]">params</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="841848">normalize</a>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842214" title="=&gt; Boolean">instValid</a><span class="delimiter">)</span> <a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a>
      <span class="comment">// get here when checking higher-order subtyping of the typevar by itself</span>
      <span class="comment">// TODO: check whether this ever happens?</span>
      <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#841846" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span> <a href="#478820" title="(tps: List[Types.this.Symbol], body: Types.this.Type)Types.this.Type">typeFun</a><span class="delimiter">(</span><a href="#847560" title="=&gt; List[Types.this.Symbol]">params</a>, <a href="#841835" title="(newArgs: List[Types.this.Type])Types.this.TypeVar">applyArgs</a><span class="delimiter">(</span><a href="#847560" title="=&gt; List[Types.this.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#848127" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509285" title="=&gt; Types.this.Type">typeConstructor</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#478797" title="Types.this.TypeVar" class="keyword">super</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Symbol" id="841849">typeSymbol</a> = <a href="#847557" title="=&gt; Types.this.Type">origin</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="841850">isStable</a> = <a href="#847557" title="=&gt; Types.this.Type">origin</a>.<a href="#507151" title="=&gt; Boolean">isStable</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="841851">isVolatile</a> = <a href="#847557" title="=&gt; Types.this.Type">origin</a>.<a href="#507152" title="=&gt; Boolean">isVolatile</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Any" id="841852">levelString</a> = <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#469844" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#841833" title="=&gt; Int">level</a> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="841853">safeToString</a> = <a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="java.lang.String" class="keyword">null</span>   =&gt; <span title="java.lang.String(&quot;&lt;null &quot;)" class="string">&quot;&lt;null &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#847557" title="=&gt; Types.this.Type">origin</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span>
      <span class="keyword">case</span> <a href="#843724" title="java.lang.String">NoType</a> =&gt; <span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#841852" title="=&gt; Any">levelString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#847557" title="=&gt; Types.this.Type">origin</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDebugging.scala.html#479280" title="(tp: Types.this.Type)String">typeArgsString</a><span class="delimiter">(</span><a href="#478797" title="Types.this.TypeVar" class="keyword">this</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="java.lang.String" id="848184">x</a>      =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#848184" title="Types.this.Type">x</a>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="841854">kind</a> = <span title="java.lang.String(&quot;TypeVar&quot;)" class="string">&quot;TypeVar&quot;</span>

    <span class="keyword">def</span> <a title="=&gt; Types.this.TypeVar" id="841855">cloneInternal</a> = <span class="delimiter">{</span>
      <span class="comment">// cloning a suspended type variable when it's suspended will cause the clone</span>
      <span class="comment">// to never be resumed with the current implementation</span>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#841840" title="=&gt; Boolean">suspended</a><span class="delimiter">)</span>
      <a href="#841811" title="(origin: Types.this.Type, constr: Types.this.TypeConstraint, args: List[Types.this.Type], params: List[Types.this.Symbol])Types.this.TypeVar">TypeVar</a><span class="delimiter">(</span><a href="#847557" title="=&gt; Types.this.Type">origin</a>, <a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a> <a href="#842215" title="=&gt; Types.this.TypeConstraint">cloneInternal</a>, <a href="#847559" title="=&gt; List[Types.this.Type]">typeArgs</a>, <a href="#847560" title="=&gt; List[Types.this.Symbol]">params</a><span class="delimiter">)</span> <span class="comment">// @M TODO: clone args/params?</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A type carrying some annotations. Created by the typechecker
   *  when eliminating ``Annotated'' trees (see typedAnnotated).
   *
   *  @param annotations the list of annotations on the type
   *  @param underlying the type without the annotation
   *  @param selfsym a &quot;self&quot; symbol with type &lt;code&gt;underlying&lt;/code&gt;;
   *    only available if -Yself-in-annots is turned on. Can be NoSymbol
   *    if it is not used.
   */</span>
  case <span class="keyword">class</span> <a title="class AnnotatedType extends Types.this.Type with Types.this.RewrappingTypeProxy with ScalaObject with Product with Serializable" id="547085">AnnotatedType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">override</span> <span class="keyword">val</span> <a title="List[Types.this.AnnotationInfo]" id="843473">annotations</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span>,
                           <span class="keyword">override</span> <span class="keyword">val</span> <a title="Types.this.Type" id="843474">underlying</a>: <a href="#478720" title="Types.this.Type">Type</a>,
                           <span class="keyword">override</span> <span class="keyword">val</span> <a title="Types.this.Symbol" id="843475">selfsym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#478719" title="Types.this.RewrappingTypeProxy">RewrappingTypeProxy</a> <span class="delimiter">{</span>

    <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#843473" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.AnnotatedType" id="547123">rewrap</a><span class="delimiter">(</span><a title="Types.this.Type" id="848216">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#547085" title="(annotations: List[Types.this.AnnotationInfo], underlying: Types.this.Type, selfsym: Types.this.Symbol)Types.this.AnnotatedType">AnnotatedType</a><span class="delimiter">(</span><a href="#843473" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a>, <a href="#848216" title="Types.this.Type">tp</a>, <a href="#843475" title="=&gt; Types.this.Symbol">selfsym</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="547124">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#547125" title="=&gt; Boolean">isTrivial0</a>
    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="547126">isTrivial0</a> = <a href="#843474" title="=&gt; Types.this.Type">underlying</a>.<a href="#507149" title="=&gt; Boolean">isTrivial</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#843473" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.AnnotationInfo =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#848213" title="Types.this.AnnotationInfo">_</a>.<a href="AnnotationInfos.scala.html#532491" title="=&gt; Boolean">isTrivial</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="547127">safeToString</a>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="848223">attString</a> =
        <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#843473" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <span class="keyword">else</span>
          <a href="#843473" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot; @&quot;)" class="string">&quot; @&quot;</span>, <span title="java.lang.String(&quot; @&quot;)" class="string">&quot; @&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

      <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">underlying</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <a href="#848223" title="java.lang.String">attString</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Add a number of annotations to this type */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(annots: List[Types.this.AnnotationInfo])Types.this.Type" id="547128">withAnnotations</a><span class="delimiter">(</span><a title="List[Types.this.AnnotationInfo]" id="848228">annots</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <a href="#547085" title="(annotations: List[Types.this.AnnotationInfo], underlying: Types.this.Type, selfsym: Types.this.Symbol)Types.this.AnnotatedType">copy</a><span class="delimiter">(</span><a href="#848228" title="List[Types.this.AnnotationInfo]">annots</a><a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[Types.this.AnnotationInfo])List[Types.this.AnnotationInfo]">:::</a><a href="#547085" title="AnnotatedType.this.type" class="keyword">this</a>.<a href="#843473" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a><span class="delimiter">)</span>

    <span class="comment">/** Remove any annotations from this type */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.Type" id="547129">withoutAnnotations</a> = <a href="#843474" title="=&gt; Types.this.Type">underlying</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a>

    <span class="comment">/** Set the self symbol */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Types.this.AnnotatedType" id="547130">withSelfsym</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="848254">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#547085" title="(annotations: List[Types.this.AnnotationInfo], underlying: Types.this.Type, selfsym: Types.this.Symbol)Types.this.AnnotatedType">AnnotatedType</a><span class="delimiter">(</span><a href="#843473" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a>, <a href="#843474" title="=&gt; Types.this.Type">underlying</a>, <a href="#848254" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>

    <span class="comment">/** Drop the annotations on the bounds, unless but the low and high
     *  bounds are exactly tp.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.TypeBounds" id="547131">bounds</a>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a> = <a href="#843474" title="=&gt; Types.this.Type">underlying</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a> <span title="Types.this.TypeBounds" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.TypeBounds">TypeBounds</span><span class="delimiter">(</span>_: <span class="keyword">this</span>.<span class="keyword">type</span>, _: <span class="keyword">this</span>.<span class="keyword">type</span><span class="delimiter">)</span> =&gt; <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#547085" title="Types.this.AnnotatedType" class="keyword">this</a>, <a href="#547085" title="Types.this.AnnotatedType" class="keyword">this</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.TypeBounds" id="848259">oftp</a>                                   =&gt; <a href="#848259" title="Types.this.TypeBounds">oftp</a>
    <span class="delimiter">}</span>

    <span class="comment">// ** Replace formal type parameter symbols with actual type arguments. * /</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type" id="547132">instantiateTypeParams</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="848260">formals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="848261">actuals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Types.this.AnnotationInfo]" id="848264">annotations1</a> = <a href="#843473" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.AnnotationInfo =&gt; Types.this.AnnotationInfo)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.AnnotationInfo],Types.this.AnnotationInfo,List[Types.this.AnnotationInfo]])List[Types.this.AnnotationInfo]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Types.this.AnnotationInfo,List[Types.this.AnnotationInfo]]" class="delimiter">(</a><a title="Types.this.AnnotationInfo" id="848282">info</a> =&gt; <a href="AnnotationInfos.scala.html#533292" title="(atp: Types.this.Type, args: List[Types.this.Tree], assocs: List[(Types.this.Name, Types.this.ClassfileAnnotArg)])Types.this.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#848282" title="Types.this.AnnotationInfo">info</a>.<a href="AnnotationInfos.scala.html#532479" title="=&gt; Types.this.Type">atp</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span>
          <a href="#848260" title="List[Types.this.Symbol]">formals</a>, <a href="#848261" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span>, <a href="#848282" title="Types.this.AnnotationInfo">info</a>.<a href="AnnotationInfos.scala.html#532481" title="=&gt; List[Types.this.Tree]">args</a>, <a href="#848282" title="Types.this.AnnotationInfo">info</a>.<a href="AnnotationInfos.scala.html#532483" title="=&gt; List[(Types.this.Name, Types.this.ClassfileAnnotArg)]">assocs</a><span class="delimiter">)</span>.<a href="AnnotationInfos.scala.html#532490" title="(pos: scala.tools.nsc.util.Position)Types.this.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#848282" title="Types.this.AnnotationInfo">info</a>.<a href="AnnotationInfos.scala.html#532489" title="=&gt; Types.this.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="848265">underlying1</a> = <a href="#843474" title="=&gt; Types.this.Type">underlying</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#848260" title="List[Types.this.Symbol]">formals</a>, <a href="#848261" title="List[Types.this.Type]">actuals</a><span class="delimiter">)</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#848264" title="List[Types.this.AnnotationInfo]">annotations1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843473" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#848265" title="Types.this.Type">underlying1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843474" title="=&gt; Types.this.Type">underlying</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#547085" title="Types.this.AnnotatedType" class="keyword">this</a>
      <span class="keyword">else</span> <a href="#547085" title="(annotations: List[Types.this.AnnotationInfo], underlying: Types.this.Type, selfsym: Types.this.Symbol)Types.this.AnnotatedType">AnnotatedType</a><span class="delimiter">(</span><a href="#848264" title="List[Types.this.AnnotationInfo]">annotations1</a>, <a href="#848265" title="Types.this.Type">underlying1</a>, <a href="#843475" title="=&gt; Types.this.Symbol">selfsym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Return the base type sequence of tp, dropping the annotations, unless the base type sequence of tp
      * is precisely tp itself. */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Types.this.BaseTypeSeq" id="547133">baseTypeSeq</a>: <a href="BaseTypeSeqs.scala.html#479035" title="Types.this.BaseTypeSeq">BaseTypeSeq</a> = <span class="delimiter">{</span>
       <span class="keyword">val</span> <a title="Types.this.BaseTypeSeq" id="848322">oftp</a> = <a href="#843474" title="=&gt; Types.this.Type">underlying</a>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a>
       <span title="Types.this.BaseTypeSeq" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#848322" title="Types.this.BaseTypeSeq">oftp</a>.<a href="BaseTypeSeqs.scala.html#594265" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="BaseTypeSeqs.scala.html#594268" title="(i: Int)Types.this.Type">oftp</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843474" title="=&gt; Types.this.Type">underlying</a><span class="delimiter">)</span><span class="delimiter">)</span>
         <a href="BaseTypeSeqs.scala.html#479038" title="(tp: Types.this.Type)Types.this.BaseTypeSeq">baseTypeSingletonSeq</a><span class="delimiter">(</span><a href="#547085" title="Types.this.AnnotatedType" class="keyword">this</a><span class="delimiter">)</span>
       <span class="keyword">else</span>
         <a href="#848322" title="Types.this.BaseTypeSeq">oftp</a>
     <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="547134">kind</a> = <span title="java.lang.String(&quot;AnnotatedType&quot;)" class="string">&quot;AnnotatedType&quot;</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Types.this.AnnotatedType" id="478799">AnnotatedType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/Types.scala.html#433944" title="Types.this.AnnotatedTypeExtractor">AnnotatedTypeExtractor</a>

  <span class="comment">/** A class representing types with a name. When an application uses
   *  named arguments, the named argument types for calling isApplicable
   *  are represented as NamedType.
   */</span>
  case <span class="keyword">class</span> <a title="class NamedType extends Types.this.Type with ScalaObject with Product with Serializable" id="848393">NamedType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Name" id="858365">name</a>: <a href="Names.scala.html#478413" title="Types.this.Name">Name</a>, <a title="Types.this.Type" id="858366">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478720" title="Types.this.Type">Type</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="848368">safeToString</a>: <span title="String">String</span> = <a href="#858365" title="=&gt; Types.this.Name">name</a>.<a href="Names.scala.html#501123" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#858366" title="=&gt; Types.this.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="comment">/** A class representing an as-yet unevaluated type.
   */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class LazyType extends Types.this.Type with Types.this.AbsLazyType with ScalaObject" id="478804">LazyType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478720" title="Types.this.Type">Type</a> <span class="keyword">with</span> <a href="../../../reflect/generic/Types.scala.html#433931" title="Types.this.AbsLazyType">AbsLazyType</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="507255">kind</a> = <span title="java.lang.String(&quot;LazyType&quot;)" class="string">&quot;LazyType&quot;</span>
  <span class="delimiter">}</span>

<span class="comment">// Creators ---------------------------------------------------------------</span>

  <span class="comment">/** Rebind symbol `sym' to an overriding member in type `pre'.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol" id="478805">rebind</a><span class="delimiter">(</span><a title="Types.this.Type" id="848440">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="848441">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Types.this.Symbol" id="848443">owner</a> = <a href="#848441" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>
    <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#848443" title="Types.this.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#848443" title="Types.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#848440" title="Types.this.Type">pre</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#848441" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509237" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#848441" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">//Console.println(&quot;rebind &quot;+pre+&quot; &quot;+sym)//DEBUG</span>
      <span class="keyword">val</span> <a title="Types.this.Symbol" id="848448">rebind</a> = <a href="#848440" title="Types.this.Type">pre</a>.<a href="#507201" title="(name: Types.this.Name)Types.this.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#848441" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>.<a href="Symbols.scala.html#509301" title="(cond: Types.this.Symbol =&gt; Boolean)Types.this.Symbol">suchThat</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="848451">sym</a> =&gt; <a href="#848451" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435370" title="=&gt; Boolean">isType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#848451" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span>
      <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#848448" title="Types.this.Symbol">rebind</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#848441" title="Types.this.Symbol">sym</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="comment">// Console.println(&quot;rebound &quot;+pre+&quot; &quot;+sym+&quot; to &quot;+rebind)//DEBUG</span>
        <a href="#848448" title="Types.this.Symbol">rebind</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#848441" title="Types.this.Symbol">sym</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Convert a `super' prefix to a this-type if `sym'
   *  is abstract or final.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Types.this.Type, sym: Types.this.Symbol)Types.this.Type" id="478806">removeSuper</a><span class="delimiter">(</span><a title="Types.this.Type" id="848456">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="848457">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#848456" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Types.this.Type">SuperType</span><span class="delimiter">(</span><a title="Types.this.Type" id="848459">thistp</a>, _<span class="delimiter">)</span> =&gt;
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#848457" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509237" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#848457" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <a href="#848459" title="Types.this.Type">thistp</a>
      <span class="keyword">else</span> <a href="#848456" title="Types.this.Type">tp</a>
    <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
      <a href="#848456" title="Types.this.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="comment">/** The canonical creator for single-types */</span>
  <span class="keyword">def</span> <a title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type" id="478807">singleType</a><span class="delimiter">(</span><a title="Types.this.Type" id="531686">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="531687">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span>
      <a href="#531687" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>.<a href="#507173" title="=&gt; Types.this.Type">resultType</a>
    <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#531687" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435397" title="=&gt; Boolean">isRootPackage</a><span class="delimiter">)</span>
      <a href="#546333" title="(sym: Types.this.Symbol)Types.this.Type">ThisType</a><span class="delimiter">(</span><a href="Definitions.scala.html#507882" title="=&gt; Types.this.ModuleClassSymbol">RootClass</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Types.this.Symbol" id="848463">sym1</a> = <a href="#478805" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol">rebind</a><span class="delimiter">(</span><a href="#531686" title="Types.this.Type">pre</a>, <a href="#531687" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="848464">pre1</a> = <a href="#478806" title="(tp: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">removeSuper</a><span class="delimiter">(</span><a href="#531686" title="Types.this.Type">pre</a>, <a href="#848463" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#848464" title="Types.this.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#531686" title="Types.this.Type">pre</a><span class="delimiter">)</span> <a href="#848463" title="Types.this.Symbol">sym1</a> = <a href="#478805" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol">rebind</a><span class="delimiter">(</span><a href="#848464" title="Types.this.Type">pre1</a>, <a href="#848463" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
      <a href="#546410" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">SingleType</a><span class="delimiter">(</span><a href="#848464" title="Types.this.Type">pre1</a>, <a href="#848463" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** the canonical creator for a refined type with a given scope */</span>
  <span class="keyword">def</span> <a title="(parents: List[Types.this.Type], owner: Types.this.Symbol, decls: Types.this.Scope, pos: Types.this.Position)Types.this.Type" id="478808">refinedType</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="838996">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Types.this.Symbol" id="838997">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Scope" id="838998">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a>, <a title="Types.this.Position" id="838999">pos</a>: <a href="../util/Position.scala.html#42664" title="Types.this.Position">Position</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#838996" title="List[Types.this.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="Definitions.scala.html#507925" title="=&gt; Types.this.Symbol">ObjectClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a> <span class="keyword">else</span> <a href="#838996" title="List[Types.this.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.ClassSymbol" id="848467">clazz</a> = <a href="#838997" title="Types.this.Symbol">owner</a>.<a href="Symbols.scala.html#509160" title="(pos: Types.this.Position)Types.this.ClassSymbol">newRefinementClass</a><span class="delimiter">(</span><a href="Positions.scala.html#479233" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Types.this.RefinedType" id="848468">result</a> = <a href="#546654" title="(parents: List[Types.this.Type], decls: Types.this.Scope, clazz: Types.this.Symbol)Types.this.RefinedType">RefinedType</a><span class="delimiter">(</span><a href="#838996" title="List[Types.this.Type]">parents</a>, <a href="#838998" title="Types.this.Scope">decls</a>, <a href="#848467" title="Types.this.ClassSymbol">clazz</a><span class="delimiter">)</span>
      <a href="#848467" title="Types.this.ClassSymbol">clazz</a>.<a href="Symbols.scala.html#509274" title="(info: Types.this.Type)clazz.type">setInfo</a><span class="delimiter">(</span><a href="#848468" title="Types.this.RefinedType">result</a><span class="delimiter">)</span>
      <a href="#848468" title="Types.this.RefinedType">result</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The canonical creator for a refined type with an initially empty scope.
   *
   *  @param parents ...
   *  @param owner   ...
   *  @return        ...
   */</span>
  <span class="keyword">def</span> <a title="(parents: List[Types.this.Type], owner: Types.this.Symbol)Types.this.Type" id="478809">refinedType</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="838991">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Types.this.Symbol" id="838992">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
    <a href="#478808" title="(parents: List[Types.this.Type], owner: Types.this.Symbol, decls: Types.this.Scope, pos: Types.this.Position)Types.this.Type">refinedType</a><span class="delimiter">(</span><a href="#838991" title="List[Types.this.Type]">parents</a>, <a href="#838992" title="Types.this.Symbol">owner</a>, <a href="Scopes.scala.html#514352" title="()Types.this.Scope" class="keyword">new</a> <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a>, <a href="#838992" title="Types.this.Symbol">owner</a>.<a href="Symbols.scala.html#509109" title="=&gt; Types.this.Position">pos</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(original: Types.this.RefinedType, parents: List[Types.this.Type], decls: Types.this.Scope)Types.this.Type" id="478810">copyRefinedType</a><span class="delimiter">(</span><a title="Types.this.RefinedType" id="844317">original</a>: <a href="#546655" title="Types.this.RefinedType">RefinedType</a>, <a title="List[Types.this.Type]" id="844318">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Types.this.Scope" id="844319">decls</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a><span class="delimiter">)</span> =
    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#844318" title="List[Types.this.Type]">parents</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#844317" title="Types.this.RefinedType">original</a>.<a href="#630991" title="=&gt; List[Types.this.Type]">parents</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#844319" title="Types.this.Scope">decls</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#844317" title="Types.this.RefinedType">original</a>.<a href="#630992" title="=&gt; Types.this.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#844317" title="Types.this.RefinedType">original</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.Symbol" id="844322">owner</a> = <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#844317" title="Types.this.RefinedType">original</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a> <span class="keyword">else</span> <a href="#844317" title="Types.this.RefinedType">original</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>
      <span class="keyword">val</span> <a title="Types.this.Type" id="844323">result</a> = <a href="#478809" title="(parents: List[Types.this.Type], owner: Types.this.Symbol)Types.this.Type">refinedType</a><span class="delimiter">(</span><a href="#844318" title="List[Types.this.Type]">parents</a>, <a href="#844322" title="Types.this.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="844324">syms1</a> = <a href="#844319" title="Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514371" title="=&gt; List[Types.this.Symbol]">toList</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="844356">sym</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Symbol =&gt; Types.this.Symbol)Unit">syms1</a><span class="delimiter">)</span>
        <a href="#844323" title="Types.this.Type">result</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514360" title="(sym: Types.this.Symbol)Types.this.Symbol">enter</a><span class="delimiter">(</span><a href="#844356" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509303" title="(owner: Types.this.Symbol)Types.this.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#844323" title="Types.this.Type">result</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="844325">syms2</a> = <a href="#844323" title="Types.this.Type">result</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514371" title="=&gt; List[Types.this.Symbol]">toList</a>
      <span class="keyword">val</span> <a title="Types.this.Type" id="844326">resultThis</a> = <a href="#844323" title="Types.this.Type">result</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509308" title="=&gt; Types.this.Type">thisType</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="844388">sym</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Symbol =&gt; Types.this.Symbol)Unit">syms2</a><span class="delimiter">)</span>
        <a href="#844388" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509274" title="(info: Types.this.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="#844388" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507211" title="(from: Types.this.Symbol, to: Types.this.Type)Types.this.Type">substThis</a><span class="delimiter">(</span><a href="#844317" title="Types.this.RefinedType">original</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>, <a href="#844326" title="Types.this.Type">resultThis</a><span class="delimiter">)</span>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#844324" title="List[Types.this.Symbol]">syms1</a>, <a href="#844325" title="List[Types.this.Symbol]">syms2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#844323" title="Types.this.Type">result</a>
    <span class="delimiter">}</span>

  <span class="comment">/** The canonical creator for typerefs
   *  todo: see how we can clean this up a bit
   */</span>
  <span class="keyword">def</span> <a title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type" id="478811">typeRef</a><span class="delimiter">(</span><a title="Types.this.Type" id="532387">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="532388">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="List[Types.this.Type]" id="532389">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
    <span class="comment">// type alias selections are rebound in TypeMap (&quot;coevolved&quot;, actually -- see #3731)</span>
    <span class="comment">// e.g., when type parameters that are referenced by the alias are instantiated in</span>
    <span class="comment">// the prefix.  See pos/depmet_rebind_typealias.</span>
    <span class="keyword">def</span> <a title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol" id="848483">rebindTR</a><span class="delimiter">(</span><a title="Types.this.Type" id="848485">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="848486">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#848486" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <a href="#478805" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol">rebind</a><span class="delimiter">(</span><a href="#848485" title="Types.this.Type">pre</a>, <a href="#848486" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#848486" title="Types.this.Symbol">sym</a>

    <span class="keyword">val</span> <a title="Types.this.Symbol" id="848484">sym1</a> = <a href="#848483" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol">rebindTR</a><span class="delimiter">(</span><a href="#532387" title="Types.this.Type">pre</a>, <a href="#532388" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>

    <span class="comment">// we require that object is initialized, thus info.typeParams instead of typeParams.</span>
    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#848484" title="Types.this.Symbol">sym1</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#848484" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507182" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#532389" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#848484" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509164" title="=&gt; Boolean">lockOK</a><span class="delimiter">)</span> <a href="#532513" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">TypeRef</a><span class="delimiter">(</span><a href="#532387" title="Types.this.Type">pre</a>, <a href="#848484" title="Types.this.Symbol">sym1</a>, <a href="#532389" title="List[Types.this.Type]">args</a><span class="delimiter">)</span> <span class="comment">// don't expand type alias (cycles checked by lockOK)</span>
      <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <a href="#711710" title="(msg: String)Types.this.TypeError" class="keyword">new</a> <a href="#478998" title="Types.this.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;illegal cyclic reference involving &quot;)" class="string">&quot;illegal cyclic reference involving &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#848484" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="848491">pre1</a> = <a href="#478806" title="(tp: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">removeSuper</a><span class="delimiter">(</span><a href="#532387" title="Types.this.Type">pre</a>, <a href="#848484" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#848491" title="Types.this.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#532387" title="Types.this.Type">pre</a><span class="delimiter">)</span>
        <a href="#478811" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">typeRef</a><span class="delimiter">(</span><a href="#848491" title="Types.this.Type">pre1</a>, <a href="#848483" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol">rebindTR</a><span class="delimiter">(</span><a href="#848491" title="Types.this.Type">pre1</a>, <a href="#848484" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>, <a href="#532389" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#532387" title="Types.this.Type">pre</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Types.this.Type">_</span>: <a href="#478754" title="Types.this.CompoundType">CompoundType</a> <span class="keyword">if</span> <a href="#848484" title="Types.this.Symbol">sym1</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> =&gt;
          <span class="comment">// sharpen prefix so that it is maximal and still contains the class.</span>
          <a href="#532387" title="Types.this.Type">pre</a>.<a href="#507168" title="=&gt; List[Types.this.Type]">parents</a>.<a href="../../../collection/immutable/List.scala.html#49171" title="=&gt; List[Types.this.Type]">reverse</a> <a href="../../../collection/immutable/List.scala.html#49169" title="(p: Types.this.Type =&gt; Boolean)List[Types.this.Type]">dropWhile</a> <span class="delimiter">(</span><a href="#848499" title="Types.this.Type">_</a>.<a href="#507200" title="(name: Types.this.Name)Types.this.Symbol">member</a><span class="delimiter">(</span><a href="#848484" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#848484" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="Types.this.Type">Nil</a>         =&gt; <a href="#532513" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">TypeRef</a><span class="delimiter">(</span><a href="#532387" title="Types.this.Type">pre</a>, <a href="#848484" title="Types.this.Symbol">sym1</a>, <a href="#532389" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Types.this.Type" id="848509">parent</a> :: _ =&gt; <a href="#478811" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">typeRef</a><span class="delimiter">(</span><a href="#848509" title="Types.this.Type">parent</a>, <a href="#848484" title="Types.this.Symbol">sym1</a>, <a href="#532389" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
          <a href="#532513" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">TypeRef</a><span class="delimiter">(</span><a href="#532387" title="Types.this.Type">pre</a>, <a href="#848484" title="Types.this.Symbol">sym1</a>, <a href="#532389" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type" id="478812">copyTypeRef</a><span class="delimiter">(</span><a title="Types.this.Type" id="557706">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="557707">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="557708">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="List[Types.this.Type]" id="557709">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#557706" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="848510">pre0</a>, <a title="Types.this.Symbol" id="848511">sym0</a>, <a title="List[Types.this.Type]" id="848512">args0</a><span class="delimiter">)</span> =&gt;
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#557707" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#848510" title="Types.this.Type">pre0</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#557708" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#848511" title="Types.this.Symbol">sym0</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>

        <span class="keyword">val</span> <a title="Types.this.Symbol" id="848522">sym1</a> = <a href="#557708" title="Types.this.Symbol">sym</a>
        <span class="comment">// we require that object is initialized, thus info.typeParams instead of typeParams.</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#848522" title="Types.this.Symbol">sym1</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#848522" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507182" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#557709" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#848522" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509164" title="=&gt; Boolean">lockOK</a><span class="delimiter">)</span> <a href="#532513" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">TypeRef</a><span class="delimiter">(</span><a href="#557707" title="Types.this.Type">pre</a>, <a href="#848522" title="Types.this.Symbol">sym1</a>, <a href="#557709" title="List[Types.this.Type]">args</a><span class="delimiter">)</span> <span class="comment">// don't expand type alias (cycles checked by lockOK)</span>
          <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <a href="#711710" title="(msg: String)Types.this.TypeError" class="keyword">new</a> <a href="#478998" title="Types.this.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;illegal cyclic reference involving &quot;)" class="string">&quot;illegal cyclic reference involving &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#848522" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#532513" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">TypeRef</a><span class="delimiter">(</span><a href="#557707" title="Types.this.Type">pre</a>, <a href="#848522" title="Types.this.Symbol">sym1</a>, <a href="#557709" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="delimiter">}</span> <span class="keyword">else</span>
        <a href="#478811" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">typeRef</a><span class="delimiter">(</span><a href="#557707" title="Types.this.Type">pre</a>, <a href="#557708" title="Types.this.Symbol">sym</a>, <a href="#557709" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>




  <span class="comment">/** The canonical creator for implicit method types */</span>
  <span class="keyword">def</span> <a title="(params: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.JavaMethodType" id="478813">JavaMethodType</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="848527">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Types.this.Type" id="848528">resultType</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478779" title="Types.this.JavaMethodType">JavaMethodType</a> =
    <span title="Types.this.JavaMethodType" class="keyword">new</span> <a href="#478779" title="Types.this.JavaMethodType">JavaMethodType</a><span class="delimiter">(</span><a href="#848527" title="List[Types.this.Symbol]">params</a>, <a href="#848528" title="Types.this.Type">resultType</a><span class="delimiter">)</span> <span class="comment">// don't unique this!</span>

  <span class="comment">/** Create a new MethodType of the same class as tp, i.e. keep JavaMethodType */</span>
  <span class="keyword">def</span> <a title="(tp: Types.this.Type, params: List[Types.this.Symbol], restpe: Types.this.Type)Types.this.Type" id="478814">copyMethodType</a><span class="delimiter">(</span><a title="Types.this.Type" id="846540">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="List[Types.this.Symbol]" id="846541">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Types.this.Type" id="846542">restpe</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#846540" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Types.this.JavaMethodType">_</span>: <a href="#478779" title="Types.this.JavaMethodType">JavaMethodType</a> =&gt; <a href="#478813" title="(params: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.JavaMethodType">JavaMethodType</a><span class="delimiter">(</span><a href="#846541" title="List[Types.this.Symbol]">params</a>, <a href="#846542" title="Types.this.Type">restpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Types.this.MethodType">_</span> =&gt; <a href="#546837" title="(params: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.MethodType">MethodType</a><span class="delimiter">(</span><a href="#846541" title="List[Types.this.Symbol]">params</a>, <a href="#846542" title="Types.this.Type">restpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A creator for intersection type where intersections of a single type are
   *  replaced by the type itself, and repeated parent classes are merged.
   */</span>
  <span class="keyword">def</span> <a title="(tps: List[Types.this.Type], owner: Types.this.Symbol)Types.this.Type" id="478815">intersectionType</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="815143">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Types.this.Symbol" id="815144">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#815143" title="List[Types.this.Type]">tps</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="Types.this.Type">List</a><span class="delimiter">(</span><a title="Types.this.Type" id="848542">tp</a><span class="delimiter">)</span> =&gt;
      <a href="#848542" title="Types.this.Type">tp</a>
    <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
       <a href="#478809" title="(parents: List[Types.this.Type], owner: Types.this.Symbol)Types.this.Type">refinedType</a><span class="delimiter">(</span><a href="#815143" title="List[Types.this.Type]">tps</a>, <a href="#815144" title="Types.this.Symbol">owner</a><span class="delimiter">)</span>
<span class="comment">/*
      def merge(tps: List[Type]): List[Type] = tps match {
        case tp :: tps1 =&gt;
          val tps1a = tps1 filter (_.typeSymbol.==(tp.typeSymbol))
          val tps1b = tps1 filter (_.typeSymbol.!=(tp.typeSymbol))
          mergePrefixAndArgs(tps1a, -1) match {
            case Some(tp1) =&gt; tp1 :: merge(tps1b)
            case None =&gt; throw new MalformedType(
              &quot;malformed type: &quot;+refinedType(tps, owner)+&quot; has repeated parent class &quot;+
              tp.typeSymbol+&quot; with incompatible prefixes or type arguments&quot;)
          }
        case _ =&gt; tps
      }
      refinedType(merge(tps), owner)
*/</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A creator for intersection type where intersections of a single type are
   *  replaced by the type itself. */</span>
  <span class="keyword">def</span> <a title="(tps: List[Types.this.Type])Types.this.Type" id="478816">intersectionType</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="815140">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#815140" title="List[Types.this.Type]">tps</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="Types.this.Type">List</a><span class="delimiter">(</span><a title="Types.this.Type" id="848559">tp</a><span class="delimiter">)</span> =&gt; <a href="#848559" title="Types.this.Type">tp</a>
    <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt; <a href="#478809" title="(parents: List[Types.this.Type], owner: Types.this.Symbol)Types.this.Type">refinedType</a><span class="delimiter">(</span><a href="#815140" title="List[Types.this.Type]">tps</a>, <a href="#478990" title="(tps: List[Types.this.Type])Types.this.Symbol">commonOwner</a><span class="delimiter">(</span><a href="#815140" title="List[Types.this.Type]">tps</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A creator for type applications */</span>
  <span class="keyword">def</span> <a title="(tycon: Types.this.Type, args: List[Types.this.Type])Types.this.Type" id="478817">appliedType</a><span class="delimiter">(</span><a title="Types.this.Type" id="696929">tycon</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="List[Types.this.Type]" id="696930">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#696930" title="List[Types.this.Type]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#696929" title="Types.this.Type">tycon</a> <span class="comment">//@M! `if (args.isEmpty) tycon' is crucial (otherwise we create new types in phases after typer and then they don't get adapted (??))</span>
    <span class="keyword">else</span> <a href="#696929" title="Types.this.Type">tycon</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="848570">pre</a>, <a title="Types.this.Symbol" id="848571">sym</a> @ <span class="delimiter">(</span><a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a>|<a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#478812" title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#696929" title="Types.this.Type">tycon</a>, <a href="#848570" title="Types.this.Type">pre</a>, <a href="#848571" title="Types.this.Symbol">sym</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>   <span class="comment">//@M drop type args to Any/Nothing</span>
      <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="848572">pre</a>, <a title="Types.this.Symbol" id="848573">sym</a>, _<span class="delimiter">)</span>                           =&gt; <a href="#478812" title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#696929" title="Types.this.Type">tycon</a>, <a href="#848572" title="Types.this.Type">pre</a>, <a href="#848573" title="Types.this.Symbol">sym</a>, <a href="#696930" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">PolyType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="848574">tparams</a>, <a title="Types.this.Type" id="848575">restpe</a><span class="delimiter">)</span>                      =&gt; <a href="#848575" title="Types.this.Type">restpe</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#848574" title="List[Types.this.Symbol]">tparams</a>, <a href="#696930" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.ExistentialType">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="848576">tparams</a>, <a title="Types.this.Type" id="848577">restpe</a><span class="delimiter">)</span>               =&gt; <a href="#547201" title="(quantified: List[Types.this.Symbol], underlying: Types.this.Type)Types.this.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#848576" title="List[Types.this.Symbol]">tparams</a>, <a href="#478817" title="(tycon: Types.this.Type, args: List[Types.this.Type])Types.this.Type">appliedType</a><span class="delimiter">(</span><a href="#848577" title="Types.this.Type">restpe</a>, <a href="#696930" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.Type" id="848578">st</a>: <a href="#478726" title="Types.this.SingletonType">SingletonType</a>                              =&gt; <a href="#478817" title="(tycon: Types.this.Type, args: List[Types.this.Type])Types.this.Type">appliedType</a><span class="delimiter">(</span><a href="#848578" title="Types.this.SingletonType">st</a>.<a href="#546348" title="=&gt; Types.this.Type">widen</a>, <a href="#696930" title="List[Types.this.Type]">args</a><span class="delimiter">)</span> <span class="comment">// @M TODO: what to do? see bug1</span>
      <span class="keyword">case</span> <span title="Types.this.RefinedType">RefinedType</span><span class="delimiter">(</span><a title="List[Types.this.Type]" id="848579">parents</a>, <a title="Types.this.Scope" id="848580">decls</a><span class="delimiter">)</span>                    =&gt; <a href="#546655" title="(parents: List[Types.this.Type], decls: Types.this.Scope)Types.this.RefinedType">RefinedType</a><span class="delimiter">(</span><a href="#848579" title="List[Types.this.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#478817" title="(tycon: Types.this.Type, args: List[Types.this.Type])Types.this.Type">appliedType</a><span class="delimiter">(</span><a href="#848603" title="Types.this.Type">_</a>, <a href="#696930" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#848580" title="Types.this.Scope">decls</a><span class="delimiter">)</span> <span class="comment">// MO to AM: please check</span>
      <span class="keyword">case</span> <span title="Types.this.TypeBounds">TypeBounds</span><span class="delimiter">(</span><a title="Types.this.Type" id="848631">lo</a>, <a title="Types.this.Type" id="848632">hi</a><span class="delimiter">)</span>                             =&gt; <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#478817" title="(tycon: Types.this.Type, args: List[Types.this.Type])Types.this.Type">appliedType</a><span class="delimiter">(</span><a href="#848631" title="Types.this.Type">lo</a>, <a href="#696930" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>, <a href="#478817" title="(tycon: Types.this.Type, args: List[Types.this.Type])Types.this.Type">appliedType</a><span class="delimiter">(</span><a href="#848632" title="Types.this.Type">hi</a>, <a href="#696930" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.TypeVar" id="848633">tv</a>@<a href="#841808" title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span>_, _<span class="delimiter">)</span>                               =&gt; <a href="#848633" title="Types.this.TypeVar">tv</a>.<a href="#841835" title="(newArgs: List[Types.this.Type])Types.this.TypeVar">applyArgs</a><span class="delimiter">(</span><a href="#696930" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.AnnotatedType">AnnotatedType</span><span class="delimiter">(</span><a title="List[Types.this.AnnotationInfo]" id="848635">annots</a>, <a title="Types.this.Type" id="848636">underlying</a>, <a title="Types.this.Symbol" id="848637">self</a><span class="delimiter">)</span>        =&gt; <a href="#547085" title="(annotations: List[Types.this.AnnotationInfo], underlying: Types.this.Type, selfsym: Types.this.Symbol)Types.this.AnnotatedType">AnnotatedType</a><span class="delimiter">(</span><a href="#848635" title="List[Types.this.AnnotationInfo]">annots</a>, <a href="#478817" title="(tycon: Types.this.Type, args: List[Types.this.Type])Types.this.Type">appliedType</a><span class="delimiter">(</span><a href="#848636" title="Types.this.Type">underlying</a>, <a href="#696930" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>, <a href="#848637" title="Types.this.Symbol">self</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#843657" title="Types.this.Type">ErrorType</a>                                      =&gt; <a href="#696929" title="Types.this.Type">tycon</a>
      <span class="keyword">case</span> <a href="#843675" title="Types.this.Type">WildcardType</a>                                   =&gt; <a href="#696929" title="Types.this.Type">tycon</a> <span class="comment">// needed for neg/t0226</span>
      <span class="keyword">case</span> <span title="Nothing">_</span>                                              =&gt; <a href="SymbolTable.scala.html#478159" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><a href="TypeDebugging.scala.html#479281" title="(tp: Types.this.Type)String">debugString</a><span class="delimiter">(</span><a href="#696929" title="Types.this.Type">tycon</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="comment">/** A creator for type parameterizations that strips empty type parameter lists.
   * Use this factory method to indicate the type has kind * (it's a polymorphic value)
   * until we start tracking explicit kinds equivalent to typeFun (except that the latter requires tparams nonEmpty)
   */</span>
  <span class="keyword">def</span> <a title="(tparams: List[Types.this.Symbol], tpe: Types.this.Type)Types.this.Type" id="478818">polyType</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="792536">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Types.this.Type" id="792537">tpe</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#792536" title="List[Types.this.Symbol]">tparams</a> <a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="#478820" title="(tps: List[Types.this.Symbol], body: Types.this.Type)Types.this.Type">typeFun</a><span class="delimiter">(</span><a href="#792536" title="List[Types.this.Symbol]">tparams</a>, <a href="#792537" title="Types.this.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#792537" title="Types.this.Type">tpe</a> <span class="comment">// it's okay to be forgiving here</span>

  <span class="comment">/** A creator for anonymous type functions, where the symbol for the type function still needs to be created
   *
   * TODO:
   * type params of anonymous type functions, which currently can only arise from normalising type aliases, are owned by the type alias of which they are the eta-expansion
   * higher-order subtyping expects eta-expansion of type constructors that arise from a class; here, the type params are owned by that class, but is that the right thing to do?
   */</span>
  <span class="keyword">def</span> <a title="(tps: List[Types.this.Symbol], body: Types.this.Type)Types.this.Type" id="478819">typeFunAnon</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="846024">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Types.this.Type" id="846025">body</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478820" title="(tps: List[Types.this.Symbol], body: Types.this.Type)Types.this.Type">typeFun</a><span class="delimiter">(</span><a href="#846024" title="List[Types.this.Symbol]">tps</a>, <a href="#846025" title="Types.this.Type">body</a><span class="delimiter">)</span>

  <span class="comment">/** A creator for a type functions, assuming the type parameters tps already have the right owner
   */</span>
  <span class="keyword">def</span> <a title="(tps: List[Types.this.Symbol], body: Types.this.Type)Types.this.Type" id="478820">typeFun</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="844718">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Types.this.Type" id="844719">body</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#546990" title="(typeParams: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.PolyType">PolyType</a><span class="delimiter">(</span><a href="#844718" title="List[Types.this.Symbol]">tps</a>, <a href="#844719" title="Types.this.Type">body</a><span class="delimiter">)</span>

  <span class="comment">/** A creator for existential types. This generates:
   *
   *  tpe1 where { tparams }
   *
   *  where `tpe1' is the result of extrapolating `tpe' wrt to `tparams'. Extrapolating means
   *  that type variables in `tparams' occurring in covariant positions are replaced by upper bounds,
   *  (minus any SingletonClass markers),
   *  type variables in `tparams' occurring in contravariant positions are replaced by upper bounds,
   *  provided the resulting type is legal wrt to stability, and does not contain any
   *  type variable in `tparams'.
   *  The abstraction drops all type parameters that are not directly or indirectly
   *  referenced by type `tpe1'.
   *  If there are no remaining type parameters, simply returns result type `tpe'.
   */</span>
  <span class="keyword">def</span> <a title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type" id="478821">existentialAbstraction</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="655387">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Types.this.Type" id="655388">tpe0</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#655387" title="List[Types.this.Symbol]">tparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#655388" title="Types.this.Type">tpe0</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Map[Types.this.Symbol,Int]" id="848643">occurCount</a> = <a href="#478850" title="=&gt; scala.collection.immutable.Map[Types.this.Symbol,Int]">emptySymCount</a> <a href="../../../collection/immutable/MapLike.scala.html#102814" title="(xs: scala.collection.GenTraversableOnce[(Types.this.Symbol, Int)])scala.collection.immutable.Map[Types.this.Symbol,Int]">++</a> <span class="delimiter">(</span><a href="#655387" title="List[Types.this.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; (Types.this.Symbol, Int))(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],(Types.this.Symbol, Int),List[(Types.this.Symbol, Int)]])List[(Types.this.Symbol, Int)]">map</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#9589" title="(x: Types.this.Symbol)ArrowAssoc[Types.this.Symbol]">_</a> <a href="../../../Predef.scala.html#57653" title="(y: Int)(Types.this.Symbol, Int)">-&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="848644">tpe</a> = <a href="#848781" title="(tp: Types.this.Type)Types.this.Type">deAlias</a><span class="delimiter">(</span><a href="#655388" title="Types.this.Type">tpe0</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(tp: Types.this.Type)Unit" id="848645">countOccs</a><span class="delimiter">(</span><a title="Types.this.Type" id="848786">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> =
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Type" id="848788">t</a> &lt;- <a href="#507215" title="(f: Types.this.Type =&gt; Unit)Unit">tp</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#848788" title="Types.this.Type">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="848789">sym</a>, _<span class="delimiter">)</span> =&gt;
              <a href="#848643" title="scala.collection.immutable.Map[Types.this.Symbol,Int]">occurCount</a> <a href="../../../collection/MapLike.scala.html#73194" title="(key: Types.this.Symbol)Option[Int]">get</a> <a href="#848789" title="Types.this.Symbol">sym</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Unit">Some</span><span class="delimiter">(</span><a title="Int" id="848799">count</a><span class="delimiter">)</span> =&gt; <a href="#848643" title="scala.collection.immutable.Map[Types.this.Symbol,Int]">occurCount</a> <a href="../../../collection/immutable/Map.scala.html#56993" title="(kv: (Types.this.Symbol, Int))scala.collection.immutable.Map[Types.this.Symbol,Int]">+=</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#9589" title="(x: Types.this.Symbol)ArrowAssoc[Types.this.Symbol]">sym</a> <a href="../../../Predef.scala.html#57653" title="(y: Int)(Types.this.Symbol, Int)">-&gt;</a> <span class="delimiter">(</span><a href="#848799" title="Int">count</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <a title="Unit" id="848886">none</a> =&gt;
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <a href="#848645" title="(tp: Types.this.Type)Unit">countOccs</a><span class="delimiter">(</span><a href="#848644" title="Types.this.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="848906">tparam</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Symbol =&gt; Unit)Unit">tparams</a><span class="delimiter">)</span> <a href="#848645" title="(tp: Types.this.Type)Unit">countOccs</a><span class="delimiter">(</span><a href="#848906" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Types.this.TypeMap" id="848646">extrapolate</a> = <a href="#848908" title="Types.this.TypeMap" class="keyword">new</a> <a href="#478842" title="anonymous class $anon extends Types.this.TypeMap" id="848908">TypeMap</a> <span class="delimiter">{</span>
        <a href="#532438" title="(x$1: Int)Unit">variance</a> = <span title="Int(1)" class="int">1</span>
        <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="848910">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="848913">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Types.this.Type" id="848936">tp1</a> = <a href="#848911" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#848913" title="Types.this.Type">tp</a><span class="delimiter">)</span>
          <a href="#848936" title="Types.this.Type">tp1</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="848943">pre</a>, <a title="Types.this.Symbol" id="848944">sym</a>, <a title="List[Types.this.Type]" id="848945">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#532438" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#848643" title="scala.collection.immutable.Map[Types.this.Symbol,Int]">occurCount</a> <a href="../../../collection/MapLike.scala.html#73206" title="(key: Types.this.Symbol)Boolean">isDefinedAt</a> <a href="#848944" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Types.this.Type" id="848955">repl</a> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#532438" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#840120" title="(tp: Types.this.Type)Types.this.Type">dropSingletonType</a><span class="delimiter">(</span><a href="#848936" title="Types.this.Type">tp1</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#848936" title="Types.this.Type">tp1</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a>
              <span class="comment">//println(&quot;eliminate &quot;+sym+&quot;/&quot;+repl+&quot;/&quot;+occurCount(sym)+&quot;/&quot;+(tparams exists (repl.contains)))//DEBUG</span>
              <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#848955" title="Types.this.Type">repl</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#848955" title="Types.this.Type">repl</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Definitions.scala.html#507931" title="=&gt; Types.this.Symbol">NullClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <a href="../../../collection/MapLike.scala.html#73204" title="(key: Types.this.Symbol)Int">occurCount</a><span class="delimiter">(</span><a href="#848944" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#655387" title="List[Types.this.Symbol]">tparams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#848955" title="Types.this.Type">repl</a>.<a href="#507218" title="(sym: Types.this.Symbol)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#848955" title="Types.this.Type">repl</a>
              <span class="keyword">else</span> <a href="#848936" title="Types.this.Type">tp1</a>
            <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
              <a href="#848936" title="Types.this.Type">tp1</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="848911">mapOver</a><span class="delimiter">(</span><a title="Types.this.Type" id="848916">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#848916" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Types.this.Type">SingleType</span><span class="delimiter">(</span><a title="Types.this.Type" id="849004">pre</a>, <a title="Types.this.Symbol" id="849005">sym</a><span class="delimiter">)</span> =&gt;
            <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#849005" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#848916" title="Types.this.Type">tp</a> <span class="comment">// short path</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Types.this.Type" id="849006">pre1</a> = <a href="#848910" title="(tp: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849004" title="Types.this.Type">pre</a><span class="delimiter">)</span>
              <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#849006" title="Types.this.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849004" title="Types.this.Type">pre</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#849006" title="Types.this.Type">pre1</a>.<a href="#507151" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <a href="#848916" title="Types.this.Type">tp</a>
              <span class="keyword">else</span> <a href="#478807" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">singleType</a><span class="delimiter">(</span><a href="#849006" title="Types.this.Type">pre1</a>, <a href="#849005" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt; <a href="#848908" title="Types.this.TypeMap" class="keyword">super</a>.<a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#848916" title="Types.this.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Types.this.Tree)Option[Types.this.Tree]" id="848912">mapOver</a><span class="delimiter">(</span><a title="Types.this.Tree" id="848919">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a><span class="delimiter">)</span> =
          <a href="#848919" title="Types.this.Tree">tree</a> <span title="Option[Types.this.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Some[Types.this.Ident]" id="848922">tree</a>:<a href="../../../reflect/generic/Trees.scala.html#434137" title="Types.this.Ident">Ident</a> <span class="keyword">if</span> <a href="#848922" title="Types.this.Ident">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Types.this.Type">tpe</a>.<a href="#507151" title="=&gt; Boolean">isStable</a> =&gt;
              <span class="comment">// Do not discard the types of existential ident's.</span>
              <span class="comment">// The symbol of the Ident itself cannot be listed</span>
              <span class="comment">// in the existential's parameters, so the</span>
              <span class="comment">// resulting existential type would be ill-formed.</span>
              <a href="../../../Option.scala.html#57885" title="(x: Types.this.Ident)Some[Types.this.Ident]">Some</a><span class="delimiter">(</span><a href="#848922" title="Types.this.Ident">tree</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Option[Types.this.Tree]">_</span> =&gt;
              <a href="#848908" title="Types.this.TypeMap" class="keyword">super</a>.<a href="#532453" title="(tree: Types.this.Tree)Option[Types.this.Tree]">mapOver</a><span class="delimiter">(</span><a href="#848919" title="Types.this.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="848647">tpe1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type">extrapolate</a><span class="delimiter">(</span><a href="#848644" title="Types.this.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="List[Types.this.Symbol]" id="848648">tparams0</a> = <a href="#655387" title="List[Types.this.Symbol]">tparams</a>
      <span class="keyword">var</span> <a title="List[Types.this.Symbol]" id="848649">tparams1</a> = <a href="#848648" title="List[Types.this.Symbol]">tparams0</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Types.this.Symbol =&gt; Boolean)List[Types.this.Symbol]">filter</a> <a href="#848647" title="Types.this.Type">tpe1</a>.<a href="#507218" title="(sym: Types.this.Symbol)Boolean">contains</a>

      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#848649" title="List[Types.this.Symbol]">tparams1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#848648" title="List[Types.this.Symbol]">tparams0</a><span class="delimiter">)</span> <a href="#848650" title="()Unit" class="delimiter">{</a>
        <a href="#848648" title="List[Types.this.Symbol]">tparams0</a> = <a href="#848649" title="List[Types.this.Symbol]">tparams1</a>
        <a href="#848649" title="List[Types.this.Symbol]">tparams1</a> = <a href="#655387" title="List[Types.this.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Types.this.Symbol =&gt; Boolean)List[Types.this.Symbol]">filter</a> <span class="delimiter">{</span> <a title="Types.this.Symbol" id="849062">p</a> =&gt;
          <a href="#848649" title="List[Types.this.Symbol]">tparams1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="Types.this.Symbol" id="849071">p1</a> =&gt; <a href="#849071" title="Types.this.Symbol">p1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#849062" title="Types.this.Symbol">p</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#849071" title="Types.this.Symbol">p1</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a> <a href="#507218" title="(sym: Types.this.Symbol)Boolean">contains</a> <a href="#849062" title="Types.this.Symbol">p</a><span class="delimiter">)</span> <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#848649" title="List[Types.this.Symbol]">tparams1</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#848647" title="Types.this.Type">tpe1</a>
      <span class="keyword">else</span> <a href="#848647" title="Types.this.Type">tpe1</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Types.this.ExistentialType">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="849077">tparams2</a>, <a title="Types.this.Type" id="849078">tpe2</a><span class="delimiter">)</span> =&gt; <a href="#547201" title="(quantified: List[Types.this.Symbol], underlying: Types.this.Type)Types.this.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#848649" title="List[Types.this.Symbol]">tparams1</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[Types.this.Symbol])List[Types.this.Symbol]">:::</a> <a href="#849077" title="List[Types.this.Symbol]">tparams2</a>, <a href="#849078" title="Types.this.Type">tpe2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Types.this.ExistentialType">_</span> =&gt; <a href="#547201" title="(quantified: List[Types.this.Symbol], underlying: Types.this.Type)Types.this.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#848649" title="List[Types.this.Symbol]">tparams1</a>, <a href="#848647" title="Types.this.Type">tpe1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">/** Remove any occurrences of type aliases from this type */</span>
  <span class="keyword">object</span> <a title="object Types.this.deAlias" id="478822">deAlias</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="848781">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="848782">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a> <span class="delimiter">{</span>
      <a href="#848782" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="849096">pre</a>, <a title="Types.this.Symbol" id="849097">sym</a>, <a title="List[Types.this.Type]" id="849098">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#849097" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> =&gt; <a href="#848782" title="Types.this.Type">tp</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>
        <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt; <a href="#848782" title="Types.this.Type">tp</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Remove any occurrence of type &lt;singleton&gt; from this type and its parents */</span>
  <span class="keyword">object</span> <a title="object Types.this.dropSingletonType" id="478824">dropSingletonType</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="840120">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="840121">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <a href="#840121" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span>_, <a href="Definitions.scala.html#508049" title="=&gt; Types.this.Symbol">SingletonClass</a>, _<span class="delimiter">)</span> =&gt;
          <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
        <span class="keyword">case</span> <a title="Types.this.Type" id="849100">tp1</a> @ RefinedType<span class="delimiter">(</span><a title="List[Types.this.Type]" id="849101">parents</a>, <a title="Types.this.Scope" id="849102">decls</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">var</span> <a title="List[Types.this.Type]" id="849103">parents1</a> = <a href="#849101" title="List[Types.this.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Types.this.Type =&gt; Boolean)List[Types.this.Type]">filter</a> <span class="delimiter">(</span><a href="#849107" title="Types.this.Type">_</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Definitions.scala.html#508049" title="=&gt; Types.this.Symbol">SingletonClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#849103" title="List[Types.this.Type]">parents1</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#849103" title="List[Types.this.Type]">parents1</a> = <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Type*)List[Types.this.Type]">List</a><span class="delimiter">(</span><a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#849103" title="List[Types.this.Type]">parents1</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Type]">tail</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#849102" title="Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514356" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#849103" title="List[Types.this.Type]">parents1</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#478810" title="(original: Types.this.RefinedType, parents: List[Types.this.Type], decls: Types.this.Scope)Types.this.Type">copyRefinedType</a><span class="delimiter">(</span><a href="#849100" title="Types.this.RefinedType">tp1</a>, <a href="#849103" title="List[Types.this.Type]">parents1</a>, <a href="#849102" title="Types.this.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Types.this.Type" id="849140">tp1</a> =&gt;
          <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#849140" title="Types.this.Type">tp1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="comment">// Hash consing --------------------------------------------------------------</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="478826">initialUniquesCapacity</a> = <span title="Int(4096)" class="int">4096</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.tools.nsc.util.HashSet[Types.this.Type]" id="478829">uniques</a>: util.<a href="../util/HashSet.scala.html#42433" title="scala.tools.nsc.util.HashSet[Types.this.Type]">HashSet</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = _
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="478832">uniqueRunId</a> = <span title="Int(0)">NoRunId</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T &lt;: Types.this.Type](tp: T)T" id="478834">unique</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Types.this.Type" id="478836">T</a> &lt;: Type<span class="delimiter">]</span><span class="delimiter">(</span><a title="T" id="843805">tp</a>: <a href="#478836" title="T">T</a><span class="delimiter">)</span>: <a href="#478836" title="T">T</a> = <span class="delimiter">{</span>
    <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478545" title="=&gt; scala.tools.nsc.util.Statistics.Counter">rawTypeCount</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#478832" title="=&gt; Int">uniqueRunId</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="SymbolTable.scala.html#478177" title="=&gt; Types.this.RunId">currentRunId</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#478829" title="(x$1: scala.tools.nsc.util.HashSet[Types.this.Type])Unit">uniques</a> = util.<a href="../util/HashSet.scala.html#565597" title="[T &gt;: Null &lt;: AnyRef](label: String, initialCapacity: Int)scala.tools.nsc.util.HashSet[T]">HashSet</a><span title="(label: String, initialCapacity: Int)scala.tools.nsc.util.HashSet[Types.this.Type]" class="delimiter">[</span><a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span title="java.lang.String(&quot;uniques&quot;)" class="string">&quot;uniques&quot;</span>, <a href="#478826" title="=&gt; Int">initialUniquesCapacity</a><span class="delimiter">)</span>
      <a href="#478832" title="(x$1: Int)Unit">uniqueRunId</a> = <a href="SymbolTable.scala.html#478177" title="=&gt; Types.this.RunId">currentRunId</a>
    <span class="delimiter">}</span>
    <span class="delimiter">(</span><a href="#478829" title="=&gt; scala.tools.nsc.util.HashSet[Types.this.Type]">uniques</a> <a href="../util/HashSet.scala.html#520009" title="(x: Types.this.Type)Types.this.Type">findEntryOrUpdate</a> <a href="#843805" title="T">tp</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="T" class="delimiter">[</span><a href="#478836" title="T">T</a><span class="delimiter">]</span>
  <span class="delimiter">}</span>

<span class="comment">// Helper Classes ---------------------------------------------------------</span>

  <span class="comment">/** @PP: Unable to see why these apparently constant types should need vals
   *  in every TypeConstraint, I lifted them out.
   */</span>
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Types.this.Type" id="478838">numericLoBound</a> = <a href="Definitions.scala.html#508431" title="=&gt; Types.this.Symbol">IntClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Types.this.Type" id="478840">numericHiBound</a> = <a href="#478815" title="(tps: List[Types.this.Type], owner: Types.this.Symbol)Types.this.Type">intersectionType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Type*)List[Types.this.Type]">List</a><span class="delimiter">(</span><a href="Definitions.scala.html#508425" title="=&gt; Types.this.Symbol">ByteClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>, <a href="Definitions.scala.html#508429" title="=&gt; Types.this.Symbol">CharClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>, <a href="Definitions.scala.html#507892" title="=&gt; Types.this.Symbol">ScalaPackageClass</a><span class="delimiter">)</span>

  <span class="comment">/** A class expressing upper and lower bounds constraints of type variables,
   * as well as their instantiations.
   */</span>
  <span class="keyword">class</span> <a title="class TypeConstraint extends java.lang.Object with ScalaObject" id="478841">TypeConstraint</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[Types.this.Type]" id="842242">lo0</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="842243">hi0</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Types.this.Type" id="842244">numlo0</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="842245">numhi0</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(lo0: List[Types.this.Type], hi0: List[Types.this.Type])Types.this.TypeConstraint" id="842192" class="keyword">this</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="842240">lo0</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="842241">hi0</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#478841" title="TypeConstraint.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#842240" title="List[Types.this.Type]">lo0</a>, <a href="#842241" title="List[Types.this.Type]">hi0</a>, <a href="#843724" title="object Types.this.NoType">NoType</a>, <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="()Types.this.TypeConstraint" id="842193" class="keyword">this</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#842192" title="(lo0: List[Types.this.Type], hi0: List[Types.this.Type])Types.this.TypeConstraint" class="keyword">this</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[Types.this.Type]" id="842195">lobounds</a> = <a href="#842242" title="List[Types.this.Type]">lo0</a>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[Types.this.Type]" id="842198">hibounds</a> = <a href="#842243" title="List[Types.this.Type]">hi0</a>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Types.this.Type" id="842201">numlo</a> = <a href="#842244" title="Types.this.Type">numlo0</a>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Types.this.Type" id="842204">numhi</a> = <a href="#842245" title="Types.this.Type">numhi0</a>

    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="842206">loBounds</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#842201" title="=&gt; Types.this.Type">numlo</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="#842195" title="=&gt; List[Types.this.Type]">lobounds</a> <span class="keyword">else</span> <a href="#842201" title="=&gt; Types.this.Type">numlo</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Type)List[Types.this.Type]">::</a> <a href="#842195" title="=&gt; List[Types.this.Type]">lobounds</a>
    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Type]" id="842207">hiBounds</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#842204" title="=&gt; Types.this.Type">numhi</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="#842198" title="=&gt; List[Types.this.Type]">hibounds</a> <span class="keyword">else</span> <a href="#842204" title="=&gt; Types.this.Type">numhi</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Type)List[Types.this.Type]">::</a> <a href="#842198" title="=&gt; List[Types.this.Type]">hibounds</a>

    <span class="keyword">def</span> <a title="(tp: Types.this.Type, isNumericBound: Boolean)Unit" id="842208">addLoBound</a><span class="delimiter">(</span><a title="Types.this.Type" id="847981">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Boolean" id="847984">isNumericBound</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#847984" title="Boolean">isNumericBound</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Definitions.scala.html#508371" title="(tp: Types.this.Type)Boolean">isNumericValueType</a><span class="delimiter">(</span><a href="#847981" title="Types.this.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#842201" title="=&gt; Types.this.Type">numlo</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843724" title="object Types.this.NoType">NoType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478973" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#842201" title="=&gt; Types.this.Type">numlo</a>, <a href="#847981" title="Types.this.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#842201" title="(x$1: Types.this.Type)Unit">numlo</a> = <a href="#847981" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#478973" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#847981" title="Types.this.Type">tp</a>, <a href="#842201" title="=&gt; Types.this.Type">numlo</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#842201" title="(x$1: Types.this.Type)Unit">numlo</a> = <a href="#478837" title="=&gt; Types.this.Type">numericLoBound</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#842195" title="(x$1: List[Types.this.Type])Unit">lobounds</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Type)List[Types.this.Type]">::=</a> <a href="#847981" title="Types.this.Type">tp</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Types.this.Type, isNumericBound: Boolean)Unit" id="842209">addHiBound</a><span class="delimiter">(</span><a title="Types.this.Type" id="847989">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Boolean" id="847992">isNumericBound</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#847992" title="Boolean">isNumericBound</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Definitions.scala.html#508371" title="(tp: Types.this.Type)Boolean">isNumericValueType</a><span class="delimiter">(</span><a href="#847989" title="Types.this.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#842204" title="=&gt; Types.this.Type">numhi</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843724" title="object Types.this.NoType">NoType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478973" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#847989" title="Types.this.Type">tp</a>, <a href="#842204" title="=&gt; Types.this.Type">numhi</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#842204" title="(x$1: Types.this.Type)Unit">numhi</a> = <a href="#847989" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#478973" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#842204" title="=&gt; Types.this.Type">numhi</a>, <a href="#847989" title="Types.this.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#842204" title="(x$1: Types.this.Type)Unit">numhi</a> = <a href="#478839" title="=&gt; Types.this.Type">numericHiBound</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#842198" title="(x$1: List[Types.this.Type])Unit">hibounds</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Type)List[Types.this.Type]">::=</a> <a href="#847989" title="Types.this.Type">tp</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="842210">isWithinBounds</a><span class="delimiter">(</span><a title="Types.this.Type" id="848059">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
      <a href="#842195" title="=&gt; List[Types.this.Type]">lobounds</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a><span class="delimiter">(</span><a href="#849264" title="Types.this.Type">_</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#848059" title="Types.this.Type">tp</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#842198" title="=&gt; List[Types.this.Type]">hibounds</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a><span class="delimiter">(</span><a href="#848059" title="Types.this.Type">tp</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#849273" title="Types.this.Type">_</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">(</span><a href="#842201" title="=&gt; Types.this.Type">numlo</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843724" title="object Types.this.NoType">NoType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#842201" title="=&gt; Types.this.Type">numlo</a> <a href="#507224" title="(that: Types.this.Type)Boolean">weak_&lt;:&lt;</a> <a href="#848059" title="Types.this.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">(</span><a href="#842204" title="=&gt; Types.this.Type">numhi</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843724" title="object Types.this.NoType">NoType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#848059" title="Types.this.Type">tp</a> <a href="#507224" title="(that: Types.this.Type)Boolean">weak_&lt;:&lt;</a> <a href="#842204" title="=&gt; Types.this.Type">numhi</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">var</span> <a title="Types.this.Type" id="842212">inst</a>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#843724" title="object Types.this.NoType">NoType</a> <span class="comment">// @M reduce visibility?</span>

    <span class="keyword">def</span> <a title="=&gt; Boolean" id="842214">instValid</a> = <span class="delimiter">(</span><a href="#842212" title="=&gt; Types.this.Type">inst</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#842212" title="=&gt; Types.this.Type">inst</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Types.this.TypeConstraint" id="842215">cloneInternal</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.TypeConstraint" id="842237">tc</a> = <span title="Types.this.TypeConstraint" class="keyword">new</span> <a href="#478841" title="Types.this.TypeConstraint">TypeConstraint</a><span class="delimiter">(</span><a href="#842195" title="=&gt; List[Types.this.Type]">lobounds</a>, <a href="#842198" title="=&gt; List[Types.this.Type]">hibounds</a>, <a href="#842201" title="=&gt; Types.this.Type">numlo</a>, <a href="#842204" title="=&gt; Types.this.Type">numhi</a><span class="delimiter">)</span>
      <a href="#842237" title="Types.this.TypeConstraint">tc</a>.<a href="#842212" title="(x$1: Types.this.Type)Unit">inst</a> = <a href="#842212" title="=&gt; Types.this.Type">inst</a>
      <a href="#842237" title="Types.this.TypeConstraint">tc</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="842216">toString</a> =
      <span class="delimiter">(</span><a href="#842206" title="=&gt; List[Types.this.Type]">loBounds</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#849306" title="Types.this.Type">_</a>.<a href="../../../reflect/generic/Types.scala.html#434193" title="=&gt; String">safeToString</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[ _&gt;:(&quot;)" class="string">&quot;[ _&gt;:(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;) &quot;)" class="string">&quot;) &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
      <span class="delimiter">(</span><a href="#842207" title="=&gt; List[Types.this.Type]">hiBounds</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#849356" title="Types.this.Type">_</a>.<a href="../../../reflect/generic/Types.scala.html#434193" title="=&gt; String">safeToString</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;| _&lt;:(&quot;)" class="string">&quot;| _&lt;:(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;) ] _= &quot;)" class="string">&quot;) ] _= &quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
      <a href="#842212" title="=&gt; Types.this.Type">inst</a>.<a href="../../../reflect/generic/Types.scala.html#434193" title="=&gt; String">safeToString</a>
  <span class="delimiter">}</span>

  <span class="comment">/** A prototype for mapping a function over all possible types
   */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TypeMap extends java.lang.Object with Types.this.Type =&gt; Types.this.Type with ScalaObject" id="478842">TypeMap</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../Function1.scala.html#1367" title="Types.this.Type =&gt; Types.this.Type">Function1</a><span class="delimiter">[</span>Type, Type<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="comment">// deferred inherited: def apply(tp: Type): Type</span>

    <span class="comment">/** The variance relative to start. If you want variances to be significant, set
     *  variance = 1
     *  at the top of the typemap.
     */</span>
    <span class="keyword">var</span> <a title="Int" id="532438">variance</a> = <span title="Int(0)" class="int">0</span>

    <span class="comment">/** Should this map drop annotations that are not
     *  type-constraint annotations?
     */</span>
    <span class="keyword">val</span> <a title="Boolean" id="532440">dropNonConstraintAnnotations</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Check whether two lists have elements that are eq-equal */</span>
    <span class="keyword">def</span> <a title="[T &lt;: AnyRef](l1: List[T], l2: List[T])Boolean" id="532442">allEq</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="532444">T</a> &lt;: AnyRef<span class="delimiter">]</span><span class="delimiter">(</span><a title="List[T]" id="849392">l1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[T]">List</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="List[T]" id="849393">l2</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[T]">List</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
      <span class="delimiter">(</span><a href="#849392" title="List[T]">l1</a> <a href="../../../collection/SeqLike.scala.html#54171" title="(that: scala.collection.GenSeq[T])(p: (T, T) =&gt; Boolean)Boolean">corresponds</a> <a href="#849393" title="List[T]">l2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#849414" title="T">_</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849415" title="T">_</a><span class="delimiter">)</span>

    <span class="comment">// #3731: return sym1 for which holds: pre bound sym.name to sym and pre1 now binds sym.name to sym1, conceptually exactly the same symbol as sym</span>
    <span class="comment">// the selection of sym on pre must be updated to the selection of sym1 on pre1,</span>
    <span class="comment">// since sym's info was probably updated by the TypeMap to yield a new symbol sym1 with transformed info</span>
    <span class="comment">// @returns sym1</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(pre: Types.this.Type, pre1: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol" id="532445">coevolveSym</a><span class="delimiter">(</span><a title="Types.this.Type" id="849418">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="849419">pre1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="849420">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> =
      <span title="Types.this.Symbol" class="keyword">if</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#849418" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#849419" title="Types.this.Type">pre1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#849420" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="comment">// only need to rebind type aliases here, as typeRef already handles abstract types (they are allowed to be rebound more liberally)</span>
        <a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Types.this.Type)(Types.this.Type, Types.this.Type)" class="delimiter">(</a><a href="#849418" title="Types.this.Type">pre</a>, <a href="#849419" title="Types.this.Type">pre1</a><span class="delimiter">)</span> <span title="Types.this.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Types.this.Symbol" class="delimiter">(</span>RefinedType<span class="delimiter">(</span>_, <a title="Types.this.Scope" id="849430">decls</a><span class="delimiter">)</span>, RefinedType<span class="delimiter">(</span>_, <a title="Types.this.Scope" id="849431">decls1</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span class="comment">// don't look at parents -- it would be an error to override alias types anyway</span>
            <span class="comment">//val sym1 =</span>
            <a href="#849431" title="Types.this.Scope">decls1</a>.<a href="Scopes.scala.html#514367" title="(name: Types.this.Name)Types.this.Symbol">lookup</a><span class="delimiter">(</span><a href="#849420" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>
<span class="comment">//            assert(decls.lookupAll(sym.name).toList.length == 1)</span>
<span class="comment">//            assert(decls1.lookupAll(sym.name).toList.length == 1)</span>
<span class="comment">//            assert(sym1.isAliasType)</span>
<span class="comment">//            println(&quot;coevolved &quot;+ sym +&quot; : &quot;+ sym.info +&quot; to &quot;+ sym1 +&quot; : &quot;+ sym1.info +&quot; with &quot;+ pre +&quot; -&gt; &quot;+ pre1)</span>
<span class="comment">//            sym1</span>
          <span class="keyword">case</span> <span title="Types.this.Symbol">_</span> =&gt; <span class="comment">// TODO: is there another way a typeref's symbol can refer to a symbol defined in its pre?</span>
<span class="comment">//            val sym1 = pre1.nonPrivateMember(sym.name).suchThat(sym =&gt; sym.isAliasType)</span>
<span class="comment">//            println(&quot;??coevolve &quot;+ sym +&quot; : &quot;+ sym.info +&quot; to &quot;+ sym1 +&quot; : &quot;+ sym1.info +&quot; with &quot;+ pre +&quot; -&gt; &quot;+ pre1)</span>
            <a href="#849420" title="Types.this.Symbol">sym</a>
        <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#849420" title="Types.this.Symbol">sym</a>

    <span class="comment">/** Map this function over given type */</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="532446">mapOver</a><span class="delimiter">(</span><a title="Types.this.Type" id="532506">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#532506" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="849433">pre</a>, <a title="Types.this.Symbol" id="849434">sym</a>, <a title="List[Types.this.Type]" id="849435">args</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Types.this.Type" id="849436">pre1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849433" title="Types.this.Type">pre</a><span class="delimiter">)</span>
        <span class="comment">//val args1 = args mapConserve this(_)</span>
        <span class="keyword">val</span> <a title="List[Types.this.Type]" id="849437">args1</a> = <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#849435" title="List[Types.this.Type]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#849435" title="List[Types.this.Type]">args</a>
                    <span class="keyword">else</span> <span class="delimiter">{</span>
                      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="849439">tparams</a> = <a href="#849434" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>
                      <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#849439" title="List[Types.this.Symbol]">tparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#849435" title="List[Types.this.Type]">args</a>
                      <span class="keyword">else</span> <a href="#532447" title="(args: List[Types.this.Type], tparams: List[Types.this.Symbol])List[Types.this.Type]">mapOverArgs</a><span class="delimiter">(</span><a href="#849435" title="List[Types.this.Type]">args</a>, <a href="#849439" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#849436" title="Types.this.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849433" title="Types.this.Type">pre</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#849437" title="List[Types.this.Type]">args1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849435" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#478812" title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#532506" title="Types.this.Type">tp</a>, <a href="#849436" title="Types.this.Type">pre1</a>, <a href="#532445" title="(pre: Types.this.Type, pre1: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol">coevolveSym</a><span class="delimiter">(</span><a href="#849433" title="Types.this.Type">pre</a>, <a href="#849436" title="Types.this.Type">pre1</a>, <a href="#849434" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>, <a href="#849437" title="List[Types.this.Type]">args1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#532506" title="Types.this.Type">tp</a>
      <span class="keyword">case</span> <span title="Types.this.Type">SingleType</span><span class="delimiter">(</span><a title="Types.this.Type" id="849443">pre</a>, <a title="Types.this.Symbol" id="849444">sym</a><span class="delimiter">)</span> =&gt;
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#849444" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a> <span class="comment">// short path</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Types.this.Type" id="849445">pre1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849443" title="Types.this.Type">pre</a><span class="delimiter">)</span>
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#849445" title="Types.this.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849443" title="Types.this.Type">pre</a><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
          <span class="keyword">else</span> <a href="#478807" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">singleType</a><span class="delimiter">(</span><a href="#849445" title="Types.this.Type">pre1</a>, <a href="#849444" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Types.this.Type">MethodType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="849446">params</a>, <a title="Types.this.Type" id="849447">result</a><span class="delimiter">)</span> =&gt;
        <a href="#532438" title="(x$1: Int)Unit">variance</a> = <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#532438" title="=&gt; Int">variance</a>
        <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="849448">params1</a> = <a href="#532449" title="(origSyms: List[Types.this.Symbol])List[Types.this.Symbol]">mapOver</a><span class="delimiter">(</span><a href="#849446" title="List[Types.this.Symbol]">params</a><span class="delimiter">)</span>
        <a href="#532438" title="(x$1: Int)Unit">variance</a> = <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#532438" title="=&gt; Int">variance</a>
        <span class="keyword">val</span> <a title="Types.this.Type" id="849449">result1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849447" title="Types.this.Type">result</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#849448" title="List[Types.this.Symbol]">params1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849446" title="List[Types.this.Symbol]">params</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#849449" title="Types.this.Type">result1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849447" title="Types.this.Type">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
        <span class="comment">// for new dependent types: result1.substSym(params, params1)?</span>
        <span class="keyword">else</span> <a href="#478814" title="(tp: Types.this.Type, params: List[Types.this.Symbol], restpe: Types.this.Type)Types.this.Type">copyMethodType</a><span class="delimiter">(</span><a href="#532506" title="Types.this.Type">tp</a>, <a href="#849448" title="List[Types.this.Symbol]">params1</a>, <a href="#849449" title="Types.this.Type">result1</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#849446" title="List[Types.this.Symbol]">params</a>, <a href="#849448" title="List[Types.this.Symbol]">params1</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">PolyType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="849456">tparams</a>, <a title="Types.this.Type" id="849457">result</a><span class="delimiter">)</span> =&gt;
        <a href="#532438" title="(x$1: Int)Unit">variance</a> = <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#532438" title="=&gt; Int">variance</a>
        <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="849458">tparams1</a> = <a href="#532449" title="(origSyms: List[Types.this.Symbol])List[Types.this.Symbol]">mapOver</a><span class="delimiter">(</span><a href="#849456" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span>
        <a href="#532438" title="(x$1: Int)Unit">variance</a> = <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#532438" title="=&gt; Int">variance</a>
        <span class="keyword">var</span> <a title="Types.this.Type" id="849459">result1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849457" title="Types.this.Type">result</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#849458" title="List[Types.this.Symbol]">tparams1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849456" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#849459" title="Types.this.Type">result1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849457" title="Types.this.Type">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#546990" title="(typeParams: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.PolyType">PolyType</a><span class="delimiter">(</span><a href="#849458" title="List[Types.this.Symbol]">tparams1</a>, <a href="#849459" title="Types.this.Type">result1</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#849456" title="List[Types.this.Symbol]">tparams</a>, <a href="#849458" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Types.this.Type" id="849466">result</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Types.this.Type" id="849467">result1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849466" title="Types.this.Type">result</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#849467" title="Types.this.Type">result1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849466" title="Types.this.Type">result</a><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#546934" title="(resultType: Types.this.Type)Types.this.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#849467" title="Types.this.Type">result1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">ConstantType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#532506" title="Types.this.Type">tp</a>
      <span class="keyword">case</span> <span title="Types.this.Type">SuperType</span><span class="delimiter">(</span><a title="Types.this.Type" id="849469">thistp</a>, <a title="Types.this.Type" id="849470">supertp</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Types.this.Type" id="849471">thistp1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849469" title="Types.this.Type">thistp</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="849472">supertp1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849470" title="Types.this.Type">supertp</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#849471" title="Types.this.Type">thistp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849469" title="Types.this.Type">thistp</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#849472" title="Types.this.Type">supertp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849470" title="Types.this.Type">supertp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#547325" title="(thistp: Types.this.Type, supertp: Types.this.Type)Types.this.Type">SuperType</a><span class="delimiter">(</span><a href="#849471" title="Types.this.Type">thistp1</a>, <a href="#849472" title="Types.this.Type">supertp1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">TypeBounds</span><span class="delimiter">(</span><a title="Types.this.Type" id="849475">lo</a>, <a title="Types.this.Type" id="849476">hi</a><span class="delimiter">)</span> =&gt;
        <a href="#532438" title="(x$1: Int)Unit">variance</a> = <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#532438" title="=&gt; Int">variance</a>
        <span class="keyword">val</span> <a title="Types.this.Type" id="849477">lo1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849475" title="Types.this.Type">lo</a><span class="delimiter">)</span>
        <a href="#532438" title="(x$1: Int)Unit">variance</a> = <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#532438" title="=&gt; Int">variance</a>
        <span class="keyword">val</span> <a title="Types.this.Type" id="849478">hi1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849476" title="Types.this.Type">hi</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#849477" title="Types.this.Type">lo1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849475" title="Types.this.Type">lo</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#849478" title="Types.this.Type">hi1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849476" title="Types.this.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#849477" title="Types.this.Type">lo1</a>, <a href="#849478" title="Types.this.Type">hi1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">BoundedWildcardType</span><span class="delimiter">(</span><a title="Types.this.TypeBounds" id="849479">bounds</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Types.this.Type" id="849480">bounds1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849479" title="Types.this.TypeBounds">bounds</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#849480" title="Types.this.Type">bounds1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849479" title="Types.this.TypeBounds">bounds</a><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#652054" title="(bounds: Types.this.TypeBounds)Types.this.BoundedWildcardType">BoundedWildcardType</a><span class="delimiter">(</span><a href="#849480" title="Types.this.Type">bounds1</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Types.this.TypeBounds" class="delimiter">[</span><a href="#546596" title="Types.this.TypeBounds">TypeBounds</a><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.Type" id="849485">rtp</a> @ RefinedType<span class="delimiter">(</span><a title="List[Types.this.Type]" id="849486">parents</a>, <a title="Types.this.Scope" id="849487">decls</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Types.this.Type]" id="849488">parents1</a> = <a href="#849486" title="List[Types.this.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Types.this.Type =&gt; Types.this.Type)List[Types.this.Type]">mapConserve</a> <span class="delimiter">(</span><a href="#478842" title="Types.this.TypeMap" class="keyword">this</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Types.this.Scope" id="849489">decls1</a> = <a href="#532448" title="(scope: Types.this.Scope)Types.this.Scope">mapOver</a><span class="delimiter">(</span><a href="#849487" title="Types.this.Scope">decls</a><span class="delimiter">)</span>
        <span class="comment">//if ((parents1 eq parents) &amp;&amp; (decls1 eq decls)) tp</span>
        <span class="comment">//else refinementOfClass(tp.typeSymbol, parents1, decls1)</span>
        <a href="#478810" title="(original: Types.this.RefinedType, parents: List[Types.this.Type], decls: Types.this.Scope)Types.this.Type">copyRefinedType</a><span class="delimiter">(</span><a href="#849485" title="Types.this.RefinedType">rtp</a>, <a href="#849488" title="List[Types.this.Type]">parents1</a>, <a href="#849489" title="Types.this.Scope">decls1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="849502">tparams</a>, <a title="Types.this.Type" id="849503">result</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="849504">tparams1</a> = <a href="#532449" title="(origSyms: List[Types.this.Symbol])List[Types.this.Symbol]">mapOver</a><span class="delimiter">(</span><a href="#849502" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Types.this.Type" id="849505">result1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849503" title="Types.this.Type">result</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#849504" title="List[Types.this.Symbol]">tparams1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849502" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#849505" title="Types.this.Type">result1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849503" title="Types.this.Type">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#547201" title="(quantified: List[Types.this.Symbol], underlying: Types.this.Type)Types.this.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#849504" title="List[Types.this.Symbol]">tparams1</a>, <a href="#849505" title="Types.this.Type">result1</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#849502" title="List[Types.this.Symbol]">tparams</a>, <a href="#849504" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">OverloadedType</span><span class="delimiter">(</span><a title="Types.this.Type" id="849513">pre</a>, <a title="List[Types.this.Symbol]" id="849514">alts</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Types.this.Type" id="849515">pre1</a> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#849513" title="Types.this.Type">pre</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#546740" title="Types.this.ClassInfoType">ClassInfoType</a><span class="delimiter">]</span><span class="delimiter">)</span> <a href="#849513" title="Types.this.Type">pre</a> <span class="keyword">else</span> <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849513" title="Types.this.Type">pre</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#849515" title="Types.this.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849513" title="Types.this.Type">pre</a><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#645804" title="(pre: Types.this.Type, alternatives: List[Types.this.Symbol])Types.this.OverloadedType">OverloadedType</a><span class="delimiter">(</span><a href="#849515" title="Types.this.Type">pre1</a>, <a href="#849514" title="List[Types.this.Symbol]">alts</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">AntiPolyType</span><span class="delimiter">(</span><a title="Types.this.Type" id="849516">pre</a>, <a title="List[Types.this.Type]" id="849517">args</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Types.this.Type" id="849518">pre1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849516" title="Types.this.Type">pre</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Types.this.Type]" id="849519">args1</a> = <a href="#849517" title="List[Types.this.Type]">args</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Types.this.Type =&gt; Types.this.Type)List[Types.this.Type]">mapConserve</a> <span class="delimiter">(</span><a href="#478842" title="Types.this.TypeMap" class="keyword">this</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#849518" title="Types.this.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849516" title="Types.this.Type">pre</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#849519" title="List[Types.this.Type]">args1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849517" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#847896" title="(pre: Types.this.Type, targs: List[Types.this.Type])Types.this.AntiPolyType">AntiPolyType</a><span class="delimiter">(</span><a href="#849518" title="Types.this.Type">pre1</a>, <a href="#849519" title="List[Types.this.Type]">args1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.Type" id="849533">tv</a>@<a href="#841808" title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span>_, <a title="Types.this.TypeConstraint" id="849535">constr</a><span class="delimiter">)</span> =&gt;
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#849535" title="Types.this.TypeConstraint">constr</a>.<a href="#842214" title="=&gt; Boolean">instValid</a><span class="delimiter">)</span> <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849535" title="Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#849533" title="Types.this.TypeVar">tv</a>.<a href="#841835" title="(newArgs: List[Types.this.Type])Types.this.TypeVar">applyArgs</a><span class="delimiter">(</span><a href="#532447" title="(args: List[Types.this.Type], tparams: List[Types.this.Symbol])List[Types.this.Type]">mapOverArgs</a><span class="delimiter">(</span><a href="#849533" title="Types.this.TypeVar">tv</a>.<a href="#847559" title="=&gt; List[Types.this.Type]">typeArgs</a>, <a href="#849533" title="Types.this.TypeVar">tv</a>.<a href="#847560" title="=&gt; List[Types.this.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>  <span class="comment">//@M !args.isEmpty implies !typeParams.isEmpty</span>
      <span class="keyword">case</span> <span title="Types.this.Type">NotNullType</span><span class="delimiter">(</span><a title="Types.this.Type" id="849536">tp</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Types.this.Type" id="849537">tp1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849536" title="Types.this.Type">tp</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#849537" title="Types.this.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849536" title="Types.this.Type">tp</a><span class="delimiter">)</span> <a href="#849536" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#842637" title="(underlying: Types.this.Type)Types.this.NotNullType">NotNullType</a><span class="delimiter">(</span><a href="#849537" title="Types.this.Type">tp1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">AnnotatedType</span><span class="delimiter">(</span><a title="List[Types.this.AnnotationInfo]" id="849539">annots</a>, <a title="Types.this.Type" id="849540">atp</a>, <a title="Types.this.Symbol" id="849541">selfsym</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Types.this.AnnotationInfo]" id="849542">annots1</a> = <a href="#532450" title="(annots: List[Types.this.AnnotationInfo])List[Types.this.AnnotationInfo]">mapOverAnnotations</a><span class="delimiter">(</span><a href="#849539" title="List[Types.this.AnnotationInfo]">annots</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="849543">atp1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849540" title="Types.this.Type">atp</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#849542" title="List[Types.this.AnnotationInfo]">annots1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849539" title="List[Types.this.AnnotationInfo]">annots</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#849543" title="Types.this.Type">atp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849540" title="Types.this.Type">atp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#532506" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#849542" title="List[Types.this.AnnotationInfo]">annots1</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#849543" title="Types.this.Type">atp1</a>
        <span class="keyword">else</span> <a href="#547085" title="(annotations: List[Types.this.AnnotationInfo], underlying: Types.this.Type, selfsym: Types.this.Symbol)Types.this.AnnotatedType">AnnotatedType</a><span class="delimiter">(</span><a href="#849542" title="List[Types.this.AnnotationInfo]">annots1</a>, <a href="#849543" title="Types.this.Type">atp1</a>, <a href="#849541" title="Types.this.Symbol">selfsym</a><span class="delimiter">)</span>
<span class="comment">/*
      case ErrorType =&gt; tp
      case WildcardType =&gt; tp
      case NoType =&gt; tp
      case NoPrefix =&gt; tp
*/</span>
      <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
        <a href="#532506" title="Types.this.Type">tp</a>
        <span class="comment">// throw new Error(&quot;mapOver inapplicable for &quot; + tp);</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(args: List[Types.this.Type], tparams: List[Types.this.Symbol])List[Types.this.Type]" id="532447">mapOverArgs</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="849440">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="849441">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> =
      <a href="#478946" title="(xs: List[Types.this.Type], ys: List[Types.this.Symbol])(f: (Types.this.Type, Types.this.Symbol) =&gt; Types.this.Type)List[Types.this.Type]">map2Conserve</a><span class="delimiter">(</span><a href="#849440" title="List[Types.this.Type]">args</a>, <a href="#849441" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Types.this.Type" id="849575">arg</a>, <a title="Types.this.Symbol" id="849576">tparam</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Int" id="849577">v</a> = <a href="#532438" title="=&gt; Int">variance</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#849576" title="Types.this.Symbol">tparam</a>.<a href="../../../reflect/generic/Symbols.scala.html#435378" title="=&gt; Boolean">isContravariant</a><span class="delimiter">)</span> <a href="#532438" title="(x$1: Int)Unit">variance</a> = <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#532438" title="=&gt; Int">variance</a>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#849576" title="Types.this.Symbol">tparam</a>.<a href="../../../reflect/generic/Symbols.scala.html#435379" title="=&gt; Boolean">isCovariant</a><span class="delimiter">)</span> <a href="#532438" title="(x$1: Int)Unit">variance</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="849578">arg1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849575" title="Types.this.Type">arg</a><span class="delimiter">)</span>
        <a href="#532438" title="(x$1: Int)Unit">variance</a> = <a href="#849577" title="Int">v</a>
        <a href="#849578" title="Types.this.Type">arg1</a>
      <span class="delimiter">}</span>

    <span class="comment">/** Map this function over given scope */</span>
    <span class="keyword">def</span> <a title="(scope: Types.this.Scope)Types.this.Scope" id="532448">mapOver</a><span class="delimiter">(</span><a title="Types.this.Scope" id="532503">scope</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a><span class="delimiter">)</span>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="849579">elems</a> = <a href="#532503" title="Types.this.Scope">scope</a>.<a href="Scopes.scala.html#514371" title="=&gt; List[Types.this.Symbol]">toList</a>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="849580">elems1</a> = <a href="#532449" title="(origSyms: List[Types.this.Symbol])List[Types.this.Symbol]">mapOver</a><span class="delimiter">(</span><a href="#849579" title="List[Types.this.Symbol]">elems</a><span class="delimiter">)</span>
      <span title="Types.this.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#849580" title="List[Types.this.Symbol]">elems1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849579" title="List[Types.this.Symbol]">elems</a><span class="delimiter">)</span> <a href="#532503" title="Types.this.Scope">scope</a>
      <span class="keyword">else</span> <a href="Scopes.scala.html#514354" title="(decls: List[Types.this.Symbol])Types.this.Scope" class="keyword">new</a> <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a><span class="delimiter">(</span><a href="#849580" title="List[Types.this.Symbol]">elems1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Map this function over given list of symbols */</span>
    <span class="keyword">def</span> <a title="(origSyms: List[Types.this.Symbol])List[Types.this.Symbol]" id="532449">mapOver</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="532500">origSyms</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="849591">change</a> = <a href="#532500" title="List[Types.this.Symbol]">origSyms</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="Types.this.Symbol" id="849598">sym</a> =&gt;
        <span class="keyword">val</span> <a title="Int" id="849599">v</a> = <a href="#532438" title="=&gt; Int">variance</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#849598" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#532438" title="(x$1: Int)Unit">variance</a> = <span title="Int(0)" class="int">0</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="849600">result</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#849598" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a><span class="delimiter">)</span>
        <a href="#532438" title="(x$1: Int)Unit">variance</a> = <a href="#849599" title="Int">v</a>
        <a href="#849600" title="Types.this.Type">result</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#849598" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>
      <span class="delimiter">}</span>
      <span title="List[Types.this.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#849591" title="Boolean">change</a><span class="delimiter">)</span> <a href="#532500" title="List[Types.this.Symbol]">origSyms</a> <span class="comment">// fast path in case nothing changes due to map</span>
      <span class="keyword">else</span> <span class="delimiter">{</span> <span class="comment">// map is not the identity --&gt; do cloning properly</span>
        <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="849601">clonedSyms</a> = <a href="#532500" title="List[Types.this.Symbol]">origSyms</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">map</a> <span class="delimiter">(</span><a href="#849620" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509302" title="=&gt; Types.this.Symbol">cloneSymbol</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Types.this.Type]" id="849602">clonedInfos</a> = <a href="#849601" title="List[Types.this.Symbol]">clonedSyms</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#849667" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#532500" title="List[Types.this.Symbol]">origSyms</a>, <a href="#849601" title="List[Types.this.Symbol]">clonedSyms</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Types.this.Type]" id="849603">transformedInfos</a> = <a href="#849602" title="List[Types.this.Type]">clonedInfos</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Types.this.Type =&gt; Types.this.Type)List[Types.this.Type]">mapConserve</a> <span class="delimiter">(</span><a href="#478842" title="Types.this.TypeMap" class="keyword">this</a><span class="delimiter">)</span>
        <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Types.this.Symbol], _2: List[Types.this.Type])(List[Types.this.Symbol], List[Types.this.Type])" class="delimiter">(</a><a href="#849601" title="List[Types.this.Symbol]">clonedSyms</a>, <a href="#849603" title="List[Types.this.Type]">transformedInfos</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Types.this.Symbol] =&gt; scala.collection.TraversableLike[Types.this.Symbol,List[Types.this.Symbol]], implicit w2: List[Types.this.Type] =&gt; scala.collection.IterableLike[Types.this.Type,List[Types.this.Type]])(List[Types.this.Symbol], List[Types.this.Type])#Zipped[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Type],Types.this.Type]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (Types.this.Symbol, Types.this.Type) =&gt; Types.this.Symbol)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">map</a> <span class="delimiter">(</span><a href="#849755" title="Types.this.Symbol">_</a> <a href="Symbols.scala.html#509274" title="(info: Types.this.Type)x$66.type">setInfo</a> <a href="#849756" title="Types.this.Type">_</a><span class="delimiter">)</span>

        <a href="#849601" title="List[Types.this.Symbol]">clonedSyms</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>


    <span class="keyword">def</span> <a title="(annots: List[Types.this.AnnotationInfo])List[Types.this.AnnotationInfo]" id="532450">mapOverAnnotations</a><span class="delimiter">(</span><a title="List[Types.this.AnnotationInfo]" id="849544">annots</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span>
    : <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Types.this.AnnotationInfo]" id="849788">newAnnots</a> = <a href="#849544" title="List[Types.this.AnnotationInfo]">annots</a>.<a href="../../../collection/TraversableLike.scala.html#49046" title="(f: Types.this.AnnotationInfo =&gt; scala.collection.GenTraversableOnce[Types.this.AnnotationInfo])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.AnnotationInfo],Types.this.AnnotationInfo,List[Types.this.AnnotationInfo]])List[Types.this.AnnotationInfo]">flatMap</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Types.this.AnnotationInfo,List[Types.this.AnnotationInfo]]" class="delimiter">(</a><a href="#532451" title="(annot: Types.this.AnnotationInfo)Option[Types.this.AnnotationInfo]">mapOver</a><a href="../../../Option.scala.html#80646" title="(xo: Option[Types.this.AnnotationInfo])Iterable[Types.this.AnnotationInfo]" class="delimiter">(</a><a href="#849805" title="Types.this.AnnotationInfo">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="List[Types.this.AnnotationInfo]" class="keyword">if</span> <span class="delimiter">(</span><a href="#532442" title="(l1: List[Types.this.AnnotationInfo], l2: List[Types.this.AnnotationInfo])Boolean">allEq</a><span class="delimiter">(</span><a href="#849788" title="List[Types.this.AnnotationInfo]">newAnnots</a>, <a href="#849544" title="List[Types.this.AnnotationInfo]">annots</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#849544" title="List[Types.this.AnnotationInfo]">annots</a>
      <span class="keyword">else</span>
        <a href="#849788" title="List[Types.this.AnnotationInfo]">newAnnots</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(annot: Types.this.AnnotationInfo)Option[Types.this.AnnotationInfo]" id="532451">mapOver</a><span class="delimiter">(</span><a title="Types.this.AnnotationInfo" id="532472">annot</a>: <a href="AnnotationInfos.scala.html#479085" title="Types.this.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[Types.this.AnnotationInfo]">Option</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> AnnotationInfo<a href="../../../Tuple3.scala.html#53296" title="(Types.this.Type, List[Types.this.Tree], List[(Types.this.Name, Types.this.ClassfileAnnotArg)])" class="delimiter">(</a><a href="../../../Tuple3.scala.html#53312" title="Types.this.Type" id="850025">atp</a>, <a href="../../../Tuple3.scala.html#53314" title="List[Types.this.Tree]" id="850026">args</a>, <a href="../../../Tuple3.scala.html#53316" title="List[(Types.this.Name, Types.this.ClassfileAnnotArg)]" id="850027">assocs</a><span class="delimiter">)</span> = <a href="#532472" title="Types.this.AnnotationInfo">annot</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#532440" title="=&gt; Boolean">dropNonConstraintAnnotations</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#850025" title="Types.this.Type">atp</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="Symbols.scala.html#509296" title="(that: Types.this.Symbol)Boolean">isNonBottomSubClass</a> <a href="Definitions.scala.html#508047" title="=&gt; Types.this.Symbol">TypeConstraintClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="../../../Option.scala.html#1737" title="object None">None</a>

      <span class="keyword">val</span> <a title="Types.this.Type" id="850028">atp1</a> = <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#850025" title="Types.this.Type">atp</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Types.this.Tree]" id="850029">args1</a> = <a href="#532452" title="(args: List[Types.this.Tree])List[Types.this.Tree]">mapOverAnnotArgs</a><span class="delimiter">(</span><a href="#850026" title="List[Types.this.Tree]">args</a><span class="delimiter">)</span>
      <span class="comment">// there is no need to rewrite assocs, as they are constants</span>

      <span title="Option[Types.this.AnnotationInfo]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#850026" title="List[Types.this.Tree]">args</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#850029" title="List[Types.this.Tree]">args1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#850025" title="Types.this.Type">atp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#850028" title="Types.this.Type">atp1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../Option.scala.html#57885" title="(x: Types.this.AnnotationInfo)Some[Types.this.AnnotationInfo]">Some</a><span class="delimiter">(</span><a href="#532472" title="Types.this.AnnotationInfo">annot</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Option[Types.this.AnnotationInfo]" class="keyword">if</span> <span class="delimiter">(</span><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#850029" title="List[Types.this.Tree]">args1</a>, <a href="#850026" title="List[Types.this.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../Option.scala.html#57885" title="(x: Types.this.AnnotationInfo)Some[Types.this.AnnotationInfo]">Some</a><span class="delimiter">(</span><a href="AnnotationInfos.scala.html#533292" title="(atp: Types.this.Type, args: List[Types.this.Tree], assocs: List[(Types.this.Name, Types.this.ClassfileAnnotArg)])Types.this.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#850028" title="Types.this.Type">atp1</a>, <a href="#850029" title="List[Types.this.Tree]">args1</a>, <a href="#850027" title="List[(Types.this.Name, Types.this.ClassfileAnnotArg)]">assocs</a><span class="delimiter">)</span>.<a href="AnnotationInfos.scala.html#532490" title="(pos: scala.tools.nsc.util.Position)Types.this.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#532472" title="Types.this.AnnotationInfo">annot</a>.<a href="AnnotationInfos.scala.html#532489" title="=&gt; Types.this.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="../../../Option.scala.html#1737" title="object None">None</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Map over a set of annotation arguments.  If any
     *  of the arguments cannot be mapped, then return Nil.  */</span>
    <span class="keyword">def</span> <a title="(args: List[Types.this.Tree])List[Types.this.Tree]" id="532452">mapOverAnnotArgs</a><span class="delimiter">(</span><a title="List[Types.this.Tree]" id="850062">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Types.this.Tree]" id="850072">args1</a> = <a href="#850062" title="List[Types.this.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: Types.this.Tree =&gt; scala.collection.GenTraversableOnce[Types.this.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Tree],Types.this.Tree,List[Types.this.Tree]])List[Types.this.Tree]">flatMap</a> <span class="delimiter">(</span><a title="Types.this.Tree" id="850089">x</a> =&gt; <a href="#532453" title="(tree: Types.this.Tree)Option[Types.this.Tree]">mapOver</a><a href="../../../Option.scala.html#80646" title="(xo: Option[Types.this.Tree])Iterable[Types.this.Tree]" class="delimiter">(</a><a href="#850089" title="Types.this.Tree">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="List[Types.this.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#850072" title="List[Types.this.Tree]">args1</a>, <a href="#850062" title="List[Types.this.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
      <span class="keyword">else</span> <span title="List[Types.this.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#532442" title="(l1: List[Types.this.Tree], l2: List[Types.this.Tree])Boolean">allEq</a><span class="delimiter">(</span><a href="#850062" title="List[Types.this.Tree]">args</a>, <a href="#850072" title="List[Types.this.Tree]">args1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#850062" title="List[Types.this.Tree]">args</a>
      <span class="keyword">else</span>
        <a href="#850072" title="List[Types.this.Tree]">args1</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Types.this.Tree)Option[Types.this.Tree]" id="532453">mapOver</a><span class="delimiter">(</span><a title="Types.this.Tree" id="532469">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[Types.this.Tree]">Option</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
      <a href="../../../Option.scala.html#57885" title="(x: Types.this.Tree)Some[Types.this.Tree]">Some</a><span class="delimiter">(</span><a href="#532454" title="(tree: Types.this.Tree, giveup: () =&gt; Nothing)Types.this.Tree">mapOver</a><span class="delimiter">(</span><a href="#532469" title="Types.this.Tree">tree</a>, <span class="delimiter">(</span><span class="delimiter">)</span>=&gt;<span title="Nothing" class="keyword">return</span> <a href="../../../Option.scala.html#1737" title="object None">None</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Map a tree that is part of an annotation argument.
     *  If the tree cannot be mapped, then invoke giveup().
     *  The default is to transform the tree with
     *  TypeMapTransformer.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Types.this.Tree, giveup: () =&gt; Nothing)Types.this.Tree" id="532454">mapOver</a><span class="delimiter">(</span><a title="Types.this.Tree" id="532464">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a>, <a title="() =&gt; Nothing" id="532465">giveup</a>: <span class="delimiter">(</span><span class="delimiter">)</span>=&gt;Nothing<span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a> =
      <span class="delimiter">(</span><span title="TypeMap.this.TypeMapTransformer" class="keyword">new</span> <a href="#532455" title="TypeMap.this.TypeMapTransformer">TypeMapTransformer</a><span class="delimiter">)</span>.<a href="#850321" title="(tree: Types.this.Tree)Types.this.Tree">transform</a><span class="delimiter">(</span><a href="#532464" title="Types.this.Tree">tree</a><span class="delimiter">)</span>

    <span class="comment">/** This transformer leaves the tree alone except to remap
     *  its types. */</span>
    <span class="keyword">class</span> <a title="class TypeMapTransformer extends Types.this.Transformer with ScalaObject" id="532455">TypeMapTransformer</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../ast/Trees.scala.html#479167" title="Types.this.Transformer">Transformer</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Types.this.Tree)Types.this.Tree" id="850321">transform</a><span class="delimiter">(</span><a title="Types.this.Tree" id="850323">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Types.this.Tree" id="850327">tree1</a> = <a href="#532455" title="TypeMap.this.TypeMapTransformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560339" title="(tree: Types.this.Tree)Types.this.Tree">transform</a><span class="delimiter">(</span><a href="#850323" title="Types.this.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="850328">tpe1</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Types.this.Type">TypeMap</a>.<span class="keyword">this</span><span class="delimiter">(</span><a href="#850327" title="Types.this.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>
        <span title="Types.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#850323" title="Types.this.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#850327" title="Types.this.Tree">tree1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#850323" title="Types.this.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Types.this.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#850328" title="Types.this.Type">tpe1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#850323" title="Types.this.Tree">tree</a>
        <span class="keyword">else</span>
          <a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Types.this.Tree)Types.this.TreeOps">tree1</a>.<a href="../ast/Trees.scala.html#510739" title="=&gt; Types.this.Tree">shallowDuplicate</a>.<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Types.this.Type)Types.this.Tree">setType</a><span class="delimiter">(</span><a href="#850328" title="Types.this.Type">tpe1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A type map that always returns the input type unchanged */</span>
  <span class="keyword">object</span> <a title="object Types.this.IdentityTypeMap" id="478843">IdentityTypeMap</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="850341">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="850343">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#850343" title="Types.this.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TypeTraverser extends Types.this.TypeMap with ScalaObject" id="478845">TypeTraverser</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Unit" id="842114">traverse</a><span class="delimiter">(</span><a title="Types.this.Type" id="842492">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="842115">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="850348">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span> <a href="#842114" title="(tp: Types.this.Type)Unit">traverse</a><span class="delimiter">(</span><a href="#850348" title="Types.this.Type">tp</a><span class="delimiter">)</span>; <a href="#850348" title="Types.this.Type">tp</a> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TypeCollector[T] extends Types.this.TypeTraverser with ScalaObject" id="478846">TypeCollector</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="478847">T</a><span class="delimiter">]</span><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="T" id="842125">initial</a>: <a href="#478847" title="T">T</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478845" title="Types.this.TypeTraverser">TypeTraverser</a> <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="T" id="842120">result</a>: <a href="#478847" title="T">T</a> = _
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)T" id="842122">collect</a><span class="delimiter">(</span><a title="Types.this.Type" id="842488">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#842120" title="(x$1: T)Unit">result</a> = <a href="#842125" title="T">initial</a>
      <a href="#842114" title="(tp: Types.this.Type)Unit">traverse</a><span class="delimiter">(</span><a href="#842488" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <a href="#842120" title="=&gt; T">result</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[Types.this.Symbol,Types.this.Symbol]" id="478848">emptySymMap</a>   = immutable.<a href="../../../collection/generic/GenMapFactory.scala.html#56702" title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</a><span title="(elems: (Types.this.Symbol, Types.this.Symbol)*)scala.collection.immutable.Map[Types.this.Symbol,Types.this.Symbol]" class="delimiter">[</span><a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Map[Types.this.Symbol,Int]" id="478850">emptySymCount</a> = immutable.<a href="../../../collection/generic/GenMapFactory.scala.html#56702" title="[A, B](elems: (A, B)*)scala.collection.immutable.Map[A,B]">Map</a><span title="(elems: (Types.this.Symbol, Int)*)scala.collection.immutable.Map[Types.this.Symbol,Int]" class="delimiter">[</span><a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(clazz: Types.this.Symbol, tparams: List[Types.this.Symbol])List[Types.this.Symbol]" id="478852">typeParamsToExistentials</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="818327">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="List[Types.this.Symbol]" id="818328">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="850353">eparams</a> = <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="850424">tparam</a>, <a title="Int" id="850425">i</a><span class="delimiter">)</span> &lt;- <a href="#818328" title="List[Types.this.Symbol]">tparams</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((Types.this.Symbol, Int)) =&gt; Types.this.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[(Types.this.Symbol, Int)],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">zipWithIndex</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
      <a href="#818327" title="Types.this.Symbol">clazz</a>.<a href="Symbols.scala.html#509149" title="(pos: Types.this.Position, name: Types.this.TypeName)Types.this.Symbol">newExistential</a><span class="delimiter">(</span><a href="#818327" title="Types.this.Symbol">clazz</a>.<a href="Symbols.scala.html#509109" title="=&gt; Types.this.Position">pos</a>, <a href="Names.scala.html#478405" title="(s: String)Types.this.TypeName">newTypeName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#850425" title="Int">i</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="Symbols.scala.html#509274" title="(info: Types.this.Type)Types.this.Symbol">setInfo</a><span class="delimiter">(</span><a href="#850424" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="850481">tparam</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Symbol =&gt; Types.this.Symbol)Unit">eparams</a><span class="delimiter">)</span> <a href="#850481" title="Types.this.Symbol">tparam</a> <a href="Symbols.scala.html#509274" title="(info: Types.this.Type)tparam.type">setInfo</a> <a href="#850481" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#818328" title="List[Types.this.Symbol]">tparams</a>, <a href="#850353" title="List[Types.this.Symbol]">eparams</a><span class="delimiter">)</span>
    <a href="#850353" title="List[Types.this.Symbol]">eparams</a>
  <span class="delimiter">}</span>

  <span class="comment">//  note: it's important to write the two tests in this order,</span>
  <span class="comment">//  as only typeParams forces the classfile to be read. See #400</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Boolean" id="478853">isRawIfWithoutArgs</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="652135">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="#652135" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#652135" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#652135" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a>

  <span class="keyword">def</span> <a title="(sym: Types.this.Symbol, args: List[Types.this.Type])Boolean" id="478854">isRaw</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="652131">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="List[Types.this.Type]" id="652132">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478853" title="(sym: Types.this.Symbol)Boolean">isRawIfWithoutArgs</a><span class="delimiter">(</span><a href="#652131" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#652132" title="List[Types.this.Type]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a>

  <span class="comment">/** Is type tp a ``raw type''? */</span>
  <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="478855">isRawType</a><span class="delimiter">(</span><a title="Types.this.Type" id="652126">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#652126" title="Types.this.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="652129">sym</a>, <a title="List[Types.this.Type]" id="652130">args</a><span class="delimiter">)</span> =&gt; <a href="#478854" title="(sym: Types.this.Symbol, args: List[Types.this.Type])Boolean">isRaw</a><span class="delimiter">(</span><a href="#652129" title="Types.this.Symbol">sym</a>, <a href="#652130" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The raw to existential map converts a ``raw type'' to an existential type.
   *  It is necessary because we might have read a raw type of a
   *  parameterized Java class from a class file. At the time we read the type
   *  the corresponding class file might still not be read, so we do not
   *  know what the type parameters of the type are. Therefore
   *  the conversion of raw types to existential types might not have taken place
   *  in ClassFileparser.sigToType (where it is usually done)
   */</span>
  <span class="keyword">object</span> <a title="object Types.this.rawToExistential" id="478856">rawToExistential</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Types.this.Symbol]" id="652141">expanded</a> = immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Types.this.Symbol*)scala.collection.immutable.Set[Types.this.Symbol]" class="delimiter">[</span><a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Types.this.Type]" id="652144">generated</a> = immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Types.this.Type*)scala.collection.immutable.Set[Types.this.Type]" class="delimiter">[</span><a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="652146">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="652147">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#652147" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="850492">pre</a>, <a title="Types.this.Symbol" id="850493">sym</a>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Types.this.Type])Some[List[Types.this.Type]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#478853" title="(sym: Types.this.Symbol)Boolean">isRawIfWithoutArgs</a><span class="delimiter">(</span><a href="#850493" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> =&gt;
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#652141" title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]">expanded</a> <a href="../../../collection/SetLike.scala.html#65655" title="(elem: Types.this.Symbol)Boolean">contains</a> <a href="#850493" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <a href="Definitions.scala.html#507923" title="=&gt; Types.this.Symbol">AnyRefClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
        <span class="keyword">else</span> <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#652141" title="(x$1: scala.collection.immutable.Set[Types.this.Symbol])Unit">expanded</a> <a href="../../../collection/SetLike.scala.html#65656" title="(elem: Types.this.Symbol)scala.collection.immutable.Set[Types.this.Symbol]">+=</a> <a href="#850493" title="Types.this.Symbol">sym</a>
          <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="850510">eparams</a> = <a href="#532449" title="(origSyms: List[Types.this.Symbol])List[Types.this.Symbol]">mapOver</a><span class="delimiter">(</span><a href="#478852" title="(clazz: Types.this.Symbol, tparams: List[Types.this.Symbol])List[Types.this.Symbol]">typeParamsToExistentials</a><span class="delimiter">(</span><a href="#850493" title="Types.this.Symbol">sym</a>, <a href="#850493" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#478821" title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#850510" title="List[Types.this.Symbol]">eparams</a>, <a href="#478811" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">typeRef</a><span class="delimiter">(</span><a href="#652146" title="(tp: Types.this.Type)Types.this.Type">apply</a><span class="delimiter">(</span><a href="#850492" title="Types.this.Type">pre</a><span class="delimiter">)</span>, <a href="#850493" title="Types.this.Symbol">sym</a>, <a href="#850510" title="List[Types.this.Symbol]">eparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#850545" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
          <a href="#652141" title="(x$1: scala.collection.immutable.Set[Types.this.Symbol])Unit">expanded</a> <a href="../../../collection/SetLike.scala.html#65660" title="(elem: Types.this.Symbol)scala.collection.immutable.Set[Types.this.Symbol]">-=</a> <a href="#850493" title="Types.this.Symbol">sym</a>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Types.this.Type">ExistentialType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#652144" title="=&gt; scala.collection.immutable.Set[Types.this.Type]">generated</a> <a href="../../../collection/SetLike.scala.html#65655" title="(elem: Types.this.Type)Boolean">contains</a> <a href="#652147" title="Types.this.Type">tp</a><span class="delimiter">)</span> =&gt; <span class="comment">// to avoid infinite expansions. todo: not sure whether this is needed</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="850594">result</a> = <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#652147" title="Types.this.Type">tp</a><span class="delimiter">)</span>
        <a href="#652144" title="(x$1: scala.collection.immutable.Set[Types.this.Type])Unit">generated</a> <a href="../../../collection/SetLike.scala.html#65656" title="(elem: Types.this.Type)scala.collection.immutable.Set[Types.this.Type]">+=</a> <a href="#850594" title="Types.this.Type">result</a>
        <a href="#850594" title="Types.this.Type">result</a>
      <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
        <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#652147" title="Types.this.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(hi: Types.this.Type)Types.this.TypeBounds" id="478858">singletonBounds</a><span class="delimiter">(</span><a title="Types.this.Type" id="842512">hi</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#478751" title="object Types.this.TypeBounds">TypeBounds</a>.<a href="#546578" title="(hi: Types.this.Type)Types.this.TypeBounds">upper</a><span class="delimiter">(</span><a href="#478816" title="(tps: List[Types.this.Type])Types.this.Type">intersectionType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Type*)List[Types.this.Type]">List</a><span class="delimiter">(</span><a href="#842512" title="Types.this.Type">hi</a>, <a href="Definitions.scala.html#508049" title="=&gt; Types.this.Symbol">SingletonClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map to compute the asSeenFrom method  */</span>
  <span class="keyword">class</span> <a title="class AsSeenFromMap extends Types.this.TypeMap with ScalaObject" id="478859">AsSeenFromMap</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="842739">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="842740">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="842727">dropNonConstraintAnnotations</a> = <span title="Boolean(true)" class="keyword">true</span>

    <span class="keyword">var</span> <a title="List[Types.this.Symbol]" id="842730">capturedParams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Types.this.Tree, giveup: () =&gt; Nothing)Types.this.Tree" id="842732">mapOver</a><span class="delimiter">(</span><a title="Types.this.Tree" id="850632">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a>, <a title="() =&gt; Nothing" id="850633">giveup</a>: <span class="delimiter">(</span><span class="delimiter">)</span>=&gt;Nothing<span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">object</span> <a title="object annotationArgRewriter" id="850636">annotationArgRewriter</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#532455" title="AsSeenFromMap.this.TypeMapTransformer">TypeMapTransformer</a> <span class="delimiter">{</span>
        <span class="comment">/** Rewrite `This` trees in annotation argument trees */</span>
        <span class="keyword">def</span> <a title="(tree: Types.this.Tree)Types.this.Tree" id="850639">rewriteThis</a><span class="delimiter">(</span><a title="Types.this.Tree" id="850642">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a> =
          <a href="#850642" title="Types.this.Tree">tree</a> <span title="Types.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Types.this.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span>
            <span class="keyword">if</span> <span class="delimiter">(</span><a href="#850642" title="Types.this.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Types.this.Symbol">symbol</a> <a href="Symbols.scala.html#509296" title="(that: Types.this.Symbol)Boolean">isNonBottomSubClass</a> <a href="#842740" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
               <span class="delimiter">(</span><a href="#842739" title="Types.this.Type">pre</a>.<a href="#507163" title="=&gt; Types.this.Type">widen</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="Symbols.scala.html#509296" title="(that: Types.this.Symbol)Boolean">isNonBottomSubClass</a> <a href="#850642" title="Types.this.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Types.this.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
              <span title="Types.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#842739" title="Types.this.Type">pre</a>.<a href="#507151" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// XXX why is this in this method? pull it out and guard the call `annotationArgRewriter.transform(tree)`?</span>
                <span class="keyword">val</span> <a title="Types.this.TermSymbol" id="850648">termSym</a> =
                  <a href="#842739" title="Types.this.Type">pre</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>.<a href="Symbols.scala.html#509125" title="(pos: Types.this.Position, name: Types.this.TermName)Types.this.TermSymbol">newValue</a><span class="delimiter">(</span>
                    <a href="#842739" title="Types.this.Type">pre</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509109" title="=&gt; Types.this.Position">pos</a>,
                    <a href="#842739" title="Types.this.Type">pre</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a>.<a href="Names.scala.html#501117" title="=&gt; Types.this.TermName">toTermName</a><span class="delimiter">)</span>.<a href="Symbols.scala.html#509274" title="(info: Types.this.Type)Types.this.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#842739" title="Types.this.Type">pre</a><span class="delimiter">)</span>  <span class="comment">// what symbol should really be used?</span>
                <a href="../ast/TreeGen.scala.html#507270" title="(tpe: Types.this.gen.global.Type, termSym: Types.this.gen.global.Symbol)Types.this.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#842739" title="Types.this.Type">pre</a>, <a href="#850648" title="Types.this.TermSymbol">termSym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span>
                <a href="../../../Function0.scala.html#62187" title="()Nothing">giveup</a><span class="delimiter">(</span><span class="delimiter">)</span>

            <span class="keyword">case</span> <a title="Types.this.Tree" id="850674">tree</a> =&gt; <a href="#850674" title="Types.this.Tree">tree</a>
          <span class="delimiter">}</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Types.this.Tree)Types.this.Tree" id="850640">transform</a><span class="delimiter">(</span><a title="Types.this.Tree" id="850675">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Types.this.Tree" id="850678">tree1</a> = <a href="#850639" title="(tree: Types.this.Tree)Types.this.Tree">rewriteThis</a><span class="delimiter">(</span><span class="keyword">super</span>.<a href="#850321" title="(tree: Types.this.Tree)Types.this.Tree">transform</a><span class="delimiter">(</span><a href="#850675" title="Types.this.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#850678" title="Types.this.Tree">tree1</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#850636" title="object annotationArgRewriter">annotationArgRewriter</a>.<a href="#850640" title="(tree: Types.this.Tree)Types.this.Tree">transform</a><span class="delimiter">(</span><a href="#850632" title="Types.this.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="scala.collection.immutable.Map[Types.this.Symbol,Types.this.Symbol]" id="842734">capturedPre</a> = <a href="#478848" title="=&gt; scala.collection.immutable.Map[Types.this.Symbol,Types.this.Symbol]">emptySymMap</a>

    <span class="keyword">def</span> <a title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type" id="842736">stabilize</a><span class="delimiter">(</span><a title="Types.this.Type" id="850682">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="850683">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <a href="#842734" title="=&gt; scala.collection.immutable.Map[Types.this.Symbol,Types.this.Symbol]">capturedPre</a>.<a href="../../../collection/MapLike.scala.html#73201" title="(key: Types.this.Symbol, default: =&gt; Types.this.Symbol)Types.this.Symbol">getOrElse</a><span class="delimiter">(</span><a href="#850683" title="Types.this.Symbol">clazz</a>, <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Types.this.Symbol" id="850693">qvar</a> = <a href="#850683" title="Types.this.Symbol">clazz</a> <a href="Symbols.scala.html#509150" title="(suffix: String)Types.this.Symbol">freshExistential</a> <span title="java.lang.String(&quot;.type&quot;)" class="string">&quot;.type&quot;</span> <a href="Symbols.scala.html#509274" title="(info: Types.this.Type)Types.this.Symbol">setInfo</a> <a href="#478858" title="(hi: Types.this.Type)Types.this.TypeBounds">singletonBounds</a><span class="delimiter">(</span><a href="#850682" title="Types.this.Type">pre</a><span class="delimiter">)</span>
          <a href="#842734" title="(x$1: scala.collection.immutable.Map[Types.this.Symbol,Types.this.Symbol])Unit">capturedPre</a> <a href="../../../collection/immutable/Map.scala.html#56993" title="(kv: (Types.this.Symbol, Types.this.Symbol))scala.collection.immutable.Map[Types.this.Symbol,Types.this.Symbol]">+=</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#9589" title="(x: Types.this.Symbol)ArrowAssoc[Types.this.Symbol]">clazz</a> <a href="../../../Predef.scala.html#57653" title="(y: Types.this.Symbol)(Types.this.Symbol, Types.this.Symbol)">-&gt;</a> <a href="#850693" title="Types.this.Symbol">qvar</a><span class="delimiter">)</span>
          <a href="#842730" title="(x$1: List[Types.this.Symbol])Unit">capturedParams</a> = <a href="#850693" title="Types.this.Symbol">qvar</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Symbol)List[Types.this.Symbol]">::</a> <a href="#842730" title="=&gt; List[Types.this.Symbol]">capturedParams</a>
          <a href="#850693" title="Types.this.Symbol">qvar</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>

    <span class="comment">/** Return pre.baseType(clazz), or if that's NoType and clazz is a refinement, pre itself.
     *  See bug397.scala for an example where the second alternative is needed.
     *  The problem is that when forming the base type sequence of an abstract type,
     *  any refinements in the base type list might be regenerated, and thus acquire
     *  new class symbols. However, since refinements always have non-interesting prefixes
     *  it looks OK to me to just take the prefix directly. */</span>
    <span class="keyword">def</span> <a title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type" id="842737">base</a><span class="delimiter">(</span><a title="Types.this.Type" id="850796">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="850797">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="850800">b</a> = <a href="#850796" title="Types.this.Type">pre</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#850797" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#850800" title="Types.this.Type">b</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843724" title="object Types.this.NoType">NoType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#850797" title="Types.this.Symbol">clazz</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a><span class="delimiter">)</span> <a href="#850796" title="Types.this.Type">pre</a>
      <span class="keyword">else</span> <a href="#850800" title="Types.this.Type">b</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="842738">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="842741">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#842739" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#842739" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#842740" title="Types.this.Symbol">clazz</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#842741" title="Types.this.Type">tp</a>
      <span class="keyword">else</span> <a href="#842741" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Types.this.Type">ThisType</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="850805">sym</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type" id="850806">toPrefix</a><span class="delimiter">(</span><a title="Types.this.Type" id="850807">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="850808">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
            <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#850807" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#850807" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#850808" title="Types.this.Symbol">clazz</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#842741" title="Types.this.Type">tp</a>
            <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#850805" title="Types.this.Symbol">sym</a> <a href="Symbols.scala.html#509296" title="(that: Types.this.Symbol)Boolean">isNonBottomSubClass</a> <a href="#850808" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <span class="delimiter">(</span><a href="#850807" title="Types.this.Type">pre</a>.<a href="#507163" title="=&gt; Types.this.Type">widen</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="Symbols.scala.html#509296" title="(that: Types.this.Symbol)Boolean">isNonBottomSubClass</a> <a href="#850805" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Types.this.Type" id="850812">pre1</a> = <a href="#850807" title="Types.this.Type">pre</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Types.this.Type">SuperType</span><span class="delimiter">(</span><a title="Types.this.Type" id="850813">thistp</a>, _<span class="delimiter">)</span> =&gt; <a href="#850813" title="Types.this.Type">thistp</a>
                <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt; <a href="#850807" title="Types.this.Type">pre</a>
              <span class="delimiter">}</span>
              <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#850812" title="Types.this.Type">pre1</a>.<a href="#507151" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                    <a href="#850812" title="Types.this.Type">pre1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                    <a href="#850812" title="Types.this.Type">pre1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#850812" title="Types.this.Type">pre1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509233" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#842736" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">stabilize</a><span class="delimiter">(</span><a href="#850812" title="Types.this.Type">pre1</a>, <a href="#850805" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#850812" title="Types.this.Type">pre1</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#850806" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">toPrefix</a><span class="delimiter">(</span><a href="#842737" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">base</a><span class="delimiter">(</span><a href="#850807" title="Types.this.Type">pre</a>, <a href="#850808" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>.<a href="#507169" title="=&gt; Types.this.Type">prefix</a>, <a href="#850808" title="Types.this.Symbol">clazz</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span>;
            <span class="delimiter">}</span>
          <a href="#850806" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">toPrefix</a><span class="delimiter">(</span><a href="#842739" title="Types.this.Type">pre</a>, <a href="#842740" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Types.this.Type">SingleType</span><span class="delimiter">(</span><a title="Types.this.Type" id="850814">pre</a>, <a title="Types.this.Symbol" id="850815">sym</a><span class="delimiter">)</span> =&gt;
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#850815" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#842741" title="Types.this.Type">tp</a> <span class="comment">// short path</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Types.this.Type" id="850816">pre1</a> = <a href="#842738" title="(tp: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#850814" title="Types.this.Type">pre</a><span class="delimiter">)</span>
            <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#850816" title="Types.this.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#850814" title="Types.this.Type">pre</a><span class="delimiter">)</span> <a href="#842741" title="Types.this.Type">tp</a>
            <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#850816" title="Types.this.Type">pre1</a>.<a href="#507151" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <a href="#478807" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">singleType</a><span class="delimiter">(</span><a href="#850816" title="Types.this.Type">pre1</a>, <a href="#850815" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#850816" title="Types.this.Type">pre1</a>.<a href="#507207" title="(sym: Types.this.Symbol)Types.this.Type">memberType</a><span class="delimiter">(</span><a href="#850815" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>.<a href="#507173" title="=&gt; Types.this.Type">resultType</a> <span class="comment">//todo: this should be rolled into existential abstraction</span>
          <span class="delimiter">}</span>
        <span class="comment">// AM: Martin, is this description accurate?</span>
        <span class="comment">// walk the owner chain of `clazz` (the original argument to asSeenFrom) until we find the type param's owner (while rewriting pre as we crawl up the owner chain)</span>
        <span class="comment">// once we're at the owner, extract the information that pre encodes about the type param,</span>
        <span class="comment">// by minimally subsuming pre to the type instance of the class that owns the type param,</span>
        <span class="comment">// the type we're looking for is the type instance's type argument at the position corresponding to the type parameter</span>
        <span class="comment">// optimisation: skip this type parameter if it's not owned by a class, as those params are not influenced by the prefix through which they are seen</span>
        <span class="comment">// (concretely: type params of anonymous type functions, which currently can only arise from normalising type aliases, are owned by the type alias of which they are the eta-expansion)</span>
        <span class="comment">// (skolems also aren't affected: they are ruled out by the isTypeParameter check)</span>
        <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="850827">prefix</a>, <a title="Types.this.Symbol" id="850828">sym</a>, <a title="List[Types.this.Type]" id="850829">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#850828" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435391" title="=&gt; Boolean">isTypeParameter</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#850828" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type" id="850830">toInstance</a><span class="delimiter">(</span><a title="Types.this.Type" id="850831">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="850832">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
            <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#850831" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#850831" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#850832" title="Types.this.Symbol">clazz</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#842741" title="Types.this.Type">tp</a><span class="delimiter">)</span>
            <span class="comment">//@M! see test pos/tcpoly_return_overriding.scala why mapOver is necessary</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="=&gt; Nothing" id="850841">throwError</a> = <a href="SymbolTable.scala.html#478159" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#842741" title="Types.this.Type">tp</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#850828" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; cannot be instantiated from &quot;)" class="string">&quot; cannot be instantiated from &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#850831" title="Types.this.Type">pre</a>.<a href="#507163" title="=&gt; Types.this.Type">widen</a><span class="delimiter">)</span>

              <span class="keyword">def</span> <a title="(ps: List[Types.this.Symbol], as: List[Types.this.Type])Types.this.Type" id="850842">instParam</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="850848">ps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="850849">as</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
                <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#850848" title="List[Types.this.Symbol]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#850841" title="=&gt; Nothing">throwError</a>
                <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#850828" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#850848" title="List[Types.this.Symbol]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a><span class="delimiter">)</span>
                  <span class="comment">// @M! don't just replace the whole thing, might be followed by type application</span>
                  <a href="#478817" title="(tycon: Types.this.Type, args: List[Types.this.Type])Types.this.Type">appliedType</a><span class="delimiter">(</span><a href="#850849" title="List[Types.this.Type]">as</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a>, <a href="#850829" title="List[Types.this.Type]">args</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Types.this.Type =&gt; Types.this.Type)List[Types.this.Type]">mapConserve</a> <span class="delimiter">(</span><a href="#478859" title="Types.this.AsSeenFromMap" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// @M: was as.head</span>
                <span class="keyword">else</span> <a href="#850842" title="(ps: List[Types.this.Symbol], as: List[Types.this.Type])Types.this.Type">instParam</a><span class="delimiter">(</span><a href="#850848" title="List[Types.this.Symbol]">ps</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Symbol]">tail</a>, <a href="#850849" title="List[Types.this.Type]">as</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Type]">tail</a><span class="delimiter">)</span>;
              <span class="keyword">val</span> <a title="Types.this.Symbol" id="850843">symclazz</a> = <a href="#850828" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>
              <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#850843" title="Types.this.Symbol">symclazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#850832" title="Types.this.Symbol">clazz</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#850831" title="Types.this.Type">pre</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#478797" title="Types.this.TypeVar">TypeVar</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#850831" title="Types.this.Type">pre</a>.<a href="#507163" title="=&gt; Types.this.Type">widen</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="Symbols.scala.html#509296" title="(that: Types.this.Symbol)Boolean">isNonBottomSubClass</a> <a href="#850843" title="Types.this.Symbol">symclazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// have to deconst because it may be a Class[T].</span>
                <a href="#850831" title="Types.this.Type">pre</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#850843" title="Types.this.Symbol">symclazz</a><span class="delimiter">)</span>.<a href="#507164" title="=&gt; Types.this.Type">deconst</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="850861">basesym</a>, <a title="List[Types.this.Type]" id="850862">baseargs</a><span class="delimiter">)</span> =&gt;
                    <span class="comment">//Console.println(&quot;instantiating &quot; + sym + &quot; from &quot; + basesym + &quot; with &quot; + basesym.typeParams + &quot; and &quot; + baseargs+&quot;, pre = &quot;+pre+&quot;, symclazz = &quot;+symclazz);//DEBUG</span>
                    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#850861" title="Types.this.Symbol">basesym</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#850862" title="List[Types.this.Type]">baseargs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <a href="#850842" title="(ps: List[Types.this.Symbol], as: List[Types.this.Type])Types.this.Type">instParam</a><span class="delimiter">(</span><a href="#850861" title="Types.this.Symbol">basesym</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#850862" title="List[Types.this.Type]">baseargs</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                      <span title="Nothing" class="keyword">throw</span> <a href="#711710" title="(msg: String)Types.this.TypeError" class="keyword">new</a> <a href="#478998" title="Types.this.TypeError">TypeError</a><span class="delimiter">(</span>
                        <span title="java.lang.String(&quot;something is wrong (wrong class file?): &quot;)" class="string">&quot;something is wrong (wrong class file?): &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#850861" title="Types.this.Symbol">basesym</a><span title="(x$1: Any)java.lang.String">+</span>
                        <span title="java.lang.String(&quot; with type parameters &quot;)" class="string">&quot; with type parameters &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                        <a href="#850861" title="Types.this.Symbol">basesym</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Name,List[Types.this.Name]])List[Types.this.Name]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Types.this.Name,List[Types.this.Name]]" class="delimiter">(</a><a href="#850886" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>,<span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>,<span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span>
                        <span title="java.lang.String(&quot; gets applied to arguments &quot;)" class="string">&quot; gets applied to arguments &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#850862" title="List[Types.this.Type]">baseargs</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>,<span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>,<span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, phase = &quot;)" class="string">&quot;, phase = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Types.this.Type">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="850923">tparams</a>, <a title="Types.this.Type" id="850924">qtpe</a><span class="delimiter">)</span> =&gt;
                    <a href="#842730" title="(x$1: List[Types.this.Symbol])Unit">capturedParams</a> = <a href="#842730" title="=&gt; List[Types.this.Symbol]">capturedParams</a> <a href="../../../collection/SeqLike.scala.html#54120" title="(that: scala.collection.GenSeq[Types.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">union</a> <a href="#850923" title="List[Types.this.Symbol]">tparams</a>
                    <a href="#850830" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">toInstance</a><span class="delimiter">(</span><a href="#850924" title="Types.this.Type">qtpe</a>, <a href="#850832" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                    <a href="#850841" title="=&gt; Nothing">throwError</a>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#850830" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">toInstance</a><span class="delimiter">(</span><a href="#842737" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">base</a><span class="delimiter">(</span><a href="#850831" title="Types.this.Type">pre</a>, <a href="#850832" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>.<a href="#507169" title="=&gt; Types.this.Type">prefix</a>, <a href="#850832" title="Types.this.Symbol">clazz</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <a href="#850830" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">toInstance</a><span class="delimiter">(</span><a href="#842739" title="Types.this.Type">pre</a>, <a href="#842740" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
          <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#842741" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A base class to compute all substitutions */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class SubstMap[T] extends Types.this.TypeMap with ScalaObject" id="478860">SubstMap</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="478861">T</a><span class="delimiter">]</span><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[Types.this.Symbol]" id="565144">from</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[T]" id="565145">to</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[T]">List</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Types.this.Symbol =&gt; Boolean" id="565135">fromContains</a> = <span class="delimiter">(</span>x: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> =&gt; <a href="#565144" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a><span class="delimiter">(</span><a href="#565168" title="Types.this.Symbol">x</a><span class="delimiter">)</span> <span class="comment">//from.toSet &lt;-- traversing short lists seems to be faster than allocating sets</span>
    <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#565144" title="List[Types.this.Symbol]">from</a>, <a href="#565145" title="List[T]">to</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;Unsound substitution from &quot;)" class="string">&quot;Unsound substitution from &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#565144" title="List[Types.this.Symbol]">from</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#565145" title="List[T]">to</a><span class="delimiter">)</span>

    <span class="comment">/** Are `sym' and `sym1' the same.
     *  Can be tuned by subclasses.
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(sym: Types.this.Symbol, sym1: Types.this.Symbol)Boolean" id="565137">matches</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="850991">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Symbol" id="850992">sym1</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#850991" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#850992" title="Types.this.Symbol">sym1</a>

    <span class="comment">/** Map target to type, can be tuned by subclasses */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(fromtp: Types.this.Type, tp: T)Types.this.Type" id="565138">toType</a><span class="delimiter">(</span><a title="Types.this.Type" id="850994">fromtp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="T" id="850995">tp</a>: <a href="#478861" title="T">T</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="565139">renameBoundSyms</a><span class="delimiter">(</span><a title="Types.this.Type" id="850997">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#850997" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">MethodType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="850999">ps</a>, <a title="Types.this.Type" id="851000">restp</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="851001">ps1</a> = <a href="Symbols.scala.html#478669" title="(syms: List[Types.this.Symbol])List[Types.this.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#850999" title="List[Types.this.Symbol]">ps</a><span class="delimiter">)</span>
        <a href="#478814" title="(tp: Types.this.Type, params: List[Types.this.Symbol], restpe: Types.this.Type)Types.this.Type">copyMethodType</a><span class="delimiter">(</span><a href="#850997" title="Types.this.Type">tp</a>, <a href="#851001" title="List[Types.this.Symbol]">ps1</a>, <a href="#565139" title="(tp: Types.this.Type)Types.this.Type">renameBoundSyms</a><span class="delimiter">(</span><a href="#851000" title="Types.this.Type">restp</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#850999" title="List[Types.this.Symbol]">ps</a>, <a href="#851001" title="List[Types.this.Symbol]">ps1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.PolyType">PolyType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="851024">bs</a>, <a title="Types.this.Type" id="851025">restp</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="851026">bs1</a> = <a href="Symbols.scala.html#478669" title="(syms: List[Types.this.Symbol])List[Types.this.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#851024" title="List[Types.this.Symbol]">bs</a><span class="delimiter">)</span>
        <a href="#546990" title="(typeParams: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.PolyType">PolyType</a><span class="delimiter">(</span><a href="#851026" title="List[Types.this.Symbol]">bs1</a>, <a href="#565139" title="(tp: Types.this.Type)Types.this.Type">renameBoundSyms</a><span class="delimiter">(</span><a href="#851025" title="Types.this.Type">restp</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#851024" title="List[Types.this.Symbol]">bs</a>, <a href="#851026" title="List[Types.this.Symbol]">bs1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.ExistentialType">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="851049">bs</a>, <a title="Types.this.Type" id="851050">restp</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="851051">bs1</a> = <a href="Symbols.scala.html#478669" title="(syms: List[Types.this.Symbol])List[Types.this.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#851049" title="List[Types.this.Symbol]">bs</a><span class="delimiter">)</span>
        <a href="#547201" title="(quantified: List[Types.this.Symbol], underlying: Types.this.Type)Types.this.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#851051" title="List[Types.this.Symbol]">bs1</a>, <a href="#851050" title="Types.this.Type">restp</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#851049" title="List[Types.this.Symbol]">bs</a>, <a href="#851051" title="List[Types.this.Symbol]">bs1</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
        <a href="#850997" title="Types.this.Type">tp</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp0: Types.this.Type)Types.this.Type" id="565140">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="565177">tp0</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#565144" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#565177" title="Types.this.Type">tp0</a> <span class="keyword">else</span> <span class="delimiter">{</span>
      @tailrec <span class="keyword">def</span> <a title="(tp: Types.this.Type, sym: Types.this.Symbol, from: List[Types.this.Symbol], to: List[T])Types.this.Type" id="851074">subst</a><span class="delimiter">(</span><a title="Types.this.Type" id="851078">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="851079">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="List[Types.this.Symbol]" id="851080">from</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[T]" id="851081">to</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[T]">List</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#851080" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#851078" title="Types.this.Type">tp</a>
        <span class="comment">// else if (to.isEmpty) error(&quot;Unexpected substitution on '%s': from = %s but to == Nil&quot;.format(tp, from))</span>
        <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#565137" title="(sym: Types.this.Symbol, sym1: Types.this.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#851080" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a>, <a href="#851079" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#565138" title="(fromtp: Types.this.Type, tp: T)Types.this.Type">toType</a><span class="delimiter">(</span><a href="#851078" title="Types.this.Type">tp</a>, <a href="#851081" title="List[T]">to</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; T">head</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#851074" title="(tp: Types.this.Type, sym: Types.this.Symbol, from: List[Types.this.Symbol], to: List[T])Types.this.Type">subst</a><span class="delimiter">(</span><a href="#851078" title="Types.this.Type">tp</a>, <a href="#851079" title="Types.this.Symbol">sym</a>, <a href="#851080" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Symbol]">tail</a>, <a href="#851081" title="List[T]">to</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[T]">tail</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[Types.this.Symbol]" id="851075">boundSyms</a> = <a href="#565177" title="Types.this.Type">tp0</a>.<a href="#507183" title="=&gt; scala.collection.immutable.Set[Types.this.Symbol]">boundSyms</a>
      <span class="keyword">val</span> <a title="Types.this.Type" id="851076">tp1</a> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#851075" title="scala.collection.immutable.Set[Types.this.Symbol]">boundSyms</a> <a href="../../../collection/IterableLike.scala.html#53860" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a> <a href="#565135" title="=&gt; Types.this.Symbol =&gt; Boolean">fromContains</a><span class="delimiter">)</span> <a href="#565139" title="(tp: Types.this.Type)Types.this.Type">renameBoundSyms</a><span class="delimiter">(</span><a href="#565177" title="Types.this.Type">tp0</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#565177" title="Types.this.Type">tp0</a>
      <span class="keyword">val</span> <a title="Types.this.Type" id="851077">tp</a> = <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#851076" title="Types.this.Type">tp1</a><span class="delimiter">)</span>

      <a href="#851077" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="comment">// @M</span>
        <span class="comment">// 1) arguments must also be substituted (even when the &quot;head&quot; of the</span>
        <span class="comment">// applied type has already been substituted)</span>
        <span class="comment">// example: (subst RBound[RT] from [type RT,type RBound] to</span>
        <span class="comment">// [type RT&amp;,type RBound&amp;]) = RBound&amp;[RT&amp;]</span>
        <span class="comment">// 2) avoid loops (which occur because alpha-conversion is</span>
        <span class="comment">// not performed properly imo)</span>
        <span class="comment">// e.g. if in class Iterable[a] there is a new Iterable[(a,b)],</span>
        <span class="comment">// we must replace the a in Iterable[a] by (a,b)</span>
        <span class="comment">// (must not recurse --&gt; loops)</span>
        <span class="comment">// 3) replacing m by List in m[Int] should yield List[Int], not just List</span>
        <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a>, <a title="Types.this.Symbol" id="851092">sym</a>, <a title="List[Types.this.Type]" id="851093">args</a><span class="delimiter">)</span> =&gt;
          <a href="#478817" title="(tycon: Types.this.Type, args: List[Types.this.Type])Types.this.Type">appliedType</a><span class="delimiter">(</span><a href="#851074" title="(tp: Types.this.Type, sym: Types.this.Symbol, from: List[Types.this.Symbol], to: List[T])Types.this.Type">subst</a><span class="delimiter">(</span><a href="#851077" title="Types.this.Type">tp</a>, <a href="#851092" title="Types.this.Symbol">sym</a>, <a href="#565144" title="List[Types.this.Symbol]">from</a>, <a href="#565145" title="List[T]">to</a><span class="delimiter">)</span>, <a href="#851093" title="List[Types.this.Type]">args</a><span class="delimiter">)</span> <span class="comment">// if args.isEmpty, appliedType is the identity</span>
        <span class="keyword">case</span> <span title="Types.this.Type">SingleType</span><span class="delimiter">(</span><a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a>, <a title="Types.this.Symbol" id="851094">sym</a><span class="delimiter">)</span> =&gt;
          <a href="#851074" title="(tp: Types.this.Type, sym: Types.this.Symbol, from: List[Types.this.Symbol], to: List[T])Types.this.Type">subst</a><span class="delimiter">(</span><a href="#851077" title="Types.this.Type">tp</a>, <a href="#851094" title="Types.this.Symbol">sym</a>, <a href="#565144" title="List[Types.this.Symbol]">from</a>, <a href="#565145" title="List[T]">to</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
          <a href="#851077" title="Types.this.Type">tp</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map to implement the `substSym' method. */</span>
  <span class="keyword">class</span> <a title="class SubstSymMap extends Types.this.SubstMap[Types.this.Symbol] with ScalaObject" id="478862">SubstSymMap</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[Types.this.Symbol]" id="565260">from</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="565261">to</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478860" title="Types.this.SubstMap[Types.this.Symbol]">SubstMap</a><span class="delimiter">(</span><a href="#565260" title="List[Types.this.Symbol]">from</a>, <a href="#565261" title="List[Types.this.Symbol]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(fromtp: Types.this.Type, sym: Types.this.Symbol)Types.this.Type" id="565257">toType</a><span class="delimiter">(</span><a title="Types.this.Type" id="851110">fromtp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="851111">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#851110" title="Types.this.Type">fromtp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="851116">pre</a>, _, <a title="List[Types.this.Type]" id="851117">args</a><span class="delimiter">)</span> =&gt; <a href="#478812" title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#851110" title="Types.this.Type">fromtp</a>, <a href="#851116" title="Types.this.Type">pre</a>, <a href="#851111" title="Types.this.Symbol">sym</a>, <a href="#851117" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">SingleType</span><span class="delimiter">(</span><a title="Types.this.Type" id="851118">pre</a>, _<span class="delimiter">)</span> =&gt; <a href="#478807" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">singleType</a><span class="delimiter">(</span><a href="#851118" title="Types.this.Type">pre</a>, <a href="#851111" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="565258">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="565271">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#565260" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#565271" title="Types.this.Type">tp</a> <span class="keyword">else</span> <span class="delimiter">{</span>
      @tailrec <span class="keyword">def</span> <a title="(sym: Types.this.Symbol, from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Symbol" id="851119">subst</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="851120">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="List[Types.this.Symbol]" id="851121">from</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="851122">to</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> =
        <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#851121" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#851120" title="Types.this.Symbol">sym</a>
        <span class="comment">// else if (to.isEmpty) error(&quot;Unexpected substitution on '%s': from = %s but to == Nil&quot;.format(sym, from))</span>
        <span class="keyword">else</span> <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#565137" title="(sym: Types.this.Symbol, sym1: Types.this.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#851121" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a>, <a href="#851120" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#851122" title="List[Types.this.Symbol]">to</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a>
        <span class="keyword">else</span> <a href="#851119" title="(sym: Types.this.Symbol, from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Symbol">subst</a><span class="delimiter">(</span><a href="#851120" title="Types.this.Symbol">sym</a>, <a href="#851121" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Symbol]">tail</a>, <a href="#851122" title="List[Types.this.Symbol]">to</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Symbol]">tail</a><span class="delimiter">)</span>
      <a href="#565271" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="851123">pre</a>, <a title="Types.this.Symbol" id="851124">sym</a>, <a title="List[Types.this.Type]" id="851125">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#851123" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a> =&gt;
          <span class="keyword">val</span> <a title="Types.this.Symbol" id="851126">newSym</a> = <a href="#851119" title="(sym: Types.this.Symbol, from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Symbol">subst</a><span class="delimiter">(</span><a href="#851124" title="Types.this.Symbol">sym</a>, <a href="#565260" title="List[Types.this.Symbol]">from</a>, <a href="#565261" title="List[Types.this.Symbol]">to</a><span class="delimiter">)</span>
          <span class="comment">// assert(newSym.typeParams.length == sym.typeParams.length, &quot;typars mismatch in SubstSymMap: &quot;+(sym, sym.typeParams, newSym, newSym.typeParams))</span>
          <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#478812" title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#565271" title="Types.this.Type">tp</a>, <a href="#851123" title="Types.this.Type">pre</a>, <a href="#851126" title="Types.this.Symbol">newSym</a>, <a href="#851125" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// mapOver takes care of subst'ing in args</span>
        <span class="keyword">case</span> <span title="Types.this.Type">SingleType</span><span class="delimiter">(</span><a title="Types.this.Type" id="851139">pre</a>, <a title="Types.this.Symbol" id="851140">sym</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#851139" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a> =&gt;
          <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#478807" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">singleType</a><span class="delimiter">(</span><a href="#851139" title="Types.this.Type">pre</a>, <a href="#851119" title="(sym: Types.this.Symbol, from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Symbol">subst</a><span class="delimiter">(</span><a href="#851140" title="Types.this.Symbol">sym</a>, <a href="#565260" title="List[Types.this.Symbol]">from</a>, <a href="#565261" title="List[Types.this.Symbol]">to</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
          <a href="#478862" title="Types.this.SubstSymMap" class="keyword">super</a>.<a href="#565140" title="(tp0: Types.this.Type)Types.this.Type">apply</a><span class="delimiter">(</span><a href="#565271" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>


    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Types.this.Tree, giveup: () =&gt; Nothing)Types.this.Tree" id="565259">mapOver</a><span class="delimiter">(</span><a title="Types.this.Tree" id="851127">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a>, <a title="() =&gt; Nothing" id="851128">giveup</a>: <span class="delimiter">(</span><span class="delimiter">)</span>=&gt;Nothing<span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">object</span> <a title="object trans" id="851151">trans</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#532455" title="SubstSymMap.this.TypeMapTransformer">TypeMapTransformer</a> <span class="delimiter">{</span>

        <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Option[Types.this.Symbol]" id="851154">termMapsTo</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="851157">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> =
          <span title="Option[Types.this.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Symbol)Boolean">fromContains</a><span class="delimiter">(</span><a href="#851157" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../../../Option.scala.html#57885" title="(x: Types.this.Symbol)Some[Types.this.Symbol]">Some</a><span class="delimiter">(</span><a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)Types.this.Symbol">to</a><span class="delimiter">(</span><a href="#565260" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/GenSeqLike.scala.html#53954" title="(elem: Types.this.Symbol)Int">indexOf</a><span class="delimiter">(</span><a href="#851157" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="../../../Option.scala.html#1737" title="object None">None</a>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Types.this.Tree)Types.this.Tree" id="851155">transform</a><span class="delimiter">(</span><a title="Types.this.Tree" id="851197">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a><span class="delimiter">)</span> =
          <a href="#851197" title="Types.this.Tree">tree</a> <span title="Types.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Types.this.Tree" id="851202">tree</a>@Ident<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
              <a href="#851154" title="(sym: Types.this.Symbol)Option[Types.this.Symbol]">termMapsTo</a><span class="delimiter">(</span><a href="#851202" title="Types.this.Ident">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Types.this.Symbol">symbol</a><span class="delimiter">)</span> <span title="Types.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Types.this.Tree">Some</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="851207">tosym</a><span class="delimiter">)</span> =&gt;
                  <span title="Types.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#851207" title="Types.this.Symbol">tosym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="Symbols.scala.html#509297" title="(that: Types.this.Symbol)Boolean">isSubClass</a> <a href="Definitions.scala.html#508049" title="=&gt; Types.this.Symbol">SingletonClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../../../reflect/generic/Trees.scala.html#443999" title="(name: Types.this.Name)Types.this.Ident">Ident</a><span class="delimiter">(</span><a href="#851207" title="Types.this.Symbol">tosym</a>.<a href="../../../reflect/generic/StdNames.scala.html#434009" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Types.this.TermName">existentialToString</a><span class="delimiter">)</span>
                      .<a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: Types.this.Symbol)Types.this.Ident">setSymbol</a><span class="delimiter">(</span><a href="#851207" title="Types.this.Symbol">tosym</a><span class="delimiter">)</span>
                      .<a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Types.this.Ident">setPos</a><span class="delimiter">(</span><a href="#851207" title="Types.this.Symbol">tosym</a>.<a href="Symbols.scala.html#509109" title="=&gt; Types.this.Position">pos</a><span class="delimiter">)</span>
                      .<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Types.this.Type)Types.this.Ident">setType</a><span class="delimiter">(</span><a href="#840120" title="(tp: Types.this.Type)Types.this.Type">dropSingletonType</a><span class="delimiter">(</span><a href="#851207" title="Types.this.Symbol">tosym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                    <a href="../../../Function0.scala.html#62187" title="()Nothing">giveup</a><span class="delimiter">(</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <a title="Types.this.Tree" id="851236">none</a> =&gt; <span class="keyword">super</span>.<a href="#850321" title="(tree: Types.this.Tree)Types.this.Tree">transform</a><span class="delimiter">(</span><a href="#851202" title="Types.this.Ident">tree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <a title="Types.this.Tree" id="851239">tree</a> =&gt; <span class="keyword">super</span>.<a href="#850321" title="(tree: Types.this.Tree)Types.this.Tree">transform</a><span class="delimiter">(</span><a href="#851239" title="Types.this.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#851151" title="object trans">trans</a>.<a href="#851155" title="(tree: Types.this.Tree)Types.this.Tree">transform</a><span class="delimiter">(</span><a href="#851127" title="Types.this.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map to implement the `subst' method. */</span>
  <span class="keyword">class</span> <a title="class SubstTypeMap extends Types.this.SubstMap[Types.this.Type] with ScalaObject" id="478863">SubstTypeMap</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[Types.this.Symbol]" id="565160">from</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="565161">to</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#478860" title="Types.this.SubstMap[Types.this.Type]">SubstMap</a><span class="delimiter">(</span><a href="#565160" title="List[Types.this.Symbol]">from</a>, <a href="#565161" title="List[Types.this.Type]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(fromtp: Types.this.Type, tp: Types.this.Type)Types.this.Type" id="565158">toType</a><span class="delimiter">(</span><a title="Types.this.Type" id="851257">fromtp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="851258">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#851258" title="Types.this.Type">tp</a>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Types.this.Tree, giveup: () =&gt; Nothing)Types.this.Tree" id="565159">mapOver</a><span class="delimiter">(</span><a title="Types.this.Tree" id="847220">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a>, <a title="() =&gt; Nothing" id="847221">giveup</a>: <span class="delimiter">(</span><span class="delimiter">)</span>=&gt;Nothing<span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">object</span> <a title="object trans" id="851263">trans</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#532455" title="SubstTypeMap.this.TypeMapTransformer">TypeMapTransformer</a> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Types.this.Tree)Types.this.Tree" id="851266">transform</a><span class="delimiter">(</span><a title="Types.this.Tree" id="851268">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a><span class="delimiter">)</span> =
          <a href="#851268" title="Types.this.Tree">tree</a> <span title="Types.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Types.this.Tree">Ident</span><span class="delimiter">(</span><a title="Types.this.Name" id="851275">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Symbol)Boolean">fromContains</a><span class="delimiter">(</span><a href="#851268" title="Types.this.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Types.this.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Types.this.Type" id="851277">totpe</a> = <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)Types.this.Type">to</a><span class="delimiter">(</span><a href="#565160" title="List[Types.this.Symbol]">from</a>.<a href="../../../collection/GenSeqLike.scala.html#53954" title="(elem: Types.this.Symbol)Int">indexOf</a><span class="delimiter">(</span><a href="#851268" title="Types.this.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Types.this.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Types.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#851277" title="Types.this.Type">totpe</a>.<a href="#507151" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <a href="../../../Function0.scala.html#62187" title="()Nothing">giveup</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="../../../reflect/generic/Trees.scala.html#443999" title="(name: Types.this.Name)Types.this.Ident">Ident</a><span class="delimiter">(</span><a href="#851275" title="Types.this.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Types.this.Ident">setPos</a><span class="delimiter">(</span><a href="#851268" title="Types.this.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Types.this.Position">pos</a><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: Types.this.Symbol)Types.this.Ident">setSymbol</a><span class="delimiter">(</span><a href="#851268" title="Types.this.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Types.this.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Types.this.Type)Types.this.Ident">setType</a><span class="delimiter">(</span><a href="#851277" title="Types.this.Type">totpe</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Types.this.Tree">_</span> =&gt; <span class="keyword">super</span>.<a href="#850321" title="(tree: Types.this.Tree)Types.this.Tree">transform</a><span class="delimiter">(</span><a href="#851268" title="Types.this.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#851263" title="object trans">trans</a>.<a href="#851266" title="(tree: Types.this.Tree)Types.this.Tree">transform</a><span class="delimiter">(</span><a href="#847220" title="Types.this.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="delimiter">}</span>

  <span class="comment">/** A map to implement the `substThis' method. */</span>
  <span class="keyword">class</span> <a title="class SubstThisMap extends Types.this.TypeMap with ScalaObject" id="478864">SubstThisMap</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Symbol" id="842761">from</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Type" id="842762">to</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="842760">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="842764">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#842764" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">ThisType</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="851319">sym</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#851319" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#842761" title="Types.this.Symbol">from</a><span class="delimiter">)</span> =&gt; <a href="#842762" title="Types.this.Type">to</a>
      <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#842764" title="Types.this.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class SubstSuperMap extends Types.this.TypeMap with ScalaObject" id="478865">SubstSuperMap</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="842777">from</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="842778">to</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="842776">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="842780">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#842780" title="Types.this.Type">tp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#842777" title="Types.this.Type">from</a><span class="delimiter">)</span> <a href="#842778" title="Types.this.Type">to</a> <span class="keyword">else</span> <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#842780" title="Types.this.Type">tp</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class SubstWildcardMap extends Types.this.TypeMap with ScalaObject" id="478866">SubstWildcardMap</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[Types.this.Symbol]" id="851349">from</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="851346">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="851350">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#851350" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Types.this.BoundedWildcardType">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="851353">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#851349" title="List[Types.this.Symbol]">from</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#851353" title="Types.this.Symbol">sym</a> =&gt;
          <a href="#652054" title="(bounds: Types.this.TypeBounds)Types.this.BoundedWildcardType">BoundedWildcardType</a><span class="delimiter">(</span><a href="#851353" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
          <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#851350" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Types.this.WildcardType.type" id="851363">ex</a>: <a href="#479000" title="Types.this.MalformedType">MalformedType</a> =&gt;
        <a href="#843675" title="object Types.this.WildcardType">WildcardType</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="comment">// dependent method types</span>
  <span class="keyword">object</span> <a title="object Types.this.IsDependentCollector" id="478867">IsDependentCollector</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478846" title="Types.this.TypeCollector[Boolean]">TypeCollector</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Unit" id="842487">traverse</a><span class="delimiter">(</span><a title="Types.this.Type" id="851373">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#851373" title="Types.this.Type">tp</a> <a href="#507155" title="=&gt; Boolean">isImmediatelyDependent</a><span class="delimiter">)</span> <a href="#842120" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#842120" title="=&gt; Boolean">result</a><span class="delimiter">)</span> <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#851373" title="Types.this.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Types.this.ApproximateDependentMap" id="478869">ApproximateDependentMap</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="842587">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="842588">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <span title="Types.this.Type" class="keyword">if</span><span class="delimiter">(</span><a href="#842588" title="Types.this.Type">tp</a> <a href="#507155" title="=&gt; Boolean">isImmediatelyDependent</a><span class="delimiter">)</span> <a href="#843675" title="object Types.this.WildcardType">WildcardType</a>
      <span class="keyword">else</span> <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#842588" title="Types.this.Type">tp</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class InstantiateDependentMap extends Types.this.TypeMap with ScalaObject" id="478871">InstantiateDependentMap</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[Types.this.Symbol]" id="655371">params</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="655372">actuals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.immutable.IndexedSeq[Types.this.Type]" id="655358">actualsIndexed</a> = <a href="#655372" title="List[Types.this.Type]">actuals</a>.<a href="../../../collection/TraversableOnce.scala.html#53694" title="scala.collection.immutable.IndexedSeq[Types.this.Type]">toIndexedSeq</a>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="655360">dropNonConstraintAnnotations</a> = <span title="Boolean(true)" class="keyword">true</span>

    <span class="keyword">object</span> <a title="object InstantiateDependentMap.this.ParamWithActual" id="655362">ParamWithActual</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
      <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Option[Types.this.Type]" id="851401">unapply</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="851403">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[Types.this.Type]">Option</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="851405">pid</a> = <a href="#655371" title="List[Types.this.Symbol]">params</a> <a href="../../../collection/GenSeqLike.scala.html#53954" title="(elem: Types.this.Symbol)Int">indexOf</a> <a href="#851403" title="Types.this.Symbol">sym</a>
        <span title="Option[Types.this.Type]" class="keyword">if</span><span class="delimiter">(</span><a href="#851405" title="Int">pid</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#57885" title="(x: Types.this.Type)Some[Types.this.Type]">Some</a><span class="delimiter">(</span><a href="../../../collection/SeqLike.scala.html#54057" title="(idx: Int)Types.this.Type">actualsIndexed</a><span class="delimiter">(</span><a href="#851405" title="Int">pid</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../Option.scala.html#1737" title="object None">None</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="655364">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="655374">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
      <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#655374" title="Types.this.Type">tp</a><span class="delimiter">)</span> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Types.this.Type">SingleType</span><span class="delimiter">(</span><a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a>, <a href="#851401" title="(sym: Types.this.Symbol)Option[Types.this.Type]">ParamWithActual</a><span class="delimiter">(</span><a title="Types.this.Type" id="851452">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#851452" title="Types.this.Type">arg</a>.<a href="#507151" title="=&gt; Boolean">isStable</a> =&gt; <a href="#851452" title="Types.this.Type">arg</a> <span class="comment">// unsound to replace args by unstable actual #3873</span>
        <span class="comment">// (soundly) expand type alias selections on implicit arguments, see depmet_implicit_oopsla* test cases -- typically, `param.isImplicit`</span>
        <span class="keyword">case</span> <a title="Types.this.Type" id="851453">tp1</a>@TypeRef<span class="delimiter">(</span>SingleType<span class="delimiter">(</span><a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a>, <a href="#851401" title="(sym: Types.this.Symbol)Option[Types.this.Type]">ParamWithActual</a><span class="delimiter">(</span><a title="Types.this.Type" id="851455">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a title="Types.this.Symbol" id="851456">sym</a>, <a title="List[Types.this.Type]" id="851457">targs</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Types.this.Type" id="851458">res</a> = <a href="#478811" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">typeRef</a><span class="delimiter">(</span><a href="#851455" title="Types.this.Type">arg</a>, <a href="#851456" title="Types.this.Symbol">sym</a>, <a href="#851457" title="List[Types.this.Type]">targs</a><span class="delimiter">)</span>
          <span title="Types.this.Type" class="keyword">if</span><span class="delimiter">(</span><a href="#851458" title="Types.this.Type">res</a>.<a href="#507161" title="=&gt; Types.this.Symbol">typeSymbolDirect</a> <a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#851458" title="Types.this.Type">res</a>.<a href="#507189" title="=&gt; Types.this.Type">dealias</a>
          <span class="keyword">else</span> <a href="#851453" title="Types.this.TypeRef">tp1</a>
        <span class="keyword">case</span> <a title="Types.this.Type" id="851459">tp1</a> =&gt; <a href="#851459" title="Types.this.Type">tp1</a> <span class="comment">// don't return the original `tp`, which may be different from `tp1`, due to `dropNonConstraintAnnotations`</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; List[Types.this.Symbol]" id="655365">existentialsNeeded</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../Predef.scala.html#9626" title="(xs: Array[Types.this.Symbol])scala.collection.mutable.ArrayOps[Types.this.Symbol]">existSyms</a>.<a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Types.this.Symbol =&gt; Boolean)Array[Types.this.Symbol]">filter</a><a href="../../../Predef.scala.html#9626" title="(xs: Array[Types.this.Symbol])scala.collection.mutable.ArrayOps[Types.this.Symbol]" class="delimiter">(</a><a href="#851648" title="Types.this.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[Types.this.Symbol]">toList</a>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Array[Types.this.Symbol]" id="655366">existSyms</a>: <a href="../../../Array.scala.html#1430" title="Array[Types.this.Symbol]">Array</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span title="Array[Types.this.Symbol]" class="keyword">new</span> <a href="../../../Array.scala.html#1430" title="Array[Types.this.Symbol]">Array</a><span class="delimiter">(</span><a href="#655358" title="=&gt; scala.collection.immutable.IndexedSeq[Types.this.Type]">actualsIndexed</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(i: Int)Boolean" id="655368">haveExistential</a><span class="delimiter">(</span><a title="Int" id="851747">i</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <span class="delimiter">{</span><a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#851747" title="Int">i</a> <a href="../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#851747" title="Int">i</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#655358" title="=&gt; scala.collection.immutable.IndexedSeq[Types.this.Type]">actualsIndexed</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>; <a href="../../../Array.scala.html#49205" title="(i: Int)Types.this.Symbol">existSyms</a><span class="delimiter">(</span><a href="#851747" title="Int">i</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">}</span>

    <span class="comment">/* Return the type symbol for referencing a parameter inside the existential quantifier.
     * (Only needed if the actual is unstable.)
     */</span>
    <span class="keyword">def</span> <a title="(actualIdx: Int)Types.this.Symbol" id="655369">existSymFor</a><span class="delimiter">(</span><a title="Int" id="851760">actualIdx</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> =
      <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#655368" title="(i: Int)Boolean">haveExistential</a><span class="delimiter">(</span><a href="#851760" title="Int">actualIdx</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Array.scala.html#49205" title="(i: Int)Types.this.Symbol">existSyms</a><span class="delimiter">(</span><a href="#851760" title="Int">actualIdx</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Types.this.Symbol" id="851763">oldSym</a> = <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)Types.this.Symbol">params</a><span class="delimiter">(</span><a href="#851760" title="Int">actualIdx</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Types.this.Symbol" id="851764">symowner</a> = <a href="#851763" title="Types.this.Symbol">oldSym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>
        <span class="keyword">val</span> <a title="Types.this.TypeBounds" id="851765">bound</a> = <a href="#478858" title="(hi: Types.this.Type)Types.this.TypeBounds">singletonBounds</a><span class="delimiter">(</span><a href="../../../collection/SeqLike.scala.html#54057" title="(idx: Int)Types.this.Type">actualsIndexed</a><span class="delimiter">(</span><a href="#851760" title="Int">actualIdx</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Types.this.Symbol" id="851766">sym</a> = <a href="#851764" title="Types.this.Symbol">symowner</a>.<a href="Symbols.scala.html#509149" title="(pos: Types.this.Position, name: Types.this.TypeName)Types.this.Symbol">newExistential</a><span class="delimiter">(</span><a href="#851763" title="Types.this.Symbol">oldSym</a>.<a href="Symbols.scala.html#509109" title="=&gt; Types.this.Position">pos</a>, <a href="Names.scala.html#478405" title="(s: String)Types.this.TypeName">newTypeName</a><span class="delimiter">(</span><a href="#851763" title="Types.this.Symbol">oldSym</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot;.type&quot;)" class="string">&quot;.type&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#851766" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509274" title="(info: Types.this.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="#851765" title="Types.this.TypeBounds">bound</a><span class="delimiter">)</span>
        <a href="#851766" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509261" title="(mask: Long)sym.type">setFlag</a><span class="delimiter">(</span><a href="#851763" title="Types.this.Symbol">oldSym</a>.<a href="Symbols.scala.html#509259" title="=&gt; Long">flags</a><span class="delimiter">)</span>

        <a href="../../../Array.scala.html#49206" title="(i: Int, x: Types.this.Symbol)Unit">existSyms</a><span class="delimiter">(</span><a href="#851760" title="Int">actualIdx</a><span class="delimiter">)</span> = <a href="#851766" title="Types.this.Symbol">sym</a>
        <a href="#851766" title="Types.this.Symbol">sym</a>
      <span class="delimiter">}</span>

    <span class="comment">//AM propagate more info to annotations -- this seems a bit ad-hoc... (based on code by spoon)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(arg: Types.this.Tree, giveup: () =&gt; Nothing)Types.this.Tree" id="655370">mapOver</a><span class="delimiter">(</span><a title="Types.this.Tree" id="851441">arg</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a>, <a title="() =&gt; Nothing" id="851442">giveup</a>: <span class="delimiter">(</span><span class="delimiter">)</span>=&gt;Nothing<span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">object</span> <a title="object treeTrans" id="851792">treeTrans</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../ast/Trees.scala.html#479167" title="Types.this.Transformer">Transformer</a> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Types.this.Tree)Types.this.Tree" id="851795">transform</a><span class="delimiter">(</span><a title="Types.this.Tree" id="851799">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a> = <span class="delimiter">{</span>
          <a href="#851799" title="Types.this.Tree">tree</a> <span title="Types.this.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="#851803" title="Types.this.Tree">RefParamAt</a><span class="delimiter">(</span><a title="Int" id="851807">pid</a><span class="delimiter">)</span> =&gt;
              <span class="comment">// TODO: this should be simplified; in the stable case, one can probably</span>
              <span class="comment">// just use an Ident to the tree.symbol. Why an existential in the non-stable case?</span>
              <span class="keyword">val</span> <a title="Types.this.Type" id="851808">actual</a> = <a href="../../../collection/SeqLike.scala.html#54057" title="(idx: Int)Types.this.Type">actualsIndexed</a><span class="delimiter">(</span><a href="#851807" title="Int">pid</a><span class="delimiter">)</span>
              <span title="Types.this.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#851808" title="Types.this.Type">actual</a>.<a href="#507151" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#851808" title="Types.this.Type">actual</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../ast/TreeGen.scala.html#507270" title="(tpe: Types.this.gen.global.Type, termSym: Types.this.gen.global.Symbol)Types.this.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="../../../collection/SeqLike.scala.html#54057" title="(idx: Int)Types.this.Type">actualsIndexed</a><span class="delimiter">(</span><a href="#851807" title="Int">pid</a><span class="delimiter">)</span>, <a href="#851799" title="Types.this.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Types.this.Symbol">symbol</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Types.this.Symbol" id="851830">sym</a> = <a href="#655369" title="(actualIdx: Int)Types.this.Symbol">existSymFor</a><span class="delimiter">(</span><a href="#851807" title="Int">pid</a><span class="delimiter">)</span>
                <span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443999" title="(name: Types.this.Name)Types.this.Ident">Ident</a><span class="delimiter">(</span><a href="#851830" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>
                 <a href="../../../reflect/generic/Trees.scala.html#441041" title="(tree: Types.this.Tree)Types.this.Ident">copyAttrs</a> <a href="#851799" title="Types.this.Tree">tree</a>
                 <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Types.this.Type)Types.this.Ident">setType</a> <a href="#478811" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">typeRef</a><span class="delimiter">(</span><a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a>, <a href="#851830" title="Types.this.Symbol">sym</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Types.this.Tree">_</span> =&gt; <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#560339" title="(tree: Types.this.Tree)Types.this.Tree">transform</a><span class="delimiter">(</span><a href="#851799" title="Types.this.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">object</span> <a title="object scala.tools.nsc.symtab.Types.InstantiateDependentMap.treeTrans.RefParamAt" id="851796">RefParamAt</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
          <span class="keyword">def</span> <a title="(tree: Types.this.Tree)Option[Int]" id="851803">unapply</a><span class="delimiter">(</span><a title="Types.this.Tree" id="851804">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[Int]">Option</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <a href="#851804" title="Types.this.Tree">tree</a> <span title="Option[Int]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Option[Int]">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="../../../Option.scala.html#57885" title="(x: Int)Some[Int]">Some</a><span class="delimiter">(</span><a href="#655371" title="List[Types.this.Symbol]">params</a> <a href="../../../collection/GenSeqLike.scala.html#53954" title="(elem: Types.this.Symbol)Int">indexOf</a> <a href="#851804" title="Types.this.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Types.this.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#48487" title="(p: Int =&gt; Boolean)Option[Int]">filterNot</a> <span class="delimiter">(</span><a href="#851867" title="Int">_</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="None.type">_</span>        =&gt; <a href="../../../Option.scala.html#1737" title="object None">None</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#851792" title="object treeTrans">treeTrans</a>.<a href="#851795" title="(tree: Types.this.Tree)Types.this.Tree">transform</a><span class="delimiter">(</span><a href="#851441" title="Types.this.Tree">arg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>


  <span class="keyword">object</span> <a title="object Types.this.StripAnnotationsMap" id="478872">StripAnnotationsMap</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="843487">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="843488">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#843488" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Types.this.Type" id="851874">atp</a>, _<span class="delimiter">)</span> =&gt;
        <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#851874" title="Types.this.Type">atp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.Type" id="851883">tp</a> =&gt;
        <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#851883" title="Types.this.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map to convert every occurrence of a wildcard type to a fresh
   *  type variable */</span>
  <span class="keyword">object</span> <a title="object Types.this.wildcardToTypeVarMap" id="478874">wildcardToTypeVarMap</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="848054">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="848055">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#848055" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#843675" title="Types.this.TypeVar">WildcardType</a> =&gt;
        <a href="#841809" title="(origin: Types.this.Type, constr: Types.this.TypeConstraint)Types.this.TypeVar">TypeVar</a><span class="delimiter">(</span><a href="#848055" title="Types.this.Type">tp</a>, <a href="#842193" title="()Types.this.TypeConstraint" class="keyword">new</a> <a href="#478841" title="Types.this.TypeConstraint">TypeConstraint</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.TypeVar">BoundedWildcardType</span><span class="delimiter">(</span><a title="Types.this.TypeBounds" id="851901">bounds</a><span class="delimiter">)</span> =&gt;
        <a href="#841809" title="(origin: Types.this.Type, constr: Types.this.TypeConstraint)Types.this.TypeVar">TypeVar</a><span class="delimiter">(</span><a href="#848055" title="Types.this.Type">tp</a>, <a href="#842192" title="(lo0: List[Types.this.Type], hi0: List[Types.this.Type])Types.this.TypeConstraint" class="keyword">new</a> <a href="#478841" title="Types.this.TypeConstraint">TypeConstraint</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Type*)List[Types.this.Type]">List</a><span class="delimiter">(</span><a href="#851901" title="Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Type*)List[Types.this.Type]">List</a><span class="delimiter">(</span><a href="#851901" title="Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
        <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#848055" title="Types.this.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map to convert every occurrence of a type variable to a
      wildcard type */</span>
  <span class="keyword">object</span> <a title="object Types.this.typeVarToOriginMap" id="478876">typeVarToOriginMap</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="843172">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="843173">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#843173" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="#841808" title="Types.this.Type">TypeVar</a><span class="delimiter">(</span><a title="Types.this.Type" id="851934">origin</a>, _<span class="delimiter">)</span> =&gt; <a href="#851934" title="Types.this.Type">origin</a>
      <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#843173" title="Types.this.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map to implement the `contains' method */</span>
  <span class="keyword">class</span> <a title="class ContainsCollector extends Types.this.TypeCollector[Boolean] with ScalaObject" id="478878">ContainsCollector</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Symbol" id="842854">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478846" title="Types.this.TypeCollector[Boolean]">TypeCollector</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Unit" id="842852">traverse</a><span class="delimiter">(</span><a title="Types.this.Type" id="851949">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#842120" title="=&gt; Boolean">result</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#851949" title="Types.this.Type">tp</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="851951">sym1</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#842854" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#851951" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span> =&gt; <a href="#842120" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Unit">SingleType</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="851957">sym1</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#842854" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#851957" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span> =&gt; <a href="#842120" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#851949" title="Types.this.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(arg: Types.this.Tree)Some[Types.this.Tree]" id="842853">mapOver</a><span class="delimiter">(</span><a title="Types.this.Tree" id="851962">arg</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Tree" id="852049">t</a> &lt;- <a href="../ast/Trees.scala.html#510731" title="(f: Types.this.Tree =&gt; Unit)Unit">arg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#842852" title="(tp: Types.this.Type)Unit">traverse</a><span class="delimiter">(</span><a href="#852049" title="Types.this.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#852049" title="Types.this.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Types.this.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#842854" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
          <a href="#842120" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>
      <a href="../../../Option.scala.html#57885" title="(x: Types.this.Tree)Some[Types.this.Tree]">Some</a><span class="delimiter">(</span><a href="#851962" title="Types.this.Tree">arg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map to implement the `contains' method */</span>
  <span class="keyword">class</span> <a title="class ContainsTypeCollector extends Types.this.TypeCollector[Boolean] with ScalaObject" id="478879">ContainsTypeCollector</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type" id="842865">t</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478846" title="Types.this.TypeCollector[Boolean]">TypeCollector</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Unit" id="842863">traverse</a><span class="delimiter">(</span><a title="Types.this.Type" id="852070">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#842120" title="=&gt; Boolean">result</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#852070" title="Types.this.Type">tp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#842865" title="Types.this.Type">t</a><span class="delimiter">)</span> <a href="#842120" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">else</span> <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#852070" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(arg: Types.this.Tree)Some[Types.this.Tree]" id="842864">mapOver</a><span class="delimiter">(</span><a title="Types.this.Tree" id="852073">arg</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Types.this.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Tree" id="852159">t</a> &lt;- <a href="../ast/Trees.scala.html#510731" title="(f: Types.this.Tree =&gt; Unit)Unit">arg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#842863" title="(tp: Types.this.Type)Unit">traverse</a><span class="delimiter">(</span><a href="#852159" title="Types.this.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="../../../Option.scala.html#57885" title="(x: Types.this.Tree)Some[Types.this.Tree]">Some</a><span class="delimiter">(</span><a href="#852073" title="Types.this.Tree">arg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map to implement the `filter' method */</span>
  <span class="keyword">class</span> <a title="class FilterTypeCollector extends Types.this.TypeCollector[scala.collection.mutable.ListBuffer[Types.this.Type]] with ScalaObject" id="478880">FilterTypeCollector</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type =&gt; Boolean" id="842796">p</a>: Type =&gt; Boolean<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478846" title="Types.this.TypeCollector[scala.collection.mutable.ListBuffer[Types.this.Type]]">TypeCollector</a><span class="delimiter">(</span><span title="scala.collection.mutable.ListBuffer[Types.this.Type]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[Types.this.Type]">ListBuffer</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Unit" id="842795">traverse</a><span class="delimiter">(</span><a title="Types.this.Type" id="852175">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Boolean">p</a><span class="delimiter">(</span><a href="#852175" title="Types.this.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#842120" title="=&gt; scala.collection.mutable.ListBuffer[Types.this.Type]">result</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: Types.this.Type)scala.collection.mutable.ListBuffer[Types.this.Type]">+=</a> <a href="#852175" title="Types.this.Type">tp</a>
      <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#852175" title="Types.this.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class ForEachTypeTraverser extends Types.this.TypeTraverser with ScalaObject" id="478881">ForEachTypeTraverser</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type =&gt; Unit" id="842814">f</a>: Type =&gt; Unit<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478845" title="Types.this.TypeTraverser">TypeTraverser</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Unit" id="842813">traverse</a><span class="delimiter">(</span><a title="Types.this.Type" id="842816">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Unit">f</a><span class="delimiter">(</span><a href="#842816" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#842816" title="Types.this.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map to implement the `filter' method */</span>
  <span class="keyword">class</span> <a title="class FindTypeCollector extends Types.this.TypeCollector[Option[Types.this.Type]] with ScalaObject" id="478882">FindTypeCollector</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Types.this.Type =&gt; Boolean" id="842807">p</a>: Type =&gt; Boolean<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478846" title="Types.this.TypeCollector[Option[Types.this.Type]]">TypeCollector</a><span class="delimiter">[</span>Option<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="../../../Option.scala.html#1737" title="object None">None</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Unit" id="842806">traverse</a><span class="delimiter">(</span><a title="Types.this.Type" id="852225">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#842120" title="=&gt; Option[Types.this.Type]">result</a>.<a href="../../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Function1.scala.html#53453" title="(v1: Types.this.Type)Boolean">p</a><span class="delimiter">(</span><a href="#852225" title="Types.this.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#842120" title="(x$1: Option[Types.this.Type])Unit">result</a> = <a href="../../../Option.scala.html#57885" title="(x: Types.this.Type)Some[Types.this.Type]">Some</a><span class="delimiter">(</span><a href="#852225" title="Types.this.Type">tp</a><span class="delimiter">)</span>
        <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#852225" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map to implement the `contains' method */</span>
  <span class="keyword">object</span> <a title="object Types.this.ErroneousCollector" id="478883">ErroneousCollector</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478846" title="Types.this.TypeCollector[Boolean]">TypeCollector</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Unit" id="842668">traverse</a><span class="delimiter">(</span><a title="Types.this.Type" id="852243">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#842120" title="=&gt; Boolean">result</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#842120" title="(x$1: Boolean)Unit">result</a> = <a href="#852243" title="Types.this.Type">tp</a>.<a href="#507190" title="=&gt; Boolean">isError</a>
        <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#852243" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A map to compute the most deeply nested owner that contains all the symbols
   *  of thistype or prefixless typerefs/singletype occurrences in given type.
   */</span>
  <span class="keyword">object</span> <a title="object Types.this.commonOwnerMap" id="478885">commonOwnerMap</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Types.this.Symbol" id="852254">result</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = _
    <span class="keyword">def</span> <a title="()Unit" id="852256">init</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="#852254" title="(x$1: Types.this.Symbol)Unit">result</a> = <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a> <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="852257">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="852263">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#852263" title="Types.this.Type">tp</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
      <a href="#852263" title="Types.this.Type">tp</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">ThisType</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="852268">sym</a><span class="delimiter">)</span> =&gt;
          <a href="#852258" title="(sym: Types.this.Symbol)Unit">register</a><span class="delimiter">(</span><a href="#852268" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a>, <a title="Types.this.Symbol" id="852271">sym</a>, <a title="List[Types.this.Type]" id="852272">args</a><span class="delimiter">)</span> =&gt;
          <a href="#852258" title="(sym: Types.this.Symbol)Unit">register</a><span class="delimiter">(</span><a href="#852271" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span>; <a href="#852272" title="List[Types.this.Type]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Type =&gt; Types.this.Type)Unit">foreach</a> <a href="#852257" title="(tp: Types.this.Type)Types.this.Type">apply</a>
        <span class="keyword">case</span> <span title="Unit">SingleType</span><span class="delimiter">(</span><a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a>, <a title="Types.this.Symbol" id="852294">sym</a><span class="delimiter">)</span> =&gt;
          <a href="#852258" title="(sym: Types.this.Symbol)Unit">register</a><span class="delimiter">(</span><a href="#852294" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
          <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#852263" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#852263" title="Types.this.Type">tp</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Types.this.Symbol)Unit" id="852258">register</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="852269">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#852254" title="=&gt; Types.this.Symbol">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#852269" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#852254" title="=&gt; Types.this.Symbol">result</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#852269" title="Types.this.Symbol">sym</a> <a href="Symbols.scala.html#509295" title="(that: Types.this.Symbol)Boolean">isNestedIn</a> <a href="#852254" title="=&gt; Types.this.Symbol">result</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#852254" title="(x$1: Types.this.Symbol)Unit">result</a> = <a href="#852254" title="=&gt; Types.this.Symbol">result</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>;
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class MissingAliasControl extends java.lang.Throwable with scala.util.control.ControlThrowable with ScalaObject" id="478887">MissingAliasControl</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../util/control/ControlThrowable.scala.html#44455" title="scala.util.control.ControlThrowable">ControlThrowable</a>
  <span class="keyword">val</span> <a title="Types.this.MissingAliasControl" id="478888">missingAliasException</a> = <span title="Types.this.MissingAliasControl" class="keyword">new</span> <a href="#478887" title="Types.this.MissingAliasControl">MissingAliasControl</a>
  <span class="keyword">class</span> <a title="class MissingTypeControl extends java.lang.Throwable with scala.util.control.ControlThrowable with ScalaObject" id="478890">MissingTypeControl</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../util/control/ControlThrowable.scala.html#44455" title="scala.util.control.ControlThrowable">ControlThrowable</a>

  <span class="keyword">object</span> <a title="object Types.this.adaptToNewRunMap" id="478891">adaptToNewRunMap</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#478842" title="Types.this.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol" id="711674">adaptToNewRun</a><span class="delimiter">(</span><a title="Types.this.Type" id="852330">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="852331">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
      <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505150" title="=&gt; Boolean">flatClasses</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#852331" title="Types.this.Symbol">sym</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#852331" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#711674" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol">adaptToNewRun</a><span class="delimiter">(</span><a href="#852330" title="Types.this.Type">pre</a>, <a href="#852331" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435366" title="=&gt; Types.this.Symbol">sourceModule</a><span class="delimiter">)</span>.<a href="Symbols.scala.html#509335" title="=&gt; Types.this.Symbol">moduleClass</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#852330" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#852330" title="Types.this.Type">pre</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#852331" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#852331" title="Types.this.Symbol">sym</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Types.this.Symbol" id="852334">rebind0</a> = <a href="#852330" title="Types.this.Type">pre</a>.<a href="#507243" title="(name: Types.this.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)Types.this.Symbol">findMember</a><span class="delimiter">(</span><a href="#852331" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a>, <span title="Long(67108864L)">BRIDGE</span>, <span title="Long(0L)" class="int">0</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#852334" title="Types.this.Symbol">rebind0</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#852331" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#478888" title="=&gt; Types.this.MissingAliasControl">missingAliasException</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">pre</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#852331" title="Types.this.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; does no longer exist, phase = &quot;)" class="string">&quot; does no longer exist, phase = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <span title="Types.this.MissingTypeControl" class="keyword">new</span> <a href="#478890" title="Types.this.MissingTypeControl">MissingTypeControl</a> <span class="comment">// For build manager and presentation compiler purposes</span>
          <span class="comment">//assert(false, pre+&quot;.&quot;+sym+&quot; does no longer exist, phase = &quot;+phase)</span>
        <span class="delimiter">}</span>
        <span class="comment">/** The two symbols have the same fully qualified name */</span>
        <span class="keyword">def</span> <a title="(sym1: Types.this.Symbol, sym2: Types.this.Symbol)Boolean" id="852335">corresponds</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="852349">sym1</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Symbol" id="852350">sym2</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
          <a href="#852349" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#852350" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#852349" title="Types.this.Symbol">sym1</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#852335" title="(sym1: Types.this.Symbol, sym2: Types.this.Symbol)Boolean">corresponds</a><span class="delimiter">(</span><a href="#852349" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>, <a href="#852350" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#852335" title="(sym1: Types.this.Symbol, sym2: Types.this.Symbol)Boolean">corresponds</a><span class="delimiter">(</span><a href="#852331" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>, <a href="#852334" title="Types.this.Symbol">rebind0</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="SymbolTable.scala.html#478158" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;ADAPT1 pre = &quot;)" class="string">&quot;ADAPT1 pre = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#852330" title="Types.this.Type">pre</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, sym = &quot;)" class="string">&quot;, sym = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#852331" title="Types.this.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><a href="#852331" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, rebind = &quot;)" class="string">&quot;, rebind = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#852334" title="Types.this.Symbol">rebind0</a><span title="(x$1: Any)java.lang.String">+</span><a href="#852334" title="Types.this.Symbol">rebind0</a>.<a href="Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="852357">bcs</a> = <a href="#852330" title="Types.this.Type">pre</a>.<a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a>.<a href="../../../collection/immutable/List.scala.html#49169" title="(p: Types.this.Symbol =&gt; Boolean)List[Types.this.Symbol]">dropWhile</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="852367">bc</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#852335" title="(sym1: Types.this.Symbol, sym2: Types.this.Symbol)Boolean">corresponds</a><span class="delimiter">(</span><a href="#852367" title="Types.this.Symbol">bc</a>, <a href="#852331" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#852357" title="List[Types.this.Symbol]">bcs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
            <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#852330" title="Types.this.Type">pre</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a>, <a href="#852330" title="Types.this.Type">pre</a><span class="delimiter">)</span> <span class="comment">// if pre is a refinementclass it might be a structural type =&gt; OK to leave it in.</span>
          <span class="keyword">else</span>
            <a href="#852334" title="Types.this.Symbol">rebind0</a> = <a href="#852330" title="Types.this.Type">pre</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#852357" title="List[Types.this.Symbol]">bcs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a><span class="delimiter">)</span>.<a href="#507200" title="(name: Types.this.Name)Types.this.Symbol">member</a><span class="delimiter">(</span><a href="#852331" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="SymbolTable.scala.html#478158" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
            <span title="java.lang.String(&quot;ADAPT2 pre = &quot;)" class="string">&quot;ADAPT2 pre = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#852330" title="Types.this.Type">pre</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot;, bcs.head = &quot;)" class="string">&quot;, bcs.head = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#852357" title="List[Types.this.Symbol]">bcs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot;, sym = &quot;)" class="string">&quot;, sym = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#852331" title="Types.this.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><a href="#852331" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span>
            <span title="java.lang.String(&quot;, rebind = &quot;)" class="string">&quot;, rebind = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#852334" title="Types.this.Symbol">rebind0</a> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#852334" title="Types.this.Symbol">rebind0</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
              <span class="keyword">else</span> <a href="#852334" title="Types.this.Symbol">rebind0</a>.<a href="Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Types.this.Symbol" id="852336">rebind</a> = <a href="#852334" title="Types.this.Symbol">rebind0</a>.<a href="Symbols.scala.html#509301" title="(cond: Types.this.Symbol =&gt; Boolean)Types.this.Symbol">suchThat</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="852379">sym</a> =&gt; <a href="#852379" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435370" title="=&gt; Boolean">isType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#852379" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#852336" title="Types.this.Symbol">rebind</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="SymbolTable.scala.html#478158" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505150" title="=&gt; Boolean">flatClasses</a><span title="(x$1: Any)java.lang.String">+</span><a href="#852331" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span title="(x$1: Any)java.lang.String">+</span><a href="#852331" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#852331" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435370" title="=&gt; Boolean">isType</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#851367" title="(pre: Types.this.Type, tp: String)Types.this.MalformedType" class="keyword">new</a> <a href="#479000" title="Types.this.MalformedType">MalformedType</a><span class="delimiter">(</span><a href="#852330" title="Types.this.Type">pre</a>, <a href="#852331" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509363" title="=&gt; java.lang.String">nameString</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#852336" title="Types.this.Symbol">rebind</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="711675">apply</a><span class="delimiter">(</span><a title="Types.this.Type" id="711676">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#711676" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">ThisType</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="852392">sym</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Types.this.Symbol" id="852393">sym1</a> = <a href="#711674" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol">adaptToNewRun</a><span class="delimiter">(</span><a href="#852392" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>.<a href="Symbols.scala.html#509308" title="=&gt; Types.this.Type">thisType</a>, <a href="#852392" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#852393" title="Types.this.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#852392" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <a href="#711676" title="Types.this.Type">tp</a> <span class="keyword">else</span> <a href="#546333" title="(sym: Types.this.Symbol)Types.this.Type">ThisType</a><span class="delimiter">(</span><a href="#852393" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        	<span class="keyword">case</span> <a title="Types.this.Type" id="852398">ex</a>: <a href="#478890" title="Types.this.MissingTypeControl">MissingTypeControl</a> =&gt;
            <a href="#711676" title="Types.this.Type">tp</a>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Types.this.Type">SingleType</span><span class="delimiter">(</span><a title="Types.this.Type" id="852399">pre</a>, <a title="Types.this.Symbol" id="852400">sym</a><span class="delimiter">)</span> =&gt;
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#852400" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435394" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span> <a href="#711676" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Types.this.Type" id="852401">pre1</a> = <a href="#711675" title="(tp: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#852399" title="Types.this.Type">pre</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Types.this.Symbol" id="852402">sym1</a> = <a href="#711674" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol">adaptToNewRun</a><span class="delimiter">(</span><a href="#852401" title="Types.this.Type">pre1</a>, <a href="#852400" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#852401" title="Types.this.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852399" title="Types.this.Type">pre</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#852402" title="Types.this.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852400" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#711676" title="Types.this.Type">tp</a>
          <span class="keyword">else</span> <a href="#478807" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">singleType</a><span class="delimiter">(</span><a href="#852401" title="Types.this.Type">pre1</a>, <a href="#852402" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="852404">pre</a>, <a title="Types.this.Symbol" id="852405">sym</a>, <a title="List[Types.this.Type]" id="852406">args</a><span class="delimiter">)</span> =&gt;
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#852405" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#711676" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Types.this.Type" id="852407">pre1</a> = <a href="#711675" title="(tp: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#852404" title="Types.this.Type">pre</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Types.this.Type]" id="852408">args1</a> = <a href="#852406" title="List[Types.this.Type]">args</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Types.this.Type =&gt; Types.this.Type)List[Types.this.Type]">mapConserve</a> <span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Types.this.Symbol" id="852415">sym1</a> = <a href="#711674" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Symbol">adaptToNewRun</a><span class="delimiter">(</span><a href="#852407" title="Types.this.Type">pre1</a>, <a href="#852405" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#852407" title="Types.this.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852404" title="Types.this.Type">pre</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#852415" title="Types.this.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852405" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#852408" title="List[Types.this.Type]">args1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852406" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="comment">/* &amp;&amp; sym.isExternal*/</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#711676" title="Types.this.Type">tp</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#852415" title="Types.this.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;adapt fail: &quot;)" class="string">&quot;adapt fail: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#852404" title="Types.this.Type">pre</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#852407" title="Types.this.Type">pre1</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#852405" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#711676" title="Types.this.Type">tp</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#478812" title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#711676" title="Types.this.Type">tp</a>, <a href="#852407" title="Types.this.Type">pre1</a>, <a href="#852415" title="Types.this.Symbol">sym1</a>, <a href="#852408" title="List[Types.this.Type]">args1</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Types.this.Type" id="852425">ex</a>: <a href="#478887" title="Types.this.MissingAliasControl">MissingAliasControl</a> =&gt;
              <a href="#711675" title="(tp: Types.this.Type)Types.this.Type">apply</a><span class="delimiter">(</span><a href="#711676" title="Types.this.Type">tp</a>.<a href="#507189" title="=&gt; Types.this.Type">dealias</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Types.this.Type">_</span>: <a href="#478890" title="Types.this.MissingTypeControl">MissingTypeControl</a> =&gt;
              <a href="#711676" title="Types.this.Type">tp</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Types.this.Type">MethodType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="852427">params</a>, <a title="Types.this.Type" id="852428">restp</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Types.this.Type" id="852429">restp1</a> = <a href="#711675" title="(tp: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#852428" title="Types.this.Type">restp</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#852429" title="Types.this.Type">restp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852428" title="Types.this.Type">restp</a><span class="delimiter">)</span> <a href="#711676" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#478814" title="(tp: Types.this.Type, params: List[Types.this.Symbol], restpe: Types.this.Type)Types.this.Type">copyMethodType</a><span class="delimiter">(</span><a href="#711676" title="Types.this.Type">tp</a>, <a href="#852427" title="List[Types.this.Symbol]">params</a>, <a href="#852429" title="Types.this.Type">restp1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Types.this.Type" id="852431">restp</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Types.this.Type" id="852432">restp1</a> = <a href="#711675" title="(tp: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#852431" title="Types.this.Type">restp</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#852432" title="Types.this.Type">restp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852431" title="Types.this.Type">restp</a><span class="delimiter">)</span> <a href="#711676" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#546934" title="(resultType: Types.this.Type)Types.this.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#852432" title="Types.this.Type">restp1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">PolyType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="852433">tparams</a>, <a title="Types.this.Type" id="852434">restp</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Types.this.Type" id="852435">restp1</a> = <a href="#711675" title="(tp: Types.this.Type)Types.this.Type" class="keyword">this</a><span class="delimiter">(</span><a href="#852434" title="Types.this.Type">restp</a><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#852435" title="Types.this.Type">restp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852434" title="Types.this.Type">restp</a><span class="delimiter">)</span> <a href="#711676" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#546990" title="(typeParams: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.PolyType">PolyType</a><span class="delimiter">(</span><a href="#852433" title="List[Types.this.Symbol]">tparams</a>, <a href="#852435" title="Types.this.Type">restp1</a><span class="delimiter">)</span>

      <span class="comment">// Lukas: we need to check (together) whether we should also include parameter types</span>
      <span class="comment">// of PolyType and MethodType in adaptToNewRun</span>

      <span class="keyword">case</span> <span title="Types.this.Type">ClassInfoType</span><span class="delimiter">(</span><a title="List[Types.this.Type]" id="852436">parents</a>, <a title="Types.this.Scope" id="852437">decls</a>, <a title="Types.this.Symbol" id="852438">clazz</a><span class="delimiter">)</span> =&gt;
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#852438" title="Types.this.Symbol">clazz</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#711676" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Types.this.Type]" id="852439">parents1</a> = <a href="#852436" title="List[Types.this.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Types.this.Type =&gt; Types.this.Type)List[Types.this.Type]">mapConserve</a> <span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#852439" title="List[Types.this.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852436" title="List[Types.this.Type]">parents</a><span class="delimiter">)</span> <a href="#711676" title="Types.this.Type">tp</a>
          <span class="keyword">else</span> <a href="#546740" title="(parents: List[Types.this.Type], decls: Types.this.Scope, typeSymbol: Types.this.Symbol)Types.this.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#852439" title="List[Types.this.Type]">parents1</a>, <a href="#852437" title="Types.this.Scope">decls</a>, <a href="#852438" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Types.this.Type">RefinedType</span><span class="delimiter">(</span><a title="List[Types.this.Type]" id="852449">parents</a>, <a title="Types.this.Scope" id="852450">decls</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Types.this.Type]" id="852451">parents1</a> = <a href="#852449" title="List[Types.this.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Types.this.Type =&gt; Types.this.Type)List[Types.this.Type]">mapConserve</a> <span class="delimiter">(</span><span class="keyword">this</span><span class="delimiter">)</span>
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#852451" title="List[Types.this.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852449" title="List[Types.this.Type]">parents</a><span class="delimiter">)</span> <a href="#711676" title="Types.this.Type">tp</a>
        <span class="keyword">else</span> <a href="#478808" title="(parents: List[Types.this.Type], owner: Types.this.Symbol, decls: Types.this.Scope, pos: Types.this.Position)Types.this.Type">refinedType</a><span class="delimiter">(</span><a href="#852451" title="List[Types.this.Type]">parents1</a>, <a href="#711676" title="Types.this.Type">tp</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>, <a href="#852450" title="Types.this.Scope">decls</a>, <a href="#711676" title="Types.this.Type">tp</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>.<a href="Symbols.scala.html#509109" title="=&gt; Types.this.Position">pos</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">SuperType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#711676" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">TypeBounds</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#711676" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="#841808" title="Types.this.Type">TypeVar</a><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#711676" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">AnnotatedType</span><span class="delimiter">(</span>_,_,_<span class="delimiter">)</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#711676" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">NotNullType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#711676" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">ExistentialType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span class="delimiter">(</span><a href="#711676" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt; <a href="#711676" title="Types.this.Type">tp</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class SubTypePair extends java.lang.Object with ScalaObject" id="478893">SubTypePair</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="Types.this.Type" id="852526">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <span class="keyword">val</span> <a title="Types.this.Type" id="852527">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="852520">hashCode</a> = <a href="#852526" title="=&gt; Types.this.Type">tp1</a>.<span title="()Int">hashCode</span> <a href="../../../Int.scala.html#54818" title="(x: Int)Int">*</a> <span title="Int(41)" class="int">41</span> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <a href="#852527" title="=&gt; Types.this.Type">tp2</a>.<span title="()Int">hashCode</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(other: Any)Boolean" id="852521">equals</a><span class="delimiter">(</span><a title="Any" id="852539">other</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#852539" title="Any">other</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="852542">stp</a>: <a href="#478893" title="Types.this.SubTypePair">SubTypePair</a> =&gt;
        <span class="delimiter">(</span><a href="#852526" title="=&gt; Types.this.Type">tp1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852542" title="Types.this.SubTypePair">stp</a>.<a href="#852526" title="=&gt; Types.this.Type">tp1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#852527" title="=&gt; Types.this.Type">tp2</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852542" title="Types.this.SubTypePair">stp</a>.<a href="#852527" title="=&gt; Types.this.Type">tp2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="852522">toString</a> = <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tp1</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; &lt;:&lt;? &quot;)" class="string">&quot; &lt;:&lt;? &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#852527" title="=&gt; Types.this.Type">tp2</a>
  <span class="delimiter">}</span>

<span class="comment">// Helper Methods  -------------------------------------------------------------</span>

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(0)" id="478894">LubGlbMargin</a> = <span title="Int(0)" class="int">0</span>

  <span class="comment">/** The maximum allowable depth of lubs or glbs over types `ts'
    * This is the maximum depth of all types in the base type sequences
    * of each of the types `ts', plus LubGlbMargin
    */</span>
  <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])Int" id="478896">lubDepth</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="812381">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="812384">d</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Type" id="812404">tp</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Type =&gt; Unit)Unit">ts</a><span class="delimiter">)</span> <a href="#812384" title="Int">d</a> = math.<a href="../../../MathCommon.scala.html#19247" title="(x: Int, y: Int)Int">max</a><span class="delimiter">(</span><a href="#812384" title="Int">d</a>, <a href="#812404" title="Types.this.Type">tp</a>.<a href="#507230" title="=&gt; Int">baseTypeSeqDepth</a><span class="delimiter">)</span>
    <a href="#812384" title="Int">d</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(0)">LubGlbMargin</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Is intersection of given types populated? That is,
   *  for all types tp1, tp2 in intersection
   *    for all common base classes bc of tp1 and tp2
   *      let bt1, bt2 be the base types of tp1, tp2 relative to class bc
   *      Then:
   *        bt1 and bt2 have the same prefix, and
   *        any corresponding non-variant type arguments of bt1 and bt2 are the same
   */</span>
  <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="478897">isPopulated</a><span class="delimiter">(</span><a title="Types.this.Type" id="557703">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="557704">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="852548">isConsistent</a><span class="delimiter">(</span><a title="Types.this.Type" id="852550">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="852551">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Types.this.Type)(Types.this.Type, Types.this.Type)" class="delimiter">(</a><a href="#852550" title="Types.this.Type">tp1</a>, <a href="#852551" title="Types.this.Type">tp2</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>TypeRef<span class="delimiter">(</span><a title="Types.this.Type" id="852560">pre1</a>, <a title="Types.this.Symbol" id="852561">sym1</a>, <a title="List[Types.this.Type]" id="852562">args1</a><span class="delimiter">)</span>, TypeRef<span class="delimiter">(</span><a title="Types.this.Type" id="852563">pre2</a>, <a title="Types.this.Symbol" id="852564">sym2</a>, <a title="List[Types.this.Type]" id="852565">args2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#852561" title="Types.this.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#852564" title="Types.this.Symbol">sym2</a><span class="delimiter">)</span>
        <a href="#852560" title="Types.this.Type">pre1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852563" title="Types.this.Type">pre2</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">(</span><a href="../../../Tuple3.scala.html#53296" title="(_1: List[Types.this.Type], _2: List[Types.this.Type], _3: List[Types.this.Symbol])(List[Types.this.Type], List[Types.this.Type], List[Types.this.Symbol])" class="delimiter">(</a><a href="#852562" title="List[Types.this.Type]">args1</a>, <a href="#852565" title="List[Types.this.Type]">args2</a>, <a href="#852561" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a><span class="delimiter">)</span>.<a href="../../../Tuple3.scala.html#53331" title="(implicit w1: List[Types.this.Type] =&gt; scala.collection.TraversableLike[Types.this.Type,List[Types.this.Type]], implicit w2: List[Types.this.Type] =&gt; scala.collection.IterableLike[Types.this.Type,List[Types.this.Type]], implicit w3: List[Types.this.Symbol] =&gt; scala.collection.IterableLike[Types.this.Symbol,List[Types.this.Symbol]])(List[Types.this.Type], List[Types.this.Type], List[Types.this.Symbol])#Zipped[List[Types.this.Type],Types.this.Type,List[Types.this.Type],Types.this.Type,List[Types.this.Symbol],Types.this.Symbol]">zipped</a> <a href="../../../Tuple3.scala.html#57587" title="(f: (Types.this.Type, Types.this.Type, Types.this.Symbol) =&gt; Boolean)Boolean">forall</a> <span class="delimiter">{</span>
          <span class="delimiter">(</span><a title="Types.this.Type" id="852637">arg1</a>, <a title="Types.this.Type" id="852638">arg2</a>, <a title="Types.this.Symbol" id="852639">tparam</a><span class="delimiter">)</span> =&gt;
            <span class="comment">//if (tparam.variance == 0 &amp;&amp; !(arg1 =:= arg2)) Console.println(&quot;inconsistent: &quot;+arg1+&quot;!=&quot;+arg2)//DEBUG</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#852639" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#852637" title="Types.this.Type">arg1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852638" title="Types.this.Type">arg2</a>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#852637" title="Types.this.Type">arg1</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#478797" title="Types.this.TypeVar">TypeVar</a><span class="delimiter">]</span><span class="delimiter">)</span>
            <span class="comment">// if left-hand argument is a typevar, make it compatible with variance</span>
            <span class="comment">// this is for more precise pattern matching</span>
            <span class="comment">// todo: work this in the spec of this method</span>
            <span class="comment">// also: think what happens if there are embedded typevars?</span>
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#852639" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#852637" title="Types.this.Type">arg1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#852638" title="Types.this.Type">arg2</a> <span class="keyword">else</span> <a href="#852638" title="Types.this.Type">arg2</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#852637" title="Types.this.Type">arg1</a>
          <span class="keyword">else</span> <span title="Boolean(true)" class="keyword">true</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="Types.this.ExistentialType" id="852651">et</a>: <a href="#547201" title="Types.this.ExistentialType">ExistentialType</a>, _<span class="delimiter">)</span> =&gt;
        <a href="#852651" title="Types.this.ExistentialType">et</a>.<a href="#547229" title="(op: Types.this.Type =&gt; Boolean)Boolean">withTypeVars</a><span class="delimiter">(</span><a href="#852548" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isConsistent</a><span class="delimiter">(</span><a href="#852655" title="Types.this.Type">_</a>, <a href="#852551" title="Types.this.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_, <a title="Types.this.ExistentialType" id="852658">et</a>: <a href="#547201" title="Types.this.ExistentialType">ExistentialType</a><span class="delimiter">)</span> =&gt;
        <a href="#852658" title="Types.this.ExistentialType">et</a>.<a href="#547229" title="(op: Types.this.Type =&gt; Boolean)Boolean">withTypeVars</a><span class="delimiter">(</span><a href="#852548" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isConsistent</a><span class="delimiter">(</span><a href="#852550" title="Types.this.Type">tp1</a>, <a href="#852662" title="Types.this.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="852549">check</a><span class="delimiter">(</span><a title="Types.this.Type" id="852663">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="852664">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> =
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#852663" title="Types.this.Type">tp1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#852663" title="Types.this.Type">tp1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(32L)">FINAL</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#852663" title="Types.this.Type">tp1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#852664" title="Types.this.Type">tp2</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="Definitions.scala.html#508417" title="(sym: Types.this.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#852663" title="Types.this.Type">tp1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Definitions.scala.html#508417" title="(sym: Types.this.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#852664" title="Types.this.Type">tp2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#852663" title="Types.this.Type">tp1</a>.<a href="#507231" title="=&gt; List[Types.this.Symbol]">baseClasses</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="Types.this.Symbol" id="852674">bc</a> =&gt;
        <a href="#852664" title="Types.this.Type">tp2</a>.<a href="#507232" title="(sym: Types.this.Symbol)Int">baseTypeIndex</a><span class="delimiter">(</span><a href="#852674" title="Types.this.Symbol">bc</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#852548" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isConsistent</a><span class="delimiter">(</span><a href="#852663" title="Types.this.Type">tp1</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#852674" title="Types.this.Symbol">bc</a><span class="delimiter">)</span>, <a href="#852664" title="Types.this.Type">tp2</a>.<a href="#507204" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a><span class="delimiter">(</span><a href="#852674" title="Types.this.Symbol">bc</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <a href="#852549" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">check</a><span class="delimiter">(</span><a href="#557703" title="Types.this.Type">tp1</a>, <a href="#557704" title="Types.this.Type">tp2</a><span class="delimiter">)</span><span class="comment">/* &amp;&amp; check(tp2, tp1)*/</span> <span class="comment">// need to investgate why this can't be made symmetric -- neg/gadts1 fails, and run/existials also.</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Does a pattern of type `patType' need an outer test when executed against
   *  selector type `selType' in context defined by `currentOwner'?
   */</span>
  <span class="keyword">def</span> <a title="(patType: Types.this.Type, selType: Types.this.Type, currentOwner: Types.this.Symbol)Boolean" id="478898">needsOuterTest</a><span class="delimiter">(</span><a title="Types.this.Type" id="557641">patType</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="557642">selType</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="557643">currentOwner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(pre: Types.this.Type)Types.this.Type" id="557646">createDummyClone</a><span class="delimiter">(</span><a title="Types.this.Type" id="557648">pre</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.TermSymbol" id="557649">dummy</a> = <a href="#557643" title="Types.this.Symbol">currentOwner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435409" title="=&gt; Types.this.Symbol">enclClass</a>.<a href="Symbols.scala.html#509125" title="(pos: Types.this.Position, name: Types.this.TermName)Types.this.TermSymbol">newValue</a><span class="delimiter">(</span><a href="Positions.scala.html#479233" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>, <a href="StdNames.scala.html#479055" title="object Types.this.nme">nme</a>.<a href="StdNames.scala.html#516544" title="=&gt; Types.this.nme.NameType">ANYNAME</a><span class="delimiter">)</span>.<a href="Symbols.scala.html#509274" title="(info: Types.this.Type)Types.this.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#557648" title="Types.this.Type">pre</a>.<a href="#507163" title="=&gt; Types.this.Type">widen</a><span class="delimiter">)</span>
      <a href="#478807" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">singleType</a><span class="delimiter">(</span><a href="#546333" title="(sym: Types.this.Symbol)Types.this.Type">ThisType</a><span class="delimiter">(</span><a href="#557643" title="Types.this.Symbol">currentOwner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435409" title="=&gt; Types.this.Symbol">enclClass</a><span class="delimiter">)</span>, <a href="#557649" title="Types.this.TermSymbol">dummy</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type" id="557647">maybeCreateDummyClone</a><span class="delimiter">(</span><a title="Types.this.Type" id="557672">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="557673">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#557672" title="Types.this.Type">pre</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">SingleType</span><span class="delimiter">(</span><a title="Types.this.Type" id="557674">pre1</a>, <a title="Types.this.Symbol" id="557675">sym1</a><span class="delimiter">)</span> =&gt;
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#557675" title="Types.this.Symbol">sym1</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#557675" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509233" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#843724" title="object Types.this.NoType">NoType</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#557675" title="Types.this.Symbol">sym1</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#557673" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#557675" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509335" title="=&gt; Types.this.Symbol">moduleClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Types.this.Type" id="557681">pre2</a> = <a href="#557647" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">maybeCreateDummyClone</a><span class="delimiter">(</span><a href="#557674" title="Types.this.Type">pre1</a>, <a href="#557675" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#557681" title="Types.this.Type">pre2</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="#557681" title="Types.this.Type">pre2</a>
          <span class="keyword">else</span> <a href="#478807" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">singleType</a><span class="delimiter">(</span><a href="#557681" title="Types.this.Type">pre2</a>, <a href="#557675" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#557646" title="(pre: Types.this.Type)Types.this.Type">createDummyClone</a><span class="delimiter">(</span><a href="#557672" title="Types.this.Type">pre</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Types.this.Type">ThisType</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="557682">clazz</a><span class="delimiter">)</span> =&gt;
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#557682" title="Types.this.Symbol">clazz</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span>
          <a href="#557647" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">maybeCreateDummyClone</a><span class="delimiter">(</span><a href="#557682" title="Types.this.Symbol">clazz</a>.<a href="Symbols.scala.html#509307" title="=&gt; Types.this.Type">typeOfThis</a>, <a href="#557673" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#557673" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#557682" title="Types.this.Symbol">clazz</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#557673" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(4L)">PRIVATE</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#557673" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509123" title="=&gt; Types.this.Symbol">privateWithin</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#557682" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#843724" title="object Types.this.NoType">NoType</a>
        <span class="keyword">else</span>
          <a href="#557646" title="(pre: Types.this.Type)Types.this.Type">createDummyClone</a><span class="delimiter">(</span><a href="#557672" title="Types.this.Type">pre</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Types.this.NoType.type">_</span> =&gt;
        <a href="#843724" title="object Types.this.NoType">NoType</a>
    <span class="delimiter">}</span>
    <a href="#557641" title="Types.this.Type">patType</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="557699">pre</a>, <a title="Types.this.Symbol" id="557700">sym</a>, <a title="List[Types.this.Type]" id="557701">args</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Types.this.Type" id="557702">pre1</a> = <a href="#557647" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">maybeCreateDummyClone</a><span class="delimiter">(</span><a href="#557699" title="Types.this.Type">pre</a>, <a href="#557700" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">(</span><a href="#557702" title="Types.this.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478897" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#478812" title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#557641" title="Types.this.Type">patType</a>, <a href="#557702" title="Types.this.Type">pre1</a>, <a href="#557700" title="Types.this.Symbol">sym</a>, <a href="#557701" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>, <a href="#557642" title="Types.this.Type">selType</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="478900">subsametypeRecursions</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <span title="Int(0)" class="int">0</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pre1: Types.this.Type, pre2: Types.this.Type)Boolean" id="478902">isUnifiable</a><span class="delimiter">(</span><a title="Types.this.Type" id="852679">pre1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="852680">pre2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> =
    <span class="delimiter">(</span><a href="#478924" title="(tp: Types.this.Type)Boolean">beginsWithTypeVarOrIsRefined</a><span class="delimiter">(</span><a href="#852679" title="Types.this.Type">pre1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478924" title="(tp: Types.this.Type)Boolean">beginsWithTypeVarOrIsRefined</a><span class="delimiter">(</span><a href="#852680" title="Types.this.Type">pre2</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#852679" title="Types.this.Type">pre1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852680" title="Types.this.Type">pre2</a><span class="delimiter">)</span>

  <span class="comment">/** Returns true iff we are past phase specialize,
   *  sym1 and sym2 are two existential skolems with equal names and bounds,
   *  and pre1 and pre2 are equal prefixes
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym1: Types.this.Symbol, sym2: Types.this.Symbol, pre1: Types.this.Type, pre2: Types.this.Type)Boolean" id="478903">isSameSpecializedSkolem</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="852685">sym1</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Symbol" id="852686">sym2</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Type" id="852687">pre1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="852688">pre2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#852685" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509189" title="=&gt; Boolean">isExistentialSkolem</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#852686" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509189" title="=&gt; Boolean">isExistentialSkolem</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
    <a href="#852685" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#852686" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
    <a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505148" title="=&gt; Boolean">specialized</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
    <a href="#852685" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852686" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
    <a href="#852687" title="Types.this.Type">pre1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852688" title="Types.this.Type">pre2</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym1: Types.this.Symbol, pre1: Types.this.Type, sym2: Types.this.Symbol, pre2: Types.this.Type)Boolean" id="478904">equalSymsAndPrefixes</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="852696">sym1</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Type" id="852697">pre1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="852698">sym2</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Type" id="852699">pre2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#852696" title="Types.this.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#852698" title="Types.this.Symbol">sym2</a><span class="delimiter">)</span> <a href="#852696" title="Types.this.Symbol">sym1</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435326" title="=&gt; Boolean">hasPackageFlag</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#852697" title="Types.this.Type">pre1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852699" title="Types.this.Type">pre2</a>
    <span class="keyword">else</span> <span class="delimiter">(</span><a href="#852696" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#852698" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478902" title="(pre1: Types.this.Type, pre2: Types.this.Type)Boolean">isUnifiable</a><span class="delimiter">(</span><a href="#852697" title="Types.this.Type">pre1</a>, <a href="#852699" title="Types.this.Type">pre2</a><span class="delimiter">)</span>

  <span class="comment">/** Do `tp1' and `tp2' denote equivalent types?
   */</span>
  <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="478905">isSameType</a><span class="delimiter">(</span><a title="Types.this.Type" id="655205">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="655206">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
    <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478543" title="=&gt; scala.tools.nsc.util.Statistics.Counter">sametypeCount</a><span class="delimiter">)</span>
    <a href="#478900" title="(x$1: Int)Unit">subsametypeRecursions</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <a href="#478711" title="object Types.this.undoLog">undoLog</a> <a href="#508591" title="(block: =&gt; Boolean)Boolean">undoUnless</a> <span class="delimiter">{</span>
      <a href="#478909" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isSameType1</a><span class="delimiter">(</span><a href="#655205" title="Types.this.Type">tp1</a>, <a href="#655206" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
    <a href="#478900" title="(x$1: Int)Unit">subsametypeRecursions</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
    <span class="comment">// XXX AM TODO: figure out when it is safe and needed to clear the log -- the commented approach below is too eager (it breaks #3281, #3866)</span>
    <span class="comment">// it doesn't help to keep separate recursion counts for the three methods that now share it</span>
    <span class="comment">// if (subsametypeRecursions == 0) undoLog.clear()</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="478906">isDifferentType</a><span class="delimiter">(</span><a title="Types.this.Type" id="852723">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="852724">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
    <a href="#478900" title="(x$1: Int)Unit">subsametypeRecursions</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
    <a href="#478711" title="object Types.this.undoLog">undoLog</a> <a href="#508588" title="(block: =&gt; Boolean)Boolean">undo</a> <span class="delimiter">{</span> <span class="comment">// undo type constraints that arise from operations in this block</span>
      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#478909" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isSameType1</a><span class="delimiter">(</span><a href="#852723" title="Types.this.Type">tp1</a>, <a href="#852724" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
    <a href="#478900" title="(x$1: Int)Unit">subsametypeRecursions</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
    <span class="comment">// XXX AM TODO: figure out when it is safe and needed to clear the log -- the commented approach below is too eager (it breaks #3281, #3866)</span>
    <span class="comment">// it doesn't help to keep separate recursion counts for the three methods that now share it</span>
    <span class="comment">// if (subsametypeRecursions == 0) undoLog.clear()</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="478907">isDifferentTypeConstructor</a><span class="delimiter">(</span><a title="Types.this.Type" id="852737">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="852738">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#852737" title="Types.this.Type">tp1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="852740">pre1</a>, <a title="Types.this.Symbol" id="852741">sym1</a>, _<span class="delimiter">)</span> =&gt;
      <a href="#852738" title="Types.this.Type">tp2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="852742">pre2</a>, <a title="Types.this.Symbol" id="852743">sym2</a>, _<span class="delimiter">)</span> =&gt; <a href="#852741" title="Types.this.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#852743" title="Types.this.Symbol">sym2</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478906" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isDifferentType</a><span class="delimiter">(</span><a href="#852740" title="Types.this.Type">pre1</a>, <a href="#852742" title="Types.this.Type">pre2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="478908">normalizePlus</a><span class="delimiter">(</span><a title="Types.this.Type" id="652123">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> =
    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478855" title="(tp: Types.this.Type)Boolean">isRawType</a><span class="delimiter">(</span><a href="#652123" title="Types.this.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#652146" title="(tp: Types.this.Type)Types.this.Type">rawToExistential</a><span class="delimiter">(</span><a href="#652123" title="Types.this.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#652123" title="Types.this.Type">tp</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>

  <span class="comment">/*
  todo: change to:
  def normalizePlus(tp: Type) = tp match {
    case TypeRef(pre, sym, List()) =&gt;
      if (!sym.isInitialized) sym.rawInfo.load(sym)
      if (sym.isJavaDefined &amp;&amp; !sym.typeParams.isEmpty) rawToExistential(tp)
      else tp.normalize
    case _ =&gt; tp.normalize
  }
  */</span>
<span class="comment">/*
  private def isSameType0(tp1: Type, tp2: Type): Boolean = {
    if (tp1 eq tp2) return true
    ((tp1, tp2) match {
      case (ErrorType, _) =&gt; true
      case (WildcardType, _) =&gt; true
      case (_, ErrorType) =&gt; true
      case (_, WildcardType) =&gt; true

      case (NoType, _) =&gt; false
      case (NoPrefix, _) =&gt; tp2.typeSymbol.isPackageClass
      case (_, NoType) =&gt; false
      case (_, NoPrefix) =&gt; tp1.typeSymbol.isPackageClass

      case (ThisType(sym1), ThisType(sym2))
      if (sym1 == sym2) =&gt;
        true
      case (SingleType(pre1, sym1), SingleType(pre2, sym2))
      if (equalSymsAndPrefixes(sym1, pre1, sym2, pre2)) =&gt;
        true
/*
      case (SingleType(pre1, sym1), ThisType(sym2))
      if (sym1.isModule &amp;&amp;
          sym1.moduleClass == sym2 &amp;&amp;
          pre1 =:= sym2.owner.thisType) =&gt;
        true
      case (ThisType(sym1), SingleType(pre2, sym2))
      if (sym2.isModule &amp;&amp;
          sym2.moduleClass == sym1 &amp;&amp;
          pre2 =:= sym1.owner.thisType) =&gt;
        true
*/
      case (ConstantType(value1), ConstantType(value2)) =&gt;
        value1 == value2
      case (TypeRef(pre1, sym1, args1), TypeRef(pre2, sym2, args2)) =&gt;
        equalSymsAndPrefixes(sym1, pre1, sym2, pre2) &amp;&amp;
        ((tp1.isHigherKinded &amp;&amp; tp2.isHigherKinded &amp;&amp; tp1.normalize =:= tp2.normalize) ||
         isSameTypes(args1, args2))
         // @M! normalize reduces higher-kinded case to PolyType's
      case (RefinedType(parents1, ref1), RefinedType(parents2, ref2)) =&gt;
        def isSubScope(s1: Scope, s2: Scope): Boolean = s2.toList.forall {
          sym2 =&gt;
            var e1 = s1.lookupEntry(sym2.name)
            (e1 ne null) &amp;&amp; {
              val substSym = sym2.info.substThis(sym2.owner, e1.sym.owner.thisType)
              var isEqual = false
              while (!isEqual &amp;&amp; (e1 ne null)) {
                isEqual = e1.sym.info =:= substSym
                e1 = s1.lookupNextEntry(e1)
              }
              isEqual
            }
        }
        //Console.println(&quot;is same? &quot; + tp1 + &quot; &quot; + tp2 + &quot; &quot; + tp1.typeSymbol.owner + &quot; &quot; + tp2.typeSymbol.owner)//DEBUG
        isSameTypes(parents1, parents2) &amp;&amp; isSubScope(ref1, ref2) &amp;&amp; isSubScope(ref2, ref1)
      case (MethodType(params1, res1), MethodType(params2, res2)) =&gt;
        // new dependent types: probably fix this, use substSym as done for PolyType
        (isSameTypes(tp1.paramTypes, tp2.paramTypes) &amp;&amp;
         res1 =:= res2 &amp;&amp;
         tp1.isImplicit == tp2.isImplicit)
      case (PolyType(tparams1, res1), PolyType(tparams2, res2)) =&gt;
        // assert((tparams1 map (_.typeParams.length)) == (tparams2 map (_.typeParams.length)))
        (tparams1.length == tparams2.length) &amp;&amp; (tparams1 corresponds tparams2)(_.info =:= _.info.substSym(tparams2, tparams1)) &amp;&amp; // @M looks like it might suffer from same problem as #2210
          res1 =:= res2.substSym(tparams2, tparams1)
      case (ExistentialType(tparams1, res1), ExistentialType(tparams2, res2)) =&gt;
        (tparams1.length == tparams2.length) &amp;&amp; (tparams1 corresponds tparams2)(_.info =:= _.info.substSym(tparams2, tparams1)) &amp;&amp; // @M looks like it might suffer from same problem as #2210
          res1 =:= res2.substSym(tparams2, tparams1)
      case (TypeBounds(lo1, hi1), TypeBounds(lo2, hi2)) =&gt;
        lo1 =:= lo2 &amp;&amp; hi1 =:= hi2
      case (BoundedWildcardType(bounds), _) =&gt;
        bounds containsType tp2
      case (_, BoundedWildcardType(bounds)) =&gt;
        bounds containsType tp1
      case (tv @ TypeVar(_,_), tp) =&gt;
        tv.registerTypeEquality(tp, true)
      case (tp, tv @ TypeVar(_,_)) =&gt;
        tv.registerTypeEquality(tp, false)
      case (AnnotatedType(_,_,_), _) =&gt;
        annotationsConform(tp1, tp2) &amp;&amp; annotationsConform(tp2, tp1) &amp;&amp; tp1.withoutAnnotations =:= tp2.withoutAnnotations
      case (_, AnnotatedType(_,_,_)) =&gt;
        annotationsConform(tp1, tp2) &amp;&amp; annotationsConform(tp2, tp1) &amp;&amp; tp1.withoutAnnotations =:= tp2.withoutAnnotations
      case (_: SingletonType, _: SingletonType) =&gt;
        var origin1 = tp1
        while (origin1.underlying.isInstanceOf[SingletonType]) {
          assert(origin1 ne origin1.underlying, origin1)
          origin1 = origin1.underlying
        }
        var origin2 = tp2
        while (origin2.underlying.isInstanceOf[SingletonType]) {
          assert(origin2 ne origin2.underlying, origin2)
          origin2 = origin2.underlying
        }
        ((origin1 ne tp1) || (origin2 ne tp2)) &amp;&amp; (origin1 =:= origin2)
      case _ =&gt;
        false
    }) || {
      val tp1n = normalizePlus(tp1)
      val tp2n = normalizePlus(tp2)
      ((tp1n ne tp1) || (tp2n ne tp2)) &amp;&amp; isSameType(tp1n, tp2n)
    }
  }
*/</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="478909">isSameType1</a><span class="delimiter">(</span><a title="Types.this.Type" id="852716">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="852717">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#852716" title="Types.this.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852717" title="Types.this.Type">tp2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
        <span class="delimiter">(</span><a href="#852716" title="Types.this.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843657" title="object Types.this.ErrorType">ErrorType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#852716" title="Types.this.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843675" title="object Types.this.WildcardType">WildcardType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
        <span class="delimiter">(</span><a href="#852717" title="Types.this.Type">tp2</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843657" title="object Types.this.ErrorType">ErrorType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#852717" title="Types.this.Type">tp2</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843675" title="object Types.this.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#852716" title="Types.this.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#852717" title="Types.this.Type">tp2</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#852716" title="Types.this.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a><span class="delimiter">)</span>
      <a href="#852717" title="Types.this.Type">tp2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a>
    <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#852717" title="Types.this.Type">tp2</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a><span class="delimiter">)</span>
      <a href="#852716" title="Types.this.Type">tp1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <a href="#478910" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isSameType2</a><span class="delimiter">(</span><a href="#852716" title="Types.this.Type">tp1</a>, <a href="#852717" title="Types.this.Type">tp2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="852751">tp1n</a> = <a href="#478908" title="(tp: Types.this.Type)Types.this.Type">normalizePlus</a><span class="delimiter">(</span><a href="#852716" title="Types.this.Type">tp1</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="852752">tp2n</a> = <a href="#478908" title="(tp: Types.this.Type)Types.this.Type">normalizePlus</a><span class="delimiter">(</span><a href="#852717" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
        <span class="delimiter">(</span><span class="delimiter">(</span><a href="#852751" title="Types.this.Type">tp1n</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#852716" title="Types.this.Type">tp1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#852752" title="Types.this.Type">tp2n</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#852717" title="Types.this.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478905" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isSameType</a><span class="delimiter">(</span><a href="#852751" title="Types.this.Type">tp1n</a>, <a href="#852752" title="Types.this.Type">tp2n</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="478910">isSameType2</a><span class="delimiter">(</span><a title="Types.this.Type" id="852748">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="852749">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="#852748" title="Types.this.Type">tp1</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Unit" id="852753">tr1</a>: <a href="#532591" title="Types.this.TypeRef">TypeRef</a> =&gt;
        <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="852754">tr2</a>: <a href="#532591" title="Types.this.TypeRef">TypeRef</a> =&gt;
            <span title="Nothing" class="keyword">return</span> <span class="delimiter">(</span><a href="#478904" title="(sym1: Types.this.Symbol, pre1: Types.this.Type, sym2: Types.this.Symbol, pre2: Types.this.Type)Boolean">equalSymsAndPrefixes</a><span class="delimiter">(</span><a href="#852753" title="Types.this.TypeRef">tr1</a>.<a href="#532614" title="=&gt; Types.this.Symbol">sym</a>, <a href="#852753" title="Types.this.TypeRef">tr1</a>.<a href="#532613" title="=&gt; Types.this.Type">pre</a>, <a href="#852754" title="Types.this.TypeRef">tr2</a>.<a href="#532614" title="=&gt; Types.this.Symbol">sym</a>, <a href="#852754" title="Types.this.TypeRef">tr2</a>.<a href="#532613" title="=&gt; Types.this.Type">pre</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <span class="delimiter">(</span><span class="delimiter">(</span><a href="#852748" title="Types.this.Type">tp1</a>.<a href="#507150" title="=&gt; Boolean">isHigherKinded</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#852749" title="Types.this.Type">tp2</a>.<a href="#507150" title="=&gt; Boolean">isHigherKinded</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#852748" title="Types.this.Type">tp1</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852749" title="Types.this.Type">tp2</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
               <a href="#478911" title="(tps1: List[Types.this.Type], tps2: List[Types.this.Type])Boolean">isSameTypes</a><span class="delimiter">(</span><a href="#852753" title="Types.this.TypeRef">tr1</a>.<a href="#532615" title="=&gt; List[Types.this.Type]">args</a>, <a href="#852754" title="Types.this.TypeRef">tr2</a>.<a href="#532615" title="=&gt; List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
               <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Types.this.Type)(Types.this.Type, Types.this.Type)" class="delimiter">(</a><a href="#852753" title="Types.this.TypeRef">tr1</a>.<a href="#532613" title="=&gt; Types.this.Type">pre</a>, <a href="#852754" title="Types.this.TypeRef">tr2</a>.<a href="#532613" title="=&gt; Types.this.Type">pre</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                 <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="Types.this.TypeVar" id="852766">tv</a> @ <a href="#841808" title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span>_,_<span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#852766" title="Types.this.TypeVar">tv</a>.<a href="#841844" title="(sym: Types.this.Symbol, tp: Types.this.Type)Boolean">registerTypeSelection</a><span class="delimiter">(</span><a href="#852753" title="Types.this.TypeRef">tr1</a>.<a href="#532614" title="=&gt; Types.this.Symbol">sym</a>, <a href="#852754" title="Types.this.TypeRef">tr2</a><span class="delimiter">)</span>
                 <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>_, <a title="Types.this.TypeVar" id="852770">tv</a> @ <a href="#841808" title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span>_,_<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#852770" title="Types.this.TypeVar">tv</a>.<a href="#841844" title="(sym: Types.this.Symbol, tp: Types.this.Type)Boolean">registerTypeSelection</a><span class="delimiter">(</span><a href="#852754" title="Types.this.TypeRef">tr2</a>.<a href="#532614" title="=&gt; Types.this.Symbol">sym</a>, <a href="#852753" title="Types.this.TypeRef">tr1</a><span class="delimiter">)</span>
                 <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
               <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="Unit" id="852772">tt1</a>: <a href="#546398" title="Types.this.ThisType">ThisType</a> =&gt;
        <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Unit" id="852773">tt2</a>: <a href="#546398" title="Types.this.ThisType">ThisType</a> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#852772" title="Types.this.ThisType">tt1</a>.<a href="#546406" title="=&gt; Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#852773" title="Types.this.ThisType">tt2</a>.<a href="#546406" title="=&gt; Types.this.Symbol">sym</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="Unit" id="852778">st1</a>: <a href="#546436" title="Types.this.SingleType">SingleType</a> =&gt;
        <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Unit" id="852779">st2</a>: <a href="#546436" title="Types.this.SingleType">SingleType</a> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#478904" title="(sym1: Types.this.Symbol, pre1: Types.this.Type, sym2: Types.this.Symbol, pre2: Types.this.Type)Boolean">equalSymsAndPrefixes</a><span class="delimiter">(</span><a href="#852778" title="Types.this.SingleType">st1</a>.<a href="#546451" title="=&gt; Types.this.Symbol">sym</a>, <a href="#852778" title="Types.this.SingleType">st1</a>.<a href="#546450" title="=&gt; Types.this.Type">pre</a>, <a href="#852779" title="Types.this.SingleType">st2</a>.<a href="#546451" title="=&gt; Types.this.Symbol">sym</a>, <a href="#852779" title="Types.this.SingleType">st2</a>.<a href="#546450" title="=&gt; Types.this.Type">pre</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="Unit" id="852780">ct1</a>: <a href="#546501" title="Types.this.ConstantType">ConstantType</a> =&gt;
        <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="852781">ct2</a>: <a href="#546501" title="Types.this.ConstantType">ConstantType</a> =&gt;
            <span title="Nothing" class="keyword">return</span> <span class="delimiter">(</span><a href="#852780" title="Types.this.ConstantType">ct1</a>.<a href="#546509" title="=&gt; Types.this.Constant">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#852781" title="Types.this.ConstantType">ct2</a>.<a href="#546509" title="=&gt; Types.this.Constant">value</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="Unit" id="852786">rt1</a>: <a href="#546655" title="Types.this.RefinedType">RefinedType</a> =&gt;
        <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="852787">rt2</a>: <a href="#546655" title="Types.this.RefinedType">RefinedType</a> =&gt; <span class="comment">//</span>
            <span class="keyword">def</span> <a title="(s1: Types.this.Scope, s2: Types.this.Scope)Boolean" id="852788">isSubScope</a><span class="delimiter">(</span><a title="Types.this.Scope" id="852789">s1</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a>, <a title="Types.this.Scope" id="852790">s2</a>: <a href="Scopes.scala.html#479020" title="Types.this.Scope">Scope</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#852790" title="Types.this.Scope">s2</a>.<a href="Scopes.scala.html#514371" title="=&gt; List[Types.this.Symbol]">toList</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">forall</a> <span class="delimiter">{</span>
              <a title="Types.this.Symbol" id="852799">sym2</a> =&gt;
                <span class="keyword">var</span> <a title="Types.this.ScopeEntry" id="852800">e1</a> = <a href="#852789" title="Types.this.Scope">s1</a>.<a href="Scopes.scala.html#514369" title="(name: Types.this.Name)Types.this.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#852799" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>
                <span class="delimiter">(</span><a href="#852800" title="Types.this.ScopeEntry">e1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Types.this.Type" id="852802">substSym</a> = <a href="#852799" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507211" title="(from: Types.this.Symbol, to: Types.this.Type)Types.this.Type">substThis</a><span class="delimiter">(</span><a href="#852799" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>, <a href="#852800" title="Types.this.ScopeEntry">e1</a>.<a href="Scopes.scala.html#514515" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>.<a href="Symbols.scala.html#509308" title="=&gt; Types.this.Type">thisType</a><span class="delimiter">)</span>
                  <span class="keyword">var</span> <a title="Boolean" id="852803">isEqual</a> = <span title="Boolean(false)" class="keyword">false</span>
                  <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#852803" title="Boolean">isEqual</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#852800" title="Types.this.ScopeEntry">e1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#852804" title="()Unit" class="delimiter">{</a>
                    <a href="#852803" title="Boolean">isEqual</a> = <a href="#852800" title="Types.this.ScopeEntry">e1</a>.<a href="Scopes.scala.html#514515" title="=&gt; Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852802" title="Types.this.Type">substSym</a>
                    <a href="#852800" title="Types.this.ScopeEntry">e1</a> = <a href="#852789" title="Types.this.Scope">s1</a>.<a href="Scopes.scala.html#514370" title="(entry: Types.this.ScopeEntry)Types.this.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#852800" title="Types.this.ScopeEntry">e1</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                  <a href="#852803" title="Boolean">isEqual</a>
                <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="comment">//Console.println(&quot;is same? &quot; + tp1 + &quot; &quot; + tp2 + &quot; &quot; + tp1.typeSymbol.owner + &quot; &quot; + tp2.typeSymbol.owner)//DEBUG</span>
            <span title="Nothing" class="keyword">return</span> <a href="#478911" title="(tps1: List[Types.this.Type], tps2: List[Types.this.Type])Boolean">isSameTypes</a><span class="delimiter">(</span><a href="#852786" title="Types.this.RefinedType">rt1</a>.<a href="#630991" title="=&gt; List[Types.this.Type]">parents</a>, <a href="#852787" title="Types.this.RefinedType">rt2</a>.<a href="#630991" title="=&gt; List[Types.this.Type]">parents</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Types.this.Scope" id="852808">decls1</a> = <a href="#852786" title="Types.this.RefinedType">rt1</a>.<a href="#630992" title="=&gt; Types.this.Scope">decls</a>
              <span class="keyword">val</span> <a title="Types.this.Scope" id="852809">decls2</a> = <a href="#852787" title="Types.this.RefinedType">rt2</a>.<a href="#630992" title="=&gt; Types.this.Scope">decls</a>
              <a href="#852788" title="(s1: Types.this.Scope, s2: Types.this.Scope)Boolean">isSubScope</a><span class="delimiter">(</span><a href="#852808" title="Types.this.Scope">decls1</a>, <a href="#852809" title="Types.this.Scope">decls2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#852788" title="(s1: Types.this.Scope, s2: Types.this.Scope)Boolean">isSubScope</a><span class="delimiter">(</span><a href="#852809" title="Types.this.Scope">decls2</a>, <a href="#852808" title="Types.this.Scope">decls1</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="Unit" id="852810">mt1</a>: <a href="#546837" title="Types.this.MethodType">MethodType</a> =&gt;
        <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="852811">mt2</a>: <a href="#546837" title="Types.this.MethodType">MethodType</a> =&gt;
            <span class="comment">// DEPMETTODO new dependent types: probably fix this, use substSym as done for PolyType</span>
            <span title="Nothing" class="keyword">return</span> <a href="#478911" title="(tps1: List[Types.this.Type], tps2: List[Types.this.Type])Boolean">isSameTypes</a><span class="delimiter">(</span><a href="#852810" title="Types.this.MethodType">mt1</a>.<a href="#546852" title="=&gt; List[Types.this.Type]">paramTypes</a>, <a href="#852811" title="Types.this.MethodType">mt2</a>.<a href="#546852" title="=&gt; List[Types.this.Type]">paramTypes</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="#852810" title="Types.this.MethodType">mt1</a>.<a href="#549909" title="=&gt; Types.this.Type">resultType</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852811" title="Types.this.MethodType">mt2</a>.<a href="#549909" title="=&gt; Types.this.Type">resultType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="#852810" title="Types.this.MethodType">mt1</a>.<a href="#546848" title="=&gt; Boolean">isImplicit</a> <a href="../../../Boolean.scala.html#55577" title="(x: Boolean)Boolean">==</a> <a href="#852811" title="Types.this.MethodType">mt2</a>.<a href="#546848" title="=&gt; Boolean">isImplicit</a>
          <span class="comment">// note: no case NullaryMethodType(restpe) =&gt; return mt1.params.isEmpty &amp;&amp; mt1.resultType =:= restpe</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">NullaryMethodType</span><span class="delimiter">(</span><a title="Types.this.Type" id="852821">restpe1</a><span class="delimiter">)</span> =&gt;
        <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="comment">// note: no case mt2: MethodType =&gt; return mt2.params.isEmpty &amp;&amp; restpe  =:= mt2.resultType</span>
          <span class="keyword">case</span> <span title="Nothing">NullaryMethodType</span><span class="delimiter">(</span><a title="Types.this.Type" id="852822">restpe2</a><span class="delimiter">)</span> =&gt;
            <span title="Nothing" class="keyword">return</span> <a href="#852821" title="Types.this.Type">restpe1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852822" title="Types.this.Type">restpe2</a>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="852823">tparams1</a>, <a title="Types.this.Type" id="852824">res1</a><span class="delimiter">)</span> =&gt;
        <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Nothing">PolyType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="852825">tparams2</a>, <a title="Types.this.Type" id="852826">res2</a><span class="delimiter">)</span> =&gt;
<span class="comment">//            assert((tparams1 map (_.typeParams.length)) == (tparams2 map (_.typeParams.length)))</span>
              <span class="comment">// @M looks like it might suffer from same problem as #2210</span>
              <span title="Nothing" class="keyword">return</span> <span class="delimiter">(</span>
                <span class="delimiter">(</span><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#852823" title="List[Types.this.Symbol]">tparams1</a>, <a href="#852825" title="List[Types.this.Symbol]">tparams2</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="comment">// corresponds does not check length of two sequences before checking the predicate</span>
                <span class="delimiter">(</span><a href="#852823" title="List[Types.this.Symbol]">tparams1</a> <a href="../../../collection/SeqLike.scala.html#54171" title="(that: scala.collection.GenSeq[Types.this.Symbol])(p: (Types.this.Symbol, Types.this.Symbol) =&gt; Boolean)Boolean">corresponds</a> <a href="#852825" title="List[Types.this.Symbol]">tparams2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#852842" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852843" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#852825" title="List[Types.this.Symbol]">tparams2</a>, <a href="#852823" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <a href="#852824" title="Types.this.Type">res1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852826" title="Types.this.Type">res2</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#852825" title="List[Types.this.Symbol]">tparams2</a>, <a href="#852823" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="852844">tparams1</a>, <a title="Types.this.Type" id="852845">res1</a><span class="delimiter">)</span> =&gt;
        <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Nothing">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="852846">tparams2</a>, <a title="Types.this.Type" id="852847">res2</a><span class="delimiter">)</span> =&gt;
            <span class="comment">// @M looks like it might suffer from same problem as #2210</span>
            <span title="Nothing" class="keyword">return</span> <span class="delimiter">(</span>
              <span class="comment">// corresponds does not check length of two sequences before checking the predicate -- faster &amp; needed to avoid crasher in #2956</span>
              <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#852844" title="List[Types.this.Symbol]">tparams1</a>, <a href="#852846" title="List[Types.this.Symbol]">tparams2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <span class="delimiter">(</span><a href="#852844" title="List[Types.this.Symbol]">tparams1</a> <a href="../../../collection/SeqLike.scala.html#54171" title="(that: scala.collection.GenSeq[Types.this.Symbol])(p: (Types.this.Symbol, Types.this.Symbol) =&gt; Boolean)Boolean">corresponds</a> <a href="#852846" title="List[Types.this.Symbol]">tparams2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#852863" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852864" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#852846" title="List[Types.this.Symbol]">tparams2</a>, <a href="#852844" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="#852845" title="Types.this.Type">res1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852847" title="Types.this.Type">res2</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#852846" title="List[Types.this.Symbol]">tparams2</a>, <a href="#852844" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">TypeBounds</span><span class="delimiter">(</span><a title="Types.this.Type" id="852865">lo1</a>, <a title="Types.this.Type" id="852866">hi1</a><span class="delimiter">)</span> =&gt;
        <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Nothing">TypeBounds</span><span class="delimiter">(</span><a title="Types.this.Type" id="852867">lo2</a>, <a title="Types.this.Type" id="852868">hi2</a><span class="delimiter">)</span> =&gt;
            <span title="Nothing" class="keyword">return</span> <a href="#852865" title="Types.this.Type">lo1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852867" title="Types.this.Type">lo2</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#852866" title="Types.this.Type">hi1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852868" title="Types.this.Type">hi2</a>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Nothing">BoundedWildcardType</span><span class="delimiter">(</span><a title="Types.this.TypeBounds" id="852869">bounds</a><span class="delimiter">)</span> =&gt;
        <span title="Nothing" class="keyword">return</span> <a href="#852869" title="Types.this.TypeBounds">bounds</a> <a href="#546592" title="(that: Types.this.Type)Boolean">containsType</a> <a href="#852749" title="Types.this.Type">tp2</a>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>
    <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Nothing">BoundedWildcardType</span><span class="delimiter">(</span><a title="Types.this.TypeBounds" id="852870">bounds</a><span class="delimiter">)</span> =&gt;
        <span title="Nothing" class="keyword">return</span> <a href="#852870" title="Types.this.TypeBounds">bounds</a> <a href="#546592" title="(that: Types.this.Type)Boolean">containsType</a> <a href="#852748" title="Types.this.Type">tp1</a>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>
    <a href="#852748" title="Types.this.Type">tp1</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="852871">tv</a> @ <a href="#841808" title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span>_,_<span class="delimiter">)</span> =&gt;
        <span title="Nothing" class="keyword">return</span> <a href="#852871" title="Types.this.TypeVar">tv</a>.<a href="#841843" title="(tp: Types.this.Type, typeVarLHS: Boolean)Boolean">registerTypeEquality</a><span class="delimiter">(</span><a href="#852749" title="Types.this.Type">tp2</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>
    <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Nothing" id="852873">tv</a> @ <a href="#841808" title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span>_,_<span class="delimiter">)</span> =&gt;
        <span title="Nothing" class="keyword">return</span> <a href="#852873" title="Types.this.TypeVar">tv</a>.<a href="#841843" title="(tp: Types.this.Type, typeVarLHS: Boolean)Boolean">registerTypeEquality</a><span class="delimiter">(</span><a href="#852748" title="Types.this.Type">tp1</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>
    <a href="#852748" title="Types.this.Type">tp1</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Nothing">_</span>: <a href="#547085" title="Types.this.AnnotatedType">AnnotatedType</a> =&gt;
        <span title="Nothing" class="keyword">return</span> <a href="AnnotationCheckers.scala.html#479101" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">annotationsConform</a><span class="delimiter">(</span><a href="#852748" title="Types.this.Type">tp1</a>, <a href="#852749" title="Types.this.Type">tp2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="AnnotationCheckers.scala.html#479101" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">annotationsConform</a><span class="delimiter">(</span><a href="#852749" title="Types.this.Type">tp2</a>, <a href="#852748" title="Types.this.Type">tp1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#852748" title="Types.this.Type">tp1</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852749" title="Types.this.Type">tp2</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>
    <a href="#852749" title="Types.this.Type">tp2</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Nothing">_</span>: <a href="#547085" title="Types.this.AnnotatedType">AnnotatedType</a> =&gt;
        <span title="Nothing" class="keyword">return</span> <a href="AnnotationCheckers.scala.html#479101" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">annotationsConform</a><span class="delimiter">(</span><a href="#852748" title="Types.this.Type">tp1</a>, <a href="#852749" title="Types.this.Type">tp2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="AnnotationCheckers.scala.html#479101" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">annotationsConform</a><span class="delimiter">(</span><a href="#852749" title="Types.this.Type">tp2</a>, <a href="#852748" title="Types.this.Type">tp1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#852748" title="Types.this.Type">tp1</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852749" title="Types.this.Type">tp2</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>
    <a href="#852748" title="Types.this.Type">tp1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">_</span>: <a href="#478726" title="Types.this.SingletonType">SingletonType</a> =&gt;
        <a href="#852749" title="Types.this.Type">tp2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">_</span>: <a href="#478726" title="Types.this.SingletonType">SingletonType</a> =&gt;
            @inline <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="852877">chaseDealiasedUnderlying</a><span class="delimiter">(</span><a title="Types.this.Type" id="852880">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Types.this.Type" id="852881">origin</a> = <a href="#852880" title="Types.this.Type">tp</a>
              <span class="keyword">var</span> <a title="Types.this.Type" id="852882">next</a> = <a href="#852881" title="Types.this.Type">origin</a>.<a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507189" title="=&gt; Types.this.Type">dealias</a>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#852882" title="Types.this.Type">next</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="#478726" title="Types.this.SingletonType">SingletonType</a><span class="delimiter">]</span><span class="delimiter">)</span> <a href="#852883" title="()Unit" class="delimiter">{</a>
                <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#852881" title="Types.this.Type">origin</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#852882" title="Types.this.Type">next</a>, <a href="#852881" title="Types.this.Type">origin</a><span class="delimiter">)</span>
                <a href="#852881" title="Types.this.Type">origin</a> = <a href="#852882" title="Types.this.Type">next</a>
                <a href="#852882" title="Types.this.Type">next</a> = <a href="#852881" title="Types.this.Type">origin</a>.<a href="#507162" title="=&gt; Types.this.Type">underlying</a>.<a href="#507189" title="=&gt; Types.this.Type">dealias</a>
              <span class="delimiter">}</span>
              <a href="#852881" title="Types.this.Type">origin</a>
            <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Types.this.Type" id="852878">origin1</a> = <a href="#852877" title="(tp: Types.this.Type)Types.this.Type">chaseDealiasedUnderlying</a><span class="delimiter">(</span><a href="#852748" title="Types.this.Type">tp1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Types.this.Type" id="852879">origin2</a> = <a href="#852877" title="(tp: Types.this.Type)Types.this.Type">chaseDealiasedUnderlying</a><span class="delimiter">(</span><a href="#852749" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><span class="delimiter">(</span><a href="#852878" title="Types.this.Type">origin1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#852748" title="Types.this.Type">tp1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#852879" title="Types.this.Type">origin2</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#852749" title="Types.this.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#852878" title="Types.this.Type">origin1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852879" title="Types.this.Type">origin2</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
            <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Are `tps1' and `tps2' lists of pairwise equivalent
   *  types?
   */</span>
  <span class="keyword">def</span> <a title="(tps1: List[Types.this.Type], tps2: List[Types.this.Type])Boolean" id="478911">isSameTypes</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="852755">tps1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="852756">tps2</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">(</span><a href="#852755" title="List[Types.this.Type]">tps1</a> <a href="../../../collection/SeqLike.scala.html#54171" title="(that: scala.collection.GenSeq[Types.this.Type])(p: (Types.this.Type, Types.this.Type) =&gt; Boolean)Boolean">corresponds</a> <a href="#852756" title="List[Types.this.Type]">tps2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#852899" title="Types.this.Type">_</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852900" title="Types.this.Type">_</a><span class="delimiter">)</span>

  <span class="comment">/** True if two lists have the same length.  Since calling length on linear sequences
   *  is O(n), it is an inadvisable way to test length equality.
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(xs1: List[_], xs2: List[_])Boolean" id="478912">sameLength</a><span class="delimiter">(</span><a title="List[_]" id="655325">xs1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[_]">List</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="List[_]" id="655326">xs2</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[_]">List</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#478913" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#655325" title="List[_]">xs1</a>, <a href="#655326" title="List[_]">xs2</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span>
  @tailrec <span class="keyword">final</span> <span class="keyword">def</span> <a title="(xs1: List[_], xs2: List[_])Int" id="478913">compareLengths</a><span class="delimiter">(</span><a title="List[_]" id="655329">xs1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[_]">List</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="List[_]" id="655330">xs2</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[_]">List</a><span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Int.scala.html#386" title="Int">Int</a> =
    <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#655329" title="List[_]">xs1</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#655330" title="List[_]">xs2</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> -<span title="Int(-1)" class="int">1</span> <span class="delimiter">}</span>
    <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#655330" title="List[_]">xs2</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="Int(1)" class="int">1</span>
    <span class="keyword">else</span> <a href="#478913" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#655329" title="List[_]">xs1</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Any]">tail</a>, <a href="#655330" title="List[_]">xs2</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Any]">tail</a><span class="delimiter">)</span>

  <span class="comment">/** Again avoiding calling length, but the lengthCompare interface is clunky.
   */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(xs: List[_], len: Int)Boolean" id="478914">hasLength</a><span class="delimiter">(</span><a title="List[_]" id="846203">xs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[_]">List</a><span class="delimiter">[</span>_<span class="delimiter">]</span>, <a title="Int" id="846204">len</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> = <a href="#846203" title="List[_]">xs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71061" title="(len: Int)Int">lengthCompare</a><span class="delimiter">(</span><a href="#846204" title="Int">len</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Types.this.SubTypePair]" id="478915">pendingSubTypes</a> = <a href="../../../collection/mutable/HashSet.scala.html#108311" title="()scala.collection.mutable.HashSet[Types.this.SubTypePair]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashSet.scala.html#14593" title="scala.collection.mutable.HashSet[Types.this.SubTypePair]">HashSet</a><span class="delimiter">[</span>SubTypePair<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="478918">basetypeRecursions</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Types.this.Type]" id="478920">pendingBaseTypes</a> = <a href="../../../collection/mutable/HashSet.scala.html#108311" title="()scala.collection.mutable.HashSet[Types.this.Type]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashSet.scala.html#14593" title="scala.collection.mutable.HashSet[Types.this.Type]">HashSet</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="478922">isSubType</a><span class="delimiter">(</span><a title="Types.this.Type" id="817643">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="817644">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#478923" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType</a><span class="delimiter">(</span><a href="#817643" title="Types.this.Type">tp1</a>, <a href="#817644" title="Types.this.Type">tp2</a>, <span title="Int(-3)">AnyDepth</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean" id="478923">isSubType</a><span class="delimiter">(</span><a title="Types.this.Type" id="817636">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="817637">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Int" id="817638">depth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
    <a href="#478900" title="(x$1: Int)Unit">subsametypeRecursions</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>

    <a href="#478711" title="object Types.this.undoLog">undoLog</a> <a href="#508591" title="(block: =&gt; Boolean)Boolean">undoUnless</a> <span class="delimiter">{</span> <span class="comment">// if subtype test fails, it should not affect constraints on typevars</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#478900" title="=&gt; Int">subsametypeRecursions</a> <a href="../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(50)">LogPendingSubTypesThreshold</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Types.this.SubTypePair" id="852920">p</a> = <span title="Types.this.SubTypePair" class="keyword">new</span> <a href="#478893" title="Types.this.SubTypePair">SubTypePair</a><span class="delimiter">(</span><a href="#817636" title="Types.this.Type">tp1</a>, <a href="#817637" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: Types.this.SubTypePair)Boolean">pendingSubTypes</a><span class="delimiter">(</span><a href="#852920" title="Types.this.SubTypePair">p</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span>
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <a href="#478915" title="=&gt; scala.collection.mutable.HashSet[Types.this.SubTypePair]">pendingSubTypes</a> <a href="../../../collection/mutable/HashSet.scala.html#108315" title="(elem: Types.this.SubTypePair)Types.this.pendingSubTypes.type">+=</a> <a href="#852920" title="Types.this.SubTypePair">p</a>
            <a href="#478940" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType2</a><span class="delimiter">(</span><a href="#817636" title="Types.this.Type">tp1</a>, <a href="#817637" title="Types.this.Type">tp2</a>, <a href="#817638" title="Int">depth</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
            <a href="#478915" title="=&gt; scala.collection.mutable.HashSet[Types.this.SubTypePair]">pendingSubTypes</a> <a href="../../../collection/mutable/HashSet.scala.html#108316" title="(elem: Types.this.SubTypePair)Types.this.pendingSubTypes.type">-=</a> <a href="#852920" title="Types.this.SubTypePair">p</a>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#478940" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType2</a><span class="delimiter">(</span><a href="#817636" title="Types.this.Type">tp1</a>, <a href="#817637" title="Types.this.Type">tp2</a>, <a href="#817638" title="Int">depth</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
    <a href="#478900" title="(x$1: Int)Unit">subsametypeRecursions</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
    <span class="comment">// XXX AM TODO: figure out when it is safe and needed to clear the log -- the commented approach below is too eager (it breaks #3281, #3866)</span>
    <span class="comment">// it doesn't help to keep separate recursion counts for the three methods that now share it</span>
    <span class="comment">// if (subsametypeRecursions == 0) undoLog.clear()</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Does this type have a prefix that begins with a type variable,
   *  or is it a refinement type? For type prefixes that fulfil this condition,
   *  type selections with the same name of equal (wrt) =:= prefixes are
   *  considered equal wrt =:=
   */</span>
  <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="478924">beginsWithTypeVarOrIsRefined</a><span class="delimiter">(</span><a title="Types.this.Type" id="852683">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#852683" title="Types.this.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">SingleType</span><span class="delimiter">(</span><a title="Types.this.Type" id="852961">pre</a>, <a title="Types.this.Symbol" id="852962">sym</a><span class="delimiter">)</span> =&gt;
      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#852962" title="Types.this.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(16384L)">PACKAGE</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478924" title="(tp: Types.this.Type)Boolean">beginsWithTypeVarOrIsRefined</a><span class="delimiter">(</span><a href="#852961" title="Types.this.Type">pre</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="Boolean" id="852963">tv</a>@<a href="#841808" title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span>_, <a title="Types.this.TypeConstraint" id="852965">constr</a><span class="delimiter">)</span> =&gt;
      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#852963" title="Types.this.TypeVar">tv</a>.<a href="#841832" title="=&gt; Boolean">instValid</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478924" title="(tp: Types.this.Type)Boolean">beginsWithTypeVarOrIsRefined</a><span class="delimiter">(</span><a href="#852965" title="Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Boolean(true)">RefinedType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
      <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
      <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="478925">instTypeVar</a><span class="delimiter">(</span><a title="Types.this.Type" id="852966">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#852966" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="852968">pre</a>, <a title="Types.this.Symbol" id="852969">sym</a>, <a title="List[Types.this.Type]" id="852970">args</a><span class="delimiter">)</span> =&gt;
      <a href="#478812" title="(tp: Types.this.Type, pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">copyTypeRef</a><span class="delimiter">(</span><a href="#852966" title="Types.this.Type">tp</a>, <a href="#478925" title="(tp: Types.this.Type)Types.this.Type">instTypeVar</a><span class="delimiter">(</span><a href="#852968" title="Types.this.Type">pre</a><span class="delimiter">)</span>, <a href="#852969" title="Types.this.Symbol">sym</a>, <a href="#852970" title="List[Types.this.Type]">args</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Types.this.Type">SingleType</span><span class="delimiter">(</span><a title="Types.this.Type" id="852971">pre</a>, <a title="Types.this.Symbol" id="852972">sym</a><span class="delimiter">)</span> =&gt;
      <a href="#478807" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">singleType</a><span class="delimiter">(</span><a href="#478925" title="(tp: Types.this.Type)Types.this.Type">instTypeVar</a><span class="delimiter">(</span><a href="#852971" title="Types.this.Type">pre</a><span class="delimiter">)</span>, <a href="#852972" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a href="#841808" title="Types.this.Type">TypeVar</a><span class="delimiter">(</span>_, <a title="Types.this.TypeConstraint" id="852974">constr</a><span class="delimiter">)</span> =&gt;
      <a href="#478925" title="(tp: Types.this.Type)Types.this.Type">instTypeVar</a><span class="delimiter">(</span><a href="#852974" title="Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
      <a href="#852966" title="Types.this.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="478926">isErrorOrWildcard</a><span class="delimiter">(</span><a title="Types.this.Type" id="852975">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#852975" title="Types.this.Type">tp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843657" title="object Types.this.ErrorType">ErrorType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#852975" title="Types.this.Type">tp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843675" title="object Types.this.WildcardType">WildcardType</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="478927">isSingleType</a><span class="delimiter">(</span><a title="Types.this.Type" id="852978">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#852978" title="Types.this.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean(true)">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | SuperType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> | SingleType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="478928">isConstantType</a><span class="delimiter">(</span><a title="Types.this.Type" id="796094">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#796094" title="Types.this.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean(true)">ConstantType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="comment">// @assume tp1.isHigherKinded || tp2.isHigherKinded</span>
  <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean" id="478929">isHKSubType0</a><span class="delimiter">(</span><a title="Types.this.Type" id="852981">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="852982">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Int" id="852983">depth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">(</span>
    <a href="#852981" title="Types.this.Type">tp1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a>
    <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
    <a href="#852982" title="Types.this.Type">tp2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a> <span class="comment">// @M Any and Nothing are super-type resp. subtype of every well-kinded type</span>
    <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="comment">// @M! normalize reduces higher-kinded case to PolyType's</span>
    <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Types.this.Type)(Types.this.Type, Types.this.Type)" class="delimiter">(</a><a href="#852981" title="Types.this.Type">tp1</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a> , <a href="#852982" title="Types.this.Type">tp2</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>PolyType<span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853003">tparams1</a>, <a title="Types.this.Type" id="853004">res1</a><span class="delimiter">)</span>, PolyType<span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853005">tparams2</a>, <a title="Types.this.Type" id="853006">res2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <span class="comment">// @assume tp1.isHigherKinded &amp;&amp; tp2.isHigherKinded (as they were both normalized to PolyType)</span>
        <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#853003" title="List[Types.this.Symbol]">tparams1</a>, <a href="#853005" title="List[Types.this.Symbol]">tparams2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#853003" title="List[Types.this.Symbol]">tparams1</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Symbol">head</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>  <span class="comment">// fast-path: polymorphic method type -- type params cannot be captured</span>
            <span class="delimiter">(</span><a href="#853003" title="List[Types.this.Symbol]">tparams1</a> <a href="../../../collection/SeqLike.scala.html#54171" title="(that: scala.collection.GenSeq[Types.this.Symbol])(p: (Types.this.Symbol, Types.this.Symbol) =&gt; Boolean)Boolean">corresponds</a> <a href="#853005" title="List[Types.this.Symbol]">tparams2</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="853023">p1</a>, <a title="Types.this.Symbol" id="853024">p2</a><span class="delimiter">)</span> =&gt; <a href="#853024" title="Types.this.Symbol">p2</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#853005" title="List[Types.this.Symbol]">tparams2</a>, <a href="#853003" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853023" title="Types.this.Symbol">p1</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#853004" title="Types.this.Type">res1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853006" title="Types.this.Type">res2</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#853005" title="List[Types.this.Symbol]">tparams2</a>, <a href="#853003" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span class="comment">// normalized higher-kinded type</span>
            <span class="comment">//@M for an example of why we need to generate fresh symbols, see neg/tcpoly_ticket2101.scala</span>
            <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="853025">tpsFresh</a> = <a href="Symbols.scala.html#478669" title="(syms: List[Types.this.Symbol])List[Types.this.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#853003" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span>

            <span class="delimiter">(</span><a href="#853003" title="List[Types.this.Symbol]">tparams1</a> <a href="../../../collection/SeqLike.scala.html#54171" title="(that: scala.collection.GenSeq[Types.this.Symbol])(p: (Types.this.Symbol, Types.this.Symbol) =&gt; Boolean)Boolean">corresponds</a> <a href="#853005" title="List[Types.this.Symbol]">tparams2</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="853059">p1</a>, <a title="Types.this.Symbol" id="853060">p2</a><span class="delimiter">)</span> =&gt;
              <a href="#853060" title="Types.this.Symbol">p2</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#853005" title="List[Types.this.Symbol]">tparams2</a>, <a href="#853025" title="List[Types.this.Symbol]">tpsFresh</a><span class="delimiter">)</span> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853059" title="Types.this.Symbol">p1</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#853003" title="List[Types.this.Symbol]">tparams1</a>, <a href="#853025" title="List[Types.this.Symbol]">tpsFresh</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#853004" title="Types.this.Type">res1</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#853003" title="List[Types.this.Symbol]">tparams1</a>, <a href="#853025" title="List[Types.this.Symbol]">tpsFresh</a><span class="delimiter">)</span> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853006" title="Types.this.Type">res2</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#853005" title="List[Types.this.Symbol]">tparams2</a>, <a href="#853025" title="List[Types.this.Symbol]">tpsFresh</a><span class="delimiter">)</span>

            <span class="comment">//@M the forall in the previous test could be optimised to the following,</span>
            <span class="comment">// but not worth the extra complexity since it only shaves 1s from quick.comp</span>
            <span class="comment">//   (List.forall2(tpsFresh/*optimisation*/, tparams2)((p1, p2) =&gt;</span>
            <span class="comment">//   p2.info.substSym(tparams2, tpsFresh) &lt;:&lt; p1.info /*optimisation, == (p1 from tparams1).info.substSym(tparams1, tpsFresh)*/) &amp;&amp;</span>
            <span class="comment">// this optimisation holds because inlining cloneSymbols in `val tpsFresh = cloneSymbols(tparams1)` gives:</span>
            <span class="comment">// val tpsFresh = tparams1 map (_.cloneSymbol)</span>
            <span class="comment">// for (tpFresh &lt;- tpsFresh) tpFresh.setInfo(tpFresh.info.substSym(tparams1, tpsFresh))</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="AnnotationCheckers.scala.html#479101" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">annotationsConform</a><span class="delimiter">(</span><a href="#852981" title="Types.this.Type">tp1</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>, <a href="#852982" title="Types.this.Type">tp2</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)" class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// @assume !tp1.isHigherKinded || !tp2.isHigherKinded</span>
      <span class="comment">// --&gt; thus, cannot be subtypes (Any/Nothing has already been checked)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** True if all three arguments have the same number of elements and
   *  the function is true for all the triples.
   */</span>
  @tailrec <span class="keyword">final</span> <span class="keyword">def</span> <a title="[A, B, C](xs1: List[A], xs2: List[B], xs3: List[C], f: (A, B, C) =&gt; Boolean)Boolean" id="478930">corresponds3</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="478934">A</a>, <a title="&gt;: Nothing &lt;: Any" id="478935">B</a>, <a title="&gt;: Nothing &lt;: Any" id="478936">C</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[A]" id="853063">xs1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[A]">List</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="List[B]" id="853064">xs2</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[B]">List</a><span class="delimiter">[</span>B<span class="delimiter">]</span>, <a title="List[C]" id="853065">xs3</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[C]">List</a><span class="delimiter">[</span>C<span class="delimiter">]</span>, <a title="(A, B, C) =&gt; Boolean" id="853066">f</a>: <span class="delimiter">(</span>A, B, C<span class="delimiter">)</span> =&gt; Boolean<span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#853063" title="List[A]">xs1</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#853064" title="List[B]">xs2</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#853065" title="List[C]">xs3</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a>
    <span class="keyword">else</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#853064" title="List[B]">xs2</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#853065" title="List[C]">xs3</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Function3.scala.html#59883" title="(v1: A, v2: B, v3: C)Boolean">f</a><span class="delimiter">(</span><a href="#853063" title="List[A]">xs1</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; A">head</a>, <a href="#853064" title="List[B]">xs2</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; B">head</a>, <a href="#853065" title="List[C]">xs3</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; C">head</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478930" title="(xs1: List[A], xs2: List[B], xs3: List[C], f: (A, B, C) =&gt; Boolean)Boolean">corresponds3</a><span class="delimiter">(</span><a href="#853063" title="List[A]">xs1</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[A]">tail</a>, <a href="#853064" title="List[B]">xs2</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[B]">tail</a>, <a href="#853065" title="List[C]">xs3</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[C]">tail</a>, <a href="#853066" title="(A, B, C) =&gt; Boolean">f</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(t1: Types.this.Type, t2: Types.this.Type, variance: Int)Boolean" id="478937">isSubArg</a><span class="delimiter">(</span><a title="Types.this.Type" id="853107">t1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="853108">t2</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Int" id="853109">variance</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> =
    <span class="delimiter">(</span><a href="#853109" title="Int">variance</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#853108" title="Types.this.Type">t2</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853107" title="Types.this.Type">t1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#853109" title="Int">variance</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#853107" title="Types.this.Type">t1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853108" title="Types.this.Type">t2</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tps1: List[Types.this.Type], tps2: List[Types.this.Type], tparams: List[Types.this.Symbol])Boolean" id="478938">isSubArgs</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="848023">tps1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="848024">tps2</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="848025">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
    <a href="#478930" title="(xs1: List[Types.this.Type], xs2: List[Types.this.Type], xs3: List[Int], f: (Types.this.Type, Types.this.Type, Int) =&gt; Boolean)Boolean">corresponds3</a><span class="delimiter">(</span><a href="#848023" title="List[Types.this.Type]">tps1</a>, <a href="#848024" title="List[Types.this.Type]">tps2</a>, <a href="#848025" title="List[Types.this.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Int,List[Int]])List[Int]">map</a> <span class="delimiter">(</span><a href="#853148" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509248" title="=&gt; Int">variance</a><span class="delimiter">)</span>, <a href="#478937" title="(t1: Types.this.Type, t2: Types.this.Type, variance: Int)Boolean">isSubArg</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Types.this.Type" id="478939">differentOrNone</a><span class="delimiter">(</span><a title="Types.this.Type" id="853199">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="853200">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#853199" title="Types.this.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#853200" title="Types.this.Type">tp2</a><span class="delimiter">)</span> <a href="#843724" title="object Types.this.NoType">NoType</a> <span class="keyword">else</span> <a href="#853199" title="Types.this.Type">tp1</a>

  <span class="comment">/** Does type `tp1' conform to `tp2'?
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean" id="478940">isSubType2</a><span class="delimiter">(</span><a title="Types.this.Type" id="852945">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="852946">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Int" id="852947">depth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#852946" title="Types.this.Type">tp2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478926" title="(tp: Types.this.Type)Boolean">isErrorOrWildcard</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478926" title="(tp: Types.this.Type)Boolean">isErrorOrWildcard</a><span class="delimiter">(</span><a href="#852946" title="Types.this.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Boolean(true)" class="keyword">true</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#852946" title="Types.this.Type">tp2</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span title="Boolean(false)" class="keyword">false</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <span class="delimiter">(</span><a href="#852946" title="Types.this.Type">tp2</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#852946" title="Types.this.Type">tp2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#852946" title="Types.this.Type">tp2</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#843746" title="object Types.this.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#852945" title="Types.this.Type">tp1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#478927" title="(tp: Types.this.Type)Boolean">isSingleType</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478927" title="(tp: Types.this.Type)Boolean">isSingleType</a><span class="delimiter">(</span><a href="#852946" title="Types.this.Type">tp2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478928" title="(tp: Types.this.Type)Boolean">isConstantType</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478928" title="(tp: Types.this.Type)Boolean">isConstantType</a><span class="delimiter">(</span><a href="#852946" title="Types.this.Type">tp2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#852945" title="Types.this.Type">tp1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#852946" title="Types.this.Type">tp2</a>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a>.<a href="#507150" title="=&gt; Boolean">isHigherKinded</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#852946" title="Types.this.Type">tp2</a>.<a href="#507150" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#478929" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isHKSubType0</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a>, <a href="#852946" title="Types.this.Type">tp2</a>, <a href="#852947" title="Int">depth</a><span class="delimiter">)</span>

    <span class="comment">/** First try, on the right:
     *   - unwrap Annotated types, BoundedWildcardTypes,
     *   - bind TypeVars  on the right, if lhs is not Annotated nor BoundedWildcard
     *   - handle common cases for first-kind TypeRefs on both sides as a fast path.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="853203">firstTry</a> = <span class="delimiter">{</span> <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478625" title="=&gt; scala.tools.nsc.util.Statistics.Counter">ctr1</a><span class="delimiter">)</span>; <a href="#852946" title="Types.this.Type">tp2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="comment">// fast path: two typerefs, none of them HK</span>
      <span class="keyword">case</span> <a title="Boolean" id="853210">tr2</a>: <a href="#532591" title="Types.this.TypeRef">TypeRef</a> =&gt;
        <a href="#852945" title="Types.this.Type">tp1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="853211">tr1</a>: <a href="#532591" title="Types.this.TypeRef">TypeRef</a> =&gt;
            <span class="keyword">val</span> <a title="Types.this.Symbol" id="853212">sym1</a> = <a href="#853211" title="Types.this.TypeRef">tr1</a>.<a href="#532614" title="=&gt; Types.this.Symbol">sym</a>
            <span class="keyword">val</span> <a title="Types.this.Symbol" id="853213">sym2</a> = <a href="#853210" title="Types.this.TypeRef">tr2</a>.<a href="#532614" title="=&gt; Types.this.Symbol">sym</a>
            <span class="keyword">val</span> <a title="Types.this.Type" id="853214">pre1</a> = <a href="#853211" title="Types.this.TypeRef">tr1</a>.<a href="#532613" title="=&gt; Types.this.Type">pre</a>
            <span class="keyword">val</span> <a title="Types.this.Type" id="853215">pre2</a> = <a href="#853210" title="Types.this.TypeRef">tr2</a>.<a href="#532613" title="=&gt; Types.this.Type">pre</a>
            <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#853212" title="Types.this.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#853213" title="Types.this.Symbol">sym2</a><span class="delimiter">)</span> <a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#853214" title="Types.this.Type">pre1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853215" title="Types.this.Type">pre2</a>
               <span class="keyword">else</span> <span class="delimiter">(</span><a href="#853212" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#853213" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#853212" title="Types.this.Symbol">sym1</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#853213" title="Types.this.Symbol">sym2</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <span class="delimiter">(</span><a href="#478902" title="(pre1: Types.this.Type, pre2: Types.this.Type)Boolean">isUnifiable</a><span class="delimiter">(</span><a href="#853214" title="Types.this.Type">pre1</a>, <a href="#853215" title="Types.this.Type">pre2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478903" title="(sym1: Types.this.Symbol, sym2: Types.this.Symbol, pre1: Types.this.Type, pre2: Types.this.Type)Boolean">isSameSpecializedSkolem</a><span class="delimiter">(</span><a href="#853212" title="Types.this.Symbol">sym1</a>, <a href="#853213" title="Types.this.Symbol">sym2</a>, <a href="#853214" title="Types.this.Type">pre1</a>, <a href="#853215" title="Types.this.Type">pre2</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                    <a href="#478938" title="(tps1: List[Types.this.Type], tps2: List[Types.this.Type], tparams: List[Types.this.Symbol])Boolean">isSubArgs</a><span class="delimiter">(</span><a href="#853211" title="Types.this.TypeRef">tr1</a>.<a href="#532615" title="=&gt; List[Types.this.Type]">args</a>, <a href="#853210" title="Types.this.TypeRef">tr2</a>.<a href="#532615" title="=&gt; List[Types.this.Type]">args</a>, <a href="#853212" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a><span class="delimiter">)</span><span class="delimiter">)</span>
             <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
             <a href="#853213" title="Types.this.Symbol">sym2</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
               <span class="keyword">val</span> <a title="Types.this.Type" id="853225">base</a> = <a href="#853211" title="Types.this.TypeRef">tr1</a> <a href="#532583" title="(clazz: Types.this.Symbol)Types.this.Type">baseType</a> <a href="#853213" title="Types.this.Symbol">sym2</a>
               <span class="delimiter">(</span><a href="#853225" title="Types.this.Type">base</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#853211" title="Types.this.TypeRef">tr1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#853225" title="Types.this.Type">base</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853210" title="Types.this.TypeRef">tr2</a>
             <span class="delimiter">}</span>
             <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
             <a href="#853205" title="(tp1: Types.this.Type, tp2: Types.this.TypeRef)Boolean">thirdTryRef</a><span class="delimiter">(</span><a href="#853211" title="Types.this.TypeRef">tr1</a>, <a href="#853210" title="Types.this.TypeRef">tr2</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
            <a href="#853204" title="=&gt; Boolean">secondTry</a>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
        <a href="#852945" title="Types.this.Type">tp1</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#852946" title="Types.this.Type">tp2</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="AnnotationCheckers.scala.html#479101" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">annotationsConform</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a>, <a href="#852946" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">BoundedWildcardType</span><span class="delimiter">(</span><a title="Types.this.TypeBounds" id="853334">bounds</a><span class="delimiter">)</span> =&gt;
        <a href="#852945" title="Types.this.Type">tp1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853334" title="Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a>
      <span class="keyword">case</span> <a title="Boolean" id="853335">tv2</a> @ <a href="#841808" title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span>_, <a title="Types.this.TypeConstraint" id="853337">constr2</a><span class="delimiter">)</span> =&gt;
        <a href="#852945" title="Types.this.Type">tp1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> | BoundedWildcardType<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#853204" title="=&gt; Boolean">secondTry</a>
          <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
            <a href="#853335" title="Types.this.TypeVar">tv2</a>.<a href="#841842" title="(tp: Types.this.Type, isLowerBound: Boolean, isNumericBound: Boolean)Boolean">registerBound</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="#853204" title="=&gt; Boolean">secondTry</a>
    <span class="delimiter">}</span><span class="delimiter">}</span>

    <span class="comment">/** Second try, on the left:
     *   - unwrap AnnotatedTypes, BoundedWildcardTypes,
     *   - bind typevars,
     *   - handle existential types by skolemization.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="853204">secondTry</a> = <span class="delimiter">{</span> <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478627" title="=&gt; scala.tools.nsc.util.Statistics.Counter">ctr2</a><span class="delimiter">)</span>; <a href="#852945" title="Types.this.Type">tp1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
        <a href="#852945" title="Types.this.Type">tp1</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#852946" title="Types.this.Type">tp2</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="AnnotationCheckers.scala.html#479101" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">annotationsConform</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a>, <a href="#852946" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">BoundedWildcardType</span><span class="delimiter">(</span><a title="Types.this.TypeBounds" id="853230">bounds</a><span class="delimiter">)</span> =&gt;
        <a href="#852945" title="Types.this.Type">tp1</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#852946" title="Types.this.Type">tp2</a>
      <span class="keyword">case</span> <a title="Boolean" id="853231">tv</a> @ <a href="#841808" title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span>_,_<span class="delimiter">)</span> =&gt;
        <a href="#853231" title="Types.this.TypeVar">tv</a>.<a href="#841842" title="(tp: Types.this.Type, isLowerBound: Boolean, isNumericBound: Boolean)Boolean">registerBound</a><span class="delimiter">(</span><a href="#852946" title="Types.this.Type">tp2</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#478709" title="(x$1: Int)Unit">skolemizationLevel</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <a href="#852945" title="Types.this.Type">tp1</a>.<a href="#507187" title="=&gt; Types.this.Type">skolemizeExistential</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#852946" title="Types.this.Type">tp2</a>
        <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
          <a href="#478709" title="(x$1: Int)Unit">skolemizationLevel</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="#853206" title="=&gt; Boolean">thirdTry</a>
    <span class="delimiter">}</span><span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.TypeRef)Boolean" id="853205">thirdTryRef</a><span class="delimiter">(</span><a title="Types.this.Type" id="853226">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.TypeRef" id="853227">tp2</a>: <a href="#532591" title="Types.this.TypeRef">TypeRef</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478629" title="=&gt; scala.tools.nsc.util.Statistics.Counter">ctr3</a><span class="delimiter">)</span>;
      <span class="keyword">val</span> <a title="Types.this.Symbol" id="853338">sym2</a> = <a href="#853227" title="Types.this.TypeRef">tp2</a>.<a href="#532614" title="=&gt; Types.this.Symbol">sym</a>
      <a href="#853338" title="Types.this.Symbol">sym2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="Definitions.scala.html#508041" title="Boolean">NotNullClass</a> =&gt; <a href="#853226" title="Types.this.Type">tp1</a>.<a href="#507153" title="=&gt; Boolean">isNotNull</a>
        <span class="keyword">case</span> <a href="Definitions.scala.html#508049" title="Boolean">SingletonClass</a> =&gt; <a href="#853226" title="Types.this.Type">tp1</a>.<a href="#507151" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#853207" title="=&gt; Boolean">fourthTry</a>
        <span class="keyword">case</span> <span title="Boolean">_</span>: <a href="Symbols.scala.html#478665" title="Types.this.ClassSymbol">ClassSymbol</a> =&gt;
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#478854" title="(sym: Types.this.Symbol, args: List[Types.this.Type])Boolean">isRaw</a><span class="delimiter">(</span><a href="#853338" title="Types.this.Symbol">sym2</a>, <a href="#853227" title="Types.this.TypeRef">tp2</a>.<a href="#532615" title="=&gt; List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#478923" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType</a><span class="delimiter">(</span><a href="#853226" title="Types.this.Type">tp1</a>, <a href="#652146" title="(tp: Types.this.Type)Types.this.Type">rawToExistential</a><span class="delimiter">(</span><a href="#853227" title="Types.this.TypeRef">tp2</a><span class="delimiter">)</span>, <a href="#852947" title="Int">depth</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#853338" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="StdNames.scala.html#479051" title="object Types.this.tpnme">tpnme</a>.<a href="../../../reflect/generic/StdNames.scala.html#440114" title="=&gt; Types.this.tpnme.NameType">REFINE_CLASS_NAME</a><span class="delimiter">)</span>
            <a href="#478923" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType</a><span class="delimiter">(</span><a href="#853226" title="Types.this.Type">tp1</a>, <a href="#853338" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>, <a href="#852947" title="Int">depth</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#853207" title="=&gt; Boolean">fourthTry</a>
        <span class="keyword">case</span> <span title="Boolean">_</span>: <a href="Symbols.scala.html#478663" title="Types.this.TypeSymbol">TypeSymbol</a> =&gt;
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#853338" title="Types.this.Symbol">sym2</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Types.this.Type" id="853354">tp2a</a> = <a href="#853227" title="Types.this.TypeRef">tp2</a>.<a href="#532564" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a>
            <a href="#478907" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isDifferentTypeConstructor</a><span class="delimiter">(</span><a href="#853227" title="Types.this.TypeRef">tp2</a>, <a href="#853354" title="Types.this.Type">tp2a</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#853226" title="Types.this.Type">tp1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853354" title="Types.this.Type">tp2a</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#853207" title="=&gt; Boolean">fourthTry</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#478923" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType</a><span class="delimiter">(</span><a href="#853226" title="Types.this.Type">tp1</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>, <a href="#853227" title="Types.this.TypeRef">tp2</a>.<a href="#532581" title="=&gt; Types.this.Type">normalize</a>, <a href="#852947" title="Int">depth</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
          <a href="#853207" title="=&gt; Boolean">fourthTry</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Third try, on the right:
     *   - decompose refined types.
     *   - handle typerefs, existentials, and notnull types.
     *   - handle left+right method types, polytypes, typebounds
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="853206">thirdTry</a> = <span class="delimiter">{</span> <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478629" title="=&gt; scala.tools.nsc.util.Statistics.Counter">ctr3</a><span class="delimiter">)</span>; <a href="#852946" title="Types.this.Type">tp2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="853245">tr2</a>: <a href="#532591" title="Types.this.TypeRef">TypeRef</a> =&gt;
        <a href="#853205" title="(tp1: Types.this.Type, tp2: Types.this.TypeRef)Boolean">thirdTryRef</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a>, <a href="#853245" title="Types.this.TypeRef">tr2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Boolean" id="853246">rt2</a>: <a href="#546655" title="Types.this.RefinedType">RefinedType</a> =&gt;
        <span class="delimiter">(</span><a href="#853246" title="Types.this.RefinedType">rt2</a>.<a href="#630991" title="=&gt; List[Types.this.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853253" title="Types.this.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">(</span><a href="#853246" title="Types.this.RefinedType">rt2</a>.<a href="#630992" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514371" title="=&gt; List[Types.this.Symbol]">toList</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">forall</a> <a href="#852945" title="Types.this.Type">tp1</a>.<a href="#507226" title="(sym: Types.this.Symbol)Boolean">specializes</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Boolean" id="853263">et2</a>: <a href="#547201" title="Types.this.ExistentialType">ExistentialType</a> =&gt;
        <a href="#853263" title="Types.this.ExistentialType">et2</a>.<a href="#547230" title="(op: Types.this.Type =&gt; Boolean, depth: Int)Boolean">withTypeVars</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853267" title="Types.this.Type">_</a>, <a href="#852947" title="Int">depth</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#853207" title="=&gt; Boolean">fourthTry</a>
      <span class="keyword">case</span> <a title="Boolean" id="853303">nn2</a>: <a href="#842637" title="Types.this.NotNullType">NotNullType</a> =&gt;
        <a href="#852945" title="Types.this.Type">tp1</a>.<a href="#507153" title="=&gt; Boolean">isNotNull</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#852945" title="Types.this.Type">tp1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853303" title="Types.this.NotNullType">nn2</a>.<a href="#842651" title="=&gt; Types.this.Type">underlying</a>
      <span class="keyword">case</span> <a title="Boolean" id="853304">mt2</a>: <a href="#546837" title="Types.this.MethodType">MethodType</a> =&gt;
        <a href="#852945" title="Types.this.Type">tp1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="853305">mt1</a> @ MethodType<span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853306">params1</a>, <a title="Types.this.Type" id="853307">res1</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="853308">params2</a> = <a href="#853304" title="Types.this.MethodType">mt2</a>.<a href="#549908" title="=&gt; List[Types.this.Symbol]">params</a>
            <span class="keyword">val</span> <a title="Types.this.Type" id="853309">res2</a> = <a href="#853304" title="Types.this.MethodType">mt2</a>.<a href="#549909" title="=&gt; Types.this.Type">resultType</a>
            <span class="delimiter">(</span><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#853306" title="List[Types.this.Symbol]">params1</a>, <a href="#853308" title="List[Types.this.Symbol]">params2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
             <a href="#478945" title="(syms1: List[Types.this.Symbol], syms2: List[Types.this.Symbol], syms1isJava: Boolean, syms2isJava: Boolean)Boolean">matchingParams</a><span class="delimiter">(</span><a href="#853306" title="List[Types.this.Symbol]">params1</a>, <a href="#853308" title="List[Types.this.Symbol]">params2</a>, <a href="#853305" title="Types.this.MethodType">mt1</a>.<a href="#546849" title="=&gt; Boolean">isJava</a>, <a href="#853304" title="Types.this.MethodType">mt2</a>.<a href="#546849" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
             <span class="delimiter">(</span><a href="#853307" title="Types.this.Type">res1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853309" title="Types.this.Type">res2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
             <a href="#853305" title="Types.this.MethodType">mt1</a>.<a href="#546848" title="=&gt; Boolean">isImplicit</a> <a href="../../../Boolean.scala.html#55577" title="(x: Boolean)Boolean">==</a> <a href="#853304" title="Types.this.MethodType">mt2</a>.<a href="#546848" title="=&gt; Boolean">isImplicit</a><span class="delimiter">)</span>
          <span class="comment">// TODO: if mt1.params.isEmpty, consider NullaryMethodType?</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
            <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="Boolean" id="853324">pt2</a> @ NullaryMethodType<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
        <a href="#852945" title="Types.this.Type">tp1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="comment">// TODO: consider MethodType mt for which mt.params.isEmpty??</span>
          <span class="keyword">case</span> <a title="Boolean" id="853325">pt1</a> @ NullaryMethodType<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#853325" title="Types.this.NullaryMethodType">pt1</a>.<a href="#816810" title="=&gt; Types.this.Type">resultType</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853324" title="Types.this.NullaryMethodType">pt2</a>.<a href="#816810" title="=&gt; Types.this.Type">resultType</a>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
            <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">TypeBounds</span><span class="delimiter">(</span><a title="Types.this.Type" id="853330">lo2</a>, <a title="Types.this.Type" id="853331">hi2</a><span class="delimiter">)</span> =&gt;
        <a href="#852945" title="Types.this.Type">tp1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">TypeBounds</span><span class="delimiter">(</span><a title="Types.this.Type" id="853332">lo1</a>, <a title="Types.this.Type" id="853333">hi1</a><span class="delimiter">)</span> =&gt;
            <a href="#853330" title="Types.this.Type">lo2</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853332" title="Types.this.Type">lo1</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#853333" title="Types.this.Type">hi1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853331" title="Types.this.Type">hi2</a>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
            <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="#853207" title="=&gt; Boolean">fourthTry</a>
    <span class="delimiter">}</span><span class="delimiter">}</span>

    <span class="comment">/** Fourth try, on the left:
     *   - handle typerefs, refined types, notnull and singleton types.
     */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="853207">fourthTry</a> = <span class="delimiter">{</span> <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478631" title="=&gt; scala.tools.nsc.util.Statistics.Counter">ctr4</a><span class="delimiter">)</span>; <a href="#852945" title="Types.this.Type">tp1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="853270">tr1</a> @ TypeRef<span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="853271">sym1</a>, _<span class="delimiter">)</span> =&gt;
        <a href="#853271" title="Types.this.Symbol">sym1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="Definitions.scala.html#507933" title="Boolean(true)">NothingClass</a> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <a href="Definitions.scala.html#507931" title="Boolean">NullClass</a> =&gt;
            <a href="#852946" title="Types.this.Type">tp2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="853272">sym2</a>, _<span class="delimiter">)</span> =&gt;
                <a href="#853272" title="Types.this.Symbol">sym2</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#853272" title="Types.this.Symbol">sym2</a> <a href="Symbols.scala.html#509296" title="(that: Types.this.Symbol)Boolean">isNonBottomSubClass</a> <a href="Definitions.scala.html#507925" title="=&gt; Types.this.Symbol">ObjectClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#852946" title="Types.this.Type">tp2</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="Symbols.scala.html#509296" title="(that: Types.this.Symbol)Boolean">isNonBottomSubClass</a> <a href="Definitions.scala.html#508041" title="=&gt; Types.this.Symbol">NotNullClass</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
                <a href="#478927" title="(tp: Types.this.Type)Boolean">isSingleType</a><span class="delimiter">(</span><a href="#852946" title="Types.this.Type">tp2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#852945" title="Types.this.Type">tp1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#852946" title="Types.this.Type">tp2</a>.<a href="#507163" title="=&gt; Types.this.Type">widen</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Boolean">_</span>: <a href="Symbols.scala.html#478665" title="Types.this.ClassSymbol">ClassSymbol</a> =&gt;
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#478854" title="(sym: Types.this.Symbol, args: List[Types.this.Type])Boolean">isRaw</a><span class="delimiter">(</span><a href="#853271" title="Types.this.Symbol">sym1</a>, <a href="#853270" title="Types.this.TypeRef">tr1</a>.<a href="#532615" title="=&gt; List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#478923" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType</a><span class="delimiter">(</span><a href="#652146" title="(tp: Types.this.Type)Types.this.Type">rawToExistential</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a><span class="delimiter">)</span>, <a href="#852946" title="Types.this.Type">tp2</a>, <a href="#852947" title="Int">depth</a><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#853271" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="StdNames.scala.html#479051" title="object Types.this.tpnme">tpnme</a>.<a href="../../../reflect/generic/StdNames.scala.html#440114" title="=&gt; Types.this.tpnme.NameType">REFINE_CLASS_NAME</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="#478923" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType</a><span class="delimiter">(</span><a href="#853271" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>, <a href="#852946" title="Types.this.Type">tp2</a>, <a href="#852947" title="Int">depth</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">_</span>: <a href="Symbols.scala.html#478663" title="Types.this.TypeSymbol">TypeSymbol</a> =&gt;
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#853271" title="Types.this.Symbol">sym1</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Types.this.Type" id="853290">tp1a</a> = <a href="#852945" title="Types.this.Type">tp1</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a>
              <a href="#478907" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isDifferentTypeConstructor</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a>, <a href="#853290" title="Types.this.Type">tp1a</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#853290" title="Types.this.Type">tp1a</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#852946" title="Types.this.Type">tp2</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#478923" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType</a><span class="delimiter">(</span><a href="#852945" title="Types.this.Type">tp1</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>, <a href="#852946" title="Types.this.Type">tp2</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>, <a href="#852947" title="Int">depth</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
            <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">RefinedType</span><span class="delimiter">(</span><a title="List[Types.this.Type]" id="853295">parents1</a>, _<span class="delimiter">)</span> =&gt;
        <a href="#853295" title="List[Types.this.Type]">parents1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#853302" title="Types.this.Type">_</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#852946" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span>: <a href="#478726" title="Types.this.SingletonType">SingletonType</a> | _: <a href="#842637" title="Types.this.NotNullType">NotNullType</a> =&gt;
        <a href="#852945" title="Types.this.Type">tp1</a>.<a href="#507162" title="=&gt; Types.this.Type">underlying</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#852946" title="Types.this.Type">tp2</a>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span><span class="delimiter">}</span>

    <a href="#853203" title="=&gt; Boolean">firstTry</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Are `tps1' and `tps2' lists of equal length such
   *  that all elements of `tps1' conform to corresponding elements
   *  of `tps2'?
   */</span>
  <span class="keyword">def</span> <a title="(tps1: List[Types.this.Type], tps2: List[Types.this.Type])Boolean" id="478941">isSubTypes</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="853359">tps1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="853360">tps2</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">(</span><a href="#853359" title="List[Types.this.Type]">tps1</a> <a href="../../../collection/SeqLike.scala.html#54171" title="(that: scala.collection.GenSeq[Types.this.Type])(p: (Types.this.Type, Types.this.Type) =&gt; Boolean)Boolean">corresponds</a> <a href="#853360" title="List[Types.this.Type]">tps2</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#853375" title="Types.this.Type">_</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853376" title="Types.this.Type">_</a><span class="delimiter">)</span>

  <span class="comment">/** Does type `tp' implement symbol `sym' with same or
   *  stronger type? Exact only if `sym' is a member of some
   *  refinement type, otherwise we might return false negatives.
   */</span>
  <span class="keyword">def</span> <a title="(tp: Types.this.Type, sym: Types.this.Symbol)Boolean" id="478942">specializesSym</a><span class="delimiter">(</span><a title="Types.this.Type" id="843086">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="843087">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
    <a href="#843086" title="Types.this.Type">tp</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
    <a href="#843086" title="Types.this.Type">tp</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507931" title="=&gt; Types.this.Symbol">NullClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#843087" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a> <a href="Symbols.scala.html#509297" title="(that: Types.this.Symbol)Boolean">isSubClass</a> <a href="Definitions.scala.html#507925" title="=&gt; Types.this.Symbol">ObjectClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
    <span class="delimiter">(</span><a href="#843086" title="Types.this.Type">tp</a>.<a href="#507201" title="(name: Types.this.Name)Types.this.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#843087" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>.<a href="Symbols.scala.html#509299" title="=&gt; List[Types.this.Symbol]">alternatives</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">exists</a>
      <span class="delimiter">(</span><a title="Types.this.Symbol" id="853395">alt</a> =&gt; <a href="#843087" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#853395" title="Types.this.Symbol">alt</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#478943" title="(tp1: Types.this.Type, sym1: Types.this.Symbol, tp2: Types.this.Type, sym2: Types.this.Symbol)Boolean">specializesSym</a><span class="delimiter">(</span><a href="#843086" title="Types.this.Type">tp</a>.<a href="#507166" title="=&gt; Types.this.Type">narrow</a>, <a href="#853395" title="Types.this.Symbol">alt</a>, <a href="#843087" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>.<a href="Symbols.scala.html#509308" title="=&gt; Types.this.Type">thisType</a>, <a href="#843087" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Does member `sym1' of `tp1' have a stronger type
   *  than member `sym2' of `tp2'?
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp1: Types.this.Type, sym1: Types.this.Symbol, tp2: Types.this.Type, sym2: Types.this.Symbol)Boolean" id="478943">specializesSym</a><span class="delimiter">(</span><a title="Types.this.Type" id="843081">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="843082">sym1</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Type" id="843083">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="843084">sym2</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Types.this.Type" id="853404">info1</a> = <a href="#843081" title="Types.this.Type">tp1</a>.<a href="#507206" title="(sym: Types.this.Symbol)Types.this.Type">memberInfo</a><span class="delimiter">(</span><a href="#843082" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Types.this.Type" id="853405">info2</a> = <a href="#843083" title="Types.this.Type">tp2</a>.<a href="#507206" title="(sym: Types.this.Symbol)Types.this.Type">memberInfo</a><span class="delimiter">(</span><a href="#843084" title="Types.this.Symbol">sym2</a><span class="delimiter">)</span>.<a href="#507211" title="(from: Types.this.Symbol, to: Types.this.Type)Types.this.Type">substThis</a><span class="delimiter">(</span><a href="#843083" title="Types.this.Type">tp2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>, <a href="#843081" title="Types.this.Type">tp1</a><span class="delimiter">)</span>
    <span class="comment">//System.out.println(&quot;specializes &quot;+tp1+&quot;.&quot;+sym1+&quot;:&quot;+info1+sym1.locationString+&quot; AND &quot;+tp2+&quot;.&quot;+sym2+&quot;:&quot;+info2)//DEBUG</span>
    <a href="#843084" title="Types.this.Symbol">sym2</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#853404" title="Types.this.Type">info1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#853405" title="Types.this.Type">info2</a><span class="delimiter">)</span> <span class="comment">/*&amp;&amp; (!sym2.isStable || sym1.isStable) */</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
    <a href="#843084" title="Types.this.Symbol">sym2</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="853406">memberTp1</a> = <a href="#843081" title="Types.this.Type">tp1</a>.<a href="#507207" title="(sym: Types.this.Symbol)Types.this.Type">memberType</a><span class="delimiter">(</span><a href="#843082" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span>
      <span class="comment">// println(&quot;kinds conform? &quot;+(memberTp1, tp1, sym2, kindsConform(List(sym2), List(memberTp1), tp2, sym2.owner)))</span>
      <a href="#853405" title="Types.this.Type">info2</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546592" title="(that: Types.this.Type)Boolean">containsType</a><span class="delimiter">(</span><a href="#853406" title="Types.this.Type">memberTp1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#478996" title="(tparams: List[Types.this.Symbol], targs: List[Types.this.Type], pre: Types.this.Type, owner: Types.this.Symbol)Boolean">kindsConform</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Symbol*)List[Types.this.Symbol]">List</a><span class="delimiter">(</span><a href="#843084" title="Types.this.Symbol">sym2</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Type*)List[Types.this.Type]">List</a><span class="delimiter">(</span><a href="#853406" title="Types.this.Type">memberTp1</a><span class="delimiter">)</span>, <a href="#843081" title="Types.this.Type">tp1</a>, <a href="#843082" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
    <a href="#843084" title="Types.this.Symbol">sym2</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#843083" title="Types.this.Type">tp2</a>.<a href="#507207" title="(sym: Types.this.Symbol)Types.this.Type">memberType</a><span class="delimiter">(</span><a href="#843084" title="Types.this.Symbol">sym2</a><span class="delimiter">)</span>.<a href="#507211" title="(from: Types.this.Symbol, to: Types.this.Type)Types.this.Type">substThis</a><span class="delimiter">(</span><a href="#843083" title="Types.this.Type">tp2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>, <a href="#843081" title="Types.this.Type">tp1</a><span class="delimiter">)</span> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#843081" title="Types.this.Type">tp1</a>.<a href="#507207" title="(sym: Types.this.Symbol)Types.this.Type">memberType</a><span class="delimiter">(</span><a href="#843082" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span> <span class="comment">//@MAT ok</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A function implementing `tp1' matches `tp2' */</span>
  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean" id="478944">matchesType</a><span class="delimiter">(</span><a title="Types.this.Type" id="711734">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="711735">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Boolean" id="711736">alwaysMatchSimple</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tparams1: List[Types.this.Symbol], tparams2: List[Types.this.Symbol], res1: Types.this.Type, res2: Types.this.Type)Boolean" id="853426">matchesQuantified</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853428">tparams1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="853429">tparams2</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Types.this.Type" id="853430">res1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="853431">res2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">(</span>
      <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#853428" title="List[Types.this.Symbol]">tparams1</a>, <a href="#853429" title="List[Types.this.Symbol]">tparams2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#853430" title="Types.this.Type">res1</a>, <a href="#853431" title="Types.this.Type">res2</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#853429" title="List[Types.this.Symbol]">tparams2</a>, <a href="#853428" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#711736" title="Boolean">alwaysMatchSimple</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="853427">lastTry</a> =
      <a href="#711735" title="Types.this.Type">tp2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Types.this.Type" id="853434">res2</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#711736" title="Boolean">alwaysMatchSimple</a> =&gt;
          <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#711734" title="Types.this.Type">tp1</a>, <a href="#853434" title="Types.this.Type">res2</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(false)">MethodType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853435">tparams2</a>, <a title="Types.this.Type" id="853436">res2</a><span class="delimiter">)</span> =&gt;
          <a href="#853435" title="List[Types.this.Symbol]">tparams2</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#711734" title="Types.this.Type">tp1</a>, <a href="#853436" title="Types.this.Type">res2</a>, <a href="#711736" title="Boolean">alwaysMatchSimple</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
          <a href="#711736" title="Boolean">alwaysMatchSimple</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#711734" title="Types.this.Type">tp1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#711735" title="Types.this.Type">tp2</a>
      <span class="delimiter">}</span>
    <a href="#711734" title="Types.this.Type">tp1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Boolean" id="853437">mt1</a> @ MethodType<span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853438">params1</a>, <a title="Types.this.Type" id="853439">res1</a><span class="delimiter">)</span> =&gt;
        <a href="#711735" title="Types.this.Type">tp2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="853440">mt2</a> @ MethodType<span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853441">params2</a>, <a title="Types.this.Type" id="853442">res2</a><span class="delimiter">)</span> =&gt;
            <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#853438" title="List[Types.this.Symbol]">params1</a>, <a href="#853441" title="List[Types.this.Symbol]">params2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="comment">// useful pre-screening optimization</span>
            <a href="#478945" title="(syms1: List[Types.this.Symbol], syms2: List[Types.this.Symbol], syms1isJava: Boolean, syms2isJava: Boolean)Boolean">matchingParams</a><span class="delimiter">(</span><a href="#853438" title="List[Types.this.Symbol]">params1</a>, <a href="#853441" title="List[Types.this.Symbol]">params2</a>, <a href="#853437" title="Types.this.MethodType">mt1</a>.<a href="#546849" title="=&gt; Boolean">isJava</a>, <a href="#853440" title="Types.this.MethodType">mt2</a>.<a href="#546849" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#853439" title="Types.this.Type">res1</a>, <a href="#853442" title="Types.this.Type">res2</a>, <a href="#711736" title="Boolean">alwaysMatchSimple</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#853437" title="Types.this.MethodType">mt1</a>.<a href="#546848" title="=&gt; Boolean">isImplicit</a> <a href="../../../Boolean.scala.html#55577" title="(x: Boolean)Boolean">==</a> <a href="#853440" title="Types.this.MethodType">mt2</a>.<a href="#546848" title="=&gt; Boolean">isImplicit</a>
          <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Types.this.Type" id="853450">res2</a><span class="delimiter">)</span> =&gt;
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#853438" title="List[Types.this.Symbol]">params1</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#853439" title="Types.this.Type">res1</a>, <a href="#853450" title="Types.this.Type">res2</a>, <a href="#711736" title="Boolean">alwaysMatchSimple</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#711734" title="Types.this.Type">tp1</a>, <a href="#853450" title="Types.this.Type">res2</a>, <a href="#711736" title="Boolean">alwaysMatchSimple</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Types.this.Type" id="853451">res2</a><span class="delimiter">)</span> =&gt;
            <a href="#711736" title="Boolean">alwaysMatchSimple</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#711734" title="Types.this.Type">tp1</a>, <a href="#853451" title="Types.this.Type">res2</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
            <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="Boolean" id="853452">mt1</a> @ NullaryMethodType<span class="delimiter">(</span><a title="Types.this.Type" id="853453">res1</a><span class="delimiter">)</span> =&gt;
        <a href="#711735" title="Types.this.Type">tp2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="853454">mt2</a> @ MethodType<span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a title="Types.this.Type" id="853455">res2</a><span class="delimiter">)</span>  =&gt; <span class="comment">// could never match if params nonEmpty, and !mt2.isImplicit is implied by empty param list</span>
            <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#853453" title="Types.this.Type">res1</a>, <a href="#853455" title="Types.this.Type">res2</a>, <a href="#711736" title="Boolean">alwaysMatchSimple</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Types.this.Type" id="853456">res2</a><span class="delimiter">)</span> =&gt;
            <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#853453" title="Types.this.Type">res1</a>, <a href="#853456" title="Types.this.Type">res2</a>, <a href="#711736" title="Boolean">alwaysMatchSimple</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Types.this.Type" id="853457">res2</a><span class="delimiter">)</span> =&gt;
            <a href="#711736" title="Boolean">alwaysMatchSimple</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#711734" title="Types.this.Type">tp1</a>, <a href="#853457" title="Types.this.Type">res2</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
            <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#853453" title="Types.this.Type">res1</a>, <a href="#711735" title="Types.this.Type">tp2</a>, <a href="#711736" title="Boolean">alwaysMatchSimple</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853458">tparams1</a>, <a title="Types.this.Type" id="853459">res1</a><span class="delimiter">)</span> =&gt;
        <a href="#711735" title="Types.this.Type">tp2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853460">tparams2</a>, <a title="Types.this.Type" id="853461">res2</a><span class="delimiter">)</span> =&gt;
            <a href="#853426" title="(tparams1: List[Types.this.Symbol], tparams2: List[Types.this.Symbol], res1: Types.this.Type, res2: Types.this.Type)Boolean">matchesQuantified</a><span class="delimiter">(</span><a href="#853458" title="List[Types.this.Symbol]">tparams1</a>, <a href="#853460" title="List[Types.this.Symbol]">tparams2</a>, <a href="#853459" title="Types.this.Type">res1</a>, <a href="#853461" title="Types.this.Type">res2</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Types.this.Type" id="853462">res2</a><span class="delimiter">)</span> =&gt;
            <a href="#711736" title="Boolean">alwaysMatchSimple</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#711734" title="Types.this.Type">tp1</a>, <a href="#853462" title="Types.this.Type">res2</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
            <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// remember that tparams1.nonEmpty is now an invariant of PolyType</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853463">tparams1</a>, <a title="Types.this.Type" id="853464">res1</a><span class="delimiter">)</span> =&gt;
        <a href="#711735" title="Types.this.Type">tp2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853465">tparams2</a>, <a title="Types.this.Type" id="853466">res2</a><span class="delimiter">)</span> =&gt;
            <a href="#853426" title="(tparams1: List[Types.this.Symbol], tparams2: List[Types.this.Symbol], res1: Types.this.Type, res2: Types.this.Type)Boolean">matchesQuantified</a><span class="delimiter">(</span><a href="#853463" title="List[Types.this.Symbol]">tparams1</a>, <a href="#853465" title="List[Types.this.Symbol]">tparams2</a>, <a href="#853464" title="Types.this.Type">res1</a>, <a href="#853466" title="Types.this.Type">res2</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
            <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#711736" title="Boolean">alwaysMatchSimple</a><span class="delimiter">)</span> <a href="#478944" title="(tp1: Types.this.Type, tp2: Types.this.Type, alwaysMatchSimple: Boolean)Boolean">matchesType</a><span class="delimiter">(</span><a href="#853464" title="Types.this.Type">res1</a>, <a href="#711735" title="Types.this.Type">tp2</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#853427" title="=&gt; Boolean">lastTry</a>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="#853427" title="=&gt; Boolean">lastTry</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

<span class="comment">/** matchesType above is an optimized version of the following implementation:

  def matchesType2(tp1: Type, tp2: Type, alwaysMatchSimple: Boolean): Boolean = {
    def matchesQuantified(tparams1: List[Symbol], tparams2: List[Symbol], res1: Type, res2: Type): Boolean =
      tparams1.length == tparams2.length &amp;&amp;
      matchesType(res1, res2.substSym(tparams2, tparams1), alwaysMatchSimple)
    (tp1, tp2) match {
      case (MethodType(params1, res1), MethodType(params2, res2)) =&gt;
        params1.length == params2.length &amp;&amp; // useful pre-secreening optimization
        matchingParams(params1, params2, tp1.isInstanceOf[JavaMethodType], tp2.isInstanceOf[JavaMethodType]) &amp;&amp;
        matchesType(res1, res2, alwaysMatchSimple) &amp;&amp;
        tp1.isImplicit == tp2.isImplicit
      case (PolyType(tparams1, res1), PolyType(tparams2, res2)) =&gt;
        matchesQuantified(tparams1, tparams2, res1, res2)
      case (NullaryMethodType(rtp1), MethodType(List(), rtp2)) =&gt;
        matchesType(rtp1, rtp2, alwaysMatchSimple)
      case (MethodType(List(), rtp1), NullaryMethodType(rtp2)) =&gt;
        matchesType(rtp1, rtp2, alwaysMatchSimple)
      case (ExistentialType(tparams1, res1), ExistentialType(tparams2, res2)) =&gt;
        matchesQuantified(tparams1, tparams2, res1, res2)
      case (ExistentialType(_, res1), _) if alwaysMatchSimple =&gt;
        matchesType(res1, tp2, alwaysMatchSimple)
      case (_, ExistentialType(_, res2)) if alwaysMatchSimple =&gt;
        matchesType(tp1, res2, alwaysMatchSimple)
      case (NullaryMethodType(rtp1), _) =&gt;
        matchesType(rtp1, tp2, alwaysMatchSimple)
      case (_, NullaryMethodType(rtp2)) =&gt;
        matchesType(tp1, rtp2, alwaysMatchSimple)
      case (MethodType(_, _), _) =&gt; false
      case (PolyType(_, _), _)   =&gt; false
      case (_, MethodType(_, _)) =&gt; false
      case (_, PolyType(_, _))   =&gt; false
      case _ =&gt;
        alwaysMatchSimple || tp1 =:= tp2
    }
  }
*/</span>

  <span class="comment">/** Are `syms1' and `syms2' parameter lists with pairwise equivalent types? */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(syms1: List[Types.this.Symbol], syms2: List[Types.this.Symbol], syms1isJava: Boolean, syms2isJava: Boolean)Boolean" id="478945">matchingParams</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853314">syms1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="853315">syms2</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Boolean" id="853316">syms1isJava</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a>, <a title="Boolean" id="853317">syms2isJava</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#853314" title="List[Types.this.Symbol]">syms1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="Boolean">Nil</a> =&gt;
      <a href="#853315" title="List[Types.this.Symbol]">syms2</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a>
    <span class="keyword">case</span> <a title="Boolean" id="853471">sym1</a> :: <a title="List[Types.this.Symbol]" id="853472">rest1</a> =&gt;
      <a href="#853315" title="List[Types.this.Symbol]">syms2</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="Boolean(false)">Nil</a> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">case</span> <a title="Boolean" id="853477">sym2</a> :: <a title="List[Types.this.Symbol]" id="853478">rest2</a> =&gt;
          <span class="keyword">val</span> <a title="Types.this.Type" id="853479">tp1</a> = <a href="#853471" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
          <span class="keyword">val</span> <a title="Types.this.Type" id="853480">tp2</a> = <a href="#853477" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
          <span class="delimiter">(</span><a href="#853479" title="Types.this.Type">tp1</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#853480" title="Types.this.Type">tp2</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
           <a href="#853316" title="Boolean">syms1isJava</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#853480" title="Types.this.Type">tp2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507925" title="=&gt; Types.this.Symbol">ObjectClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#853479" title="Types.this.Type">tp1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
           <a href="#853317" title="Boolean">syms2isJava</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#853479" title="Types.this.Type">tp1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507925" title="=&gt; Types.this.Symbol">ObjectClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#853480" title="Types.this.Type">tp2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="#478945" title="(syms1: List[Types.this.Symbol], syms2: List[Types.this.Symbol], syms1isJava: Boolean, syms2isJava: Boolean)Boolean">matchingParams</a><span class="delimiter">(</span><a href="#853472" title="List[Types.this.Symbol]">rest1</a>, <a href="#853478" title="List[Types.this.Symbol]">rest2</a>, <a href="#853316" title="Boolean">syms1isJava</a>, <a href="#853317" title="Boolean">syms2isJava</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** like map2, but returns list `xs' itself - instead of a copy - if function
   *  `f' maps all elements to themselves.
   */</span>
  <span class="keyword">def</span> <a title="[A &lt;: AnyRef, B](xs: List[A], ys: List[B])(f: (A, B) =&gt; A)List[A]" id="478946">map2Conserve</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: AnyRef" id="478949">A</a> &lt;: AnyRef, <a title="&gt;: Nothing &lt;: Any" id="478950">B</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[A]" id="849547">xs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[A]">List</a><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="List[B]" id="849548">ys</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[B]">List</a><span class="delimiter">[</span>B<span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="(A, B) =&gt; A" id="849549">f</a>: <span class="delimiter">(</span>A, B<span class="delimiter">)</span> =&gt; A<span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[A]">List</a><span class="delimiter">[</span>A<span class="delimiter">]</span> =
    <span title="List[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#849547" title="List[A]">xs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#849547" title="List[A]">xs</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="A" id="853501">x1</a> = <a href="../../../Function2.scala.html#59852" title="(v1: A, v2: B)A">f</a><span class="delimiter">(</span><a href="#849547" title="List[A]">xs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; A">head</a>, <a href="#849548" title="List[B]">ys</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; B">head</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[A]" id="853502">xs1</a> = <a href="#478946" title="(xs: List[A], ys: List[B])(f: (A, B) =&gt; A)List[A]">map2Conserve</a><span class="delimiter">(</span><a href="#849547" title="List[A]">xs</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[A]">tail</a>, <a href="#849548" title="List[B]">ys</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[B]">tail</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#849549" title="(A, B) =&gt; A">f</a><span class="delimiter">)</span>
      <span title="List[A]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#853501" title="A">x1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849547" title="List[A]">xs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; A">head</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#853502" title="List[A]">xs1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#849547" title="List[A]">xs</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[A]">tail</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#849547" title="List[A]">xs</a>
      <span class="keyword">else</span> <a href="#853501" title="A">x1</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: A)List[A]">::</a> <a href="#853502" title="List[A]">xs1</a>
    <span class="delimiter">}</span>

  <span class="comment">/** Solve constraint collected in types `tvars'.
   *
   *  @param tvars      All type variables to be instantiated.
   *  @param tparams    The type parameters corresponding to `tvars'
   *  @param variances  The variances of type parameters; need to reverse
   *                    solution direction for all contravariant variables.
   *  @param upper      When `true' search for max solution else min.
   */</span>
  <span class="keyword">def</span> <a title="(tvars: List[Types.this.TypeVar], tparams: List[Types.this.Symbol], variances: List[Int], upper: Boolean)Boolean" id="478951">solve</a><span class="delimiter">(</span><a title="List[Types.this.TypeVar]" id="847633">tvars</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.TypeVar]">List</a><span class="delimiter">[</span>TypeVar<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="847634">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
            <a title="List[Int]" id="847635">variances</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Int]">List</a><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Boolean" id="847636">upper</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
     <a href="#478952" title="(tvars: List[Types.this.TypeVar], tparams: List[Types.this.Symbol], variances: List[Int], upper: Boolean, depth: Int)Boolean">solve</a><span class="delimiter">(</span><a href="#847633" title="List[Types.this.TypeVar]">tvars</a>, <a href="#847634" title="List[Types.this.Symbol]">tparams</a>, <a href="#847635" title="List[Int]">variances</a>, <a href="#847636" title="Boolean">upper</a>, <span title="Int(-3)">AnyDepth</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tvars: List[Types.this.TypeVar], tparams: List[Types.this.Symbol], variances: List[Int], upper: Boolean, depth: Int)Boolean" id="478952">solve</a><span class="delimiter">(</span><a title="List[Types.this.TypeVar]" id="847627">tvars</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.TypeVar]">List</a><span class="delimiter">[</span>TypeVar<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="847628">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
            <a title="List[Int]" id="847629">variances</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Int]">List</a><span class="delimiter">[</span>Int<span class="delimiter">]</span>, <a title="Boolean" id="847630">upper</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a>, <a title="Int" id="847631">depth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[(Types.this.TypeVar, (Types.this.Symbol, Int))]" id="853539">config</a> = <a href="#847627" title="List[Types.this.TypeVar]">tvars</a> <a href="../../../collection/IterableLike.scala.html#53887" title="(that: scala.collection.GenIterable[(Types.this.Symbol, Int)])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.TypeVar],(Types.this.TypeVar, (Types.this.Symbol, Int)),List[(Types.this.TypeVar, (Types.this.Symbol, Int))]])List[(Types.this.TypeVar, (Types.this.Symbol, Int))]">zip</a> <span class="delimiter">(</span><a href="#847628" title="List[Types.this.Symbol]">tparams</a> <a href="../../../collection/IterableLike.scala.html#53887" title="(that: scala.collection.GenIterable[Int])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],(Types.this.Symbol, Int),List[(Types.this.Symbol, Int)]])List[(Types.this.Symbol, Int)]">zip</a> <a href="#847629" title="List[Int]">variances</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tvar: Types.this.TypeVar, tparam: Types.this.Symbol, variance: Int)Unit" id="853540">solveOne</a><span class="delimiter">(</span><a title="Types.this.TypeVar" id="853637">tvar</a>: <a href="#478797" title="Types.this.TypeVar">TypeVar</a>, <a title="Types.this.Symbol" id="853638">tparam</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Int" id="853639">variance</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#853637" title="Types.this.TypeVar">tvar</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="853645">up</a> = <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#853639" title="Int">variance</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(131072)">CONTRAVARIANT</span><span class="delimiter">)</span> <a href="#847630" title="Boolean">upper</a> <span class="keyword">else</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#847630" title="Boolean">upper</a>
        <a href="#853637" title="Types.this.TypeVar">tvar</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="(x$1: Types.this.Type)Unit">inst</a> = <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="853646">bound</a>: <a href="#478720" title="Types.this.Type">Type</a> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#853645" title="Boolean">up</a><span class="delimiter">)</span> <a href="#853638" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a> <span class="keyword">else</span> <a href="#853638" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a>
        <span class="comment">//Console.println(&quot;solveOne0(tv, tp, v, b)=&quot;+(tvar, tparam, variance, bound))</span>
        <span class="keyword">var</span> <a title="Boolean" id="853647">cyclic</a> = <a href="#853646" title="Types.this.Type">bound</a> <a href="#507218" title="(sym: Types.this.Symbol)Boolean">contains</a> <a href="#853638" title="Types.this.Symbol">tparam</a>
        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.TypeVar" id="853691">tvar2</a>, <span class="delimiter">(</span><a title="Types.this.Symbol" id="853694">tparam2</a>, <a title="Int" id="853695">variance2</a><span class="delimiter">)</span><span class="delimiter">)</span> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ((Types.this.TypeVar, (Types.this.Symbol, Int))) =&gt; Unit)Unit">config</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#853694" title="Types.this.Symbol">tparam2</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#853638" title="Types.this.Symbol">tparam</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <span class="delimiter">(</span><span class="delimiter">(</span><a href="#853646" title="Types.this.Type">bound</a> <a href="#507218" title="(sym: Types.this.Symbol)Boolean">contains</a> <a href="#853694" title="Types.this.Symbol">tparam2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
               <a href="#853645" title="Boolean">up</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#853694" title="Types.this.Symbol">tparam2</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#853638" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
               <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#853645" title="Boolean">up</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#853694" title="Types.this.Symbol">tparam2</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#853638" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#853691" title="Types.this.TypeVar">tvar2</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#853647" title="Boolean">cyclic</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="#853540" title="(tvar: Types.this.TypeVar, tparam: Types.this.Symbol, variance: Int)Unit">solveOne</a><span class="delimiter">(</span><a href="#853691" title="Types.this.TypeVar">tvar2</a>, <a href="#853694" title="Types.this.Symbol">tparam2</a>, <a href="#853695" title="Int">variance2</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#853647" title="Boolean">cyclic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#853645" title="Boolean">up</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#853646" title="Types.this.Type">bound</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a><span class="delimiter">)</span>
              <a href="#853637" title="Types.this.TypeVar">tvar</a> <a href="#841838" title="(tp: Types.this.Type, isNumericBound: Boolean)Unit">addHiBound</a> <a href="#853646" title="Types.this.Type">bound</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#847628" title="List[Types.this.Symbol]">tparams</a>, <a href="#847627" title="List[Types.this.TypeVar]">tvars</a><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="853725">tparam2</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Symbol =&gt; Unit)Unit">tparams</a><span class="delimiter">)</span>
              <a href="#853725" title="Types.this.Symbol">tparam2</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a>.<a href="#507189" title="=&gt; Types.this.Type">dealias</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a href="#853638" title="Types.this.Symbol">`tparam`</a>, _<span class="delimiter">)</span> =&gt;
                  <a href="#853637" title="Types.this.TypeVar">tvar</a> <a href="#841838" title="(tp: Types.this.Type, isNumericBound: Boolean)Unit">addHiBound</a> <a href="#853725" title="Types.this.Symbol">tparam2</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#847628" title="List[Types.this.Symbol]">tparams</a>, <a href="#847627" title="List[Types.this.TypeVar]">tvars</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#853646" title="Types.this.Type">bound</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#853646" title="Types.this.Type">bound</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#853638" title="Types.this.Symbol">tparam</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#853637" title="Types.this.TypeVar">tvar</a> <a href="#841837" title="(tp: Types.this.Type, isNumericBound: Boolean)Unit">addLoBound</a> <a href="#853646" title="Types.this.Type">bound</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#847628" title="List[Types.this.Symbol]">tparams</a>, <a href="#847627" title="List[Types.this.TypeVar]">tvars</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="853748">tparam2</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Symbol =&gt; Unit)Unit">tparams</a><span class="delimiter">)</span>
              <a href="#853748" title="Types.this.Symbol">tparam2</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a>.<a href="#507189" title="=&gt; Types.this.Type">dealias</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a href="#853638" title="Types.this.Symbol">`tparam`</a>, _<span class="delimiter">)</span> =&gt;
                  <a href="#853637" title="Types.this.TypeVar">tvar</a> <a href="#841837" title="(tp: Types.this.Type, isNumericBound: Boolean)Unit">addLoBound</a> <a href="#853748" title="Types.this.Symbol">tparam2</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#847628" title="List[Types.this.Symbol]">tparams</a>, <a href="#847627" title="List[Types.this.TypeVar]">tvars</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#853637" title="Types.this.TypeVar">tvar</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="(x$1: Types.this.Type)Unit">inst</a> = <a href="#843724" title="object Types.this.NoType">NoType</a> <span class="comment">// necessary because hibounds/lobounds may contain tvar</span>

        <span class="comment">//println(&quot;solving &quot;+tvar+&quot; &quot;+up+&quot; &quot;+(if (up) (tvar.constr.hiBounds) else tvar.constr.loBounds)+((if (up) (tvar.constr.hiBounds) else tvar.constr.loBounds) map (_.widen)))</span>

        <a href="#853637" title="Types.this.TypeVar">tvar</a> <a href="#841836" title="(tp: Types.this.Type)Unit">setInst</a> <span class="delimiter">(</span>
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#853645" title="Boolean">up</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#847631" title="Int">depth</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(-3)">AnyDepth</span><span class="delimiter">)</span> <a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#853637" title="Types.this.TypeVar">tvar</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842207" title="=&gt; List[Types.this.Type]">hiBounds</a>, <a href="#847631" title="Int">depth</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#478987" title="(ts: List[Types.this.Type])Types.this.Type">glb</a><span class="delimiter">(</span><a href="#853637" title="Types.this.TypeVar">tvar</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842207" title="=&gt; List[Types.this.Type]">hiBounds</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#847631" title="Int">depth</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(-3)">AnyDepth</span><span class="delimiter">)</span> <a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#853637" title="Types.this.TypeVar">tvar</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842206" title="=&gt; List[Types.this.Type]">loBounds</a>, <a href="#847631" title="Int">depth</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#478978" title="(ts: List[Types.this.Type])Types.this.Type">lub</a><span class="delimiter">(</span><a href="#853637" title="Types.this.TypeVar">tvar</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842206" title="=&gt; List[Types.this.Type]">loBounds</a><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>

        <span class="comment">//Console.println(&quot;solving &quot;+tvar+&quot; &quot;+up+&quot; &quot;+(if (up) (tvar.constr.hiBounds) else tvar.constr.loBounds)+((if (up) (tvar.constr.hiBounds) else tvar.constr.loBounds) map (_.widen))+&quot; = &quot;+tvar.constr.inst)//@MDEBUG</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">// println(&quot;solving &quot;+tvars+&quot;/&quot;+tparams+&quot;/&quot;+(tparams map (_.info)))</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.TypeVar" id="853810">tvar</a>, <span class="delimiter">(</span><a title="Types.this.Symbol" id="853813">tparam</a>, <a title="Int" id="853814">variance</a><span class="delimiter">)</span><span class="delimiter">)</span> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ((Types.this.TypeVar, (Types.this.Symbol, Int))) =&gt; Unit)Unit">config</a><span class="delimiter">)</span>
      <a href="#853540" title="(tvar: Types.this.TypeVar, tparam: Types.this.Symbol, variance: Int)Unit">solveOne</a><span class="delimiter">(</span><a href="#853810" title="Types.this.TypeVar">tvar</a>, <a href="#853813" title="Types.this.Symbol">tparam</a>, <a href="#853814" title="Int">variance</a><span class="delimiter">)</span>

    <a href="#847627" title="List[Types.this.TypeVar]">tvars</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.TypeVar =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="Types.this.TypeVar" id="853822">tvar</a> =&gt; <a href="#853822" title="Types.this.TypeVar">tvar</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842210" title="(tp: Types.this.Type)Boolean">isWithinBounds</a><span class="delimiter">(</span><a href="#853822" title="Types.this.TypeVar">tvar</a>.<a href="#841830" title="=&gt; Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Do type arguments `targs' conform to formal parameters
   *  `tparams'?
   *
   *  @param tparams ...
   *  @param targs   ...
   *  @return        ...
   */</span>
  <span class="keyword">def</span> <a title="(pre: Types.this.Type, owner: Types.this.Symbol, tparams: List[Types.this.Symbol], targs: List[Types.this.Type])Boolean" id="478953">isWithinBounds</a><span class="delimiter">(</span><a title="Types.this.Type" id="847681">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="847682">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="List[Types.this.Symbol]" id="847683">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="847684">targs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="List[Types.this.TypeBounds]" id="853823">bounds</a> = <a href="#478954" title="(pre: Types.this.Type, owner: Types.this.Symbol, tparams: List[Types.this.Symbol], targs: List[Types.this.Type])List[Types.this.TypeBounds]">instantiatedBounds</a><span class="delimiter">(</span><a href="#847681" title="Types.this.Type">pre</a>, <a href="#847682" title="Types.this.Symbol">owner</a>, <a href="#847683" title="List[Types.this.Symbol]">tparams</a>, <a href="#847684" title="List[Types.this.Type]">targs</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#847684" title="List[Types.this.Type]">targs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#853835" title="Types.this.Type">_</a>.<a href="#507245" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#853823" title="List[Types.this.TypeBounds]">bounds</a> = <a href="AnnotationCheckers.scala.html#479104" title="(bounds: List[Types.this.TypeBounds], tparams: List[Types.this.Symbol], targs: List[Types.this.Type])List[Types.this.TypeBounds]">adaptBoundsToAnnotations</a><span class="delimiter">(</span><a href="#853823" title="List[Types.this.TypeBounds]">bounds</a>, <a href="#847683" title="List[Types.this.Symbol]">tparams</a>, <a href="#847684" title="List[Types.this.Type]">targs</a><span class="delimiter">)</span>
    <span class="delimiter">(</span><a href="#853823" title="List[Types.this.TypeBounds]">bounds</a> <a href="../../../collection/SeqLike.scala.html#54171" title="(that: scala.collection.GenSeq[Types.this.Type])(p: (Types.this.TypeBounds, Types.this.Type) =&gt; Boolean)Boolean">corresponds</a> <a href="#847684" title="List[Types.this.Type]">targs</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#853859" title="Types.this.TypeBounds">_</a> <a href="#546592" title="(that: Types.this.Type)Boolean">containsType</a> <a href="#853860" title="Types.this.Type">_</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(pre: Types.this.Type, owner: Types.this.Symbol, tparams: List[Types.this.Symbol], targs: List[Types.this.Type])List[Types.this.TypeBounds]" id="478954">instantiatedBounds</a><span class="delimiter">(</span><a title="Types.this.Type" id="853824">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="853825">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="List[Types.this.Symbol]" id="853826">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="853827">targs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.TypeBounds]">List</a><span class="delimiter">[</span>TypeBounds<span class="delimiter">]</span> =
    <a href="#853826" title="List[Types.this.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.TypeBounds,List[Types.this.TypeBounds]])List[Types.this.TypeBounds]">map</a> <span class="delimiter">(</span><a href="#853882" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507205" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#853824" title="Types.this.Type">pre</a>, <a href="#853825" title="Types.this.Symbol">owner</a><span class="delimiter">)</span>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#853826" title="List[Types.this.Symbol]">tparams</a>, <a href="#853827" title="List[Types.this.Type]">targs</a><span class="delimiter">)</span>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])List[(Types.this.Symbol, Types.this.Symbol)]" id="478955">findRecursiveBounds</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="853910">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[(Types.this.Symbol, Types.this.Symbol)]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span title="List[(Types.this.Symbol, Types.this.Symbol)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#853910" title="List[Types.this.Type]">ts</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.Symbol" id="853912">sym</a> = <a href="#853910" title="List[Types.this.Type]">ts</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>
      <a href="../../../Predef.scala.html#9570" title="(requirement: Boolean, message: =&gt; Any)Unit">require</a><span class="delimiter">(</span><a href="#853910" title="List[Types.this.Type]">ts</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Type]">tail</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#853924" title="Types.this.Type">_</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#853912" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>, <a href="#853910" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="853954">p</a> &lt;- <a href="#853912" title="Types.this.Symbol">sym</a>.<a href="../../../collection/TraversableLike.scala.html#49046" title="(f: Types.this.Symbol =&gt; scala.collection.GenTraversableOnce[(Types.this.Symbol, Types.this.Symbol)])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],(Types.this.Symbol, Types.this.Symbol),List[(Types.this.Symbol, Types.this.Symbol)]])List[(Types.this.Symbol, Types.this.Symbol)]">typeParams</a> ; <a title="Types.this.Symbol" id="853969">in</a> &lt;- <a href="#853912" title="Types.this.Symbol">sym</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#53486" title="(f: Types.this.Symbol =&gt; (Types.this.Symbol, Types.this.Symbol))(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],(Types.this.Symbol, Types.this.Symbol),List[(Types.this.Symbol, Types.this.Symbol)]])List[(Types.this.Symbol, Types.this.Symbol)]">typeParams</a> ; <span class="keyword">if</span> <a href="#853969" title="Types.this.Symbol">in</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a> <a href="#507218" title="(sym: Types.this.Symbol)Boolean">contains</a> <a href="#853954" title="Types.this.Symbol">p</a><span class="delimiter">)</span> <span class="keyword">yield</span>
        <a href="../../../Predef.scala.html#9589" title="(x: Types.this.Symbol)ArrowAssoc[Types.this.Symbol]">p</a> <a href="../../../Predef.scala.html#57653" title="(y: Types.this.Symbol)(Types.this.Symbol, Types.this.Symbol)">-&gt;</a> <a href="#853969" title="Types.this.Symbol">in</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  
<span class="comment">// Lubs and Glbs ---------------------------------------------------------</span>

  <span class="comment">/** Given a matrix `tsBts` whose columns are basetype sequences (and the symbols `tsParams` that should be interpreted as type parameters in this matrix),
   * compute its least sorted upwards closed upper bound relative to the following ordering &lt;= between lists of types:
   *
   *    xs &lt;= ys   iff   forall y in ys exists x in xs such that x &lt;: y
   *
   *
   *  @arg tsParams for each type in the original list of types `ts0`, its list of type parameters (if that type is a type constructor)
   *                (these type parameters may be referred to by type arguments in the BTS column of those types,
   *                and must be interpreted as bound variables; i.e., under a type lambda that wraps the types that refer to these type params)
   *  @arg tsBts    a matrix whose columns are basetype sequences
   *                the first row is the original list of types for which we're computing the lub
   *                  (except that type constructors have been applied to their dummyArgs)
   *  @See baseTypeSeq  for a definition of sorted and upwards closed.
   */</span>
  <span class="comment">//</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ts: List[Types.this.Type], depth: Int)List[Types.this.Type]" id="478956">lubList</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="854040">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="854041">depth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="comment">// Matching the type params of one of the initial types means dummies.</span>
    <span class="keyword">val</span> <a title="List[List[Types.this.Symbol]]" id="854043">initialTypeParams</a> = <a href="#854040" title="List[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; List[Types.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],List[Types.this.Symbol],List[List[Types.this.Symbol]]])List[List[Types.this.Symbol]]">map</a> <span class="delimiter">(</span><a href="#854064" title="Types.this.Type">_</a>.<a href="#507182" title="=&gt; List[Types.this.Symbol]">typeParams</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(xs: List[Types.this.Type])Boolean" id="854044">isHotForTs</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="854092">xs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#854043" title="List[List[Types.this.Symbol]]">initialTypeParams</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#854092" title="List[Types.this.Type]">xs</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Symbol,Any])Any">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Types.this.Symbol,List[Types.this.Symbol]]" class="delimiter">(</a><a href="#854109" title="Types.this.Type">_</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="854045">elimHigherOrderTypeParam</a><span class="delimiter">(</span><a title="Types.this.Type" id="854137">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#854137" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="854138">pre</a>, <a title="Types.this.Symbol" id="854139">sym</a>, <a title="List[Types.this.Type]" id="854140">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#854140" title="List[Types.this.Type]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#854044" title="(xs: List[Types.this.Type])Boolean">isHotForTs</a><span class="delimiter">(</span><a href="#854140" title="List[Types.this.Type]">args</a><span class="delimiter">)</span> =&gt; <a href="#854137" title="Types.this.Type">tp</a>.<a href="#507171" title="=&gt; Types.this.Type">typeConstructor</a>
      <span class="keyword">case</span> <span title="Types.this.Type">_</span>                                                            =&gt; <a href="#854137" title="Types.this.Type">tp</a>
    <span class="delimiter">}</span>
    <span class="keyword">var</span> <a title="Int" id="854046">lubListDepth</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">def</span> <a title="(tsBts: List[List[Types.this.Type]])List[Types.this.Type]" id="854047">loop</a><span class="delimiter">(</span><a title="List[List[Types.this.Type]]" id="854141">tsBts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[List[Types.this.Type]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#854046" title="Int">lubListDepth</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>

      <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#854141" title="List[List[Types.this.Type]]">tsBts</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#854141" title="List[List[Types.this.Type]]">tsBts</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: List[Types.this.Type] =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#854152" title="List[Types.this.Type]">_</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
      <span class="keyword">else</span> <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#854141" title="List[List[Types.this.Type]]">tsBts</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[List[Types.this.Type]]">tail</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#854141" title="List[List[Types.this.Type]]">tsBts</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; List[Types.this.Type]">head</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="comment">// ts0 is the 1-dimensional frontier of symbols cutting through 2-dimensional tsBts.</span>
        <span class="comment">// Invariant: all symbols &quot;under&quot; (closer to the first row) the frontier</span>
        <span class="comment">// are smaller (according to _.isLess) than the ones &quot;on and beyond&quot; the frontier</span>
        <span class="keyword">val</span> <a title="List[Types.this.Type]" id="854158">ts0</a>  = <a href="#854141" title="List[List[Types.this.Type]]">tsBts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: List[Types.this.Type] =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Types.this.Type]],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#854176" title="List[Types.this.Type]">_</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a><span class="delimiter">)</span>

        <span class="comment">// Is the frontier made up of types with the same symbol?</span>
        <span class="keyword">val</span> <a title="Boolean" id="854159">isUniformFrontier</a> = <span class="delimiter">(</span><a href="#854158" title="List[Types.this.Type]">ts0</a>: @<a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type] @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Boolean" id="854208">t</a> :: <a title="List[Types.this.Type]" id="854209">ts</a>  =&gt; <a href="#854209" title="List[Types.this.Type]">ts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#854216" title="Types.this.Type">_</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#854208" title="Types.this.Type">t</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="comment">// Produce a single type for this frontier by merging the prefixes and arguments of those</span>
        <span class="comment">// typerefs that share the same symbol: that symbol is the current maximal symbol for which</span>
        <span class="comment">// the invariant holds, i.e., the one that conveys most information wrt subtyping. Before</span>
        <span class="comment">// merging, strip targs that refer to bound tparams (when we're computing the lub of type</span>
        <span class="comment">// constructors.) Also filter out all types that are a subtype of some other type.</span>
        <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#854159" title="Boolean">isUniformFrontier</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span title="Boolean(false)">printLubs</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[(Types.this.Symbol, Types.this.Symbol)]" id="854226">fbounds</a> = <a href="#478955" title="(ts: List[Types.this.Type])List[(Types.this.Symbol, Types.this.Symbol)]">findRecursiveBounds</a><span class="delimiter">(</span><a href="#854158" title="List[Types.this.Type]">ts0</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#854226" title="List[(Types.this.Symbol, Types.this.Symbol)]">fbounds</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Encountered &quot;)" class="string">&quot;Encountered &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#854226" title="List[(Types.this.Symbol, Types.this.Symbol)]">fbounds</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; recursive bounds while lubbing &quot;)" class="string">&quot; recursive bounds while lubbing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#854158" title="List[Types.this.Type]">ts0</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; types.&quot;)" class="string">&quot; types.&quot;</span><span class="delimiter">)</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="854265">p0</a>, <a title="Types.this.Symbol" id="854266">p1</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ((Types.this.Symbol, Types.this.Symbol)) =&gt; Unit)Unit">fbounds</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="java.lang.String" id="854267">desc</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#854265" title="Types.this.Symbol">p0</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#854266" title="Types.this.Symbol">p1</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;its own bounds&quot;)" class="string">&quot;its own bounds&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;the bounds of &quot;)" class="string">&quot;the bounds of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#854266" title="Types.this.Symbol">p1</a>

                <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#854265" title="Types.this.Symbol">p0</a>.<a href="Symbols.scala.html#509368" title="=&gt; java.lang.String">fullLocationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; appears in &quot;)" class="string">&quot; appears in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#854267" title="java.lang.String">desc</a><span class="delimiter">)</span>
                <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;    &quot;)" class="string">&quot;    &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#854266" title="Types.this.Symbol">p1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#854266" title="Types.this.Symbol">p1</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[List[Types.this.Type]]" id="854222">tails</a> = <a href="#854141" title="List[List[Types.this.Type]]">tsBts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: List[Types.this.Type] =&gt; List[Types.this.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Types.this.Type]],List[Types.this.Type],List[List[Types.this.Type]]])List[List[Types.this.Type]]">map</a> <span class="delimiter">(</span><a href="#854289" title="List[Types.this.Type]">_</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Type]">tail</a><span class="delimiter">)</span>
          <a href="#478991" title="(tps: List[Types.this.Type], variance: Int, depth: Int)Option[Types.this.Type]">mergePrefixAndArgs</a><span class="delimiter">(</span><a href="#478966" title="(ts: List[Types.this.Type], depth: Int)List[Types.this.Type]">elimSub</a><span class="delimiter">(</span><a href="#854158" title="List[Types.this.Type]">ts0</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <a href="#854045" title="(tp: Types.this.Type)Types.this.Type">elimHigherOrderTypeParam</a>, <a href="#854041" title="Int">depth</a><span class="delimiter">)</span>, <span title="Int(1)" class="int">1</span>, <a href="#854041" title="Int">depth</a><span class="delimiter">)</span> <span title="List[Types.this.Type]" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="List[Types.this.Type]">Some</span><span class="delimiter">(</span><a title="Types.this.Type" id="854365">tp</a><span class="delimiter">)</span> =&gt; <a href="#854365" title="Types.this.Type">tp</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Type)List[Types.this.Type]">::</a> <a href="#854047" title="(tsBts: List[List[Types.this.Type]])List[Types.this.Type]">loop</a><span class="delimiter">(</span><a href="#854222" title="List[List[Types.this.Type]]">tails</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="List[Types.this.Type]">_</span>        =&gt; <a href="#854047" title="(tsBts: List[List[Types.this.Type]])List[Types.this.Type]">loop</a><span class="delimiter">(</span><a href="#854222" title="List[List[Types.this.Type]]">tails</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">// frontier is not uniform yet, move it beyond the current minimal symbol;</span>
          <span class="comment">// lather, rinSe, repeat</span>
          <span class="keyword">val</span> <a title="Types.this.Symbol" id="854372">sym</a>    = <a href="#478957" title="(tps: List[Types.this.Type])Types.this.Symbol">minSym</a><span class="delimiter">(</span><a href="#854158" title="List[Types.this.Type]">ts0</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[List[Types.this.Type]]" id="854373">newtps</a> = <a href="#854141" title="List[List[Types.this.Type]]">tsBts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: List[Types.this.Type] =&gt; List[Types.this.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Types.this.Type]],List[Types.this.Type],List[List[Types.this.Type]]])List[List[Types.this.Type]]">map</a> <span class="delimiter">(</span><a title="List[Types.this.Type]" id="854392">ts</a> =&gt; <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#854392" title="List[Types.this.Type]">ts</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#854372" title="Types.this.Symbol">sym</a><span class="delimiter">)</span> <a href="#854392" title="List[Types.this.Type]">ts</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Type]">tail</a> <span class="keyword">else</span> <a href="#854392" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)">printLubs</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="String" id="854426">str</a> = <span class="delimiter">(</span><a href="#854373" title="List[List[Types.this.Type]]">newtps</a>.<a href="../../../collection/IterableLike.scala.html#53915" title="(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Types.this.Type]],(List[Types.this.Type], Int),List[(List[Types.this.Type], Int)]])List[(List[Types.this.Type], Int)]">zipWithIndex</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((List[Types.this.Type], Int)) =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(List[Types.this.Type], Int)],String,List[String]])List[String]">map</a> <a href="#854486" title="String" class="delimiter">{</a> <span class="keyword">case</span> <span title="String" class="delimiter">(</span><a title="List[Types.this.Type]" id="854489">tps</a>, <a title="Int" id="854490">idx</a><span class="delimiter">)</span> =&gt;
              <a href="#854489" title="List[Types.this.Type]">tps</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</a><span title="java.lang.String(&quot;        &quot;)" class="string">&quot;        &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#854507" title="Types.this.Type">_</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;   (&quot;)" class="string">&quot;   (&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#854490" title="Int">idx</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)\012&quot;)" class="string">&quot;)\n&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span title="Unit" class="delimiter">}</span>

          <a href="#854047" title="(tsBts: List[List[Types.this.Type]])List[Types.this.Type]">loop</a><span class="delimiter">(</span><a href="#854373" title="List[List[Types.this.Type]]">newtps</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <a href="#854047" title="(tsBts: List[List[Types.this.Type]])List[Types.this.Type]">loop</a><span class="delimiter">(</span><a href="#854040" title="List[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; List[Types.this.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],List[Types.this.Type],List[List[Types.this.Type]]])List[List[Types.this.Type]]">map</a> <span class="delimiter">(</span><a href="#854589" title="Types.this.Type">_</a>.<a href="#507229" title="=&gt; Types.this.BaseTypeSeq">baseTypeSeq</a>.<a href="BaseTypeSeqs.scala.html#594271" title="=&gt; List[Types.this.Type]">toList</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// @AM the following problem is solved by elimHOTparams in lublist</span>
  <span class="comment">// @PP lubLists gone bad: lubList(List(</span>
  <span class="comment">//   List(scala.collection.generic.GenericCompanion[scala.collection.immutable.Seq], ScalaObject, java.lang.Object, Any)</span>
  <span class="comment">//   List(scala.collection.generic.GenericCompanion[scala.collection.mutable.Seq], ScalaObject, java.lang.Object, Any)</span>
  <span class="comment">// )) == (</span>
  <span class="comment">//   List(scala.collection.generic.GenericCompanion[Seq**[Any]**], ScalaObject, java.lang.Object, Any)</span>
  <span class="comment">// )</span>

  <span class="comment">/** The minimal symbol (wrt Symbol.isLess) of a list of types */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[Types.this.Type])Types.this.Symbol" id="478957">minSym</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="854374">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> =
    <span class="delimiter">(</span><a href="#854374" title="List[Types.this.Type]">tps</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="../../../collection/TraversableOnce.scala.html#53624" title="(z: Types.this.Symbol)(op: (Types.this.Symbol, Types.this.Type) =&gt; Types.this.Symbol)Types.this.Symbol">/:</a> <a href="#854374" title="List[Types.this.Type]">tps</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Type]">tail</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="delimiter">(</span><a title="Types.this.Symbol" id="854633">sym1</a>, <a title="Types.this.Type" id="854634">tp2</a><span class="delimiter">)</span> =&gt; <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#854634" title="Types.this.Type">tp2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <a href="Symbols.scala.html#509294" title="(that: Types.this.Symbol)Boolean">isLess</a> <a href="#854633" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span> <a href="#854634" title="Types.this.Type">tp2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span class="keyword">else</span> <a href="#854633" title="Types.this.Symbol">sym1</a>
    <span class="delimiter">}</span>

  <span class="comment">/** A minimal type list which has a given list of types as its base type sequence */</span>
  <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])List[Types.this.Type]" id="478958">spanningTypes</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="854636">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#854636" title="List[Types.this.Type]">ts</a> <span title="List[Types.this.Type]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="List[Nothing]">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="List[Types.this.Type]" id="854661">first</a> :: <a title="List[Types.this.Type]" id="854662">rest</a> =&gt;
      <a href="#854661" title="Types.this.Type">first</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Type)List[Types.this.Type]">::</a> <a href="#478958" title="(ts: List[Types.this.Type])List[Types.this.Type]">spanningTypes</a><span class="delimiter">(</span>
        <a href="#854662" title="List[Types.this.Type]">rest</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Types.this.Type =&gt; Boolean)List[Types.this.Type]">filter</a> <span class="delimiter">(</span><a title="Types.this.Type" id="854667">t</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#854661" title="Types.this.Type">first</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509297" title="(that: Types.this.Symbol)Boolean">isSubClass</a><span class="delimiter">(</span><a href="#854667" title="Types.this.Type">t</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Eliminate from list of types all elements which are a supertype
   *  of some other element of the list. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])List[Types.this.Type]" id="478959">elimSuper</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="854671">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#854671" title="List[Types.this.Type]">ts</a> <span title="List[Types.this.Type]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="List[Nothing]">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="List[Types.this.Type]" id="854696">t</a> :: <a title="List[Types.this.Type]" id="854697">ts1</a> =&gt;
      <span class="keyword">val</span> <a title="List[Types.this.Type]" id="854698">rest</a> = <a href="#478959" title="(ts: List[Types.this.Type])List[Types.this.Type]">elimSuper</a><span class="delimiter">(</span><a href="#854697" title="List[Types.this.Type]">ts1</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Types.this.Type =&gt; Boolean)List[Types.this.Type]">filter</a> <span class="delimiter">(</span><a title="Types.this.Type" id="854702">t1</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#854696" title="Types.this.Type">t</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#854702" title="Types.this.Type">t1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#854698" title="List[Types.this.Type]">rest</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Types.this.Type" id="854709">t1</a> =&gt; <a href="#854709" title="Types.this.Type">t1</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#854696" title="Types.this.Type">t</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#854698" title="List[Types.this.Type]">rest</a> <span class="keyword">else</span> <a href="#854696" title="Types.this.Type">t</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Type)List[Types.this.Type]">::</a> <a href="#854698" title="List[Types.this.Type]">rest</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(t: Types.this.Type)Types.this.Type" id="478960">elimAnonymousClass</a><span class="delimiter">(</span><a title="Types.this.Type" id="854716">t</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#854716" title="Types.this.Type">t</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Types.this.Type">TypeRef</span><span class="delimiter">(</span><a title="Types.this.Type" id="854719">pre</a>, <a title="Types.this.Symbol" id="854720">clazz</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#854720" title="Types.this.Symbol">clazz</a>.<a href="Symbols.scala.html#509192" title="=&gt; Boolean">isAnonymousClass</a> =&gt;
      <a href="#854720" title="Types.this.Symbol">clazz</a>.<a href="Symbols.scala.html#509290" title="=&gt; Types.this.Type">classBound</a>.<a href="#507205" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#854719" title="Types.this.Type">pre</a>, <a href="#854720" title="Types.this.Symbol">clazz</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
      <a href="#854716" title="Types.this.Type">t</a>
  <span class="delimiter">}</span>

  <span class="comment">/** A collector that tests for existential types appearing at given variance in a type */</span>
  <span class="keyword">class</span> <a title="class ContainsVariantExistentialCollector extends Types.this.TypeCollector[Boolean] with ScalaObject" id="478961">ContainsVariantExistentialCollector</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Int" id="842132">v</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478846" title="Types.this.TypeCollector[Boolean]">TypeCollector</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Unit" id="842130">traverse</a><span class="delimiter">(</span><a title="Types.this.Type" id="854727">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#854727" title="Types.this.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#532438" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#842132" title="Int">v</a><span class="delimiter">)</span> =&gt; <a href="#842120" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <a href="#532446" title="(tp: Types.this.Type)Types.this.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#854727" title="Types.this.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="()Types.this.ContainsVariantExistentialCollector" id="842131">init</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#532438" title="(x$1: Int)Unit">variance</a> = <span title="Int(1)" class="int">1</span>
      <a href="#478961" title="Types.this.ContainsVariantExistentialCollector" class="keyword">this</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="Types.this.ContainsVariantExistentialCollector" id="478962">containsCovariantExistentialCollector</a> = <span title="Types.this.ContainsVariantExistentialCollector" class="keyword">new</span> <a href="#478961" title="Types.this.ContainsVariantExistentialCollector">ContainsVariantExistentialCollector</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="Types.this.ContainsVariantExistentialCollector" id="478964">containsContravariantExistentialCollector</a> = <span title="Types.this.ContainsVariantExistentialCollector" class="keyword">new</span> <a href="#478961" title="Types.this.ContainsVariantExistentialCollector">ContainsVariantExistentialCollector</a><span class="delimiter">(</span>-<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span>

  <span class="comment">/** Eliminate from list of types all elements which are a subtype
   *  of some other element of the list. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ts: List[Types.this.Type], depth: Int)List[Types.this.Type]" id="478966">elimSub</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="854317">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="854318">depth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])List[Types.this.Type]" id="854744">elimSub0</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="854746">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#854746" title="List[Types.this.Type]">ts</a> <span title="List[Types.this.Type]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="List[Nothing]">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="List[Types.this.Type]" id="854770">t</a> :: <a title="List[Types.this.Type]" id="854771">ts1</a> =&gt;
        <span class="keyword">val</span> <a title="List[Types.this.Type]" id="854772">rest</a> = <a href="#854744" title="(ts: List[Types.this.Type])List[Types.this.Type]">elimSub0</a><span class="delimiter">(</span><a href="#854771" title="List[Types.this.Type]">ts1</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Types.this.Type =&gt; Boolean)List[Types.this.Type]">filter</a> <span class="delimiter">(</span><a title="Types.this.Type" id="854776">t1</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#478923" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType</a><span class="delimiter">(</span><a href="#854776" title="Types.this.Type">t1</a>, <a href="#854770" title="Types.this.Type">t</a>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#854318" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#854772" title="List[Types.this.Type]">rest</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Types.this.Type" id="854787">t1</a> =&gt; <a href="#478923" title="(tp1: Types.this.Type, tp2: Types.this.Type, depth: Int)Boolean">isSubType</a><span class="delimiter">(</span><a href="#854770" title="Types.this.Type">t</a>, <a href="#854787" title="Types.this.Type">t1</a>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#854318" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#854772" title="List[Types.this.Type]">rest</a> <span class="keyword">else</span> <a href="#854770" title="Types.this.Type">t</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Type)List[Types.this.Type]">::</a> <a href="#854772" title="List[Types.this.Type]">rest</a>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="List[Types.this.Type]" id="854745">ts0</a> = <a href="#854744" title="(ts: List[Types.this.Type])List[Types.this.Type]">elimSub0</a><span class="delimiter">(</span><a href="#854317" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>
    <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#854745" title="List[Types.this.Type]">ts0</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#854745" title="List[Types.this.Type]">ts0</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Type]">tail</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#854745" title="List[Types.this.Type]">ts0</a>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Types.this.Type]" id="854799">ts1</a> = <a href="#854745" title="List[Types.this.Type]">ts0</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Types.this.Type =&gt; Types.this.Type)List[Types.this.Type]">mapConserve</a> <span class="delimiter">(</span><a title="Types.this.Type" id="854806">t</a> =&gt; <a href="#478960" title="(t: Types.this.Type)Types.this.Type">elimAnonymousClass</a><span class="delimiter">(</span><a href="#854806" title="Types.this.Type">t</a>.<a href="#507162" title="=&gt; Types.this.Type">underlying</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#854799" title="List[Types.this.Type]">ts1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#854745" title="List[Types.this.Type]">ts0</a><span class="delimiter">)</span> <a href="#854745" title="List[Types.this.Type]">ts0</a>
      <span class="keyword">else</span> <a href="#478966" title="(ts: List[Types.this.Type], depth: Int)List[Types.this.Type]">elimSub</a><span class="delimiter">(</span><a href="#854799" title="List[Types.this.Type]">ts1</a>, <a href="#854318" title="Int">depth</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])(List[Types.this.Type], List[Types.this.Symbol])" id="478967">stripExistentialsAndTypeVars</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="854808">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1520" title="(List[Types.this.Type], List[Types.this.Symbol])" class="delimiter">(</a>List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="854810">quantified</a> = <a href="#854808" title="List[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: Types.this.Type =&gt; scala.collection.GenTraversableOnce[Types.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">flatMap</a> <a href="#854829" title="List[Types.this.Symbol]" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="List[Types.this.Symbol]">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="854830">qs</a>, _<span class="delimiter">)</span> =&gt; <a href="#854830" title="List[Types.this.Symbol]">qs</a>
      <span class="keyword">case</span> <a title="List[Nothing]" id="854831">t</a> =&gt; List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="854811">stripType</a><span class="delimiter">(</span><a title="Types.this.Type" id="854866">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#854866" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">ExistentialType</span><span class="delimiter">(</span>_, <a title="Types.this.Type" id="854867">res</a><span class="delimiter">)</span> =&gt;
        <a href="#854867" title="Types.this.Type">res</a>
      <span class="keyword">case</span> <a href="#841808" title="Types.this.Type">TypeVar</a><span class="delimiter">(</span>_, <a title="Types.this.TypeConstraint" id="854869">constr</a><span class="delimiter">)</span> =&gt;
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#854869" title="Types.this.TypeConstraint">constr</a>.<a href="#842214" title="=&gt; Boolean">instValid</a><span class="delimiter">)</span> <a href="#854869" title="Types.this.TypeConstraint">constr</a>.<a href="#842212" title="=&gt; Types.this.Type">inst</a>
        <span class="keyword">else</span> <a href="SymbolTable.scala.html#478159" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;trying to do lub/glb of typevar &quot;)" class="string">&quot;trying to do lub/glb of typevar &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#854866" title="Types.this.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.Type" id="854874">t</a> =&gt; <a href="#854874" title="Types.this.Type">t</a>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="List[Types.this.Type]" id="854812">strippedTypes</a> = <a href="#854808" title="List[Types.this.Type]">ts</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Types.this.Type =&gt; Types.this.Type)List[Types.this.Type]">mapConserve</a> <a href="#854811" title="(tp: Types.this.Type)Types.this.Type">stripType</a>
    <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Types.this.Type], _2: List[Types.this.Symbol])(List[Types.this.Type], List[Types.this.Symbol])" class="delimiter">(</a><a href="#854812" title="List[Types.this.Type]">strippedTypes</a>, <a href="#854810" title="List[Types.this.Symbol]">quantified</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])(Types.this.Type, Boolean)" id="478968">weakLub</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="854889">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> =
    <span title="(Types.this.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="#854889" title="List[Types.this.Type]">ts</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#854889" title="List[Types.this.Type]">ts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <a href="Definitions.scala.html#508371" title="(tp: Types.this.Type)Boolean">isNumericValueType</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Boolean)(Types.this.Type, Boolean)" class="delimiter">(</a><a href="#478970" title="(ts: List[Types.this.Type])Types.this.Type">numericLub</a><span class="delimiter">(</span><a href="#854889" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="(Types.this.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="#854889" title="List[Types.this.Type]">ts</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#854889" title="List[Types.this.Type]">ts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#854928" title="Types.this.Type">_</a>.<a href="#507245" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Boolean)(Types.this.Type, Boolean)" class="delimiter">(</a><a href="AnnotationCheckers.scala.html#479102" title="(tpe: Types.this.Type, ts: List[Types.this.Type])Types.this.Type">annotationsLub</a><span class="delimiter">(</span><a href="#478978" title="(ts: List[Types.this.Type])Types.this.Type">lub</a><span class="delimiter">(</span><a href="#854889" title="List[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#854956" title="Types.this.Type">_</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#854889" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Boolean)(Types.this.Type, Boolean)" class="delimiter">(</a><a href="#478978" title="(ts: List[Types.this.Type])Types.this.Type">lub</a><span class="delimiter">(</span><a href="#854889" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])(Types.this.Type, Boolean)" id="478969">weakGlb</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="854996">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="(Types.this.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="#854996" title="List[Types.this.Type]">ts</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#854996" title="List[Types.this.Type]">ts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <a href="Definitions.scala.html#508371" title="(tp: Types.this.Type)Boolean">isNumericValueType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="855006">nglb</a> = <a href="#478971" title="(ts: List[Types.this.Type])Types.this.Type">numericGlb</a><span class="delimiter">(</span><a href="#854996" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>
      <span title="(Types.this.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="#855006" title="Types.this.Type">nglb</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Boolean)(Types.this.Type, Boolean)" class="delimiter">(</a><a href="#855006" title="Types.this.Type">nglb</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Boolean)(Types.this.Type, Boolean)" class="delimiter">(</a><a href="#478987" title="(ts: List[Types.this.Type])Types.this.Type">glb</a><span class="delimiter">(</span><a href="#854996" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(Types.this.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="#854996" title="List[Types.this.Type]">ts</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#854996" title="List[Types.this.Type]">ts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#855050" title="Types.this.Type">_</a>.<a href="#507245" title="=&gt; List[Types.this.AnnotationInfo]">annotations</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Boolean)(Types.this.Type, Boolean)" class="delimiter">(</a><a href="AnnotationCheckers.scala.html#479103" title="(tpe: Types.this.Type, ts: List[Types.this.Type])Types.this.Type">annotationsGlb</a><span class="delimiter">(</span><a href="#478987" title="(ts: List[Types.this.Type])Types.this.Type">glb</a><span class="delimiter">(</span><a href="#854996" title="List[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#855078" title="Types.this.Type">_</a>.<a href="#507249" title="=&gt; Types.this.Type">withoutAnnotations</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#854996" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Type, _2: Boolean)(Types.this.Type, Boolean)" class="delimiter">(</a><a href="#478987" title="(ts: List[Types.this.Type])Types.this.Type">glb</a><span class="delimiter">(</span><a href="#854996" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])Types.this.Type" id="478970">numericLub</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="854903">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#854903" title="List[Types.this.Type]">ts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71045" title="(f: (Types.this.Type, Types.this.Type) =&gt; Types.this.Type)Types.this.Type">reduceLeft</a> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Type" id="854918">t1</a>, <a title="Types.this.Type" id="854919">t2</a><span class="delimiter">)</span> =&gt;
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478973" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#854918" title="Types.this.Type">t1</a>, <a href="#854919" title="Types.this.Type">t2</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#854919" title="Types.this.Type">t2</a>
      <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478973" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#854919" title="Types.this.Type">t2</a>, <a href="#854918" title="Types.this.Type">t1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#854918" title="Types.this.Type">t1</a>
      <span class="keyword">else</span> <a href="Definitions.scala.html#508431" title="=&gt; Types.this.Symbol">IntClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])Types.this.Type" id="478971">numericGlb</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="855007">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#855007" title="List[Types.this.Type]">ts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71045" title="(f: (Types.this.Type, Types.this.Type) =&gt; Types.this.Type)Types.this.Type">reduceLeft</a> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Type" id="855022">t1</a>, <a title="Types.this.Type" id="855023">t2</a><span class="delimiter">)</span> =&gt;
      <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478973" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#855022" title="Types.this.Type">t1</a>, <a href="#855023" title="Types.this.Type">t2</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#855022" title="Types.this.Type">t1</a>
      <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#478973" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#855023" title="Types.this.Type">t2</a>, <a href="#855022" title="Types.this.Type">t1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#855023" title="Types.this.Type">t2</a>
      <span class="keyword">else</span> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="478972">isWeakSubType</a><span class="delimiter">(</span><a title="Types.this.Type" id="843019">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="843020">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> =
    <a href="#843019" title="Types.this.Type">tp1</a>.<a href="#507164" title="=&gt; Types.this.Type">deconst</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="843023">sym1</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="Definitions.scala.html#508417" title="(sym: Types.this.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#843023" title="Types.this.Symbol">sym1</a><span class="delimiter">)</span> =&gt;
        <a href="#843020" title="Types.this.Type">tp2</a>.<a href="#507164" title="=&gt; Types.this.Type">deconst</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="843026">sym2</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="Definitions.scala.html#508417" title="(sym: Types.this.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#843026" title="Types.this.Symbol">sym2</a><span class="delimiter">)</span> =&gt;
            <a href="Definitions.scala.html#508416" title="(sub: Types.this.Symbol, sup: Types.this.Symbol)Boolean">isNumericSubClass</a><span class="delimiter">(</span><a href="#843023" title="Types.this.Symbol">sym1</a>, <a href="#843026" title="Types.this.Symbol">sym2</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Boolean" id="843029">tv2</a> @ <a href="#841808" title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            <a href="#843029" title="Types.this.TypeVar">tv2</a>.<a href="#841842" title="(tp: Types.this.Type, isLowerBound: Boolean, isNumericBound: Boolean)Boolean">registerBound</a><span class="delimiter">(</span><a href="#843019" title="Types.this.Type">tp1</a>, isLowerBound = <span title="Boolean(true)" class="keyword">true</span>, isNumericBound = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
            <a href="#478922" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#843019" title="Types.this.Type">tp1</a>, <a href="#843020" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="Boolean" id="843040">tv1</a> @ <a href="#841808" title="(tv: Types.this.TypeVar)Some[(Types.this.Type, Types.this.TypeConstraint)]">TypeVar</a><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
        <a href="#843020" title="Types.this.Type">tp2</a>.<a href="#507164" title="=&gt; Types.this.Type">deconst</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="843042">sym2</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="Definitions.scala.html#508417" title="(sym: Types.this.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#843042" title="Types.this.Symbol">sym2</a><span class="delimiter">)</span> =&gt;
            <a href="#843040" title="Types.this.TypeVar">tv1</a>.<a href="#841842" title="(tp: Types.this.Type, isLowerBound: Boolean, isNumericBound: Boolean)Boolean">registerBound</a><span class="delimiter">(</span><a href="#843020" title="Types.this.Type">tp2</a>, isLowerBound = <span title="Boolean(false)" class="keyword">false</span>, isNumericBound = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
            <a href="#478922" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#843019" title="Types.this.Type">tp1</a>, <a href="#843020" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
        <a href="#478922" title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#843019" title="Types.this.Type">tp1</a>, <a href="#843020" title="Types.this.Type">tp2</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp1: Types.this.Type, tp2: Types.this.Type)Boolean" id="478973">isNumericSubType</a><span class="delimiter">(</span><a title="Types.this.Type" id="849237">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="849238">tp2</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> =
    <a href="Definitions.scala.html#508371" title="(tp: Types.this.Type)Boolean">isNumericValueType</a><span class="delimiter">(</span><a href="#849237" title="Types.this.Type">tp1</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Definitions.scala.html#508371" title="(tp: Types.this.Type)Boolean">isNumericValueType</a><span class="delimiter">(</span><a href="#849238" title="Types.this.Type">tp2</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
    <a href="Definitions.scala.html#508416" title="(sub: Types.this.Symbol, sup: Types.this.Symbol)Boolean">isNumericSubClass</a><span class="delimiter">(</span><a href="#849237" title="Types.this.Type">tp1</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>, <a href="#849238" title="Types.this.Type">tp2</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]" id="478974">lubResults</a> = <a href="../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]">HashMap</a><span class="delimiter">[</span><span class="delimiter">(</span>Int, List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>, Type<span class="delimiter">]</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]" id="478976">glbResults</a> = <a href="../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]">HashMap</a><span class="delimiter">[</span><span class="delimiter">(</span>Int, List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>, Type<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])Types.this.Type" id="478978">lub</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="617825">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
    <a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#617825" title="List[Types.this.Type]">ts</a>, <a href="#478896" title="(ts: List[Types.this.Type])Int">lubDepth</a><span class="delimiter">(</span><a href="#617825" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
    <a href="#478974" title="=&gt; scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]">lubResults</a>.<a href="../../../collection/mutable/HashMap.scala.html#73154" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#478976" title="=&gt; scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]">glbResults</a>.<a href="../../../collection/mutable/HashMap.scala.html#73154" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The least upper bound wrt &lt;:&lt; of a list of types */</span>
  <span class="keyword">def</span> <a title="(ts: List[Types.this.Type], depth: Int)Types.this.Type" id="478979">lub</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="617820">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="617821">depth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(ts0: List[Types.this.Type])Types.this.Type" id="855122">lub0</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="855125">ts0</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478966" title="(ts: List[Types.this.Type], depth: Int)List[Types.this.Type]">elimSub</a><span class="delimiter">(</span><a href="#855125" title="List[Types.this.Type]">ts0</a>, <a href="#617821" title="Int">depth</a><span class="delimiter">)</span> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="Types.this.Type">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
      <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="Types.this.Type">List</a><span class="delimiter">(</span><a title="Types.this.Type" id="855150">t</a><span class="delimiter">)</span> =&gt; <a href="#855150" title="Types.this.Type">t</a>
      <span class="keyword">case</span> <a title="Types.this.PolyType" id="855151">ts</a> @ PolyType<span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="855156">tparams</a>, _<span class="delimiter">)</span> :: _ =&gt;
        <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="855157">tparams1</a> = <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Types.this.Symbol], _2: List[List[Types.this.Type]])(List[Types.this.Symbol], List[List[Types.this.Type]])" class="delimiter">(</a><a href="#855156" title="List[Types.this.Symbol]">tparams</a>, <a href="#478993" title="(tps: List[Types.this.Type], tparams: List[Types.this.Symbol])List[List[Types.this.Type]]">matchingBounds</a><span class="delimiter">(</span><a href="#855151" title="collection.immutable.::[Types.this.Type]">ts</a>, <a href="#855156" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53807" title="(implicit asTraversable: List[Types.this.Type] =&gt; scala.collection.GenTraversableOnce[Types.this.Type])List[List[Types.this.Type]]">transpose</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Types.this.Symbol] =&gt; scala.collection.TraversableLike[Types.this.Symbol,List[Types.this.Symbol]], implicit w2: List[List[Types.this.Type]] =&gt; scala.collection.IterableLike[List[Types.this.Type],List[List[Types.this.Type]]])(List[Types.this.Symbol], List[List[Types.this.Type]])#Zipped[List[Types.this.Symbol],Types.this.Symbol,List[List[Types.this.Type]],List[Types.this.Type]]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (Types.this.Symbol, List[Types.this.Type]) =&gt; Types.this.Symbol)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">map</a>
          <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="855257">tparam</a>, <a title="List[Types.this.Type]" id="855258">bounds</a><span class="delimiter">)</span> =&gt; <a href="#855257" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509302" title="=&gt; Types.this.Symbol">cloneSymbol</a>.<a href="Symbols.scala.html#509274" title="(info: Types.this.Type)Types.this.Symbol">setInfo</a><span class="delimiter">(</span><a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#855258" title="List[Types.this.Type]">bounds</a>, <a href="#617821" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#546990" title="(typeParams: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.PolyType">PolyType</a><span class="delimiter">(</span><a href="#855157" title="List[Types.this.Symbol]">tparams1</a>, <a href="#855122" title="(ts0: List[Types.this.Type])Types.this.Type">lub0</a><span class="delimiter">(</span><a href="#478994" title="(tps: List[Types.this.Type], tparams: List[Types.this.Symbol])List[Types.this.Type]">matchingInstTypes</a><span class="delimiter">(</span><a href="#855151" title="collection.immutable.::[Types.this.Type]">ts</a>, <a href="#855157" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.MethodType" id="855299">ts</a> @ MethodType<span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="855304">params</a>, _<span class="delimiter">)</span> :: <a title="List[Types.this.Type]" id="855305">rest</a> =&gt;
        <a href="#546837" title="(params: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.MethodType">MethodType</a><span class="delimiter">(</span><a href="#855304" title="List[Types.this.Symbol]">params</a>, <a href="#855122" title="(ts0: List[Types.this.Type])Types.this.Type">lub0</a><span class="delimiter">(</span><a href="#478995" title="(tps: List[Types.this.Type], pts: List[Types.this.Type])List[Types.this.Type]">matchingRestypes</a><span class="delimiter">(</span><a href="#855299" title="collection.immutable.::[Types.this.Type]">ts</a>, <a href="#855304" title="List[Types.this.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#855325" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.NullaryMethodType" id="855353">ts</a> @ NullaryMethodType<span class="delimiter">(</span>_<span class="delimiter">)</span> :: <a title="List[Types.this.Type]" id="855358">rest</a> =&gt;
        <a href="#546934" title="(resultType: Types.this.Type)Types.this.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#855122" title="(ts0: List[Types.this.Type])Types.this.Type">lub0</a><span class="delimiter">(</span><a href="#478995" title="(tps: List[Types.this.Type], pts: List[Types.this.Type])List[Types.this.Type]">matchingRestypes</a><span class="delimiter">(</span><a href="#855353" title="collection.immutable.::[Types.this.Type]">ts</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.TypeBounds" id="855359">ts</a> @ TypeBounds<span class="delimiter">(</span>_, _<span class="delimiter">)</span> :: <a title="List[Types.this.Type]" id="855364">rest</a> =&gt;
        <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#855359" title="collection.immutable.::[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#855385" title="Types.this.Type">_</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a><span class="delimiter">)</span>, <a href="#617821" title="Int">depth</a><span class="delimiter">)</span>, <a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#855359" title="collection.immutable.::[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#855427" title="Types.this.Type">_</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a><span class="delimiter">)</span>, <a href="#617821" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.Type" id="855455">ts</a> =&gt;
        <a href="#478974" title="=&gt; scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]">lubResults</a> <a href="../../../collection/mutable/HashMap.scala.html#73158" title="(key: (Int, List[Types.this.Type]))Option[Types.this.Type]">get</a> <span class="delimiter">(</span><a href="#617821" title="Int">depth</a>, <a href="#855455" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Types.this.Type">Some</span><span class="delimiter">(</span><a title="Types.this.Type" id="855466">lubType</a><span class="delimiter">)</span> =&gt;
            <a href="#855466" title="Types.this.Type">lubType</a>
          <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="Types.this.Type">None</a> =&gt;
            <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: (Int, List[Types.this.Type]), value: Types.this.Type)Unit">lubResults</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Int, _2: List[Types.this.Type])(Int, List[Types.this.Type])" class="delimiter">(</a><a href="#617821" title="Int">depth</a>, <a href="#855455" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
            <span class="keyword">val</span> <a title="Types.this.Type" id="855467">res</a> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#617821" title="Int">depth</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a> <span class="keyword">else</span> <a href="#855123" title="(ts0: List[Types.this.Type])Types.this.Type">lub1</a><span class="delimiter">(</span><a href="#855455" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>
            <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: (Int, List[Types.this.Type]), value: Types.this.Type)Unit">lubResults</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Int, _2: List[Types.this.Type])(Int, List[Types.this.Type])" class="delimiter">(</a><a href="#617821" title="Int">depth</a>, <a href="#855455" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#855467" title="Types.this.Type">res</a>
            <a href="#855467" title="Types.this.Type">res</a>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(ts0: List[Types.this.Type])Types.this.Type" id="855123">lub1</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="855482">ts0</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[Types.this.Type], List[Types.this.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[Types.this.Type]" id="855490">ts</a>, <a href="../../../Tuple2.scala.html#53404" title="List[Types.this.Symbol]" id="855491">tparams</a><span class="delimiter">)</span> = <a href="#478967" title="(ts: List[Types.this.Type])(List[Types.this.Type], List[Types.this.Symbol])">stripExistentialsAndTypeVars</a><a href="../../../Tuple2.scala.html#1520" title="(List[Types.this.Type], List[Types.this.Symbol]) @unchecked" class="delimiter">(</a><a href="#855482" title="List[Types.this.Type]">ts0</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Types.this.Type]" id="855492">lubBaseTypes</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#478956" title="(ts: List[Types.this.Type], depth: Int)List[Types.this.Type]">lubList</a><span class="delimiter">(</span><a href="#855490" title="List[Types.this.Type]">ts</a>, <a href="#617821" title="Int">depth</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Types.this.Type]" id="855493">lubParents</a> = <a href="#478958" title="(ts: List[Types.this.Type])List[Types.this.Type]">spanningTypes</a><span class="delimiter">(</span><a href="#855492" title="List[Types.this.Type]">lubBaseTypes</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Types.this.Symbol" id="855494">lubOwner</a> = <a href="#478990" title="(tps: List[Types.this.Type])Types.this.Symbol">commonOwner</a><span class="delimiter">(</span><a href="#855490" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="855495">lubBase</a> = <a href="#478815" title="(tps: List[Types.this.Type], owner: Types.this.Symbol)Types.this.Type">intersectionType</a><span class="delimiter">(</span><a href="#855493" title="List[Types.this.Type]">lubParents</a>, <a href="#855494" title="Types.this.Symbol">lubOwner</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="855496">lubType</a> =
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#617821" title="Int">depth</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#855495" title="Types.this.Type">lubBase</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Types.this.Type" id="855521">lubRefined</a> = <a href="#478809" title="(parents: List[Types.this.Type], owner: Types.this.Symbol)Types.this.Type">refinedType</a><span class="delimiter">(</span><a href="#855493" title="List[Types.this.Type]">lubParents</a>, <a href="#855494" title="Types.this.Symbol">lubOwner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Types.this.Type" id="855522">lubThisType</a> = <a href="#855521" title="Types.this.Type">lubRefined</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509308" title="=&gt; Types.this.Type">thisType</a>
          <span class="keyword">val</span> <a title="List[Types.this.Type]" id="855523">narrowts</a> = <a href="#855490" title="List[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#855546" title="Types.this.Type">_</a>.<a href="#507166" title="=&gt; Types.this.Type">narrow</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(proto: Types.this.Symbol)Types.this.Symbol" id="855524">lubsym</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="855574">proto</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Types.this.Type" id="855575">prototp</a> = <a href="#855522" title="Types.this.Type">lubThisType</a>.<a href="#507206" title="(sym: Types.this.Symbol)Types.this.Type">memberInfo</a><span class="delimiter">(</span><a href="#855574" title="Types.this.Symbol">proto</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="855576">syms</a> = <a href="#855523" title="List[Types.this.Type]">narrowts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">map</a> <span class="delimiter">(</span><a title="Types.this.Type" id="855593">t</a> =&gt;
              <a href="#855593" title="Types.this.Type">t</a>.<a href="#507201" title="(name: Types.this.Name)Types.this.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#855574" title="Types.this.Symbol">proto</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>.<a href="Symbols.scala.html#509301" title="(cond: Types.this.Symbol =&gt; Boolean)Types.this.Symbol">suchThat</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="855595">sym</a> =&gt;
                <a href="#855595" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a> <a href="#507227" title="(that: Types.this.Type)Boolean">matches</a> <a href="#855575" title="Types.this.Type">prototp</a>.<a href="#507211" title="(from: Types.this.Symbol, to: Types.this.Type)Types.this.Type">substThis</a><span class="delimiter">(</span><a href="#855522" title="Types.this.Type">lubThisType</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>, <a href="#855593" title="Types.this.Type">t</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#855576" title="List[Types.this.Symbol]">syms</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Types.this.Type]" id="855623">symtypes</a> =
                <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Types.this.Type], _2: List[Types.this.Symbol])(List[Types.this.Type], List[Types.this.Symbol])" class="delimiter">(</a><a href="#855523" title="List[Types.this.Type]">narrowts</a>, <a href="#855576" title="List[Types.this.Symbol]">syms</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Types.this.Type] =&gt; scala.collection.TraversableLike[Types.this.Type,List[Types.this.Type]], implicit w2: List[Types.this.Symbol] =&gt; scala.collection.IterableLike[Types.this.Symbol,List[Types.this.Symbol]])(List[Types.this.Type], List[Types.this.Symbol])#Zipped[List[Types.this.Type],Types.this.Type,List[Types.this.Symbol],Types.this.Symbol]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (Types.this.Type, Types.this.Symbol) =&gt; Types.this.Type)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Type" id="855678">t</a>, <a title="Types.this.Symbol" id="855679">sym</a><span class="delimiter">)</span> =&gt; <a href="#855678" title="Types.this.Type">t</a>.<a href="#507206" title="(sym: Types.this.Symbol)Types.this.Type">memberInfo</a><span class="delimiter">(</span><a href="#855679" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>.<a href="#507211" title="(from: Types.this.Symbol, to: Types.this.Type)Types.this.Type">substThis</a><span class="delimiter">(</span><a href="#855678" title="Types.this.Type">t</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>, <a href="#855522" title="Types.this.Type">lubThisType</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#855574" title="Types.this.Symbol">proto</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="comment">// possible problem: owner of info is still the old one, instead of new refinement class</span>
                <a href="#855574" title="Types.this.Symbol">proto</a>.<a href="Symbols.scala.html#509303" title="(owner: Types.this.Symbol)Types.this.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#855521" title="Types.this.Type">lubRefined</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span>.<a href="Symbols.scala.html#509275" title="(info: Types.this.Type)Types.this.Symbol">setInfoOwnerAdjusted</a><span class="delimiter">(</span><a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#855623" title="List[Types.this.Type]">symtypes</a>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#617821" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Types.this.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#855623" title="List[Types.this.Type]">symtypes</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Type]">tail</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#855623" title="List[Types.this.Type]">symtypes</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#855574" title="Types.this.Symbol">proto</a>.<a href="Symbols.scala.html#509303" title="(owner: Types.this.Symbol)Types.this.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#855521" title="Types.this.Type">lubRefined</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span>.<a href="Symbols.scala.html#509275" title="(info: Types.this.Type)Types.this.Symbol">setInfoOwnerAdjusted</a><span class="delimiter">(</span><a href="#855623" title="List[Types.this.Type]">symtypes</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">def</span> <a title="(bnds: List[Types.this.TypeBounds])Types.this.TypeBounds" id="855729">lubBounds</a><span class="delimiter">(</span><a title="List[Types.this.TypeBounds]" id="855730">bnds</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.TypeBounds]">List</a><span class="delimiter">[</span>TypeBounds<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a> =
                  <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#855730" title="List[Types.this.TypeBounds]">bnds</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.TypeBounds =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.TypeBounds],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#855751" title="Types.this.TypeBounds">_</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a><span class="delimiter">)</span>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#617821" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#855730" title="List[Types.this.TypeBounds]">bnds</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.TypeBounds =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.TypeBounds],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#855793" title="Types.this.TypeBounds">_</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a><span class="delimiter">)</span>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#617821" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#855521" title="Types.this.Type">lubRefined</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509145" title="(pos: Types.this.Position, name: Types.this.TypeName)Types.this.TypeSymbol">newAbstractType</a><span class="delimiter">(</span><a href="#855574" title="Types.this.Symbol">proto</a>.<a href="Symbols.scala.html#509109" title="=&gt; Types.this.Position">pos</a>, <a href="#855574" title="Types.this.Symbol">proto</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a>.<a href="Names.scala.html#501118" title="=&gt; Types.this.TypeName">toTypeName</a><span class="delimiter">)</span>
                  .<a href="Symbols.scala.html#509275" title="(info: Types.this.Type)Types.this.TypeSymbol">setInfoOwnerAdjusted</a><span class="delimiter">(</span><a href="#855729" title="(bnds: List[Types.this.TypeBounds])Types.this.TypeBounds">lubBounds</a><span class="delimiter">(</span><a href="#855623" title="List[Types.this.Type]">symtypes</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.TypeBounds,List[Types.this.TypeBounds]])List[Types.this.TypeBounds]">map</a> <span class="delimiter">(</span><a href="#855855" title="Types.this.Type">_</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(tp: Types.this.Type, sym: Types.this.Symbol)Boolean" id="855525">refines</a><span class="delimiter">(</span><a title="Types.this.Type" id="855883">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="855884">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="855885">syms</a> = <a href="#855883" title="Types.this.Type">tp</a>.<a href="#507201" title="(name: Types.this.Name)Types.this.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#855884" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>.<a href="Symbols.scala.html#509299" title="=&gt; List[Types.this.Symbol]">alternatives</a>;
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#855885" title="List[Types.this.Symbol]">syms</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#855885" title="List[Types.this.Symbol]">syms</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Symbol =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="Types.this.Symbol" id="855892">alt</a> =&gt;
              <span class="comment">// todo alt != sym is strictly speaking not correct, but without it we lose</span>
              <span class="comment">// efficiency.</span>
              <a href="#855892" title="Types.this.Symbol">alt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#855884" title="Types.this.Symbol">sym</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#478943" title="(tp1: Types.this.Type, sym1: Types.this.Symbol, tp2: Types.this.Type, sym2: Types.this.Symbol)Boolean">specializesSym</a><span class="delimiter">(</span><a href="#855522" title="Types.this.Type">lubThisType</a>, <a href="#855884" title="Types.this.Symbol">sym</a>, <a href="#855883" title="Types.this.Type">tp</a>, <a href="#855892" title="Types.this.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="855922">sym</a> &lt;- <a href="#855495" title="Types.this.Type">lubBase</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Symbol =&gt; Unit)Unit">nonPrivateMembers</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// add a refinement symbol for all non-class members of lubBase</span>
            <span class="comment">// which are refined by every type in ts.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#855922" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#855922" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#855523" title="List[Types.this.Type]">narrowts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="Types.this.Type" id="855929">t</a> =&gt; <a href="#855525" title="(tp: Types.this.Type, sym: Types.this.Symbol)Boolean">refines</a><span class="delimiter">(</span><a href="#855929" title="Types.this.Type">t</a>, <a href="#855922" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Types.this.Symbol" id="855930">lsym</a> = <a href="#855524" title="(proto: Types.this.Symbol)Types.this.Symbol">lubsym</a><span class="delimiter">(</span><a href="#855922" title="Types.this.Symbol">sym</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#855930" title="Types.this.Symbol">lsym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#478992" title="(thistp: Types.this.Type, tp: Types.this.Type, sym: Types.this.Symbol)Unit">addMember</a><span class="delimiter">(</span><a href="#855522" title="Types.this.Type">lubThisType</a>, <a href="#855521" title="Types.this.Type">lubRefined</a>, <a href="#855524" title="(proto: Types.this.Symbol)Types.this.Symbol">lubsym</a><span class="delimiter">(</span><a href="#855922" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Unit" id="855935">ex</a>: <a href="#478999" title="Types.this.NoCommonType">NoCommonType</a> =&gt;
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#855521" title="Types.this.Type">lubRefined</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514356" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#855495" title="Types.this.Type">lubBase</a>
          <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span title="Boolean(true)">verifyLubs</span><span class="delimiter">)</span> <a href="#855521" title="Types.this.Type">lubRefined</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// Verify that every given type conforms to the calculated lub.</span>
            <span class="comment">// In theory this should not be necessary, but higher-order type</span>
            <span class="comment">// parameters are not handled correctly.</span>
            <span class="keyword">val</span> <a title="Boolean" id="855941">ok</a> = <a href="#855490" title="List[Types.this.Type]">ts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">{</span> <a title="Types.this.Type" id="855948">t</a> =&gt;
              <span class="delimiter">(</span><a href="#855948" title="Types.this.Type">t</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#855521" title="Types.this.Type">lubRefined</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span>
                    <span title="java.lang.String(&quot;Malformed lub: &quot;)" class="string">&quot;Malformed lub: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#855521" title="Types.this.Type">lubRefined</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                    <span title="java.lang.String(&quot;Argument &quot;)" class="string">&quot;Argument &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#855948" title="Types.this.Type">t</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not conform.  Falling back to &quot;)" class="string">&quot; does not conform.  Falling back to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#855495" title="Types.this.Type">lubBase</a>
                  <span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Boolean(false)" class="keyword">false</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="comment">// If not, fall back on the more conservative calculation.</span>
            <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#855941" title="Boolean">ok</a><span class="delimiter">)</span> <a href="#855521" title="Types.this.Type">lubRefined</a>
            <span class="keyword">else</span> <a href="#855495" title="Types.this.Type">lubBase</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <a href="#478821" title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#855491" title="List[Types.this.Symbol]">tparams</a>, <a href="#855496" title="Types.this.Type">lubType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)">printLubs</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#479003" title="=&gt; String">indent</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;lub of &quot;)" class="string">&quot;lub of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#617820" title="List[Types.this.Type]">ts</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; at depth &quot;)" class="string">&quot; at depth &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#617821" title="Int">depth</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <a href="#479003" title="(x$1: String)Unit">indent</a> = <a href="#479003" title="=&gt; String">indent</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;  &quot;)" class="string">&quot;  &quot;</span>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#479003" title="=&gt; String">indent</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <span title="Int(100)" class="int">100</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="Types.this.Type" id="855124">res</a> = <a href="#855122" title="(ts0: List[Types.this.Type])Types.this.Type">lub0</a><span class="delimiter">(</span><a href="#617820" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)">printLubs</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#479003" title="(x$1: String)Unit">indent</a> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">indent</a> <a href="../../../collection/IndexedSeqOptimized.scala.html#55970" title="(n: Int)String">dropRight</a> <span title="Int(2)" class="int">2</span>
      <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#479003" title="=&gt; String">indent</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;lub of &quot;)" class="string">&quot;lub of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#617820" title="List[Types.this.Type]">ts</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is &quot;)" class="string">&quot; is &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#855124" title="Types.this.Type">res</a><span class="delimiter">)</span><span class="comment">//debug</span>
    <span class="delimiter">}</span>
    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#617820" title="List[Types.this.Type]">ts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#855980" title="Types.this.Type">_</a>.<a href="#507153" title="=&gt; Boolean">isNotNull</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#855124" title="Types.this.Type">res</a>.<a href="#507184" title="=&gt; Types.this.Type">notNull</a> <span class="keyword">else</span> <a href="#855124" title="Types.this.Type">res</a>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="java.lang.Throwable" id="478980">GlbFailure</a> = <span title="java.lang.Throwable" class="keyword">new</span> <a href="../../../package.scala.html#47499" title="java.lang.Throwable">Throwable</a>

  <span class="comment">/** A global counter for glb calls in the `specializes' query connected to the `addMembers'
   *  call in `glb'. There's a possible infinite recursion when `specializes' calls
   *  memberType, which calls baseTypeSeq, which calls mergePrefixAndArgs, which calls glb.
   *  The counter breaks this recursion after two calls.
   *  If the recursion is broken, no member is added to the glb.
   */</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="478983">globalGlbDepth</a> = <span title="Int(0)" class="int">0</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Int(2)" id="478985">globalGlbLimit</a> = <span title="Int(2)" class="int">2</span>

  <span class="keyword">def</span> <a title="(ts: List[Types.this.Type])Types.this.Type" id="478987">glb</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="766913">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
    <a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#766913" title="List[Types.this.Type]">ts</a>, <a href="#478896" title="(ts: List[Types.this.Type])Int">lubDepth</a><span class="delimiter">(</span><a href="#766913" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
    <a href="#478974" title="=&gt; scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]">lubResults</a>.<a href="../../../collection/mutable/HashMap.scala.html#73154" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#478976" title="=&gt; scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]">glbResults</a>.<a href="../../../collection/mutable/HashMap.scala.html#73154" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The greatest lower bound wrt &lt;:&lt; of a list of types */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(ts: List[Types.this.Type], depth: Int)Types.this.Type" id="478988">glb</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="853758">ts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="853759">depth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(ts0: List[Types.this.Type])Types.this.Type" id="855985">glb0</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="855988">ts0</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#478959" title="(ts: List[Types.this.Type])List[Types.this.Type]">elimSuper</a><span class="delimiter">(</span><a href="#855988" title="List[Types.this.Type]">ts0</a><span class="delimiter">)</span> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="Types.this.Type">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
      <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="Types.this.Type">List</a><span class="delimiter">(</span><a title="Types.this.Type" id="856013">t</a><span class="delimiter">)</span> =&gt; <a href="#856013" title="Types.this.Type">t</a>
      <span class="keyword">case</span> <a title="Types.this.PolyType" id="856014">ts</a> @ PolyType<span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="856019">tparams</a>, _<span class="delimiter">)</span> :: _ =&gt;
        <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="856020">tparams1</a> = <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Types.this.Symbol], _2: List[List[Types.this.Type]])(List[Types.this.Symbol], List[List[Types.this.Type]])" class="delimiter">(</a><a href="#856019" title="List[Types.this.Symbol]">tparams</a>, <a href="#478993" title="(tps: List[Types.this.Type], tparams: List[Types.this.Symbol])List[List[Types.this.Type]]">matchingBounds</a><span class="delimiter">(</span><a href="#856014" title="collection.immutable.::[Types.this.Type]">ts</a>, <a href="#856019" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53807" title="(implicit asTraversable: List[Types.this.Type] =&gt; scala.collection.GenTraversableOnce[Types.this.Type])List[List[Types.this.Type]]">transpose</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Types.this.Symbol] =&gt; scala.collection.TraversableLike[Types.this.Symbol,List[Types.this.Symbol]], implicit w2: List[List[Types.this.Type]] =&gt; scala.collection.IterableLike[List[Types.this.Type],List[List[Types.this.Type]]])(List[Types.this.Symbol], List[List[Types.this.Type]])#Zipped[List[Types.this.Symbol],Types.this.Symbol,List[List[Types.this.Type]],List[Types.this.Type]]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (Types.this.Symbol, List[Types.this.Type]) =&gt; Types.this.Symbol)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">map</a>
          <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="856114">tparam</a>, <a title="List[Types.this.Type]" id="856115">bounds</a><span class="delimiter">)</span> =&gt; <a href="#856114" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509302" title="=&gt; Types.this.Symbol">cloneSymbol</a>.<a href="Symbols.scala.html#509274" title="(info: Types.this.Type)Types.this.Symbol">setInfo</a><span class="delimiter">(</span><a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#856115" title="List[Types.this.Type]">bounds</a>, <a href="#853759" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#546990" title="(typeParams: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.PolyType">PolyType</a><span class="delimiter">(</span><a href="#856020" title="List[Types.this.Symbol]">tparams1</a>, <a href="#855985" title="(ts0: List[Types.this.Type])Types.this.Type">glb0</a><span class="delimiter">(</span><a href="#478994" title="(tps: List[Types.this.Type], tparams: List[Types.this.Symbol])List[Types.this.Type]">matchingInstTypes</a><span class="delimiter">(</span><a href="#856014" title="collection.immutable.::[Types.this.Type]">ts</a>, <a href="#856020" title="List[Types.this.Symbol]">tparams1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.MethodType" id="856150">ts</a> @ MethodType<span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="856155">params</a>, _<span class="delimiter">)</span> :: <a title="List[Types.this.Type]" id="856156">rest</a> =&gt;
        <a href="#546837" title="(params: List[Types.this.Symbol], resultType: Types.this.Type)Types.this.MethodType">MethodType</a><span class="delimiter">(</span><a href="#856155" title="List[Types.this.Symbol]">params</a>, <a href="#855985" title="(ts0: List[Types.this.Type])Types.this.Type">glb0</a><span class="delimiter">(</span><a href="#478995" title="(tps: List[Types.this.Type], pts: List[Types.this.Type])List[Types.this.Type]">matchingRestypes</a><span class="delimiter">(</span><a href="#856150" title="collection.immutable.::[Types.this.Type]">ts</a>, <a href="#856155" title="List[Types.this.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#856173" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.NullaryMethodType" id="856201">ts</a> @ NullaryMethodType<span class="delimiter">(</span>_<span class="delimiter">)</span> :: <a title="List[Types.this.Type]" id="856206">rest</a> =&gt;
        <a href="#546934" title="(resultType: Types.this.Type)Types.this.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#855985" title="(ts0: List[Types.this.Type])Types.this.Type">glb0</a><span class="delimiter">(</span><a href="#478995" title="(tps: List[Types.this.Type], pts: List[Types.this.Type])List[Types.this.Type]">matchingRestypes</a><span class="delimiter">(</span><a href="#856201" title="collection.immutable.::[Types.this.Type]">ts</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.TypeBounds" id="856207">ts</a> @ TypeBounds<span class="delimiter">(</span>_, _<span class="delimiter">)</span> :: <a title="List[Types.this.Type]" id="856212">rest</a> =&gt;
        <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#856207" title="collection.immutable.::[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#856233" title="Types.this.Type">_</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a><span class="delimiter">)</span>, <a href="#853759" title="Int">depth</a><span class="delimiter">)</span>, <a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#856207" title="collection.immutable.::[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#856275" title="Types.this.Type">_</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a><span class="delimiter">)</span>, <a href="#853759" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.Type" id="856303">ts</a> =&gt;
        <a href="#478976" title="=&gt; scala.collection.mutable.HashMap[(Int, List[Types.this.Type]),Types.this.Type]">glbResults</a> <a href="../../../collection/mutable/HashMap.scala.html#73158" title="(key: (Int, List[Types.this.Type]))Option[Types.this.Type]">get</a> <span class="delimiter">(</span><a href="#853759" title="Int">depth</a>, <a href="#856303" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Types.this.Type">Some</span><span class="delimiter">(</span><a title="Types.this.Type" id="856314">glbType</a><span class="delimiter">)</span> =&gt;
            <a href="#856314" title="Types.this.Type">glbType</a>
          <span class="keyword">case</span> <span title="Types.this.Type">_</span> =&gt;
            <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: (Int, List[Types.this.Type]), value: Types.this.Type)Unit">glbResults</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Int, _2: List[Types.this.Type])(Int, List[Types.this.Type])" class="delimiter">(</a><a href="#853759" title="Int">depth</a>, <a href="#856303" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
            <span class="keyword">val</span> <a title="Types.this.Type" id="856315">res</a> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#853759" title="Int">depth</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a> <span class="keyword">else</span> <a href="#855986" title="(ts0: List[Types.this.Type])Types.this.Type">glb1</a><span class="delimiter">(</span><a href="#856303" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>
            <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: (Int, List[Types.this.Type]), value: Types.this.Type)Unit">glbResults</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Int, _2: List[Types.this.Type])(Int, List[Types.this.Type])" class="delimiter">(</a><a href="#853759" title="Int">depth</a>, <a href="#856303" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#856315" title="Types.this.Type">res</a>
            <a href="#856315" title="Types.this.Type">res</a>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(ts0: List[Types.this.Type])Types.this.Type" id="855986">glb1</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="856330">ts0</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[Types.this.Type], List[Types.this.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[Types.this.Type]" id="856338">ts</a>, <a href="../../../Tuple2.scala.html#53404" title="List[Types.this.Symbol]" id="856339">tparams</a><span class="delimiter">)</span> = <a href="#478967" title="(ts: List[Types.this.Type])(List[Types.this.Type], List[Types.this.Symbol])">stripExistentialsAndTypeVars</a><a href="../../../Tuple2.scala.html#1520" title="(List[Types.this.Type], List[Types.this.Symbol]) @unchecked" class="delimiter">(</a><a href="#856330" title="List[Types.this.Type]">ts0</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Types.this.Symbol" id="856340">glbOwner</a> = <a href="#478990" title="(tps: List[Types.this.Type])Types.this.Symbol">commonOwner</a><span class="delimiter">(</span><a href="#856338" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(t: Types.this.Type)List[Types.this.Type]" id="856341">refinedToParents</a><span class="delimiter">(</span><a title="Types.this.Type" id="856362">t</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#856362" title="Types.this.Type">t</a> <span title="List[Types.this.Type]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="List[Types.this.Type]">RefinedType</span><span class="delimiter">(</span><a title="List[Types.this.Type]" id="856363">ps</a>, _<span class="delimiter">)</span> =&gt; <a href="#856363" title="List[Types.this.Type]">ps</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: Types.this.Type =&gt; scala.collection.GenTraversableOnce[Types.this.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">flatMap</a> <a href="#856341" title="(t: Types.this.Type)List[Types.this.Type]">refinedToParents</a>
          <span class="keyword">case</span> <span title="List[Types.this.Type]">_</span> =&gt; <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Type*)List[Types.this.Type]">List</a><span class="delimiter">(</span><a href="#856362" title="Types.this.Type">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(t: Types.this.Type)List[Types.this.Scope]" id="856342">refinedToDecls</a><span class="delimiter">(</span><a title="Types.this.Type" id="856415">t</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Scope]">List</a><span class="delimiter">[</span>Scope<span class="delimiter">]</span> = <a href="#856415" title="Types.this.Type">t</a> <span title="List[Types.this.Scope]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="List[Types.this.Scope]">RefinedType</span><span class="delimiter">(</span><a title="List[Types.this.Type]" id="856416">ps</a>, <a title="Types.this.Scope" id="856417">decls</a><span class="delimiter">)</span> =&gt;
            <span class="keyword">val</span> <a title="List[Types.this.Scope]" id="856418">dss</a> = <a href="#856416" title="List[Types.this.Type]">ps</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: Types.this.Type =&gt; scala.collection.GenTraversableOnce[Types.this.Scope])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Scope,List[Types.this.Scope]])List[Types.this.Scope]">flatMap</a> <a href="#856342" title="(t: Types.this.Type)List[Types.this.Scope]">refinedToDecls</a>
            <span title="List[Types.this.Scope]" class="keyword">if</span> <span class="delimiter">(</span><a href="#856417" title="Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514356" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#856418" title="List[Types.this.Scope]">dss</a> <span class="keyword">else</span> <a href="#856417" title="Types.this.Scope">decls</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Scope)List[Types.this.Scope]">::</a> <a href="#856418" title="List[Types.this.Scope]">dss</a>
          <span class="keyword">case</span> <span title="List[Nothing]">_</span> =&gt; List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Types.this.Type]" id="856343">ts1</a> = <a href="#856338" title="List[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: Types.this.Type =&gt; scala.collection.GenTraversableOnce[Types.this.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">flatMap</a> <a href="#856341" title="(t: Types.this.Type)List[Types.this.Type]">refinedToParents</a>
        <span class="keyword">val</span> <a title="Types.this.Type" id="856344">glbBase</a> = <a href="#478815" title="(tps: List[Types.this.Type], owner: Types.this.Symbol)Types.this.Type">intersectionType</a><span class="delimiter">(</span><a href="#856343" title="List[Types.this.Type]">ts1</a>, <a href="#856340" title="Types.this.Symbol">glbOwner</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Types.this.Type" id="856345">glbType</a> =
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#853759" title="Int">depth</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#856344" title="Types.this.Type">glbBase</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Types.this.Type" id="856528">glbRefined</a> = <a href="#478809" title="(parents: List[Types.this.Type], owner: Types.this.Symbol)Types.this.Type">refinedType</a><span class="delimiter">(</span><a href="#856343" title="List[Types.this.Type]">ts1</a>, <a href="#856340" title="Types.this.Symbol">glbOwner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Types.this.Type" id="856529">glbThisType</a> = <a href="#856528" title="Types.this.Type">glbRefined</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a>.<a href="Symbols.scala.html#509308" title="=&gt; Types.this.Type">thisType</a>
            <span class="keyword">def</span> <a title="(proto: Types.this.Symbol)Types.this.Symbol" id="856530">glbsym</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="856535">proto</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Types.this.Type" id="856536">prototp</a> = <a href="#856529" title="Types.this.Type">glbThisType</a>.<a href="#507206" title="(sym: Types.this.Symbol)Types.this.Type">memberInfo</a><span class="delimiter">(</span><a href="#856535" title="Types.this.Symbol">proto</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="856537">syms</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Type" id="856549">t</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: Types.this.Type =&gt; scala.collection.GenTraversableOnce[Types.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">ts</a>;
                    <a title="Types.this.Symbol" id="856564">alt</a> &lt;- <span class="delimiter">(</span><a href="#856549" title="Types.this.Type">t</a>.<a href="#507201" title="(name: Types.this.Name)Types.this.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#856535" title="Types.this.Symbol">proto</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>.<a href="../../../collection/generic/FilterMonadic.scala.html#53486" title="(f: Types.this.Symbol =&gt; Types.this.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">alternatives</a><span class="delimiter">)</span>;
                <span class="keyword">if</span> <a href="#856529" title="Types.this.Type">glbThisType</a>.<a href="#507206" title="(sym: Types.this.Symbol)Types.this.Type">memberInfo</a><span class="delimiter">(</span><a href="#856564" title="Types.this.Symbol">alt</a><span class="delimiter">)</span> <a href="#507227" title="(that: Types.this.Type)Boolean">matches</a> <a href="#856536" title="Types.this.Type">prototp</a>
              <span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#856564" title="Types.this.Symbol">alt</a>
              <span class="keyword">val</span> <a title="List[Types.this.Type]" id="856538">symtypes</a> = <a href="#856537" title="List[Types.this.Symbol]">syms</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <a href="#856529" title="Types.this.Type">glbThisType</a>.<a href="#507206" title="(sym: Types.this.Symbol)Types.this.Type">memberInfo</a>
              <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#856538" title="List[Types.this.Type]">symtypes</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
              <a href="#856535" title="Types.this.Symbol">proto</a>.<a href="Symbols.scala.html#509303" title="(owner: Types.this.Symbol)Types.this.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#856528" title="Types.this.Type">glbRefined</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span>.<a href="Symbols.scala.html#509275" title="(info: Types.this.Type)Types.this.Symbol">setInfoOwnerAdjusted</a><span class="delimiter">(</span>
                <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#856535" title="Types.this.Symbol">proto</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#856538" title="List[Types.this.Type]">symtypes</a>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#853759" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">else</span> <span class="delimiter">{</span>
                  <span class="keyword">def</span> <a title="(tp: Types.this.Type)Boolean" id="856675">isTypeBound</a><span class="delimiter">(</span><a title="Types.this.Type" id="856679">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#856679" title="Types.this.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <span title="Boolean(true)">TypeBounds</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
                    <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
                  <span class="delimiter">}</span>
                  <span class="keyword">def</span> <a title="(bnds: List[Types.this.Type])Types.this.TypeBounds" id="856676">glbBounds</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="856680">bnds</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#546596" title="Types.this.TypeBounds">TypeBounds</a> = <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="Types.this.Type" id="856681">lo</a> = <a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#856680" title="List[Types.this.Type]">bnds</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#856703" title="Types.this.Type">_</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546610" title="=&gt; Types.this.Type">lo</a><span class="delimiter">)</span>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#853759" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="Types.this.Type" id="856682">hi</a> = <a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#856680" title="List[Types.this.Type]">bnds</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#856745" title="Types.this.Type">_</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>.<a href="#546611" title="=&gt; Types.this.Type">hi</a><span class="delimiter">)</span>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#853759" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span title="Types.this.TypeBounds" class="keyword">if</span> <span class="delimiter">(</span><a href="#856681" title="Types.this.Type">lo</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#856682" title="Types.this.Type">hi</a><span class="delimiter">)</span> <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#856681" title="Types.this.Type">lo</a>, <a href="#856682" title="Types.this.Type">hi</a><span class="delimiter">)</span>
                    <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <a href="#478980" title="=&gt; java.lang.Throwable">GlbFailure</a>
                  <span class="delimiter">}</span>
                  <span class="keyword">val</span> <a title="List[Types.this.Type]" id="856677">symbounds</a> = <a href="#856538" title="List[Types.this.Type]">symtypes</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Types.this.Type =&gt; Boolean)List[Types.this.Type]">filter</a> <a href="#856675" title="(tp: Types.this.Type)Boolean">isTypeBound</a>
                  <span class="keyword">var</span> <a title="Types.this.Type" id="856678">result</a>: <a href="#478720" title="Types.this.Type">Type</a> =
                    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#856677" title="List[Types.this.Type]">symbounds</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
                      <a href="#478751" title="object Types.this.TypeBounds">TypeBounds</a>.<a href="#546577" title="=&gt; Types.this.TypeBounds">empty</a>
                    <span class="keyword">else</span> <a href="#856676" title="(bnds: List[Types.this.Type])Types.this.TypeBounds">glbBounds</a><span class="delimiter">(</span><a href="#856677" title="List[Types.this.Type]">symbounds</a><span class="delimiter">)</span>
                  <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Type" id="856785">t</a> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#53496" title="(f: Types.this.Type =&gt; Unit)Unit">symtypes</a> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#856675" title="(tp: Types.this.Type)Boolean">isTypeBound</a><span class="delimiter">(</span><a href="#856785" title="Types.this.Type">t</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#856678" title="Types.this.Type">result</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a> <a href="#546592" title="(that: Types.this.Type)Boolean">containsType</a> <a href="#856785" title="Types.this.Type">t</a><span class="delimiter">)</span> <a href="#856678" title="Types.this.Type">result</a> = <a href="#856785" title="Types.this.Type">t</a>
                    <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <a href="#478980" title="=&gt; java.lang.Throwable">GlbFailure</a>
                  <a href="#856678" title="Types.this.Type">result</a>
                <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#478983" title="=&gt; Int">globalGlbDepth</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(2)">globalGlbLimit</span><span class="delimiter">)</span>
              <span class="keyword">try</span> <span class="delimiter">{</span>
                <a href="#478983" title="(x$1: Int)Unit">globalGlbDepth</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
                <span class="keyword">val</span> <a title="List[Types.this.Scope]" id="856791">dss</a> = <a href="#856338" title="List[Types.this.Type]">ts</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: Types.this.Type =&gt; scala.collection.GenTraversableOnce[Types.this.Scope])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Scope,List[Types.this.Scope]])List[Types.this.Scope]">flatMap</a> <a href="#856342" title="(t: Types.this.Type)List[Types.this.Scope]">refinedToDecls</a>
                <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Scope" id="856853">ds</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Scope =&gt; Unit)Unit">dss</a>; <span class="keyword">val</span> <a title="Types.this.Symbol" id="856864">sym</a> &lt;- <a href="#856853" title="Types.this.Scope">ds</a>.<a href="../../../collection/Iterator.scala.html#59154" title="(f: Types.this.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#478983" title="=&gt; Int">globalGlbDepth</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(2)">globalGlbLimit</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#856529" title="Types.this.Type">glbThisType</a> <a href="#507226" title="(sym: Types.this.Symbol)Boolean">specializes</a> <a href="#856864" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">try</span> <span class="delimiter">{</span>
                      <a href="#478992" title="(thistp: Types.this.Type, tp: Types.this.Type, sym: Types.this.Symbol)Unit">addMember</a><span class="delimiter">(</span><a href="#856529" title="Types.this.Type">glbThisType</a>, <a href="#856528" title="Types.this.Type">glbRefined</a>, <a href="#856530" title="(proto: Types.this.Symbol)Types.this.Symbol">glbsym</a><span class="delimiter">(</span><a href="#856864" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
                      <span class="keyword">case</span> <a title="Unit" id="856869">ex</a>: <a href="#478999" title="Types.this.NoCommonType">NoCommonType</a> =&gt;
                    <span class="delimiter">}</span>
              <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
                <a href="#478983" title="(x$1: Int)Unit">globalGlbDepth</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(1)" class="int">1</span>
              <span class="delimiter">}</span>
            <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#856528" title="Types.this.Type">glbRefined</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a>.<a href="Scopes.scala.html#514356" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#856344" title="Types.this.Type">glbBase</a> <span class="keyword">else</span> <a href="#856528" title="Types.this.Type">glbRefined</a>
          <span class="delimiter">}</span>
        <a href="#478821" title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#856339" title="List[Types.this.Symbol]">tparams</a>, <a href="#856345" title="Types.this.Type">glbType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="#478980" title="Types.this.Type">GlbFailure</a> =&gt;
          <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#853758" title="List[Types.this.Type]">ts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="Types.this.Type" id="856883">t</a> =&gt; <a href="Definitions.scala.html#507931" title="=&gt; Types.this.Symbol">NullClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#856883" title="Types.this.Type">t</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Definitions.scala.html#507931" title="=&gt; Types.this.Symbol">NullClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
          <span class="keyword">else</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="comment">// if (settings.debug.value) { println(indent + &quot;glb of &quot; + ts + &quot; at depth &quot;+depth); indent = indent + &quot;  &quot; } //DEBUG</span>

    <span class="keyword">val</span> <a title="Types.this.Type" id="855987">res</a> = <a href="#855985" title="(ts0: List[Types.this.Type])Types.this.Type">glb0</a><span class="delimiter">(</span><a href="#853758" title="List[Types.this.Type]">ts</a><span class="delimiter">)</span>

    <span class="comment">// if (settings.debug.value) { indent = indent.substring(0, indent.length() - 2); log(indent + &quot;glb of &quot; + ts + &quot; is &quot; + res) }//DEBUG</span>

    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#853758" title="List[Types.this.Type]">ts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#856890" title="Types.this.Type">_</a>.<a href="#507153" title="=&gt; Boolean">isNotNull</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#855987" title="Types.this.Type">res</a>.<a href="#507184" title="=&gt; Types.this.Type">notNull</a> <span class="keyword">else</span> <a href="#855987" title="Types.this.Type">res</a>
  <span class="delimiter">}</span>

  <span class="comment">/** The most deeply nested owner that contains all the symbols
   *  of thistype or prefixless typerefs/singletype occurrences in given type.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: Types.this.Type)Types.this.Symbol" id="478989">commonOwner</a><span class="delimiter">(</span><a title="Types.this.Type" id="842505">t</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <a href="#478885" title="object Types.this.commonOwnerMap">commonOwnerMap</a>.<a href="#852256" title="()Unit">init</a>
    <a href="#478885" title="object Types.this.commonOwnerMap">commonOwnerMap</a>.<a href="#852257" title="(tp: Types.this.Type)Types.this.Type">apply</a><span class="delimiter">(</span><a href="#842505" title="Types.this.Type">t</a><span class="delimiter">)</span>
    <a href="#478885" title="object Types.this.commonOwnerMap">commonOwnerMap</a>.<a href="#852254" title="=&gt; Types.this.Symbol">result</a>
  <span class="delimiter">}</span>

  <span class="comment">/** The most deeply nested owner that contains all the symbols
   *  of thistype or prefixless typerefs/singletype occurrences in given list
   *  of types.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[Types.this.Type])Types.this.Symbol" id="478990">commonOwner</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="842503">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="comment">// if (settings.debug.value) log(&quot;computing common owner of types &quot; + tps)//DEBUG</span>
    <a href="#478885" title="object Types.this.commonOwnerMap">commonOwnerMap</a>.<a href="#852256" title="()Unit">init</a>
    <a href="#842503" title="List[Types.this.Type]">tps</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Type =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="Types.this.Type" id="856911">tp</a> =&gt; <a href="#478885" title="object Types.this.commonOwnerMap">commonOwnerMap</a>.<a href="#852257" title="(tp: Types.this.Type)Types.this.Type">apply</a><span class="delimiter">(</span><a href="#856911" title="Types.this.Type">tp</a><span class="delimiter">)</span>; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">}</span>
    <a href="#478885" title="object Types.this.commonOwnerMap">commonOwnerMap</a>.<a href="#852254" title="=&gt; Types.this.Symbol">result</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Compute lub (if variance == 1) or glb (if variance == -1) of given list
   *  of types `tps'. All types in `tps' are typerefs or singletypes
   *  with the same symbol.
   *  Return `Some(x)' if the computation succeeds with result `x'.
   *  Return `None' if the computation fails.
   */</span>
  <span class="keyword">def</span> <a title="(tps: List[Types.this.Type], variance: Int, depth: Int)Option[Types.this.Type]" id="478991">mergePrefixAndArgs</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="812374">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="812375">variance</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="812376">depth</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[Types.this.Type]">Option</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#812374" title="List[Types.this.Type]">tps</a> <span title="Option[Types.this.Type]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="Some[Types.this.Type]">List</a><span class="delimiter">(</span><a title="Types.this.Type" id="856925">tp</a><span class="delimiter">)</span> =&gt;
      <a href="../../../Option.scala.html#57885" title="(x: Types.this.Type)Some[Types.this.Type]">Some</a><span class="delimiter">(</span><a href="#856925" title="Types.this.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Option[Types.this.Type]">TypeRef</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="856933">sym</a>, _<span class="delimiter">)</span> :: <a title="List[Types.this.Type]" id="856934">rest</a> =&gt;
      <span class="keyword">val</span> <a title="List[Types.this.Type]" id="856935">pres</a> = <a href="#812374" title="List[Types.this.Type]">tps</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#856955" title="Types.this.Type">_</a>.<a href="#507169" title="=&gt; Types.this.Type">prefix</a><span class="delimiter">)</span> <span class="comment">// prefix normalizes automatically</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="856936">pre</a> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#812375" title="Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#856935" title="List[Types.this.Type]">pres</a>, <a href="#812376" title="Int">depth</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#856935" title="List[Types.this.Type]">pres</a>, <a href="#812376" title="Int">depth</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[List[Types.this.Type]]" id="856937">argss</a> = <a href="#812374" title="List[Types.this.Type]">tps</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; List[Types.this.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],List[Types.this.Type],List[List[Types.this.Type]]])List[List[Types.this.Type]]">map</a> <span class="delimiter">(</span><a href="#857005" title="Types.this.Type">_</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a>.<a href="#507172" title="=&gt; List[Types.this.Type]">typeArgs</a><span class="delimiter">)</span> <span class="comment">// symbol equality (of the tp in tps) was checked using typeSymbol, which normalizes, so should normalize before retrieving arguments</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Types.this.Symbol]" id="856938">capturedParams</a> = <span title="scala.collection.mutable.ListBuffer[Types.this.Symbol]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[Types.this.Symbol]">ListBuffer</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Option[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#856933" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#508099" title="=&gt; Types.this.Symbol">ArrayClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// special treatment for lubs of array types after erasure:</span>
          <span class="comment">// if argss contain one value type and some other type, the lub is Object</span>
          <span class="comment">// if argss contain several reference types, the lub is an array over lub of argtypes</span>
          <span title="Option[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#856937" title="List[List[Types.this.Type]]">argss</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: List[Types.this.Type] =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#857043" title="List[Types.this.Type]">_</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../../Option.scala.html#1737" title="object None">None</a>  <span class="comment">// something is wrong: an array without a type arg.</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Types.this.Type]" id="857044">args</a> = <a href="#856937" title="List[List[Types.this.Type]]">argss</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: List[Types.this.Type] =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Types.this.Type]],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#857061" title="List[Types.this.Type]">_</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a><span class="delimiter">)</span>
            <span title="Option[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#857044" title="List[Types.this.Type]">args</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Types.this.Type]">tail</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Types.this.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a href="#857097" title="Types.this.Type">_</a> <a href="#507225" title="(that: Types.this.Type)Boolean">=:=</a> <a href="#857044" title="List[Types.this.Type]">args</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#57885" title="(x: Types.this.Type)Some[Types.this.Type]">Some</a><span class="delimiter">(</span><a href="#478811" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">typeRef</a><span class="delimiter">(</span><a href="#856936" title="Types.this.Type">pre</a>, <a href="#856933" title="Types.this.Symbol">sym</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Type*)List[Types.this.Type]">List</a><span class="delimiter">(</span><a href="#857044" title="List[Types.this.Type]">args</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Types.this.Type">head</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Option[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#857044" title="List[Types.this.Type]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Types.this.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Types.this.Type" id="857114">arg</a> =&gt; <a href="Definitions.scala.html#508366" title="(sym: Types.this.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#857114" title="Types.this.Type">arg</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#57885" title="(x: Types.this.Type)Some[Types.this.Type]">Some</a><span class="delimiter">(</span><a href="Definitions.scala.html#507925" title="=&gt; Types.this.Symbol">ObjectClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../../../Option.scala.html#57885" title="(x: Types.this.Type)Some[Types.this.Type]">Some</a><span class="delimiter">(</span><a href="#478811" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">typeRef</a><span class="delimiter">(</span><a href="#856936" title="Types.this.Type">pre</a>, <a href="#856933" title="Types.this.Symbol">sym</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Types.this.Type*)List[Types.this.Type]">List</a><span class="delimiter">(</span><a href="#478978" title="(ts: List[Types.this.Type])Types.this.Type">lub</a><span class="delimiter">(</span><a href="#857044" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Types.this.Type]" id="857132">args</a> = <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Types.this.Symbol], _2: List[List[Types.this.Type]])(List[Types.this.Symbol], List[List[Types.this.Type]])" class="delimiter">(</a><a href="#856933" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#856937" title="List[List[Types.this.Type]]">argss</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53807" title="(implicit asTraversable: List[Types.this.Type] =&gt; scala.collection.GenTraversableOnce[Types.this.Type])List[List[Types.this.Type]]">transpose</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Types.this.Symbol] =&gt; scala.collection.TraversableLike[Types.this.Symbol,List[Types.this.Symbol]], implicit w2: List[List[Types.this.Type]] =&gt; scala.collection.IterableLike[List[Types.this.Type],List[List[Types.this.Type]]])(List[Types.this.Symbol], List[List[Types.this.Type]])#Zipped[List[Types.this.Symbol],Types.this.Symbol,List[List[Types.this.Type]],List[Types.this.Type]]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (Types.this.Symbol, List[Types.this.Type]) =&gt; Types.this.Type)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="857219">tparam</a>, <a title="List[Types.this.Type]" id="857220">as</a><span class="delimiter">)</span> =&gt;
              <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#812376" title="Int">depth</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
                <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#857219" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#812375" title="Int">variance</a><span class="delimiter">)</span> <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
                <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#857219" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#812375" title="Int">variance</a><span class="delimiter">)</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
                <span class="keyword">else</span> <a href="#843724" title="object Types.this.NoType">NoType</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#857219" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#812375" title="Int">variance</a><span class="delimiter">)</span> <a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#857220" title="List[Types.this.Type]">as</a>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#812376" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#857219" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#812375" title="Int">variance</a><span class="delimiter">)</span> <a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#857220" title="List[Types.this.Type]">as</a>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#812376" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">else</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Types.this.Type" id="857253">l</a> = <a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#857220" title="List[Types.this.Type]">as</a>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#812376" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="Types.this.Type" id="857254">g</a> = <a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#857220" title="List[Types.this.Type]">as</a>, <a href="#478703" title="(depth: Int)Int">decr</a><span class="delimiter">(</span><a href="#812376" title="Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#857253" title="Types.this.Type">l</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#857254" title="Types.this.Type">g</a><span class="delimiter">)</span> <a href="#857253" title="Types.this.Type">l</a>
                  <span class="keyword">else</span> <span class="delimiter">{</span> <span class="comment">// Martin: I removed this, because incomplete. Not sure there is a good way to fix it. For the moment we</span>
                         <span class="comment">// just err on the conservative side, i.e. with a bound that is too high.</span>
                         <span class="comment">// if(!(tparam.info.bounds contains tparam)){ //@M can't deal with f-bounds, see #2251</span>

                    <span class="keyword">val</span> <a title="Types.this.Symbol" id="857263">qvar</a> = <a href="#478990" title="(tps: List[Types.this.Type])Types.this.Symbol">commonOwner</a><span class="delimiter">(</span><a href="#857220" title="List[Types.this.Type]">as</a><span class="delimiter">)</span> <a href="Symbols.scala.html#509150" title="(suffix: String)Types.this.Symbol">freshExistential</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <a href="Symbols.scala.html#509274" title="(info: Types.this.Type)Types.this.Symbol">setInfo</a> <a href="#546580" title="(lo: Types.this.Type, hi: Types.this.Type)Types.this.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#857254" title="Types.this.Type">g</a>, <a href="#857253" title="Types.this.Type">l</a><span class="delimiter">)</span>
                    <a href="#856938" title="scala.collection.mutable.ListBuffer[Types.this.Symbol]">capturedParams</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: Types.this.Symbol)capturedParams.type">+=</a> <a href="#857263" title="Types.this.Symbol">qvar</a>
                    <a href="#857263" title="Types.this.Symbol">qvar</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
                  <span class="delimiter">}</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span title="Option[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#857132" title="List[Types.this.Type]">args</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#843724" title="object Types.this.NoType">NoType</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#1737" title="object None">None</a>
          <span class="keyword">else</span> <a href="../../../Option.scala.html#57885" title="(x: Types.this.Type)Some[Types.this.Type]">Some</a><span class="delimiter">(</span><a href="#478821" title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#856938" title="scala.collection.mutable.ListBuffer[Types.this.Symbol]">capturedParams</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[Types.this.Symbol]">toList</a>, <a href="#478811" title="(pre: Types.this.Type, sym: Types.this.Symbol, args: List[Types.this.Type])Types.this.Type">typeRef</a><span class="delimiter">(</span><a href="#856936" title="Types.this.Type">pre</a>, <a href="#856933" title="Types.this.Symbol">sym</a>, <a href="#857132" title="List[Types.this.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="None.type" id="857309">ex</a>: <a href="#479000" title="Types.this.MalformedType">MalformedType</a> =&gt; <a href="../../../Option.scala.html#1737" title="object None">None</a>
        <span class="keyword">case</span> <a title="None.type" id="857310">ex</a>: <span title="IndexOutOfBoundsException">IndexOutOfBoundsException</span> =&gt;  <span class="comment">// transpose freaked out because of irregular argss</span>
        <span class="comment">// catching just in case (shouldn't happen, but also doesn't cost us)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="SymbolTable.scala.html#478158" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;transposed irregular matrix!?&quot;)" class="string">&quot;transposed irregular matrix!?&quot;</span><a href="../../../Tuple2.scala.html#53390" title="(x$1: Any)java.lang.String">+</a> <span class="delimiter">(</span><a href="#812374" title="List[Types.this.Type]">tps</a>, <a href="#856937" title="List[List[Types.this.Type]]">argss</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../Option.scala.html#1737" title="object None">None</a>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="Option[Types.this.Type]">SingleType</span><span class="delimiter">(</span>_, <a title="Types.this.Symbol" id="857324">sym</a><span class="delimiter">)</span> :: <a title="List[Types.this.Type]" id="857325">rest</a> =&gt;
      <span class="keyword">val</span> <a title="List[Types.this.Type]" id="857326">pres</a> = <a href="#812374" title="List[Types.this.Type]">tps</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#857344" title="Types.this.Type">_</a>.<a href="#507169" title="=&gt; Types.this.Type">prefix</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Types.this.Type" id="857327">pre</a> = <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#812375" title="Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#478979" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">lub</a><span class="delimiter">(</span><a href="#857326" title="List[Types.this.Type]">pres</a>, <a href="#812376" title="Int">depth</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#478988" title="(ts: List[Types.this.Type], depth: Int)Types.this.Type">glb</a><span class="delimiter">(</span><a href="#857326" title="List[Types.this.Type]">pres</a>, <a href="#812376" title="Int">depth</a><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="../../../Option.scala.html#57885" title="(x: Types.this.Type)Some[Types.this.Type]">Some</a><span class="delimiter">(</span><a href="#478807" title="(pre: Types.this.Type, sym: Types.this.Symbol)Types.this.Type">singleType</a><span class="delimiter">(</span><a href="#857327" title="Types.this.Type">pre</a>, <a href="#857324" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="None.type" id="857387">ex</a>: <a href="#479000" title="Types.this.MalformedType">MalformedType</a> =&gt; <a href="../../../Option.scala.html#1737" title="object None">None</a>
      <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="Option[Types.this.Type]">ExistentialType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="857392">tparams</a>, <a title="Types.this.Type" id="857393">quantified</a><span class="delimiter">)</span> :: <a title="List[Types.this.Type]" id="857394">rest</a> =&gt;
      <a href="#478991" title="(tps: List[Types.this.Type], variance: Int, depth: Int)Option[Types.this.Type]">mergePrefixAndArgs</a><span class="delimiter">(</span><a href="#857393" title="Types.this.Type">quantified</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Types.this.Type)List[Types.this.Type]">::</a> <a href="#857394" title="List[Types.this.Type]">rest</a>, <a href="#812375" title="Int">variance</a>, <a href="#812376" title="Int">depth</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#48480" title="(f: Types.this.Type =&gt; Types.this.Type)Option[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#478821" title="(tparams: List[Types.this.Symbol], tpe0: Types.this.Type)Types.this.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#857392" title="List[Types.this.Symbol]">tparams</a>, <a href="#857405" title="Types.this.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
      <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#812374" title="List[Types.this.Type]">tps</a><span class="delimiter">)</span>; <a href="../../../Option.scala.html#1737" title="object None">None</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Make symbol `sym' a member of scope `tp.decls'
   *  where `thistp' is the narrowed owner type of the scope.
   */</span>
  <span class="keyword">def</span> <a title="(thistp: Types.this.Type, tp: Types.this.Type, sym: Types.this.Symbol)Unit" id="478992">addMember</a><span class="delimiter">(</span><a title="Types.this.Type" id="839101">thistp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="839102">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="839103">sym</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#839103" title="Types.this.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
    <span class="comment">// if (settings.debug.value) log(&quot;add member &quot; + sym+&quot;:&quot;+sym.info+&quot; to &quot;+thistp) //DEBUG</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#839101" title="Types.this.Type">thistp</a> <a href="#507226" title="(sym: Types.this.Symbol)Boolean">specializes</a> <a href="#839103" title="Types.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#839103" title="Types.this.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Types.this.Symbol" id="857436">alt</a> &lt;- <a href="#839102" title="Types.this.Type">tp</a>.<a href="#507194" title="(name: Types.this.Name)Types.this.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#839103" title="Types.this.Symbol">sym</a>.<a href="Symbols.scala.html#509256" title="=&gt; Types.this.Name">name</a><span class="delimiter">)</span>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Types.this.Symbol =&gt; Unit)Unit">alternatives</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#478943" title="(tp1: Types.this.Type, sym1: Types.this.Symbol, tp2: Types.this.Type, sym2: Types.this.Symbol)Boolean">specializesSym</a><span class="delimiter">(</span><a href="#839101" title="Types.this.Type">thistp</a>, <a href="#839103" title="Types.this.Symbol">sym</a>, <a href="#839101" title="Types.this.Type">thistp</a>, <a href="#857436" title="Types.this.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#839102" title="Types.this.Type">tp</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a> <a href="Scopes.scala.html#514366" title="(sym: Types.this.Symbol)Unit">unlink</a> <a href="#857436" title="Types.this.Symbol">alt</a>;
      <a href="#839102" title="Types.this.Type">tp</a>.<a href="#507192" title="=&gt; Types.this.Scope">decls</a> <a href="Scopes.scala.html#514360" title="(sym: Types.this.Symbol)Types.this.Symbol">enter</a> <a href="#839103" title="Types.this.Symbol">sym</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** All types in list must be polytypes with type parameter lists of
   *  same length as tparams.
   *  Returns list of list of bounds infos, where corresponding type
   *  parameters are renamed to tparams.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[Types.this.Type], tparams: List[Types.this.Symbol])List[List[Types.this.Type]]" id="478993">matchingBounds</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="855162">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="855163">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[List[Types.this.Type]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)List[Types.this.Type]" id="857455">getBounds</a><span class="delimiter">(</span><a title="Types.this.Type" id="857456">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#857456" title="Types.this.Type">tp</a> <span title="List[Types.this.Type]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[Types.this.Type]">PolyType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="857457">tparams1</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#857457" title="List[Types.this.Symbol]">tparams1</a>, <a href="#855163" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span> =&gt;
        <a href="#857457" title="List[Types.this.Symbol]">tparams1</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a title="Types.this.Symbol" id="857476">tparam</a> =&gt; <a href="#857476" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#857457" title="List[Types.this.Symbol]">tparams1</a>, <a href="#855163" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="List[Types.this.Type]" id="857504">tp</a> =&gt;
        <span title="List[Types.this.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#857504" title="Types.this.Type">tp</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#857504" title="Types.this.Type">tp</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a><span class="delimiter">)</span> <a href="#857455" title="(tp: Types.this.Type)List[Types.this.Type]">getBounds</a><span class="delimiter">(</span><a href="#857504" title="Types.this.Type">tp</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <span title="Types.this.NoCommonType" class="keyword">new</span> <a href="#478999" title="Types.this.NoCommonType">NoCommonType</a><span class="delimiter">(</span><a href="#855162" title="List[Types.this.Type]">tps</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#855162" title="List[Types.this.Type]">tps</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; List[Types.this.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],List[Types.this.Type],List[List[Types.this.Type]]])List[List[Types.this.Type]]">map</a> <a href="#857455" title="(tp: Types.this.Type)List[Types.this.Type]">getBounds</a>
  <span class="delimiter">}</span>

  <span class="comment">/** All types in list must be polytypes with type parameter lists of
   *  same length as tparams.
   *  Returns list of instance types, where corresponding type
   *  parameters are renamed to tparams.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[Types.this.Type], tparams: List[Types.this.Symbol])List[Types.this.Type]" id="478994">matchingInstTypes</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="855296">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Types.this.Symbol]" id="855297">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="857550">transformResultType</a><span class="delimiter">(</span><a title="Types.this.Type" id="857551">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#857551" title="Types.this.Type">tp</a> <span title="Types.this.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Types.this.Type">PolyType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="857552">tparams1</a>, <a title="Types.this.Type" id="857553">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#857552" title="List[Types.this.Symbol]">tparams1</a>, <a href="#855297" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span> =&gt;
        <a href="#857553" title="Types.this.Type">restpe</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#857552" title="List[Types.this.Symbol]">tparams1</a>, <a href="#855297" title="List[Types.this.Symbol]">tparams</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Types.this.Type" id="857556">tp</a> =&gt;
        <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#857556" title="Types.this.Type">tp</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#857556" title="Types.this.Type">tp</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a><span class="delimiter">)</span> <a href="#857550" title="(tp: Types.this.Type)Types.this.Type">transformResultType</a><span class="delimiter">(</span><a href="#857556" title="Types.this.Type">tp</a>.<a href="#507188" title="=&gt; Types.this.Type">normalize</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <span title="Types.this.NoCommonType" class="keyword">new</span> <a href="#478999" title="Types.this.NoCommonType">NoCommonType</a><span class="delimiter">(</span><a href="#855296" title="List[Types.this.Type]">tps</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="#855296" title="List[Types.this.Type]">tps</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <a href="#857550" title="(tp: Types.this.Type)Types.this.Type">transformResultType</a>
  <span class="delimiter">}</span>

  <span class="comment">/** All types in list must be method types with equal parameter types.
   *  Returns list of their result types.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[Types.this.Type], pts: List[Types.this.Type])List[Types.this.Type]" id="478995">matchingRestypes</a><span class="delimiter">(</span><a title="List[Types.this.Type]" id="855306">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="855307">pts</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> =
    <a href="#855306" title="List[Types.this.Type]">tps</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Type =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Type],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <a href="#857617" title="Types.this.Type" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Types.this.Type">MethodType</span><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="857618">params1</a>, <a title="Types.this.Type" id="857619">res</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#478911" title="(tps1: List[Types.this.Type], tps2: List[Types.this.Type])Boolean">isSameTypes</a><span class="delimiter">(</span><a href="#857618" title="List[Types.this.Symbol]">params1</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Types.this.Symbol =&gt; Types.this.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Type,List[Types.this.Type]])List[Types.this.Type]">map</a> <span class="delimiter">(</span><a href="#857636" title="Types.this.Symbol">_</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a><span class="delimiter">)</span>, <a href="#855307" title="List[Types.this.Type]">pts</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#857619" title="Types.this.Type">res</a>
      <span class="keyword">case</span> <span title="Types.this.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Types.this.Type" id="857664">res</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#855307" title="List[Types.this.Type]">pts</a> <a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> =&gt;
        <a href="#857664" title="Types.this.Type">res</a>
      <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
        <span title="Nothing" class="keyword">throw</span> <span title="Types.this.NoCommonType" class="keyword">new</span> <a href="#478999" title="Types.this.NoCommonType">NoCommonType</a><span class="delimiter">(</span><a href="#855306" title="List[Types.this.Type]">tps</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>


  <span class="comment">// TODO: this desperately needs to be cleaned up</span>
  <span class="comment">// plan: split into kind inference and subkinding</span>
  <span class="comment">// every Type has a (cached) Kind</span>
  <span class="keyword">def</span> <a title="(tparams: List[Types.this.Symbol], targs: List[Types.this.Type], pre: Types.this.Type, owner: Types.this.Symbol)Boolean" id="478996">kindsConform</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="853407">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="853408">targs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Types.this.Type" id="853409">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="853410">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
    <a href="#478997" title="(tparams: List[Types.this.Symbol], targs: List[Types.this.Type], pre: Types.this.Type, owner: Types.this.Symbol, explainErrors: Boolean)List[(Types.this.Type, Types.this.Symbol, List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])]">checkKindBounds0</a><span class="delimiter">(</span><a href="#853407" title="List[Types.this.Symbol]">tparams</a>, <a href="#853408" title="List[Types.this.Type]">targs</a>, <a href="#853409" title="Types.this.Type">pre</a>, <a href="#853410" title="Types.this.Symbol">owner</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a>

  <span class="comment">/** Check well-kindedness of type application (assumes arities are already checked) -- @M
   *
   * This check is also performed when abstract type members become concrete (aka a &quot;type alias&quot;) -- then tparams.length==1
   * (checked one type member at a time -- in that case, prefix is the name of the type alias)
   *
   * Type application is just like value application: it's &quot;contravariant&quot; in the sense that
   * the type parameters of the supplied type arguments must conform to the type parameters of
   * the required type parameters:
   *   - their bounds must be less strict
   *   - variances must match (here, variances are absolute, the variance of a type parameter does not influence the variance of its higher-order parameters)
   *   - @M TODO: are these conditions correct,sufficient&amp;necessary?
   *
   *  e.g. class Iterable[t, m[+x &lt;: t]] --&gt; the application Iterable[Int, List] is okay, since
   *       List's type parameter is also covariant and its bounds are weaker than &lt;: Int
   */</span>
  <span class="keyword">def</span> <a title="(tparams: List[Types.this.Symbol], targs: List[Types.this.Type], pre: Types.this.Type, owner: Types.this.Symbol, explainErrors: Boolean)List[(Types.this.Type, Types.this.Symbol, List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])]" id="478997">checkKindBounds0</a><span class="delimiter">(</span><a title="List[Types.this.Symbol]" id="857692">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Types.this.Type]" id="857693">targs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Types.this.Type" id="857694">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="857695">owner</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Boolean" id="857696">explainErrors</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[(Types.this.Type, Types.this.Symbol, List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>Type, Symbol, List<span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span>, List<span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span>, List<span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Boolean" id="857703">error</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="keyword">def</span> <a title="(tp: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type" id="857704">transform</a><span class="delimiter">(</span><a title="Types.this.Type" id="857709">tp</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Symbol" id="857710">clazz</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> = <a href="#857709" title="Types.this.Type">tp</a>.<a href="#507205" title="(pre: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#857694" title="Types.this.Type">pre</a>, <a href="#857710" title="Types.this.Symbol">clazz</a><span class="delimiter">)</span> <span class="comment">// instantiate type params that come from outside the abstract type we're currently checking</span>
    <span class="keyword">def</span> <a title="(p: Types.this.Symbol, o: Types.this.Symbol)Types.this.Type" id="857705">transformedBounds</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="857711">p</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Symbol" id="857712">o</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#857704" title="(tp: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">transform</a><span class="delimiter">(</span><a href="#857711" title="Types.this.Symbol">p</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507185" title="(formals: List[Types.this.Symbol], actuals: List[Types.this.Type])Types.this.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#857692" title="List[Types.this.Symbol]">tparams</a>, <a href="#857693" title="List[Types.this.Type]">targs</a><span class="delimiter">)</span>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>, <a href="#857712" title="Types.this.Symbol">o</a><span class="delimiter">)</span>

    <span class="comment">/** Check whether &lt;arg&gt;sym1&lt;/arg&gt;'s variance conforms to &lt;arg&gt;sym2&lt;/arg&gt;'s variance
     *
     * If &lt;arg&gt;sym2&lt;/arg&gt; is invariant, &lt;arg&gt;sym1&lt;/arg&gt;'s variance is irrelevant. Otherwise they must be equal.
     */</span>
    <span class="keyword">def</span> <a title="(sym1: Types.this.Symbol, sym2: Types.this.Symbol)Boolean" id="857706">variancesMatch</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="857713">sym1</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Symbol" id="857714">sym2</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">(</span><a href="#857714" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509248" title="=&gt; Int">variance</a><a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a><span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#857713" title="Types.this.Symbol">sym1</a>.<a href="Symbols.scala.html#509248" title="=&gt; Int">variance</a><a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a><a href="#857714" title="Types.this.Symbol">sym2</a>.<a href="Symbols.scala.html#509248" title="=&gt; Int">variance</a><span class="delimiter">)</span>

    <span class="comment">// check that the type parameters &lt;arg&gt;hkargs&lt;/arg&gt; to a higher-kinded type conform to the expected params &lt;arg&gt;hkparams&lt;/arg&gt;</span>
    <span class="keyword">def</span> <a title="(hkargs: List[Types.this.Symbol], arg: Types.this.Symbol, param: Types.this.Symbol, paramowner: Types.this.Symbol, underHKParams: List[Types.this.Symbol], withHKArgs: List[Types.this.Symbol])(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])" id="857707">checkKindBoundsHK</a><span class="delimiter">(</span>
      <a title="List[Types.this.Symbol]" id="857725">hkargs</a>:        <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
      <a title="Types.this.Symbol" id="857726">arg</a>:           <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>,
      <a title="Types.this.Symbol" id="857727">param</a>:         <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>,
      <a title="Types.this.Symbol" id="857728">paramowner</a>:    <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>,
      <a title="List[Types.this.Symbol]" id="857729">underHKParams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>,
      <a title="List[Types.this.Symbol]" id="857730">withHKArgs</a>:    <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
    <span class="delimiter">)</span>: <a href="../../../Tuple3.scala.html#317" title="(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])" class="delimiter">(</a>List<span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span>, List<span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span>, List<span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="857731">bindHKParams</a><span class="delimiter">(</span><a title="Types.this.Type" id="857733">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> = <a href="#857733" title="Types.this.Type">tp</a>.<a href="#507210" title="(from: List[Types.this.Symbol], to: List[Types.this.Symbol])Types.this.Type">substSym</a><span class="delimiter">(</span><a href="#857729" title="List[Types.this.Symbol]">underHKParams</a>, <a href="#857730" title="List[Types.this.Symbol]">withHKArgs</a><span class="delimiter">)</span>
      <span class="comment">// @M sometimes hkargs != arg.typeParams, the symbol and the type may have very different type parameters</span>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="857732">hkparams</a> = <a href="#857727" title="Types.this.Symbol">param</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="SymbolTable.scala.html#478158" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;checkKindBoundsHK expected: &quot;)" class="string">&quot;checkKindBoundsHK expected: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#857727" title="Types.this.Symbol">param</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#857732" title="List[Types.this.Symbol]">hkparams</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; by definition in &quot;)" class="string">&quot; by definition in &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#857728" title="Types.this.Symbol">paramowner</a><span class="delimiter">)</span>
        <a href="SymbolTable.scala.html#478158" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;checkKindBoundsHK supplied: &quot;)" class="string">&quot;checkKindBoundsHK supplied: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#857726" title="Types.this.Symbol">arg</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; with params &quot;)" class="string">&quot; with params &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#857725" title="List[Types.this.Symbol]">hkargs</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; from &quot;)" class="string">&quot; from &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#857695" title="Types.this.Symbol">owner</a><span class="delimiter">)</span>
        <a href="SymbolTable.scala.html#478158" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;checkKindBoundsHK under params: &quot;)" class="string">&quot;checkKindBoundsHK under params: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#857729" title="List[Types.this.Symbol]">underHKParams</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; with args &quot;)" class="string">&quot; with args &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#857730" title="List[Types.this.Symbol]">withHKArgs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#857725" title="List[Types.this.Symbol]">hkargs</a>, <a href="#857732" title="List[Types.this.Symbol]">hkparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])" class="keyword">if</span> <span class="delimiter">(</span><a href="#857726" title="Types.this.Symbol">arg</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#857726" title="Types.this.Symbol">arg</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507933" title="=&gt; Types.this.Symbol">NothingClass</a><span class="delimiter">)</span> <a href="../../../Tuple3.scala.html#53296" title="(_1: scala.collection.immutable.Nil.type, _2: scala.collection.immutable.Nil.type, _3: scala.collection.immutable.Nil.type)(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span> <span class="comment">// Any and Nothing are kind-overloaded</span>
        <span class="keyword">else</span> <span class="delimiter">{</span><a href="#857703" title="Boolean">error</a> = <span title="Boolean(true)" class="keyword">true</span>; <a href="../../../Tuple3.scala.html#53296" title="(_1: List[(Types.this.Symbol, Types.this.Symbol)], _2: scala.collection.immutable.Nil.type, _3: scala.collection.immutable.Nil.type)(List[(Types.this.Symbol, Types.this.Symbol)], scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: (Types.this.Symbol, Types.this.Symbol)*)List[(Types.this.Symbol, Types.this.Symbol)]">List</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Symbol, _2: Types.this.Symbol)(Types.this.Symbol, Types.this.Symbol)" class="delimiter">(</a><a href="#857726" title="Types.this.Symbol">arg</a>, <a href="#857727" title="Types.this.Symbol">param</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span> <span class="delimiter">}</span> <span class="comment">// shortcut: always set error, whether explainTypesOrNot</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]" id="857778">_arityMismatches</a>    = <span title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#857696" title="Boolean">explainErrors</a><span class="delimiter">)</span> <span title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]">ListBuffer</a><span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]" id="857779">_varianceMismatches</a> = <span title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#857696" title="Boolean">explainErrors</a><span class="delimiter">)</span> <span title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]">ListBuffer</a><span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]" id="857780">_stricterBounds</a>     = <span title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#857696" title="Boolean">explainErrors</a><span class="delimiter">)</span> <span title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]">ListBuffer</a><span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span> <span class="keyword">else</span> <span title="Null(null)" class="keyword">null</span>

        <span class="keyword">def</span> <a title="(a: Types.this.Symbol, p: Types.this.Symbol)Unit" id="857781">varianceMismatch</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="857789">a</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Symbol" id="857790">p</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#857696" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="#857779" title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]">_varianceMismatches</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: (Types.this.Symbol, Types.this.Symbol))_varianceMismatches.type">+=</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Symbol, _2: Types.this.Symbol)(Types.this.Symbol, Types.this.Symbol)" class="delimiter">(</a><a href="#857789" title="Types.this.Symbol">a</a>, <a href="#857790" title="Types.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#857703" title="Boolean">error</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(a: Types.this.Symbol, p: Types.this.Symbol)Unit" id="857782">stricterBound</a><span class="delimiter">(</span><a title="Types.this.Symbol" id="857806">a</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a>, <a title="Types.this.Symbol" id="857807">p</a>: <a href="Symbols.scala.html#478659" title="Types.this.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#857696" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="#857780" title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]">_stricterBounds</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: (Types.this.Symbol, Types.this.Symbol))_stricterBounds.type">+=</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Types.this.Symbol, _2: Types.this.Symbol)(Types.this.Symbol, Types.this.Symbol)" class="delimiter">(</a><a href="#857806" title="Types.this.Symbol">a</a>, <a href="#857807" title="Types.this.Symbol">p</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#857703" title="Boolean">error</a> = <span title="Boolean(true)" class="keyword">true</span> <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(as: Iterable[(Types.this.Symbol, Types.this.Symbol)])Unit" id="857783">arityMismatches</a><span class="delimiter">(</span><a title="Iterable[(Types.this.Symbol, Types.this.Symbol)]" id="857823">as</a>: <a href="../../../collection/Iterable.scala.html#8279" title="Iterable[(Types.this.Symbol, Types.this.Symbol)]">Iterable</a><span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#857696" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="#857778" title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]">_arityMismatches</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61787" title="(xs: scala.collection.TraversableOnce[(Types.this.Symbol, Types.this.Symbol)])_arityMismatches.type">++=</a> <a href="#857823" title="Iterable[(Types.this.Symbol, Types.this.Symbol)]">as</a> <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(as: Iterable[(Types.this.Symbol, Types.this.Symbol)])Unit" id="857784">varianceMismatches</a><span class="delimiter">(</span><a title="Iterable[(Types.this.Symbol, Types.this.Symbol)]" id="857831">as</a>: <a href="../../../collection/Iterable.scala.html#8279" title="Iterable[(Types.this.Symbol, Types.this.Symbol)]">Iterable</a><span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#857696" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="#857779" title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]">_varianceMismatches</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61787" title="(xs: scala.collection.TraversableOnce[(Types.this.Symbol, Types.this.Symbol)])_varianceMismatches.type">++=</a> <a href="#857831" title="Iterable[(Types.this.Symbol, Types.this.Symbol)]">as</a> <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(as: Iterable[(Types.this.Symbol, Types.this.Symbol)])Unit" id="857785">stricterBounds</a><span class="delimiter">(</span><a title="Iterable[(Types.this.Symbol, Types.this.Symbol)]" id="857839">as</a>: <a href="../../../collection/Iterable.scala.html#8279" title="Iterable[(Types.this.Symbol, Types.this.Symbol)]">Iterable</a><span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#857696" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="#857780" title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]">_stricterBounds</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61787" title="(xs: scala.collection.TraversableOnce[(Types.this.Symbol, Types.this.Symbol)])_stricterBounds.type">++=</a> <a href="#857839" title="Iterable[(Types.this.Symbol, Types.this.Symbol)]">as</a> <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Types.this.Symbol" id="857929">hkarg</a>, <a title="Types.this.Symbol" id="857930">hkparam</a><span class="delimiter">)</span> &lt;- <a href="#857725" title="List[Types.this.Symbol]">hkargs</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ((Types.this.Symbol, Types.this.Symbol)) =&gt; Unit)Unit">zip</a> <a href="#857732" title="List[Types.this.Symbol]">hkparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#857930" title="Types.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#857929" title="Types.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// base-case: kind *</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#857706" title="(sym1: Types.this.Symbol, sym2: Types.this.Symbol)Boolean">variancesMatch</a><span class="delimiter">(</span><a href="#857929" title="Types.this.Symbol">hkarg</a>, <a href="#857930" title="Types.this.Symbol">hkparam</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#857781" title="(a: Types.this.Symbol, p: Types.this.Symbol)Unit">varianceMismatch</a><span class="delimiter">(</span><a href="#857929" title="Types.this.Symbol">hkarg</a>, <a href="#857930" title="Types.this.Symbol">hkparam</a><span class="delimiter">)</span>

            <span class="comment">// instantiateTypeParams(tparams, targs) --&gt; higher-order bounds may contain references to type arguments</span>
            <span class="comment">// substSym(hkparams, hkargs) --&gt; these types are going to be compared as types of kind *</span>
            <span class="comment">//    --&gt; their arguments use different symbols, but are conceptually the same</span>
            <span class="comment">//        (could also replace the types by polytypes, but can't just strip the symbols, as ordering is lost then)</span>
            <span class="keyword">val</span> <a title="Types.this.Type" id="857933">declaredBounds</a>     = <a href="#857705" title="(p: Types.this.Symbol, o: Types.this.Symbol)Types.this.Type">transformedBounds</a><span class="delimiter">(</span><a href="#857930" title="Types.this.Symbol">hkparam</a>, <a href="#857728" title="Types.this.Symbol">paramowner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Types.this.Type" id="857934">declaredBoundsInst</a> = <a href="#857731" title="(tp: Types.this.Type)Types.this.Type">bindHKParams</a><span class="delimiter">(</span><a href="#857933" title="Types.this.Type">declaredBounds</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Types.this.Type" id="857935">argumentBounds</a>     = <a href="#857704" title="(tp: Types.this.Type, clazz: Types.this.Symbol)Types.this.Type">transform</a><span class="delimiter">(</span><a href="#857929" title="Types.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a>.<a href="#507167" title="=&gt; Types.this.TypeBounds">bounds</a>, <a href="#857695" title="Types.this.Symbol">owner</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#857934" title="Types.this.Type">declaredBoundsInst</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#857935" title="Types.this.Type">argumentBounds</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#857782" title="(a: Types.this.Symbol, p: Types.this.Symbol)Unit">stricterBound</a><span class="delimiter">(</span><a href="#857929" title="Types.this.Symbol">hkarg</a>, <a href="#857930" title="Types.this.Symbol">hkparam</a><span class="delimiter">)</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="SymbolTable.scala.html#478158" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
              <span title="java.lang.String(&quot;checkKindBoundsHK base case: &quot;)" class="string">&quot;checkKindBoundsHK base case: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#857930" title="Types.this.Symbol">hkparam</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; declared bounds: &quot;)" class="string">&quot; declared bounds: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#857933" title="Types.this.Type">declaredBounds</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; after instantiating earlier hkparams: &quot;)" class="string">&quot; after instantiating earlier hkparams: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#857934" title="Types.this.Type">declaredBoundsInst</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;checkKindBoundsHK base case: &quot;)" class="string">&quot;checkKindBoundsHK base case: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#857929" title="Types.this.Symbol">hkarg</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; has bounds: &quot;)" class="string">&quot; has bounds: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#857935" title="Types.this.Type">argumentBounds</a>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="SymbolTable.scala.html#478158" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;checkKindBoundsHK recursing to compare params of &quot;)" class="string">&quot;checkKindBoundsHK recursing to compare params of &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#857930" title="Types.this.Symbol">hkparam</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; with &quot;)" class="string">&quot; with &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#857929" title="Types.this.Symbol">hkarg</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a href="../../../Tuple3.scala.html#53296" title="(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])" class="delimiter">(</a><a href="../../../Tuple3.scala.html#53312" title="List[(Types.this.Symbol, Types.this.Symbol)]" id="857940">am</a>, <a href="../../../Tuple3.scala.html#53314" title="List[(Types.this.Symbol, Types.this.Symbol)]" id="857941">vm</a>, <a href="../../../Tuple3.scala.html#53316" title="List[(Types.this.Symbol, Types.this.Symbol)]" id="857942">sb</a><span class="delimiter">)</span> = <a href="#857707" title="(hkargs: List[Types.this.Symbol], arg: Types.this.Symbol, param: Types.this.Symbol, paramowner: Types.this.Symbol, underHKParams: List[Types.this.Symbol], withHKArgs: List[Types.this.Symbol])(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])">checkKindBoundsHK</a><a href="../../../Tuple3.scala.html#317" title="(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)]) @unchecked" class="delimiter">(</a>
              <a href="#857929" title="Types.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>,
              <a href="#857929" title="Types.this.Symbol">hkarg</a>,
              <a href="#857930" title="Types.this.Symbol">hkparam</a>,
              <a href="#857728" title="Types.this.Symbol">paramowner</a>,
              <a href="#857729" title="List[Types.this.Symbol]">underHKParams</a> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[Types.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">++</a> <a href="#857930" title="Types.this.Symbol">hkparam</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>,
              <a href="#857730" title="List[Types.this.Symbol]">withHKArgs</a> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[Types.this.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Types.this.Symbol],Types.this.Symbol,List[Types.this.Symbol]])List[Types.this.Symbol]">++</a> <a href="#857929" title="Types.this.Symbol">hkarg</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>
            <span class="delimiter">)</span>
            <a href="#857783" title="(as: Iterable[(Types.this.Symbol, Types.this.Symbol)])Unit">arityMismatches</a><span class="delimiter">(</span><a href="#857940" title="List[(Types.this.Symbol, Types.this.Symbol)]">am</a><span class="delimiter">)</span>
            <a href="#857784" title="(as: Iterable[(Types.this.Symbol, Types.this.Symbol)])Unit">varianceMismatches</a><span class="delimiter">(</span><a href="#857941" title="List[(Types.this.Symbol, Types.this.Symbol)]">vm</a><span class="delimiter">)</span>
            <a href="#857785" title="(as: Iterable[(Types.this.Symbol, Types.this.Symbol)])Unit">stricterBounds</a><span class="delimiter">(</span><a href="#857942" title="List[(Types.this.Symbol, Types.this.Symbol)]">sb</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#857696" title="Boolean">explainErrors</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#857703" title="Boolean">error</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="../../../Tuple3.scala.html#53296" title="(_1: scala.collection.immutable.Nil.type, _2: scala.collection.immutable.Nil.type, _3: scala.collection.immutable.Nil.type)(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span> <span class="comment">// stop as soon as we encountered an error</span>
        <span class="delimiter">}</span>
        <span title="(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#857696" title="Boolean">explainErrors</a><span class="delimiter">)</span> <a href="../../../Tuple3.scala.html#53296" title="(_1: scala.collection.immutable.Nil.type, _2: scala.collection.immutable.Nil.type, _3: scala.collection.immutable.Nil.type)(scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../../../Tuple3.scala.html#53296" title="(_1: List[(Types.this.Symbol, Types.this.Symbol)], _2: List[(Types.this.Symbol, Types.this.Symbol)], _3: List[(Types.this.Symbol, Types.this.Symbol)])(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])" class="delimiter">(</a><a href="#857778" title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]">_arityMismatches</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[(Types.this.Symbol, Types.this.Symbol)]">toList</a>, <a href="#857779" title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]">_varianceMismatches</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[(Types.this.Symbol, Types.this.Symbol)]">toList</a>, <a href="#857780" title="scala.collection.mutable.ListBuffer[(Types.this.Symbol, Types.this.Symbol)]">_stricterBounds</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[(Types.this.Symbol, Types.this.Symbol)]">toList</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(Types.this.Type, Types.this.Symbol, List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])]" id="857708">errors</a> = <span title="scala.collection.mutable.ListBuffer[(Types.this.Type, Types.this.Symbol, List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[(Types.this.Type, Types.this.Symbol, List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])]">ListBuffer</a><span class="delimiter">[</span><span class="delimiter">(</span>Type, Symbol, List<span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span>, List<span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span>, List<span class="delimiter">[</span><span class="delimiter">(</span>Symbol, Symbol<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">]</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#857692" title="List[Types.this.Symbol]">tparams</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#857693" title="List[Types.this.Type]">targs</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
      <a href="SymbolTable.scala.html#478158" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;checkKindBounds0(&quot;)" class="string">&quot;checkKindBounds0(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#857692" title="List[Types.this.Symbol]">tparams</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#857693" title="List[Types.this.Type]">targs</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#857694" title="Types.this.Type">pre</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#857695" title="Types.this.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#857696" title="Boolean">explainErrors</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>

    <span class="keyword">for</span> <span class="delimiter">{</span>
      <span class="delimiter">(</span><a title="Types.this.Symbol" id="858175">tparam</a>, <a title="Types.this.Type" id="858176">targ</a><span class="delimiter">)</span> &lt;- <a href="#857692" title="List[Types.this.Symbol]">tparams</a> <a href="../../../collection/generic/FilterMonadic.scala.html#53496" title="(f: ((Types.this.Symbol, Types.this.Type)) =&gt; Any)Unit">zip</a> <a href="#857693" title="List[Types.this.Type]">targs</a>
      <span class="comment">// Prevent WildcardType from causing kind errors, as typevars may be higher-order</span>
      <span class="keyword">if</span> <span class="delimiter">(</span><a href="#858176" title="Types.this.Type">targ</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#843675" title="object Types.this.WildcardType">WildcardType</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#858176" title="Types.this.Type">targ</a>.<a href="#507150" title="=&gt; Boolean">isHigherKinded</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#858175" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="delimiter">{</span>
      <span class="comment">// @M must use the typeParams of the *type* targ, not of the *symbol* of targ!!</span>
      <a href="#858176" title="Types.this.Type">targ</a>.<a href="#507161" title="=&gt; Types.this.Symbol">typeSymbolDirect</a>.<a href="Symbols.scala.html#509272" title="=&gt; Types.this.Type">info</a> <span class="comment">// force symbol load for #4205</span>
      <span class="keyword">val</span> <a title="List[Types.this.Symbol]" id="858177">tparamsHO</a> = <a href="#858176" title="Types.this.Type">targ</a>.<a href="#507182" title="=&gt; List[Types.this.Symbol]">typeParams</a>

      <span class="keyword">val</span> <a href="../../../Tuple3.scala.html#53296" title="(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])" class="delimiter">(</a><a href="../../../Tuple3.scala.html#53312" title="List[(Types.this.Symbol, Types.this.Symbol)]" id="858179">arityMismatches</a>, <a href="../../../Tuple3.scala.html#53314" title="List[(Types.this.Symbol, Types.this.Symbol)]" id="858180">varianceMismatches</a>, <a href="../../../Tuple3.scala.html#53316" title="List[(Types.this.Symbol, Types.this.Symbol)]" id="858181">stricterBounds</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
        <span class="comment">// NOTE: *not* targ.typeSymbol, which normalizes</span>
        <a href="#857707" title="(hkargs: List[Types.this.Symbol], arg: Types.this.Symbol, param: Types.this.Symbol, paramowner: Types.this.Symbol, underHKParams: List[Types.this.Symbol], withHKArgs: List[Types.this.Symbol])(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])">checkKindBoundsHK</a><a href="../../../Tuple3.scala.html#317" title="(List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)]) @unchecked" class="delimiter">(</a><a href="#858177" title="List[Types.this.Symbol]">tparamsHO</a>, <a href="#858176" title="Types.this.Type">targ</a>.<a href="#507161" title="=&gt; Types.this.Symbol">typeSymbolDirect</a>, <a href="#858175" title="Types.this.Symbol">tparam</a>, <a href="#858175" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509249" title="=&gt; Types.this.Symbol">owner</a>, <a href="#858175" title="Types.this.Symbol">tparam</a>.<a href="Symbols.scala.html#509287" title="=&gt; List[Types.this.Symbol]">typeParams</a>, <a href="#858177" title="List[Types.this.Symbol]">tparamsHO</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#857696" title="Boolean">explainErrors</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#858179" title="List[(Types.this.Symbol, Types.this.Symbol)]">arityMismatches</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#858180" title="List[(Types.this.Symbol, Types.this.Symbol)]">varianceMismatches</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#858181" title="List[(Types.this.Symbol, Types.this.Symbol)]">stricterBounds</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#857708" title="scala.collection.mutable.ListBuffer[(Types.this.Type, Types.this.Symbol, List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])]">errors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: (Types.this.Type, Types.this.Symbol, List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)]))errors.type">+=</a> <span class="delimiter">(</span><a href="../../../Tuple5.scala.html#53119" title="(_1: Types.this.Type, _2: Types.this.Symbol, _3: List[(Types.this.Symbol, Types.this.Symbol)], _4: List[(Types.this.Symbol, Types.this.Symbol)], _5: List[(Types.this.Symbol, Types.this.Symbol)])(Types.this.Type, Types.this.Symbol, List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])" class="delimiter">(</a><a href="#858176" title="Types.this.Type">targ</a>, <a href="#858175" title="Types.this.Symbol">tparam</a>, <a href="#858179" title="List[(Types.this.Symbol, Types.this.Symbol)]">arityMismatches</a>, <a href="#858180" title="List[(Types.this.Symbol, Types.this.Symbol)]">varianceMismatches</a>, <a href="#858181" title="List[(Types.this.Symbol, Types.this.Symbol)]">stricterBounds</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#857703" title="Boolean">error</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: (Types.this.NoType.type, Types.this.NoSymbol.type, scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)*)List[(Types.this.NoType.type, Types.this.NoSymbol.type, scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)]">List</a><span class="delimiter">(</span><a href="../../../Tuple5.scala.html#53119" title="(_1: Types.this.NoType.type, _2: Types.this.NoSymbol.type, _3: scala.collection.immutable.Nil.type, _4: scala.collection.immutable.Nil.type, _5: scala.collection.immutable.Nil.type)(Types.this.NoType.type, Types.this.NoSymbol.type, scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type, scala.collection.immutable.Nil.type)" class="delimiter">(</a><a href="#843724" title="object Types.this.NoType">NoType</a>, <a href="Symbols.scala.html#478667" title="object Types.this.NoSymbol">NoSymbol</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <a href="#857708" title="scala.collection.mutable.ListBuffer[(Types.this.Type, Types.this.Symbol, List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])]">errors</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[(Types.this.Type, Types.this.Symbol, List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)], List[(Types.this.Symbol, Types.this.Symbol)])]">toList</a>
  <span class="delimiter">}</span>

<span class="comment">// Errors and Diagnostics -----------------------------------------------------</span>

  <span class="comment">/** A throwable signalling a type error */</span>
  <span class="keyword">class</span> <a title="class TypeError extends java.lang.Throwable with ScalaObject" id="478998">TypeError</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">var</span> <a title="Types.this.Position" id="804601">pos</a>: <a href="../util/Position.scala.html#42664" title="Types.this.Position">Position</a>, <span class="keyword">val</span> <a title="String" id="804602">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../package.scala.html#47499" title="java.lang.Throwable">Throwable</a><span class="delimiter">(</span><a href="#804602" title="String">msg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(msg: String)Types.this.TypeError" id="711710" class="keyword">this</a><span class="delimiter">(</span><a title="String" id="804600">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#478998" title="TypeError.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="Positions.scala.html#479233" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>, <a href="#804600" title="String">msg</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class NoCommonType extends java.lang.Throwable with scala.util.control.ControlThrowable with ScalaObject" id="478999">NoCommonType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[Types.this.Type]" id="857505">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Types.this.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../package.scala.html#47499" title="java.lang.Throwable">Throwable</a><span class="delimiter">(</span>
    <span title="java.lang.String(&quot;lub/glb of incompatible types: &quot;)" class="string">&quot;lub/glb of incompatible types: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#857505" title="List[Types.this.Type]">tps</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">with</span> <a href="../../../util/control/ControlThrowable.scala.html#44455" title="scala.util.control.ControlThrowable">ControlThrowable</a>

  <span class="comment">/** A throwable signalling a malformed type */</span>
  <span class="keyword">class</span> <a title="class MalformedType extends Types.this.TypeError with ScalaObject" id="479000">MalformedType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="String" id="852391">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478998" title="Types.this.TypeError">TypeError</a><span class="delimiter">(</span><a href="#852391" title="String">msg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(pre: Types.this.Type, tp: String)Types.this.MalformedType" id="851367" class="keyword">this</a><span class="delimiter">(</span><a title="Types.this.Type" id="852389">pre</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="String" id="852390">tp</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#479000" title="MalformedType.this.type" class="keyword">this</a><span class="delimiter">(</span><span title="java.lang.String(&quot;malformed type: &quot;)" class="string">&quot;malformed type: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#852389" title="Types.this.Type">pre</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;#&quot;)" class="string">&quot;#&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#852390" title="String">tp</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** An exception signalling a variance annotation/usage conflict */</span>
  <span class="keyword">class</span> <a title="class VarianceError extends Types.this.TypeError with ScalaObject" id="479001">VarianceError</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="String" id="858310">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#478998" title="Types.this.TypeError">TypeError</a><span class="delimiter">(</span><a href="#858310" title="String">msg</a><span class="delimiter">)</span>

  <span class="comment">/** The current indentation string for traces */</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="String" id="479003">indent</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

  <span class="comment">/** Perform operation `p' on arguments `tp1',
   *  `arg2' and print trace of computation.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T](op: String, p: (Types.this.Type, T) =&gt; Boolean, tp1: Types.this.Type, arg2: T)Boolean" id="479005">explain</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="479007">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="842868">op</a>: <span title="String">String</span>, <a title="(Types.this.Type, T) =&gt; Boolean" id="842869">p</a>: <span class="delimiter">(</span>Type, T<span class="delimiter">)</span> =&gt; Boolean, <a title="Types.this.Type" id="842870">tp1</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="T" id="842871">arg2</a>: <a href="#479007" title="T">T</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#479003" title="=&gt; String">indent</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#842870" title="Types.this.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#842868" title="String">op</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#842871" title="T">arg2</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span> <span class="comment">/* + &quot;(&quot;+tp1.getClass+&quot;,&quot;+arg2.asInstanceOf[AnyRef].getClass+&quot;)&quot;*/</span><span class="delimiter">)</span>
    <a href="#479003" title="(x$1: String)Unit">indent</a> = <a href="#479003" title="=&gt; String">indent</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;  &quot;)" class="string">&quot;  &quot;</span>
    <span class="keyword">val</span> <a title="Boolean" id="858314">result</a> = <a href="../../../Function2.scala.html#59852" title="(v1: Types.this.Type, v2: T)Boolean">p</a><span class="delimiter">(</span><a href="#842870" title="Types.this.Type">tp1</a>, <a href="#842871" title="T">arg2</a><span class="delimiter">)</span>
    <a href="#479003" title="(x$1: String)Unit">indent</a> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">indent</a> <a href="../../../collection/IndexedSeqOptimized.scala.html#55970" title="(n: Int)String">dropRight</a> <span title="Int(2)" class="int">2</span>
    <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#479003" title="=&gt; String">indent</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#858314" title="Boolean">result</a><span class="delimiter">)</span>
    <a href="#858314" title="Boolean">result</a>
  <span class="delimiter">}</span>

  <span class="comment">/** If option `explaintypes' is set, print a subtype trace for
   *  `found &lt;:&lt; required'.
   */</span>
  <span class="keyword">def</span> <a title="(found: Types.this.Type, required: Types.this.Type)Unit" id="479008">explainTypes</a><span class="delimiter">(</span><a title="Types.this.Type" id="858330">found</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="858331">required</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#469844" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#479010" title="(op: =&gt; Boolean)Boolean">withTypesExplained</a><span title="Unit" class="delimiter">(</span><a href="#858330" title="Types.this.Type">found</a> <a href="#507220" title="(that: Types.this.Type)Boolean">&lt;:&lt;</a> <a href="#858331" title="Types.this.Type">required</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** If option `explaintypes' is set, print a subtype trace for
   *  `op(found, required)'.
   */</span>
  <span class="keyword">def</span> <a title="(op: (Types.this.Type, Types.this.Type) =&gt; Any, found: Types.this.Type, required: Types.this.Type)Unit" id="479009">explainTypes</a><span class="delimiter">(</span><a title="(Types.this.Type, Types.this.Type) =&gt; Any" id="858342">op</a>: <span class="delimiter">(</span>Type, Type<span class="delimiter">)</span> =&gt; Any, <a title="Types.this.Type" id="858343">found</a>: <a href="#478720" title="Types.this.Type">Type</a>, <a title="Types.this.Type" id="858344">required</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="SymbolTable.scala.html#478156" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#469844" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#479010" title="(op: =&gt; Any)Any">withTypesExplained</a><span title="Unit" class="delimiter">(</span><a href="../../../Function2.scala.html#59852" title="(v1: Types.this.Type, v2: Types.this.Type)Any">op</a><span class="delimiter">(</span><a href="#858343" title="Types.this.Type">found</a>, <a href="#858344" title="Types.this.Type">required</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Execute `op' while printing a trace of the operations on types executed.
   */</span>
  <span class="keyword">def</span> <a title="[A](op: =&gt; A)A" id="479010">withTypesExplained</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="479012">A</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; A" id="858336">op</a>: =&gt; A<span class="delimiter">)</span>: <a href="#479012" title="A">A</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="858354">s</a> = <a href="#478689" title="=&gt; Boolean">explainSwitch</a>
    <span class="keyword">try</span> <span class="delimiter">{</span> <a href="#478689" title="(x$1: Boolean)Unit">explainSwitch</a> = <span title="Boolean(true)" class="keyword">true</span>; <a href="#858336" title="=&gt; A">op</a> <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span> <a href="#478689" title="(x$1: Boolean)Unit">explainSwitch</a> = <a href="#858354" title="Boolean">s</a> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: Types.this.Type)Types.this.Type" id="479013">objToAny</a><span class="delimiter">(</span><a title="Types.this.Type" id="858355">tp</a>: <a href="#478720" title="Types.this.Type">Type</a><span class="delimiter">)</span>: <a href="#478720" title="Types.this.Type">Type</a> =
    <span title="Types.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#858355" title="Types.this.Type">tp</a>.<a href="#507159" title="=&gt; Types.this.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Definitions.scala.html#507925" title="=&gt; Types.this.Symbol">ObjectClass</a><span class="delimiter">)</span> <a href="Definitions.scala.html#507921" title="=&gt; Types.this.Symbol">AnyClass</a>.<a href="Symbols.scala.html#509270" title="=&gt; Types.this.Type">tpe</a>
    <span class="keyword">else</span> <a href="#858355" title="Types.this.Type">tp</a>

  <span class="keyword">val</span> <a title="scala.collection.immutable.Set[java.lang.String]" id="479014">shorthands</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: java.lang.String*)scala.collection.immutable.Set[java.lang.String]">Set</a><span class="delimiter">(</span>
    <span title="java.lang.String(&quot;scala.collection.immutable.List&quot;)" class="string">&quot;scala.collection.immutable.List&quot;</span>,
    <span title="java.lang.String(&quot;scala.collection.immutable.Nil&quot;)" class="string">&quot;scala.collection.immutable.Nil&quot;</span>,
    <span title="java.lang.String(&quot;scala.collection.Seq&quot;)" class="string">&quot;scala.collection.Seq&quot;</span>,
    <span title="java.lang.String(&quot;scala.collection.Traversable&quot;)" class="string">&quot;scala.collection.Traversable&quot;</span>,
    <span title="java.lang.String(&quot;scala.collection.Iterable&quot;)" class="string">&quot;scala.collection.Iterable&quot;</span>,
    <span title="java.lang.String(&quot;scala.collection.mutable.StringBuilder&quot;)" class="string">&quot;scala.collection.mutable.StringBuilder&quot;</span>,
    <span title="java.lang.String(&quot;scala.collection.IndexedSeq&quot;)" class="string">&quot;scala.collection.IndexedSeq&quot;</span>,
    <span title="java.lang.String(&quot;scala.collection.Iterator&quot;)" class="string">&quot;scala.collection.Iterator&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>