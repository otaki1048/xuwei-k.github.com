<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/symtab/AnnotationInfos.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2007-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> symtab

<span class="keyword">import</span> scala.tools.nsc.transform.Reifiers
<span class="keyword">import</span> util._

<span class="comment">/** AnnotationInfo and its helpers */</span>
<span class="keyword">trait</span> <a title="trait AnnotationInfos extends java.lang.Object with scala.reflect.generic.AnnotationInfos with ScalaObject" id="35376">AnnotationInfos</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> reflect.generic.<a href="../../../reflect/generic/AnnotationInfos.scala.html#19536" title="scala.reflect.generic.AnnotationInfos">AnnotationInfos</a> <span class="delimiter">{</span> self: SymbolTable =&gt;

  <span class="comment">/** Arguments to classfile annotations (which are written to
   *  bytecode as java annotations) are either:
   *
   *  - constants
   *  - arrays of constants
   *  - or nested classfile annotations
   */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ClassfileAnnotArg extends java.lang.Object with ScalaObject" id="479071">ClassfileAnnotArg</a>

  <span class="comment">/** Represents a compile-time Constant (`Boolean`, `Byte`, `Short`,
   *  `Char`, `Int`, `Long`, `Float`, `Double`, `String`, `java.lang.Class` or
   *  an instance of a Java enumeration value).
   */</span>
  case <span class="keyword">class</span> <a title="class LiteralAnnotArg extends AnnotationInfos.this.ClassfileAnnotArg with ScalaObject with Product with Serializable" id="629510">LiteralAnnotArg</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="AnnotationInfos.this.Constant" id="810938">const</a>: <a href="../../../reflect/generic/Constants.scala.html#433981" title="AnnotationInfos.this.Constant">Constant</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#479071" title="AnnotationInfos.this.ClassfileAnnotArg">ClassfileAnnotArg</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="629515">toString</a> = <a href="#810938" title="=&gt; AnnotationInfos.this.Constant">const</a>.<a href="../../../reflect/generic/Constants.scala.html#434237" title="=&gt; String">escapedStringValue</a>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object AnnotationInfos.this.LiteralAnnotArg" id="479073">LiteralAnnotArg</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/AnnotationInfos.scala.html#433884" title="AnnotationInfos.this.LiteralAnnotArgExtractor">LiteralAnnotArgExtractor</a>

  <span class="comment">/** Represents an array of classfile annotation arguments */</span>
  case <span class="keyword">class</span> <a title="class ArrayAnnotArg extends AnnotationInfos.this.ClassfileAnnotArg with ScalaObject with Product with Serializable" id="629944">ArrayAnnotArg</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Array[AnnotationInfos.this.ClassfileAnnotArg]" id="811121">args</a>: <a href="../../../Array.scala.html#1430" title="Array[AnnotationInfos.this.ClassfileAnnotArg]">Array</a><span class="delimiter">[</span>ClassfileAnnotArg<span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#479071" title="AnnotationInfos.this.ClassfileAnnotArg">ClassfileAnnotArg</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="629949">toString</a> = <a href="../../../Predef.scala.html#9626" title="(xs: Array[AnnotationInfos.this.ClassfileAnnotArg])scala.collection.mutable.ArrayOps[AnnotationInfos.this.ClassfileAnnotArg]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[&quot;)" class="string">&quot;[&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object AnnotationInfos.this.ArrayAnnotArg" id="479076">ArrayAnnotArg</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/AnnotationInfos.scala.html#433885" title="AnnotationInfos.this.ArrayAnnotArgExtractor">ArrayAnnotArgExtractor</a>

  <span class="comment">/** A specific annotation argument that encodes an array of bytes as an
   *  array of `Long`. The type of the argument declared in the annotation
   *  must be `String`. This specialised class is used to encode Scala
   *  signatures for reasons of efficiency, both in term of class-file size
   *  and in term of compiler performance.
   */</span>
  case <span class="keyword">class</span> <a title="class ScalaSigBytes extends AnnotationInfos.this.ClassfileAnnotArg with ScalaObject with Product with Serializable" id="627912">ScalaSigBytes</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Array[Byte]" id="627924">bytes</a>: <a href="../../../Array.scala.html#1430" title="Array[Byte]">Array</a><span class="delimiter">[</span>Byte<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#479071" title="AnnotationInfos.this.ClassfileAnnotArg">ClassfileAnnotArg</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="627917">toString</a> = <span class="delimiter">(</span><a href="../../../Predef.scala.html#9634" title="implicit scala.Predef.byteArrayOps : (xs: Array[Byte])scala.collection.mutable.ArrayOps[Byte]">bytes</a> <a href="../../../Predef.scala.html#9626" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">map</a> <span class="delimiter">{</span> <a title="Byte" id="811608">byte</a> =&gt; <span class="delimiter">(</span><a href="#811608" title="Byte">byte</a> <a href="../../../LowPriorityImplicits.scala.html#9474" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt">&amp;</a> <span title="Int(255)" class="int">0xff</span><span class="delimiter">)</span>.<a href="../../../runtime/RichInt.scala.html#54719" title="=&gt; String">toHexString</a> <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[ &quot;)" class="string">&quot;[ &quot;</span>, <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>, <span title="java.lang.String(&quot; ]&quot;)" class="string">&quot; ]&quot;</span><span class="delimiter">)</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Array[Byte]" id="627919">encodedBytes</a> =
      reflect.generic.<a href="../../../reflect/generic/ByteCodecs.scala.html#19996" title="object scala.reflect.generic.ByteCodecs">ByteCodecs</a>.<a href="../../../reflect/generic/ByteCodecs.scala.html#434263" title="(xs: Array[Byte])Array[Byte]">encode</a><span class="delimiter">(</span><a href="#627924" title="=&gt; Array[Byte]">bytes</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="627920">isLong</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">(</span><a href="#627918" title="=&gt; Array[Byte]">encodedBytes</a>.<a href="../../../Array.scala.html#49204" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(65535)" class="int">65535</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; AnnotationInfos.this.Type" id="627921">sigAnnot</a>: <a href="Types.scala.html#478720" title="AnnotationInfos.this.Type">Type</a> =
      <span title="AnnotationInfos.this.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#627912" title="ScalaSigBytes.this.type" class="keyword">this</a>.<a href="#627920" title="=&gt; Boolean">isLong</a><span class="delimiter">)</span>
        <a href="Definitions.scala.html#479030" title="object AnnotationInfos.this.definitions">definitions</a>.<a href="Definitions.scala.html#508138" title="=&gt; AnnotationInfos.this.Symbol">ScalaLongSignatureAnnotation</a>.<a href="Symbols.scala.html#509270" title="=&gt; AnnotationInfos.this.Type">tpe</a>
      <span class="keyword">else</span>
        <a href="Definitions.scala.html#479030" title="object AnnotationInfos.this.definitions">definitions</a>.<a href="Definitions.scala.html#508136" title="=&gt; AnnotationInfos.this.Symbol">ScalaSignatureAnnotation</a>.<a href="Symbols.scala.html#509270" title="=&gt; AnnotationInfos.this.Type">tpe</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Represents a nested classfile annotation */</span>
  case <span class="keyword">class</span> <a title="class NestedAnnotArg extends AnnotationInfos.this.ClassfileAnnotArg with ScalaObject with Product with Serializable" id="630696">NestedAnnotArg</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="AnnotationInfos.this.AnnotationInfo" id="811845">annInfo</a>: <a href="#533292" title="AnnotationInfos.this.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#479071" title="AnnotationInfos.this.ClassfileAnnotArg">ClassfileAnnotArg</a> <span class="delimiter">{</span>
    <span class="comment">// The nested annotation should not have any Scala annotation arguments</span>
    <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#811845" title="=&gt; AnnotationInfos.this.AnnotationInfo">annInfo</a>.<a href="#550519" title="=&gt; List[AnnotationInfos.this.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a>, <a href="#811845" title="=&gt; AnnotationInfos.this.AnnotationInfo">annInfo</a>.<a href="#550519" title="=&gt; List[AnnotationInfos.this.Tree]">args</a><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="630701">toString</a> = <a href="#811845" title="=&gt; AnnotationInfos.this.AnnotationInfo">annInfo</a>.<a href="#532493" title="()String">toString</a>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object AnnotationInfos.this.NestedAnnotArg" id="479082">NestedAnnotArg</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/AnnotationInfos.scala.html#433886" title="AnnotationInfos.this.NestedAnnotArgExtractor">NestedAnnotArgExtractor</a>

  <span class="keyword">class</span> <a title="class AnnotationInfoBase extends java.lang.Object with ScalaObject" id="479084">AnnotationInfoBase</a>

  <span class="comment">/** Typed information about an annotation. It can be attached to either
   *  a symbol or an annotated type.
   *
   *  Annotations are written to the classfile as Java annotations
   *  if `atp` conforms to `ClassfileAnnotation` (the classfile parser adds
   *  this interface to any Java annotation class).
   *
   *  Annotations are pickled (written to scala symtab attribute in the
   *  classfile) if `atp` inherits form `StaticAnnotation`.
   *
   *  `args` stores arguments to Scala annotations, represented as typed
   *  trees. Note that these trees are not transformed by any phases
   *  following the type-checker.
   *
   *  `assocs` stores arguments to classfile annotations as name-value pairs.
   */</span>
  case <span class="keyword">class</span> <a title="class AnnotationInfo extends AnnotationInfos.this.AnnotationInfoBase with ScalaObject with Product with Serializable" id="533292">AnnotationInfo</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="AnnotationInfos.this.Type" id="550518">atp</a>: <a href="Types.scala.html#478720" title="AnnotationInfos.this.Type">Type</a>, <a title="List[AnnotationInfos.this.Tree]" id="550519">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[AnnotationInfos.this.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>,
                            <a title="List[(AnnotationInfos.this.Name, AnnotationInfos.this.ClassfileAnnotArg)]" id="550520">assocs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[(AnnotationInfos.this.Name, AnnotationInfos.this.ClassfileAnnotArg)]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>Name, ClassfileAnnotArg<span class="delimiter">)</span><span class="delimiter">]</span><span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#479084" title="AnnotationInfos.this.AnnotationInfoBase">AnnotationInfoBase</a> <span class="delimiter">{</span>

    <span class="comment">// Classfile annot: args empty. Scala annot: assocs empty.</span>
    <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#550519" title="=&gt; List[AnnotationInfos.this.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#550520" title="=&gt; List[(AnnotationInfos.this.Name, AnnotationInfos.this.ClassfileAnnotArg)]">assocs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="AnnotationInfos.this.Position" id="532487">rawpos</a>: <a href="../util/Position.scala.html#42664" title="AnnotationInfos.this.Position">Position</a> = <a href="Positions.scala.html#479233" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a>
    <span class="keyword">def</span> <a title="=&gt; AnnotationInfos.this.Position" id="532489">pos</a> = <a href="#532487" title="=&gt; AnnotationInfos.this.Position">rawpos</a>
    <span class="keyword">def</span> <a title="(pos: AnnotationInfos.this.Position)AnnotationInfo.this.type" id="532490">setPos</a><span class="delimiter">(</span><a title="AnnotationInfos.this.Position" id="811859">pos</a>: <a href="../util/Position.scala.html#42664" title="AnnotationInfos.this.Position">Position</a><span class="delimiter">)</span>: <span class="keyword">this</span>.<span class="keyword">type</span> = <span class="delimiter">{</span>
      <a href="#532487" title="(x$1: AnnotationInfos.this.Position)Unit">rawpos</a> = <a href="#811859" title="AnnotationInfos.this.Position">pos</a>
      <a href="#533292" title="AnnotationInfo.this.type" class="keyword">this</a>
    <span class="delimiter">}</span>

    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Boolean" id="532492">isTrivial</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#550518" title="=&gt; AnnotationInfos.this.Type">atp</a>.<a href="Types.scala.html#507149" title="=&gt; Boolean">isTrivial</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#550519" title="=&gt; List[AnnotationInfos.this.Tree]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: AnnotationInfos.this.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: AnnotationInfos.this.Tree)AnnotationInfos.this.TreeOps">_</a>.<a href="../ast/Trees.scala.html#510736" title="(p: AnnotationInfos.this.Tree =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#811934" title="AnnotationInfos.this.Tree">_</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434131" title="AnnotationInfos.this.This">This</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// see annotationArgRewriter</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="532493">toString</a>: <span title="String">String</span> = <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">atp</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a>
      <span class="delimiter">(</span><span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#550519" title="=&gt; List[AnnotationInfos.this.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#550519" title="=&gt; List[AnnotationInfos.this.Tree]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
      <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#550520" title="=&gt; List[(AnnotationInfos.this.Name, AnnotationInfos.this.ClassfileAnnotArg)]">assocs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="#550520" title="=&gt; List[(AnnotationInfos.this.Name, AnnotationInfos.this.ClassfileAnnotArg)]">assocs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((AnnotationInfos.this.Name, AnnotationInfos.this.ClassfileAnnotArg)) =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[(AnnotationInfos.this.Name, AnnotationInfos.this.ClassfileAnnotArg)],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a> <a href="#811955" title="java.lang.String" class="delimiter">{</a> <span class="keyword">case</span> <span title="java.lang.String" class="delimiter">(</span><a title="AnnotationInfos.this.Name" id="811958">x</a>, <a title="AnnotationInfos.this.ClassfileAnnotArg" id="811959">y</a><span class="delimiter">)</span> =&gt; <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">x</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#811959" title="AnnotationInfos.this.ClassfileAnnotArg">y</a> <span class="delimiter">}</span> <a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a> <span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

    <span class="comment">/** Check whether the type or any of the arguments are erroneous */</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="532494">isErroneous</a> = <a href="#550518" title="=&gt; AnnotationInfos.this.Type">atp</a>.<a href="Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#550519" title="=&gt; List[AnnotationInfos.this.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: AnnotationInfos.this.Tree =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: AnnotationInfos.this.Tree)AnnotationInfos.this.TreeOps">_</a>.<a href="../ast/Trees.scala.html#510729" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>

    <span class="comment">/** Check whether any of the arguments mention a symbol */</span>
    <span class="keyword">def</span> <a title="(sym: AnnotationInfos.this.Symbol)Boolean" id="532495">refsSymbol</a><span class="delimiter">(</span><a title="AnnotationInfos.this.Symbol" id="812004">sym</a>: <a href="Symbols.scala.html#478659" title="AnnotationInfos.this.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#550519" title="=&gt; List[AnnotationInfos.this.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: AnnotationInfos.this.Tree =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: AnnotationInfos.this.Tree)AnnotationInfos.this.TreeOps">_</a>.<a href="../ast/Trees.scala.html#510736" title="(p: AnnotationInfos.this.Tree =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#812074" title="AnnotationInfos.this.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; AnnotationInfos.this.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#812004" title="AnnotationInfos.this.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Change all ident's with Symbol &quot;from&quot; to instead use symbol &quot;to&quot; */</span>
    <span class="keyword">def</span> <a title="(from: AnnotationInfos.this.Symbol, to: AnnotationInfos.this.Symbol)AnnotationInfos.this.AnnotationInfo" id="532496">substIdentSyms</a><span class="delimiter">(</span><a title="AnnotationInfos.this.Symbol" id="812080">from</a>: <a href="Symbols.scala.html#478659" title="AnnotationInfos.this.Symbol">Symbol</a>, <a title="AnnotationInfos.this.Symbol" id="812081">to</a>: <a href="Symbols.scala.html#478659" title="AnnotationInfos.this.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AnnotationInfos.this.TreeSymSubstituter" id="812084">subs</a> = <span title="AnnotationInfos.this.TreeSymSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#479178" title="AnnotationInfos.this.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: AnnotationInfos.this.Symbol*)List[AnnotationInfos.this.Symbol]">List</a><span class="delimiter">(</span><a href="#812080" title="AnnotationInfos.this.Symbol">from</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: AnnotationInfos.this.Symbol*)List[AnnotationInfos.this.Symbol]">List</a><span class="delimiter">(</span><a href="#812081" title="AnnotationInfos.this.Symbol">to</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#533292" title="(atp: AnnotationInfos.this.Type, args: List[AnnotationInfos.this.Tree], assocs: List[(AnnotationInfos.this.Name, AnnotationInfos.this.ClassfileAnnotArg)])AnnotationInfos.this.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#550518" title="=&gt; AnnotationInfos.this.Type">atp</a>, <a href="#550519" title="=&gt; List[AnnotationInfos.this.Tree]">args</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: AnnotationInfos.this.Tree =&gt; AnnotationInfos.this.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AnnotationInfos.this.Tree],AnnotationInfos.this.Tree,List[AnnotationInfos.this.Tree]])List[AnnotationInfos.this.Tree]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,AnnotationInfos.this.Tree,List[AnnotationInfos.this.Tree]]" class="delimiter">(</a><a href="../ast/Trees.scala.html#565335" title="(tree: AnnotationInfos.this.Tree)AnnotationInfos.this.Tree">subs</a><span class="delimiter">(</span><a href="#812120" title="AnnotationInfos.this.Tree">_</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#550520" title="=&gt; List[(AnnotationInfos.this.Name, AnnotationInfos.this.ClassfileAnnotArg)]">assocs</a><span class="delimiter">)</span>.<a href="#532490" title="(pos: scala.tools.nsc.util.Position)AnnotationInfos.this.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#532489" title="=&gt; AnnotationInfos.this.Position">pos</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// !!! when annotation arguments are not literal strings, but any sort of</span>
    <span class="comment">// assembly of strings, there is a fair chance they will turn up here not as</span>
    <span class="comment">// Literal(const) but some arbitrary AST.</span>
    <span class="keyword">def</span> <a title="(index: Int)Option[String]" id="532497">stringArg</a><span class="delimiter">(</span><a title="Int" id="695706">index</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="Option[String]" class="keyword">if</span><span class="delimiter">(</span><a href="#550519" title="=&gt; List[AnnotationInfos.this.Tree]">args</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#695706" title="Int">index</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#57885" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)AnnotationInfos.this.Tree">args</a><span class="delimiter">(</span><a href="#695706" title="Int">index</a><span class="delimiter">)</span> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String">Literal</span><span class="delimiter">(</span><a title="AnnotationInfos.this.Constant" id="812175">const</a><span class="delimiter">)</span> =&gt; <a href="#812175" title="AnnotationInfos.this.Constant">const</a>.<a href="../../../reflect/generic/Constants.scala.html#434235" title="=&gt; String">stringValue</a>
      <span class="keyword">case</span> <a title="String" id="812176">x</a>              =&gt; <a href="#812176" title="AnnotationInfos.this.Tree">x</a>.<a href="../../../reflect/generic/Trees.scala.html#441042" title="()String">toString</a> <span class="comment">// should not be necessary, but better than silently ignoring an issue</span>
    <span class="delimiter">}</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../../../Option.scala.html#1737" title="object None">None</a>

    <span class="keyword">def</span> <a title="(index: Int)Option[Int]" id="532498">intArg</a><span class="delimiter">(</span><a title="Int" id="812178">index</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[Int]">Option</a><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span title="Option[Int]" class="keyword">if</span><span class="delimiter">(</span><a href="#550519" title="=&gt; List[AnnotationInfos.this.Tree]">args</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#812178" title="Int">index</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#57885" title="(x: AnnotationInfos.this.Tree)Some[AnnotationInfos.this.Tree]">Some</a><span class="delimiter">(</span><a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)AnnotationInfos.this.Tree">args</a><span class="delimiter">(</span><a href="#812178" title="Int">index</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#48494" title="(pf: PartialFunction[AnnotationInfos.this.Tree,Int])Option[Int]">collect</a> <a href="#812198" title="Int" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Int">Literal</span><span class="delimiter">(</span>Constant<span class="delimiter">(</span><a title="Int" id="812201">x</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#812201" title="Int">x</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../Option.scala.html#1737" title="object None">None</a>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object AnnotationInfos.this.AnnotationInfo" id="479086">AnnotationInfo</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../reflect/generic/AnnotationInfos.scala.html#433875" title="AnnotationInfos.this.AnnotationInfoExtractor">AnnotationInfoExtractor</a>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="ClassManifest[AnnotationInfos.this.ClassfileAnnotArg]" id="479089">classfileAnnotArgManifest</a>: <a href="../../../reflect/ClassManifest.scala.html#3181" title="ClassManifest[AnnotationInfos.this.ClassfileAnnotArg]">ClassManifest</a><span class="delimiter">[</span>ClassfileAnnotArg<span class="delimiter">]</span> =
    reflect.<a href="../../../reflect/ClassManifest.scala.html#3182" title="object scala.reflect.ClassManifest">ClassManifest</a>.<a href="../../../reflect/ClassManifest.scala.html#56840" title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[AnnotationInfos.this.ClassfileAnnotArg]">classType</a><span class="delimiter">(</span>classOf<span title="java.lang.Class[AnnotationInfos.this.ClassfileAnnotArg](classOf[scala.tools.nsc.symtab.AnnotationInfos$ClassfileAnnotArg])" class="delimiter">[</span>ClassfileAnnotArg<span class="delimiter">]</span><span class="delimiter">)</span>

  <span class="comment">/** Symbol annotations parsed in `Namer` (typeCompleter of
   *  definitions) have to be lazy (#1782)
   */</span>
  case <span class="keyword">class</span> <a title="class LazyAnnotationInfo extends AnnotationInfos.this.AnnotationInfoBase with ScalaObject with Product with Serializable" id="812276">LazyAnnotationInfo</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="() =&gt; AnnotationInfos.this.AnnotationInfo" id="812311">annot</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; AnnotationInfo<span class="delimiter">)</span>
  <span class="keyword">extends</span> <a href="#479084" title="AnnotationInfos.this.AnnotationInfoBase">AnnotationInfoBase</a>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>