<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/util/FlagsUtil.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Paul Phillips
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> util

<span class="comment">// Overloading invariants: these are &quot;pseudoinvariants&quot; because many of the</span>
<span class="comment">// methods do not exist on Modifiers, only on Symbol, not to mention it is only</span>
<span class="comment">// speculative that they are mutually exclusive: but is here to provide a</span>
<span class="comment">// starting point for further refinement.</span>
<span class="comment">//</span>
<span class="comment">// 16: BYNAMEPARAM CAPTURED COVARIANT</span>
<span class="comment">//   x.isParameter  ==&gt; BYNAMEPARAM</span>
<span class="comment">//   x.isMutable    ==&gt; CAPTURED</span>
<span class="comment">//   x.isType       ==&gt; COVARIANT</span>
<span class="comment">//</span>
<span class="comment">// 17: CONTRAVARIANT INCONSTRUCTOR LABEL</span>
<span class="comment">//   x.isType       ==&gt; CONTRAVARIANT</span>
<span class="comment">//   x.isClass      ==&gt; INCONSTRUCTOR</span>
<span class="comment">//   x.isMethod     ==&gt; LABEL</span>
<span class="comment">//</span>
<span class="comment">// 25: DEFAULTPARAM TRAIT</span>
<span class="comment">//   x.isParameter  ==&gt; DEFAULTPARAM</span>
<span class="comment">//   x.isClass      ==&gt; TRAIT</span>
<span class="comment">//</span>
<span class="comment">// 35: EXISTENTIAL MIXEDIN</span>
<span class="comment">//   x.isType       ==&gt; EXISTENTIAL</span>
<span class="comment">//   x.isTerm       ==&gt; MIXEDIN</span>
<span class="comment">//</span>
<span class="comment">// 37: IMPLCLASS PRESUPER</span>
<span class="comment">//   x.isClass      ==&gt; IMPLCLASS</span>
<span class="comment">//   x.isTerm       ==&gt; PRESUPER</span>

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a>.ExplicitFlags

<span class="keyword">class</span> <a title="class TransFlagManager[T &lt;: scala.tools.nsc.Global] extends java.lang.Object with ScalaObject" id="42685">TransFlagManager</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: scala.tools.nsc.Global" id="43387">T</a> &lt;: Global<span class="delimiter">]</span><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="T" id="989346">global</a>: <a href="#43387" title="T">T</a><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="#989346" title="=&gt; T">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#479030" title="object TransFlagManager.this.global.definitions">definitions</a>._

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[TransFlagManager.this.FlagTracker]" id="989333">trackerStack</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[TransFlagManager.this.FlagTracker]">List</a><span class="delimiter">[</span>FlagTracker<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; String" id="989335">trackerString</a> = <a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class FlagTracker extends java.lang.Object with ScalaObject" id="989336">FlagTracker</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="String" id="989377">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Long" id="989351">mask</a>               = symtab.Flags.<span title="Long(274877906944L)">TRANS_FLAG</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]" id="989353">seen</a>               = <a href="../../../collection/mutable/HashSet.scala.html#108311" title="()scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashSet.scala.html#14593" title="scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">HashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(msg: String)Unit" id="989355">debug</a><span class="delimiter">(</span><a title="String" id="989378">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#989378" title="String">msg</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(msg: String)Unit" id="989356">trace</a><span class="delimiter">(</span><a title="String" id="989384">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#469865" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">verbose</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#989384" title="String">msg</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="989357">isDebug</a>            = <a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="989358">doWeOwnFlag</a>        = <a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/TraversableLike.scala.html#49081" title="=&gt; Option[TransFlagManager.this.FlagTracker]">headOption</a> <a href="../../../Option.scala.html#48490" title="(p: TransFlagManager.this.FlagTracker =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#989404" title="TransFlagManager.this.FlagTracker">_</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#989336" title="TransFlagManager.this.FlagTracker" class="keyword">this</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="989359">isOK</a>               = <a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; TransFlagManager.this.FlagTracker">head</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#989336" title="TransFlagManager.this.FlagTracker" class="keyword">this</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(sym: TransFlagManager.this.global.Symbol)Boolean" id="989360">apply</a><span class="delimiter">(</span><a title="TransFlagManager.this.global.Symbol" id="989410">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="TransFlagManager.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#989359" title="=&gt; Boolean">isOK</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Testing &quot;)" class="string">&quot;Testing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989410" title="TransFlagManager.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TransFlagManager.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; for &quot;)" class="string">&quot; for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989377" title="=&gt; String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; flag, but not at top of stack: &quot;)" class="string">&quot; flag, but not at top of stack: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989335" title="=&gt; String">trackerString</a><span class="delimiter">)</span>

      <a href="#989410" title="TransFlagManager.this.global.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <a href="#989351" title="=&gt; Long">mask</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(sym: TransFlagManager.this.global.Symbol)TransFlagManager.this.global.Symbol" id="989361">set</a><span class="delimiter">(</span><a title="TransFlagManager.this.global.Symbol" id="989413">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="TransFlagManager.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#989359" title="=&gt; Boolean">isOK</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Tried to set &quot;)" class="string">&quot;Tried to set &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989377" title="=&gt; String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; but not at top of stack: &quot;)" class="string">&quot; but not at top of stack: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989335" title="=&gt; String">trackerString</a><span class="delimiter">)</span>

      <a href="#989353" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a> <a href="../../../collection/mutable/HashSet.scala.html#108315" title="(elem: TransFlagManager.this.global.Symbol)FlagTracker.this.seen.type">+=</a> <a href="#989413" title="TransFlagManager.this.global.Symbol">sym</a>
      <a href="#989413" title="TransFlagManager.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)sym.type">setFlag</a> <a href="#989351" title="=&gt; Long">mask</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(sym: TransFlagManager.this.global.Symbol)TransFlagManager.this.global.Symbol" id="989362">reset</a><span class="delimiter">(</span><a title="TransFlagManager.this.global.Symbol" id="989425">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="TransFlagManager.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#989359" title="=&gt; Boolean">isOK</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Tried to clear &quot;)" class="string">&quot;Tried to clear &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989377" title="=&gt; String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; but not at top of stack: &quot;)" class="string">&quot; but not at top of stack: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989335" title="=&gt; String">trackerString</a><span class="delimiter">)</span>

      <a href="#989353" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a> <a href="../../../collection/mutable/HashSet.scala.html#108316" title="(elem: TransFlagManager.this.global.Symbol)FlagTracker.this.seen.type">-=</a> <a href="#989425" title="TransFlagManager.this.global.Symbol">sym</a>
      <a href="#989425" title="TransFlagManager.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)sym.type">resetFlag</a> <a href="#989351" title="=&gt; Long">mask</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="()Unit" id="989363">clear</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#989358" title="=&gt; Boolean">doWeOwnFlag</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#989353" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Clearing &quot;)" class="string">&quot;Clearing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989353" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a>.<a href="../../../collection/mutable/HashSet.scala.html#108313" title="=&gt; Int">size</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989377" title="=&gt; String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; flags even though the stack is: &quot;)" class="string">&quot; flags even though the stack is: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989335" title="=&gt; String">trackerString</a><span class="delimiter">)</span>

      <a href="#989353" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a> <a href="../../../collection/mutable/HashSet.scala.html#108321" title="(f: TransFlagManager.this.global.Symbol =&gt; TransFlagManager.this.global.Symbol)Unit">foreach</a> <span class="delimiter">(</span><a href="#989456" title="TransFlagManager.this.global.Symbol">_</a> <a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)x$2.type">resetFlag</a> <a href="#989351" title="=&gt; Long">mask</a><span class="delimiter">)</span>
      <a href="#989353" title="=&gt; scala.collection.mutable.HashSet[TransFlagManager.this.global.Symbol]">seen</a>.<a href="../../../collection/mutable/HashSet.scala.html#108320" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="()Unit" id="989337">forceClear</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Warning: force clearing the stack at &quot;)" class="string">&quot;Warning: force clearing the stack at &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989335" title="=&gt; String">trackerString</a><span class="delimiter">)</span>
      <a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: TransFlagManager.this.FlagTracker =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#989485" title="TransFlagManager.this.FlagTracker">_</a>.<a href="#989363" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#989333" title="(x$1: List[TransFlagManager.this.FlagTracker])Unit">trackerStack</a> = <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(label: String)TransFlagManager.this.FlagTracker" id="989338">claimTransFlag</a><span class="delimiter">(</span><a title="String" id="989487">label</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#989336" title="TransFlagManager.this.FlagTracker">FlagTracker</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; TransFlagManager.this.FlagTracker">head</a>.<a href="#989377" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#989487" title="String">label</a><span class="delimiter">)</span>
      <a href="#989333" title="(x$1: List[TransFlagManager.this.FlagTracker])Unit">trackerStack</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: TransFlagManager.this.FlagTracker)List[TransFlagManager.this.FlagTracker]">::=</a> <span title="TransFlagManager.this.FlagTracker" class="keyword">new</span> <a href="#989336" title="TransFlagManager.this.FlagTracker">FlagTracker</a><span class="delimiter">(</span><a href="#989487" title="String">label</a><span class="delimiter">)</span>

    <a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; TransFlagManager.this.FlagTracker">head</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(label: String)Boolean" id="989339">releaseTransFlag</a><span class="delimiter">(</span><a title="String" id="989508">label</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; TransFlagManager.this.FlagTracker">head</a>.<a href="#989377" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#989508" title="String">label</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; TransFlagManager.this.FlagTracker">head</a>.<a href="#989363" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#989333" title="(x$1: List[TransFlagManager.this.FlagTracker])Unit">trackerStack</a> = <a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[TransFlagManager.this.FlagTracker]">tail</a>
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Warning: trying to release &quot;)" class="string">&quot;Warning: trying to release &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989508" title="String">label</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; flag but the stack is: &quot;)" class="string">&quot; flag but the stack is: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989333" title="=&gt; List[TransFlagManager.this.FlagTracker]">trackerStack</a>.<a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[U](label: String)(f: TransFlagManager.this.FlagTracker =&gt; U)U" id="989340">holdingTransFlag</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="989342">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="String" id="989522">label</a>: <span title="String">String</span><span class="delimiter">)</span><span class="delimiter">(</span><a title="TransFlagManager.this.FlagTracker =&gt; U" id="989523">f</a>: FlagTracker =&gt; U<span class="delimiter">)</span>: <a href="#989342" title="U">U</a> = <span class="delimiter">{</span>
    <span class="keyword">try</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TransFlagManager.this.FlagTracker" id="989526">t</a> = <a href="#989338" title="(label: String)TransFlagManager.this.FlagTracker">claimTransFlag</a><span class="delimiter">(</span><a href="#989522" title="String">label</a><span class="delimiter">)</span>
      <a href="../../../Function1.scala.html#53453" title="(v1: TransFlagManager.this.FlagTracker)U">f</a><span class="delimiter">(</span><a href="#989526" title="TransFlagManager.this.FlagTracker">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#989339" title="(label: String)Boolean">releaseTransFlag</a><span title="Unit" class="delimiter">(</span><a href="#989522" title="String">label</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


<span class="comment">/** Some functions for generating comments and methods involving flags,
 *  with the output determined by reflection so we can have a little more
 *  assurance that documentation and debugging output match up with reality.
 *
 *  For the compiler, the output can be generated with:
 *    scala scala.tools.nsc.util.FlagsUtilCompiler
 */</span>
<span class="keyword">class</span> <a title="class FlagsUtil extends java.lang.Object with ScalaObject" id="42520">FlagsUtil</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="AnyRef" id="989541">flagsObject</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> <span class="delimiter">{</span>
  <span class="comment">/** Override to tweak flag strings before output. */</span>
  <span class="keyword">def</span> <a title="(name: String)String" id="989531">addFlagMetadata</a><span class="delimiter">(</span><a title="String" id="989542">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#989542" title="String">name</a>

  <span class="comment">/** Runs the generative methods in this class. */</span>
  <span class="keyword">def</span> <a title="()Unit" id="989532">reflectiveAnalyzeFlags</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <a href="#989534" title="()Unit">mkFlagsTable</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
    <a href="#989535" title="()Unit">mkFlagToStringMethod</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">/** A list of the flag names found at each bit position.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[List[String]]" id="989533">reflectiveFlagNames</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[List[String]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[(java.lang.String, Long)]" id="990867">pairs</a> = <a href="#989537" title="=&gt; List[java.lang.reflect.Method]">flagMethods</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: java.lang.reflect.Method =&gt; (java.lang.String, Long))(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.reflect.Method],(java.lang.String, Long),List[(java.lang.String, Long)]])List[(java.lang.String, Long)]">map</a> <span class="delimiter">{</span> <a title="java.lang.reflect.Method" id="991157">m</a> =&gt;
      <a href="#991157" title="java.lang.reflect.Method">m</a>.<a href="../../../Predef.scala.html#9589" title="(x: java.lang.String)ArrowAssoc[java.lang.String]">getName</a> <a href="../../../Predef.scala.html#57653" title="(y: Long)(java.lang.String, Long)">-&gt;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#991157" title="java.lang.reflect.Method">m</a> <span title="(x$1: Any, x$2: &lt;repeated...&gt;[java.lang.Object])java.lang.Object">invoke</span> <a href="#989541" title="AnyRef">flagsObject</a><span class="delimiter">)</span> <span title="Long" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Long" id="991173">x</a>: java.lang.<span title="java.lang.Integer">Integer</span>   =&gt; <a href="#991173" title="java.lang.Integer">x</a>.<a href="../../../Int.scala.html#54731" title="=&gt; Long">intValue</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a>
        <span class="keyword">case</span> <a title="Long" id="991174">x</a>: java.lang.<span title="java.lang.Long">Long</span>      =&gt; <a href="#991174" title="java.lang.Long">x</a>.<span title="()Long">longValue</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="delimiter">(</span><a href="../../../LowPriorityImplicits.scala.html#9474" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../runtime/RichInt.scala.html#54713" title="(end: Int)scala.collection.immutable.Range.Inclusive">to</a> <span title="Int(63)" class="int">63</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[Int]">toList</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Int =&gt; List[java.lang.String])(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],List[java.lang.String],List[List[String]]])List[List[String]]">map</a> <span class="delimiter">{</span> <a title="Int" id="991336">idx</a> =&gt;
      <a href="#990867" title="List[(java.lang.String, Long)]">pairs</a> <a href="../../../collection/TraversableLike.scala.html#49053" title="(pf: PartialFunction[(java.lang.String, Long),java.lang.String])(implicit bf: scala.collection.generic.CanBuildFrom[List[(java.lang.String, Long)],java.lang.String,List[java.lang.String]])List[java.lang.String]">collect</a> <a href="#991349" title="java.lang.String" class="delimiter">{</a> <span class="keyword">case</span> <span title="java.lang.String" class="delimiter">(</span><a title="java.lang.String" id="991352">name</a>, <a title="Long" id="991353">value</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#991353" title="Long">value</a> <a href="../../../Long.scala.html#55113" title="(x: Long)Boolean">==</a> <span class="delimiter">(</span><span title="Long(1L)" class="long">1L</span> <a href="../../../Long.scala.html#55103" title="(x: Int)Long">&lt;&lt;</a> <a href="#991336" title="Int">idx</a><span class="delimiter">)</span> =&gt; <a href="#991352" title="java.lang.String">name</a> <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/** Prints a comment table identifying all the flags (as seen
   *  via reflection) and at what bit each is located.
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="989534">mkFlagsTable</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[List[String]]" id="989549">markedFlagNames</a> = <a href="#989533" title="=&gt; List[List[String]]">reflectiveFlagNames</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: List[String] =&gt; List[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[String]],List[String],List[List[String]]])List[List[String]]">map</a> <span class="delimiter">(</span><a href="#989574" title="List[String]">_</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a> <a href="#989531" title="(name: String)String">addFlagMetadata</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="scala.collection.immutable.IndexedSeq[Int]" id="989550">widths</a> = <a href="../../../LowPriorityImplicits.scala.html#9474" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../runtime/RichInt.scala.html#54713" title="(end: Int)scala.collection.immutable.Range.Inclusive">to</a> <span title="Int(2)" class="int">2</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Int =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],Int,scala.collection.immutable.IndexedSeq[Int]])scala.collection.immutable.IndexedSeq[Int]">map</a> <span class="delimiter">{</span> <a title="Int" id="989779">column</a> =&gt;
      <a href="#989549" title="List[List[String]]">markedFlagNames</a> <a href="../../../collection/TraversableLike.scala.html#49053" title="(pf: PartialFunction[List[String],Int])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[String]],Int,List[Int]])List[Int]">collect</a> <a href="#989792" title="Int" class="delimiter">{</a> <span class="keyword">case</span> <a title="Int" id="989793">xs</a> <span class="keyword">if</span> <a href="#989793" title="List[String]">xs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#989779" title="Int">column</a> =&gt;
        <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)String">xs</a><span class="delimiter">(</span><a href="#989779" title="Int">column</a><span class="delimiter">)</span>.<span title="()Int">length</span>
      <span class="delimiter">}</span> <a href="../../../collection/TraversableOnce.scala.html#53669" title="(implicit cmp: Ordering[Int])Int">max</a>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="989551">fmt</a> = <span title="java.lang.String(&quot;// %2d: &quot;)" class="string">&quot;// %2d: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#989550" title="scala.collection.immutable.IndexedSeq[Int]">widths</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Int =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],java.lang.String,scala.collection.immutable.IndexedSeq[java.lang.String]])scala.collection.immutable.IndexedSeq[java.lang.String]">map</a> <span class="delimiter">(</span><span title="java.lang.String(&quot;%&quot;)" class="string">&quot;%&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989943" title="Int">_</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(xs: List[String])List[java.lang.String]" id="989552">padded</a><span class="delimiter">(</span><a title="List[String]" id="989977">xs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#989977" title="List[String]">xs</a> <span title="List[java.lang.String]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="List[java.lang.String]">Nil</a>              =&gt; <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: java.lang.String*)List[java.lang.String]">List</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="List[java.lang.String]" id="989989">x</a> :: <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>         =&gt; <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: java.lang.String*)List[java.lang.String]">List</a><span class="delimiter">(</span><a href="#989989" title="String">x</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="List[java.lang.String]" id="990001">x1</a> :: <a title="String" id="990006">x2</a> :: <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>  =&gt; <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: java.lang.String*)List[java.lang.String]">List</a><span class="delimiter">(</span><a href="#990001" title="String">x1</a>, <a href="#990006" title="String">x2</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[String]">_</span>                =&gt; <a href="#989977" title="List[String]">xs</a> <a href="../../../collection/immutable/List.scala.html#49163" title="(n: Int)List[String]">take</a> <span title="Int(3)" class="int">3</span>
    <span class="delimiter">}</span>
    <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;// Generated by mkFlagsTable() at &quot;)" class="string">&quot;// Generated by mkFlagsTable() at &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989538" title="=&gt; java.lang.String">now</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012//&quot;)" class="string">&quot;\n//&quot;</span><span class="delimiter">)</span>
    <span class="comment">// prints the grid showing which flags are at each index</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="List[String]" id="990096">names</a>, <a title="Int" id="990097">idx</a><span class="delimiter">)</span> &lt;- <a href="#989549" title="List[List[String]]">markedFlagNames</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ((List[String], Int)) =&gt; Unit)Unit">zipWithIndex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">fmt</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#990097" title="Int">idx</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Any)List[Any]">::</a> <a href="#989552" title="(xs: List[String])List[java.lang.String]">padded</a><span class="delimiter">(</span><a href="#990096" title="List[String]">names</a><span class="delimiter">)</span> : _*<span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">/** Prints an implementation of flagToString based on the reflectively
   *  determined contents of the flags class.
   */</span>
  <span class="keyword">def</span> <a title="()Unit" id="989535">mkFlagToStringMethod</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(xs: List[String], flag: Long)String" id="990123">key</a><span class="delimiter">(</span><a title="List[String]" id="990129">xs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Long" id="990130">flag</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a><span class="delimiter">)</span> = <a href="#990129" title="List[String]">xs</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="String">Nil</a>    =&gt; <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%19s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><span title="java.lang.String(&quot;0x&quot;)" class="string">&quot;0x&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%x&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#990130" title="Long">flag</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;L&quot;)" class="string">&quot;L&quot;</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="java.lang.String" id="990141">x</a> :: _ =&gt;
        <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">x</a>.<a href="../../../LowPriorityImplicits.scala.html#9475" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">head</a>.<a href="../../../runtime/RichChar.scala.html#54868" title="=&gt; Boolean">isLower</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;`&quot;)" class="string">&quot;`&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#990141" title="String">x</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;`&quot;)" class="string">&quot;`&quot;</span>
        <span class="keyword">else</span> <a href="#990141" title="String">x</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(xs: List[String], flag: Long)java.lang.String" id="990124">value</a><span class="delimiter">(</span><a title="List[String]" id="990383">xs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span>, <a title="Long" id="990384">flag</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a><span class="delimiter">)</span> = <span title="java.lang.String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#990383" title="List[String]">xs</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="java.lang.String(&quot;&quot;)">Nil</a>                                      =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">case</span> <a title="java.lang.String" id="990389">x</a> :: <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#990384" title="Long">flag</a> <a href="../../../Long.scala.html#55160" title="(x: Long)Long">&amp;</a> <a href="../symtab/Flags.scala.html#478459" title="=&gt; Long">ExplicitFlags</a><span class="delimiter">)</span> <a href="../../../Long.scala.html#55119" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span>  =&gt; <a href="#990389" title="String">x</a>.<span title="()java.lang.String">toLowerCase</span>
      <span class="keyword">case</span> <a title="String" id="990401">xs</a>                                       =&gt; <a href="#990401" title="List[String]">xs</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: String =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</a><a href="#990418" title="String">_</a>.<span title="()java.lang.String">toLowerCase</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span>, <span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span>, <span title="java.lang.String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\&quot;&quot;)" class="string">&quot;\&quot;&quot;</span>
    <span class="keyword">val</span> <a title="List[(String, String)]" id="990125">pairs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[(String, String)]">List</a><span class="delimiter">[</span><span class="delimiter">(</span>String, String<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#989533" title="=&gt; List[List[String]]">reflectiveFlagNames</a>.<a href="../../../collection/IterableLike.scala.html#53915" title="(implicit bf: scala.collection.generic.CanBuildFrom[List[List[String]],(List[String], Int),List[(List[String], Int)]])List[(List[String], Int)]">zipWithIndex</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((List[String], Int)) =&gt; (String, java.lang.String))(implicit bf: scala.collection.generic.CanBuildFrom[List[(List[String], Int)],(String, java.lang.String),List[(String, String)]])List[(String, String)]">map</a> <a href="#990515" title="(String, java.lang.String)" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="(String, java.lang.String)" class="delimiter">(</span><a title="List[String]" id="990518">xs</a>, <a title="Int" id="990519">idx</a><span class="delimiter">)</span> =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: String, _2: java.lang.String)(String, java.lang.String)" class="delimiter">(</a><a href="#990123" title="(xs: List[String], flag: Long)String">key</a><span class="delimiter">(</span><a href="#990518" title="List[String]">xs</a>, <span title="Long(1L)" class="long">1L</span> <a href="../../../Long.scala.html#55103" title="(x: Int)Long">&lt;&lt;</a> <a href="#990519" title="Int">idx</a><span class="delimiter">)</span>, <a href="#990124" title="(xs: List[String], flag: Long)java.lang.String">value</a><span class="delimiter">(</span><a href="#990518" title="List[String]">xs</a>, <span title="Long(1L)" class="long">1L</span> <a href="../../../Long.scala.html#55103" title="(x: Int)Long">&lt;&lt;</a> <a href="#990519" title="Int">idx</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="Int" id="990126">keyWidth</a>  = <a href="#990125" title="List[(String, String)]">pairs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((String, String)) =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, String)],Int,List[Int]])List[Int]">map</a> <span class="delimiter">(</span><a href="#990577" title="(String, String)">_</a>.<a href="../../../Tuple2.scala.html#53402" title="=&gt; String">_1</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53669" title="(implicit cmp: Ordering[Int])Int">max</a>
    <span class="keyword">val</span> <a title="Int" id="990127">bodyWidth</a> = <a href="#990125" title="List[(String, String)]">pairs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((String, String)) =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[(String, String)],Int,List[Int]])List[Int]">map</a> <span class="delimiter">(</span><a href="#990679" title="(String, String)">_</a>.<a href="../../../Tuple2.scala.html#53404" title="=&gt; String">_2</a>.<span title="()Int">length</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53669" title="(implicit cmp: Ordering[Int])Int">max</a>
    <span class="keyword">val</span> <a title="java.lang.String" id="990128">fmt</a>       = <span title="java.lang.String(&quot;  case %&quot;)" class="string">&quot;  case %&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#990126" title="Int">keyWidth</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;s =&gt; %-&quot;)" class="string">&quot;s =&gt; %-&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#990127" title="Int">bodyWidth</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;s // (1L &lt;&lt; %d)&quot;)" class="string">&quot;s // (1L &lt;&lt; %d)&quot;</span>

    <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;// Generated by mkFlagToStringMethod() at &quot;)" class="string">&quot;// Generated by mkFlagToStringMethod() at &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#989538" title="=&gt; java.lang.String">now</a><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;@annotation.switch override def flagToString(flag: Long): String = flag match {&quot;)" class="string">&quot;@annotation.switch override def flagToString(flag: Long): String = flag match {&quot;</span><span class="delimiter">)</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="990854">key</a>, <a title="String" id="990855">body</a><span class="delimiter">)</span>, <a title="Int" id="990856">idx</a><span class="delimiter">)</span> &lt;- <a href="#990125" title="List[(String, String)]">pairs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: (((String, String), Int)) =&gt; Unit)Unit">zipWithIndex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#9592" title="(x: Any)Unit">print</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">fmt</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#990854" title="String">key</a>, <a href="#990855" title="String">body</a>, <a href="#990856" title="Int">idx</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;  case _ =&gt; \&quot;\&quot;&quot;)" class="string">&quot;  case _ =&gt; \&quot;\&quot;&quot;</span><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;}&quot;)" class="string">&quot;}&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(s: String)Boolean" id="989536">isFlagName</a><span class="delimiter">(</span><a title="String" id="990974">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">s</a> <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripPrefix</a> <span title="java.lang.String(&quot;late&quot;)" class="string">&quot;late&quot;</span> <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripPrefix</a> <span title="java.lang.String(&quot;not&quot;)" class="string">&quot;not&quot;</span> <a href="../../../collection/IndexedSeqOptimized.scala.html#55929" title="(p: Char =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="Char" id="991067">x</a> =&gt; <a href="../../../LowPriorityImplicits.scala.html#9475" title="implicit scala.LowPriorityImplicits.charWrapper : (c: Char)scala.runtime.RichChar">x</a>.<a href="../../../runtime/RichChar.scala.html#54869" title="=&gt; Boolean">isUpper</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#991067" title="Char">x</a> <a href="../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'_\')" class="char">'_'</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; List[java.lang.reflect.Method]" id="989537">flagMethods</a>           = <a href="#989541" title="AnyRef">flagsObject</a>.<span title="()java.lang.Class[_]">getClass</span>.<a href="../../../Predef.scala.html#9626" title="(xs: Array[java.lang.reflect.Method])scala.collection.mutable.ArrayOps[java.lang.reflect.Method]">getMethods</a>.<a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[java.lang.reflect.Method]">toList</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: java.lang.reflect.Method =&gt; Boolean)List[java.lang.reflect.Method]">filter</a> <span class="delimiter">(</span><a title="java.lang.reflect.Method" id="990973">x</a> =&gt; <a href="#989536" title="(s: String)Boolean">isFlagName</a><span class="delimiter">(</span><a href="#990973" title="java.lang.reflect.Method">x</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54178" title="(f: java.lang.reflect.Method =&gt; java.lang.String)(implicit ord: scala.math.Ordering[java.lang.String])List[java.lang.reflect.Method]">sortBy</a> <span class="delimiter">(</span><a href="#991082" title="java.lang.reflect.Method">_</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="989538">now</a>           = <span title="java.util.Date" class="keyword">new</span> java.util.<span title="java.util.Date">Date</span> <span title="()java.lang.String">toString</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scala.tools.nsc.util.FlagsUtil" id="42521">FlagsUtil</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">import</span> reflect.generic.ModifierFlags

  <span class="keyword">trait</span> <a title="trait MarkModifiers extends scala.tools.nsc.util.FlagsUtil with ScalaObject" id="991418">MarkModifiers</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#42520" title="scala.tools.nsc.util.FlagsUtil">FlagsUtil</a> <span class="delimiter">{</span>
    <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Set[java.lang.String]" id="991422">isModifiersFlag</a> = classOf<span title="java.lang.Class[scala.reflect.generic.ModifierFlags](classOf[scala.reflect.generic.ModifierFlags])" class="delimiter">[</span>ModifierFlags<span class="delimiter">]</span>.<a href="../../../Predef.scala.html#9626" title="(xs: Array[java.lang.reflect.Method])scala.collection.mutable.ArrayOps[java.lang.reflect.Method]">getMethods</a> <a href="../../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">map</a> <span class="delimiter">(</span><a href="#991862" title="java.lang.reflect.Method">_</a>.<span title="()java.lang.String">getName</span><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">filter</a> <a href="#989536" title="(s: String)Boolean">isFlagName</a> <a href="../../../collection/TraversableOnce.scala.html#53700" title="scala.collection.immutable.Set[java.lang.String]">toSet</a>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: String)String" id="991423">addFlagMetadata</a><span class="delimiter">(</span><a title="String" id="992234">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: java.lang.String)Boolean">isModifiersFlag</a><span class="delimiter">(</span><a href="#992234" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#992234" title="String">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;/M&quot;)" class="string">&quot;/M&quot;</span>
      <span class="keyword">else</span> <a href="#992234" title="String">name</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/** Convenience standalone programs.
 */</span>
<span class="keyword">object</span> <a title="object scala.tools.nsc.util.FlagsUtilCompiler" id="42788">FlagsUtilCompiler</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#42520" title="scala.tools.nsc.util.FlagsUtil">FlagsUtil</a><span class="delimiter">(</span>symtab.<a href="../symtab/Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a><span class="delimiter">)</span> <span class="keyword">with</span> FlagsUtil.<a href="#991418" title="scala.tools.nsc.util.FlagsUtil.MarkModifiers">MarkModifiers</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="992249">main</a><span class="delimiter">(</span><a title="Array[String]" id="992251">args</a>: <a href="../../../Array.scala.html#1430" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <a href="#989532" title="()Unit">reflectiveAnalyzeFlags</a><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scala.tools.nsc.util.FlagsUtilLibrary" id="43256">FlagsUtilLibrary</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#42520" title="scala.tools.nsc.util.FlagsUtil">FlagsUtil</a><span class="delimiter">(</span>reflect.generic.<a href="../../../reflect/generic/Flags.scala.html#19804" title="object scala.reflect.generic.Flags">Flags</a><span class="delimiter">)</span> <span class="keyword">with</span> FlagsUtil.<a href="#991418" title="scala.tools.nsc.util.FlagsUtil.MarkModifiers">MarkModifiers</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(args: Array[String])Unit" id="992254">main</a><span class="delimiter">(</span><a title="Array[String]" id="992256">args</a>: <a href="../../../Array.scala.html#1430" title="Array[String]">Array</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <a href="#989532" title="()Unit">reflectiveAnalyzeFlags</a><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>