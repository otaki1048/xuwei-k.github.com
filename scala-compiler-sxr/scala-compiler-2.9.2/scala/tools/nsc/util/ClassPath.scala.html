<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/util/ClassPath.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2006-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>


<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> util

<span class="keyword">import</span> java.net.URL
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> io.<span class="delimiter">{</span> File, Directory, Path, Jar, AbstractFile, ClassAndJarInfo <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.util.<a href="../../util/StringOps.scala.html#43792" title="object scala.tools.util.StringOps">StringOps</a>.splitWhere
<span class="keyword">import</span> <a href="../io/Jar.scala.html#33373" title="object scala.tools.nsc.io.Jar">Jar</a>.isJarOrZip
<span class="keyword">import</span> <a href="../io/File.scala.html#33013" title="object scala.tools.nsc.io.File">File</a>.pathSeparator

<span class="comment">/** &lt;p&gt;
 *    This module provides star expansion of '-classpath' option arguments, behaves the same as
 *    java, see [http://java.sun.com/javase/6/docs/technotes/tools/windows/classpath.html]
 *  &lt;/p&gt;
 *
 *  @author Stepan Koltsov
 */</span>
<span class="keyword">object</span> <a title="object scala.tools.nsc.util.ClassPath" id="42944">ClassPath</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="=&gt; Option[scala.tools.nsc.io.Path]" id="481044">scalaLibrary</a>  = <a href="#785341" title="[T](implicit evidence$2: ClassManifest[T])Option[scala.tools.nsc.io.Path]">locate</a><a href="../../../reflect/ClassManifest.scala.html#56840" title="(implicit evidence$2: ClassManifest[ScalaObject])Option[scala.tools.nsc.io.Path]" class="delimiter">[</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject">ScalaObject</a><span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; Option[scala.tools.nsc.io.Path]" id="481045">scalaCompiler</a> = <a href="#785341" title="[T](implicit evidence$2: ClassManifest[T])Option[scala.tools.nsc.io.Path]">locate</a><a href="../../../reflect/ClassManifest.scala.html#56840" title="(implicit evidence$2: ClassManifest[scala.tools.nsc.Global])Option[scala.tools.nsc.io.Path]" class="delimiter">[</a><a href="../Global.scala.html#22521" title="scala.tools.nsc.Global">Global</a><span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="[T](implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]" id="785344">info</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="481048">T</a>: ClassManifest<span class="delimiter">]</span>      = <a href="#785344" title="scala.tools.nsc.io.ClassAndJarInfo[T]" class="keyword">new</a> <a href="../io/ClassAndJarInfo.scala.html#33315" title="scala.tools.nsc.io.ClassAndJarInfo[T]">ClassAndJarInfo</a><span class="delimiter">[</span>T<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="[T](implicit evidence$2: ClassManifest[T])Option[scala.tools.nsc.io.Path]" id="785341">locate</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="481051">T</a>: ClassManifest<span class="delimiter">]</span>    = <a href="#785344" title="[T](implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]">info</a><a href="#785341" title="(implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]" class="delimiter">[</a><a href="#481051" title="T">T</a><span class="delimiter">]</span> <a href="../io/ClassAndJarInfo.scala.html#776559" title="=&gt; Option[scala.tools.nsc.io.Path]">rootClasspath</a>
  <span class="keyword">def</span> <a title="[T](implicit evidence$3: ClassManifest[T])Option[scala.tools.nsc.io.File]" id="982953">locateJar</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="481054">T</a>: ClassManifest<span class="delimiter">]</span> = <a href="#785344" title="[T](implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]">info</a><a href="#982953" title="(implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]" class="delimiter">[</a><a href="#481054" title="T">T</a><span class="delimiter">]</span>.<a href="../io/ClassAndJarInfo.scala.html#776562" title="=&gt; Iterator[scala.tools.nsc.io.Path]">rootPossibles</a> <a href="../../../collection/Iterator.scala.html#59160" title="(p: scala.tools.nsc.io.Path =&gt; Boolean)Option[scala.tools.nsc.io.Path]">find</a> <span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="982963">x</a> =&gt; <a href="../io/Jar.scala.html#505627" title="(f: scala.tools.nsc.io.Path)Boolean">isJarOrZip</a><span class="delimiter">(</span><a href="#982963" title="scala.tools.nsc.io.Path">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#48480" title="(f: scala.tools.nsc.io.Path =&gt; scala.tools.nsc.io.File)Option[scala.tools.nsc.io.File]">map</a> <span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="982970">x</a> =&gt; <a href="../io/File.scala.html#482216" title="(path: scala.tools.nsc.io.Path)(implicit codec: scala.io.Codec)scala.tools.nsc.io.File">File</a><a href="../../../io/Codec.scala.html#417661" title="=&gt; scala.io.Codec" class="delimiter">(</a><a href="#982970" title="scala.tools.nsc.io.Path">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="[T](implicit evidence$4: ClassManifest[T])Option[scala.tools.nsc.io.Directory]" id="982973">locateDir</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="481057">T</a>: ClassManifest<span class="delimiter">]</span> = <a href="#785344" title="[T](implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]">info</a><a href="#982973" title="(implicit evidence$1: ClassManifest[T])scala.tools.nsc.io.ClassAndJarInfo[T]" class="delimiter">[</a><a href="#481057" title="T">T</a><span class="delimiter">]</span>.<a href="../io/ClassAndJarInfo.scala.html#776562" title="=&gt; Iterator[scala.tools.nsc.io.Path]">rootPossibles</a> <a href="../../../collection/Iterator.scala.html#59160" title="(p: scala.tools.nsc.io.Path =&gt; Boolean)Option[scala.tools.nsc.io.Path]">find</a> <span class="delimiter">(</span><a href="#982983" title="scala.tools.nsc.io.Path">_</a>.<a href="../io/Path.scala.html#479439" title="=&gt; Boolean">isDirectory</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#48480" title="(f: scala.tools.nsc.io.Path =&gt; scala.tools.nsc.io.Directory)Option[scala.tools.nsc.io.Directory]">map</a> <span class="delimiter">(</span><a href="#982987" title="scala.tools.nsc.io.Path">_</a>.<a href="../io/Path.scala.html#479402" title="=&gt; scala.tools.nsc.io.Directory">toDirectory</a><span class="delimiter">)</span>

  <span class="comment">/** Expand single path entry */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pattern: String)List[String]" id="481058">expandS</a><span class="delimiter">(</span><a title="String" id="982990">pattern</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="982992">wildSuffix</a> = <a href="../io/File.scala.html#33013" title="object scala.tools.nsc.io.File">File</a>.<a href="../io/File.scala.html#482215" title="=&gt; java.lang.String">separator</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>

    <span class="comment">/** Get all subdirectories, jars, zips out of a directory. */</span>
    <span class="keyword">def</span> <a title="(dir: scala.tools.nsc.io.Directory, filt: String =&gt; Boolean)List[String]" id="982993">lsDir</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Directory" id="982995">dir</a>: <a href="../io/Directory.scala.html#33603" title="scala.tools.nsc.io.Directory">Directory</a>, <a title="String =&gt; Boolean" id="982997">filt</a>: String =&gt; Boolean = <a title="String" id="983023">_</a> =&gt; <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> =
      <a href="#982995" title="scala.tools.nsc.io.Directory">dir</a>.<a href="../io/Directory.scala.html#481582" title="=&gt; Iterator[scala.tools.nsc.io.Path]">list</a> <a href="../../../collection/Iterator.scala.html#59124" title="(p: scala.tools.nsc.io.Path =&gt; Boolean)Iterator[scala.tools.nsc.io.Path]">filter</a> <span class="delimiter">(</span><a title="scala.tools.nsc.io.Path" id="983000">x</a> =&gt; <a href="../../../Function1.scala.html#53453" title="(v1: String)Boolean">filt</a><span class="delimiter">(</span><a href="#983000" title="scala.tools.nsc.io.Path">x</a>.<a href="../io/Path.scala.html#479413" title="=&gt; String">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#983000" title="scala.tools.nsc.io.Path">x</a>.<a href="../io/Path.scala.html#479439" title="=&gt; Boolean">isDirectory</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../io/Jar.scala.html#505627" title="(f: scala.tools.nsc.io.Path)Boolean">isJarOrZip</a><span class="delimiter">(</span><a href="#983000" title="scala.tools.nsc.io.Path">x</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/Iterator.scala.html#59115" title="(f: scala.tools.nsc.io.Path =&gt; String)Iterator[String]">map</a> <span class="delimiter">(</span><a href="#983008" title="scala.tools.nsc.io.Path">_</a>.<a href="../io/Path.scala.html#479414" title="=&gt; String">path</a><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[String]">toList</a>

    <span class="keyword">def</span> <a title="(s: String)java.lang.String" id="982994">basedir</a><span class="delimiter">(</span><a title="String" id="983013">s</a>: <span title="String">String</span><span class="delimiter">)</span> =
      <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#983013" title="String">s</a> <span title="(x$1: java.lang.CharSequence)Boolean">contains</span> <a href="../io/File.scala.html#33013" title="object scala.tools.nsc.io.File">File</a>.<a href="../io/File.scala.html#482215" title="=&gt; java.lang.String">separator</a><span class="delimiter">)</span> <a href="#983013" title="String">s</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#983013" title="String">s</a>.<span title="(x$1: java.lang.String)Int">lastIndexOf</span><span class="delimiter">(</span><a href="../io/File.scala.html#33013" title="object scala.tools.nsc.io.File">File</a>.<a href="../io/File.scala.html#482215" title="=&gt; java.lang.String">separator</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>

    <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#982990" title="String">pattern</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span><span class="delimiter">)</span> <a href="#982993" title="(dir: scala.tools.nsc.io.Directory, filt: String =&gt; Boolean)List[String]">lsDir</a><span class="delimiter">(</span><a href="../io/Directory.scala.html#497634" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.Directory">Directory</a><span class="delimiter">(</span><a href="../io/Path.scala.html#479366" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path" class="string">&quot;.&quot;</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#982990" title="String">pattern</a> <span title="(x$1: java.lang.String)Boolean">endsWith</span> <a href="#982992" title="java.lang.String">wildSuffix</a><span class="delimiter">)</span> <a href="#982993" title="(dir: scala.tools.nsc.io.Directory, filt: String =&gt; Boolean)List[String]">lsDir</a><span class="delimiter">(</span><a href="../io/Directory.scala.html#497634" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.Directory">Directory</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">pattern</a> <a href="../io/Path.scala.html#479366" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">dropRight</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">pattern</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <span title="Char(\'*\')" class="char">'*'</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="983074">regexp</a> = <span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;^%s$&quot;</a> <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">format</a> <a href="#982990" title="String">pattern</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">replaceAll</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\\*&quot;)" class="string">&quot;&quot;&quot;\*&quot;&quot;&quot;</span>, <span title="java.lang.String(&quot;.*&quot;)" class="string">&quot;&quot;&quot;.*&quot;&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/immutable/StringLike.scala.html#56564" title="=&gt; scala.util.matching.Regex">r</a>
      <a href="#982993" title="(dir: scala.tools.nsc.io.Directory, filt: String =&gt; Boolean)List[String]">lsDir</a><span class="delimiter">(</span><a href="../io/Directory.scala.html#497634" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.Directory">Directory</a><span class="delimiter">(</span><a href="../io/Path.scala.html#479366" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">pattern</a><span class="delimiter">)</span>.<a href="../io/Path.scala.html#479421" title="=&gt; scala.tools.nsc.io.Directory">parent</a>, <a href="#983074" title="scala.util.matching.Regex">regexp</a> <a href="../../../util/matching/Regex.scala.html#232201" title="(source: java.lang.CharSequence)Option[String]">findFirstIn</a> <a href="#983082" title="String">_</a> <a href="../../../Option.scala.html#48472" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span><a href="#982990" title="String">pattern</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Return duplicated classpath entries as
   *    (name, list of origins)
   *  in the order they occur on the path.
   */</span>
  <span class="comment">// def findDuplicates(cp: ClassPath[_]) = {</span>
  <span class="comment">//   def toFullName(x: (String, _, cp.AnyClassRep)) = x._1 + &quot;.&quot; + x._3.name</span>
  <span class="comment">//   def toOriginString(x: ClassPath[_]) = x.origin getOrElse x.name</span>
  <span class="comment">//</span>
  <span class="comment">//   /** Flatten everything into tuples, recombine grouped by name, filter down to 2+ entries. */</span>
  <span class="comment">//   val flattened = (</span>
  <span class="comment">//     for ((pkgName, pkg) &lt;- cp.allPackagesWithNames ; clazz &lt;- pkg.classes) yield</span>
  <span class="comment">//       (pkgName, pkg, clazz)</span>
  <span class="comment">//   )</span>
  <span class="comment">//   val multipleAppearingEntries = flattened groupBy toFullName filter (_._2.size &gt; 1)</span>
  <span class="comment">//</span>
  <span class="comment">//   /** Extract results. */</span>
  <span class="comment">//   for (name &lt;- flattened map toFullName distinct ; dups &lt;- multipleAppearingEntries get name) yield</span>
  <span class="comment">//     (name, dups map { case (_, cp, _) =&gt; toOriginString(cp) })</span>
  <span class="comment">// }</span>

  <span class="comment">/** Split classpath using platform-dependent path separator */</span>
  <span class="keyword">def</span> <a title="(path: String)List[String]" id="481059">split</a><span class="delimiter">(</span><a title="String" id="983092">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">(</span><a href="#983092" title="String">path</a> <a href="../../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">split</a> <a href="../io/File.scala.html#482214" title="=&gt; java.lang.String">pathSeparator</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[java.lang.String]">toList</a> <a href="../../../collection/TraversableLike.scala.html#49052" title="(p: java.lang.String =&gt; Boolean)List[java.lang.String]">filterNot</a> <span class="delimiter">(</span><a href="#983196" title="java.lang.String">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54140" title="=&gt; List[java.lang.String]">distinct</a>

  <span class="comment">/** Join classpath using platform-dependent path separator */</span>
  <span class="keyword">def</span> <a title="(paths: String*)String" id="481060">join</a><span class="delimiter">(</span><a title="String*" id="481082">paths</a>: <span title="String*">String</span>*<span class="delimiter">)</span>: <span title="String">String</span>  = <a href="#481082" title="String*">paths</a> <a href="../../../collection/TraversableLike.scala.html#49052" title="(p: String =&gt; Boolean)Seq[String]">filterNot</a> <span class="delimiter">(</span><a href="#983205" title="String">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a> <a href="../io/File.scala.html#482214" title="=&gt; java.lang.String">pathSeparator</a>

  <span class="comment">/** Split the classpath, apply a transformation function, and reassemble it. */</span>
  <span class="keyword">def</span> <a title="(cp: String, f: String =&gt; String)String" id="481061">map</a><span class="delimiter">(</span><a title="String" id="808235">cp</a>: <span title="String">String</span>, <a title="String =&gt; String" id="808236">f</a>: String =&gt; String<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#481060" title="(paths: String*)String">join</a><span class="delimiter">(</span><a href="#481059" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#808235" title="String">cp</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: String =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">map</a> <a href="#808236" title="String =&gt; String">f</a>: _*<span class="delimiter">)</span>

  <span class="comment">/** Split the classpath, filter according to predicate, and reassemble. */</span>
  <span class="keyword">def</span> <a title="(cp: String, p: String =&gt; Boolean)String" id="481062">filter</a><span class="delimiter">(</span><a title="String" id="983258">cp</a>: <span title="String">String</span>, <a title="String =&gt; Boolean" id="983259">p</a>: String =&gt; Boolean<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#481060" title="(paths: String*)String">join</a><span class="delimiter">(</span><a href="#481059" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#983258" title="String">cp</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: String =&gt; Boolean)List[String]">filter</a> <a href="#983259" title="String =&gt; Boolean">p</a>: _*<span class="delimiter">)</span>

  <span class="comment">/** Split the classpath and map them into Paths */</span>
  <span class="keyword">def</span> <a title="(cp: String)List[scala.tools.nsc.io.Path]" id="481063">toPaths</a><span class="delimiter">(</span><a title="String" id="784772">cp</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.io.Path]">List</a><span class="delimiter">[</span>Path<span class="delimiter">]</span> = <a href="#481059" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#784772" title="String">cp</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: String =&gt; scala.tools.nsc.io.Path)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scala.tools.nsc.io.Path,List[scala.tools.nsc.io.Path]])List[scala.tools.nsc.io.Path]">map</a> <span class="delimiter">(</span><a title="String" id="983284">x</a> =&gt; <a href="../io/Path.scala.html#479374" title="(path: String)scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="#983284" title="String">x</a><span class="delimiter">)</span>.<a href="../io/Path.scala.html#479403" title="=&gt; scala.tools.nsc.io.Path">toAbsolute</a><span class="delimiter">)</span>

  <span class="comment">/** Make all classpath components absolute. */</span>
  <span class="keyword">def</span> <a title="(cp: String)String" id="481064">makeAbsolute</a><span class="delimiter">(</span><a title="String" id="983320">cp</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#481065" title="(paths: scala.tools.nsc.io.Path*)String">fromPaths</a><span class="delimiter">(</span><a href="#481063" title="(cp: String)List[scala.tools.nsc.io.Path]">toPaths</a><span class="delimiter">(</span><a href="#983320" title="String">cp</a><span class="delimiter">)</span>: _*<span class="delimiter">)</span>

  <span class="comment">/** Join the paths as a classpath */</span>
  <span class="keyword">def</span> <a title="(paths: scala.tools.nsc.io.Path*)String" id="481065">fromPaths</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.Path*" id="983322">paths</a>: <span title="scala.tools.nsc.io.Path*">Path</span>*<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#481060" title="(paths: String*)String">join</a><span class="delimiter">(</span><a href="#983322" title="scala.tools.nsc.io.Path*">paths</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: scala.tools.nsc.io.Path =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[scala.tools.nsc.io.Path],String,Seq[String]])Seq[String]">map</a> <span class="delimiter">(</span><a href="#983340" title="scala.tools.nsc.io.Path">_</a>.<a href="../io/Path.scala.html#479414" title="=&gt; String">path</a><span class="delimiter">)</span>: _*<span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(urls: java.net.URL*)String" id="481066">fromURLs</a><span class="delimiter">(</span><a title="java.net.URL*" id="983360">urls</a>: <span title="java.net.URL*">URL</span>*<span class="delimiter">)</span>: <span title="String">String</span> = <a href="#481065" title="(paths: scala.tools.nsc.io.Path*)String">fromPaths</a><span class="delimiter">(</span><a href="#983360" title="java.net.URL*">urls</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: java.net.URL =&gt; scala.tools.nsc.io.Path)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[java.net.URL],scala.tools.nsc.io.Path,Seq[scala.tools.nsc.io.Path]])Seq[scala.tools.nsc.io.Path]">map</a> <span class="delimiter">(</span><a title="java.net.URL" id="983378">x</a> =&gt; <a href="../io/Path.scala.html#479374" title="(path: String)scala.tools.nsc.io.Path">Path</a><span class="delimiter">(</span><a href="#983378" title="java.net.URL">x</a>.<span title="()java.lang.String">getPath</span><span class="delimiter">)</span><span class="delimiter">)</span> : _*<span class="delimiter">)</span>

  <span class="comment">/** Split the classpath and map them into URLs */</span>
  <span class="keyword">def</span> <a title="(cp: String)List[java.net.URL]" id="481067">toURLs</a><span class="delimiter">(</span><a title="String" id="983406">cp</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[java.net.URL]">List</a><span class="delimiter">[</span>URL<span class="delimiter">]</span> = <a href="#481063" title="(cp: String)List[scala.tools.nsc.io.Path]">toPaths</a><span class="delimiter">(</span><a href="#983406" title="String">cp</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: scala.tools.nsc.io.Path =&gt; java.net.URL)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.tools.nsc.io.Path],java.net.URL,List[java.net.URL]])List[java.net.URL]">map</a> <span class="delimiter">(</span><a href="#983427" title="scala.tools.nsc.io.Path">_</a>.<a href="../io/Path.scala.html#479406" title="=&gt; java.net.URL">toURL</a><span class="delimiter">)</span>

  <span class="comment">/** Expand path and possibly expanding stars */</span>
  <span class="keyword">def</span> <a title="(path: String, expandStar: Boolean)List[String]" id="481068">expandPath</a><span class="delimiter">(</span><a title="String" id="505762">path</a>: <span title="String">String</span>, <a title="Boolean" id="505765">expandStar</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> =
    <span title="List[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#505765" title="Boolean">expandStar</a><span class="delimiter">)</span> <a href="#481059" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#505762" title="String">path</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: String =&gt; scala.collection.GenTraversableOnce[String])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],String,List[String]])List[String]">flatMap</a> <a href="#481058" title="(pattern: String)List[String]">expandS</a>
    <span class="keyword">else</span> <a href="#481059" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#505762" title="String">path</a><span class="delimiter">)</span>

  <span class="comment">/** Expand dir out to contents, a la extdir */</span>
  <span class="keyword">def</span> <a title="(extdir: String)List[String]" id="481069">expandDir</a><span class="delimiter">(</span><a title="String" id="785489">extdir</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="../io/AbstractFile.scala.html#33499" title="object scala.tools.nsc.io.AbstractFile">AbstractFile</a> <a href="../io/AbstractFile.scala.html#505792" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.AbstractFile">getDirectory</a> <a href="../io/Path.scala.html#479366" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">extdir</a> <span title="List[String]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type" class="keyword">null</span> =&gt; <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
      <span class="keyword">case</span> <a title="List[java.lang.String]" id="983506">dir</a>  =&gt; <a href="#983506" title="scala.tools.nsc.io.AbstractFile">dir</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: scala.tools.nsc.io.AbstractFile =&gt; Boolean)Iterable[scala.tools.nsc.io.AbstractFile]">filter</a> <span class="delimiter">(</span><a href="#983510" title="scala.tools.nsc.io.AbstractFile">_</a>.<a href="../io/AbstractFile.scala.html#501010" title="=&gt; Boolean">isClassContainer</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: scala.tools.nsc.io.AbstractFile =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Iterable[scala.tools.nsc.io.AbstractFile],java.lang.String,Iterable[java.lang.String]])Iterable[java.lang.String]">map</a> <span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="983530">x</a> =&gt; <span title="(x$1: java.io.File, x$2: java.lang.String)java.io.File" class="keyword">new</span> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><a href="#983506" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501007" title="=&gt; scala.tools.nsc.io.package.JFile">file</a>, <a href="#983530" title="scala.tools.nsc.io.AbstractFile">x</a>.<a href="../io/AbstractFile.scala.html#501000" title="=&gt; String">name</a><span class="delimiter">)</span> <span title="()java.lang.String">getPath</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[java.lang.String]">toList</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** A useful name filter. */</span>
  <span class="keyword">def</span> <a title="(name: String)Boolean" id="481070">isTraitImplementation</a><span class="delimiter">(</span><a title="String" id="983552">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#983552" title="String">name</a> <span title="(x$1: java.lang.String)Boolean">endsWith</span> <span title="java.lang.String(&quot;$class.class&quot;)" class="string">&quot;$class.class&quot;</span>

  <span class="keyword">import</span> java.net.MalformedURLException
  <span class="keyword">def</span> <a title="(spec: String)Option[java.net.URL]" id="481072">specToURL</a><span class="delimiter">(</span><a title="String" id="983555">spec</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[java.net.URL]">Option</a><span class="delimiter">[</span>URL<span class="delimiter">]</span> =
    <span class="keyword">try</span> <a href="../../../Option.scala.html#57885" title="(x: java.net.URL)Some[java.net.URL]">Some</a><span class="delimiter">(</span><span title="(x$1: java.lang.String)java.net.URL" class="keyword">new</span> <span title="java.net.URL">URL</span><span class="delimiter">(</span><a href="#983555" title="String">spec</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="None.type">_</span>: <span title="java.net.MalformedURLException">MalformedURLException</span> =&gt; <a href="../../../Option.scala.html#1737" title="object None">None</a> <span class="delimiter">}</span>

  <span class="comment">/** A class modeling aspects of a ClassPath which should be
   *  propagated to any classpaths it creates.
   */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ClassPathContext[T] extends java.lang.Object with ScalaObject" id="481073">ClassPathContext</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="481074">T</a><span class="delimiter">]</span> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
    <span class="comment">/** A filter which can be used to exclude entities from the classpath
     *  based on their name.
     */</span>
    <span class="keyword">def</span> <a title="(name: String)Boolean" id="505737">isValidName</a><span class="delimiter">(</span><a title="String" id="983563">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span>

    <span class="comment">/** From the representation to its identifier.
     */</span>
    <span class="keyword">def</span> <a title="(rep: T)String" id="505738">toBinaryName</a><span class="delimiter">(</span><a title="T" id="983565">rep</a>: <a href="#481074" title="T">T</a><span class="delimiter">)</span>: <span title="String">String</span>

    <span class="comment">/** Create a new classpath based on the abstract file.
     */</span>
    <span class="keyword">def</span> <a title="(file: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.util.ClassPath[T]" id="505739">newClassPath</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="505813">file</a>: <a href="../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span>: <a href="#42943" title="scala.tools.nsc.util.ClassPath[T]">ClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span>

    <span class="comment">/** Creators for sub classpaths which preserve this context.
     */</span>
    <span class="keyword">def</span> <a title="(path: String)List[scala.tools.nsc.util.ClassPath[T]]" id="505740">sourcesInPath</a><span class="delimiter">(</span><a title="String" id="505997">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.util.ClassPath[T]]">List</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="983591">file</a> &lt;- <a href="#481068" title="(path: String, expandStar: Boolean)List[String]">expandPath</a><a href="../../../collection/TraversableLike.scala.html#49046" title="(f: String =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.SourcePath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scala.tools.nsc.util.SourcePath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</a><a href="#505997" title="String">path</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> ; <a title="scala.tools.nsc.io.AbstractFile" id="983603">dir</a> &lt;- <a href="../../../Option.scala.html#80649" title="(x: scala.tools.nsc.io.AbstractFile)Option[scala.tools.nsc.io.AbstractFile]">Option</a><a href="../../../Option.scala.html#48480" title="(f: scala.tools.nsc.io.AbstractFile =&gt; scala.tools.nsc.util.SourcePath[T])Option[scala.tools.nsc.util.SourcePath[T]]" class="delimiter">(</a><a href="../io/AbstractFile.scala.html#33499" title="object scala.tools.nsc.io.AbstractFile">AbstractFile</a> <a href="../io/AbstractFile.scala.html#505792" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.AbstractFile">getDirectory</a> <a href="../io/Path.scala.html#479366" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">file</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
        <span title="scala.tools.nsc.util.SourcePath[T]" class="keyword">new</span> <a href="#42754" title="scala.tools.nsc.util.SourcePath[T]">SourcePath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#983603" title="scala.tools.nsc.io.AbstractFile">dir</a>, <a href="#481073" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]" class="keyword">this</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(path: String)List[scala.tools.nsc.util.ClassPath[T]]" id="505741">contentsOfDirsInPath</a><span class="delimiter">(</span><a title="String" id="505942">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.util.ClassPath[T]]">List</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="983712">dir</a> &lt;- <a href="#481068" title="(path: String, expandStar: Boolean)List[String]">expandPath</a><a href="../../../collection/TraversableLike.scala.html#49046" title="(f: String =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.ClassPath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scala.tools.nsc.util.ClassPath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</a><a href="#505942" title="String">path</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> ; <a title="String" id="983732">name</a> &lt;- <a href="#481069" title="(extdir: String)List[String]">expandDir</a><a href="../../../collection/TraversableLike.scala.html#49046" title="(f: String =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.ClassPath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scala.tools.nsc.util.ClassPath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</a><a href="#983712" title="String">dir</a><span class="delimiter">)</span> ; <a title="scala.tools.nsc.io.AbstractFile" id="983743">entry</a> &lt;- <a href="../../../Option.scala.html#80649" title="(x: scala.tools.nsc.io.AbstractFile)Option[scala.tools.nsc.io.AbstractFile]">Option</a><a href="../../../Option.scala.html#48480" title="(f: scala.tools.nsc.io.AbstractFile =&gt; scala.tools.nsc.util.ClassPath[T])Option[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</a><a href="../io/AbstractFile.scala.html#33499" title="object scala.tools.nsc.io.AbstractFile">AbstractFile</a> <a href="../io/AbstractFile.scala.html#505792" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.AbstractFile">getDirectory</a> <a href="../io/Path.scala.html#479366" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
        <a href="#505739" title="(file: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.util.ClassPath[T]">newClassPath</a><span class="delimiter">(</span><a href="#983743" title="scala.tools.nsc.io.AbstractFile">entry</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(path: String)List[scala.tools.nsc.util.ClassPath[T]]" id="505742">classesAtAllURLS</a><span class="delimiter">(</span><a title="String" id="983836">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[scala.tools.nsc.util.ClassPath[T]]">List</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> =
      <span class="delimiter">(</span><a href="#983836" title="String">path</a> <a href="../../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">split</a> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[java.lang.String]">toList</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: java.lang.String =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.ClassPath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.lang.String],scala.tools.nsc.util.ClassPath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]">flatMap</a> <a href="#505743" title="(spec: String)List[scala.tools.nsc.util.ClassPath[T]]">classesAtURL</a>

    <span class="keyword">def</span> <a title="(spec: String)List[scala.tools.nsc.util.ClassPath[T]]" id="505743">classesAtURL</a><span class="delimiter">(</span><a title="String" id="983953">spec</a>: <span title="String">String</span><span class="delimiter">)</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="java.net.URL" id="983975">url</a> &lt;- <a href="#481072" title="(spec: String)Option[java.net.URL]">specToURL</a><span class="delimiter">(</span><a href="#983953" title="String">spec</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#49046" title="(f: java.net.URL =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.ClassPath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[java.net.URL],scala.tools.nsc.util.ClassPath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]">toList</a> ; <a title="scala.tools.nsc.io.AbstractFile" id="983982">location</a> &lt;- <a href="../../../Option.scala.html#80649" title="(x: scala.tools.nsc.io.AbstractFile)Option[scala.tools.nsc.io.AbstractFile]">Option</a><a href="../../../Option.scala.html#48480" title="(f: scala.tools.nsc.io.AbstractFile =&gt; scala.tools.nsc.util.ClassPath[T])Option[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</a><a href="../io/AbstractFile.scala.html#33499" title="object scala.tools.nsc.io.AbstractFile">AbstractFile</a> <a href="../io/AbstractFile.scala.html#505794" title="(url: java.net.URL)scala.tools.nsc.io.AbstractFile">getURL</a> <a href="#983975" title="java.net.URL">url</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
        <a href="#505739" title="(file: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.util.ClassPath[T]">newClassPath</a><span class="delimiter">(</span><a href="#983982" title="scala.tools.nsc.io.AbstractFile">location</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(path: String)IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="505744">classesInExpandedPath</a><span class="delimiter">(</span><a title="String" id="505953">path</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> =
      <a href="#505746" title="(path: String, expand: Boolean)List[scala.tools.nsc.util.ClassPath[T]]">classesInPathImpl</a><span class="delimiter">(</span><a href="#505953" title="String">path</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53694" title="scala.collection.immutable.IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">toIndexedSeq</a>

    <span class="keyword">def</span> <a title="(path: String)List[scala.tools.nsc.util.ClassPath[T]]" id="505745">classesInPath</a><span class="delimiter">(</span><a title="String" id="505755">path</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#505746" title="(path: String, expand: Boolean)List[scala.tools.nsc.util.ClassPath[T]]">classesInPathImpl</a><span class="delimiter">(</span><a href="#505755" title="String">path</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

    <span class="comment">// Internal</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(path: String, expand: Boolean)List[scala.tools.nsc.util.ClassPath[T]]" id="505746">classesInPathImpl</a><span class="delimiter">(</span><a title="String" id="505758">path</a>: <span title="String">String</span>, <a title="Boolean" id="505759">expand</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="String" id="505785">file</a> &lt;- <a href="#481068" title="(path: String, expandStar: Boolean)List[String]">expandPath</a><a href="../../../collection/TraversableLike.scala.html#49046" title="(f: String =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.util.ClassPath[T]])(implicit bf: scala.collection.generic.CanBuildFrom[List[String],scala.tools.nsc.util.ClassPath[T],List[scala.tools.nsc.util.ClassPath[T]]])List[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</a><a href="#505758" title="String">path</a>, <a href="#505759" title="Boolean">expand</a><span class="delimiter">)</span> ; <a title="scala.tools.nsc.io.AbstractFile" id="505812">dir</a> &lt;- <a href="../../../Option.scala.html#80649" title="(x: scala.tools.nsc.io.AbstractFile)Option[scala.tools.nsc.io.AbstractFile]">Option</a><a href="../../../Option.scala.html#48480" title="(f: scala.tools.nsc.io.AbstractFile =&gt; scala.tools.nsc.util.ClassPath[T])Option[scala.tools.nsc.util.ClassPath[T]]" class="delimiter">(</a><a href="../io/AbstractFile.scala.html#33499" title="object scala.tools.nsc.io.AbstractFile">AbstractFile</a> <a href="../io/AbstractFile.scala.html#505792" title="(path: scala.tools.nsc.io.Path)scala.tools.nsc.io.AbstractFile">getDirectory</a> <a href="../io/Path.scala.html#479366" title="implicit scala.tools.nsc.io.Path.string2path : (s: String)scala.tools.nsc.io.Path">file</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
        <a href="#505739" title="(file: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.util.ClassPath[T]">newClassPath</a><span class="delimiter">(</span><a href="#505812" title="scala.tools.nsc.io.AbstractFile">dir</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class JavaContext extends scala.tools.nsc.util.ClassPath.ClassPathContext[scala.tools.nsc.io.AbstractFile] with ScalaObject" id="481075">JavaContext</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#481073" title="scala.tools.nsc.util.ClassPath.ClassPathContext[scala.tools.nsc.io.AbstractFile]">ClassPathContext</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(rep: scala.tools.nsc.io.AbstractFile)java.lang.String" id="505748">toBinaryName</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="984095">rep</a>: <a href="../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="984099">name</a> = <a href="#984095" title="scala.tools.nsc.io.AbstractFile">rep</a>.<a href="../io/AbstractFile.scala.html#501000" title="=&gt; String">name</a>
      <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#481078" title="(s: String)Boolean">endsClass</a><span class="delimiter">(</span><a href="#984099" title="String">name</a><span class="delimiter">)</span>, <a href="#984099" title="String">name</a><span class="delimiter">)</span>
      <a href="#984099" title="String">name</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#984099" title="String">name</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(6)" class="int">6</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(dir: scala.tools.nsc.io.AbstractFile)scala.tools.nsc.util.DirectoryClassPath" id="505749">newClassPath</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="984126">dir</a>: <a href="../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span> = <span title="scala.tools.nsc.util.DirectoryClassPath" class="keyword">new</span> <a href="#43099" title="scala.tools.nsc.util.DirectoryClassPath">DirectoryClassPath</a><span class="delimiter">(</span><a href="#984126" title="scala.tools.nsc.io.AbstractFile">dir</a>, <a href="#481075" title="scala.tools.nsc.util.ClassPath.JavaContext" class="keyword">this</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object scala.tools.nsc.util.ClassPath.DefaultJavaContext" id="481076">DefaultJavaContext</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="#481075" title="scala.tools.nsc.util.ClassPath.JavaContext">JavaContext</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(name: String)Boolean" id="984153">isValidName</a><span class="delimiter">(</span><a title="String" id="984155">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#481070" title="(name: String)Boolean">isTraitImplementation</a><span class="delimiter">(</span><a href="#984155" title="String">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)Boolean" id="481078">endsClass</a><span class="delimiter">(</span><a title="String" id="984102">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#984102" title="String">s</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(6)" class="int">6</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#984102" title="String">s</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#984102" title="String">s</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(6)" class="int">6</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;.class&quot;)" class="string">&quot;.class&quot;</span>
  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)Boolean" id="481079">endsScala</a><span class="delimiter">(</span><a title="String" id="984158">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#984158" title="String">s</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(6)" class="int">6</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#984158" title="String">s</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#984158" title="String">s</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(6)" class="int">6</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;.scala&quot;)" class="string">&quot;.scala&quot;</span>
  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)Boolean" id="481080">endsJava</a><span class="delimiter">(</span><a title="String" id="984176">s</a>: <span title="String">String</span><span class="delimiter">)</span>  = <a href="#984176" title="String">s</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(5)" class="int">5</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#984176" title="String">s</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><a href="#984176" title="String">s</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;.java&quot;)" class="string">&quot;.java&quot;</span>

  <span class="comment">/** From the source file to its identifier.
   */</span>
  <span class="keyword">def</span> <a title="(f: scala.tools.nsc.io.AbstractFile)String" id="481081">toSourceName</a><span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="984194">f</a>: <a href="../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="String" id="984196">name</a> = <a href="#984194" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#501000" title="=&gt; String">name</a>

    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#481079" title="(s: String)Boolean">endsScala</a><span class="delimiter">(</span><a href="#984196" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#984196" title="String">name</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#984196" title="String">name</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(6)" class="int">6</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#481080" title="(s: String)Boolean">endsJava</a><span class="delimiter">(</span><a href="#984196" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#984196" title="String">name</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#984196" title="String">name</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Nothing" class="keyword">throw</span> <span title="scala.tools.nsc.FatalError" class="keyword">new</span> <a href="../FatalError.scala.html#22542" title="scala.tools.nsc.FatalError">FatalError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Unexpected source file ending: &quot;)" class="string">&quot;Unexpected source file ending: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#984196" title="String">name</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="keyword">import</span> <a href="#42944" title="object scala.tools.nsc.util.ClassPath">ClassPath</a>._

<span class="comment">/**
 * Represents a package which contains classes and other packages
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ClassPath[T] extends java.lang.Object with ScalaObject" id="42943">ClassPath</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="43360">T</a><span class="delimiter">]</span> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">type</span> <a title="scala.tools.nsc.util.ClassPath[T]#ClassRep" id="505667">AnyClassRep</a> = ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span>#<a href="#984243" title="scala.tools.nsc.util.ClassPath[T]#ClassRep">ClassRep</a>

  <span class="comment">/**
   * The short name of the package (without prefix)
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="505668">name</a>: <span title="String">String</span>

  <span class="comment">/**
   * A String representing the origin of this classpath element, if known.
   * For example, the path of the directory or jar.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; Option[String]" id="505669">origin</a>: <a href="../../../Option.scala.html#560" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../../../Option.scala.html#1737" title="object None">None</a>

  <span class="comment">/** A list of URLs representing this classpath.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; List[java.net.URL]" id="505670">asURLs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[java.net.URL]">List</a><span class="delimiter">[</span>URL<span class="delimiter">]</span>

  <span class="comment">/** The whole classpath in the form of one String.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="505671">asClasspathString</a>: <span title="String">String</span>

  <span class="comment">/** Info which should be propagated to any sub-classpaths.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[T]" id="505672">context</a>: <a href="#481073" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]">ClassPathContext</a><span class="delimiter">[</span>T<span class="delimiter">]</span>

  <span class="comment">/** Lists of entities.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; IndexedSeq[ClassPath.this.AnyClassRep]" id="505673">classes</a>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[ClassPath.this.AnyClassRep]">IndexedSeq</a><span class="delimiter">[</span>AnyClassRep<span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="505674">packages</a>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>
  <span class="keyword">def</span> <a title="=&gt; IndexedSeq[scala.tools.nsc.io.AbstractFile]" id="505675">sourcepaths</a>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[scala.tools.nsc.io.AbstractFile]">IndexedSeq</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span>

  <span class="comment">/** Information which entails walking the tree.  This is probably only
   *  necessary for tracking down problems - it's normally not used.
   */</span>
  <span class="comment">// def allPackages: List[ClassPath[T]] = packages ::: (packages flatMap (_.allPackages))</span>
  <span class="comment">// def allPackageNames: List[String] = {</span>
  <span class="comment">//   def subpackages(prefix: String, cp: ClassPath[T]): List[String] = (</span>
  <span class="comment">//     (cp.packages map (prefix + _.name)) :::</span>
  <span class="comment">//     (cp.packages flatMap (x =&gt; subpackages(prefix + x.name + &quot;.&quot;, x)))</span>
  <span class="comment">//   )</span>
  <span class="comment">//   subpackages(&quot;&quot;, this)</span>
  <span class="comment">// }</span>
  <span class="comment">// def allPackagesWithNames: List[(String, ClassPath[T])] = {</span>
  <span class="comment">//   val root = packages map (p =&gt; p.name -&gt; p)</span>
  <span class="comment">//   val subs =</span>
  <span class="comment">//     for ((prefix, p) &lt;- root ; (k, v) &lt;- p.allPackagesWithNames) yield</span>
  <span class="comment">//       (prefix + &quot;.&quot; + k, v)</span>
  <span class="comment">//</span>
  <span class="comment">//   root ::: subs</span>
  <span class="comment">// }</span>

  <span class="comment">/**
   * Represents classes which can be loaded with a ClassfileLoader/MSILTypeLoader
   * and / or a SourcefileLoader.
   */</span>
  case <span class="keyword">class</span> <a title="class ClassRep extends java.lang.Object with ScalaObject with Product with Serializable" id="984243">ClassRep</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Option[T]" id="984463">binary</a>: <a href="../../../Option.scala.html#560" title="Option[T]">Option</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="Option[scala.tools.nsc.io.AbstractFile]" id="984464">source</a>: <a href="../../../Option.scala.html#560" title="Option[scala.tools.nsc.io.AbstractFile]">Option</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="833593">name</a>: <span title="String">String</span> = <a href="#984463" title="=&gt; Option[T]">binary</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="String">Some</span><span class="delimiter">(</span><a title="T" id="984222">x</a><span class="delimiter">)</span>  =&gt; <a href="#505672" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[T]">context</a>.<a href="#505738" title="(rep: T)String">toBinaryName</a><span class="delimiter">(</span><a href="#984222" title="T">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="String">_</span>        =&gt;
        <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#984464" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">source</a>.<a href="../../../Option.scala.html#48472" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span>
        <a href="#481081" title="(f: scala.tools.nsc.io.AbstractFile)String">toSourceName</a><span class="delimiter">(</span><a href="#984464" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">source</a>.<a href="../../../Option.scala.html#48473" title="=&gt; scala.tools.nsc.io.AbstractFile">get</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Filters for assessing validity of various entities.
   */</span>
  <span class="keyword">def</span> <a title="(name: String)Boolean" id="505679">validClassFile</a><span class="delimiter">(</span><a title="String" id="984286">name</a>: <span title="String">String</span><span class="delimiter">)</span>  = <a href="#481078" title="(s: String)Boolean">endsClass</a><span class="delimiter">(</span><a href="#984286" title="String">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#505672" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[T]">context</a>.<a href="#505737" title="(name: String)Boolean">isValidName</a><span class="delimiter">(</span><a href="#984286" title="String">name</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(name: String)Boolean" id="505680">validPackage</a><span class="delimiter">(</span><a title="String" id="984289">name</a>: <span title="String">String</span><span class="delimiter">)</span>    = <span class="delimiter">(</span><a href="#984289" title="String">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="java.lang.String(&quot;META-INF&quot;)" class="string">&quot;META-INF&quot;</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#984289" title="String">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#984289" title="String">name</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'.\')" class="char">'.'</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(name: String)Boolean" id="505681">validSourceFile</a><span class="delimiter">(</span><a title="String" id="984305">name</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#481079" title="(s: String)Boolean">endsScala</a><span class="delimiter">(</span><a href="#984305" title="String">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#481080" title="(s: String)Boolean">endsJava</a><span class="delimiter">(</span><a href="#984305" title="String">name</a><span class="delimiter">)</span>

  <span class="comment">/**
   * Find a ClassRep given a class name of the form &quot;package.subpackage.ClassName&quot;.
   * Does not support nested classes on .NET
   */</span>
  <span class="keyword">def</span> <a title="(name: String)Option[ClassPath.this.AnyClassRep]" id="505682">findClass</a><span class="delimiter">(</span><a title="String" id="984308">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[ClassPath.this.AnyClassRep]">Option</a><span class="delimiter">[</span>AnyClassRep<span class="delimiter">]</span> =
    <a href="../../util/StringOps.scala.html#482652" title="(str: String, f: Char =&gt; Boolean, doDropIndex: Boolean)Option[(String, String)]">splitWhere</a><span class="delimiter">(</span><a href="#984308" title="String">name</a>, <a href="#984311" title="Char">_</a> <a href="../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'.\')" class="char">'.'</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span title="Option[ClassPath.this.AnyClassRep]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Option[ClassPath.this.AnyClassRep]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="984319">pkg</a>, <a title="String" id="984320">rest</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Option[scala.tools.nsc.util.ClassPath[T]#ClassRep]" id="984321">rep</a> = <a href="#505674" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">packages</a> <a href="../../../collection/IterableLike.scala.html#53861" title="(p: scala.tools.nsc.util.ClassPath[T] =&gt; Boolean)Option[scala.tools.nsc.util.ClassPath[T]]">find</a> <span class="delimiter">(</span><a href="#984335" title="scala.tools.nsc.util.ClassPath[T]">_</a>.<a href="#505668" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#984319" title="String">pkg</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#48483" title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; Option[scala.tools.nsc.util.ClassPath[T]#ClassRep])Option[scala.tools.nsc.util.ClassPath[T]#ClassRep]">flatMap</a> <span class="delimiter">(</span><a href="#984345" title="scala.tools.nsc.util.ClassPath[T]">_</a> <a href="#505682" title="(name: String)Option[scala.tools.nsc.util.ClassPath[T]#ClassRep]">findClass</a> <a href="#984320" title="String">rest</a><span class="delimiter">)</span>
        <a href="#984321" title="Option[scala.tools.nsc.util.ClassPath[T]#ClassRep]">rep</a> <a href="../../../Option.scala.html#48480" title="(f: scala.tools.nsc.util.ClassPath[T]#ClassRep =&gt; ClassPath.this.AnyClassRep)Option[ClassPath.this.AnyClassRep]">map</a> <a href="#984353" title="ClassPath.this.AnyClassRep" class="delimiter">{</a>
          <span class="keyword">case</span> <a title="ClassPath.this.ClassRep" id="984354">x</a>: <a href="#984243" title="ClassPath.this.ClassRep">ClassRep</a>  =&gt; <a href="#984354" title="ClassPath.this.ClassRep">x</a>
          <span class="keyword">case</span> <a title="Nothing" id="984355">x</a>            =&gt; <span title="Nothing" class="keyword">throw</span> <span title="scala.tools.nsc.FatalError" class="keyword">new</span> <a href="../FatalError.scala.html#22542" title="scala.tools.nsc.FatalError">FatalError</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Unexpected ClassRep '%s' found searching for name '%s'&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#984355" title="scala.tools.nsc.util.ClassPath[T]#ClassRep">x</a>, <a href="#984308" title="String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Option[ClassPath.this.AnyClassRep]">_</span> =&gt;
        <a href="#505673" title="=&gt; IndexedSeq[ClassPath.this.AnyClassRep]">classes</a> <a href="../../../collection/IterableLike.scala.html#53861" title="(p: ClassPath.this.AnyClassRep =&gt; Boolean)Option[ClassPath.this.AnyClassRep]">find</a> <span class="delimiter">(</span><a href="#984373" title="ClassPath.this.AnyClassRep">_</a>.<a href="#833593" title="=&gt; String">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#984308" title="String">name</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(name: String)Option[scala.tools.nsc.io.AbstractFile]" id="505683">findSourceFile</a><span class="delimiter">(</span><a title="String" id="860967">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[scala.tools.nsc.io.AbstractFile]">Option</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> =
    <a href="#505682" title="(name: String)Option[ClassPath.this.AnyClassRep]">findClass</a><span class="delimiter">(</span><a href="#860967" title="String">name</a><span class="delimiter">)</span> <span title="Option[scala.tools.nsc.io.AbstractFile]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Some[scala.tools.nsc.io.AbstractFile]">Some</span><span class="delimiter">(</span>ClassRep<span class="delimiter">(</span>Some<span class="delimiter">(</span><a title="scala.tools.nsc.io.AbstractFile" id="984381">x</a>: <a href="../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a><span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../Option.scala.html#57885" title="(x: scala.tools.nsc.io.AbstractFile)Some[scala.tools.nsc.io.AbstractFile]">Some</a><span class="delimiter">(</span><a href="#984381" title="scala.tools.nsc.io.AbstractFile">x</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span>                                        =&gt; <a href="../../../Option.scala.html#1737" title="object None">None</a>
    <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="505684">sortString</a> = <a href="#481060" title="(paths: String*)String">join</a><span class="delimiter">(</span><a href="#481059" title="(path: String)List[String]">split</a><span class="delimiter">(</span><a href="#505671" title="=&gt; String">asClasspathString</a><span class="delimiter">)</span>.<a href="../../../collection/SeqLike.scala.html#54181" title="(implicit ord: scala.math.Ordering[String])List[String]">sorted</a>: _*<span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(that: Any)Boolean" id="505685">equals</a><span class="delimiter">(</span><a title="Any" id="984446">that</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#984446" title="Any">that</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="Boolean" id="984449">x</a>: <a href="#42943" title="scala.tools.nsc.util.ClassPath[_]">ClassPath</a><span class="delimiter">[</span>_<span class="delimiter">]</span>  =&gt; <a href="#42943" title="ClassPath.this.type" class="keyword">this</a>.<a href="#505684" title="=&gt; String">sortString</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#984449" title="scala.tools.nsc.util.ClassPath[_]">x</a>.<a href="#505684" title="=&gt; String">sortString</a>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Int" id="505686">hashCode</a> = <a href="#505684" title="=&gt; String">sortString</a>.<span title="()Int">hashCode</span><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A Classpath containing source files
 */</span>
<span class="keyword">class</span> <a title="class SourcePath[T] extends scala.tools.nsc.util.ClassPath[T] with ScalaObject" id="42754">SourcePath</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="43361">T</a><span class="delimiter">]</span><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.io.AbstractFile" id="983624">dir</a>: <a href="../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <span class="keyword">val</span> <a title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]" id="983625">context</a>: <a href="#481073" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]">ClassPathContext</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#42943" title="scala.tools.nsc.util.ClassPath[T]">ClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="983610">name</a> = <a href="#983624" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501000" title="=&gt; String">name</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="983611">origin</a> = <a href="#983624" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501008" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">underlyingSource</a> <a href="../../../Option.scala.html#48480" title="(f: scala.tools.nsc.io.AbstractFile =&gt; String)Option[String]">map</a> <span class="delimiter">(</span><a href="#984552" title="scala.tools.nsc.io.AbstractFile">_</a>.<a href="../io/AbstractFile.scala.html#501001" title="=&gt; String">path</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; List[java.net.URL]" id="983612">asURLs</a> = <span title="List[java.net.URL]" class="keyword">if</span> <span class="delimiter">(</span><a href="#983624" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501007" title="=&gt; scala.tools.nsc.io.package.JFile">file</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a> <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: java.net.URL*)List[java.net.URL]">List</a><span class="delimiter">(</span><a href="#983624" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501019" title="=&gt; java.net.URL">toURL</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="983613">asClasspathString</a> = <a href="#983624" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501001" title="=&gt; String">path</a>
  <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.io.AbstractFile]" id="983614">sourcepaths</a>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[scala.tools.nsc.io.AbstractFile]">IndexedSeq</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> = <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: scala.tools.nsc.io.AbstractFile*)IndexedSeq[scala.tools.nsc.io.AbstractFile]">IndexedSeq</a><span class="delimiter">(</span><a href="#983624" title="scala.tools.nsc.io.AbstractFile">dir</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()(scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], scala.collection.immutable.Vector[SourcePath.this.ClassRep])" id="983616">traverse</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[SourcePath.this.ClassRep,scala.collection.immutable.Vector[SourcePath.this.ClassRep]]" id="984473">classBuf</a>   = immutable.<a href="../../../collection/immutable/Vector.scala.html#13331" title="object scala.collection.immutable.Vector">Vector</a>.<a href="../../../collection/immutable/Vector.scala.html#187390" title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">newBuilder</a><span title="scala.collection.mutable.Builder[SourcePath.this.ClassRep,scala.collection.immutable.Vector[SourcePath.this.ClassRep]]" class="delimiter">[</span><a href="#984243" title="SourcePath.this.ClassRep">ClassRep</a><span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[scala.tools.nsc.util.SourcePath[T],scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]]" id="984474">packageBuf</a> = immutable.<a href="../../../collection/immutable/Vector.scala.html#13331" title="object scala.collection.immutable.Vector">Vector</a>.<a href="../../../collection/immutable/Vector.scala.html#187390" title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">newBuilder</a><span title="scala.collection.mutable.Builder[scala.tools.nsc.util.SourcePath[T],scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]]" class="delimiter">[</span><a href="#42754" title="scala.tools.nsc.util.SourcePath[T]">SourcePath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>
    <a href="#983624" title="scala.tools.nsc.io.AbstractFile">dir</a> <a href="../../../collection/IterableLike.scala.html#53856" title="(f: scala.tools.nsc.io.AbstractFile =&gt; Any)Unit">foreach</a> <span class="delimiter">{</span> <a title="scala.tools.nsc.io.AbstractFile" id="984491">f</a> =&gt;
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#984491" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#501013" title="=&gt; Boolean">isDirectory</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#505681" title="(name: String)Boolean">validSourceFile</a><span class="delimiter">(</span><a href="#984491" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#501000" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#984473" title="scala.collection.mutable.Builder[SourcePath.this.ClassRep,scala.collection.immutable.Vector[SourcePath.this.ClassRep]]">classBuf</a> <a href="../../../collection/mutable/Builder.scala.html#56652" title="(elem: SourcePath.this.ClassRep)classBuf.type">+=</a> <a href="#984243" title="(binary: Option[T], source: Option[scala.tools.nsc.io.AbstractFile])SourcePath.this.ClassRep">ClassRep</a><span class="delimiter">(</span><a href="../../../Option.scala.html#1737" title="object None">None</a>, <a href="../../../Option.scala.html#57885" title="(x: scala.tools.nsc.io.AbstractFile)Some[scala.tools.nsc.io.AbstractFile]">Some</a><span class="delimiter">(</span><a href="#984491" title="scala.tools.nsc.io.AbstractFile">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#984491" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#501013" title="=&gt; Boolean">isDirectory</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#505680" title="(name: String)Boolean">validPackage</a><span class="delimiter">(</span><a href="#984491" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#501000" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#984474" title="scala.collection.mutable.Builder[scala.tools.nsc.util.SourcePath[T],scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]]">packageBuf</a> <a href="../../../collection/mutable/Builder.scala.html#56652" title="(elem: scala.tools.nsc.util.SourcePath[T])packageBuf.type">+=</a> <span title="scala.tools.nsc.util.SourcePath[T]" class="keyword">new</span> <a href="#42754" title="scala.tools.nsc.util.SourcePath[T]">SourcePath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#984491" title="scala.tools.nsc.io.AbstractFile">f</a>, <a href="#983625" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[T]">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="../../../Tuple2.scala.html#53390" title="(_1: scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], _2: scala.collection.immutable.Vector[SourcePath.this.ClassRep])(scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], scala.collection.immutable.Vector[SourcePath.this.ClassRep])" class="delimiter">(</a><a href="#984474" title="scala.collection.mutable.Builder[scala.tools.nsc.util.SourcePath[T],scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]]">packageBuf</a>.<a href="../../../collection/mutable/Builder.scala.html#56654" title="()scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]">result</a>, <a href="#984473" title="scala.collection.mutable.Builder[SourcePath.this.ClassRep,scala.collection.immutable.Vector[SourcePath.this.ClassRep]]">classBuf</a>.<a href="../../../collection/mutable/Builder.scala.html#56654" title="()scala.collection.immutable.Vector[SourcePath.this.ClassRep]">result</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], scala.collection.immutable.Vector[SourcePath.this.ClassRep])" id="983618" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]]" id="983620">packages</a>, <a href="../../../Tuple2.scala.html#53404" title="scala.collection.immutable.Vector[SourcePath.this.ClassRep]" id="983622">classes</a><span class="delimiter">)</span> = <a href="#983616" title="()(scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], scala.collection.immutable.Vector[SourcePath.this.ClassRep])">traverse</a><a href="../../../Tuple2.scala.html#1520" title="(scala.collection.immutable.Vector[scala.tools.nsc.util.SourcePath[T]], scala.collection.immutable.Vector[SourcePath.this.ClassRep]) @unchecked" class="delimiter">(</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="983623">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;sourcepath: &quot;)" class="string">&quot;sourcepath: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#983624" title="scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501033" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A directory (or a .jar file) containing classfiles and packages
 */</span>
<span class="keyword">class</span> <a title="class DirectoryClassPath extends scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile] with ScalaObject" id="43099">DirectoryClassPath</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="scala.tools.nsc.io.AbstractFile" id="984150">dir</a>: <a href="../io/AbstractFile.scala.html#33498" title="scala.tools.nsc.io.AbstractFile">AbstractFile</a>, <span class="keyword">val</span> <a title="scala.tools.nsc.util.ClassPath.ClassPathContext[scala.tools.nsc.io.AbstractFile]" id="984151">context</a>: <a href="#481073" title="scala.tools.nsc.util.ClassPath.ClassPathContext[scala.tools.nsc.io.AbstractFile]">ClassPathContext</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#42943" title="scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]">ClassPath</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="984136">name</a> = <a href="#984150" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501000" title="=&gt; String">name</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Option[String]" id="984137">origin</a> = <a href="#984150" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501008" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">underlyingSource</a> <a href="../../../Option.scala.html#48480" title="(f: scala.tools.nsc.io.AbstractFile =&gt; String)Option[String]">map</a> <span class="delimiter">(</span><a href="#984660" title="scala.tools.nsc.io.AbstractFile">_</a>.<a href="../io/AbstractFile.scala.html#501001" title="=&gt; String">path</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; List[java.net.URL]" id="984138">asURLs</a> = <span title="List[java.net.URL]" class="keyword">if</span> <span class="delimiter">(</span><a href="#984150" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501007" title="=&gt; scala.tools.nsc.io.package.JFile">file</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a> <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: java.net.URL*)List[java.net.URL]">List</a><span class="delimiter">(</span><a href="#984150" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501019" title="=&gt; java.net.URL">toURL</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="984139">asClasspathString</a> = <a href="#984150" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a>.<a href="../io/AbstractFile.scala.html#501001" title="=&gt; String">path</a>
  <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.io.AbstractFile]" id="984140">sourcepaths</a>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[scala.tools.nsc.io.AbstractFile]">IndexedSeq</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> = <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: Nothing*)IndexedSeq[Nothing]">IndexedSeq</a><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">// calculates (packages, classes) in one traversal.</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()(scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep])" id="984142">traverse</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[DirectoryClassPath.this.ClassRep,scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]]" id="984582">classBuf</a>   = immutable.<a href="../../../collection/immutable/Vector.scala.html#13331" title="object scala.collection.immutable.Vector">Vector</a>.<a href="../../../collection/immutable/Vector.scala.html#187390" title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">newBuilder</a><span title="scala.collection.mutable.Builder[DirectoryClassPath.this.ClassRep,scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]]" class="delimiter">[</span><a href="#984243" title="DirectoryClassPath.this.ClassRep">ClassRep</a><span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.Builder[scala.tools.nsc.util.DirectoryClassPath,scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]]" id="984583">packageBuf</a> = immutable.<a href="../../../collection/immutable/Vector.scala.html#13331" title="object scala.collection.immutable.Vector">Vector</a>.<a href="../../../collection/immutable/Vector.scala.html#187390" title="[A]=&gt; scala.collection.mutable.Builder[A,scala.collection.immutable.Vector[A]]">newBuilder</a><span title="scala.collection.mutable.Builder[scala.tools.nsc.util.DirectoryClassPath,scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]]" class="delimiter">[</span><a href="#43099" title="scala.tools.nsc.util.DirectoryClassPath">DirectoryClassPath</a><span class="delimiter">]</span>
    <a href="#984150" title="=&gt; scala.tools.nsc.io.AbstractFile">dir</a> <a href="../../../collection/IterableLike.scala.html#53856" title="(f: scala.tools.nsc.io.AbstractFile =&gt; Any)Unit">foreach</a> <span class="delimiter">{</span> <a title="scala.tools.nsc.io.AbstractFile" id="984600">f</a> =&gt;
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#984600" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#501013" title="=&gt; Boolean">isDirectory</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#505679" title="(name: String)Boolean">validClassFile</a><span class="delimiter">(</span><a href="#984600" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#501000" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#984582" title="scala.collection.mutable.Builder[DirectoryClassPath.this.ClassRep,scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]]">classBuf</a> <a href="../../../collection/mutable/Builder.scala.html#56652" title="(elem: DirectoryClassPath.this.ClassRep)classBuf.type">+=</a> <a href="#984243" title="(binary: Option[scala.tools.nsc.io.AbstractFile], source: Option[scala.tools.nsc.io.AbstractFile])DirectoryClassPath.this.ClassRep">ClassRep</a><span class="delimiter">(</span><a href="../../../Option.scala.html#57885" title="(x: scala.tools.nsc.io.AbstractFile)Some[scala.tools.nsc.io.AbstractFile]">Some</a><span class="delimiter">(</span><a href="#984600" title="scala.tools.nsc.io.AbstractFile">f</a><span class="delimiter">)</span>, <a href="../../../Option.scala.html#1737" title="object None">None</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#984600" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#501013" title="=&gt; Boolean">isDirectory</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#505680" title="(name: String)Boolean">validPackage</a><span class="delimiter">(</span><a href="#984600" title="scala.tools.nsc.io.AbstractFile">f</a>.<a href="../io/AbstractFile.scala.html#501000" title="=&gt; String">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#984583" title="scala.collection.mutable.Builder[scala.tools.nsc.util.DirectoryClassPath,scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]]">packageBuf</a> <a href="../../../collection/mutable/Builder.scala.html#56652" title="(elem: scala.tools.nsc.util.DirectoryClassPath)packageBuf.type">+=</a> <span title="scala.tools.nsc.util.DirectoryClassPath" class="keyword">new</span> <a href="#43099" title="scala.tools.nsc.util.DirectoryClassPath">DirectoryClassPath</a><span class="delimiter">(</span><a href="#984600" title="scala.tools.nsc.io.AbstractFile">f</a>, <a href="#984151" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[scala.tools.nsc.io.AbstractFile]">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="../../../Tuple2.scala.html#53390" title="(_1: scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], _2: scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep])(scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep])" class="delimiter">(</a><a href="#984583" title="scala.collection.mutable.Builder[scala.tools.nsc.util.DirectoryClassPath,scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]]">packageBuf</a>.<a href="../../../collection/mutable/Builder.scala.html#56654" title="()scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]">result</a>, <a href="#984582" title="scala.collection.mutable.Builder[DirectoryClassPath.this.ClassRep,scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]]">classBuf</a>.<a href="../../../collection/mutable/Builder.scala.html#56654" title="()scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]">result</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep])" id="984144" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath]" id="984146">packages</a>, <a href="../../../Tuple2.scala.html#53404" title="scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]" id="984148">classes</a><span class="delimiter">)</span> = <a href="#984142" title="()(scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep])">traverse</a><a href="../../../Tuple2.scala.html#1520" title="(scala.collection.immutable.Vector[scala.tools.nsc.util.DirectoryClassPath], scala.collection.immutable.Vector[DirectoryClassPath.this.ClassRep]) @unchecked" class="delimiter">(</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="984149">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;directory classpath: &quot;)" class="string">&quot;directory classpath: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#984137" title="=&gt; Option[String]">origin</a>.<a href="../../../Option.scala.html#48474" title="(default: =&gt; String)String">getOrElse</a><span class="delimiter">(</span><span title="java.lang.String(&quot;?&quot;)" class="string">&quot;?&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * A classpath unifying multiple class- and sourcepath entries.
 */</span>
<span class="keyword">class</span> <a title="class MergedClassPath[T] extends scala.tools.nsc.util.ClassPath[T] with ScalaObject" id="42460">MergedClassPath</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="43362">T</a><span class="delimiter">]</span><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a>
  <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="984693">entries</a>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>,
  <span class="keyword">val</span> <a title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]" id="984694">context</a>: <a href="#481073" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]">ClassPathContext</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="#42943" title="scala.tools.nsc.util.ClassPath[T]">ClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(entries: TraversableOnce[scala.tools.nsc.util.ClassPath[T]], context: scala.tools.nsc.util.ClassPath.ClassPathContext[T])scala.tools.nsc.util.MergedClassPath[T]" id="505694" class="keyword">this</a><span class="delimiter">(</span><a title="TraversableOnce[scala.tools.nsc.util.ClassPath[T]]" id="984698">entries</a>: <a href="../../../collection/TraversableOnce.scala.html#9038" title="TraversableOnce[scala.tools.nsc.util.ClassPath[T]]">TraversableOnce</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]" id="984699">context</a>: <a href="#481073" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]">ClassPathContext</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
    <a href="#42460" title="MergedClassPath.this.type" class="keyword">this</a><span class="delimiter">(</span><a href="#984698" title="TraversableOnce[scala.tools.nsc.util.ClassPath[T]]">entries</a>.<a href="../../../collection/TraversableOnce.scala.html#53694" title="scala.collection.immutable.IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">toIndexedSeq</a>, <a href="#984699" title="scala.tools.nsc.util.ClassPath.ClassPathContext[T]">context</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; String" id="505695">name</a> = <a href="#984693" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; scala.tools.nsc.util.ClassPath[T]">head</a>.<a href="#505668" title="=&gt; String">name</a>
  <span class="keyword">def</span> <a title="=&gt; List[java.net.URL]" id="505696">asURLs</a> = <a href="#984693" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; scala.collection.GenTraversableOnce[java.net.URL])(implicit bf: scala.collection.generic.CanBuildFrom[IndexedSeq[scala.tools.nsc.util.ClassPath[T]],java.net.URL,IndexedSeq[java.net.URL]])IndexedSeq[java.net.URL]">flatMap</a> <span class="delimiter">(</span><a href="#506172" title="scala.tools.nsc.util.ClassPath[T]">_</a>.<a href="#505670" title="=&gt; List[java.net.URL]">asURLs</a><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[java.net.URL]">toList</a>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.io.AbstractFile]" id="505698">sourcepaths</a>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[scala.tools.nsc.io.AbstractFile]">IndexedSeq</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span> = <a href="#984693" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; scala.collection.GenTraversableOnce[scala.tools.nsc.io.AbstractFile])(implicit bf: scala.collection.generic.CanBuildFrom[IndexedSeq[scala.tools.nsc.util.ClassPath[T]],scala.tools.nsc.io.AbstractFile,IndexedSeq[scala.tools.nsc.io.AbstractFile]])IndexedSeq[scala.tools.nsc.io.AbstractFile]">flatMap</a> <span class="delimiter">(</span><a href="#984739" title="scala.tools.nsc.util.ClassPath[T]">_</a>.<a href="#505675" title="=&gt; IndexedSeq[scala.tools.nsc.io.AbstractFile]">sourcepaths</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Some[String]" id="505699">origin</a> = <a href="../../../Option.scala.html#57885" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#984693" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[IndexedSeq[scala.tools.nsc.util.ClassPath[T]],String,IndexedSeq[String]])IndexedSeq[String]">map</a> <span class="delimiter">(</span><a title="scala.tools.nsc.util.ClassPath[T]" id="984781">x</a> =&gt; <a href="#984781" title="scala.tools.nsc.util.ClassPath[T]">x</a>.<a href="#505669" title="=&gt; Option[String]">origin</a> <a href="../../../Option.scala.html#48474" title="(default: =&gt; String)String">getOrElse</a> <a href="#984781" title="scala.tools.nsc.util.ClassPath[T]">x</a>.<a href="#505668" title="=&gt; String">name</a><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a> <span class="delimiter">(</span><span title="java.lang.String(&quot;Merged(&quot;)" class="string">&quot;Merged(&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; String" id="505700">asClasspathString</a>: <span title="String">String</span> = <a href="#481060" title="(paths: String*)String">join</a><span class="delimiter">(</span><a href="#984693" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[IndexedSeq[scala.tools.nsc.util.ClassPath[T]],String,IndexedSeq[String]])IndexedSeq[String]">map</a> <span class="delimiter">(</span><a href="#984825" title="scala.tools.nsc.util.ClassPath[T]">_</a>.<a href="#505671" title="=&gt; String">asClasspathString</a><span class="delimiter">)</span> : _*<span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="IndexedSeq[MergedClassPath.this.AnyClassRep]" id="505702">classes</a>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[MergedClassPath.this.AnyClassRep]">IndexedSeq</a><span class="delimiter">[</span>AnyClassRep<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="984850">count</a>   = <span title="Int(0)" class="int">0</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,Int]" id="984851">indices</a> = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#56702" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (String, Int)*)scala.collection.mutable.HashMap[String,Int]" class="delimiter">[</span><span title="String">String</span>, <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[MergedClassPath.this.AnyClassRep]" id="984852">cls</a>     = <span title="scala.collection.mutable.ArrayBuffer[MergedClassPath.this.AnyClassRep]" class="keyword">new</span> mutable.<a href="../../../collection/mutable/ArrayBuffer.scala.html#14968" title="scala.collection.mutable.ArrayBuffer[MergedClassPath.this.AnyClassRep]">ArrayBuffer</a><span class="delimiter">[</span>AnyClassRep<span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(1024)" class="int">1024</span><span class="delimiter">)</span>

    <span class="keyword">for</span> <span class="delimiter">(</span><a title="scala.tools.nsc.util.ClassPath[T]" id="984872">e</a> &lt;- <a href="../../../collection/IterableLike.scala.html#53856" title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; Unit)Unit">entries</a>; <a title="e.AnyClassRep" id="984895">c</a> &lt;- <a href="#984872" title="scala.tools.nsc.util.ClassPath[T]">e</a>.<a href="../../../collection/IterableLike.scala.html#53856" title="(f: e.AnyClassRep =&gt; Unit)Unit">classes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="984896">name</a> = <a href="#984895" title="e.AnyClassRep">c</a>.<a href="#833593" title="=&gt; String">name</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#984851" title="scala.collection.mutable.HashMap[String,Int]">indices</a> <a href="../../../collection/MapLike.scala.html#73205" title="(key: String)Boolean">contains</a> <a href="#984896" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="984898">idx</a>      = <a href="../../../collection/MapLike.scala.html#73204" title="(key: String)Int">indices</a><span class="delimiter">(</span><a href="#984896" title="String">name</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="MergedClassPath.this.AnyClassRep" id="984899">existing</a> = <a href="../../../collection/mutable/ResizableArray.scala.html#66153" title="(idx: Int)MergedClassPath.this.AnyClassRep">cls</a><span class="delimiter">(</span><a href="#984898" title="Int">idx</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#984899" title="MergedClassPath.this.AnyClassRep">existing</a>.<a href="#984463" title="=&gt; Option[T]">binary</a>.<a href="../../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#984895" title="e.AnyClassRep">c</a>.<a href="#984463" title="=&gt; Option[T]">binary</a>.<a href="../../../Option.scala.html#48472" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span>
          <a href="../../../collection/mutable/ResizableArray.scala.html#66154" title="(idx: Int, elem: MergedClassPath.this.AnyClassRep)Unit">cls</a><span class="delimiter">(</span><a href="#984898" title="Int">idx</a><span class="delimiter">)</span> = <a href="#984899" title="MergedClassPath.this.AnyClassRep">existing</a>.<a href="#984243" title="(binary: Option[T], source: Option[scala.tools.nsc.io.AbstractFile])scala.tools.nsc.util.ClassPath[T]#ClassRep">copy</a><span class="delimiter">(</span>binary = <a href="#984895" title="e.AnyClassRep">c</a>.<a href="#984463" title="=&gt; Option[T]">binary</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#984899" title="MergedClassPath.this.AnyClassRep">existing</a>.<a href="#984464" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">source</a>.<a href="../../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#984895" title="e.AnyClassRep">c</a>.<a href="#984464" title="=&gt; Option[scala.tools.nsc.io.AbstractFile]">source</a>.<a href="../../../Option.scala.html#48472" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span>
          <a href="../../../collection/mutable/ResizableArray.scala.html#66154" title="(idx: Int, elem: MergedClassPath.this.AnyClassRep)Unit">cls</a><span class="delimiter">(</span><a href="#984898" title="Int">idx</a><span class="delimiter">)</span> = <a href="#984899" title="MergedClassPath.this.AnyClassRep">existing</a>.<a href="#984463" title="Option[T]" id="984945">copy</a><span class="delimiter">(</span>source = <a href="#984895" title="e.AnyClassRep">c</a>.<a href="#984464" title="Option[scala.tools.nsc.io.AbstractFile]" id="984944">source</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: String, value: Int)Unit">indices</a><span class="delimiter">(</span><a href="#984896" title="String">name</a><span class="delimiter">)</span> = <a href="#984850" title="Int">count</a>
        <a href="#984852" title="scala.collection.mutable.ArrayBuffer[MergedClassPath.this.AnyClassRep]">cls</a> <a href="../../../collection/mutable/ArrayBuffer.scala.html#66119" title="(elem: MergedClassPath.this.AnyClassRep)cls.type">+=</a> <a href="#984895" title="e.AnyClassRep">c</a>
        <a href="#984850" title="Int">count</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#984852" title="scala.collection.mutable.ArrayBuffer[MergedClassPath.this.AnyClassRep]">cls</a>.<a href="../../../collection/TraversableOnce.scala.html#53694" title="scala.collection.immutable.IndexedSeq[MergedClassPath.this.AnyClassRep]">toIndexedSeq</a>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="505704">packages</a>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Int" id="984976">count</a>   = <span title="Int(0)" class="int">0</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[String,Int]" id="984977">indices</a> = mutable.<a href="../../../collection/generic/GenMapFactory.scala.html#56702" title="[A, B](elems: (A, B)*)scala.collection.mutable.HashMap[A,B]">HashMap</a><span title="(elems: (String, Int)*)scala.collection.mutable.HashMap[String,Int]" class="delimiter">[</span><span title="String">String</span>, <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ArrayBuffer[scala.tools.nsc.util.ClassPath[T]]" id="984978">pkg</a>     = <span title="scala.collection.mutable.ArrayBuffer[scala.tools.nsc.util.ClassPath[T]]" class="keyword">new</span> mutable.<a href="../../../collection/mutable/ArrayBuffer.scala.html#14968" title="scala.collection.mutable.ArrayBuffer[scala.tools.nsc.util.ClassPath[T]]">ArrayBuffer</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span title="Int(256)" class="int">256</span><span class="delimiter">)</span>

    <span class="keyword">for</span> <span class="delimiter">(</span><a title="scala.tools.nsc.util.ClassPath[T]" id="984998">e</a> &lt;- <a href="../../../collection/IterableLike.scala.html#53856" title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; Unit)Unit">entries</a>; <a title="scala.tools.nsc.util.ClassPath[T]" id="985021">p</a> &lt;- <a href="#984998" title="scala.tools.nsc.util.ClassPath[T]">e</a>.<a href="../../../collection/IterableLike.scala.html#53856" title="(f: scala.tools.nsc.util.ClassPath[T] =&gt; Unit)Unit">packages</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="String" id="985022">name</a> = <a href="#985021" title="scala.tools.nsc.util.ClassPath[T]">p</a>.<a href="#505668" title="=&gt; String">name</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#984977" title="scala.collection.mutable.HashMap[String,Int]">indices</a> <a href="../../../collection/MapLike.scala.html#73205" title="(key: String)Boolean">contains</a> <a href="#985022" title="String">name</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Int" id="985024">idx</a>  = <a href="../../../collection/MapLike.scala.html#73204" title="(key: String)Int">indices</a><span class="delimiter">(</span><a href="#985022" title="String">name</a><span class="delimiter">)</span>
        <a href="../../../collection/mutable/ResizableArray.scala.html#66154" title="(idx: Int, elem: scala.tools.nsc.util.ClassPath[T])Unit">pkg</a><span class="delimiter">(</span><a href="#985024" title="Int">idx</a><span class="delimiter">)</span> = <a href="#505705" title="(to: scala.tools.nsc.util.ClassPath[T], pkg: scala.tools.nsc.util.ClassPath[T])scala.tools.nsc.util.MergedClassPath[T]">addPackage</a><span class="delimiter">(</span><a href="../../../collection/mutable/ResizableArray.scala.html#66153" title="(idx: Int)scala.tools.nsc.util.ClassPath[T]">pkg</a><span class="delimiter">(</span><a href="#985024" title="Int">idx</a><span class="delimiter">)</span>, <a href="#985021" title="scala.tools.nsc.util.ClassPath[T]">p</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: String, value: Int)Unit">indices</a><span class="delimiter">(</span><a href="#985022" title="String">name</a><span class="delimiter">)</span> = <a href="#984976" title="Int">count</a>
        <a href="#984978" title="scala.collection.mutable.ArrayBuffer[scala.tools.nsc.util.ClassPath[T]]">pkg</a> <a href="../../../collection/mutable/ArrayBuffer.scala.html#66119" title="(elem: scala.tools.nsc.util.ClassPath[T])pkg.type">+=</a> <a href="#985021" title="scala.tools.nsc.util.ClassPath[T]">p</a>
        <a href="#984976" title="Int">count</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="#984978" title="scala.collection.mutable.ArrayBuffer[scala.tools.nsc.util.ClassPath[T]]">pkg</a>.<a href="../../../collection/TraversableOnce.scala.html#53694" title="scala.collection.immutable.IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">toIndexedSeq</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(to: scala.tools.nsc.util.ClassPath[T], pkg: scala.tools.nsc.util.ClassPath[T])scala.tools.nsc.util.MergedClassPath[T]" id="505705">addPackage</a><span class="delimiter">(</span><a title="scala.tools.nsc.util.ClassPath[T]" id="985048">to</a>: <a href="#42943" title="scala.tools.nsc.util.ClassPath[T]">ClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span>, <a title="scala.tools.nsc.util.ClassPath[T]" id="985049">pkg</a>: <a href="#42943" title="scala.tools.nsc.util.ClassPath[T]">ClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="985052">newEntries</a>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="#985048" title="scala.tools.nsc.util.ClassPath[T]">to</a> <span title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]" id="985053">cp</a>: <a href="#42460" title="scala.tools.nsc.util.MergedClassPath[_]">MergedClassPath</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt; <a href="#985053" title="scala.tools.nsc.util.MergedClassPath[_]">cp</a>.<a href="#984693" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[_]]">entries</a> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: scala.tools.nsc.util.ClassPath[_])(implicit bf: scala.collection.generic.CanBuildFrom[IndexedSeq[scala.tools.nsc.util.ClassPath[_]],scala.tools.nsc.util.ClassPath[_],IndexedSeq[scala.tools.nsc.util.ClassPath[T]]])IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">:+</a> <a href="#985049" title="scala.tools.nsc.util.ClassPath[T]">pkg</a>
      <span class="keyword">case</span> <span title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">_</span>                      =&gt; <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: scala.tools.nsc.util.ClassPath[T]*)IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">IndexedSeq</a><span class="delimiter">(</span><a href="#985048" title="scala.tools.nsc.util.ClassPath[T]">to</a>, <a href="#985049" title="scala.tools.nsc.util.ClassPath[T]">pkg</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span title="scala.tools.nsc.util.MergedClassPath[T]" class="keyword">new</span> <a href="#42460" title="scala.tools.nsc.util.MergedClassPath[T]">MergedClassPath</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">(</span><a href="#985052" title="IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">newEntries</a>, <a href="#984694" title="=&gt; scala.tools.nsc.util.ClassPath.ClassPathContext[T]">context</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">//</span>
  <span class="comment">// override def allPackages: List[ClassPath[T]] = entries flatMap (_.allPackages)</span>
  <span class="comment">// override def allPackageNames = entries flatMap (_.allPackageNames)</span>
  <span class="comment">// override def allPackagesWithNames = entries flatMap (_.allPackagesWithNames)</span>
  <span class="comment">//</span>
  <span class="comment">// def duplicatedClasses = {</span>
  <span class="comment">//   def toFullName(x: (String, _, AnyClassRep)) = x._1 + &quot;.&quot; + x._3.name</span>
  <span class="comment">//</span>
  <span class="comment">//   /** Flatten everything into tuples, recombine grouped by name, filter down to 2+ entries. */</span>
  <span class="comment">//   val flattened = (</span>
  <span class="comment">//     for ((pkgName, pkg) &lt;- allPackagesWithNames ; clazz &lt;- pkg.classes) yield</span>
  <span class="comment">//       (pkgName, pkg, clazz)</span>
  <span class="comment">//   )</span>
  <span class="comment">//   val multipleAppearingEntries = flattened groupBy toFullName filter (_._2.size &gt; 1)</span>
  <span class="comment">//</span>
  <span class="comment">//   /** Using original name list as reference point, return duplicated entries as</span>
  <span class="comment">//    *    (name, list of origins)</span>
  <span class="comment">//    *  in the order they occur on the path.</span>
  <span class="comment">//    */</span>
  <span class="comment">//   for (name &lt;- flattened map toFullName distinct ; dups &lt;- multipleAppearingEntries get name) yield</span>
  <span class="comment">//     (name, dups map {</span>
  <span class="comment">//       case (_, cp, _) if cp.origin.isDefined  =&gt; cp.origin.get</span>
  <span class="comment">//       case (_, cp, _)                         =&gt; cp.asURLs.mkString</span>
  <span class="comment">//     })</span>
  <span class="comment">// }</span>
  <span class="comment">//</span>
  <span class="keyword">def</span> <a title="()Unit" id="505706">show</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;ClassPath %s has %d entries and results in:\n&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#505695" title="=&gt; String">name</a>, <a href="#984693" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">asClasspathString</a> <a href="../../../Predef.scala.html#9626" title="(xs: Array[String])scala.collection.mutable.ArrayOps[String]">split</a> <span title="Char(\':\')" class="char">':'</span> <a href="../../../collection/IndexedSeqOptimized.scala.html#55926" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="String" id="985871">x</a> =&gt; <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#985871" title="String">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
  <span class="comment">// def showDuplicates() =</span>
  <span class="comment">//   ClassPath findDuplicates this foreach {</span>
  <span class="comment">//     case (name, xs) =&gt; println(xs.mkString(name + &quot;:\n  &quot;, &quot;\n  &quot;, &quot;\n&quot;))</span>
  <span class="comment">//   }</span>
  <span class="comment">//</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()java.lang.String" id="505707">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span title="java.lang.String(&quot;merged classpath &quot;)" class="string">&quot;merged classpath &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#984693" title="=&gt; IndexedSeq[scala.tools.nsc.util.ClassPath[T]]">entries</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * The classpath when compiling with target:jvm. Binary files (classfiles) are represented
 * as AbstractFile. nsc.io.ZipArchive is used to view zip/jar archives as directories.
 */</span>
<span class="keyword">class</span> <a title="class JavaClassPath extends scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile] with ScalaObject" id="42487">JavaClassPath</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a>
  <a title="IndexedSeq[scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]]" id="505713">containers</a>: <a href="../../../collection/IndexedSeq.scala.html#8963" title="IndexedSeq[scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]]">IndexedSeq</a><span class="delimiter">[</span>ClassPath<span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span><span class="delimiter">]</span>,
  <a title="scala.tools.nsc.util.ClassPath.JavaContext" id="505714">context</a>: <a href="#481075" title="scala.tools.nsc.util.ClassPath.JavaContext">JavaContext</a><span class="delimiter">)</span>
<span class="keyword">extends</span> <a href="#42460" title="scala.tools.nsc.util.MergedClassPath[scala.tools.nsc.io.AbstractFile]">MergedClassPath</a><span class="delimiter">[</span>AbstractFile<span class="delimiter">]</span><span class="delimiter">(</span><a href="#505713" title="IndexedSeq[scala.tools.nsc.util.ClassPath[scala.tools.nsc.io.AbstractFile]]">containers</a>, <a href="#505714" title="scala.tools.nsc.util.ClassPath.JavaContext">context</a><span class="delimiter">)</span> <span class="delimiter">{</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>