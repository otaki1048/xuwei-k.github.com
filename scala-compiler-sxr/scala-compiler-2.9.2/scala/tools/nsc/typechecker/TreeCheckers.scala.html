<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/TreeCheckers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.tools.nsc.symtab.<a href="../symtab/Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> scala.collection.mutable
<span class="keyword">import</span> mutable.<span class="delimiter">{</span> HashMap, HashSet, ListBuffer <span class="delimiter">}</span>
<span class="keyword">import</span> util.returning

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class TreeCheckers extends java.lang.Object with scala.tools.nsc.typechecker.Analyzer with ScalaObject" id="39790">TreeCheckers</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="Analyzer.scala.html#40906" title="scala.tools.nsc.typechecker.Analyzer">Analyzer</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="Analyzer.scala.html#507332" title="=&gt; scala.tools.nsc.Global">global</a>._

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: AnyRef)java.lang.String" id="514193">classstr</a><span class="delimiter">(</span><a title="AnyRef" id="957386">x</a>: <span title="AnyRef">AnyRef</span><span class="delimiter">)</span> = <a href="#957386" title="AnyRef">x</a>.<span title="()java.lang.Class[_]">getClass</span>.<span title="()java.lang.String">getName</span> <a href="../../../Predef.scala.html#9626" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">split</a> <span title="java.lang.String(&quot;\\\\.|\\\\$&quot;)" class="string">&quot;&quot;&quot;\\.|\\$&quot;&quot;&quot;</span> <a href="../../../collection/IndexedSeqOptimized.scala.html#55965" title="=&gt; java.lang.String">last</a>;
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(x: TreeCheckers.this.global.Type)java.lang.String" id="514194">typestr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Type" id="957490">x</a>: <a href="../symtab/Types.scala.html#478720" title="TreeCheckers.this.global.Type">Type</a><span class="delimiter">)</span>    = <span title="java.lang.String(&quot; (tpe = &quot;)" class="string">&quot; (tpe = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#957490" title="TreeCheckers.this.global.Type">x</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)java.lang.String" id="514195">treestr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="957493">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span>    = <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">t</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot; [&quot;)" class="string">&quot; [&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514193" title="(x: AnyRef)java.lang.String">classstr</a><span class="delimiter">(</span><a href="#957493" title="TreeCheckers.this.global.Tree">t</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514194" title="(x: TreeCheckers.this.global.Type)java.lang.String">typestr</a><span class="delimiter">(</span><a href="#957493" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TreeCheckers.this.global.Type">tpe</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: TreeCheckers.this.global.Symbol)java.lang.String" id="514196">ownerstr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Symbol" id="957498">s</a>: <a href="../symtab/Symbols.scala.html#478659" title="TreeCheckers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#957498" title="TreeCheckers.this.global.Symbol">s</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\'&quot;)" class="string">&quot;'&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#957498" title="TreeCheckers.this.global.Symbol">s</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)java.lang.String" id="514197">wholetreestr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="957501">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="../ast/NodePrinters.scala.html#506379" title="(tree: TreeCheckers.this.global.nodePrinters.global.Tree)String">nodeToString</a><span class="delimiter">(</span><a href="#957501" title="TreeCheckers.this.global.Tree">t</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)java.lang.String" id="514198">beststr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="957508">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span title="java.lang.String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">{</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#957508" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#957508" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object TreeCheckers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;sym=&quot;)" class="string">&quot;sym=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514196" title="(s: TreeCheckers.this.global.Symbol)java.lang.String">ownerstr</a><span class="delimiter">(</span><a href="#957508" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#957508" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TreeCheckers.this.global.Type">tpe</a>.<a href="../../../reflect/generic/Types.scala.html#434190" title="=&gt; Boolean">isComplete</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;tpe=&quot;)" class="string">&quot;tpe=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514194" title="(x: TreeCheckers.this.global.Type)java.lang.String">typestr</a><span class="delimiter">(</span><a href="#957508" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TreeCheckers.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#957508" title="TreeCheckers.this.global.Tree">t</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="java.lang.String" id="957521">x</a>: <a href="../../../reflect/generic/Trees.scala.html#434032" title="TreeCheckers.this.global.DefTree">DefTree</a> =&gt; <span title="java.lang.String(&quot;name=&quot;)" class="string">&quot;name=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#957521" title="TreeCheckers.this.global.DefTree">x</a>.<a href="../../../reflect/generic/Trees.scala.html#441614" title="=&gt; TreeCheckers.this.global.Name">name</a>
      <span class="keyword">case</span> <a title="java.lang.String" id="957522">x</a>: <a href="../../../reflect/generic/Trees.scala.html#434031" title="TreeCheckers.this.global.RefTree">RefTree</a> =&gt; <span title="java.lang.String(&quot;reference=&quot;)" class="string">&quot;reference=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#957522" title="TreeCheckers.this.global.RefTree">x</a>.<a href="../../../reflect/generic/Trees.scala.html#441609" title="=&gt; TreeCheckers.this.global.Name">name</a>
      <span class="keyword">case</span> <span title="java.lang.String">_</span>          =&gt; <span title="java.lang.String(&quot;clazz=&quot;)" class="string">&quot;clazz=&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514193" title="(x: AnyRef)java.lang.String">classstr</a><span class="delimiter">(</span><a href="#957508" title="TreeCheckers.this.global.Tree">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span>

  <span class="comment">/** This is a work in progress, don't take it too seriously.
   */</span>
  <span class="keyword">object</span> <a title="object TreeCheckers.this.SymbolTracker" id="514199">SymbolTracker</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../ast/Trees.scala.html#479168" title="TreeCheckers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
    <span class="keyword">type</span> <a title="scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]" id="957524">PhaseMap</a> = <a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]">HashMap</a><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)]" id="957525">maps</a>: <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)]">ListBuffer</a><span class="delimiter">[</span><span class="delimiter">(</span>Phase, PhaseMap<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: (scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)*)scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)]">ListBuffer</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap" id="957527">prev</a>          = <a href="#957525" title="=&gt; scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)]">maps</a>.<a href="../../../collection/TraversableLike.scala.html#49085" title="=&gt; scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)]">init</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61985" title="=&gt; (scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)">last</a>.<a href="../../../Tuple2.scala.html#53404" title="=&gt; scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap">_2</a>
    <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap" id="957528">latest</a>        = <a href="#957525" title="=&gt; scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)]">maps</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61985" title="=&gt; (scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)">last</a>.<a href="../../../Tuple2.scala.html#53404" title="=&gt; scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap">_2</a>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.DefTree]]" id="957529">defSyms</a>       = <a href="../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.DefTree]]" class="keyword">new</a> <a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.DefTree]]">HashMap</a><span class="delimiter">[</span>Symbol, List<span class="delimiter">[</span>DefTree<span class="delimiter">]</span><span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]" id="957531">newSyms</a>       = <a href="../../../collection/mutable/HashSet.scala.html#108311" title="()scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]" class="keyword">new</a> <a href="../../../collection/mutable/HashSet.scala.html#14593" title="scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]">HashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
    <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="957533">movedMsgs</a>     = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[String]">ListBuffer</a><span class="delimiter">[</span>String<span class="delimiter">]</span>
    <span class="keyword">def</span> <a title="=&gt; List[TreeCheckers.this.global.Symbol]" id="957535">sortedNewSyms</a> = <a href="#957531" title="=&gt; scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]">newSyms</a>.<a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[TreeCheckers.this.global.Symbol]">toList</a>.<a href="../../../collection/SeqLike.scala.html#54140" title="=&gt; List[TreeCheckers.this.global.Symbol]">distinct</a> <a href="../../../collection/SeqLike.scala.html#54178" title="(f: TreeCheckers.this.global.Symbol =&gt; String)(implicit ord: scala.math.Ordering[String])List[TreeCheckers.this.global.Symbol]">sortBy</a> <span class="delimiter">(</span><a href="#957576" title="TreeCheckers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TreeCheckers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(sym: TreeCheckers.this.global.Symbol)Boolean" id="957536">inPrev</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Symbol" id="957633">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="TreeCheckers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="delimiter">(</span><a href="#957525" title="=&gt; scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)]">maps</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61941" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#957527" title="=&gt; scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap">prev</a> <a href="../../../collection/MapLike.scala.html#73205" title="(key: TreeCheckers.this.global.Symbol)Boolean">contains</a> <a href="#957633" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(sym: TreeCheckers.this.global.Symbol, tree: TreeCheckers.this.global.Tree)Any" id="957537">record</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Symbol" id="957641">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="TreeCheckers.this.global.Symbol">Symbol</a>, <a title="TreeCheckers.this.global.Tree" id="957642">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#957528" title="=&gt; scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap">latest</a> <a href="../../../collection/MapLike.scala.html#73205" title="(key: TreeCheckers.this.global.Symbol)Boolean">contains</a> <a href="#957641" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: TreeCheckers.this.global.Symbol, value: List[TreeCheckers.this.global.Tree])Unit">latest</a><span class="delimiter">(</span><a href="#957641" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="../../../collection/MapLike.scala.html#73204" title="(key: TreeCheckers.this.global.Symbol)List[TreeCheckers.this.global.Tree]">latest</a><span class="delimiter">(</span><a href="#957641" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: TreeCheckers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeCheckers.this.global.Tree],TreeCheckers.this.global.Tree,List[TreeCheckers.this.global.Tree]])List[TreeCheckers.this.global.Tree]">:+</a> <a href="#957642" title="TreeCheckers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: TreeCheckers.this.global.Symbol, value: List[TreeCheckers.this.global.Tree])Unit">latest</a><span class="delimiter">(</span><a href="#957641" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: TreeCheckers.this.global.Tree*)List[TreeCheckers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#957642" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#957536" title="(sym: TreeCheckers.this.global.Symbol)Boolean">inPrev</a><span class="delimiter">(</span><a href="#957641" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[TreeCheckers.this.global.Tree]" id="957748">prevTrees</a> = <a href="../../../collection/MapLike.scala.html#73204" title="(key: TreeCheckers.this.global.Symbol)List[TreeCheckers.this.global.Tree]">prev</a><span class="delimiter">(</span><a href="#957641" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span>

        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#957748" title="List[TreeCheckers.this.global.Tree]">prevTrees</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: TreeCheckers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="957772">t</a> =&gt; <span class="delimiter">(</span><a href="#957772" title="TreeCheckers.this.global.Tree">t</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#957642" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#957772" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#957641" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#957748" title="List[TreeCheckers.this.global.Tree]">prevTrees</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: TreeCheckers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#957779" title="TreeCheckers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TreeCheckers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#957641" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TreeCheckers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509313" title="=&gt; TreeCheckers.this.global.Symbol">implClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#514204" title="(msg: Any)Unit">errorFn</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Noticed &quot;)" class="string">&quot;Noticed &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514196" title="(s: TreeCheckers.this.global.Symbol)java.lang.String">ownerstr</a><span class="delimiter">(</span><a href="#957641" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; moving to implementation class.&quot;)" class="string">&quot; moving to implementation class.&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[java.lang.String]" id="957795">s1</a> = <span class="delimiter">(</span><a href="#957748" title="List[TreeCheckers.this.global.Tree]">prevTrees</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: TreeCheckers.this.global.Tree =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeCheckers.this.global.Tree],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a> <a href="#514197" title="(t: TreeCheckers.this.global.Tree)java.lang.String">wholetreestr</a><span class="delimiter">)</span>.<a href="../../../collection/SeqLike.scala.html#54181" title="(implicit ord: scala.math.Ordering[java.lang.String])List[java.lang.String]">sorted</a>.<a href="../../../collection/SeqLike.scala.html#54140" title="=&gt; List[java.lang.String]">distinct</a>
          <span class="keyword">val</span> <a title="java.lang.String" id="957796">s2</a> = <a href="#514197" title="(t: TreeCheckers.this.global.Tree)java.lang.String">wholetreestr</a><span class="delimiter">(</span><a href="#957642" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#957795" title="List[java.lang.String]">s1</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#957796" title="java.lang.String">s2</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#957533" title="=&gt; scala.collection.mutable.ListBuffer[String]">movedMsgs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: String)scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.movedMsgs.type">+=</a> <span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\n** %s moved:\n** Previously:\n%s\n** Currently:\n%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#514196" title="(s: TreeCheckers.this.global.Symbol)java.lang.String">ownerstr</a><span class="delimiter">(</span><a href="#957641" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#957795" title="List[java.lang.String]">s1</a> <a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <a href="#957796" title="java.lang.String">s2</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#957531" title="=&gt; scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]">newSyms</a> <a href="../../../collection/mutable/HashSet.scala.html#108315" title="(elem: TreeCheckers.this.global.Symbol)scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.newSyms.type">+=</a> <a href="#957641" title="TreeCheckers.this.global.Symbol">sym</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="()Unit" id="957538">reportChanges</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <span class="comment">// new symbols</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#957531" title="=&gt; scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]">newSyms</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="java.lang.String" id="957933">str</a> =
          <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;New symbols: &quot;)" class="string">&quot;New symbols: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#957535" title="=&gt; List[TreeCheckers.this.global.Symbol]">sortedNewSyms</a> <a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#957531" title="=&gt; scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]">newSyms</a>.<a href="../../../collection/mutable/HashSet.scala.html#108313" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54737" title="(x: String)String">+</a> <span title="java.lang.String(&quot; new symbols.&quot;)" class="string">&quot; new symbols.&quot;</span>

        <a href="#957531" title="=&gt; scala.collection.mutable.HashSet[TreeCheckers.this.global.Symbol]">newSyms</a>.<a href="../../../collection/mutable/HashSet.scala.html#108320" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <a href="#514204" title="(msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#957933" title="java.lang.String">str</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// moved symbols</span>
      <a href="#957533" title="=&gt; scala.collection.mutable.ListBuffer[String]">movedMsgs</a> <a href="../../../collection/generic/TraversableForwarder.scala.html#61936" title="(f: String =&gt; Unit)Unit">foreach</a> <a href="#514204" title="(msg: Any)Unit">errorFn</a>
      <a href="#957533" title="=&gt; scala.collection.mutable.ListBuffer[String]">movedMsgs</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61789" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="comment">// duplicate defs</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="TreeCheckers.this.global.Symbol" id="958010">sym</a>, <a title="List[TreeCheckers.this.global.DefTree]" id="958011">defs</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#53496" title="(f: ((TreeCheckers.this.global.Symbol, List[TreeCheckers.this.global.DefTree])) =&gt; Unit)Unit">defSyms</a> ; <span class="keyword">if</span> <a href="#958011" title="List[TreeCheckers.this.global.DefTree]">defs</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#514204" title="(msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s DefTrees with symbol '%s': %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#958011" title="List[TreeCheckers.this.global.DefTree]">defs</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a>, <a href="#514196" title="(s: TreeCheckers.this.global.Symbol)java.lang.String">ownerstr</a><span class="delimiter">(</span><a href="#958010" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#958011" title="List[TreeCheckers.this.global.DefTree]">defs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: TreeCheckers.this.global.DefTree =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeCheckers.this.global.DefTree],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a> <a href="#514198" title="(t: TreeCheckers.this.global.Tree)java.lang.String">beststr</a> <a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#957529" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.DefTree]]">defSyms</a>.<a href="../../../collection/mutable/HashMap.scala.html#73154" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(ph: scala.tools.nsc.Phase, unit: TreeCheckers.this.global.CompilationUnit)Unit" id="957539">check</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="958069">ph</a>: <a href="../Phase.scala.html#22578" title="scala.tools.nsc.Phase">Phase</a>, <a title="TreeCheckers.this.global.CompilationUnit" id="958070">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="TreeCheckers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#957525" title="=&gt; scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)]">maps</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61939" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#957525" title="=&gt; scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)]">maps</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61985" title="=&gt; (scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)">last</a>.<a href="../../../Tuple2.scala.html#53402" title="=&gt; scala.tools.nsc.Phase">_1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#958069" title="scala.tools.nsc.Phase">ph</a><span class="delimiter">)</span>
        <a href="#957525" title="=&gt; scala.collection.mutable.ListBuffer[(scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap)]">maps</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: (scala.tools.nsc.Phase, scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.PhaseMap))scala.tools.nsc.typechecker.TreeCheckers.SymbolTracker.maps.type">+=</a> <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: scala.tools.nsc.Phase, _2: scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])(scala.tools.nsc.Phase, scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]])" class="delimiter">(</a><a href="#958069" title="scala.tools.nsc.Phase">ph</a>, <a href="../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]" class="keyword">new</a> <a href="#957524" title="scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.Tree]]">PhaseMap</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#957540" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#958070" title="TreeCheckers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500958" title="=&gt; TreeCheckers.this.global.Tree">body</a><span class="delimiter">)</span>
      <a href="#957538" title="()Unit">reportChanges</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree)Unit" id="957540">traverse</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958105">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TreeCheckers.this.global.Symbol" id="958111">sym</a>    = <a href="#958105" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958111" title="TreeCheckers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#958111" title="TreeCheckers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object TreeCheckers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#957537" title="(sym: TreeCheckers.this.global.Symbol, tree: TreeCheckers.this.global.Tree)Any">record</a><span class="delimiter">(</span><a href="#958111" title="TreeCheckers.this.global.Symbol">sym</a>, <a href="#958105" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#958105" title="TreeCheckers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Unit" id="958120">x</a>: <a href="../../../reflect/generic/Trees.scala.html#434032" title="TreeCheckers.this.global.DefTree">DefTree</a> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#957529" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Symbol,List[TreeCheckers.this.global.DefTree]]">defSyms</a> <a href="../../../collection/MapLike.scala.html#73205" title="(key: TreeCheckers.this.global.Symbol)Boolean">contains</a> <a href="#958111" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: TreeCheckers.this.global.Symbol, value: List[TreeCheckers.this.global.DefTree])Unit">defSyms</a><span class="delimiter">(</span><a href="#958111" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="../../../collection/MapLike.scala.html#73204" title="(key: TreeCheckers.this.global.Symbol)List[TreeCheckers.this.global.DefTree]">defSyms</a><span class="delimiter">(</span><a href="#958111" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: TreeCheckers.this.global.DefTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[TreeCheckers.this.global.DefTree],TreeCheckers.this.global.DefTree,List[TreeCheckers.this.global.DefTree]])List[TreeCheckers.this.global.DefTree]">:+</a> <a href="#958120" title="TreeCheckers.this.global.DefTree">x</a>
            <span class="keyword">else</span> <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: TreeCheckers.this.global.Symbol, value: List[TreeCheckers.this.global.DefTree])Unit">defSyms</a><span class="delimiter">(</span><a href="#958111" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: TreeCheckers.this.global.DefTree*)List[TreeCheckers.this.global.DefTree]">List</a><span class="delimiter">(</span><a href="#958120" title="TreeCheckers.this.global.DefTree">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#560433" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#958105" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]" id="514202">tpeOfTree</a> = <a href="../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]" class="keyword">new</a> <a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]">HashMap</a><span class="delimiter">[</span>Tree, Type<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="(p: TreeCheckers.this.global.Position)java.lang.String" id="514203">posstr</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Position" id="958209">p</a>: <a href="../util/Position.scala.html#42664" title="TreeCheckers.this.global.Position">Position</a><span class="delimiter">)</span> =
    <span class="keyword">try</span> <a href="#958209" title="TreeCheckers.this.global.Position">p</a>.<a href="../util/Position.scala.html#501487" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#501051" title="=&gt; String">path</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958209" title="TreeCheckers.this.global.Position">p</a>.<a href="../util/Position.scala.html#501514" title="=&gt; Int">line</a>
    <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="java.lang.String">_</span>: <span title="UnsupportedOperationException">UnsupportedOperationException</span> =&gt; <a href="#958209" title="TreeCheckers.this.global.Position">p</a>.<span title="()java.lang.String">toString</span> <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(msg: Any)Unit" id="514204">errorFn</a><span class="delimiter">(</span><a title="Any" id="957793">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a>                = <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[check: %s] %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505129" title="=&gt; scala.tools.nsc.Phase">prev</a>, <a href="#957793" title="Any">msg</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit" id="514205">errorFn</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Position" id="957790">pos</a>: <a href="../util/Position.scala.html#42664" title="TreeCheckers.this.global.Position">Position</a>, <a title="Any" id="957791">msg</a>: <span title="Any">Any</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <a href="#514204" title="(msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#514203" title="(p: TreeCheckers.this.global.Position)java.lang.String">posstr</a><span class="delimiter">(</span><a href="#957790" title="TreeCheckers.this.global.Position">pos</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#957791" title="Any">msg</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(cond: Boolean, msg: =&gt; Any)Unit" id="514206">assertFn</a><span class="delimiter">(</span><a title="Boolean" id="958221">cond</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a>, <a title="=&gt; Any" id="958222">msg</a>: =&gt; Any<span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#958221" title="Boolean">cond</a><span class="delimiter">)</span> <a href="#514204" title="(msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#958222" title="=&gt; Any">msg</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="()Unit" id="514207">checkTrees</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#469865" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">verbose</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
      <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;[consistency check at the beginning of phase &quot;)" class="string">&quot;[consistency check at the beginning of phase &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;]&quot;)" class="string">&quot;]&quot;</span><span class="delimiter">)</span>

    <a href="../Global.scala.html#478362" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482560" title="=&gt; Iterator[TreeCheckers.this.global.CompilationUnit]">units</a> <a href="../../../collection/Iterator.scala.html#59154" title="(f: TreeCheckers.this.global.CompilationUnit =&gt; Unit)Unit">foreach</a> <a href="#514214" title="(unit: TreeCheckers.this.global.CompilationUnit)Unit">check</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[T](body: =&gt; T)T" id="514208">printingTypings</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="514210">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="958248">body</a>: =&gt; T<span class="delimiter">)</span>: <a href="#514210" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Boolean" id="958251">saved</a> = <a href="Analyzer.scala.html#507332" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#478274" title="=&gt; Boolean">printTypings</a>
    <a href="Analyzer.scala.html#507332" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#478275" title="(x$1: Boolean)Unit">printTypings</a> = <span title="Boolean(true)" class="keyword">true</span>
    <span class="keyword">val</span> <a title="T" id="958252">result</a> = <a href="#958248" title="=&gt; T">body</a>
    <a href="Analyzer.scala.html#507332" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#478275" title="(x$1: Boolean)Unit">printTypings</a> = <a href="#958251" title="Boolean">saved</a>
    <a href="#958252" title="T">result</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="[T](unit: TreeCheckers.this.global.CompilationUnit)(body: =&gt; Unit)Unit" id="514211">runWithUnit</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="514213">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="TreeCheckers.this.global.CompilationUnit" id="958253">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="TreeCheckers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; Unit" id="958254">body</a>: =&gt; Unit<span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TreeCheckers.this.global.CompilationUnit" id="958256">unit0</a> = <a href="../Global.scala.html#478362" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482498" title="=&gt; TreeCheckers.this.global.CompilationUnit">currentUnit</a>
    <a href="../Global.scala.html#478362" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482499" title="(x$1: TreeCheckers.this.global.CompilationUnit)Unit">currentUnit</a> = <a href="#958253" title="TreeCheckers.this.global.CompilationUnit">unit</a>
    <a href="#958254" title="=&gt; Unit">body</a>
    <a href="../Global.scala.html#478362" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482510" title="()Unit">advanceUnit</a>
    <a href="#514206" title="(cond: Boolean, msg: =&gt; Any)Unit">assertFn</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482498" title="=&gt; TreeCheckers.this.global.CompilationUnit">currentUnit</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#958253" title="TreeCheckers.this.global.CompilationUnit">unit</a>, <span title="java.lang.String(&quot;currentUnit is &quot;)" class="string">&quot;currentUnit is &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../Global.scala.html#478362" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482498" title="=&gt; TreeCheckers.this.global.CompilationUnit">currentUnit</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, but unit is &quot;)" class="string">&quot;, but unit is &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958253" title="TreeCheckers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <a href="../Global.scala.html#478362" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482499" title="(x$1: TreeCheckers.this.global.CompilationUnit)Unit">currentUnit</a> = <a href="#958256" title="TreeCheckers.this.global.CompilationUnit">unit0</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(unit: TreeCheckers.this.global.CompilationUnit)Unit" id="514214">check</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.CompilationUnit" id="958243">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="TreeCheckers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="../Global.scala.html#478248" title="(msg: String)Unit">informProgress</a><span class="delimiter">(</span><span title="java.lang.String(&quot;checking &quot;)" class="string">&quot;checking &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#958243" title="TreeCheckers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeCheckers.this.Context" id="958263">context</a> = <a href="Contexts.scala.html#507356" title="(unit: TreeCheckers.this.global.CompilationUnit)TreeCheckers.this.Context">rootContext</a><span class="delimiter">(</span><a href="#958243" title="TreeCheckers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <a href="#958263" title="TreeCheckers.this.Context">context</a>.<a href="Contexts.scala.html#508518" title="(x$1: Boolean)Unit">checking</a> = <span title="Boolean(true)" class="keyword">true</span>
    <a href="#514201" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]">tpeOfTree</a>.<a href="../../../collection/mutable/HashMap.scala.html#73154" title="()Unit">clear</a>
    <a href="#514199" title="object TreeCheckers.this.SymbolTracker">SymbolTracker</a>.<a href="#957539" title="(ph: scala.tools.nsc.Phase, unit: TreeCheckers.this.global.CompilationUnit)Unit">check</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>, <a href="#958243" title="TreeCheckers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="TreeCheckers.this.TreeChecker" id="958264">checker</a> = <span title="TreeCheckers.this.TreeChecker" class="keyword">new</span> <a href="#514216" title="TreeCheckers.this.TreeChecker">TreeChecker</a><span class="delimiter">(</span><a href="#958263" title="TreeCheckers.this.Context">context</a><span class="delimiter">)</span>
    <a href="#514211" title="(unit: TreeCheckers.this.global.CompilationUnit)(body: =&gt; Unit)Unit">runWithUnit</a><span class="delimiter">(</span><a href="#958243" title="TreeCheckers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#958264" title="TreeCheckers.this.TreeChecker">checker</a>.<a href="#958284" title="object checker.precheck">precheck</a>.<a href="#958291" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#958243" title="TreeCheckers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500958" title="=&gt; TreeCheckers.this.global.Tree">body</a><span class="delimiter">)</span>
      <a href="#958264" title="TreeCheckers.this.TreeChecker">checker</a>.<a href="Typers.scala.html#507768" title="(tree: TreeCheckers.this.global.Tree)TreeCheckers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#958243" title="TreeCheckers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500958" title="=&gt; TreeCheckers.this.global.Tree">body</a><span class="delimiter">)</span>
      <a href="#958264" title="TreeCheckers.this.TreeChecker">checker</a>.<a href="#958286" title="object checker.postcheck">postcheck</a>.<a href="#958319" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#958243" title="TreeCheckers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500958" title="=&gt; TreeCheckers.this.global.Tree">body</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(context: TreeCheckers.this.Context)TreeCheckers.this.Typer" id="514215">newTyper</a><span class="delimiter">(</span><a title="TreeCheckers.this.Context" id="958327">context</a>: <a href="Contexts.scala.html#507359" title="TreeCheckers.this.Context">Context</a><span class="delimiter">)</span>: <a href="Typers.scala.html#507454" title="TreeCheckers.this.Typer">Typer</a> = <span title="TreeCheckers.this.TreeChecker" class="keyword">new</span> <a href="#514216" title="TreeCheckers.this.TreeChecker">TreeChecker</a><span class="delimiter">(</span><a href="#958327" title="TreeCheckers.this.Context">context</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class TreeChecker extends TreeCheckers.this.Typer with ScalaObject" id="514216">TreeChecker</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="TreeCheckers.this.Context" id="958288">context0</a>: <a href="Contexts.scala.html#507359" title="TreeCheckers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Typers.scala.html#507454" title="TreeCheckers.this.Typer">Typer</a><span class="delimiter">(</span><a href="#958288" title="TreeCheckers.this.Context">context0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(templ: TreeCheckers.this.global.Template, clazz: TreeCheckers.this.global.Symbol, context: TreeCheckers.this.Context)TreeCheckers.this.global.Template" id="958276">typerAddSyntheticMethods</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Template" id="958333">templ</a>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="TreeCheckers.this.global.Template">Template</a>, <a title="TreeCheckers.this.global.Symbol" id="958334">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="TreeCheckers.this.global.Symbol">Symbol</a>, <a title="TreeCheckers.this.Context" id="958335">context</a>: <a href="Contexts.scala.html#507359" title="TreeCheckers.this.Context">Context</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="TreeCheckers.this.global.Template">Template</a> = <span class="delimiter">{</span>
      <span class="comment">// If we don't intercept this all the synthetics get added at every phase,</span>
      <span class="comment">// with predictably unfortunate results.</span>
      <a href="#958333" title="TreeCheckers.this.global.Template">templ</a>
    <span class="delimiter">}</span>

    <span class="comment">// XXX check for tree.original on TypeTrees.</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t1: TreeCheckers.this.global.Tree, t2: TreeCheckers.this.global.Tree)Unit" id="958277">treesDiffer</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958344">t1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a>, <a title="TreeCheckers.this.global.Tree" id="958345">t2</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
      <a href="#514205" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#958344" title="TreeCheckers.this.global.Tree">t1</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;trees differ\012 old: &quot;)" class="string">&quot;trees differ\n old: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514195" title="(t: TreeCheckers.this.global.Tree)java.lang.String">treestr</a><span class="delimiter">(</span><a href="#958344" title="TreeCheckers.this.global.Tree">t1</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012 new: &quot;)" class="string">&quot;\n new: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514195" title="(t: TreeCheckers.this.global.Tree)java.lang.String">treestr</a><span class="delimiter">(</span><a href="#958345" title="TreeCheckers.this.global.Tree">t2</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree, tp1: TreeCheckers.this.global.Type, tp2: TreeCheckers.this.global.Type)Unit" id="958278">typesDiffer</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958353">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a>, <a title="TreeCheckers.this.global.Type" id="958354">tp1</a>: <a href="../symtab/Types.scala.html#478720" title="TreeCheckers.this.global.Type">Type</a>, <a title="TreeCheckers.this.global.Type" id="958355">tp2</a>: <a href="../symtab/Types.scala.html#478720" title="TreeCheckers.this.global.Type">Type</a><span class="delimiter">)</span> =
      <a href="#514205" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#958353" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;types differ\012 old: &quot;)" class="string">&quot;types differ\n old: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958354" title="TreeCheckers.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012 new: &quot;)" class="string">&quot;\n new: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958355" title="TreeCheckers.this.global.Type">tp2</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012 tree: &quot;)" class="string">&quot;\n tree: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958353" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree, shouldBe: TreeCheckers.this.global.Symbol)Unit" id="958279">ownersDiffer</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958363">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a>, <a title="TreeCheckers.this.global.Symbol" id="958364">shouldBe</a>: <a href="../symtab/Symbols.scala.html#478659" title="TreeCheckers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="TreeCheckers.this.global.Symbol" id="958367">sym</a> = <a href="#958363" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a>
      <a href="#514205" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#958363" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot; has wrong owner: &quot;)" class="string">&quot; has wrong owner: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514196" title="(s: TreeCheckers.this.global.Symbol)java.lang.String">ownerstr</a><span class="delimiter">(</span><a href="#958367" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TreeCheckers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, should be: &quot;)" class="string">&quot;, should be: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514196" title="(s: TreeCheckers.this.global.Symbol)java.lang.String">ownerstr</a><span class="delimiter">(</span><a href="#958364" title="TreeCheckers.this.global.Symbol">shouldBe</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** XXX Disabled reporting of position errors until there is less noise. */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)Unit" id="958280">noPos</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958375">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
      <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// errorFn(&quot;no pos: &quot; + treestr(t))</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)Unit" id="958281">noType</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958378">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
      <a href="#514205" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#958378" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;no type: &quot;)" class="string">&quot;no type: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514195" title="(t: TreeCheckers.this.global.Tree)java.lang.String">treestr</a><span class="delimiter">(</span><a href="#958378" title="TreeCheckers.this.global.Tree">t</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(t: TreeCheckers.this.global.Tree)Unit" id="958282">checkSym</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958386">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958386" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object TreeCheckers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#514205" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#958386" title="TreeCheckers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;no symbol: &quot;)" class="string">&quot;no symbol: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514195" title="(t: TreeCheckers.this.global.Tree)java.lang.String">treestr</a><span class="delimiter">(</span><a href="#958386" title="TreeCheckers.this.global.Tree">t</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree, mode: Int, pt: TreeCheckers.this.global.Type)TreeCheckers.this.global.Tree" id="958283">typed</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958299">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a>, <a title="Int" id="958300">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="TreeCheckers.this.global.Type" id="958301">pt</a>: <a href="../symtab/Types.scala.html#478720" title="TreeCheckers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a> = <a href="../util/package.scala.html#48287" title="(x: TreeCheckers.this.global.Tree)(f: TreeCheckers.this.global.Tree =&gt; Unit)TreeCheckers.this.global.Tree">returning</a><span class="delimiter">(</span><a href="#958299" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#958407" title="Unit" class="delimiter">{</a>
      <span class="keyword">case</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="Unit">EmptyTree</a> | TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> <span class="keyword">if</span> <a href="#958299" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TreeCheckers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span>  =&gt;
        <a href="#514201" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]">tpeOfTree</a>.<a href="../../../collection/mutable/MapLike.scala.html#73294" title="(key: TreeCheckers.this.global.Tree, op: =&gt; TreeCheckers.this.global.Type)TreeCheckers.this.global.Type">getOrElseUpdate</a><span class="delimiter">(</span><a href="#958299" title="TreeCheckers.this.global.Tree">tree</a>, <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="TreeCheckers.this.global.Type" id="958417">saved</a> = <a href="#958299" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TreeCheckers.this.global.Type">tpe</a>
          <a href="#958299" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: TreeCheckers.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="#958417" title="TreeCheckers.this.global.Type">saved</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>
        <a href="#514216" title="TreeCheckers.this.TreeChecker" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: TreeCheckers.this.global.Tree, mode: Int, pt: TreeCheckers.this.global.Type)TreeCheckers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#958299" title="TreeCheckers.this.global.Tree">tree</a>, <a href="#958300" title="Int">mode</a>, <a href="#958301" title="TreeCheckers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">_</span>: <a href="../../../reflect/generic/Trees.scala.html#434141" title="TreeCheckers.this.global.Literal">Literal</a>     =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Unit" id="958428">x</a> <span class="keyword">if</span> <a href="#958428" title="TreeCheckers.this.global.Tree">x</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#958299" title="TreeCheckers.this.global.Tree">tree</a> =&gt; <a href="#958277" title="(t1: TreeCheckers.this.global.Tree, t2: TreeCheckers.this.global.Tree)Unit">treesDiffer</a><span class="delimiter">(</span><a href="#958299" title="TreeCheckers.this.global.Tree">tree</a>, <a href="#958428" title="TreeCheckers.this.global.Tree">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span>              =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object TreeChecker.this.precheck" id="958284">precheck</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../ast/Trees.scala.html#479168" title="TreeCheckers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree)Unit" id="958291">traverse</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958292">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="TreeCheckers.this.global.Symbol" id="958430">sym</a> = <a href="#958292" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TreeCheckers.this.global.Symbol">symbol</a>
        <span class="keyword">def</span> <a title="=&gt; TreeCheckers.this.global.Symbol" id="958431">accessed</a> = <a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509311" title="=&gt; TreeCheckers.this.global.Symbol">accessed</a>
        <span class="keyword">def</span> <a title="(msg: String)Unit" id="958432">fail</a><span class="delimiter">(</span><a title="String" id="958436">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#514205" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <a href="#958436" title="String">msg</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#514193" title="(x: AnyRef)java.lang.String">classstr</a><span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958292" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>

        <a href="#958292" title="TreeCheckers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">DefDef</span><span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435323" title="=&gt; Boolean">hasAccessorFlag</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; TreeCheckers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; TreeCheckers.this.global.Type">resultType</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Unit">_</span>: <a href="../symtab/Types.scala.html#478763" title="TreeCheckers.this.global.ConstantType">ConstantType</a>  =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span>                =&gt;
                  <a href="#958282" title="(t: TreeCheckers.this.global.Tree)Unit">checkSym</a><span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <span class="comment">/** XXX: lots of syms show up here with accessed == NoSymbol. */</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958431" title="=&gt; TreeCheckers.this.global.Symbol">accessed</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object TreeCheckers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="TreeCheckers.this.global.Symbol" id="958472">agetter</a> = <a href="#958431" title="=&gt; TreeCheckers.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#509343" title="(base: TreeCheckers.this.global.Symbol)TreeCheckers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TreeCheckers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                    <span class="keyword">val</span> <a title="TreeCheckers.this.global.Symbol" id="958473">asetter</a> = <a href="#958431" title="=&gt; TreeCheckers.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#509344" title="(base: TreeCheckers.this.global.Symbol)TreeCheckers.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TreeCheckers.this.global.Symbol">owner</a><span class="delimiter">)</span>

                    <a href="#514206" title="(cond: Boolean, msg: =&gt; Any)Unit">assertFn</a><span class="delimiter">(</span><a href="#958472" title="TreeCheckers.this.global.Symbol">agetter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#958473" title="TreeCheckers.this.global.Symbol">asetter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>,
                      <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot; is getter or setter, but accessed sym &quot;)" class="string">&quot; is getter or setter, but accessed sym &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958431" title="=&gt; TreeCheckers.this.global.Symbol">accessed</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; shows &quot;)" class="string">&quot; shows &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958472" title="TreeCheckers.this.global.Symbol">agetter</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958473" title="TreeCheckers.this.global.Symbol">asetter</a>
                    <span class="delimiter">)</span>
                  <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509174" title="=&gt; Boolean">hasGetter</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509221" title="=&gt; Boolean">isOuterField</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#514206" title="(cond: Boolean, msg: =&gt; Any)Unit">assertFn</a><span class="delimiter">(</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509343" title="(base: TreeCheckers.this.global.Symbol)TreeCheckers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TreeCheckers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object TreeCheckers.this.global.NoSymbol">NoSymbol</a>, <a href="#514196" title="(s: TreeCheckers.this.global.Symbol)java.lang.String">ownerstr</a><span class="delimiter">(</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has getter but cannot be found. &quot;)" class="string">&quot; has getter but cannot be found. &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509252" title="=&gt; List[TreeCheckers.this.global.Symbol]">ownerChain</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">Apply</span><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958507">fn</a>, <a title="List[TreeCheckers.this.global.Tree]" id="958508">args</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958508" title="List[TreeCheckers.this.global.Tree]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: TreeCheckers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#958515" title="TreeCheckers.this.global.Tree">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object TreeCheckers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#514205" title="(pos: TreeCheckers.this.global.Position, msg: Any)Unit">errorFn</a><span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TreeCheckers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;Apply arguments to &quot;)" class="string">&quot;Apply arguments to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958507" title="TreeCheckers.this.global.Tree">fn</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; contains an empty tree: &quot;)" class="string">&quot; contains an empty tree: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958508" title="List[TreeCheckers.this.global.Tree]">args</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958531">qual</a>, <a title="TreeCheckers.this.global.Name" id="958532">name</a><span class="delimiter">)</span> =&gt;
            <a href="#958282" title="(t: TreeCheckers.this.global.Tree)Unit">checkSym</a><span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#958282" title="(t: TreeCheckers.this.global.Tree)Unit">checkSym</a><span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509233" title="=&gt; Boolean">isStatic</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435325" title="=&gt; Boolean">hasModuleFlag</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443193" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#509252" title="=&gt; List[TreeCheckers.this.global.Symbol]">ownerChain</a> <a href="../../../collection/immutable/List.scala.html#49168" title="(p: TreeCheckers.this.global.Symbol =&gt; Boolean)List[TreeCheckers.this.global.Symbol]">takeWhile</a> <span class="delimiter">(</span><a href="#958545" title="TreeCheckers.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: TreeCheckers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#958558" title="TreeCheckers.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object TreeCheckers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <a href="#958432" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;tree symbol &quot;)" class="string">&quot;tree symbol &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; does not point to enclosing class; tree = &quot;)" class="string">&quot; does not point to enclosing class; tree = &quot;</span><span class="delimiter">)</span>

          <span class="comment">/** XXX: temporary while Import nodes are arriving untyped. */</span>
          <span class="keyword">case</span> <span title="Nothing">Import</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            <span title="Nothing" class="keyword">return</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TreeCheckers.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Positions.scala.html#479233" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#958292" title="TreeCheckers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object TreeCheckers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
          <a href="#958280" title="(t: TreeCheckers.this.global.Tree)Unit">noPos</a><span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TreeCheckers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="../Global.scala.html#478362" title="=&gt; TreeCheckers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a><span class="delimiter">)</span>
          <a href="#958281" title="(t: TreeCheckers.this.global.Tree)Unit">noType</a><span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441036" title="=&gt; Boolean">isDef</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#958282" title="(t: TreeCheckers.this.global.Tree)Unit">checkSym</a><span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>

          <a href="#958292" title="TreeCheckers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Unit" id="958583">x</a>: <a href="../../../reflect/generic/Trees.scala.html#434038" title="TreeCheckers.this.global.PackageDef">PackageDef</a>    =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509252" title="=&gt; List[TreeCheckers.this.global.Symbol]">ownerChain</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="../../../reflect/generic/Trees.scala.html#443193" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#958432" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot; owner chain does not contain currentOwner &quot;)" class="string">&quot; owner chain does not contain currentOwner &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../../reflect/generic/Trees.scala.html#443193" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="keyword">def</span> <a title="(s: TreeCheckers.this.global.Symbol)Boolean" id="958586">cond</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Symbol" id="958587">s</a>: <a href="../symtab/Symbols.scala.html#478659" title="TreeCheckers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#958587" title="TreeCheckers.this.global.Symbol">s</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#958587" title="TreeCheckers.this.global.Symbol">s</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#958587" title="TreeCheckers.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TreeCheckers.this.global.Symbol">owner</a>

              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TreeCheckers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/generic/Trees.scala.html#443193" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Any" id="958597">expected</a> = <a href="../../../reflect/generic/Trees.scala.html#443193" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#509252" title="=&gt; List[TreeCheckers.this.global.Symbol]">ownerChain</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71038" title="(p: TreeCheckers.this.global.Symbol =&gt; Boolean)Option[TreeCheckers.this.global.Symbol]">find</a> <span class="delimiter">(</span><a title="TreeCheckers.this.global.Symbol" id="958606">x</a> =&gt; <a href="#958586" title="(s: TreeCheckers.this.global.Symbol)Boolean">cond</a><span class="delimiter">(</span><a href="#958606" title="TreeCheckers.this.global.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#48474" title="(default: =&gt; Any)Any">getOrElse</a> <a href="#958432" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;DefTree can\'t find owner: &quot;)" class="string">&quot;DefTree can't find owner: &quot;</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TreeCheckers.this.global.Symbol">owner</a> <span title="(x$1: Any)Boolean">!=</span> <a href="#958597" title="Any">expected</a><span class="delimiter">)</span>
                  <a href="#958432" title="(msg: String)Unit">fail</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Expected owner %s (out of %s), found %s: &quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#958597" title="Any">expected</a>, <a href="../../../reflect/generic/Trees.scala.html#443193" title="=&gt; TreeCheckers.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#509252" title="=&gt; List[TreeCheckers.this.global.Symbol]">ownerChain</a>, <a href="#958430" title="TreeCheckers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TreeCheckers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#560433" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#958292" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">object</span> <a title="object TreeChecker.this.postcheck" id="958286">postcheck</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../ast/Trees.scala.html#479168" title="TreeCheckers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: TreeCheckers.this.global.Tree)Unit" id="958319">traverse</a><span class="delimiter">(</span><a title="TreeCheckers.this.global.Tree" id="958320">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TreeCheckers.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#958320" title="TreeCheckers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="Unit">EmptyTree</a> | TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <a href="#514201" title="=&gt; scala.collection.mutable.HashMap[TreeCheckers.this.global.Tree,TreeCheckers.this.global.Type]">tpeOfTree</a> <a href="../../../collection/mutable/HashMap.scala.html#73158" title="(key: TreeCheckers.this.global.Tree)Option[TreeCheckers.this.global.Type]">get</a> <a href="#958320" title="TreeCheckers.this.global.Tree">tree</a> <a href="../../../Option.scala.html#48491" title="(f: TreeCheckers.this.global.Type =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="TreeCheckers.this.global.Type" id="958642">oldtpe</a> =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#958642" title="TreeCheckers.this.global.Type">oldtpe</a> <a href="../symtab/Types.scala.html#507225" title="(that: TreeCheckers.this.global.Type)Boolean">=:=</a> <a href="#958320" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TreeCheckers.this.global.Type">tpe</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#958278" title="(tree: TreeCheckers.this.global.Tree, tp1: TreeCheckers.this.global.Type, tp2: TreeCheckers.this.global.Type)Unit">typesDiffer</a><span class="delimiter">(</span><a href="#958320" title="TreeCheckers.this.global.Tree">tree</a>, <a href="#958642" title="TreeCheckers.this.global.Type">oldtpe</a>, <a href="#958320" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TreeCheckers.this.global.Type">tpe</a><span class="delimiter">)</span>

              <a href="#958320" title="TreeCheckers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: TreeCheckers.this.global.Type)Unit">tpe</a> = <a href="#958642" title="TreeCheckers.this.global.Type">oldtpe</a>
              <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#560433" title="(tree: TreeCheckers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#958320" title="TreeCheckers.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>