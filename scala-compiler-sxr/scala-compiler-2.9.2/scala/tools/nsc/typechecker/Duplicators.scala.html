<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/Duplicators.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.tools.nsc.symtab.Flags

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>

<span class="comment">/** Duplicate trees and re-type check them, taking care to replace
 *  and create fresh symbols for new local definitions.
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Duplicators extends java.lang.Object with scala.tools.nsc.typechecker.Analyzer with ScalaObject" id="39940">Duplicators</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="Analyzer.scala.html#40906" title="scala.tools.nsc.typechecker.Analyzer">Analyzer</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="Analyzer.scala.html#507332" title="=&gt; scala.tools.nsc.Global">global</a>._

  <span class="keyword">def</span> <a title="(context: Duplicators.this.Context, tree: Duplicators.this.global.Tree)Duplicators.this.global.Tree" id="889354">retyped</a><span class="delimiter">(</span><a title="Duplicators.this.Context" id="889390">context</a>: <a href="Contexts.scala.html#507359" title="Duplicators.this.Context">Context</a>, <a title="Duplicators.this.global.Tree" id="889391">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Duplicators.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Duplicators.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
    <a href="#889358" title="()Unit">resetClassOwners</a>
    <span class="delimiter">(</span><span title="Duplicators.this.BodyDuplicator" class="keyword">new</span> <a href="#889371" title="Duplicators.this.BodyDuplicator">BodyDuplicator</a><span class="delimiter">(</span><a href="#889390" title="Duplicators.this.Context">context</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="Typers.scala.html#507768" title="(tree: Duplicators.this.global.Tree)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#889391" title="Duplicators.this.global.Tree">tree</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Retype the given tree in the given context. Use this method when retyping
   *  a method in a different class. The typer will replace references to the this of
   *  the old class with the new class, and map symbols through the given 'env'. The
   *  environment is a map from type skolems to concrete types (see SpecializedTypes).
   */</span>
  <span class="keyword">def</span> <a title="(context: Duplicators.this.Context, tree: Duplicators.this.global.Tree, oldThis: Duplicators.this.global.Symbol, newThis: Duplicators.this.global.Symbol, env: scala.collection.Map[Duplicators.this.global.Symbol,Duplicators.this.global.Type])Duplicators.this.global.Tree" id="889355">retyped</a><span class="delimiter">(</span><a title="Duplicators.this.Context" id="889379">context</a>: <a href="Contexts.scala.html#507359" title="Duplicators.this.Context">Context</a>, <a title="Duplicators.this.global.Tree" id="889380">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Duplicators.this.global.Tree">Tree</a>, <a title="Duplicators.this.global.Symbol" id="889381">oldThis</a>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a>, <a title="Duplicators.this.global.Symbol" id="889382">newThis</a>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a>, <a title="scala.collection.Map[Duplicators.this.global.Symbol,Duplicators.this.global.Type]" id="889383">env</a>: collection.<a href="../../../collection/Map.scala.html#7973" title="scala.collection.Map[Duplicators.this.global.Symbol,Duplicators.this.global.Type]">Map</a><span class="delimiter">[</span>Symbol, Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Duplicators.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#889381" title="Duplicators.this.global.Symbol">oldThis</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#889382" title="Duplicators.this.global.Symbol">newThis</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#889360" title="(x$1: Duplicators.this.global.Symbol)Unit">oldClassOwner</a> = <a href="#889381" title="Duplicators.this.global.Symbol">oldThis</a>
      <a href="#889363" title="(x$1: Duplicators.this.global.Symbol)Unit">newClassOwner</a> = <a href="#889382" title="Duplicators.this.global.Symbol">newThis</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#889358" title="()Unit">resetClassOwners</a>

    <a href="#889366" title="(x$1: Duplicators.this.global.SubstTypeMap)Unit">envSubstitution</a> = <span title="Duplicators.this.SubstSkolemsTypeMap" class="keyword">new</span> <a href="#889368" title="Duplicators.this.SubstSkolemsTypeMap">SubstSkolemsTypeMap</a><span class="delimiter">(</span><a href="#889383" title="scala.collection.Map[Duplicators.this.global.Symbol,Duplicators.this.global.Type]">env</a>.<a href="../../../collection/MapLike.scala.html#73209" title="=&gt; Iterator[Duplicators.this.global.Symbol]">keysIterator</a>.<a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[Duplicators.this.global.Symbol]">toList</a>, <a href="#889383" title="scala.collection.Map[Duplicators.this.global.Symbol,Duplicators.this.global.Type]">env</a>.<a href="../../../collection/MapLike.scala.html#73213" title="=&gt; Iterator[Duplicators.this.global.Type]">valuesIterator</a>.<a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[Duplicators.this.global.Type]">toList</a><span class="delimiter">)</span>
    <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;retyped with env: &quot;)" class="string">&quot;retyped with env: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#889383" title="scala.collection.Map[Duplicators.this.global.Symbol,Duplicators.this.global.Type]">env</a><span class="delimiter">)</span>
    <span class="delimiter">(</span><span title="Duplicators.this.BodyDuplicator" class="keyword">new</span> <a href="#889371" title="Duplicators.this.BodyDuplicator">BodyDuplicator</a><span class="delimiter">(</span><a href="#889379" title="Duplicators.this.Context">context</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="Typers.scala.html#507768" title="(tree: Duplicators.this.global.Tree)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#889380" title="Duplicators.this.global.Tree">tree</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(context: Duplicators.this.Context, tree: Duplicators.this.global.Tree, oldThis: Duplicators.this.global.Symbol, newThis: Duplicators.this.global.Symbol)Duplicators.this.global.Tree" id="889356">retypedMethod</a><span class="delimiter">(</span><a title="Duplicators.this.Context" id="926536">context</a>: <a href="Contexts.scala.html#507359" title="Duplicators.this.Context">Context</a>, <a title="Duplicators.this.global.Tree" id="926537">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Duplicators.this.global.Tree">Tree</a>, <a title="Duplicators.this.global.Symbol" id="926538">oldThis</a>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a>, <a title="Duplicators.this.global.Symbol" id="926539">newThis</a>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Duplicators.this.global.Tree">Tree</a> =
    <span class="delimiter">(</span><span title="Duplicators.this.BodyDuplicator" class="keyword">new</span> <a href="#889371" title="Duplicators.this.BodyDuplicator">BodyDuplicator</a><span class="delimiter">(</span><a href="#926536" title="Duplicators.this.Context">context</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#926487" title="(ddef: Duplicators.this.global.DefDef, oldThis: Duplicators.this.global.Symbol, newThis: Duplicators.this.global.Symbol)Duplicators.this.global.Tree">retypedMethod</a><span class="delimiter">(</span><a href="#926537" title="Duplicators.this.global.Tree">tree</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Duplicators.this.global.DefDef" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434052" title="Duplicators.this.global.DefDef">DefDef</a><span class="delimiter">]</span>, <a href="#926538" title="Duplicators.this.global.Symbol">oldThis</a>, <a href="#926539" title="Duplicators.this.global.Symbol">newThis</a><span class="delimiter">)</span>

  <span class="comment">/** Return the special typer for duplicate method bodies. */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(context: Duplicators.this.Context)Duplicators.this.Typer" id="889357">newTyper</a><span class="delimiter">(</span><a title="Duplicators.this.Context" id="926545">context</a>: <a href="Contexts.scala.html#507359" title="Duplicators.this.Context">Context</a><span class="delimiter">)</span>: <a href="Typers.scala.html#507454" title="Duplicators.this.Typer">Typer</a> =
    <span title="Duplicators.this.BodyDuplicator" class="keyword">new</span> <a href="#889371" title="Duplicators.this.BodyDuplicator">BodyDuplicator</a><span class="delimiter">(</span><a href="#926545" title="Duplicators.this.Context">context</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="889358">resetClassOwners</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <a href="#889360" title="(x$1: Duplicators.this.global.Symbol)Unit">oldClassOwner</a> = <span title="Null(null)" class="keyword">null</span>
    <a href="#889363" title="(x$1: Duplicators.this.global.Symbol)Unit">newClassOwner</a> = <span title="Null(null)" class="keyword">null</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Duplicators.this.global.Symbol" id="889360">oldClassOwner</a>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a> = _
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Duplicators.this.global.Symbol" id="889363">newClassOwner</a>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a> = _
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Duplicators.this.global.SubstTypeMap" id="889366">envSubstitution</a>: <a href="../symtab/Types.scala.html#478863" title="Duplicators.this.global.SubstTypeMap">SubstTypeMap</a> = _

  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class SubstSkolemsTypeMap extends Duplicators.this.global.SubstTypeMap with ScalaObject" id="889368">SubstSkolemsTypeMap</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="List[Duplicators.this.global.Symbol]" id="926520">from</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Duplicators.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Duplicators.this.global.Type]" id="926521">to</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Duplicators.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../symtab/Types.scala.html#478863" title="Duplicators.this.global.SubstTypeMap">SubstTypeMap</a><span class="delimiter">(</span><a href="#926520" title="List[Duplicators.this.global.Symbol]">from</a>, <a href="#926521" title="List[Duplicators.this.global.Type]">to</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym1: Duplicators.this.global.Symbol, sym2: Duplicators.this.global.Symbol)Boolean" id="926519">matches</a><span class="delimiter">(</span><a title="Duplicators.this.global.Symbol" id="926555">sym1</a>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a>, <a title="Duplicators.this.global.Symbol" id="926556">sym2</a>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#926556" title="Duplicators.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#509188" title="=&gt; Boolean">isTypeSkolem</a><span class="delimiter">)</span> <a href="#926556" title="Duplicators.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#509347" title="=&gt; Duplicators.this.global.Symbol">deSkolemize</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#926555" title="Duplicators.this.global.Symbol">sym1</a>
      <span class="keyword">else</span> <a href="#926555" title="Duplicators.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#926556" title="Duplicators.this.global.Symbol">sym2</a>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.Map[Duplicators.this.global.Symbol,Duplicators.this.global.Tree]" id="889369">invalidSyms</a>: mutable.<a href="../../../collection/mutable/Map.scala.html#14767" title="scala.collection.mutable.Map[Duplicators.this.global.Symbol,Duplicators.this.global.Tree]">Map</a><span class="delimiter">[</span>Symbol, Tree<span class="delimiter">]</span> = <a href="../symtab/SymbolTable.scala.html#478192" title="object Duplicators.this.global.perRunCaches">perRunCaches</a>.<a href="../symtab/SymbolTable.scala.html#521645" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[Duplicators.this.global.Symbol,Duplicators.this.global.Tree]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a>, <a href="../../../reflect/generic/Trees.scala.html#434028" title="Duplicators.this.global.Tree">Tree</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="comment">/** A typer that creates new symbols for all definitions in the given tree
   *  and updates references to them while re-typechecking. All types in the
   *  tree, except for TypeTrees, are erased prior to type checking. TypeTrees
   *  are fixed by substituting invalid symbols for the new ones.
   */</span>
  <span class="keyword">class</span> <a title="class BodyDuplicator extends Duplicators.this.Typer with ScalaObject" id="889371">BodyDuplicator</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Duplicators.this.Context" id="926490">context</a>: <a href="Contexts.scala.html#507359" title="Duplicators.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Typers.scala.html#507454" title="Duplicators.this.Typer">Typer</a><span class="delimiter">(</span><a href="#926490" title="Duplicators.this.Context">context</a>: <a href="Contexts.scala.html#507359" title="Duplicators.this.Context">Context</a><span class="delimiter">)</span> <span class="delimiter">{</span>

    <span class="keyword">class</span> <a title="class FixInvalidSyms extends Duplicators.this.global.TypeMap with ScalaObject" id="926482">FixInvalidSyms</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../symtab/Types.scala.html#478842" title="Duplicators.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type" id="926565">apply</a><span class="delimiter">(</span><a title="Duplicators.this.global.Type" id="926568">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="Duplicators.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Duplicators.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <a href="#926566" title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#926568" title="Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type" id="926566">mapOver</a><span class="delimiter">(</span><a title="Duplicators.this.global.Type" id="926571">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="Duplicators.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Duplicators.this.global.Type">Type</a> = <a href="#926571" title="Duplicators.this.global.Type">tpe</a> <span title="Duplicators.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Duplicators.this.global.Type">TypeRef</span><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478736" title="object Duplicators.this.global.NoPrefix">NoPrefix</a>, <a title="Duplicators.this.global.Symbol" id="926600">sym</a>, <a title="List[Duplicators.this.global.Type]" id="926601">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#926600" title="Duplicators.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509186" title="=&gt; Boolean">isTypeParameterOrSkolem</a> =&gt;
          <span class="keyword">val</span> <a title="Duplicators.this.global.Symbol" id="926602">sym1</a> = <a href="#926490" title="Duplicators.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Duplicators.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514367" title="(name: Duplicators.this.global.Name)Duplicators.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#926600" title="Duplicators.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Duplicators.this.global.Name">name</a><span class="delimiter">)</span>
<span class="comment">//          assert(sym1 ne NoSymbol, tpe)</span>
          <span title="Duplicators.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#926602" title="Duplicators.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#478667" title="object Duplicators.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#926602" title="Duplicators.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#926600" title="Duplicators.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fixing &quot;)" class="string">&quot;fixing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926600" title="Duplicators.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926602" title="Duplicators.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <a href="../symtab/Types.scala.html#478811" title="(pre: Duplicators.this.global.Type, sym: Duplicators.this.global.Symbol, args: List[Duplicators.this.global.Type])Duplicators.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478736" title="object Duplicators.this.global.NoPrefix">NoPrefix</a>, <a href="#926602" title="Duplicators.this.global.Symbol">sym1</a>, <a href="../symtab/Types.scala.html#532447" title="(args: List[Duplicators.this.global.Type], tparams: List[Duplicators.this.global.Symbol])List[Duplicators.this.global.Type]">mapOverArgs</a><span class="delimiter">(</span><a href="#926601" title="List[Duplicators.this.global.Type]">args</a>, <a href="#926602" title="Duplicators.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Duplicators.this.global.Symbol]">typeParams</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#926482" title="BodyDuplicator.this.FixInvalidSyms" class="keyword">super</a>.<a href="../symtab/Types.scala.html#532446" title="(tp: Duplicators.this.global.Type)Duplicators.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#926571" title="Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Duplicators.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="Duplicators.this.global.Type" id="926626">pre</a>, <a title="Duplicators.this.global.Symbol" id="926627">sym</a>, <a title="List[Duplicators.this.global.Type]" id="926628">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Duplicators.this.global.Symbol" id="926629">newsym</a> = <a href="#926484" title="(sym: Duplicators.this.global.Symbol)Duplicators.this.global.Symbol">updateSym</a><span class="delimiter">(</span><a href="#926627" title="Duplicators.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Duplicators.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#926629" title="Duplicators.this.global.Symbol">newsym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#926627" title="Duplicators.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fixing &quot;)" class="string">&quot;fixing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926627" title="Duplicators.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926629" title="Duplicators.this.global.Symbol">newsym</a><span class="delimiter">)</span>
            <a href="../symtab/Types.scala.html#478811" title="(pre: Duplicators.this.global.Type, sym: Duplicators.this.global.Symbol, args: List[Duplicators.this.global.Type])Duplicators.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#926566" title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#926626" title="Duplicators.this.global.Type">pre</a><span class="delimiter">)</span>, <a href="#926629" title="Duplicators.this.global.Symbol">newsym</a>, <a href="../symtab/Types.scala.html#532447" title="(args: List[Duplicators.this.global.Type], tparams: List[Duplicators.this.global.Symbol])List[Duplicators.this.global.Type]">mapOverArgs</a><span class="delimiter">(</span><a href="#926628" title="List[Duplicators.this.global.Type]">args</a>, <a href="#926629" title="Duplicators.this.global.Symbol">newsym</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Duplicators.this.global.Symbol]">typeParams</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#926482" title="BodyDuplicator.this.FixInvalidSyms" class="keyword">super</a>.<a href="../symtab/Types.scala.html#532446" title="(tp: Duplicators.this.global.Type)Duplicators.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#926571" title="Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Duplicators.this.global.Type">SingleType</span><span class="delimiter">(</span><a title="Duplicators.this.global.Type" id="926663">pre</a>, <a title="Duplicators.this.global.Symbol" id="926664">sym</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Duplicators.this.global.Symbol" id="926665">sym1</a> = <a href="#926484" title="(sym: Duplicators.this.global.Symbol)Duplicators.this.global.Symbol">updateSym</a><span class="delimiter">(</span><a href="#926664" title="Duplicators.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Duplicators.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#926665" title="Duplicators.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#926664" title="Duplicators.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fixing &quot;)" class="string">&quot;fixing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926664" title="Duplicators.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926665" title="Duplicators.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <a href="../symtab/Types.scala.html#478807" title="(pre: Duplicators.this.global.Type, sym: Duplicators.this.global.Symbol)Duplicators.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#926566" title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#926663" title="Duplicators.this.global.Type">pre</a><span class="delimiter">)</span>, <a href="#926665" title="Duplicators.this.global.Symbol">sym1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#926482" title="BodyDuplicator.this.FixInvalidSyms" class="keyword">super</a>.<a href="../symtab/Types.scala.html#532446" title="(tp: Duplicators.this.global.Type)Duplicators.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#926571" title="Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Duplicators.this.global.Type">ThisType</span><span class="delimiter">(</span><a title="Duplicators.this.global.Symbol" id="926698">sym</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Duplicators.this.global.Symbol" id="926699">sym1</a> = <a href="#926484" title="(sym: Duplicators.this.global.Symbol)Duplicators.this.global.Symbol">updateSym</a><span class="delimiter">(</span><a href="#926698" title="Duplicators.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Duplicators.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#926699" title="Duplicators.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#926698" title="Duplicators.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fixing &quot;)" class="string">&quot;fixing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926698" title="Duplicators.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; -&gt; &quot;)" class="string">&quot; -&gt; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926699" title="Duplicators.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <a href="../symtab/Types.scala.html#546333" title="(sym: Duplicators.this.global.Symbol)Duplicators.this.global.Type">ThisType</a><span class="delimiter">(</span><a href="#926699" title="Duplicators.this.global.Symbol">sym1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#926482" title="BodyDuplicator.this.FixInvalidSyms" class="keyword">super</a>.<a href="../symtab/Types.scala.html#532446" title="(tp: Duplicators.this.global.Type)Duplicators.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#926571" title="Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span>


        <span class="keyword">case</span> <span title="Duplicators.this.global.Type">_</span> =&gt;
          <a href="#926482" title="BodyDuplicator.this.FixInvalidSyms" class="keyword">super</a>.<a href="../symtab/Types.scala.html#532446" title="(tp: Duplicators.this.global.Type)Duplicators.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#926571" title="Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Fix the given type by replacing invalid symbols with the new ones. */</span>
    <span class="keyword">def</span> <a title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type" id="926483">fixType</a><span class="delimiter">(</span><a title="Duplicators.this.global.Type" id="926730">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="Duplicators.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Duplicators.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Duplicators.this.global.Type" id="926732">tpe1</a> = <a href="../symtab/Types.scala.html#565140" title="(tp0: Duplicators.this.global.Type)Duplicators.this.global.Type">envSubstitution</a><span class="delimiter">(</span><a href="#926730" title="Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Duplicators.this.global.Type" id="926733">tpe2</a>: <a href="../symtab/Types.scala.html#478720" title="Duplicators.this.global.Type">Type</a> = <span class="delimiter">(</span><a href="#926565" title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type" class="keyword">new</a> <a href="#926482" title="BodyDuplicator.this.FixInvalidSyms">FixInvalidSyms</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#926732" title="Duplicators.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Duplicators.this.global.Type" id="926734">tpe3</a> = <span title="Duplicators.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#889363" title="=&gt; Duplicators.this.global.Symbol">newClassOwner</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#926733" title="Duplicators.this.global.Type">tpe2</a>.<a href="../symtab/Types.scala.html#507205" title="(pre: Duplicators.this.global.Type, clazz: Duplicators.this.global.Symbol)Duplicators.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#889363" title="=&gt; Duplicators.this.global.Symbol">newClassOwner</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Duplicators.this.global.Type">thisType</a>, <a href="#889360" title="=&gt; Duplicators.this.global.Symbol">oldClassOwner</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#926733" title="Duplicators.this.global.Type">tpe2</a>
      <a href="#926734" title="Duplicators.this.global.Type">tpe3</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Return the new symbol corresponding to `sym'. */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Duplicators.this.global.Symbol)Duplicators.this.global.Symbol" id="926484">updateSym</a><span class="delimiter">(</span><a title="Duplicators.this.global.Symbol" id="926630">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a> =
      <span title="Duplicators.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#889369" title="=&gt; scala.collection.mutable.Map[Duplicators.this.global.Symbol,Duplicators.this.global.Tree]">invalidSyms</a>.<a href="../../../collection/MapLike.scala.html#73206" title="(key: Duplicators.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#926630" title="Duplicators.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../../../collection/MapLike.scala.html#73204" title="(key: Duplicators.this.global.Symbol)Duplicators.this.global.Tree">invalidSyms</a><span class="delimiter">(</span><a href="#926630" title="Duplicators.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a>
      <span class="keyword">else</span>
        <a href="#926630" title="Duplicators.this.global.Symbol">sym</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Duplicators.this.global.Tree)Unit" id="926485">invalidate</a><span class="delimiter">(</span><a title="Duplicators.this.global.Tree" id="926781">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Duplicators.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#926781" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441036" title="=&gt; Boolean">isDef</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#926781" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Duplicators.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;invalid &quot;)" class="string">&quot;invalid &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926781" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a><span class="delimiter">)</span>
        <a href="../../../collection/mutable/MapLike.scala.html#73272" title="(key: Duplicators.this.global.Symbol, value: Duplicators.this.global.Tree)Unit">invalidSyms</a><span class="delimiter">(</span><a href="#926781" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a><span class="delimiter">)</span> = <a href="#926781" title="Duplicators.this.global.Tree">tree</a>

        <a href="#926781" title="Duplicators.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Unit" id="926790">ldef</a> @ LabelDef<span class="delimiter">(</span><a title="Duplicators.this.global.TermName" id="926799">name</a>, <a title="List[Duplicators.this.global.Ident]" id="926800">params</a>, <a title="Duplicators.this.global.Tree" id="926801">rhs</a><span class="delimiter">)</span> =&gt;
            <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;LabelDef &quot;)" class="string">&quot;LabelDef &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926799" title="Duplicators.this.global.TermName">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; sym.info: &quot;)" class="string">&quot; sym.info: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926790" title="Duplicators.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Duplicators.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Duplicators.this.global.Type">info</a><span class="delimiter">)</span>
            <a href="../../../collection/mutable/MapLike.scala.html#73272" title="(key: Duplicators.this.global.Symbol, value: Duplicators.this.global.Tree)Unit">invalidSyms</a><span class="delimiter">(</span><a href="#926790" title="Duplicators.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Duplicators.this.global.Symbol">symbol</a><span class="delimiter">)</span> = <a href="#926790" title="Duplicators.this.global.LabelDef">ldef</a>
          <span class="comment">//          breakIf(true, this, ldef, context)</span>
            <span class="keyword">val</span> <a title="Duplicators.this.global.Symbol" id="926802">newsym</a> = <a href="#926790" title="Duplicators.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Duplicators.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509303" title="(owner: Duplicators.this.global.Symbol)Duplicators.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#926490" title="Duplicators.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Duplicators.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="#926802" title="Duplicators.this.global.Symbol">newsym</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Duplicators.this.global.Type)newsym.type">setInfo</a><span class="delimiter">(</span><a href="#926483" title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type">fixType</a><span class="delimiter">(</span><a href="#926790" title="Duplicators.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Duplicators.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Duplicators.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#926790" title="Duplicators.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441601" title="(x$1: Duplicators.this.global.Symbol)Unit">symbol</a> = <a href="#926802" title="Duplicators.this.global.Symbol">newsym</a>
            <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;newsym: &quot;)" class="string">&quot;newsym: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926802" title="Duplicators.this.global.Symbol">newsym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; info: &quot;)" class="string">&quot; info: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926802" title="Duplicators.this.global.Symbol">newsym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Duplicators.this.global.Type">info</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Unit">DefDef</span><span class="delimiter">(</span>_, <a title="Duplicators.this.global.TermName" id="926833">name</a>, <a title="List[Duplicators.this.global.TypeDef]" id="926834">tparams</a>, <a title="List[List[Duplicators.this.global.ValDef]]" id="926835">vparamss</a>, _, <a title="Duplicators.this.global.Tree" id="926836">rhs</a><span class="delimiter">)</span> =&gt;
            <span class="comment">// invalidate parameters</span>
            <a href="#926486" title="(stats: List[Duplicators.this.global.Tree])Unit">invalidate</a><span class="delimiter">(</span><a href="#926834" title="List[Duplicators.this.global.TypeDef]">tparams</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[Duplicators.this.global.MemberDef with Serializable])List[Duplicators.this.global.MemberDef with Serializable]">:::</a> <a href="#926835" title="List[List[Duplicators.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53804" title="(implicit asTraversable: List[Duplicators.this.global.ValDef] =&gt; scala.collection.TraversableOnce[Duplicators.this.global.ValDef])List[Duplicators.this.global.ValDef]">flatten</a><span class="delimiter">)</span>
            <a href="#926781" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: Duplicators.this.global.Symbol)Unit">symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Duplicators.this.global.NoSymbol">NoSymbol</a>

          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <a href="#926781" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: Duplicators.this.global.Symbol)Unit">symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Duplicators.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stats: List[Duplicators.this.global.Tree])Unit" id="926486">invalidate</a><span class="delimiter">(</span><a title="List[Duplicators.this.global.Tree]" id="926841">stats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Duplicators.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#926841" title="List[Duplicators.this.global.Tree]">stats</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Duplicators.this.global.Tree =&gt; Unit)Unit">foreach</a> <a href="#926485" title="(tree: Duplicators.this.global.Tree)Unit">invalidate</a>
    <span class="delimiter">}</span>


    <span class="keyword">def</span> <a title="(ddef: Duplicators.this.global.DefDef, oldThis: Duplicators.this.global.Symbol, newThis: Duplicators.this.global.Symbol)Duplicators.this.global.Tree" id="926487">retypedMethod</a><span class="delimiter">(</span><a title="Duplicators.this.global.DefDef" id="926541">ddef</a>: <a href="../../../reflect/generic/Trees.scala.html#434052" title="Duplicators.this.global.DefDef">DefDef</a>, <a title="Duplicators.this.global.Symbol" id="926542">oldThis</a>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a>, <a title="Duplicators.this.global.Symbol" id="926543">newThis</a>: <a href="../symtab/Symbols.scala.html#478659" title="Duplicators.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Duplicators.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="#889360" title="(x$1: Duplicators.this.global.Symbol)Unit">oldClassOwner</a> = <a href="#926542" title="Duplicators.this.global.Symbol">oldThis</a>
      <a href="#889363" title="(x$1: Duplicators.this.global.Symbol)Unit">newClassOwner</a> = <a href="#926543" title="Duplicators.this.global.Symbol">newThis</a>
      <a href="#926486" title="(stats: List[Duplicators.this.global.Tree])Unit">invalidate</a><span class="delimiter">(</span><a href="#926541" title="Duplicators.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441795" title="=&gt; List[Duplicators.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Duplicators.this.global.ValDef" id="927345">vdef</a> &lt;- <a href="#926541" title="Duplicators.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441797" title="=&gt; List[List[Duplicators.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Duplicators.this.global.ValDef =&gt; Unit)Unit">flatten</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#926485" title="(tree: Duplicators.this.global.Tree)Unit">invalidate</a><span class="delimiter">(</span><a href="#927345" title="Duplicators.this.global.ValDef">vdef</a><span class="delimiter">)</span>
        <a href="#927345" title="Duplicators.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
      <span class="delimiter">}</span>
      <a href="#926541" title="Duplicators.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441601" title="(x$1: Duplicators.this.global.Symbol)Unit">symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Duplicators.this.global.NoSymbol">NoSymbol</a>
      <a href="Typers.scala.html#507727" title="(txt: Duplicators.this.Context, tree: Duplicators.this.global.Tree)Duplicators.this.Context">enterSym</a><span class="delimiter">(</span><a href="#926490" title="Duplicators.this.Context">context</a>, <a href="#926541" title="Duplicators.this.global.DefDef">ddef</a><span class="delimiter">)</span>
      <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;remapping this of &quot;)" class="string">&quot;remapping this of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#889360" title="=&gt; Duplicators.this.global.Symbol">oldClassOwner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#889363" title="=&gt; Duplicators.this.global.Symbol">newClassOwner</a><span class="delimiter">)</span>
      <a href="Typers.scala.html#507768" title="(tree: Duplicators.this.global.Tree)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#926541" title="Duplicators.this.global.DefDef">ddef</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Duplicators.this.global.Type)Any" id="926488">inspectTpe</a><span class="delimiter">(</span><a title="Duplicators.this.global.Type" id="927371">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="Duplicators.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#927371" title="Duplicators.this.global.Type">tpe</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="java.lang.String">MethodType</span><span class="delimiter">(</span>_, <a title="Duplicators.this.global.Type" id="927376">res</a><span class="delimiter">)</span> =&gt;
          <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">res</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#927376" title="Duplicators.this.global.Type">res</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Duplicators.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; Duplicators.this.global.Type">hi</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#927376" title="Duplicators.this.global.Type">res</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Duplicators.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; Duplicators.this.global.Type">hi</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="java.lang.String">TypeRef</span><span class="delimiter">(</span>_, _, <a title="List[Duplicators.this.global.Type]" id="927384">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#927384" title="List[Duplicators.this.global.Type]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> =&gt; <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)Duplicators.this.global.Type">args</a><a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</a><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)Duplicators.this.global.Type">args</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Duplicators.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; Duplicators.this.global.Type">hi</a>
            <span class="keyword">case</span> <span title="java.lang.String">_</span> =&gt; <span title="java.lang.String(&quot;non-tref: &quot;)" class="string">&quot;non-tref: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#927376" title="Duplicators.this.global.Type">res</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Duplicators.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; Duplicators.this.global.Type">hi</a>.<span title="()java.lang.Class[_]">getClass</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Special typer method for re-type checking trees. It expects a typed tree.
     *  Returns a typed tree that has fresh symbols for all definitions in the original tree.
     *
     *  Each definition tree is visited and its symbol added to the invalidSyms map (except LabelDefs),
     *  then cleared (forcing the namer to create fresh symbols).
     *  All invalid symbols found in trees are cleared (except for LabelDefs), forcing the
     *  typechecker to look for fresh ones in the context.
     *
     *  Type trees are typed by substituting old symbols for new ones (@see fixType).
     *
     *  LabelDefs are not typable from trees alone, unless they have the type ()Unit. Therefore,
     *  their symbols are recreated ad-hoc and their types are fixed inline, instead of letting the
     *  namer/typer handle them, or Idents that refer to them.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree" id="926489">typed</a><span class="delimiter">(</span><a title="Duplicators.this.global.Tree" id="926492">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Duplicators.this.global.Tree">Tree</a>, <a title="Int" id="926493">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Duplicators.this.global.Type" id="926494">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Duplicators.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Duplicators.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;typing &quot;)" class="string">&quot;typing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926492" title="Duplicators.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441035" title="=&gt; Boolean">hasSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Duplicators.this.global.NoSymbol">NoSymbol</a>
          <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435331" title="=&gt; Boolean">isLabel</a>  <span class="comment">// labels cannot be retyped by the type checker as LabelDef has no ValDef/return type trees</span>
          <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#889369" title="=&gt; scala.collection.mutable.Map[Duplicators.this.global.Symbol,Duplicators.this.global.Tree]">invalidSyms</a>.<a href="../../../collection/MapLike.scala.html#73206" title="(key: Duplicators.this.global.Symbol)Boolean">isDefinedAt</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;removed symbol &quot;)" class="string">&quot;removed symbol &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a><span class="delimiter">)</span>
        <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: Duplicators.this.global.Symbol)Unit">symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Duplicators.this.global.NoSymbol">NoSymbol</a>
      <span class="delimiter">}</span>

      <a href="#926492" title="Duplicators.this.global.Tree">tree</a> <span title="Duplicators.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Duplicators.this.global.TypeTree" id="927432">ttree</a> @ TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fixing tpe: &quot;)" class="string">&quot;fixing tpe: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Duplicators.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with sym: &quot;)" class="string">&quot; with sym: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Duplicators.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Duplicators.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
          <a href="#927432" title="Duplicators.this.global.TypeTree">ttree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <a href="#926483" title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type">fixType</a><span class="delimiter">(</span><a href="#927432" title="Duplicators.this.global.TypeTree">ttree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="#927432" title="Duplicators.this.global.TypeTree">ttree</a>
        <span class="keyword">case</span> <span title="Duplicators.this.global.Tree">Block</span><span class="delimiter">(</span><a title="List[Duplicators.this.global.Tree]" id="927442">stats</a>, <a title="Duplicators.this.global.Tree" id="927443">res</a><span class="delimiter">)</span> =&gt;
          <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;invalidating block&quot;)" class="string">&quot;invalidating block&quot;</span><span class="delimiter">)</span>
          <a href="#926486" title="(stats: List[Duplicators.this.global.Tree])Unit">invalidate</a><span class="delimiter">(</span><a href="#927442" title="List[Duplicators.this.global.Tree]">stats</a><span class="delimiter">)</span>
          <a href="#926485" title="(tree: Duplicators.this.global.Tree)Unit">invalidate</a><span class="delimiter">(</span><a href="#927443" title="Duplicators.this.global.Tree">res</a><span class="delimiter">)</span>
          <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Duplicators.this.global.Tree">ClassDef</span><span class="delimiter">(</span>_, _, _, <a title="Duplicators.this.global.Template" id="927480">tmpl</a> @ Template<span class="delimiter">(</span><a title="List[Duplicators.this.global.Tree]" id="927493">parents</a>, _, <a title="List[Duplicators.this.global.Tree]" id="927494">stats</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
<span class="comment">//          log(&quot;invalidating classdef &quot; + tree.tpe)</span>
          <a href="#927480" title="Duplicators.this.global.Template">tmpl</a>.<a href="../../../reflect/generic/Trees.scala.html#441601" title="(x$1: Duplicators.this.global.Symbol)Unit">symbol</a> = <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509129" title="(pos: Duplicators.this.global.Position)Duplicators.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Duplicators.this.global.Position">pos</a><span class="delimiter">)</span>
          <a href="#926486" title="(stats: List[Duplicators.this.global.Tree])Unit">invalidate</a><span class="delimiter">(</span><a href="#927494" title="List[Duplicators.this.global.Tree]">stats</a><span class="delimiter">)</span>
          <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Duplicators.this.global.Tree" id="927513">ddef</a> @ DefDef<span class="delimiter">(</span>_, _, _, _, <a title="Duplicators.this.global.Tree" id="927522">tpt</a>, <a title="Duplicators.this.global.Tree" id="927523">rhs</a><span class="delimiter">)</span> =&gt;
          <a href="#927513" title="Duplicators.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441799" title="=&gt; Duplicators.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <a href="#926483" title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type">fixType</a><span class="delimiter">(</span><a href="#927513" title="Duplicators.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441799" title="=&gt; Duplicators.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="#927513" title="Duplicators.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#927513" title="Duplicators.this.global.DefDef">ddef</a>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Duplicators.this.global.Tree" id="927535">vdef</a> @ ValDef<span class="delimiter">(</span>_, _, <a title="Duplicators.this.global.Tree" id="927545">tpt</a>, <a title="Duplicators.this.global.Tree" id="927546">rhs</a><span class="delimiter">)</span> =&gt;
<span class="comment">//          log(&quot;vdef fixing tpe: &quot; + tree.tpe + &quot; with sym: &quot; + tree.tpe.typeSymbol + &quot; and &quot; + invalidSyms)</span>
          <a href="#927535" title="Duplicators.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Duplicators.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <a href="#926483" title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type">fixType</a><span class="delimiter">(</span><a href="#927535" title="Duplicators.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Duplicators.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="#927535" title="Duplicators.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#927535" title="Duplicators.this.global.ValDef">vdef</a>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Duplicators.this.global.Tree" id="927558">ldef</a> @ LabelDef<span class="delimiter">(</span><a title="Duplicators.this.global.TermName" id="927564">name</a>, <a title="List[Duplicators.this.global.Ident]" id="927565">params</a>, <a title="Duplicators.this.global.Tree" id="927566">rhs</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// log(&quot;label def: &quot; + ldef)</span>
          <a href="#927558" title="Duplicators.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <span class="keyword">val</span> <a title="List[Duplicators.this.global.Ident]" id="927567">params1</a> = <a href="#927565" title="List[Duplicators.this.global.Ident]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Duplicators.this.global.Ident =&gt; Duplicators.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Duplicators.this.global.Ident],Duplicators.this.global.Ident,List[Duplicators.this.global.Ident]])List[Duplicators.this.global.Ident]">map</a> <span class="delimiter">{</span> <a title="Duplicators.this.global.Ident" id="927585">p</a> =&gt; <a href="../ast/Trees.scala.html#479144" title="(sym: Duplicators.this.global.Symbol)Duplicators.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#926484" title="(sym: Duplicators.this.global.Symbol)Duplicators.this.global.Symbol">updateSym</a><span class="delimiter">(</span><a href="#927585" title="Duplicators.this.global.Ident">p</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Duplicators.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
          <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479117" title="=&gt; Duplicators.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560287" title="(tree: Duplicators.this.global.Tree, name: Duplicators.this.global.Name, params: List[Duplicators.this.global.Ident], rhs: Duplicators.this.global.Tree)Duplicators.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>, <a href="#927564" title="Duplicators.this.global.TermName">name</a>, <a href="#927567" title="List[Duplicators.this.global.Ident]">params1</a>, <a href="#927566" title="Duplicators.this.global.Tree">rhs</a><span class="delimiter">)</span>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Duplicators.this.global.Tree">Bind</span><span class="delimiter">(</span><a title="Duplicators.this.global.Name" id="927648">name</a>, _<span class="delimiter">)</span> =&gt;
          <span class="comment">// log(&quot;bind: &quot; + tree)</span>
          <a href="#926485" title="(tree: Duplicators.this.global.Tree)Unit">invalidate</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a><span class="delimiter">)</span>
          <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Duplicators.this.global.Tree">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435331" title="=&gt; Boolean">isLabel</a> =&gt;
          <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Ident to labeldef &quot;)" class="string">&quot;Ident to labeldef &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926492" title="Duplicators.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; switched to &quot;)" class="string">&quot; switched to &quot;</span><span class="delimiter">)</span>
          <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: Duplicators.this.global.Symbol)Unit">symbol</a> = <a href="#926484" title="(sym: Duplicators.this.global.Symbol)Duplicators.this.global.Symbol">updateSym</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a><span class="delimiter">)</span>
          <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Duplicators.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Duplicators.this.global.This" id="927684">th</a> @ This<span class="delimiter">(</span>_<span class="delimiter">)</span>, <a title="Duplicators.this.global.Name" id="927689">sel</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#889360" title="=&gt; Duplicators.this.global.Symbol">oldClassOwner</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#927684" title="Duplicators.this.global.This">th</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Duplicators.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#889360" title="=&gt; Duplicators.this.global.Symbol">oldClassOwner</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// log(&quot;selection on this, no type ascription required&quot;)</span>
          <span class="comment">// we use the symbol name instead of the tree name because the symbol may have been</span>
          <span class="comment">// name mangled, rendering the tree name obsolete</span>
          <span class="comment">// log(tree)</span>
          <span class="keyword">val</span> <a title="Duplicators.this.global.Tree" id="927695">t</a> = <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Duplicators.this.global.Position)(tree: Duplicators.this.global.Select)Duplicators.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Duplicators.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Duplicators.this.global.Tree, name: Duplicators.this.global.Name)Duplicators.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479142" title="(sym: Duplicators.this.global.Symbol)Duplicators.this.global.Tree">This</a><span class="delimiter">(</span><a href="#889363" title="=&gt; Duplicators.this.global.Symbol">newClassOwner</a><span class="delimiter">)</span>, <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Duplicators.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="comment">// log(&quot;typed to: &quot; + t + &quot;; tpe = &quot; + t.tpe + &quot;; &quot; + inspectTpe(t.tpe))</span>
          <a href="#927695" title="Duplicators.this.global.Tree">t</a>

        <span class="keyword">case</span> <span title="Duplicators.this.global.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#889360" title="=&gt; Duplicators.this.global.Symbol">oldClassOwner</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#889360" title="=&gt; Duplicators.this.global.Symbol">oldClassOwner</a><span class="delimiter">)</span> =&gt;
<span class="comment">//          val tree1 = Typed(This(newClassOwner), TypeTree(fixType(tree.tpe.widen)))</span>
          <span class="comment">// log(&quot;selection on this: &quot; + tree)</span>
          <span class="keyword">val</span> <a title="Duplicators.this.global.Tree" id="927754">tree1</a> = <a href="../ast/Trees.scala.html#479142" title="(sym: Duplicators.this.global.Symbol)Duplicators.this.global.Tree">This</a><span class="delimiter">(</span><a href="#889363" title="=&gt; Duplicators.this.global.Symbol">newClassOwner</a><span class="delimiter">)</span>
          <span class="comment">// log(&quot;tree1: &quot; + tree1)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;mapped &quot;)" class="string">&quot;mapped &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#926492" title="Duplicators.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#927754" title="Duplicators.this.global.Tree">tree1</a><span class="delimiter">)</span>
          <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Duplicators.this.global.Position)(tree: Duplicators.this.global.Tree)Duplicators.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Duplicators.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#927754" title="Duplicators.this.global.Tree">tree1</a><span class="delimiter">)</span>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Duplicators.this.global.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <span class="comment">// log(&quot;selection on this, plain: &quot; + tree)</span>
          <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: Duplicators.this.global.Symbol)Unit">symbol</a> = <a href="#926484" title="(sym: Duplicators.this.global.Symbol)Duplicators.this.global.Symbol">updateSym</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a><span class="delimiter">)</span>
          <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <span class="keyword">val</span> <a title="Duplicators.this.global.Tree" id="927786">tree1</a> = <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="comment">// log(&quot;plain this typed to: &quot; + tree1)</span>
          <a href="#927786" title="Duplicators.this.global.Tree">tree1</a>
<span class="comment">/* no longer needed, because Super now contains a This(...)
        case Super(qual, mix) if (oldClassOwner ne null) &amp;&amp; (tree.symbol == oldClassOwner) =&gt;
          val tree1 = Super(qual, mix)
          log(&quot;changed &quot; + tree + &quot; to &quot; + tree1)
          super.typed(atPos(tree.pos)(tree1))
*/</span>
        <span class="keyword">case</span> <span title="Duplicators.this.global.Tree">Match</span><span class="delimiter">(</span><a title="Duplicators.this.global.Tree" id="927798">scrut</a>, <a title="List[Duplicators.this.global.CaseDef]" id="927799">cases</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Duplicators.this.global.Tree" id="927800">scrut1</a> = <a href="#926489" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#927798" title="Duplicators.this.global.Tree">scrut</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Types.scala.html#478729" title="object Duplicators.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Duplicators.this.global.Type" id="927801">scrutTpe</a> = <a href="#927800" title="Duplicators.this.global.Tree">scrut1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Duplicators.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Duplicators.this.global.Type">widen</a>
          <span class="keyword">val</span> <a title="List[Duplicators.this.global.CaseDef]" id="927802">cases1</a> = <span title="List[Duplicators.this.global.CaseDef]" class="keyword">if</span> <span class="delimiter">(</span><a href="#927801" title="Duplicators.this.global.Type">scrutTpe</a>.<a href="../symtab/Types.scala.html#507221" title="=&gt; Boolean">isFinalType</a><span class="delimiter">)</span> <a href="#927799" title="List[Duplicators.this.global.CaseDef]">cases</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Duplicators.this.global.CaseDef =&gt; Boolean)List[Duplicators.this.global.CaseDef]">filter</a> <a href="#927820" title="Boolean" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Boolean">CaseDef</span><span class="delimiter">(</span>Bind<span class="delimiter">(</span>_, <a title="Duplicators.this.global.Typed" id="927832">pat</a> @ Typed<span class="delimiter">(</span>_, <a title="Duplicators.this.global.Tree" id="927835">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Duplicators.this.global.EmptyTree">EmptyTree</a>, <a title="Duplicators.this.global.Tree" id="927836">body</a><span class="delimiter">)</span> =&gt;
              <span class="comment">// the typed pattern is not incompatible with the scrutinee type</span>
              <a href="#927801" title="Duplicators.this.global.Type">scrutTpe</a>.<a href="../symtab/Types.scala.html#507222" title="(that: Duplicators.this.global.Type)Boolean">matchesPattern</a><span class="delimiter">(</span><a href="#926483" title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type">fixType</a><span class="delimiter">(</span><a href="#927835" title="Duplicators.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Boolean">CaseDef</span><span class="delimiter">(</span>Typed<span class="delimiter">(</span>_, <a title="Duplicators.this.global.Tree" id="927845">tpt</a><span class="delimiter">)</span>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Duplicators.this.global.EmptyTree">EmptyTree</a>, <a title="Duplicators.this.global.Tree" id="927846">body</a><span class="delimiter">)</span> =&gt;
              <span class="comment">// the typed pattern is not incompatible with the scrutinee type</span>
              <a href="#927801" title="Duplicators.this.global.Type">scrutTpe</a>.<a href="../symtab/Types.scala.html#507222" title="(that: Duplicators.this.global.Type)Boolean">matchesPattern</a><span class="delimiter">(</span><a href="#926483" title="(tpe: Duplicators.this.global.Type)Duplicators.this.global.Type">fixType</a><span class="delimiter">(</span><a href="#927845" title="Duplicators.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Duplicators.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#927799" title="List[Duplicators.this.global.CaseDef]">cases</a>

          <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Duplicators.this.global.Position)(tree: Duplicators.this.global.Match)Duplicators.this.global.Match">atPos</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Duplicators.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443673" title="(selector: Duplicators.this.global.Tree, cases: List[Duplicators.this.global.CaseDef])Duplicators.this.global.Match">Match</a><span class="delimiter">(</span><a href="#927798" title="Duplicators.this.global.Tree">scrut</a>, <a href="#927802" title="List[Duplicators.this.global.CaseDef]">cases1</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="Duplicators.this.global.Tree">EmptyTree</a> =&gt;
          <span class="comment">// no need to do anything, in particular, don't set the type to null, EmptyTree.tpe_= asserts</span>
          <a href="#926492" title="Duplicators.this.global.Tree">tree</a>

        <span class="keyword">case</span> <span title="Duplicators.this.global.Tree">_</span> =&gt;
          <span class="comment">// log(&quot;default: &quot; + tree)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441035" title="=&gt; Boolean">hasSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Duplicators.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Duplicators.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Duplicators.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#479030" title="object Duplicators.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#507921" title="=&gt; Duplicators.this.global.Symbol">AnyClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: Duplicators.this.global.Symbol)Unit">symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Duplicators.this.global.NoSymbol">NoSymbol</a> <span class="comment">// maybe we can find a more specific member in a subclass of Any (see AnyVal members, like ==)</span>
          <span class="delimiter">}</span>
          <a href="#926492" title="Duplicators.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Duplicators.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="#889371" title="Duplicators.this.BodyDuplicator" class="keyword">super</a>.<a href="Typers.scala.html#507765" title="(tree: Duplicators.this.global.Tree, mode: Int, pt: Duplicators.this.global.Type)Duplicators.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#926492" title="Duplicators.this.global.Tree">tree</a>, <a href="#926493" title="Int">mode</a>, <a href="#926494" title="Duplicators.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>