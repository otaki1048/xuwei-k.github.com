<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/TypeDiagnostics.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Paul Phillips
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.mutable
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> scala.util.control.ControlThrowable
<span class="keyword">import</span> scala.util.control.<a href="../../../util/control/Exception.scala.html#44519" title="object scala.util.control.Exception">Exception</a>.ultimately
<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> <a href="../../../PartialFunction.scala.html#336" title="object PartialFunction">PartialFunction</a>._

<span class="comment">/** An interface to enable higher configurability of diagnostic messages
 *  regarding type errors.  This is barely a beginning as error messages are
 *  distributed far and wide across the codebase.  The plan is to partition
 *  error messages into some broad groups and provide some mechanism for
 *  being more or less verbose on a selective basis.  Possible groups include
 *  such examples as
 *
 *    arity errors
 *    kind errors
 *    variance errors
 *    ambiguity errors
 *    volatility/stability errors
 *    implementation restrictions
 *
 *  And more, and there is plenty of overlap, so it'll be a process.
 *
 *  @author Paul Phillips
 *  @version 1.0
 */</span>
<span class="keyword">trait</span> <a title="trait TypeDiagnostics extends java.lang.Object with ScalaObject" id="41203">TypeDiagnostics</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#507332" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#479030" title="object TypeDiagnostics.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="Analyzer.scala.html#507332" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#478336" title="object TypeDiagnostics.this.global.typer">typer</a>.infer

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; TypeDiagnostics.this.global.CompilationUnit" id="507613">currentUnit</a> = <a href="../Global.scala.html#478362" title="=&gt; TypeDiagnostics.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482498" title="=&gt; TypeDiagnostics.this.global.CompilationUnit">currentUnit</a>

  <span class="comment">/** It can be quite difficult to know which of the many functions called &quot;error&quot;
   *  is being called at any given point in the compiler.  To alleviate this I am
   *  renaming such functions inside this trait based on where it originated.
   */</span>
  <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit" id="507614">inferError</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="958658">pos</a>: <a href="../util/Position.scala.html#42664" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="String" id="958659">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="Typers.scala.html#507666" title="=&gt; TypeDiagnostics.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#507799" title="(pos: TypeDiagnostics.this.global.analyzer.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#958658" title="TypeDiagnostics.this.global.Position">pos</a>, <a href="#958659" title="String">msg</a><span class="delimiter">)</span>

  <span class="comment">/** The common situation of making sure nothing is erroneous could be
   *  nicer if Symbols, Types, and Trees all implemented some common interface
   *  in which isErroneous and similar would be placed.
   */</span>
  <span class="keyword">def</span> <a title="(tps: TypeDiagnostics.this.global.Type*)Boolean" id="507615">noErroneousTypes</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type*" id="958664">tps</a>: <span title="TypeDiagnostics.this.global.Type*">Type</span>*<span class="delimiter">)</span>    = <a href="#958664" title="TypeDiagnostics.this.global.Type*">tps</a> <a href="../../../collection/IterableLike.scala.html#53859" title="(p: TypeDiagnostics.this.global.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="958672">x</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#958672" title="TypeDiagnostics.this.global.Type">x</a>.<a href="../symtab/Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(syms: TypeDiagnostics.this.global.Symbol*)Boolean" id="507616">noErroneousSyms</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol*" id="958673">syms</a>: <span title="TypeDiagnostics.this.global.Symbol*">Symbol</span>*<span class="delimiter">)</span>  = <a href="#958673" title="TypeDiagnostics.this.global.Symbol*">syms</a> <a href="../../../collection/IterableLike.scala.html#53859" title="(p: TypeDiagnostics.this.global.Symbol =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="958681">x</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#958681" title="TypeDiagnostics.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#509184" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(trees: TypeDiagnostics.this.global.Tree*)Boolean" id="507617">noErroneousTrees</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree*" id="958682">trees</a>: <span title="TypeDiagnostics.this.global.Tree*">Tree</span>*<span class="delimiter">)</span>  = <a href="#958682" title="TypeDiagnostics.this.global.Tree*">trees</a> <a href="../../../collection/IterableLike.scala.html#53859" title="(p: TypeDiagnostics.this.global.Tree =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="958690">x</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: TypeDiagnostics.this.global.Tree)TypeDiagnostics.this.global.TreeOps">x</a>.<a href="../ast/Trees.scala.html#510729" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>

  <span class="comment">/** For errors which are artifacts of the implementation: such messages
   *  indicate that the restriction may be lifted in the future.
   */</span>
  <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, unit: TypeDiagnostics.this.global.CompilationUnit, msg: String)Unit" id="507618">restrictionWarning</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="958694">pos</a>: <a href="../util/Position.scala.html#42664" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="TypeDiagnostics.this.global.CompilationUnit" id="958695">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="TypeDiagnostics.this.global.CompilationUnit">CompilationUnit</a>, <a title="String" id="958696">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> =
    <a href="#958695" title="TypeDiagnostics.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#958694" title="TypeDiagnostics.this.global.Position">pos</a>, <span title="java.lang.String(&quot;Implementation restriction: &quot;)" class="string">&quot;Implementation restriction: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958696" title="String">msg</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, unit: TypeDiagnostics.this.global.CompilationUnit, msg: String)Unit" id="507619">restrictionError</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="955902">pos</a>: <a href="../util/Position.scala.html#42664" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="TypeDiagnostics.this.global.CompilationUnit" id="955903">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="TypeDiagnostics.this.global.CompilationUnit">CompilationUnit</a>, <a title="String" id="955904">msg</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> =
    <a href="#955903" title="TypeDiagnostics.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#955902" title="TypeDiagnostics.this.global.Position">pos</a>, <span title="java.lang.String(&quot;Implementation restriction: &quot;)" class="string">&quot;Implementation restriction: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#955904" title="String">msg</a><span class="delimiter">)</span>

  <span class="comment">/** A map of Positions to addendums - if an error involves a position in
   *  the map, the addendum should also be printed.
   */</span>
  <span class="keyword">private</span> <span class="keyword">var</span> <a title="scala.collection.mutable.HashMap[TypeDiagnostics.this.global.Position,() =&gt; String]" id="507621">addendums</a> = <a href="../symtab/SymbolTable.scala.html#478192" title="object TypeDiagnostics.this.global.perRunCaches">perRunCaches</a>.<a href="../symtab/SymbolTable.scala.html#521645" title="[K, V]()scala.collection.mutable.HashMap[K,V]">newMap</a><span title="()scala.collection.mutable.HashMap[TypeDiagnostics.this.global.Position,() =&gt; String]" class="delimiter">[</span><a href="../util/Position.scala.html#42664" title="TypeDiagnostics.this.global.Position">Position</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; String<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, msg: () =&gt; String)Unit" id="507623">setAddendum</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="931641">pos</a>: <a href="../util/Position.scala.html#42664" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="() =&gt; String" id="931642">msg</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; String<span class="delimiter">)</span> =
    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#931641" title="TypeDiagnostics.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Positions.scala.html#479233" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span>
      <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: TypeDiagnostics.this.global.Position, value: () =&gt; String)Unit">addendums</a><span class="delimiter">(</span><a href="#931641" title="TypeDiagnostics.this.global.Position">pos</a><span class="delimiter">)</span> = <a href="#931642" title="() =&gt; String">msg</a>

  <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position)String =&gt; java.lang.String" id="507624">withAddendum</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="933635">pos</a>: <a href="../util/Position.scala.html#42664" title="TypeDiagnostics.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#933639" title="String">_</a>: <span title="String">String</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#507621" title="=&gt; scala.collection.mutable.HashMap[TypeDiagnostics.this.global.Position,() =&gt; String]">addendums</a>.<a href="../../../collection/MapLike.scala.html#73201" title="(key: TypeDiagnostics.this.global.Position, default: =&gt; () =&gt; String)() =&gt; String">getOrElse</a><a href="../../../Function0.scala.html#62187" title="()String" class="delimiter">(</a><a href="#933635" title="TypeDiagnostics.this.global.Position">pos</a>, <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(name: TypeDiagnostics.this.global.Name, owner: TypeDiagnostics.this.global.Symbol)String" id="507625">decodeWithKind</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Name" id="958702">name</a>: <a href="../symtab/Names.scala.html#478413" title="TypeDiagnostics.this.global.Name">Name</a>, <a title="TypeDiagnostics.this.global.Symbol" id="958703">owner</a>: <a href="../symtab/Symbols.scala.html#478659" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="958705">prefix</a> = <span class="delimiter">(</span>
      <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#958702" title="TypeDiagnostics.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501116" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span>
      <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#958703" title="TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;object &quot;)" class="string">&quot;object &quot;</span>
      <span class="keyword">else</span> <span title="java.lang.String(&quot;value &quot;)" class="string">&quot;value &quot;</span>
    <span class="delimiter">)</span>
    <a href="#958705" title="java.lang.String">prefix</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958702" title="TypeDiagnostics.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501159" title="=&gt; String">decode</a>
  <span class="delimiter">}</span>

  <span class="comment">/** Does the positioned line assigned to t1 precede that of t2?
   */</span>
  <span class="keyword">def</span> <a title="(t1: TypeDiagnostics.this.global.Tree, t2: TypeDiagnostics.this.global.Tree)Boolean" id="507626">linePrecedes</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="958706">t1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a>, <a title="TypeDiagnostics.this.global.Tree" id="958707">t2</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#958706" title="TypeDiagnostics.this.global.Tree">t1</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TypeDiagnostics.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501488" title="=&gt; Boolean">isDefined</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#958706" title="TypeDiagnostics.this.global.Tree">t1</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TypeDiagnostics.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501488" title="=&gt; Boolean">isDefined</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#958706" title="TypeDiagnostics.this.global.Tree">t1</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TypeDiagnostics.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501514" title="=&gt; Int">line</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#958707" title="TypeDiagnostics.this.global.Tree">t2</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TypeDiagnostics.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501514" title="=&gt; Int">line</a>

  <span class="keyword">def</span> <a title="(sel: TypeDiagnostics.this.global.Tree, qual: TypeDiagnostics.this.global.Tree, name: TypeDiagnostics.this.global.Name)Unit" id="507627">notAMember</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="958714">sel</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a>, <a title="TypeDiagnostics.this.global.Tree" id="958715">qual</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a>, <a title="TypeDiagnostics.this.global.Name" id="958716">name</a>: <a href="../symtab/Names.scala.html#478413" title="TypeDiagnostics.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Symbol" id="958719">owner</a>            = <a href="#958715" title="TypeDiagnostics.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>
    <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Type" id="958720">target</a>           = <a href="#958715" title="TypeDiagnostics.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; TypeDiagnostics.this.global.Type">widen</a>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="958721">targetKindString</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#958719" title="TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509186" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;type parameter &quot;)" class="string">&quot;type parameter &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">def</span> <a title="=&gt; String" id="958722">nameString</a>       = <a href="#507625" title="(name: TypeDiagnostics.this.global.Name, owner: TypeDiagnostics.this.global.Symbol)String">decodeWithKind</a><span class="delimiter">(</span><a href="#958716" title="TypeDiagnostics.this.global.Name">name</a>, <a href="#958719" title="TypeDiagnostics.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="comment">/** Illuminating some common situations and errors a bit further. */</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="958723">addendum</a>         = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="958725">companion</a> = <span class="delimiter">{</span>
        <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#958716" title="TypeDiagnostics.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501115" title="=&gt; Boolean">isTermName</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#958719" title="TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#958720" title="TypeDiagnostics.this.global.Type">target</a>.<a href="../symtab/Types.scala.html#507200" title="(name: TypeDiagnostics.this.global.Name)TypeDiagnostics.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#958716" title="TypeDiagnostics.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501118" title="=&gt; TypeDiagnostics.this.global.TypeName">toTypeName</a><span class="delimiter">)</span> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../symtab/Symbols.scala.html#478667" title="java.lang.String(&quot;&quot;)">NoSymbol</a> =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
            <span class="keyword">case</span> <a title="String" id="958728">sym</a>      =&gt; <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nNote: %s exists, but it has no companion object.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#958728" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="958726">semicolon</a> = <span class="delimiter">(</span>
        <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#507626" title="(t1: TypeDiagnostics.this.global.Tree, t2: TypeDiagnostics.this.global.Tree)Boolean">linePrecedes</a><span class="delimiter">(</span><a href="#958715" title="TypeDiagnostics.this.global.Tree">qual</a>, <a href="#958714" title="TypeDiagnostics.this.global.Tree">sel</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="java.lang.String(&quot;\012possible cause: maybe a semicolon is missing before `&quot;)" class="string">&quot;\npossible cause: maybe a semicolon is missing before `&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#958722" title="=&gt; String">nameString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\'?&quot;)" class="string">&quot;'?&quot;</span>
        <span class="keyword">else</span>
          <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="delimiter">)</span>
      <a href="#958725" title="java.lang.String">companion</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958726" title="java.lang.String">semicolon</a>
    <span class="delimiter">}</span>

    <a href="#507614" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">inferError</a><span class="delimiter">(</span>
      <a href="#958714" title="TypeDiagnostics.this.global.Tree">sel</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TypeDiagnostics.this.global.Position">pos</a>,
      <a href="#507624" title="(pos: TypeDiagnostics.this.global.Position)String =&gt; java.lang.String">withAddendum</a><a href="../../../Function1.scala.html#53453" title="(v1: String)java.lang.String" class="delimiter">(</a><a href="#958715" title="TypeDiagnostics.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TypeDiagnostics.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span>
        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#958716" title="TypeDiagnostics.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object TypeDiagnostics.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; TypeDiagnostics.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">target</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot; does not have a constructor&quot;)" class="string">&quot; does not have a constructor&quot;</span>
        <span class="keyword">else</span> <a href="#958722" title="=&gt; String">nameString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not a member of &quot;)" class="string">&quot; is not a member of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958721" title="=&gt; java.lang.String">targetKindString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958720" title="TypeDiagnostics.this.global.Type">target</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958723" title="=&gt; java.lang.String">addendum</a>
      <span class="delimiter">)</span>
    <span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Only prints the parameter names if they're not synthetic,
   *  since &quot;x$1: Int&quot; does not offer any more information than &quot;Int&quot;.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: TypeDiagnostics.this.global.Type)java.lang.String" id="507628">methodTypeErrorString</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="958739">tp</a>: <a href="../symtab/Types.scala.html#478720" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#958739" title="TypeDiagnostics.this.global.Type">tp</a> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a title="java.lang.String" id="958742">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[TypeDiagnostics.this.global.Symbol]" id="958745">params</a>, <a title="TypeDiagnostics.this.global.Type" id="958746">resultType</a><span class="delimiter">)</span>  =&gt;
      <span class="keyword">def</span> <a title="=&gt; List[java.lang.Object]" id="958747">forString</a> =
        <span title="List[java.lang.Object]" class="keyword">if</span> <span class="delimiter">(</span><a href="#958745" title="List[TypeDiagnostics.this.global.Symbol]">params</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: TypeDiagnostics.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#958754" title="TypeDiagnostics.this.global.Symbol">_</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435304" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#958745" title="List[TypeDiagnostics.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: TypeDiagnostics.this.global.Symbol =&gt; TypeDiagnostics.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Symbol],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]])List[TypeDiagnostics.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#958771" title="TypeDiagnostics.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#958745" title="List[TypeDiagnostics.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: TypeDiagnostics.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Symbol],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#958809" title="TypeDiagnostics.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509375" title="=&gt; String">defString</a><span class="delimiter">)</span>

       <a href="#958747" title="=&gt; List[java.lang.Object]">forString</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#958746" title="TypeDiagnostics.this.global.Type">resultType</a>
    <span class="keyword">case</span> <a title="String" id="962641">x</a>                                    =&gt; <a href="#962641" title="TypeDiagnostics.this.global.Type">x</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree)List[TypeDiagnostics.this.global.Type]" id="507629">alternatives</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="937767">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[TypeDiagnostics.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#937767" title="TypeDiagnostics.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a> <span title="List[TypeDiagnostics.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="List[TypeDiagnostics.this.global.Type]">OverloadedType</span><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="962644">pre</a>, <a title="List[TypeDiagnostics.this.global.Symbol]" id="962645">alternatives</a><span class="delimiter">)</span>  =&gt; <a href="#962645" title="List[TypeDiagnostics.this.global.Symbol]">alternatives</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: TypeDiagnostics.this.global.Symbol =&gt; TypeDiagnostics.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Symbol],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]])List[TypeDiagnostics.this.global.Type]">map</a> <a href="#962644" title="TypeDiagnostics.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: TypeDiagnostics.this.global.Symbol)TypeDiagnostics.this.global.Type">memberType</a>
    <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                                  =&gt; <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
  <span class="delimiter">}</span>
  <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree)String" id="507630">alternativesString</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="962694">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a><span class="delimiter">)</span> =
    <a href="#507629" title="(tree: TypeDiagnostics.this.global.Tree)List[TypeDiagnostics.this.global.Type]">alternatives</a><span class="delimiter">(</span><a href="#962694" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: TypeDiagnostics.this.global.Type =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a> <span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="962716">x</a> =&gt; <span title="java.lang.String(&quot;  &quot;)" class="string">&quot;  &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#507628" title="(tp: TypeDiagnostics.this.global.Type)java.lang.String">methodTypeErrorString</a><span class="delimiter">(</span><a href="#962716" title="TypeDiagnostics.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a> <span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot; &lt;and&gt;\012&quot;)" class="string">&quot; &lt;and&gt;\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(fun: TypeDiagnostics.this.global.Tree, vparam: TypeDiagnostics.this.global.ValDef, pt: TypeDiagnostics.this.global.Type)java.lang.String" id="507631">missingParameterTypeMsg</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="962747">fun</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a>, <a title="TypeDiagnostics.this.global.ValDef" id="962748">vparam</a>: <a href="../../../reflect/generic/Trees.scala.html#434049" title="TypeDiagnostics.this.global.ValDef">ValDef</a>, <a title="TypeDiagnostics.this.global.Type" id="962749">pt</a>: <a href="../symtab/Types.scala.html#478720" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="962752">anonMessage</a> = <span class="delimiter">(</span>
      <span class="string">&quot;\nThe argument types of an anonymous function must be fully known. (SLS 8.5)&quot;</span> <span title="java.lang.String(&quot;\012The argument types of an anonymous function must be fully known. (SLS 8.5)\012Expected type was: &quot;)">+</span>
      <span class="string">&quot;\nExpected type was: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#962749" title="TypeDiagnostics.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507239" title="=&gt; java.lang.String">toLongString</a>
    <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="962753">suffix</a> =
      <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#962748" title="TypeDiagnostics.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441942" title="=&gt; TypeDiagnostics.this.global.Modifiers">mods</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435304" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <span title="java.lang.String(&quot; for expanded function&quot;)" class="string">&quot; for expanded function&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#962747" title="TypeDiagnostics.this.global.Tree">fun</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="java.lang.String">Function</span><span class="delimiter">(</span>_, Match<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#962752" title="=&gt; java.lang.String">anonMessage</a>
        <span class="keyword">case</span> <span title="java.lang.String">_</span>                        =&gt; <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#962747" title="TypeDiagnostics.this.global.Tree">fun</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>

    <span title="java.lang.String(&quot;missing parameter type&quot;)" class="string">&quot;missing parameter type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#962753" title="java.lang.String">suffix</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree)String" id="507632">treeSymTypeMsg</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="937992">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Symbol" id="962758">sym</a>               = <a href="#937992" title="TypeDiagnostics.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="962759">hasParams</a>         = <a href="#937992" title="TypeDiagnostics.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507178" title="=&gt; Int">paramSectionCount</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="962760">preResultString</a>   = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#962759" title="=&gt; Boolean">hasParams</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span>

    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="962761">nullMessage</a>       = <span title="java.lang.String(&quot;expression of type &quot;)" class="string">&quot;expression of type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#937992" title="TypeDiagnostics.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="962762">overloadedMessage</a> = <span title="java.lang.String(&quot;overloaded method &quot;)" class="string">&quot;overloaded method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#962758" title="TypeDiagnostics.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; with alternatives:\012&quot;)" class="string">&quot; with alternatives:\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#507630" title="(tree: TypeDiagnostics.this.global.Tree)String">alternativesString</a><span class="delimiter">(</span><a href="#937992" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="962763">moduleMessage</a>     = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#962758" title="TypeDiagnostics.this.global.Symbol">sym</a>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="962764">defaultMessage</a>    = <a href="#962763" title="=&gt; java.lang.String">moduleMessage</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#962760" title="=&gt; java.lang.String">preResultString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#937992" title="TypeDiagnostics.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a>
    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="962765">applyMessage</a>      = <a href="#962764" title="=&gt; java.lang.String">defaultMessage</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#937992" title="TypeDiagnostics.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a>

    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#962758" title="TypeDiagnostics.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#962761" title="=&gt; java.lang.String">nullMessage</a>
    <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#962758" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435388" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <a href="#962762" title="=&gt; java.lang.String">overloadedMessage</a>
    <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#962758" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <a href="#962763" title="=&gt; java.lang.String">moduleMessage</a>
    <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#962758" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TypeDiagnostics.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object TypeDiagnostics.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; TypeDiagnostics.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <a href="#962765" title="=&gt; java.lang.String">applyMessage</a>
    <span class="keyword">else</span> <a href="#962764" title="=&gt; java.lang.String">defaultMessage</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(fun: TypeDiagnostics.this.global.Tree, missing: List[TypeDiagnostics.this.global.Symbol])String" id="507633">notEnoughArgumentsMsg</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="962779">fun</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a>, <a title="List[TypeDiagnostics.this.global.Symbol]" id="962780">missing</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[TypeDiagnostics.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="java.lang.String" id="962782">suffix</a> = <span class="delimiter">{</span>
      <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#962780" title="List[TypeDiagnostics.this.global.Symbol]">missing</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.global.Name]" id="962783">keep</a> = <a href="#962780" title="List[TypeDiagnostics.this.global.Symbol]">missing</a> <a href="../../../collection/immutable/List.scala.html#49163" title="(n: Int)List[TypeDiagnostics.this.global.Symbol]">take</a> <span title="Int(3)" class="int">3</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: TypeDiagnostics.this.global.Symbol =&gt; TypeDiagnostics.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Symbol],TypeDiagnostics.this.global.Name,List[TypeDiagnostics.this.global.Name]])List[TypeDiagnostics.this.global.Name]">map</a> <span class="delimiter">(</span><a href="#962805" title="TypeDiagnostics.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TypeDiagnostics.this.global.Name">name</a><span class="delimiter">)</span>
        <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;.\nUnspecified value parameter%s %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#962780" title="List[TypeDiagnostics.this.global.Symbol]">missing</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[TypeDiagnostics.this.global.Symbol]">tail</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;s&quot;)" class="string">&quot;s&quot;</span>,
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#962780" title="List[TypeDiagnostics.this.global.Symbol]">missing</a> <a href="../../../collection/immutable/List.scala.html#49164" title="(n: Int)List[TypeDiagnostics.this.global.Symbol]">drop</a> <span title="Int(3)" class="int">3</span> <a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">(</span><a href="#962783" title="List[TypeDiagnostics.this.global.Name]">keep</a> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: java.lang.Object)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Name],java.lang.Object,List[java.lang.Object]])List[java.lang.Object]">:+</a> <span title="java.lang.String(&quot;...&quot;)" class="string">&quot;...&quot;</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#962783" title="List[TypeDiagnostics.this.global.Name]">keep</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span title="java.lang.String(&quot;not enough arguments for &quot;)" class="string">&quot;not enough arguments for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#507632" title="(tree: TypeDiagnostics.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#962779" title="TypeDiagnostics.this.global.Tree">fun</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#962782" title="java.lang.String">suffix</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree, msg: String, argtpes: List[TypeDiagnostics.this.global.Type], pt: TypeDiagnostics.this.global.Type)java.lang.String" id="507634">applyErrorMsg</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="937750">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a>, <a title="String" id="937751">msg</a>: <span title="String">String</span>, <a title="List[TypeDiagnostics.this.global.Type]" id="937752">argtpes</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[TypeDiagnostics.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="TypeDiagnostics.this.global.Type" id="937753">pt</a>: <a href="../symtab/Types.scala.html#478720" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(xs: List[Any])String" id="937756">asParams</a><span class="delimiter">(</span><a title="List[Any]" id="937760">xs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Any]">List</a><span class="delimiter">[</span>Any<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#937760" title="List[Any]">xs</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="937757">resType</a>   = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#937753" title="TypeDiagnostics.this.global.Type">pt</a> <a href="../symtab/Types.scala.html#507157" title="=&gt; Boolean">isWildcard</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; with expected result type &quot;)" class="string">&quot; with expected result type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#937753" title="TypeDiagnostics.this.global.Type">pt</a>
    <span class="keyword">def</span> <a title="=&gt; List[TypeDiagnostics.this.global.Type]" id="937758">allTypes</a>  = <span class="delimiter">(</span><a href="#507629" title="(tree: TypeDiagnostics.this.global.Tree)List[TypeDiagnostics.this.global.Type]">alternatives</a><span class="delimiter">(</span><a href="#937750" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: TypeDiagnostics.this.global.Type =&gt; scala.collection.GenTraversableOnce[TypeDiagnostics.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]])List[TypeDiagnostics.this.global.Type]">flatMap</a> <span class="delimiter">(</span><a href="#937792" title="TypeDiagnostics.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507181" title="=&gt; List[TypeDiagnostics.this.global.Type]">paramTypes</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[TypeDiagnostics.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]])List[TypeDiagnostics.this.global.Type]">++</a> <a href="#937752" title="List[TypeDiagnostics.this.global.Type]">argtpes</a> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: TypeDiagnostics.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]])List[TypeDiagnostics.this.global.Type]">:+</a> <a href="#937753" title="TypeDiagnostics.this.global.Type">pt</a>
    <span class="keyword">def</span> <a title="=&gt; List[TypeDiagnostics.this.global.Symbol]" id="937759">locals</a>    = <a href="#507629" title="(tree: TypeDiagnostics.this.global.Tree)List[TypeDiagnostics.this.global.Type]">alternatives</a><span class="delimiter">(</span><a href="#937750" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: TypeDiagnostics.this.global.Type =&gt; scala.collection.GenTraversableOnce[TypeDiagnostics.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Symbol,List[TypeDiagnostics.this.global.Symbol]])List[TypeDiagnostics.this.global.Symbol]">flatMap</a> <span class="delimiter">(</span><a href="#937953" title="TypeDiagnostics.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[TypeDiagnostics.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>

    <a href="#507647" title="(locals: List[TypeDiagnostics.this.global.Symbol], types: TypeDiagnostics.this.global.Type*)(op: =&gt; java.lang.String)java.lang.String">withDisambiguation</a><span class="delimiter">(</span><a href="#937759" title="=&gt; List[TypeDiagnostics.this.global.Symbol]">locals</a>, <a href="#937758" title="=&gt; List[TypeDiagnostics.this.global.Type]">allTypes</a>: _*<span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#507632" title="(tree: TypeDiagnostics.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#937750" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#937751" title="String">msg</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#937756" title="(xs: List[Any])String">asParams</a><span class="delimiter">(</span><a href="#937752" title="List[TypeDiagnostics.this.global.Type]">argtpes</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#937757" title="=&gt; java.lang.String">resType</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(ss: List[String])List[java.lang.String]" id="507635">disambiguate</a><span class="delimiter">(</span><a title="List[String]" id="962899">ss</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[String]">List</a><span class="delimiter">[</span>String<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#962899" title="List[String]">ss</a> <span title="List[java.lang.String]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="scala.collection.immutable.Nil.type">Nil</a>      =&gt; <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
    <span class="keyword">case</span> <a title="List[java.lang.String]" id="962906">s</a> :: <a title="List[String]" id="962907">ss</a>  =&gt; <a href="#962906" title="String">s</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: java.lang.String)List[java.lang.String]">::</a> <span class="delimiter">(</span><a href="#962907" title="List[String]">ss</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: String =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[String],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a> <a href="#962925" title="java.lang.String" class="delimiter">{</a> <span class="keyword">case</span> <a href="#962906" title="java.lang.String">`s`</a> =&gt; <span title="java.lang.String(&quot;(some other)&quot;)" class="string">&quot;(some other)&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#962906" title="String">s</a> ; <span class="keyword">case</span> <a title="String" id="962926">x</a> =&gt; <a href="#962926" title="String">x</a> <span class="delimiter">}</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">// todo: use also for other error messages</span>
  <span class="keyword">def</span> <a title="(tp: TypeDiagnostics.this.global.Type)java.lang.String" id="507636">existentialContext</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="962959">tp</a>: <a href="../symtab/Types.scala.html#478720" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#962959" title="TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507244" title="=&gt; List[TypeDiagnostics.this.global.Symbol]">existentialSkolems</a> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="java.lang.String(&quot;&quot;)">Nil</a>  =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
    <span class="keyword">case</span> <a title="java.lang.String" id="962962">xs</a>   =&gt; <span title="java.lang.String(&quot; where &quot;)" class="string">&quot; where &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#507635" title="(ss: List[String])List[java.lang.String]">disambiguate</a><span class="delimiter">(</span><a href="#962962" title="List[TypeDiagnostics.this.global.Symbol]">xs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: TypeDiagnostics.this.global.Symbol =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Symbol],java.lang.String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#962979" title="TypeDiagnostics.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509378" title="=&gt; java.lang.String">existentialToString</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: TypeDiagnostics.this.global.Symbol)String" id="507637">varianceWord</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="963010">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <span title="String">String</span> =
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#963010" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
    <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#963010" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
    <span class="keyword">else</span> <span title="java.lang.String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>

  <span class="comment">/** Look through the base types of the found type for any which
   *  might have been valid subtypes if given conformant type arguments.
   *  Examine those for situations where the type error would have been
   *  eliminated if the variance were different.  In such cases, append
   *  an additional explanatory message.
   *
   *  TODO: handle type aliases better.
   */</span>
  <span class="keyword">def</span> <a title="(found: TypeDiagnostics.this.global.Type, req: TypeDiagnostics.this.global.Type)String" id="507638">explainVariance</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="963022">found</a>: <a href="../symtab/Types.scala.html#478720" title="TypeDiagnostics.this.global.Type">Type</a>, <a title="TypeDiagnostics.this.global.Type" id="963023">req</a>: <a href="../symtab/Types.scala.html#478720" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <a href="#963022" title="TypeDiagnostics.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#507229" title="=&gt; TypeDiagnostics.this.global.BaseTypeSeq">baseTypeSeq</a>.<a href="../symtab/BaseTypeSeqs.scala.html#594271" title="=&gt; List[TypeDiagnostics.this.global.Type]">toList</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: TypeDiagnostics.this.global.Type =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="TypeDiagnostics.this.global.Type" id="963046">tp</a> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#963046" title="TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: TypeDiagnostics.this.global.Symbol)Boolean">isSubClass</a> <a href="#963023" title="TypeDiagnostics.this.global.Type">req</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.global.Type]" id="963048">foundArgs</a> = <a href="#963046" title="TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[TypeDiagnostics.this.global.Type]">typeArgs</a>
        <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.global.Type]" id="963049">reqArgs</a>   = <a href="#963023" title="TypeDiagnostics.this.global.Type">req</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[TypeDiagnostics.this.global.Type]">typeArgs</a>
        <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.global.Symbol]" id="963050">params</a>    = <a href="#963023" title="TypeDiagnostics.this.global.Type">req</a>.<a href="../symtab/Types.scala.html#507171" title="=&gt; TypeDiagnostics.this.global.Type">typeConstructor</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[TypeDiagnostics.this.global.Symbol]">typeParams</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#963048" title="List[TypeDiagnostics.this.global.Type]">foundArgs</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#963048" title="List[TypeDiagnostics.this.global.Type]">foundArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#963049" title="List[TypeDiagnostics.this.global.Type]">reqArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Option[java.lang.String]]" id="963056">relationships</a> = <a href="../../../Tuple3.scala.html#53296" title="(_1: List[TypeDiagnostics.this.global.Type], _2: List[TypeDiagnostics.this.global.Type], _3: List[TypeDiagnostics.this.global.Symbol])(List[TypeDiagnostics.this.global.Type], List[TypeDiagnostics.this.global.Type], List[TypeDiagnostics.this.global.Symbol])" class="delimiter">(</a><a href="#963048" title="List[TypeDiagnostics.this.global.Type]">foundArgs</a>, <a href="#963049" title="List[TypeDiagnostics.this.global.Type]">reqArgs</a>, <a href="#963050" title="List[TypeDiagnostics.this.global.Symbol]">params</a><span class="delimiter">)</span>.<a href="../../../Tuple3.scala.html#53331" title="(implicit w1: List[TypeDiagnostics.this.global.Type] =&gt; scala.collection.TraversableLike[TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]], implicit w2: List[TypeDiagnostics.this.global.Type] =&gt; scala.collection.IterableLike[TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type]], implicit w3: List[TypeDiagnostics.this.global.Symbol] =&gt; scala.collection.IterableLike[TypeDiagnostics.this.global.Symbol,List[TypeDiagnostics.this.global.Symbol]])(List[TypeDiagnostics.this.global.Type], List[TypeDiagnostics.this.global.Type], List[TypeDiagnostics.this.global.Symbol])#Zipped[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.global.Type,List[TypeDiagnostics.this.global.Symbol],TypeDiagnostics.this.global.Symbol]">zipped</a> <a href="../../../Tuple3.scala.html#57569" title="(f: (TypeDiagnostics.this.global.Type, TypeDiagnostics.this.global.Type, TypeDiagnostics.this.global.Symbol) =&gt; Option[java.lang.String])(implicit cbf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],Option[java.lang.String],List[Option[java.lang.String]]])List[Option[java.lang.String]]">map</a> <a href="../../../Tuple3.scala.html#53296" title="Option[java.lang.String]" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Option[java.lang.String]" class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="963144">arg</a>, <a title="TypeDiagnostics.this.global.Type" id="963145">reqArg</a>, <a title="TypeDiagnostics.this.global.Symbol" id="963146">param</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">def</span> <a title="(isSubtype: Boolean)Some[java.lang.String]" id="963147">mkMsg</a><span class="delimiter">(</span><a title="Boolean" id="963150">isSubtype</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="java.lang.String" id="963151">op</a>      = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#963150" title="Boolean">isSubtype</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&lt;:&quot;)" class="string">&quot;&lt;:&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&gt;:&quot;)" class="string">&quot;&gt;:&quot;</span>
                <span class="keyword">val</span> <a title="java.lang.String" id="963152">suggest</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#963150" title="Boolean">isSubtype</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;+&quot;)" class="string">&quot;+&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span>
                <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Symbol" id="963153">reqsym</a>  = <a href="#963023" title="TypeDiagnostics.this.global.Type">req</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>
                <span class="keyword">def</span> <a title="=&gt; Boolean" id="963154">isJava</a>  = <a href="#963153" title="TypeDiagnostics.this.global.Symbol">reqsym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a>
                <span class="keyword">def</span> <a title="=&gt; Boolean" id="963155">isScala</a> = <a href="#963153" title="TypeDiagnostics.this.global.Symbol">reqsym</a> <a href="../symtab/Symbols.scala.html#509255" title="(sym: TypeDiagnostics.this.global.Symbol)Boolean">hasTransOwner</a> <a href="../symtab/Definitions.scala.html#507892" title="=&gt; TypeDiagnostics.this.global.Symbol">ScalaPackageClass</a>

                <span class="keyword">val</span> <a title="String" id="963156">explainFound</a> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s %s %s%s, but &quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
                  <a href="#963144" title="TypeDiagnostics.this.global.Type">arg</a>, <a href="#963151" title="java.lang.String">op</a>, <a href="#963145" title="TypeDiagnostics.this.global.Type">reqArg</a>,
                  <span class="comment">// If the message involves a type from the base type sequence rather than the</span>
                  <span class="comment">// actual found type, we need to explain why we're talking about it.  Less brute</span>
                  <span class="comment">// force measures than comparing normalized Strings were producing error messages</span>
                  <span class="comment">// like &quot;and java.util.ArrayList[String] &lt;: java.util.ArrayList[String]&quot; but there</span>
                  <span class="comment">// should be a cleaner way to do this.</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#963022" title="TypeDiagnostics.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; TypeDiagnostics.this.global.Type">normalize</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#963046" title="TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; TypeDiagnostics.this.global.Type">normalize</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
                  <span class="keyword">else</span> <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot; (and %s &lt;: %s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#963022" title="TypeDiagnostics.this.global.Type">found</a>, <a href="#963046" title="TypeDiagnostics.this.global.Type">tp</a><span class="delimiter">)</span>
                <span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="String" id="963157">explainDef</a> = <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="java.lang.String" id="963173">prepend</a> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#963154" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;Java-defined &quot;)" class="string">&quot;Java-defined &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
                  <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s is %s in %s.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#963173" title="java.lang.String">prepend</a>, <a href="#963153" title="TypeDiagnostics.this.global.Symbol">reqsym</a>, <a href="#507637" title="(sym: TypeDiagnostics.this.global.Symbol)String">varianceWord</a><span class="delimiter">(</span><a href="#963146" title="TypeDiagnostics.this.global.Symbol">param</a><span class="delimiter">)</span>, <a href="#963146" title="TypeDiagnostics.this.global.Symbol">param</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span class="comment">// Don't suggest they change the class declaration if it's somewhere</span>
                <span class="comment">// under scala.* or defined in a java class, because attempting either</span>
                <span class="comment">// would be fruitless.</span>
                <span class="keyword">val</span> <a title="java.lang.String" id="963158">suggestChange</a> = <span title="java.lang.String(&quot;\012You may wish to &quot;)" class="string">&quot;\nYou may wish to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#963155" title="=&gt; Boolean">isScala</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#963154" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span>
                    <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;investigate a wildcard type such as `_ %s %s`. (SLS 3.2.10)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#963151" title="java.lang.String">op</a>, <a href="#963145" title="TypeDiagnostics.this.global.Type">reqArg</a><span class="delimiter">)</span>
                  <span class="keyword">else</span>
                    <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;define %s as %s%s instead. (SLS 4.5)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#963146" title="TypeDiagnostics.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TypeDiagnostics.this.global.Name">name</a>, <a href="#963152" title="java.lang.String">suggest</a>, <a href="#963146" title="TypeDiagnostics.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TypeDiagnostics.this.global.Name">name</a><span class="delimiter">)</span>
                <span class="delimiter">)</span>

                <a href="../../../Option.scala.html#57885" title="(x: java.lang.String)Some[java.lang.String]">Some</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Note: &quot;)" class="string">&quot;Note: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#963156" title="String">explainFound</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#963157" title="String">explainDef</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#963158" title="java.lang.String">suggestChange</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="comment">// In these cases the arg is OK and needs no explanation.</span>
              <span class="keyword">val</span> <a title="Boolean" id="963148">conforms</a> = <span class="delimiter">(</span>
                   <span class="delimiter">(</span><a href="#963144" title="TypeDiagnostics.this.global.Type">arg</a> <a href="../symtab/Types.scala.html#507225" title="(that: TypeDiagnostics.this.global.Type)Boolean">=:=</a> <a href="#963145" title="TypeDiagnostics.this.global.Type">reqArg</a><span class="delimiter">)</span>
                <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#963144" title="TypeDiagnostics.this.global.Type">arg</a> <a href="../symtab/Types.scala.html#507220" title="(that: TypeDiagnostics.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#963145" title="TypeDiagnostics.this.global.Type">reqArg</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#963146" title="TypeDiagnostics.this.global.Symbol">param</a>.<a href="../../../reflect/generic/Symbols.scala.html#435379" title="=&gt; Boolean">isCovariant</a><span class="delimiter">)</span>
                <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#963145" title="TypeDiagnostics.this.global.Type">reqArg</a> <a href="../symtab/Types.scala.html#507220" title="(that: TypeDiagnostics.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#963144" title="TypeDiagnostics.this.global.Type">arg</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#963146" title="TypeDiagnostics.this.global.Symbol">param</a>.<a href="../../../reflect/generic/Symbols.scala.html#435378" title="=&gt; Boolean">isContravariant</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Boolean" id="963149">invariant</a> = <a href="#963146" title="TypeDiagnostics.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span>

              <span title="Option[java.lang.String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#963148" title="Boolean">conforms</a><span class="delimiter">)</span>                             <a href="../../../Option.scala.html#57885" title="(x: java.lang.String)Some[java.lang.String]">Some</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Option[java.lang.String]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#963144" title="TypeDiagnostics.this.global.Type">arg</a> <a href="../symtab/Types.scala.html#507220" title="(that: TypeDiagnostics.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#963145" title="TypeDiagnostics.this.global.Type">reqArg</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#963149" title="Boolean">invariant</a><span class="delimiter">)</span>   <a href="#963147" title="(isSubtype: Boolean)Some[java.lang.String]">mkMsg</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>   <span class="comment">// covariant relationship</span>
              <span class="keyword">else</span> <span title="Option[java.lang.String]" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#963145" title="TypeDiagnostics.this.global.Type">reqArg</a> <a href="../symtab/Types.scala.html#507220" title="(that: TypeDiagnostics.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#963144" title="TypeDiagnostics.this.global.Type">arg</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#963149" title="Boolean">invariant</a><span class="delimiter">)</span>   <a href="#963147" title="(isSubtype: Boolean)Some[java.lang.String]">mkMsg</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>  <span class="comment">// contravariant relationship</span>
              <span class="keyword">else</span> <a href="../../../Option.scala.html#1737" title="object None">None</a> <span class="comment">// we assume in other cases our ham-fisted advice will merely serve to confuse</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[java.lang.String]" id="963057">messages</a> = <a href="#963056" title="List[Option[java.lang.String]]">relationships</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53804" title="(implicit asTraversable: Option[java.lang.String] =&gt; scala.collection.TraversableOnce[java.lang.String])List[java.lang.String]">flatten</a>
          <span class="comment">// the condition verifies no type argument came back None</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#963057" title="List[java.lang.String]">messages</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#963048" title="List[TypeDiagnostics.this.global.Type]">foundArgs</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#963057" title="List[java.lang.String]">messages</a> <a href="../../../collection/TraversableLike.scala.html#49052" title="(p: java.lang.String =&gt; Boolean)List[java.lang.String]">filterNot</a> <span class="delimiter">(</span><a href="#963281" title="java.lang.String">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a> <span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>    <span class="comment">// no elaborable variance situation found</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(found: TypeDiagnostics.this.global.Type, req: TypeDiagnostics.this.global.Type)String" id="507639">foundReqMsg</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="929819">found</a>: <a href="../symtab/Types.scala.html#478720" title="TypeDiagnostics.this.global.Type">Type</a>, <a title="TypeDiagnostics.this.global.Type" id="929820">req</a>: <a href="../symtab/Types.scala.html#478720" title="TypeDiagnostics.this.global.Type">Type</a><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="delimiter">(</span><a href="#507647" title="(locals: List[TypeDiagnostics.this.global.Symbol], types: TypeDiagnostics.this.global.Type*)(op: =&gt; java.lang.String)java.lang.String">withDisambiguation</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#929819" title="TypeDiagnostics.this.global.Type">found</a>, <a href="#929820" title="TypeDiagnostics.this.global.Type">req</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="java.lang.String(&quot;;\012 found   : &quot;)" class="string">&quot;;\n found   : &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#929819" title="TypeDiagnostics.this.global.Type">found</a>.<a href="../symtab/Types.scala.html#507239" title="=&gt; java.lang.String">toLongString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#507636" title="(tp: TypeDiagnostics.this.global.Type)java.lang.String">existentialContext</a><span class="delimiter">(</span><a href="#929819" title="TypeDiagnostics.this.global.Type">found</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
       <span title="java.lang.String(&quot;\012 required: &quot;)" class="string">&quot;\n required: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#929820" title="TypeDiagnostics.this.global.Type">req</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#507636" title="(tp: TypeDiagnostics.this.global.Type)java.lang.String">existentialContext</a><span class="delimiter">(</span><a href="#929820" title="TypeDiagnostics.this.global.Type">req</a><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#507638" title="(found: TypeDiagnostics.this.global.Type, req: TypeDiagnostics.this.global.Type)String">explainVariance</a><span class="delimiter">(</span><a href="#929819" title="TypeDiagnostics.this.global.Type">found</a>, <a href="#929820" title="TypeDiagnostics.this.global.Type">req</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class TypeDiag extends java.lang.Object with Ordered[TypeDiagnostics.this.TypeDiag] with ScalaObject with Product with Serializable" id="963459">TypeDiag</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="TypeDiagnostics.this.global.Type" id="963678">tp</a>: <a href="../symtab/Types.scala.html#478720" title="TypeDiagnostics.this.global.Type">Type</a>, <a title="TypeDiagnostics.this.global.Symbol" id="963679">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../../../math/Ordered.scala.html#19010" title="Ordered[TypeDiagnostics.this.TypeDiag]">Ordered</a><span class="delimiter">[</span>TypeDiag<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="comment">// save the name because it will be mutated until it has been</span>
    <span class="comment">// distinguished from the other types in the same error message</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="TypeDiagnostics.this.global.Name" id="963310">savedName</a> = <a href="#963679" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TypeDiagnostics.this.global.Name">name</a>
    <span class="keyword">def</span> <a title="()Unit" id="963312">restoreName</a><span class="delimiter">(</span><span class="delimiter">)</span>     = <a href="#963679" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509257" title="(name: TypeDiagnostics.this.global.Name)Unit">name</a> = <a href="#963310" title="=&gt; TypeDiagnostics.this.global.Name">savedName</a>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="963313">isAltered</a>         = <a href="#963679" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TypeDiagnostics.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#963310" title="=&gt; TypeDiagnostics.this.global.Name">savedName</a>
    <span class="keyword">def</span> <a title="(f: String =&gt; String)Unit" id="963314">modifyName</a><span class="delimiter">(</span><a title="String =&gt; String" id="963345">f</a>: String =&gt; String<span class="delimiter">)</span> =
      <a href="#963679" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509257" title="(name: TypeDiagnostics.this.global.Name)Unit">name</a> = <a href="../symtab/Names.scala.html#478405" title="(s: String)TypeDiagnostics.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><a href="../../../Function1.scala.html#53453" title="(v1: String)String">f</a><span class="delimiter">(</span><a href="#963679" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TypeDiagnostics.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="()Unit" id="963315">scalaQualify</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Set[TypeDiagnostics.this.global.Symbol]" id="963354">intersect</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: TypeDiagnostics.this.global.Symbol*)scala.collection.immutable.Set[TypeDiagnostics.this.global.Symbol]">Set</a><span class="delimiter">(</span><a href="#963320" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a>, <a href="#963321" title="=&gt; TypeDiagnostics.this.global.Symbol">aliasOwner</a><span class="delimiter">)</span> <a href="../../../collection/GenSetLike.scala.html#59063" title="(that: scala.collection.GenSet[TypeDiagnostics.this.global.Symbol])scala.collection.immutable.Set[TypeDiagnostics.this.global.Symbol]">intersect</a> <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: TypeDiagnostics.this.global.Symbol*)scala.collection.immutable.Set[TypeDiagnostics.this.global.Symbol]">Set</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507892" title="=&gt; TypeDiagnostics.this.global.Symbol">ScalaPackageClass</a>, <a href="../symtab/Definitions.scala.html#508016" title="=&gt; TypeDiagnostics.this.global.Symbol">PredefModuleClass</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#963354" title="scala.collection.immutable.Set[TypeDiagnostics.this.global.Symbol]">intersect</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="#963316" title="()Unit">preQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// functions to manipulate the name</span>
    <span class="keyword">def</span> <a title="()Unit" id="963316">preQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>   = <a href="#963314" title="(f: String =&gt; String)Unit">modifyName</a><span class="delimiter">(</span><a href="#963320" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435348" title="=&gt; String">fullName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#963373" title="String">_</a><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="()Unit" id="963317">postQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>  = <a href="#963314" title="(f: String =&gt; String)Unit">modifyName</a><span class="delimiter">(</span><a href="#963379" title="String">_</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;(in &quot;)" class="string">&quot;(in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#963320" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="()Unit" id="963318">typeQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>  = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#963679" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509186" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span> <a href="#963317" title="()Unit">postQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="()Unit" id="963319">nameQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>  = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#963320" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#963316" title="()Unit">preQualify</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#963317" title="()Unit">postQualify</a><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; TypeDiagnostics.this.global.Symbol" id="963320">trueOwner</a>  = <a href="#963678" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509204" title="=&gt; TypeDiagnostics.this.global.Symbol">skipPackageObject</a>
    <span class="keyword">def</span> <a title="=&gt; TypeDiagnostics.this.global.Symbol" id="963321">aliasOwner</a> = <a href="#963678" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507161" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbolDirect</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509204" title="=&gt; TypeDiagnostics.this.global.Symbol">skipPackageObject</a>

    <span class="keyword">def</span> <a title="(other: TypeDiagnostics.this.TypeDiag)Boolean" id="963322">sym_==</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="963384">other</a>: <a href="#963459" title="TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">)</span>     = <a href="#963678" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#963384" title="TypeDiagnostics.this.TypeDiag">other</a>.<a href="#963678" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>
    <span class="keyword">def</span> <a title="(other: TypeDiagnostics.this.TypeDiag)Boolean" id="963323">owner_==</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="963392">other</a>: <a href="#963459" title="TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">)</span>   = <a href="#963320" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#963392" title="TypeDiagnostics.this.TypeDiag">other</a>.<a href="#963320" title="=&gt; TypeDiagnostics.this.global.Symbol">trueOwner</a>
    <span class="keyword">def</span> <a title="(other: TypeDiagnostics.this.TypeDiag)Boolean" id="963324">string_==</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="963400">other</a>: <a href="#963459" title="TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">)</span>  = <a href="#963678" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#963400" title="TypeDiagnostics.this.TypeDiag">other</a>.<a href="#963678" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a>
    <span class="keyword">def</span> <a title="(other: TypeDiagnostics.this.TypeDiag)Boolean" id="963325">name_==</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="963408">other</a>: <a href="#963459" title="TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">)</span>    = <a href="#963679" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TypeDiagnostics.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#963408" title="TypeDiagnostics.this.TypeDiag">other</a>.<a href="#963679" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TypeDiagnostics.this.global.Name">name</a>

    <span class="keyword">def</span> <a title="(other: TypeDiagnostics.this.TypeDiag)Int" id="963326">compare</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="963416">other</a>: <a href="#963459" title="TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">)</span> =
      <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#963459" title="TypeDiag.this.type" class="keyword">this</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#963416" title="TypeDiagnostics.this.TypeDiag">other</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span>
      <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#963679" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509294" title="(that: TypeDiagnostics.this.global.Symbol)Boolean">isLess</a> <a href="#963416" title="TypeDiagnostics.this.TypeDiag">other</a>.<a href="#963679" title="=&gt; TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span> -<span title="Int(-1)" class="int">1</span>
      <span class="keyword">else</span> <span title="Int(1)" class="int">1</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="963327">toString</a> = <span class="delimiter">{</span>
      <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;
      |tp = %s
      |tp.typeSymbol = %s
      |tp.typeSymbol.owner = %s
      |tp.typeSymbolDirect = %s
      |tp.typeSymbolDirect.owner = %s
      &quot;&quot;&quot;</a>.<a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">stripMargin</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
        <a href="#963678" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>, <a href="#963678" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>, <a href="#963678" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a>, <a href="#963678" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507161" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbolDirect</a>, <a href="#963678" title="=&gt; TypeDiagnostics.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507161" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbolDirect</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(locals: List[TypeDiagnostics.this.global.Symbol], types: TypeDiagnostics.this.global.Type*)List[TypeDiagnostics.this.TypeDiag]" id="507643">typeDiags</a><span class="delimiter">(</span><a title="List[TypeDiagnostics.this.global.Symbol]" id="963502">locals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[TypeDiagnostics.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="TypeDiagnostics.this.global.Type*" id="963503">types</a>: <span title="TypeDiagnostics.this.global.Type*">Type</span>*<span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[TypeDiagnostics.this.TypeDiag]">List</a><span class="delimiter">[</span>TypeDiag<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">object</span> <a title="object SymExtractor" id="963505">SymExtractor</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
      <span class="keyword">def</span> <a title="(x: Any)Option[(Product with TypeDiagnostics.this.global.Type with Serializable, TypeDiagnostics.this.global.Symbol)]" id="963508">unapply</a><span class="delimiter">(</span><a title="Any" id="963510">x</a>: <span title="Any">Any</span><span class="delimiter">)</span> = <a href="#963510" title="Any">x</a> <span title="Option[(Product with TypeDiagnostics.this.global.Type with Serializable, TypeDiagnostics.this.global.Symbol)]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Some[(TypeDiagnostics.this.global.ConstantType, TypeDiagnostics.this.global.Symbol)]" id="963513">t</a> @ ConstantType<span class="delimiter">(</span>_<span class="delimiter">)</span>    =&gt; <a href="../../../Option.scala.html#57885" title="(x: (TypeDiagnostics.this.global.ConstantType, TypeDiagnostics.this.global.Symbol))Some[(TypeDiagnostics.this.global.ConstantType, TypeDiagnostics.this.global.Symbol)]">Some</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9589" title="(x: TypeDiagnostics.this.global.ConstantType)ArrowAssoc[TypeDiagnostics.this.global.ConstantType]">t</a> <a href="../../../Predef.scala.html#57653" title="(y: TypeDiagnostics.this.global.Symbol)(TypeDiagnostics.this.global.ConstantType, TypeDiagnostics.this.global.Symbol)">-&gt;</a> <a href="#963513" title="TypeDiagnostics.this.global.ConstantType">t</a>.<a href="../symtab/Types.scala.html#546494" title="=&gt; TypeDiagnostics.this.global.Type">underlying</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Option[(TypeDiagnostics.this.global.TypeRef, TypeDiagnostics.this.global.Symbol)]" id="963535">t</a> @ TypeRef<span class="delimiter">(</span>_, <a title="TypeDiagnostics.this.global.Symbol" id="963539">sym</a>, _<span class="delimiter">)</span> =&gt; <span title="Option[(TypeDiagnostics.this.global.TypeRef, TypeDiagnostics.this.global.Symbol)]" class="keyword">if</span> <span class="delimiter">(</span><a href="#963502" title="List[TypeDiagnostics.this.global.Symbol]">locals</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#963539" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#1737" title="object None">None</a> <span class="keyword">else</span> <a href="../../../Option.scala.html#57885" title="(x: (TypeDiagnostics.this.global.TypeRef, TypeDiagnostics.this.global.Symbol))Some[(TypeDiagnostics.this.global.TypeRef, TypeDiagnostics.this.global.Symbol)]">Some</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9589" title="(x: TypeDiagnostics.this.global.TypeRef)ArrowAssoc[TypeDiagnostics.this.global.TypeRef]">t</a> <a href="../../../Predef.scala.html#57653" title="(y: TypeDiagnostics.this.global.Symbol)(TypeDiagnostics.this.global.TypeRef, TypeDiagnostics.this.global.Symbol)">-&gt;</a> <a href="#963539" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="None.type">_</span>                      =&gt; <a href="../../../Option.scala.html#1737" title="object None">None</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">for</span> <span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Type" id="963648">tp</a> &lt;- <a href="#963503" title="TypeDiagnostics.this.global.Type*">types</a>.<a href="../../../collection/TraversableLike.scala.html#49046" title="(f: TypeDiagnostics.this.global.Type =&gt; scala.collection.GenTraversableOnce[TypeDiagnostics.this.TypeDiag])(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.TypeDiag,List[TypeDiagnostics.this.TypeDiag]])List[TypeDiagnostics.this.TypeDiag]">toList</a>; <a href="#963508" title="(x: Any)Option[(Product with TypeDiagnostics.this.global.Type with Serializable, TypeDiagnostics.this.global.Symbol)]">SymExtractor</a><span class="delimiter">(</span><a title="&lt;none&gt; extends Product with TypeDiagnostics.this.global.Type with Serializable" id="963676">t</a>, <a title="TypeDiagnostics.this.global.Symbol" id="963677">sym</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: TypeDiagnostics.this.global.Type =&gt; TypeDiagnostics.this.TypeDiag)(implicit bf: scala.collection.generic.CanBuildFrom[List[TypeDiagnostics.this.global.Type],TypeDiagnostics.this.TypeDiag,List[TypeDiagnostics.this.TypeDiag]])List[TypeDiagnostics.this.TypeDiag]">tp</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#963459" title="(tp: TypeDiagnostics.this.global.Type, sym: TypeDiagnostics.this.global.Symbol)TypeDiagnostics.this.TypeDiag">TypeDiag</a><span class="delimiter">(</span><a href="#963676" title="&lt;none&gt; extends Product with TypeDiagnostics.this.global.Type with Serializable">t</a>, <a href="#963677" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The distinct pairs from an ordered list. */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="[T &lt;: Ordered[T]](xs: Seq[T])Seq[(T, T)]" id="507644">pairs</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Ordered[T]" id="507646">T</a> &lt;: Ordered<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[T]" id="963739">xs</a>: <a href="../../../collection/Seq.scala.html#8648" title="Seq[T]">Seq</a><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/Seq.scala.html#8648" title="Seq[(T, T)]">Seq</a><span class="delimiter">[</span><span class="delimiter">(</span>T, T<span class="delimiter">)</span><span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">for</span> <span class="delimiter">(</span><a title="T" id="963759">el1</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: T =&gt; scala.collection.GenTraversableOnce[(T, T)])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[T],(T, T),Seq[(T, T)]])Seq[(T, T)]">xs</a> ; <a title="T" id="963773">el2</a> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#53486" title="(f: T =&gt; (T, T))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[T],(T, T),Seq[(T, T)]])Seq[(T, T)]">xs</a> ; <span class="keyword">if</span> <a href="#963759" title="T">el1</a> <a href="../../../math/Ordered.scala.html#54423" title="(that: T)Boolean">&lt;</a> <a href="#963773" title="T">el2</a><span class="delimiter">)</span> <span class="keyword">yield</span>
      <span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: T, _2: T)(T, T)" class="delimiter">(</a><a href="#963759" title="T">el1</a>, <a href="#963773" title="T">el2</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Given any number of types, alters the name information in the symbols
   *  until they can be distinguished from one another: then executes the given
   *  code.  The names are restored and the result is returned.
   */</span>
  <span class="keyword">def</span> <a title="[T](locals: List[TypeDiagnostics.this.global.Symbol], types: TypeDiagnostics.this.global.Type*)(op: =&gt; T)T" id="507647">withDisambiguation</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="507649">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[TypeDiagnostics.this.global.Symbol]" id="930809">locals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[TypeDiagnostics.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="TypeDiagnostics.this.global.Type*" id="930810">types</a>: <span title="TypeDiagnostics.this.global.Type*">Type</span>*<span class="delimiter">)</span><span class="delimiter">(</span><a title="=&gt; T" id="930811">op</a>: =&gt; T<span class="delimiter">)</span>: <a href="#507649" title="T">T</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.TypeDiag]" id="963818">typeRefs</a> = <a href="#507643" title="(locals: List[TypeDiagnostics.this.global.Symbol], types: TypeDiagnostics.this.global.Type*)List[TypeDiagnostics.this.TypeDiag]">typeDiags</a><span class="delimiter">(</span><a href="#930809" title="List[TypeDiagnostics.this.global.Symbol]">locals</a>, <a href="#930810" title="TypeDiagnostics.this.global.Type*">types</a>: _*<span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Seq[(TypeDiagnostics.this.TypeDiag, TypeDiagnostics.this.TypeDiag)]" id="963819">toCheck</a>  = <a href="#507644" title="(xs: Seq[TypeDiagnostics.this.TypeDiag])Seq[(TypeDiagnostics.this.TypeDiag, TypeDiagnostics.this.TypeDiag)]">pairs</a><span class="delimiter">(</span><a href="#963818" title="List[TypeDiagnostics.this.TypeDiag]">typeRefs</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49052" title="(p: ((TypeDiagnostics.this.TypeDiag, TypeDiagnostics.this.TypeDiag)) =&gt; Boolean)Seq[(TypeDiagnostics.this.TypeDiag, TypeDiagnostics.this.TypeDiag)]">filterNot</a> <a href="#963831" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="963834">td1</a>, <a title="TypeDiagnostics.this.TypeDiag" id="963835">td2</a><span class="delimiter">)</span> =&gt; <a href="#963834" title="TypeDiagnostics.this.TypeDiag">td1</a> <a href="#963322" title="(other: TypeDiagnostics.this.TypeDiag)Boolean">sym_==</a> <a href="#963835" title="TypeDiagnostics.this.TypeDiag">td2</a> <span class="delimiter">}</span>

    <a href="../../../util/control/Exception.scala.html#415040" title="(body: =&gt; Unit)util.control.Exception.Catch[Nothing]">ultimately</a><a href="../../../util/control/Exception.scala.html#415080" title="(body: =&gt; T)T" class="delimiter">(</a><a href="#963818" title="List[TypeDiagnostics.this.TypeDiag]">typeRefs</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: TypeDiagnostics.this.TypeDiag =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#963858" title="TypeDiagnostics.this.TypeDiag">_</a>.<a href="#963312" title="()Unit">restoreName</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><span class="delimiter">(</span><a title="TypeDiagnostics.this.TypeDiag" id="963893">td1</a>, <a title="TypeDiagnostics.this.TypeDiag" id="963894">td2</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/IterableLike.scala.html#53856" title="(f: ((TypeDiagnostics.this.TypeDiag, TypeDiagnostics.this.TypeDiag)) =&gt; Unit)Unit">toCheck</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[TypeDiagnostics.this.TypeDiag]" id="963895">tds</a> = <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: TypeDiagnostics.this.TypeDiag*)List[TypeDiagnostics.this.TypeDiag]">List</a><span class="delimiter">(</span><a href="#963893" title="TypeDiagnostics.this.TypeDiag">td1</a>, <a href="#963894" title="TypeDiagnostics.this.TypeDiag">td2</a><span class="delimiter">)</span>

        <span class="comment">// If the types print identically, qualify them:</span>
        <span class="comment">//   a) If the dealiased owner is a package, the full path</span>
        <span class="comment">//   b) Otherwise, append (in &lt;owner&gt;)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#963893" title="TypeDiagnostics.this.TypeDiag">td1</a> <a href="#963324" title="(other: TypeDiagnostics.this.TypeDiag)Boolean">string_==</a> <a href="#963894" title="TypeDiagnostics.this.TypeDiag">td2</a><span class="delimiter">)</span>
          <a href="#963895" title="List[TypeDiagnostics.this.TypeDiag]">tds</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: TypeDiagnostics.this.TypeDiag =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#963922" title="TypeDiagnostics.this.TypeDiag">_</a>.<a href="#963319" title="()Unit">nameQualify</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// If they have the same simple name, and either of them is in the</span>
        <span class="comment">// scala package or predef, qualify with scala so it is not confusing why</span>
        <span class="comment">// e.g. java.util.Iterator and Iterator are different types.</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#963893" title="TypeDiagnostics.this.TypeDiag">td1</a> <a href="#963325" title="(other: TypeDiagnostics.this.TypeDiag)Boolean">name_==</a> <a href="#963894" title="TypeDiagnostics.this.TypeDiag">td2</a><span class="delimiter">)</span>
          <a href="#963895" title="List[TypeDiagnostics.this.TypeDiag]">tds</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: TypeDiagnostics.this.TypeDiag =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#963935" title="TypeDiagnostics.this.TypeDiag">_</a>.<a href="#963315" title="()Unit">scalaQualify</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// If they still print identically:</span>
        <span class="comment">//   a) If they are type parameters with different owners, append (in &lt;owner&gt;)</span>
        <span class="comment">//   b) Failing that, the best we can do is append &quot;(some other)&quot; to the latter.</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#963893" title="TypeDiagnostics.this.TypeDiag">td1</a> <a href="#963324" title="(other: TypeDiagnostics.this.TypeDiag)Boolean">string_==</a> <a href="#963894" title="TypeDiagnostics.this.TypeDiag">td2</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#963893" title="TypeDiagnostics.this.TypeDiag">td1</a> <a href="#963323" title="(other: TypeDiagnostics.this.TypeDiag)Boolean">owner_==</a> <a href="#963894" title="TypeDiagnostics.this.TypeDiag">td2</a><span class="delimiter">)</span>
            <a href="#963894" title="TypeDiagnostics.this.TypeDiag">td2</a>.<a href="#963314" title="(f: String =&gt; String)Unit">modifyName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;(some other)&quot;)" class="string">&quot;(some other)&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#963938" title="String">_</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#963895" title="List[TypeDiagnostics.this.TypeDiag]">tds</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: TypeDiagnostics.this.TypeDiag =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#963950" title="TypeDiagnostics.this.TypeDiag">_</a>.<a href="#963318" title="()Unit">typeQualify</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="comment">// performing the actual operation</span>
      <a href="#930811" title="=&gt; T">op</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">trait</span> <a title="trait TyperDiagnostics extends java.lang.Object with ScalaObject" id="507650">TyperDiagnostics</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
    self: Typer =&gt;

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit" id="507653">contextError</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="963956">pos</a>: <a href="../util/Position.scala.html#42664" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="String" id="963957">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="Typers.scala.html#507675" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#508555" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#963956" title="TypeDiagnostics.this.global.Position">pos</a>, <a href="#963957" title="String">msg</a><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, err: Throwable)Unit" id="507654">contextError</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="963969">pos</a>: <a href="../util/Position.scala.html#42664" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="Throwable" id="963970">err</a>: <span title="Throwable">Throwable</span><span class="delimiter">)</span> = <a href="Typers.scala.html#507675" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#508554" title="(pos: TypeDiagnostics.this.global.Position, err: Throwable)Unit">error</a><span class="delimiter">(</span><a href="#963969" title="TypeDiagnostics.this.global.Position">pos</a>, <a href="#963970" title="Throwable">err</a><span class="delimiter">)</span>

    <span class="keyword">object</span> <a title="object TyperDiagnostics.this.checkDead" id="507655">checkDead</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="TypeDiagnostics.this.global.Symbol" id="963980">expr</a>: <a href="../symtab/Symbols.scala.html#478659" title="TypeDiagnostics.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object TypeDiagnostics.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="963982">exprOK</a> = <a href="#963980" title="=&gt; TypeDiagnostics.this.global.Symbol">expr</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#508259" title="=&gt; TypeDiagnostics.this.global.Symbol">Object_synchronized</a>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree)Boolean" id="963983">treeOK</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="963997">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#963997" title="TypeDiagnostics.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#963997" title="TypeDiagnostics.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; TypeDiagnostics.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507933" title="=&gt; TypeDiagnostics.this.global.Symbol">NothingClass</a>

      <span class="keyword">def</span> <a title="(fn: TypeDiagnostics.this.global.Tree)Unit" id="963984">updateExpr</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="964011">fn</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#964011" title="TypeDiagnostics.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#964011" title="TypeDiagnostics.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964011" title="TypeDiagnostics.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
          <a href="#507655" title="object TyperDiagnostics.this.checkDead">checkDead</a>.<a href="#963980" title="(x$1: TypeDiagnostics.this.global.Symbol)Unit">expr</a> = <a href="#964011" title="TypeDiagnostics.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; TypeDiagnostics.this.global.Symbol">symbol</a>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(tree: TypeDiagnostics.this.global.Tree)TypeDiagnostics.this.global.Tree" id="963985">apply</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Tree" id="964019">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="comment">// Error suppression will squash some of these warnings unless we circumvent it.</span>
        <span class="comment">// It is presumed if you are using a -Y option you would really like to hear</span>
        <span class="comment">// the warnings you've requested.</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#469882" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnDeadCode</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Typers.scala.html#507675" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; TypeDiagnostics.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#963983" title="(tree: TypeDiagnostics.this.global.Tree)Boolean">treeOK</a><span class="delimiter">(</span><a href="#964019" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#963982" title="=&gt; Boolean">exprOK</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="964031">saved</a> = <a href="Typers.scala.html#507675" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#508508" title="=&gt; Boolean">reportGeneralErrors</a>
          <span class="keyword">try</span> <span class="delimiter">{</span>
            <a href="Typers.scala.html#507675" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#508509" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="Typers.scala.html#507675" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#508556" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#964019" title="TypeDiagnostics.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; TypeDiagnostics.this.global.Position">pos</a>, <span title="java.lang.String(&quot;dead code following this construct&quot;)" class="string">&quot;dead code following this construct&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">finally</span> <a href="Typers.scala.html#507675" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#508509" title="(x$1: Boolean)Unit">reportGeneralErrors</a> = <a href="#964031" title="Boolean">saved</a>
        <span class="delimiter">}</span>
        <a href="#964019" title="TypeDiagnostics.this.global.Tree">tree</a>
      <span class="delimiter">}</span>

      <span class="comment">// The checkDead call from typedArg is more selective.</span>
      <span class="keyword">def</span> <a title="(mode: Int, tree: TypeDiagnostics.this.global.Tree)TypeDiagnostics.this.global.Tree" id="963986">inMode</a><span class="delimiter">(</span><a title="Int" id="964034">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="TypeDiagnostics.this.global.Tree" id="964035">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="964037">modeOK</a> = <span class="delimiter">(</span><a href="#964034" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode | BYVALmode <span title="Int(32801)">|</span> POLYmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span class="delimiter">(</span>EXPRmode <span title="Int(32769)">|</span> BYVALmode<span class="delimiter">)</span>
        <span title="TypeDiagnostics.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#964037" title="Boolean">modeOK</a><span class="delimiter">)</span> <a href="#963985" title="(tree: TypeDiagnostics.this.global.Tree)TypeDiagnostics.this.global.Tree">apply</a><span class="delimiter">(</span><a href="#964035" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#964035" title="TypeDiagnostics.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: TypeDiagnostics.this.global.Symbol)Boolean" id="507657">symWasOverloaded</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="964059">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#964059" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#964059" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; TypeDiagnostics.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; TypeDiagnostics.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507200" title="(name: TypeDiagnostics.this.global.Name)TypeDiagnostics.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#964059" title="TypeDiagnostics.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; TypeDiagnostics.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../reflect/generic/Symbols.scala.html#435388" title="=&gt; Boolean">isOverloaded</a>
    <span class="keyword">def</span> <a title="(sym: TypeDiagnostics.this.global.Symbol)java.lang.String" id="507658">cyclicAdjective</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="964064">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="TypeDiagnostics.this.global.Symbol">Symbol</a><span class="delimiter">)</span>  = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#507657" title="(sym: TypeDiagnostics.this.global.Symbol)Boolean">symWasOverloaded</a><span class="delimiter">(</span><a href="#964064" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;overloaded&quot;)" class="string">&quot;overloaded&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;recursive&quot;)" class="string">&quot;recursive&quot;</span>

    <span class="comment">/** Returns Some(msg) if the given tree is untyped apparently due
     *  to a cyclic reference, and None otherwise.
     */</span>
    <span class="keyword">def</span> <a title="(sym: TypeDiagnostics.this.global.Symbol, tree: TypeDiagnostics.this.global.Tree)Option[java.lang.String]" id="507659">cyclicReferenceMessage</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="964067">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="TypeDiagnostics.this.global.Symbol">Symbol</a>, <a title="TypeDiagnostics.this.global.Tree" id="964068">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="TypeDiagnostics.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="../../../PartialFunction.scala.html#65103" title="(x: TypeDiagnostics.this.global.Tree)(pf: PartialFunction[TypeDiagnostics.this.global.Tree,java.lang.String])Option[java.lang.String]">condOpt</a><span class="delimiter">(</span><a href="#964068" title="TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#964080" title="java.lang.String" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="java.lang.String">ValDef</span><span class="delimiter">(</span>_, _, <a title="TypeDiagnostics.this.global.Tree" id="964090">tpt</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#964090" title="TypeDiagnostics.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>        =&gt; <span title="java.lang.String(&quot;recursive &quot;)" class="string">&quot;recursive &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#964067" title="TypeDiagnostics.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; needs type&quot;)" class="string">&quot; needs type&quot;</span>
      <span class="keyword">case</span> <span title="String">DefDef</span><span class="delimiter">(</span>_, _, _, _, <a title="TypeDiagnostics.this.global.Tree" id="964118">tpt</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#964118" title="TypeDiagnostics.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; TypeDiagnostics.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span>  =&gt; <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: java.lang.Object*)List[java.lang.Object]">List</a><span class="delimiter">(</span><a href="#507658" title="(sym: TypeDiagnostics.this.global.Symbol)java.lang.String">cyclicAdjective</a><span class="delimiter">(</span><a href="#964067" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#964067" title="TypeDiagnostics.this.global.Symbol">sym</a>, <span title="java.lang.String(&quot;needs result type&quot;)" class="string">&quot;needs result type&quot;</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Report a type error.
     *
     *  @param pos0   The position where to report the error
     *  @param ex     The exception that caused the error
     */</span>
    <span class="keyword">def</span> <a title="(pos: TypeDiagnostics.this.global.Position, ex: TypeDiagnostics.this.global.TypeError)Unit" id="507660">reportTypeError</a><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Position" id="942552">pos</a>: <a href="../util/Position.scala.html#42664" title="TypeDiagnostics.this.global.Position">Position</a>, <a title="TypeDiagnostics.this.global.TypeError" id="942553">ex</a>: <a href="../symtab/Types.scala.html#478998" title="TypeDiagnostics.this.global.TypeError">TypeError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#942553" title="TypeDiagnostics.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#711704" title="=&gt; TypeDiagnostics.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Positions.scala.html#479233" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#942553" title="TypeDiagnostics.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#711705" title="(x$1: TypeDiagnostics.this.global.Position)Unit">pos</a> = <a href="#942552" title="TypeDiagnostics.this.global.Position">pos</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Typers.scala.html#507675" title="=&gt; TypeDiagnostics.this.Context">context</a>.<a href="Contexts.scala.html#508508" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="#942553" title="TypeDiagnostics.this.global.TypeError">ex</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#942553" title="TypeDiagnostics.this.global.TypeError">ex</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <a href="#942553" title="TypeDiagnostics.this.global.TypeError">ex</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">CyclicReference</span><span class="delimiter">(</span><a title="TypeDiagnostics.this.global.Symbol" id="964161">sym</a>, <a title="TypeDiagnostics.this.TypeCompleter" id="964162">info</a>: <a href="Namers.scala.html#507377" title="TypeDiagnostics.this.TypeCompleter">TypeCompleter</a><span class="delimiter">)</span> =&gt;
          <a href="#507653" title="(pos: TypeDiagnostics.this.global.Position, msg: String)Unit">contextError</a><span class="delimiter">(</span><a href="#942553" title="TypeDiagnostics.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#711704" title="=&gt; TypeDiagnostics.this.global.Position">pos</a>, <a href="#507659" title="(sym: TypeDiagnostics.this.global.Symbol, tree: TypeDiagnostics.this.global.Tree)Option[java.lang.String]">cyclicReferenceMessage</a><span class="delimiter">(</span><a href="#964161" title="TypeDiagnostics.this.global.Symbol">sym</a>, <a href="#964162" title="TypeDiagnostics.this.TypeCompleter">info</a>.<a href="Namers.scala.html#931038" title="=&gt; TypeDiagnostics.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#48474" title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</a> <a href="#942553" title="TypeDiagnostics.this.global.TypeError">ex</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#964161" title="TypeDiagnostics.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507925" title="=&gt; TypeDiagnostics.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">throw</span> <span title="scala.tools.nsc.FatalError" class="keyword">new</span> <a href="../FatalError.scala.html#22542" title="scala.tools.nsc.FatalError">FatalError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot redefine root &quot;)" class="string">&quot;cannot redefine root &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#964161" title="TypeDiagnostics.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <a href="#507654" title="(pos: TypeDiagnostics.this.global.Position, err: Throwable)Unit">contextError</a><span class="delimiter">(</span><a href="#942553" title="TypeDiagnostics.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#711704" title="=&gt; TypeDiagnostics.this.global.Position">pos</a>, <a href="#942553" title="TypeDiagnostics.this.global.TypeError">ex</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>