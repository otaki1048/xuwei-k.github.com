<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/RefChecks.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> transform.InfoTransform
<span class="keyword">import</span> scala.collection.mutable.ListBuffer

<span class="comment">/** &lt;p&gt;
 *    Post-attribution checking and transformation.
 *  &lt;/p&gt;
 *  &lt;p&gt;
 *    This phase performs the following checks.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *    &lt;li&gt;All overrides conform to rules.&lt;/li&gt;
 *    &lt;li&gt;All type arguments conform to bounds.&lt;/li&gt;
 *    &lt;li&gt;All type variable uses conform to variance annotations.&lt;/li&gt;
 *    &lt;li&gt;No forward reference to a term symbol extends beyond a value definition.&lt;/li&gt;
 *  &lt;/ul&gt;
 *  &lt;p&gt;
 *    It performs the following transformations.
 *  &lt;/p&gt;
 *  &lt;ul&gt;
 *   &lt;li&gt;Local modules are replaced by variables and classes&lt;/li&gt;
 *   &lt;li&gt;Calls to case factory methods are replaced by new's.&lt;/li&gt;
 *   &lt;li&gt;Eliminate branches in a conditional if the condition is a constant&lt;/li&gt;
 *  &lt;/ul&gt;
 *
 *  @author  Martin Odersky
 *  @version 1.0
 *
 *  @todo    Check whether we always check type parameter bounds.
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class RefChecks extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject" id="41827">RefChecks</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../transform/InfoTransform.scala.html#39277" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="delimiter">{</span>

  <span class="keyword">import</span> <a href="../SubComponent.scala.html#500466" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#479030" title="object RefChecks.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../Global.scala.html#478336" title="object RefChecks.this.global.typer">typer</a>.<span class="delimiter">{</span>typed, typedOperator, atOwner<span class="delimiter">}</span>

  <span class="comment">/** the following two members override abstract members in Transform */</span>
  <span class="keyword">val</span> <a title="String" id="511907">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;refchecks&quot;)" class="string">&quot;refchecks&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="511909">phaseNewFlags</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a> = <a href="../symtab/Flags.scala.html#478439" title="=&gt; Long">lateMETHOD</a>

  <span class="keyword">def</span> <a title="(unit: RefChecks.this.global.CompilationUnit)RefChecks.this.RefCheckTransformer" id="511910">newTransformer</a><span class="delimiter">(</span><a title="RefChecks.this.global.CompilationUnit" id="948944">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="#511918" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a> =
    <span title="RefChecks.this.RefCheckTransformer" class="keyword">new</span> <a href="#511918" title="RefChecks.this.RefCheckTransformer">RefCheckTransformer</a><span class="delimiter">(</span><a href="#948944" title="RefChecks.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="511911">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="511912">transformInfo</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949021">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="949022">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a> =
    <span title="RefChecks.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#949021" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#949021" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509233" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#949021" title="RefChecks.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)sym.type">setFlag</a> <span class="delimiter">(</span><a href="../symtab/Flags.scala.html#478439" title="=&gt; Long">lateMETHOD</a> <a href="../../../Long.scala.html#55154" title="(x: Int)Long">|</a> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span>
      <a href="../symtab/Types.scala.html#546934" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#949022" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#949022" title="RefChecks.this.global.Type">tp</a>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="511913">toJavaRepeatedParam</a> = <a href="#948855" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#478842" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="948855">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="948857">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="948858">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#948858" title="RefChecks.this.global.Type">tp</a> <span title="RefChecks.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="948863">pre</a>, <a href="../symtab/Definitions.scala.html#508057" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>, <a title="List[RefChecks.this.global.Type]" id="948864">args</a><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Types.scala.html#478811" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#948863" title="RefChecks.this.global.Type">pre</a>, <a href="../symtab/Definitions.scala.html#508059" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a href="#948864" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">_</span> =&gt;
        <a href="../symtab/Types.scala.html#532446" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#948858" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="RefChecks.this.global.TypeMap" id="511915">toScalaRepeatedParam</a> = <a href="#948907" title="RefChecks.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#478842" title="anonymous class $anon extends RefChecks.this.global.TypeMap" id="948907">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="948909">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="948910">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a> = <a href="#948910" title="RefChecks.this.global.Type">tp</a> <span title="RefChecks.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="948916">pre</a>, <a href="../symtab/Definitions.scala.html#508059" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a title="List[RefChecks.this.global.Type]" id="948917">args</a><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Types.scala.html#478811" title="(pre: RefChecks.this.global.Type, sym: RefChecks.this.global.Symbol, args: List[RefChecks.this.global.Type])RefChecks.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#948916" title="RefChecks.this.global.Type">pre</a>, <a href="../symtab/Definitions.scala.html#508057" title="=&gt; RefChecks.this.global.Symbol">RepeatedParamClass</a>, <a href="#948917" title="List[RefChecks.this.global.Type]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Type">_</span> =&gt;
        <a href="../symtab/Types.scala.html#532446" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#948910" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)String" id="511917">accessFlagsToString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949032">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../reflect/generic/Flags.scala.html#435633" title="(flags: Long, privateWithin: String)String">flagsToString</a><span class="delimiter">(</span>
    <a href="#949032" title="RefChecks.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509263" title="(mask: Long)Long">getFlag</a> <span class="delimiter">(</span>PRIVATE <span title="Long(5L)">|</span> PROTECTED<span class="delimiter">)</span>,
    <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#949032" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435352" title="=&gt; Boolean">hasAccessBoundary</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#949032" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509123" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class RefCheckTransformer extends RefChecks.this.global.Transformer with ScalaObject" id="511918">RefCheckTransformer</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="RefChecks.this.global.CompilationUnit" id="949017">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="RefChecks.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#479167" title="RefChecks.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>

    <span class="keyword">var</span> <a title="RefChecks.this.global.analyzer.Typer" id="948951">localTyper</a>: analyzer.<a href="Typers.scala.html#507454" title="RefChecks.this.global.analyzer.Typer">Typer</a> = <a href="../Global.scala.html#478336" title="object RefChecks.this.global.typer">typer</a>;
    <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="948954">currentApplication</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a> = <a href="../../../reflect/generic/Trees.scala.html#434035" title="object RefChecks.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">var</span> <a title="Boolean" id="948957">inPattern</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">var</span> <a title="scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" id="948960">checkedCombinations</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: List[RefChecks.this.global.Type]*)scala.collection.immutable.Set[List[RefChecks.this.global.Type]]" class="delimiter">[</span><a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

    <span class="comment">// only one overloaded alternative is allowed to define default arguments</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="948962">checkOverloadedRestrictions</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949494">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <span class="comment">// Using the default getters (such as methodName$default$1) as a cheap way of</span>
      <span class="comment">// finding methods with default parameters. This way, we can limit the members to</span>
      <span class="comment">// those with the DEFAULTPARAM flag, and infer the methods. Looking for the methods</span>
      <span class="comment">// directly requires inspecting the parameter list of every one. That modification</span>
      <span class="comment">// shaved 95% off the time spent in this method.</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="949496">defaultGetters</a>     = <a href="#949494" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507243" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516544" title="=&gt; RefChecks.this.global.nme.NameType">ANYNAME</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(33554432L)">DEFAULTPARAM</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509299" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.TermName]" id="949497">defaultMethodNames</a> = <a href="#949496" title="List[RefChecks.this.global.Symbol]">defaultGetters</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TermName)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TermName,List[RefChecks.this.global.TermName]])List[RefChecks.this.global.TermName]">map</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949518">sym</a> =&gt; <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#516892" title="(name: RefChecks.this.global.Name)RefChecks.this.global.TermName">defaultGetterToMethod</a><span class="delimiter">(</span><a href="#949518" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#949497" title="List[RefChecks.this.global.TermName]">defaultMethodNames</a>.<a href="../../../collection/SeqLike.scala.html#54140" title="=&gt; List[RefChecks.this.global.TermName]">distinct</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.TermName =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.TermName" id="949576">name</a> =&gt;
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="949577">methods</a>      = <a href="#949494" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507243" title="(name: RefChecks.this.global.Name, excludedFlags: Long, requiredFlags: Long, stableOnly: Boolean)RefChecks.this.global.Symbol">findMember</a><span class="delimiter">(</span><a href="#949576" title="RefChecks.this.global.TermName">name</a>, <span title="Long(0L)" class="long">0L</span>, <span title="Long(64L)">METHOD</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509299" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="949578">haveDefaults</a> = <a href="#949577" title="List[RefChecks.this.global.Symbol]">methods</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949582">sym</a> =&gt; <a href="#949582" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509289" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">hasParamWhich</a><span class="delimiter">(</span><a href="#949585" title="RefChecks.this.global.Symbol">_</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435321" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#516878" title="(name: RefChecks.this.global.Name)Boolean">isProtectedAccessorName</a><span class="delimiter">(</span><a href="#949582" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#949578" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71061" title="(len: Int)Int">lengthCompare</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="949591">owners</a> = <a href="#949578" title="List[RefChecks.this.global.Symbol]">haveDefaults</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#949608" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
           <span class="comment">// constructors of different classes are allowed to have defaults</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#949578" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949642">x</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#949642" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#949591" title="List[RefChecks.this.global.Symbol]">owners</a>.<a href="../../../collection/SeqLike.scala.html#54140" title="=&gt; List[RefChecks.this.global.Symbol]">distinct</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#949578" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#949494" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>,
              <span title="java.lang.String(&quot;in &quot;)" class="string">&quot;in &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#949494" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;, multiple overloaded alternatives of &quot;)" class="string">&quot;, multiple overloaded alternatives of &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#949578" title="List[RefChecks.this.global.Symbol]">haveDefaults</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; RefChecks.this.global.Symbol">head</a> <span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot; define default arguments&quot;)" class="string">&quot; define default arguments&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#949591" title="List[RefChecks.this.global.Symbol]">owners</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">forall</a><span class="delimiter">(</span><a href="#949654" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#949494" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span>
                <span class="keyword">else</span> <span title="java.lang.String(&quot;.\012The members with defaults are defined in &quot;)" class="string">&quot;.\nThe members with defaults are defined in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#949591" title="List[RefChecks.this.global.Symbol]">owners</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: RefChecks.this.global.Symbol =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,java.lang.String,List[java.lang.String]]" class="delimiter">(</a><a href="#949675" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509368" title="=&gt; java.lang.String">fullLocationString</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span>, <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#949494" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#514377" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949713">x</a> =&gt; <a href="#949713" title="RefChecks.this.global.Symbol">x</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435298" title="=&gt; Boolean">isImplicit</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#949713" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../symtab/Scopes.scala.html#514374" title="(p: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="949736">sym</a> =&gt;
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="949737">alts</a> = <a href="#949494" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507193" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#949736" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509299" title="=&gt; List[RefChecks.this.global.Symbol]">alternatives</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#949737" title="List[RefChecks.this.global.Symbol]">alts</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          <a href="#949737" title="List[RefChecks.this.global.Symbol]">alts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949765">x</a> =&gt; <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#949765" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;)" class="string">&quot;parameterized overloaded implicit methods are not visible as view bounds&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">// Override checking ------------------------------------------------------------</span>

    <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Boolean" id="948963">hasRepeatedParam</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="949770">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#949770" title="RefChecks.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">MethodType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="949774">formals</a>, <a title="RefChecks.this.global.Type" id="949775">restpe</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Definitions.scala.html#508065" title="(params: List[RefChecks.this.global.Symbol])Boolean">isScalaVarArgs</a><span class="delimiter">(</span><a href="#949774" title="List[RefChecks.this.global.Symbol]">formals</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#948963" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#949775" title="RefChecks.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.Type" id="949779">restpe</a><span class="delimiter">)</span>         =&gt; <a href="#948963" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#949779" title="RefChecks.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span>                           =&gt; <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Add bridges for vararg methods that extend Java vararg methods
     */</span>
    <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="948964">addVarargBridges</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949780">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="949782">self</a> = <a href="#949780" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; RefChecks.this.global.Type">thisType</a>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" id="949783">bridges</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>

      <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="949784">varargBridge</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949785">member</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Type" id="949786">bridgetpe</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="949787">bridge</a> = <a href="#949785" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509304" title="(owner: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#949780" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          .<a href="../symtab/Symbols.scala.html#509110" title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Symbol">setPos</a><span class="delimiter">(</span><a href="#949780" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)RefChecks.this.global.Symbol">setFlag</a><span class="delimiter">(</span><a href="#949785" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509259" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#55155" title="(x: Long)Long">|</a> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
        <a href="#949787" title="RefChecks.this.global.Symbol">bridge</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: RefChecks.this.global.Type)bridge.type">setInfo</a><span class="delimiter">(</span><a href="#949786" title="RefChecks.this.global.Type">bridgetpe</a>.<a href="../symtab/Types.scala.html#507233" title="(owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#949787" title="RefChecks.this.global.Symbol">bridge</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#949780" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a> <a href="#949787" title="RefChecks.this.global.Symbol">bridge</a>
        <span class="keyword">val</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[List[RefChecks.this.global.Symbol]])Some[List[List[RefChecks.this.global.Symbol]]]">List</a><a href="#949832" title="List[RefChecks.this.global.Symbol]" id="949788" class="delimiter">(</a><a title="List[RefChecks.this.global.Symbol]" id="949832">params</a><span class="delimiter">)</span> = <a href="#949787" title="RefChecks.this.global.Symbol">bridge</a>.<a href="../symtab/Symbols.scala.html#509288" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>
        <span class="keyword">val</span> TypeRef<a href="#949849" title="RefChecks.this.global.Type" id="949789" class="delimiter">(</a>_, <a href="../symtab/Definitions.scala.html#508059" title="=&gt; RefChecks.this.global.Symbol">JavaRepeatedParamClass</a>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[RefChecks.this.global.Type])Some[List[RefChecks.this.global.Type]]">List</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="949849">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="#949788" title="List[RefChecks.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71051" title="=&gt; RefChecks.this.global.Symbol">last</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>
        <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[RefChecks.this.global.Ident], RefChecks.this.global.Ident)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[RefChecks.this.global.Ident]" id="949791">initargs</a>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[RefChecks.this.global.Ident])Some[List[RefChecks.this.global.Ident]]">List</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53404" title="RefChecks.this.global.Ident" id="949792">lastarg0</a><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#949788" title="List[RefChecks.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Ident,List[RefChecks.this.global.Ident]])List[RefChecks.this.global.Ident]">map</a> <a href="../ast/Trees.scala.html#479144" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Ident">Ident</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49167" title="(n: Int)(List[RefChecks.this.global.Ident], List[RefChecks.this.global.Ident])">splitAt</a> <span class="delimiter">(</span><a href="#949788" title="List[RefChecks.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Typed" id="949793">lastarg</a> = <a href="../Global.scala.html#478214" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507306" title="(tree: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Typed">wildcardStar</a><span class="delimiter">(</span><a href="../Global.scala.html#478214" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507310" title="(tree: RefChecks.this.global.gen.global.Tree, elemtp: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Apply">mkWrapArray</a><span class="delimiter">(</span><a href="#949792" title="RefChecks.this.global.Ident">lastarg0</a>, <a href="#949789" title="RefChecks.this.global.Type">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Apply" id="949794">body</a> = <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479142" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Tree">This</a><span class="delimiter">(</span><a href="#949780" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#949785" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="#949791" title="List[RefChecks.this.global.Ident]">initargs</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[RefChecks.this.global.gen.global.Tree with Serializable])List[RefChecks.this.global.gen.global.Tree with Serializable]">:::</a> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.gen.global.Typed*)List[RefChecks.this.global.gen.global.Typed]">List</a><span class="delimiter">(</span><a href="#949793" title="RefChecks.this.global.gen.global.Typed">lastarg</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#948951" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#507768" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
          <span class="comment">/*util.trace(&quot;generating varargs bridge&quot;)*/</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479132" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#949787" title="RefChecks.this.global.Symbol">bridge</a>, <a href="#949794" title="RefChecks.this.global.Apply">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">// For all concrete non-private members that have a (Scala) repeated parameter:</span>
      <span class="comment">//   compute the corresponding method type `jtpe` with a Java repeated parameter</span>
      <span class="comment">//   if a method with type `jtpe` exists and that method is not a varargs bridge</span>
      <span class="comment">//   then create a varargs bridge of type `jtpe` that forwards to the</span>
      <span class="comment">//   member method with the Scala vararg type.</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950058">member</a> &lt;- <a href="#949780" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Symbol =&gt; Any)Unit">nonPrivateMembers</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950058" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#948963" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#950058" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="950059">jtpe</a> = <a href="../../../Function1.scala.html#53453" title="(v1: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#949782" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#950058" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="950060">inherited</a> = <a href="#949780" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507202" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#950058" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509300" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span>
            <a title="RefChecks.this.global.Symbol" id="950067">sym</a> =&gt; <span class="delimiter">(</span><a href="#949782" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#950067" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#507227" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#950059" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950067" title="RefChecks.this.global.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
            <span class="comment">// this is a bit tortuous: we look for non-private members or bridges</span>
            <span class="comment">// if we find a bridge everything is OK. If we find another member,</span>
            <span class="comment">// we need to create a bridge</span>
          <span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#950060" title="RefChecks.this.global.Symbol">inherited</a>.<a href="../symtab/Symbols.scala.html#509245" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#949783" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: RefChecks.this.global.Tree)bridges.type">+=</a> <a href="#949784" title="(member: RefChecks.this.global.Symbol, bridgetpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">varargBridge</a><span class="delimiter">(</span><a href="#950058" title="RefChecks.this.global.Symbol">member</a>, <a href="#950059" title="RefChecks.this.global.Type">jtpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#949783" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Tree]">bridges</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[RefChecks.this.global.Tree]">toList</a>
    <span class="delimiter">}</span>

    <span class="comment">/** 1. Check all members of class `clazz' for overriding conditions.
     *  That is for overriding member M and overridden member O:
     *
     *    1.1. M must have the same or stronger access privileges as O.
     *    1.2. O must not be final.
     *    1.3. O is deferred, or M has `override' modifier.
     *    1.4. If O is stable, then so is M.
     *     // @M: LIFTED 1.5. Neither M nor O are a parameterized type alias
     *    1.6. If O is a type alias, then M is an alias of O.
     *    1.7. If O is an abstract type then
     *       1.7.1 either M is an abstract type, and M's bounds are sharper than O's bounds.
     *             or M is a type alias or class which conforms to O's bounds.
     *       1.7.2 higher-order type arguments must respect bounds on higher-order type parameters  -- @M
     *              (explicit bounds and those implied by variance annotations) -- @see checkKindBounds
     *    1.8. If O and M are values, then
     *    1.8.1  M's type is a subtype of O's type, or
     *    1.8.2  M is of type []S, O is of type ()T and S &lt;: T, or
     *    1.8.3  M is of type ()S, O is of type []T and S &lt;: T, or
     *  2. Check that only abstract classes have deferred members
     *  3. Check that concrete classes do not have deferred definitions
     *     that are not implemented in a subclass.
     *  4. Check that every member with an `override' modifier
     *     overrides some other member.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit" id="948965">checkAllOverrides</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950096">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="950099">typesOnly</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>

      case <span class="keyword">class</span> <a title="class MixinOverrideError extends java.lang.Object with ScalaObject with Product with Serializable" id="950146">MixinOverrideError</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="RefChecks.this.global.Symbol" id="950997">member</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="String" id="950998">msg</a>: <span title="String">String</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[MixinOverrideError]" id="950103">mixinOverrideErrors</a> = <span title="scala.collection.mutable.ListBuffer[MixinOverrideError]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">ListBuffer</a><span class="delimiter">[</span>MixinOverrideError<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="()Unit" id="950104">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#950103" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[MixinOverrideError]">toList</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="Unit">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="Unit">List</a><span class="delimiter">(</span>MixinOverrideError<span class="delimiter">(</span>_, <a title="String" id="950222">msg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#950222" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">MixinOverrideError</span><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950227">member</a>, <a title="String" id="950228">msg</a><span class="delimiter">)</span> :: <a title="List[MixinOverrideError]" id="950229">others</a> =&gt;
            <span class="keyword">val</span> <a title="List[String]" id="950230">others1</a> = <a href="#950229" title="List[MixinOverrideError]">others</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: MixinOverrideError =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[MixinOverrideError],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#950247" title="MixinOverrideError">_</a>.<a href="#950997" title="=&gt; RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501159" title="=&gt; String">decode</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableLike.scala.html#49051" title="(p: String =&gt; Boolean)List[String]">filter</a><span class="delimiter">(</span><a href="#950227" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501159" title="=&gt; String">decode</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#950280" title="String">_</a><span class="delimiter">)</span>.<a href="../../../collection/SeqLike.scala.html#54140" title="=&gt; List[String]">distinct</a>
            <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
              <a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>,
              <a href="#950228" title="String">msg</a><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#950230" title="List[String]">others1</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
                   <span class="keyword">else</span> <span title="java.lang.String(&quot;;\012 other members with override errors are: &quot;)" class="string">&quot;;\n other members with override errors are: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><a href="#950230" title="List[String]">others1</a> <a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="950105">self</a> = <a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; RefChecks.this.global.Type">thisType</a>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="950106">isAbstractTypeWithoutFBound</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950289">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="comment">// (part of DEVIRTUALIZE)</span>
        <a href="#950289" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950107" title="(tsym: RefChecks.this.global.Symbol)Boolean">isFBounded</a><span class="delimiter">(</span><a href="#950289" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(tsym: RefChecks.this.global.Symbol)Boolean" id="950107">isFBounded</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950290">tsym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#950290" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507229" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a> <a href="../symtab/BaseTypeSeqs.scala.html#594277" title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#950293" title="RefChecks.this.global.Type">_</a> <a href="../symtab/Types.scala.html#507218" title="(sym: RefChecks.this.global.Symbol)Boolean">contains</a> <a href="#950290" title="RefChecks.this.global.Symbol">tsym</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)java.lang.String" id="950108">infoString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950295">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#950110" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)java.lang.String">infoString0</a><span class="delimiter">(</span><a href="#950295" title="RefChecks.this.global.Symbol">sym</a>, <a href="#950295" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#950096" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)java.lang.String" id="950109">infoStringWithLocation</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950306">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#950110" title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)java.lang.String">infoString0</a><span class="delimiter">(</span><a href="#950306" title="RefChecks.this.global.Symbol">sym</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, showLocation: Boolean)java.lang.String" id="950110">infoString0</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950296">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="Boolean" id="950297">showLocation</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="950298">sym1</a> = <a href="../Global.scala.html#478282" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#507383" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#950296" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#950298" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509365" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
        <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#950297" title="Boolean">showLocation</a><span class="delimiter">)</span>
          <a href="#950298" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span>
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#950298" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;, which equals &quot;)" class="string">&quot;, which equals &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950105" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507206" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#950298" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#950298" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span title="java.lang.String(&quot; with bounds &quot;)" class="string">&quot; with bounds &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950105" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507206" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#950298" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#950298" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span title="java.lang.String(&quot; of type &quot;)" class="string">&quot; of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950105" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507206" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#950298" title="RefChecks.this.global.analyzer.global.Symbol">sym1</a><span class="delimiter">)</span>
           <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
         <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type)Boolean" id="950111">overridesType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="950307">tp1</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Type" id="950308">tp2</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="../../../Tuple2.scala.html#53390" title="(_1: RefChecks.this.global.Type, _2: RefChecks.this.global.Type)(RefChecks.this.global.Type, RefChecks.this.global.Type)" class="delimiter">(</a><a href="#950307" title="RefChecks.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#950308" title="RefChecks.this.global.Type">tp2</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>MethodType<span class="delimiter">(</span><a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="RefChecks.this.global.Type" id="950331">rtp1</a><span class="delimiter">)</span>, NullaryMethodType<span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="950333">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#950331" title="RefChecks.this.global.Type">rtp1</a> <a href="../symtab/Types.scala.html#507220" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#950333" title="RefChecks.this.global.Type">rtp2</a>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>NullaryMethodType<span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="950338">rtp1</a><span class="delimiter">)</span>, MethodType<span class="delimiter">(</span><a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[RefChecks.this.global.Symbol])Some[List[RefChecks.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a title="RefChecks.this.global.Type" id="950353">rtp2</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#950338" title="RefChecks.this.global.Type">rtp1</a> <a href="../symtab/Types.scala.html#507220" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#950353" title="RefChecks.this.global.Type">rtp2</a>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>TypeRef<span class="delimiter">(</span>_, <a title="RefChecks.this.global.Symbol" id="950360">sym</a>, _<span class="delimiter">)</span>,  _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#950360" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span> =&gt;
          <a href="#950111" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type)Boolean">overridesType</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#546934" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#950307" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>, <a href="#950308" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">_</span> =&gt;
          <a href="#950307" title="RefChecks.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#507220" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#950308" title="RefChecks.this.global.Type">tp2</a>
      <span class="delimiter">}</span>

      <span class="comment">/** Check that all conditions for overriding `other` by `member`
       *  of class `clazz` are met.
       */</span>
      <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit" id="950112">checkOverride</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950362">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="950363">member</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="950364">other</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="950365">noErrorType</a> = <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#478727" title="object RefChecks.this.global.ErrorType">ErrorType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#478727" title="object RefChecks.this.global.ErrorType">ErrorType</a>
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="950366">isRootOrNone</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950382">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#950382" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507882" title="=&gt; RefChecks.this.global.ModuleClassSymbol">RootClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#950382" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>

        <span class="keyword">def</span> <a title="(msg: String)Unit" id="950367">overrideError</a><span class="delimiter">(</span><a title="String" id="950391">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950365" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="java.lang.String" id="950392">fullmsg</a> =
              <span title="java.lang.String(&quot;overriding &quot;)" class="string">&quot;overriding &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950109" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;;\012 &quot;)" class="string">&quot;;\n &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
              <a href="#950108" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950391" title="String">msg</a><span title="(x$1: Any)java.lang.String">+</span>
              <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
                <span title="java.lang.String(&quot;;\012 (Note that &quot;)" class="string">&quot;;\n (Note that &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950109" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is abstract,&quot;)" class="string">&quot; is abstract,&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
               <span title="java.lang.String(&quot;\012  and is therefore overridden by concrete &quot;)" class="string">&quot;\n  and is therefore overridden by concrete &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950109" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoStringWithLocation</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span>
               <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#950362" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#950392" title="java.lang.String">fullmsg</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#950103" title="scala.collection.mutable.ListBuffer[MixinOverrideError]">mixinOverrideErrors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: MixinOverrideError)scala.collection.mutable.ListBuffer[MixinOverrideError]">+=</a> <span title="MixinOverrideError" class="keyword">new</span> <a href="#950146" title="MixinOverrideError">MixinOverrideError</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>, <a href="#950392" title="java.lang.String">fullmsg</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="950368">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950365" title="=&gt; Boolean">noErrorType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has incompatible type&quot;)" class="string">&quot;has incompatible type&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="950369">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="String" id="950417">otherAccess</a> = <a href="#511917" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
          <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has weaker access privileges; it should be &quot;)" class="string">&quot;has weaker access privileges; it should be &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#950417" title="String">otherAccess</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;public&quot;)" class="string">&quot;public&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;at least &quot;)" class="string">&quot;at least &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950417" title="String">otherAccess</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="comment">//Console.println(infoString(member) + &quot; overrides &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>

        <span class="comment">// return if we already checked this combination elsewhere</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#950362" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">//Console.println(infoString(member) + &quot; shadows1 &quot; + infoString(other) &quot; in &quot; + clazz);//DEBUG</span>
            <span title="Nothing" class="keyword">return</span>;
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950362" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="950439">parent</a> =&gt;
            <span class="delimiter">(</span><a href="#950439" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#950439" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">//Console.println(infoString(member) + &quot; shadows2 &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>
                <span title="Nothing" class="keyword">return</span>;
            <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950362" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="950448">parent</a> =&gt;
            <span class="delimiter">(</span><a href="#950448" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55577" title="(x: Boolean)Boolean">==</a> <span class="delimiter">(</span><a href="#950448" title="RefChecks.this.global.Type">parent</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">//Console.println(infoString(member) + &quot; shadows &quot; + infoString(other) + &quot; in &quot; + clazz);//DEBUG</span>
              <span title="Nothing" class="keyword">return</span>;
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">/** Is the intersection between given two lists of overridden symbols empty?
         */</span>
        <span class="keyword">def</span> <a title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean" id="950370">intersectionIsEmpty</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="950454">syms1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Symbol]" id="950455">syms2</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> =
          <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950454" title="List[RefChecks.this.global.Symbol]">syms1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#950455" title="List[RefChecks.this.global.Symbol]">syms2</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950099" title="Boolean">typesOnly</a><span class="delimiter">)</span> <a href="#950371" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">// o: public | protected        | package-protected  (aka java's default access)</span>
          <span class="comment">// ^-may be overridden by member with access privileges-v</span>
          <span class="comment">// m: public | public/protected | public/protected/package-protected-in-same-package-as-o</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> <span class="comment">// (1.1)</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has weaker access privileges; it should not be private&quot;)" class="string">&quot;has weaker access privileges; it should not be private&quot;</span><span class="delimiter">)</span>

          <span class="comment">// todo: align accessibility implication checking with isAccessible in Contexts</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="950463">ob</a> = <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509265" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="950464">mb</a> = <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509265" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">accessBoundary</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="=&gt; Boolean" id="950465">isOverrideAccessOK</a> = <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435312" title="=&gt; Boolean">isPublic</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>      <span class="comment">// member is public, definitely same or relaxed access</span>
            <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435303" title="=&gt; Boolean">isProtected</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435303" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>    <span class="comment">// if o is protected, so is m</span>
            <span class="delimiter">(</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950366" title="(sym: RefChecks.this.global.Symbol)Boolean">isRootOrNone</a><span class="delimiter">(</span><a href="#950463" title="RefChecks.this.global.Symbol">ob</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950463" title="RefChecks.this.global.Symbol">ob</a>.<a href="../symtab/Symbols.scala.html#509255" title="(sym: RefChecks.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#950464" title="RefChecks.this.global.Symbol">mb</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>  <span class="comment">// m relaxes o's access boundary</span>
              <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>                           <span class="comment">// overriding a protected java member, see #3946</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950465" title="=&gt; Boolean">isOverrideAccessOK</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#950369" title="()Unit">overrideAccessError</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot be used here - classes and objects cannot be overridden&quot;)" class="string">&quot;cannot be used here - classes and objects cannot be overridden&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot be used here - classes and objects can only override abstract types&quot;)" class="string">&quot;cannot be used here - classes and objects can only override abstract types&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(32L)">FINAL</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.2)</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot override final member&quot;)" class="string">&quot;cannot override final member&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>OVERRIDE | ABSOVERRIDE <span title="Long(2359298L)">|</span> SYNTHETIC<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.3), SYNTHETIC because of DEVIRTUALIZE</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;needs `override\' modifier&quot;)" class="string">&quot;needs `override' modifier&quot;</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(262144L)">ABSOVERRIDE</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509244" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#950362" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(262144L)">ABSOVERRIDE</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;needs `abstract override\' modifiers&quot;)" class="string">&quot;needs `abstract override' modifiers&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509311" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#509169" title="=&gt; Boolean">isVariable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509311" title="=&gt; RefChecks.this.global.Symbol">accessed</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435299" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot override a mutable variable&quot;)" class="string">&quot;cannot override a mutable variable&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#507231" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#950499" title="RefChecks.this.global.Symbol">_</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="#950370" title="(syms1: List[RefChecks.this.global.Symbol], syms2: List[RefChecks.this.global.Symbol])Boolean">intersectionIsEmpty</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509341" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a>, <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509341" title="=&gt; List[RefChecks.this.global.Symbol]">extendedOverriddenSymbols</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span class="string">&quot;cannot override a concrete member without a third member that's overridden by both &quot;</span><span title="java.lang.String(&quot;cannot override a concrete member without a third member that\'s overridden by both (this rule is designed to prevent ``accidental overrides\'\')&quot;)">+</span>
                          <span class="string">&quot;(this rule is designed to prevent ``accidental overrides'')&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.4)</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;needs to be a stable, immutable value&quot;)" class="string">&quot;needs to be a stable, immutable value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509168" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509168" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/Symbols.scala.html#435390" title="=&gt; Boolean">isSourceMethod</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot override a concrete non-lazy value&quot;)" class="string">&quot;cannot override a concrete non-lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509168" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/Symbols.scala.html#435390" title="=&gt; Boolean">isSourceMethod</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509168" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(2147483648L)">LAZY</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;must be declared lazy to override a concrete lazy value&quot;)" class="string">&quot;must be declared lazy to override a concrete lazy value&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#950371" title="()Unit">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#469892" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryOverride</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509288" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509288" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;non-nullary method overrides nullary method&quot;)" class="string">&quot;non-nullary method overrides nullary method&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="()Unit" id="950371">checkOverrideTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">//if (!member.typeParams.isEmpty) (1.5)  @MAT</span>
            <span class="comment">//  overrideError(&quot;may not be parameterized&quot;);</span>
            <span class="comment">//if (!other.typeParams.isEmpty)  (1.5)   @MAT</span>
            <span class="comment">//  overrideError(&quot;may not override parameterized type&quot;);</span>
            <span class="comment">// @M: substSym</span>

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#950105" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#507210" title="(from: List[RefChecks.this.global.Symbol], to: List[RefChecks.this.global.Symbol])RefChecks.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#507225" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#950105" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">)</span> <span class="comment">// (1.6)</span>
              <a href="#950368" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>;
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">//if (!member.typeParams.isEmpty) // (1.7)  @MAT</span>
            <span class="comment">//  overrideError(&quot;may not be parameterized&quot;);</span>

            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="950518">memberTp</a> = <a href="#950105" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="950519">otherTp</a> = <a href="#950105" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507206" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950519" title="RefChecks.this.global.Type">otherTp</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../symtab/Types.scala.html#546592" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#950518" title="RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1.7.1)</span>
              <a href="#950368" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>; <span class="comment">// todo: do an explaintypes with bounds here</span>
              <a href="../symtab/Types.scala.html#479009" title="(op: (RefChecks.this.global.Type, RefChecks.this.global.Type) =&gt; Any, found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#950530" title="RefChecks.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a> <a href="../symtab/Types.scala.html#546592" title="(that: RefChecks.this.global.Type)Boolean">containsType</a> <a href="#950531" title="RefChecks.this.global.Type">_</a>, <a href="#950519" title="RefChecks.this.global.Type">otherTp</a>, <a href="#950518" title="RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span class="comment">// check overriding (abstract type --&gt; abstract type or abstract type --&gt; concrete type member (a type alias))</span>
            <span class="comment">// making an abstract type member concrete is like passing a type argument</span>
            <span class="keyword">val</span> <a title="List[String]" id="950520">kindErrors</a> = <a href="../Global.scala.html#478336" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#507666" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#507836" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</a><span class="delimiter">(</span><a href="#950518" title="RefChecks.this.global.Type">memberTp</a><span class="delimiter">)</span>, <a href="#950105" title="RefChecks.this.global.Type">self</a>, <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span> <span class="comment">// (1.7.2)</span>

            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950520" title="List[String]">kindErrors</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
              <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>,
                <span title="java.lang.String(&quot;The kind of &quot;)" class="string">&quot;The kind of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509358" title="=&gt; String">keyString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509372" title="=&gt; String">varianceString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509363" title="=&gt; java.lang.String">nameString</a><span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; does not conform to the expected kind of &quot;)" class="string">&quot; does not conform to the expected kind of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509375" title="=&gt; String">defString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                <a href="#950520" title="List[String]">kindErrors</a>.<a href="../../../collection/immutable/List.scala.html#49162" title="=&gt; List[String]">toList</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="comment">// check a type alias's RHS corresponds to its declaration</span>
            <span class="comment">// this overlaps somewhat with validateVariance</span>
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[String]" id="950553">kindErrors</a> = <a href="../Global.scala.html#478336" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#507666" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#507836" title="(tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol)List[String]">checkKindBounds</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.Type*)List[RefChecks.this.global.Type]">List</a><span class="delimiter">(</span><a href="#950518" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; RefChecks.this.global.Type">normalize</a><span class="delimiter">)</span>, <a href="#950105" title="RefChecks.this.global.Type">self</a>, <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>

              <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950553" title="List[String]">kindErrors</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
                <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>,
                  <span title="java.lang.String(&quot;The kind of the right-hand side &quot;)" class="string">&quot;The kind of the right-hand side &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950518" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; RefChecks.this.global.Type">normalize</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509358" title="=&gt; String">keyString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509372" title="=&gt; String">varianceString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509363" title="=&gt; java.lang.String">nameString</a><span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not conform to its expected kind.&quot;)" class="string">&quot; does not conform to its expected kind.&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <a href="#950553" title="List[String]">kindErrors</a>.<a href="../../../collection/immutable/List.scala.html#49162" title="=&gt; List[String]">toList</a>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950518" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#507152" title="=&gt; Boolean">isVolatile</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950519" title="RefChecks.this.global.Type">otherTp</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#507152" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;)" class="string">&quot;is a volatile type; cannot override a type with non-volatile upper bound&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#950364" title="RefChecks.this.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509283" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// #2454</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="950571">memberTp</a> = <a href="#950105" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="950572">otherTp</a> = <a href="#950105" title="RefChecks.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#950364" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950111" title="(tp1: RefChecks.this.global.Type, tp2: RefChecks.this.global.Type)Boolean">overridesType</a><span class="delimiter">(</span><a href="#950571" title="RefChecks.this.global.Type">memberTp</a>, <a href="#950572" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// 8</span>
              <a href="#950368" title="()Unit">overrideTypeError</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="../symtab/Types.scala.html#479008" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#950571" title="RefChecks.this.global.Type">memberTp</a>, <a href="#950572" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950572" title="RefChecks.this.global.Type">otherTp</a>.<a href="../symtab/Types.scala.html#507152" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <span class="delimiter">{</span>
	          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950571" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#507152" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#950367" title="(msg: String)Unit">overrideError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;has a volatile type; cannot override a member with non-volatile type&quot;)" class="string">&quot;has a volatile type; cannot override a member with non-volatile type&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#950571" title="RefChecks.this.global.Type">memberTp</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; RefChecks.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; RefChecks.this.global.Type">resultType</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Unit" id="950578">rt</a>: <a href="../symtab/Types.scala.html#478755" title="RefChecks.this.global.RefinedType">RefinedType</a> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950578" title="RefChecks.this.global.RefinedType">rt</a> <a href="../symtab/Types.scala.html#507225" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#950572" title="RefChecks.this.global.Type">otherTp</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#948960" title="=&gt; scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">checkedCombinations</a> <a href="../../../collection/SetLike.scala.html#65655" title="(elem: List[RefChecks.this.global.Type])Boolean">contains</a> <a href="#950578" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../symtab/Types.scala.html#546682" title="=&gt; List[RefChecks.this.global.Type]">parents</a><span class="delimiter">)</span> =&gt;
                  <span class="comment">// might mask some inconsistencies -- check overrides</span>
                  <a href="#948960" title="(x$1: scala.collection.immutable.Set[List[RefChecks.this.global.Type]])Unit">checkedCombinations</a> <a href="../../../collection/SetLike.scala.html#65656" title="(elem: List[RefChecks.this.global.Type])scala.collection.immutable.Set[List[RefChecks.this.global.Type]]">+=</a> <a href="#950578" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../symtab/Types.scala.html#546682" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
                  <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="950586">tsym</a> = <a href="#950578" title="RefChecks.this.global.RefinedType">rt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>;
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#950586" title="RefChecks.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Positions.scala.html#479233" title="=&gt; tools.nsc.util.NoPosition.type">NoPosition</a><span class="delimiter">)</span> <a href="#950586" title="RefChecks.this.global.Symbol">tsym</a> <a href="../symtab/Symbols.scala.html#509110" title="(pos: RefChecks.this.global.Position)tsym.type">setPos</a> <a href="#950363" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>
                  <a href="#948965" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="#950586" title="RefChecks.this.global.Symbol">tsym</a>, typesOnly = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span title="Unit" class="delimiter">}</span>

      <span class="keyword">val</span> <a title="RefChecks.this.global.overridingPairs.Cursor" id="950113">opc</a> = <span title="RefChecks.this.global.overridingPairs.Cursor" class="keyword">new</span> <a href="../Global.scala.html#478222" title="object RefChecks.this.global.overridingPairs">overridingPairs</a>.<a href="../transform/OverridingPairs.scala.html#508956" title="RefChecks.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#950113" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#894513" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#950115" title="()Unit" class="delimiter">{</a>
        <span class="comment">//Console.println(opc.overriding/* + &quot;:&quot; + opc.overriding.tpe*/ + &quot; in &quot;+opc.overriding.fullName + &quot; overrides &quot; + opc.overridden/* + &quot;:&quot; + opc.overridden.tpe*/ + &quot; in &quot;+opc.overridden.fullName + &quot;/&quot;+ opc.overridden.hasFlag(DEFERRED));//debug</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950113" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#894510" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#950112" title="(clazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol, other: RefChecks.this.global.Symbol)Unit">checkOverride</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>, <a href="#950113" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#894507" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#950113" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#894510" title="=&gt; RefChecks.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span>;

        <a href="#950113" title="RefChecks.this.global.overridingPairs.Cursor">opc</a>.<a href="../transform/OverridingPairs.scala.html#894514" title="()Unit">next</a>
      <span class="delimiter">}</span>
      <a href="#950104" title="()Unit">printMixinOverrideErrors</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="comment">// Verifying a concrete class has nothing unimplemented.</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(8L)">ABSTRACT</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950099" title="Boolean">typesOnly</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[String]" id="950613">abstractErrors</a> = <span title="scala.collection.mutable.ListBuffer[String]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[String]">ListBuffer</a><span class="delimiter">[</span>String<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="=&gt; String" id="950614">abstractErrorMessage</a> =
          <span class="comment">// a little formatting polish</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#950613" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61941" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> <a href="#950613" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <a href="../../../collection/generic/TraversableForwarder.scala.html#62021" title="(sep: String)String">mkString</a> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span>
          <span class="keyword">else</span> <a href="#950613" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; scala.collection.mutable.ListBuffer[String]">tail</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#62020" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><a href="#950613" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61983" title="=&gt; String">head</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:\012&quot;)" class="string">&quot;:\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(mustBeMixin: Boolean, msg: String)Unit" id="950615">abstractClassError</a><span class="delimiter">(</span><a title="Boolean" id="950629">mustBeMixin</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a>, <a title="String" id="950630">msg</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="950631">prelude</a> = <span class="delimiter">(</span>
            <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509192" title="=&gt; Boolean">isAnonymousClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;object creation impossible&quot;)" class="string">&quot;object creation impossible&quot;</span>
            <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#950629" title="Boolean">mustBeMixin</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot; needs to be a mixin&quot;)" class="string">&quot; needs to be a mixin&quot;</span>
            <span class="keyword">else</span> <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">clazz</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot; needs to be abstract&quot;)" class="string">&quot; needs to be abstract&quot;</span>
          <span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;, since&quot;)" class="string">&quot;, since&quot;</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950613" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61939" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#950613" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61787" title="(xs: scala.collection.TraversableOnce[String])abstractErrors.type">++=</a> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: String*)List[String]">List</a><span class="delimiter">(</span><a href="#950631" title="=&gt; java.lang.String">prelude</a>, <a href="#950630" title="String">msg</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#950613" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: String)abstractErrors.type">+=</a> <a href="#950630" title="String">msg</a>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol" id="950616">javaErasedOverridingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950659">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a> =
          <a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507202" title="(name: RefChecks.this.global.Name, admit: Long)RefChecks.this.global.Symbol">nonPrivateMemberAdmitting</a><span class="delimiter">(</span><a href="#950659" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a>, <span title="Long(67108864L)">BRIDGE</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509300" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950661">other</a> =&gt;
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950661" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950661" title="RefChecks.this.global.Symbol">other</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
              <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type" id="950662">uncurryAndErase</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="950665">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../Global.scala.html#478300" title="object RefChecks.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#631252" title="(tp: RefChecks.this.global.erasure.global.Type)RefChecks.this.global.erasure.global.Type">erasure</a><span class="delimiter">(</span><a href="../Global.scala.html#478292" title="object RefChecks.this.global.uncurry">uncurry</a>.<a href="../transform/UnCurry.scala.html#512040" title="(sym: RefChecks.this.global.uncurry.global.Symbol, tp: RefChecks.this.global.uncurry.global.Type)RefChecks.this.global.uncurry.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#950659" title="RefChecks.this.global.Symbol">sym</a>, <a href="#950665" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// #3622: erasure operates on uncurried types -- note on passing sym in both cases: only sym.isType is relevant for uncurry.transformInfo</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="950663">tp1</a> = <a href="#950662" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#950659" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.erasure.global.Type" id="950664">tp2</a> = <a href="#950662" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.erasure.global.Type">uncurryAndErase</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#950661" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482536" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#950663" title="RefChecks.this.global.erasure.global.Type">tp1</a> <a href="../symtab/Types.scala.html#507227" title="(that: RefChecks.this.global.erasure.global.Type)Boolean">matches</a> <a href="#950664" title="RefChecks.this.global.erasure.global.Type">tp2</a><span class="delimiter">)</span>
            <span class="delimiter">}</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(member: RefChecks.this.global.Symbol)Boolean" id="950617">ignoreDeferred</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950680">member</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
          <a href="#950106" title="(sym: RefChecks.this.global.Symbol)Boolean">isAbstractTypeWithoutFBound</a><span class="delimiter">(</span><a href="#950680" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
          <span class="delimiter">(</span><a href="#950680" title="RefChecks.this.global.Symbol">member</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
           <span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; RefChecks.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482536" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../NoPhase.scala.html#22774" title="object scala.tools.nsc.NoPhase">NoPhase</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="comment">// the test requires atPhase(erasurePhase.next) so shouldn't be done if the compiler has no erasure phase available</span>
            <a href="#950616" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">javaErasedOverridingSym</a><span class="delimiter">(</span><a href="#950680" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// 2. Check that only abstract classes have deferred members</span>
        <span class="keyword">def</span> <a title="()Unit" id="950618">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="comment">// Avoid spurious duplicates: first gather any missing members.</span>
          <span class="keyword">def</span> <a title="=&gt; List[RefChecks.this.global.Symbol]" id="950691">memberList</a> = <a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507197" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[RefChecks.this.global.Symbol]" id="950693">missing</a>, <a href="../../../Tuple2.scala.html#53404" title="List[RefChecks.this.global.Symbol]" id="950694">rest</a><span class="delimiter">)</span> = <a href="#950691" title="=&gt; List[RefChecks.this.global.Symbol]">memberList</a> <a href="../../../collection/TraversableLike.scala.html#49058" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)(List[RefChecks.this.global.Symbol], List[RefChecks.this.global.Symbol])">partition</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950701">m</a> =&gt; <a href="#950701" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950617" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#950701" title="RefChecks.this.global.Symbol">m</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="comment">// Group missing members by the underlying symbol.</span>
          <span class="keyword">val</span> <a title="scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]" id="950695">grouped</a> = <a href="#950693" title="List[RefChecks.this.global.Symbol]">missing</a> <a href="../../../collection/TraversableLike.scala.html#49059" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.analyzer.global.Name)scala.collection.immutable.Map[RefChecks.this.global.analyzer.global.Name,List[RefChecks.this.global.Symbol]]">groupBy</a> <span class="delimiter">(</span><a href="../Global.scala.html#478282" title="object RefChecks.this.global.analyzer">analyzer</a> <a href="Namers.scala.html#507383" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlying</a> <a href="#950718" title="RefChecks.this.global.Symbol">_</a> <a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span>

          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950740">member</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">missing</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="(msg: String)Unit" id="950741">undefined</a><span class="delimiter">(</span><a title="String" id="950743">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <a href="#950615" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <a href="#950108" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#950740" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is not defined&quot;)" class="string">&quot; is not defined&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#950743" title="String">msg</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Symbol" id="950742">underlying</a> = <a href="../Global.scala.html#478282" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#507383" title="(member: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.global.Symbol">underlying</a><span class="delimiter">(</span><a href="#950740" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>

            <span class="comment">// Give a specific error message for abstract vars based on why it fails:</span>
            <span class="comment">// It could be unimplemented, have only one accessor, or be uninitialized.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950742" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#509169" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// If both getter and setter are missing, squelch the setter error.</span>
              <span class="keyword">val</span> <a title="Boolean" id="950744">isMultiple</a> = <a href="../../../collection/MapLike.scala.html#73204" title="(key: RefChecks.this.global.analyzer.global.Name)List[RefChecks.this.global.Symbol]">grouped</a><span class="delimiter">(</span><a href="#950742" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span>
              <span class="comment">// TODO: messages shouldn't be spread over two files, and varNotice is not a clear name</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950740" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509172" title="=&gt; Boolean">isSetter</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950744" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#950741" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span>
                <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#950740" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509172" title="=&gt; Boolean">isSetter</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;\012(Note that an abstract var requires a setter in addition to the getter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a setter in addition to the getter)&quot;</span>
                <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#950740" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509171" title="=&gt; Boolean">isGetter</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950744" title="Boolean">isMultiple</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;\012(Note that an abstract var requires a getter in addition to the setter)&quot;)" class="string">&quot;\n(Note that an abstract var requires a getter in addition to the setter)&quot;</span>
                <span class="keyword">else</span> <a href="../Global.scala.html#478282" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#507387" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">varNotice</a><span class="delimiter">(</span><a href="#950740" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950742" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> <span class="delimiter">{</span>

              <span class="comment">// If there is a concrete method whose name matches the unimplemented</span>
              <span class="comment">// abstract method, and a cursory examination of the difference reveals</span>
              <span class="comment">// something obvious to us, let's make it more obvious to them.</span>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.analyzer.global.Type]" id="950770">abstractParams</a>   = <a href="#950742" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507181" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="950771">matchingName</a>     = <a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507197" title="(admit: Long)List[RefChecks.this.global.Symbol]">nonPrivateMembersAdmitting</a><span class="delimiter">(</span><span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="950772">matchingArity</a>    = <a href="#950771" title="List[RefChecks.this.global.Symbol]">matchingName</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="950776">m</a> =&gt;
                <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950776" title="RefChecks.this.global.Symbol">m</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="#950776" title="RefChecks.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#950742" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.analyzer.global.Name">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="#950776" title="RefChecks.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507181" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#950742" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507181" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">paramTypes</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="#950776" title="RefChecks.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#950742" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.analyzer.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>

              <a href="#950772" title="List[RefChecks.this.global.Symbol]">matchingArity</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="comment">// So far so good: only one candidate method</span>
                <span class="keyword">case</span> <a title="Unit" id="950808">concrete</a> :: <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>   =&gt;
                  <span class="keyword">val</span> <a title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]" id="950809">mismatches</a>  = <a href="#950770" title="List[RefChecks.this.global.analyzer.global.Type]">abstractParams</a> <a href="../../../collection/IterableLike.scala.html#53887" title="(that: scala.collection.GenIterable[RefChecks.this.global.Type])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.analyzer.global.Type],(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type),List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]])List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">zip</a> <a href="#950808" title="RefChecks.this.global.Symbol">concrete</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507181" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a> <a href="../../../collection/TraversableLike.scala.html#49052" title="(p: ((RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)) =&gt; Boolean)List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">filterNot</a> <a href="#950867" title="Boolean" class="delimiter">{</a> <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Type" id="950870">x</a>, <a title="RefChecks.this.global.Type" id="950871">y</a><span class="delimiter">)</span> =&gt; <a href="#950870" title="RefChecks.this.global.analyzer.global.Type">x</a> <a href="../symtab/Types.scala.html#507225" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> <a href="#950871" title="RefChecks.this.global.Type">y</a> <span class="delimiter">}</span>
                  <a href="#950809" title="List[(RefChecks.this.global.analyzer.global.Type, RefChecks.this.global.Type)]">mismatches</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="comment">// Only one mismatched parameter: say something useful.</span>
                    <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="RefChecks.this.global.analyzer.global.Type" id="950879">pa</a>, <a title="RefChecks.this.global.Type" id="950880">pc</a><span class="delimiter">)</span> :: <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>  =&gt;
                      <span class="keyword">val</span> <a title="String" id="950881">addendum</a> =
                        <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#950879" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#950880" title="RefChecks.this.global.Type">pc</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                          <span class="comment">// TODO: what is the optimal way to test for a raw type at this point?</span>
                          <span class="comment">// Compilation has already failed so we shouldn't have to worry overmuch</span>
                          <span class="comment">// about forcing types.</span>
                          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#950742" title="RefChecks.this.global.analyzer.global.Symbol">underlying</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950879" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[RefChecks.this.global.analyzer.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950879" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.analyzer.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[RefChecks.this.global.analyzer.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
                            <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;. To implement a raw type, use %s[_]&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#950879" title="RefChecks.this.global.analyzer.global.Type">pa</a><span class="delimiter">)</span>
                          <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#950879" title="RefChecks.this.global.analyzer.global.Type">pa</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; RefChecks.this.global.analyzer.global.Type">prefix</a> <a href="../symtab/Types.scala.html#507225" title="(that: RefChecks.this.global.analyzer.global.Type)Boolean">=:=</a> <a href="#950880" title="RefChecks.this.global.Type">pc</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; RefChecks.this.global.Type">prefix</a><span class="delimiter">)</span>
                            <span title="java.lang.String(&quot;: their type parameters differ&quot;)" class="string">&quot;: their type parameters differ&quot;</span>
                          <span class="keyword">else</span>
                            <span title="java.lang.String(&quot;: their prefixes (i.e. enclosing instances) differ&quot;)" class="string">&quot;: their prefixes (i.e. enclosing instances) differ&quot;</span>
                        <span class="delimiter">}</span>
                        <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

                      <a href="#950741" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\n(Note that %s does not match %s%s)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#950879" title="RefChecks.this.global.analyzer.global.Type">pa</a>, <a href="#950880" title="RefChecks.this.global.Type">pc</a>, <a href="#950881" title="String">addendum</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">case</span> <a title="Unit" id="950896">xs</a> =&gt;
                      <a href="#950741" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                  <a href="#950741" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <a href="#950741" title="(msg: String)Unit">undefined</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="comment">// Check the remainder for invalid absoverride.</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950907">member</a> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#53496" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">rest</a> ; <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#950907" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(262144L)">ABSOVERRIDE</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950907" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509244" title="(base: RefChecks.this.global.Symbol)Boolean">isIncompleteIn</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="950908">other</a> = <a href="#950907" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509342" title="(base: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">superSymbol</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="java.lang.String" id="950909">explanation</a> =
              <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#950908" title="RefChecks.this.global.Symbol">other</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="java.lang.String(&quot; and overrides incomplete superclass member &quot;)" class="string">&quot; and overrides incomplete superclass member &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#950108" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#950908" title="RefChecks.this.global.Symbol">other</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="java.lang.String(&quot;, but no concrete implementation could be found in a base class&quot;)" class="string">&quot;, but no concrete implementation could be found in a base class&quot;</span>

            <a href="#950615" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span>, <a href="#950108" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#950907" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is marked `abstract\' and `override\'&quot;)" class="string">&quot; is marked `abstract' and `override'&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#950909" title="java.lang.String">explanation</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// 3. Check that concrete classes do not have deferred definitions</span>
        <span class="comment">// that are not implemented in a subclass.</span>
        <span class="comment">// Note that this is not the same as (2); In a situation like</span>
        <span class="comment">//</span>
        <span class="comment">// class C { def m: Int = 0}</span>
        <span class="comment">// class D extends C { def m: Int }</span>
        <span class="comment">//</span>
        <span class="comment">// (3) is violated but not (2).</span>
        <span class="keyword">def</span> <a title="(bc: RefChecks.this.global.Symbol)Unit" id="950619">checkNoAbstractDecls</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950916">bc</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950929">decl</a> &lt;- <a href="#950916" title="RefChecks.this.global.Symbol">bc</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../../../collection/Iterator.scala.html#59154" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950929" title="RefChecks.this.global.Symbol">decl</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950617" title="(member: RefChecks.this.global.Symbol)Boolean">ignoreDeferred</a><span class="delimiter">(</span><a href="#950929" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="950930">impl</a> = <a href="#950929" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#509337" title="(site: RefChecks.this.global.Type, admit: Long)RefChecks.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; RefChecks.this.global.Type">thisType</a>, admit = <span title="Long(4398046511104L)">VBRIDGE</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950930" title="RefChecks.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object RefChecks.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#950929" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#950930" title="RefChecks.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#950615" title="(mustBeMixin: Boolean, msg: String)Unit">abstractClassError</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;there is a deferred declaration of &quot;)" class="string">&quot;there is a deferred declaration of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#950108" title="(sym: RefChecks.this.global.Symbol)java.lang.String">infoString</a><span class="delimiter">(</span><a href="#950929" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span>
                                   <span title="java.lang.String(&quot; which is not implemented in a subclass&quot;)" class="string">&quot; which is not implemented in a subclass&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../Global.scala.html#478282" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Namers.scala.html#507387" title="(sym: RefChecks.this.global.analyzer.global.Symbol)String">varNotice</a><span class="delimiter">(</span><a href="#950929" title="RefChecks.this.global.Symbol">decl</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="950917">parents</a> = <a href="#950916" title="RefChecks.this.global.Symbol">bc</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[RefChecks.this.global.Type]">parents</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950917" title="List[RefChecks.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950917" title="List[RefChecks.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; RefChecks.this.global.Type">head</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(8L)">ABSTRACT</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#950619" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#950917" title="List[RefChecks.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; RefChecks.this.global.Type">head</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="#950618" title="()Unit">checkNoAbstractMembers</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950613" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61939" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <a href="#950619" title="(bc: RefChecks.this.global.Symbol)Unit">checkNoAbstractDecls</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950613" title="scala.collection.mutable.ListBuffer[String]">abstractErrors</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61940" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#950614" title="=&gt; String">abstractErrorMessage</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// prevent abstract methods in interfaces that override final members in Object; see #4431</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950957">decl</a> &lt;- <a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../../../collection/Iterator.scala.html#59154" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="950958">overridden</a> = <a href="#950957" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#509338" title="(ofclazz: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">overriddenSymbol</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507925" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#950958" title="RefChecks.this.global.Symbol">overridden</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435297" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
            <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#950957" title="RefChecks.this.global.Symbol">decl</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;trait cannot redefine final method from class AnyRef&quot;)" class="string">&quot;trait cannot redefine final method from class AnyRef&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Returns whether there is a symbol declared in class `inclazz`
       *  (which must be different from `clazz`) whose name and type
       *  seen as a member of `class.thisType` matches `member`'s.
       */</span>
      <span class="keyword">def</span> <a title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean" id="950114">hasMatchingSym</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950961">inclazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="950962">member</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="950963">isVarargs</a> = <a href="#948963" title="(tp: RefChecks.this.global.Type)Boolean">hasRepeatedParam</a><span class="delimiter">(</span><a href="#950962" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="950965">varargsType</a> = <a href="../../../Function1.scala.html#53453" title="(v1: RefChecks.this.global.Type)RefChecks.this.global.Type">toJavaRepeatedParam</a><span class="delimiter">(</span><a href="#950962" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="950966">isSignatureMatch</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950971">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950971" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="950972">symtpe</a>            = <a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; RefChecks.this.global.Type">thisType</a> <a href="../symtab/Types.scala.html#507207" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Type">memberType</a> <a href="#950971" title="RefChecks.this.global.Symbol">sym</a>
          <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Boolean" id="950973">matches</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="950974">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#950974" title="RefChecks.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#507227" title="(that: RefChecks.this.global.Type)Boolean">matches</a> <a href="#950972" title="RefChecks.this.global.Type">symtpe</a>

          <a href="#950973" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#950962" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#950963" title="Boolean">isVarargs</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950973" title="(tp: RefChecks.this.global.Type)Boolean">matches</a><span class="delimiter">(</span><a href="#950964" title="=&gt; RefChecks.this.global.Type">varargsType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">/** The rules for accessing members which have an access boundary are more
         *  restrictive in java than scala.  Since java has no concept of package nesting,
         *  a member with &quot;default&quot; (package-level) access can only be accessed by members
         *  in the exact same package.  Example:
         *
         *    package a.b;
         *    public class JavaClass { void foo() { } }
         *
         *  The member foo() can be accessed only from members of package a.b, and not
         *  nested packages like a.b.c.  In the analogous scala class:
         *
         *    package a.b
         *    class ScalaClass { private[b] def foo() = () }
         *
         *  The member IS accessible to classes in package a.b.c.  The javaAccessCheck logic
         *  is restricting the set of matching signatures according to the above semantics.
         */</span>
        <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Boolean" id="950967">javaAccessCheck</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950976">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
             <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950961" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a>                             <span class="comment">// not a java defined member</span>
          <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#950976" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435352" title="=&gt; Boolean">hasAccessBoundary</a>                             <span class="comment">// no access boundary</span>
          <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#950976" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435303" title="=&gt; Boolean">isProtected</a>                                    <span class="comment">// marked protected in java, thus accessible to subclasses</span>
          <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#950976" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509123" title="=&gt; RefChecks.this.global.Symbol">privateWithin</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#950962" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509322" title="=&gt; RefChecks.this.global.Symbol">enclosingPackageClass</a>  <span class="comment">// exact package match</span>
        <span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="950968">classDecls</a>   = <a href="#950961" title="RefChecks.this.global.Symbol">inclazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507194" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">nonPrivateDecl</a><span class="delimiter">(</span><a href="#950962" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; RefChecks.this.global.Symbol" id="950969">matchingSyms</a> = <a href="#950968" title="=&gt; RefChecks.this.global.Symbol">classDecls</a> <a href="../symtab/Symbols.scala.html#509300" title="(cond: RefChecks.this.global.Symbol =&gt; Boolean)RefChecks.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="950984">sym</a> =&gt; <a href="#950966" title="(sym: RefChecks.this.global.Symbol)Boolean">isSignatureMatch</a><span class="delimiter">(</span><a href="#950984" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#950967" title="(sym: RefChecks.this.global.Symbol)Boolean">javaAccessCheck</a><span class="delimiter">(</span><a href="#950984" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="delimiter">(</span><a href="#950961" title="RefChecks.this.global.Symbol">inclazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#950096" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#950969" title="=&gt; RefChecks.this.global.Symbol">matchingSyms</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// 4. Check that every defined member with an `override' modifier overrides some other member.</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="951024">member</a> &lt;- <a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; RefChecks.this.global.Scope">decls</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Symbol =&gt; Any)Unit">toList</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#951024" title="RefChecks.this.global.Symbol">member</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>OVERRIDE <span title="Long(262146L)">|</span> ABSOVERRIDE<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#950096" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; RefChecks.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#507231" title="=&gt; List[RefChecks.this.global.Symbol]">baseClasses</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#950114" title="(inclazz: RefChecks.this.global.Symbol, member: RefChecks.this.global.Symbol)Boolean">hasMatchingSym</a><span class="delimiter">(</span><a href="#951037" title="RefChecks.this.global.Symbol">_</a>, <a href="#951024" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// for (bc &lt;- clazz.info.baseClasses.tail) Console.println(&quot;&quot; + bc + &quot; has &quot; + bc.info.decl(member.name) + &quot;:&quot; + bc.info.decl(member.name).tpe);//DEBUG</span>
          <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#951024" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#951024" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509365" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; overrides nothing&quot;)" class="string">&quot; overrides nothing&quot;</span><span class="delimiter">)</span>;
          <a href="#951024" title="RefChecks.this.global.Symbol">member</a> <a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)member.type">resetFlag</a> <span title="Long(2L)">OVERRIDE</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">// Basetype Checking --------------------------------------------------------</span>

    <span class="comment">/** &lt;ol&gt;
     *    &lt;li&gt; &lt;!-- 1 --&gt;
     *      Check that later type instances in the base-type sequence
     *      are subtypes of earlier type instances of the same mixin.
     *    &lt;/li&gt;
     *  &lt;/ol&gt;
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: RefChecks.this.global.Symbol)Unit" id="948966">validateBaseTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="951047">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]" id="951049">seenParents</a> = mutable.<a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="[A](elems: A*)scala.collection.mutable.HashSet[A]">HashSet</a><span title="(elems: RefChecks.this.global.Type*)scala.collection.mutable.HashSet[RefChecks.this.global.Type]" class="delimiter">[</span><a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Array[List[RefChecks.this.global.Type]]" id="951050">seenTypes</a> = <span title="Array[List[RefChecks.this.global.Type]]" class="keyword">new</span> <a href="../../../Array.scala.html#1430" title="Array[List[RefChecks.this.global.Type]]">Array</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#951047" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507229" title="=&gt; RefChecks.this.global.BaseTypeSeq">baseTypeSeq</a>.<a href="../symtab/BaseTypeSeqs.scala.html#594265" title="=&gt; Int">length</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="951187">i</a> &lt;- <a href="../../../LowPriorityImplicits.scala.html#9474" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../collection/immutable/Range.scala.html#63514" title="(f: Int =&gt; Unit)Unit">until</a> <a href="#951050" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<a href="../../../Array.scala.html#49204" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <a href="../../../Array.scala.html#49206" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#951187" title="Int">i</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>

      <span class="comment">/** validate all base types of a class in reverse linear order. */</span>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)Unit" id="951051">register</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="951191">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
<span class="comment">//        if (clazz.fullName.endsWith(&quot;Collection.Projection&quot;))</span>
<span class="comment">//            println(&quot;validate base type &quot;+tp)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="951192">baseClass</a> = <a href="#951191" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951192" title="RefChecks.this.global.Symbol">baseClass</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Int" id="951194">index</a> = <a href="#951047" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507232" title="(sym: RefChecks.this.global.Symbol)Int">baseTypeIndex</a><span class="delimiter">(</span><a href="#951192" title="RefChecks.this.global.Symbol">baseClass</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951194" title="Int">index</a> <a href="../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Array.scala.html#49205" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#951194" title="Int">index</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: RefChecks.this.global.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="951208">tp1</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#951208" title="RefChecks.this.global.Type">tp1</a> <a href="../symtab/Types.scala.html#507220" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#951191" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../../Array.scala.html#49206" title="(i: Int, x: List[RefChecks.this.global.Type])Unit">seenTypes</a><span class="delimiter">(</span><a href="#951194" title="Int">index</a><span class="delimiter">)</span> =
                <a href="#951191" title="RefChecks.this.global.Type">tp</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: RefChecks.this.global.Type)List[RefChecks.this.global.Type]">::</a> <span class="delimiter">(</span><a href="../../../Array.scala.html#49205" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#951194" title="Int">index</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="951216">tp1</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#951191" title="RefChecks.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#507220" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#951216" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Type]" id="951193">remaining</a> = <a href="#951191" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[RefChecks.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49052" title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</a> <a href="#951049" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a>
        <a href="#951049" title="scala.collection.mutable.HashSet[RefChecks.this.global.Type]">seenParents</a> <a href="../../../collection/generic/Growable.scala.html#56649" title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Type])seenParents.type">++=</a> <a href="#951193" title="List[RefChecks.this.global.Type]">remaining</a>
        <a href="#951193" title="List[RefChecks.this.global.Type]">remaining</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#951051" title="(tp: RefChecks.this.global.Type)Unit">register</a>
      <span class="delimiter">}</span>
      <a href="#951051" title="(tp: RefChecks.this.global.Type)Unit">register</a><span class="delimiter">(</span><a href="#951047" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="951348">i</a> &lt;- <a href="../../../LowPriorityImplicits.scala.html#9474" title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">0</a> <a href="../../../collection/immutable/Range.scala.html#63514" title="(f: Int =&gt; Unit)Unit">until</a> <a href="#951050" title="Array[List[RefChecks.this.global.Type]]">seenTypes</a>.<a href="../../../Array.scala.html#49204" title="=&gt; Int">length</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="951349">baseClass</a> = <a href="#951047" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/BaseTypeSeqs.scala.html#594268" title="(i: Int)RefChecks.this.global.Type">baseTypeSeq</a><span class="delimiter">(</span><a href="#951348" title="Int">i</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="../../../Array.scala.html#49205" title="(i: Int)List[RefChecks.this.global.Type]">seenTypes</a><span class="delimiter">(</span><a href="#951348" title="Int">i</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="Unit">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;??? base &quot;)" class="string">&quot;??? base &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#951349" title="RefChecks.this.global.Symbol">baseClass</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; not found in basetypes of &quot;)" class="string">&quot; not found in basetypes of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#951047" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="Unit">List</a><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            ;<span class="comment">// OK</span>
          <span class="keyword">case</span> <a title="Unit" id="951381">tp1</a> :: <a title="RefChecks.this.global.Type" id="951389">tp2</a> :: _ =&gt;
            <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#951047" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;illegal inheritance;\012 &quot;)" class="string">&quot;illegal inheritance;\n &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#951047" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span>
                       <span title="java.lang.String(&quot; inherits different type instances of &quot;)" class="string">&quot; inherits different type instances of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#951349" title="RefChecks.this.global.Symbol">baseClass</a> <span title="(x$1: Any)java.lang.String">+</span>
                       <span title="java.lang.String(&quot;:\012&quot;)" class="string">&quot;:\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#951381" title="RefChecks.this.global.Type">tp1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#951389" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>;
            <a href="../symtab/Types.scala.html#479008" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#951381" title="RefChecks.this.global.Type">tp1</a>, <a href="#951389" title="RefChecks.this.global.Type">tp2</a><span class="delimiter">)</span>
            <a href="../symtab/Types.scala.html#479008" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#951389" title="RefChecks.this.global.Type">tp2</a>, <a href="#951381" title="RefChecks.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="comment">// Variance Checking --------------------------------------------------------</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="948967">ContraVariance</a> = -<span title="Int(-1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="948969">NoVariance</a> = <span title="Int(0)" class="int">0</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="948971">CoVariance</a> = <span title="Int(1)" class="int">1</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="Int" id="948973">AnyVariance</a> = <span title="Int(2)" class="int">2</span>

    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" id="948975">escapedPrivateLocals</a> = <a href="../../../collection/mutable/HashSet.scala.html#108311" title="()scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashSet.scala.html#14593" title="scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">HashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>

    <span class="keyword">val</span> <a title="RefChecks.this.global.Traverser" id="948977">varianceValidator</a> = <a href="#949050" title="RefChecks.this.global.Traverser{}" class="keyword">new</a> <a href="../ast/Trees.scala.html#479168" title="anonymous class $anon extends RefChecks.this.global.Traverser" id="949050">Traverser</a> <span class="delimiter">{</span>

      <span class="comment">/** Validate variance of info of symbol `base` */</span>
      <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: RefChecks.this.global.Symbol)Unit" id="949052">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949061">base</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>

        <span class="keyword">def</span> <a title="(variance: Int)String" id="949062">varianceString</a><span class="delimiter">(</span><a title="Int" id="949067">variance</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <span title="String">String</span> =
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#949067" title="Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;covariant&quot;)" class="string">&quot;covariant&quot;</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#949067" title="Int">variance</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> -<span title="Int(-1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;contravariant&quot;)" class="string">&quot;contravariant&quot;</span>
          <span class="keyword">else</span> <span title="java.lang.String(&quot;invariant&quot;)" class="string">&quot;invariant&quot;</span>;

        <span class="comment">/** The variance of a symbol occurrence of `tvar`
         *  seen at the level of the definition of `base`.
         *  The search proceeds from `base` to the owner of `tvar`.
         *  Initially the state is covariant, but it might change along the search.
         */</span>
        <span class="keyword">def</span> <a title="(tvar: RefChecks.this.global.Symbol)Int" id="949063">relativeVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949076">tvar</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="949077">clazz</a> = <a href="#949076" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="949078">sym</a> = <a href="#949061" title="RefChecks.this.global.Symbol">base</a>
          <span class="keyword">var</span> <a title="Int" id="949079">state</a> = <a href="#948971" title="=&gt; Int">CoVariance</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#949078" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#949077" title="RefChecks.this.global.Symbol">clazz</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#949079" title="Int">state</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="#948973" title="=&gt; Int">AnyVariance</a><span class="delimiter">)</span> <a href="#949080" title="()Unit" class="delimiter">{</a>
            <span class="comment">//Console.println(&quot;flip: &quot; + sym + &quot; &quot; + sym.isParameter());//DEBUG</span>
            <span class="comment">// Flip occurrences of type parameters and parameters, unless</span>
            <span class="comment">//  - it's a constructor, or case class factory or extractor</span>
            <span class="comment">//  - it's a type parameter of tvar's owner.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435313" title="=&gt; Boolean">isParameter</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509229" title="=&gt; Boolean">isCaseApplyOrUnapply</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#949076" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#509186" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509186" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <a href="#949076" title="RefChecks.this.global.Symbol">tvar</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#949079" title="Int">state</a> = <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#949079" title="Int">state</a>;
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                     <a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435306" title="=&gt; Boolean">isPrivateLocal</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435307" title="=&gt; Boolean">isProtectedLocal</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435310" title="=&gt; Boolean">isSuperAccessor</a> <span class="comment">/* super accessors are implicitly local #4345*/</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#948975" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <a href="../../../collection/mutable/HashSet.scala.html#108314" title="(elem: RefChecks.this.global.Symbol)Boolean">contains</a> <a href="#949078" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// return AnyVariance if `sym` is local to a term</span>
              <span class="comment">// or is private[this] or protected[this]</span>
              <a href="#949079" title="Int">state</a> = <a href="#948973" title="=&gt; Int">AnyVariance</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// return AnyVariance if `sym` is an alias type</span>
              <span class="comment">// that does not override anything. This is OK, because we always</span>
              <span class="comment">// expand aliases for variance checking.</span>
              <span class="comment">// However, if `sym` does override a type in a base class</span>
              <span class="comment">// we have to assume NoVariance, as there might then be</span>
              <span class="comment">// references to the type parameter that are not variance checked.</span>
              <a href="#949079" title="Int">state</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509340" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#948973" title="=&gt; Int">AnyVariance</a>
                      <span class="keyword">else</span> <a href="#948969" title="=&gt; Int">NoVariance</a>
            <span class="delimiter">}</span>
            <a href="#949078" title="RefChecks.this.global.Symbol">sym</a> = <a href="#949078" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>
          <span class="delimiter">}</span>
          <a href="#949079" title="Int">state</a>
        <span class="delimiter">}</span>

        <span class="comment">/** Validate that the type `tp` is variance-correct, assuming
         *  the type occurs itself at variance position given by `variance`
         */</span>
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, variance: Int)Unit" id="949064">validateVariance</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="949109">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a>, <a title="Int" id="949110">variance</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <a href="#949109" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478727" title="Unit">ErrorType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478729" title="Unit">WildcardType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478734" title="Unit">NoType</a> =&gt; ;
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478736" title="Unit">NoPrefix</a> =&gt; ;
          <span class="keyword">case</span> <span title="Unit">ThisType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; ;
          <span class="keyword">case</span> <span title="Unit">ConstantType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; ;
          <span class="comment">// case DeBruijnIndex(_, _) =&gt; ;</span>
          <span class="keyword">case</span> <span title="Unit">SingleType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="949115">pre</a>, <a title="RefChecks.this.global.Symbol" id="949116">sym</a><span class="delimiter">)</span> =&gt;
            <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949115" title="RefChecks.this.global.Type">pre</a>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="949120">pre</a>, <a title="RefChecks.this.global.Symbol" id="949121">sym</a>, <a title="List[RefChecks.this.global.Type]" id="949122">args</a><span class="delimiter">)</span> =&gt;
<span class="comment">//            println(&quot;validate &quot;+sym+&quot; at &quot;+relativeVariance(sym))</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#949121" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="comment">/* &amp;&amp; relativeVariance(sym) == AnyVariance*/</span><span class="delimiter">)</span>
              <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949109" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; RefChecks.this.global.Type">normalize</a>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#949121" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="#948969" title="=&gt; Int">NoVariance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Int" id="949128">v</a> = <a href="#949063" title="(tvar: RefChecks.this.global.Symbol)Int">relativeVariance</a><span class="delimiter">(</span><a href="#949121" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#949128" title="Int">v</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="#948973" title="=&gt; Int">AnyVariance</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#949121" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509248" title="=&gt; Int">variance</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="#949128" title="Int">v</a> <a href="../../../Int.scala.html#54818" title="(x: Int)Int">*</a> <a href="#949110" title="Int">variance</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">//Console.println(&quot;relativeVariance(&quot; + base + &quot;,&quot; + sym + &quot;) = &quot; + v);//DEBUG</span>
                <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)java.lang.String" id="949142">tpString</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="949143">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#949143" title="RefChecks.this.global.Type">tp</a> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="java.lang.String">ClassInfoType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="949147">parents</a>, _, <a title="RefChecks.this.global.Symbol" id="949148">clazz</a><span class="delimiter">)</span> =&gt; <span title="java.lang.String(&quot;supertype &quot;)" class="string">&quot;supertype &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/Types.scala.html#478815" title="(tps: List[RefChecks.this.global.Type], owner: RefChecks.this.global.Symbol)RefChecks.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#949147" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#949148" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="java.lang.String">_</span> =&gt; <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#949143" title="RefChecks.this.global.Type">tp</a>
                <span class="delimiter">}</span>
                <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#949061" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>,
                           <a href="#949062" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#949121" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509248" title="=&gt; Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#949121" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: Any)java.lang.String">+</span>
                           <span title="java.lang.String(&quot; occurs in &quot;)" class="string">&quot; occurs in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#949062" title="(variance: Int)String">varianceString</a><span class="delimiter">(</span><a href="#949128" title="Int">v</a> <a href="../../../Int.scala.html#54818" title="(x: Int)Int">*</a> <a href="#949110" title="Int">variance</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
                           <span title="java.lang.String(&quot; position in &quot;)" class="string">&quot; position in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#949142" title="(tp: RefChecks.this.global.Type)java.lang.String">tpString</a><span class="delimiter">(</span><a href="#949061" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#949061" title="RefChecks.this.global.Symbol">base</a><span class="delimiter">)</span>;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949120" title="RefChecks.this.global.Type">pre</a>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#949066" title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit">validateVarianceArgs</a><span class="delimiter">(</span><a href="#949122" title="List[RefChecks.this.global.Type]">args</a>, <a href="#949110" title="Int">variance</a>, <a href="#949121" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <span class="comment">//@M for higher-kinded typeref, args.isEmpty</span>
            <span class="comment">// However, these args respect variances by construction anyway</span>
            <span class="comment">// -- the interesting case is in type application, see checkKindBounds in Infer</span>
          <span class="keyword">case</span> <span title="Unit">ClassInfoType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="949166">parents</a>, <a title="RefChecks.this.global.Scope" id="949167">decls</a>, <a title="RefChecks.this.global.Symbol" id="949168">symbol</a><span class="delimiter">)</span> =&gt;
            <a href="#949065" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#949166" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">RefinedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="949173">parents</a>, <a title="RefChecks.this.global.Scope" id="949174">decls</a><span class="delimiter">)</span> =&gt;
            <a href="#949065" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#949173" title="List[RefChecks.this.global.Type]">parents</a>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="949196">sym</a> &lt;- <a href="#949174" title="RefChecks.this.global.Scope">decls</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">toList</a><span class="delimiter">)</span>
              <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949196" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>, <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#949196" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a><span class="delimiter">)</span> <a href="#948969" title="=&gt; Int">NoVariance</a> <span class="keyword">else</span> <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeBounds</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="949200">lo</a>, <a title="RefChecks.this.global.Type" id="949201">hi</a><span class="delimiter">)</span> =&gt;
            <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949200" title="RefChecks.this.global.Type">lo</a>, <a href="../../../Int.scala.html#54735" title="=&gt; Int">-</a><a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949201" title="RefChecks.this.global.Type">hi</a>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="949204">formals</a>, <a title="RefChecks.this.global.Type" id="949205">result</a><span class="delimiter">)</span> =&gt;
            <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949205" title="RefChecks.this.global.Type">result</a>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">NullaryMethodType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="949207">result</a><span class="delimiter">)</span> =&gt;
            <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949207" title="RefChecks.this.global.Type">result</a>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="949210">tparams</a>, <a title="RefChecks.this.global.Type" id="949211">result</a><span class="delimiter">)</span> =&gt;
            <span class="comment">// type parameters will be validated separately, because they are defined explicitly.</span>
            <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949211" title="RefChecks.this.global.Type">result</a>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="949214">tparams</a>, <a title="RefChecks.this.global.Type" id="949215">result</a><span class="delimiter">)</span> =&gt;
            <a href="#949065" title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit">validateVariances</a><span class="delimiter">(</span><a href="#949214" title="List[RefChecks.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#949237" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
            <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949215" title="RefChecks.this.global.Type">result</a>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="949268">annots</a>, <a title="RefChecks.this.global.Type" id="949269">tp</a>, <a title="RefChecks.this.global.Symbol" id="949270">selfsym</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#949268" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: RefChecks.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#949277" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#532479" title="=&gt; RefChecks.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509296" title="(that: RefChecks.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507963" title="=&gt; RefChecks.this.global.Symbol">uncheckedVarianceClass</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949269" title="RefChecks.this.global.Type">tp</a>, <a href="#949110" title="Int">variance</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int)Unit" id="949065">validateVariances</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="949169">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="949170">variance</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#949169" title="List[RefChecks.this.global.Type]">tps</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="949298">tp</a> =&gt; <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949298" title="RefChecks.this.global.Type">tp</a>, <a href="#949170" title="Int">variance</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(tps: List[RefChecks.this.global.Type], variance: Int, tparams: List[RefChecks.this.global.Symbol])Unit" id="949066">validateVarianceArgs</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="949160">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="Int" id="949161">variance</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="List[RefChecks.this.global.Symbol]" id="949162">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="delimiter">(</span><a href="#949160" title="List[RefChecks.this.global.Type]">tps</a> <a href="../../../collection/IterableLike.scala.html#53887" title="(that: scala.collection.GenIterable[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],(RefChecks.this.global.Type, RefChecks.this.global.Symbol),List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)]])List[(RefChecks.this.global.Type, RefChecks.this.global.Symbol)]">zip</a> <a href="#949162" title="List[RefChecks.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ((RefChecks.this.global.Type, RefChecks.this.global.Symbol)) =&gt; Unit)Unit">foreach</a> <a href="#949378" title="Unit" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Unit" class="delimiter">(</span><a title="RefChecks.this.global.Type" id="949381">tp</a>, <a title="RefChecks.this.global.Symbol" id="949382">tparam</a><span class="delimiter">)</span> =&gt; <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949381" title="RefChecks.this.global.Type">tp</a>, <a href="#949161" title="Int">variance</a> <a href="../../../Int.scala.html#54818" title="(x: Int)Int">*</a> <a href="#949382" title="RefChecks.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509248" title="=&gt; Int">variance</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <a href="#949064" title="(tp: RefChecks.this.global.Type, variance: Int)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949061" title="RefChecks.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>, <a href="#948971" title="=&gt; Int">CoVariance</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="949053">traverse</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="949054">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#949054" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> |
               TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#949052" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949054" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a><span class="delimiter">)</span>
            <a href="#949050" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560433" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#949054" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="comment">// ModuleDefs need not be considered because they have been eliminated already</span>
          <span class="keyword">case</span> <span title="Unit">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#949052" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949054" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">DefDef</span><span class="delimiter">(</span>_, _, <a title="List[RefChecks.this.global.TypeDef]" id="949443">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="949444">vparamss</a>, <a title="RefChecks.this.global.Tree" id="949445">tpt</a>, <a title="RefChecks.this.global.Tree" id="949446">rhs</a><span class="delimiter">)</span> =&gt;
            <a href="#949052" title="(base: RefChecks.this.global.Symbol)Unit">validateVariance</a><span class="delimiter">(</span><a href="#949054" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a><span class="delimiter">)</span>
            <a href="../../../reflect/generic/Trees.scala.html#443197" title="(trees: List[RefChecks.this.global.Tree])Unit">traverseTrees</a><span class="delimiter">(</span><a href="#949443" title="List[RefChecks.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>; <a href="../../../reflect/generic/Trees.scala.html#443198" title="(treess: List[List[RefChecks.this.global.Tree]])Unit">traverseTreess</a><span class="delimiter">(</span><a href="#949444" title="List[List[RefChecks.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">Template</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
            <a href="#949050" title="RefChecks.this.global.Traverser{}" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560433" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#949054" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">// Forward reference checking ---------------------------------------------------</span>

    <span class="keyword">class</span> <a title="class LevelInfo extends java.lang.Object with ScalaObject" id="948979">LevelInfo</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><span class="keyword">val</span> <a title="RefCheckTransformer.this.LevelInfo" id="951400">outer</a>: <a href="#948979" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Scope" id="949481">scope</a>: <a href="../symtab/Scopes.scala.html#479020" title="RefChecks.this.global.Scope">Scope</a> = <span title="RefChecks.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#951400" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../symtab/Scopes.scala.html#514352" title="()RefChecks.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#479020" title="RefChecks.this.global.Scope">Scope</a> <span class="keyword">else</span> <a href="../symtab/Scopes.scala.html#514353" title="(base: RefChecks.this.global.Scope)RefChecks.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#479020" title="RefChecks.this.global.Scope">Scope</a><span class="delimiter">(</span><a href="#951400" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>.<a href="#949481" title="=&gt; RefChecks.this.global.Scope">scope</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Int" id="949484">maxindex</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = Int.<span title="Int(-2147483648)">MinValue</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Position" id="949487">refpos</a>: <a href="../util/Position.scala.html#42664" title="RefChecks.this.global.Position">Position</a> = _
      <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="949490">refsym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a> = _
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="948981">currentLevel</a>: <a href="#948979" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" id="948983">symIndex</a> = <a href="../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[RefChecks.this.global.Symbol,Int]">HashMap</a><span class="delimiter">[</span>Symbol, Int<span class="delimiter">]</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="948985">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#948981" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <span title="RefCheckTransformer.this.LevelInfo" class="keyword">new</span> <a href="#948979" title="RefCheckTransformer.this.LevelInfo">LevelInfo</a><span class="delimiter">(</span><a href="#948981" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="()Unit" id="948986">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#948981" title="(x$1: RefCheckTransformer.this.LevelInfo)Unit">currentLevel</a> = <a href="#948981" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#951400" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree])Unit" id="948987">enterSyms</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="951412">stats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Int" id="951414">index</a> = -<span title="Int(-1)" class="int">1</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="951434">stat</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">stats</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#951414" title="Int">index</a> = <a href="#951414" title="Int">index</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>;
        <a href="#951434" title="RefChecks.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> | ModuleDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> | ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <span class="comment">//assert(stat.symbol != NoSymbol, stat);//debug</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="951466">sym</a> = <a href="#951434" title="RefChecks.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509317" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951466" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#948981" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#949481" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514360" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#951466" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: RefChecks.this.global.Symbol, value: Int)Unit">symIndex</a><span class="delimiter">(</span><a href="#951466" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#951414" title="Int">index</a>;
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit" id="948988">enterReference</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="951479">pos</a>: <a href="../util/Position.scala.html#42664" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Symbol" id="951480">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951480" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.ScopeEntry" id="951482">e</a> = <a href="#948981" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#949481" title="=&gt; RefChecks.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514369" title="(name: RefChecks.this.global.Name)RefChecks.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#951480" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#951482" title="RefChecks.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#951480" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#951482" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefCheckTransformer.this.LevelInfo" id="951488">l</a> = <a href="#948981" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#951488" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#949481" title="=&gt; RefChecks.this.global.Scope">scope</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#951482" title="RefChecks.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514517" title="=&gt; RefChecks.this.global.Scope">owner</a><span class="delimiter">)</span> <a href="#951488" title="RefCheckTransformer.this.LevelInfo">l</a> = <a href="#951488" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#951400" title="=&gt; RefCheckTransformer.this.LevelInfo">outer</a>;
          <span class="keyword">val</span> <a title="Int" id="951489">symindex</a> = <a href="../../../collection/MapLike.scala.html#73204" title="(key: RefChecks.this.global.Symbol)Int">symIndex</a><span class="delimiter">(</span><a href="#951480" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951488" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#949484" title="=&gt; Int">maxindex</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <a href="#951489" title="Int">symindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#951488" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#949487" title="(x$1: RefChecks.this.global.Position)Unit">refpos</a> = <a href="#951479" title="RefChecks.this.global.Position">pos</a>
            <a href="#951488" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#949490" title="(x$1: RefChecks.this.global.Symbol)Unit">refsym</a> = <a href="#951480" title="RefChecks.this.global.Symbol">sym</a>
            <a href="#951488" title="RefCheckTransformer.this.LevelInfo">l</a>.<a href="#949484" title="(x$1: Int)Unit">maxindex</a> = <a href="#951489" title="Int">symindex</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">// Comparison checking -------------------------------------------------------</span>
    <span class="keyword">object</span> <a title="object RefCheckTransformer.this.normalizeAll" id="948989">normalizeAll</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../symtab/Types.scala.html#478842" title="RefChecks.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type" id="951522">apply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="951524">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../symtab/Types.scala.html#532446" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#951524" title="RefChecks.this.global.Type">tp</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#507188" title="=&gt; RefChecks.this.global.Type">normalize</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit" id="948991">checkSensible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="951541">pos</a>: <a href="../util/Position.scala.html#42664" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Tree" id="951542">fn</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a>, <a title="List[RefChecks.this.global.Tree]" id="951543">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#951542" title="RefChecks.this.global.Tree">fn</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="951550">qual</a>, <a title="RefChecks.this.global.Name" id="951551">name</a> @ <span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516806" title="=&gt; RefChecks.this.global.TermName">EQ</a> | <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516830" title="=&gt; RefChecks.this.global.TermName">NE</a> | <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516616" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> | <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516676" title="=&gt; RefChecks.this.global.nme.NameType">ne</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#951543" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> =&gt;
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="951561">isReferenceOp</a> = <a href="#951551" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516616" title="=&gt; RefChecks.this.global.nme.NameType">eq</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#951551" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516676" title="=&gt; RefChecks.this.global.nme.NameType">ne</a>
        <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="951562">isNew</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="951600">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#951600" title="RefChecks.this.global.Tree">tree</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Boolean(true)">Function</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span>
             | Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span>_<span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; RefChecks.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol" id="951563">underlyingClass</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="951614">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="951615">sym</a> = <a href="#951614" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#951615" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span>
            <a href="#951615" title="RefChecks.this.global.Symbol">sym</a> = <a href="#951615" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; RefChecks.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
          <a href="#951615" title="RefChecks.this.global.Symbol">sym</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="951564">actual</a>   = <a href="#951563" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#951543" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; RefChecks.this.global.Tree">head</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="951565">receiver</a> = <a href="#951563" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Symbol">underlyingClass</a><span class="delimiter">(</span><a href="#951550" title="RefChecks.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Tree] =&gt; T)T" id="951566">onTrees</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="951568">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree] =&gt; T" id="951620">f</a>: List<span class="delimiter">[</span>Tree<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="../../../Function1.scala.html#53453" title="(v1: List[RefChecks.this.global.Tree])T">f</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#951550" title="RefChecks.this.global.Tree">qual</a>, <a href="#951543" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; RefChecks.this.global.Tree">head</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="[T](f: List[RefChecks.this.global.Symbol] =&gt; T)T" id="951569">onSyms</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="951571">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol] =&gt; T" id="951630">f</a>: List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =&gt; T<span class="delimiter">)</span> = <a href="../../../Function1.scala.html#53453" title="(v1: List[RefChecks.this.global.Symbol])T">f</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.Symbol*)List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#951565" title="RefChecks.this.global.Symbol">receiver</a>, <a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// @MAT normalize for consistency in error message, otherwise only part is normalized due to use of `typeSymbol'</span>
        <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="951572">typesString</a> = <a href="#951522" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd" class="delimiter">(</a><a href="#951550" title="RefChecks.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#951522" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Type">normalizeAll</a><span class="delimiter">(</span><a href="#951543" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; RefChecks.this.global.Tree">head</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span>

        <span class="comment">/** Symbols which limit the warnings we can issue since they may be value types */</span>
        <span class="keyword">val</span> <a title="scala.collection.immutable.Set[RefChecks.this.global.Symbol]" id="951573">isMaybeValue</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: RefChecks.this.global.Symbol*)scala.collection.immutable.Set[RefChecks.this.global.Symbol]">Set</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507921" title="=&gt; RefChecks.this.global.Symbol">AnyClass</a>, <a href="../symtab/Definitions.scala.html#507923" title="=&gt; RefChecks.this.global.Symbol">AnyRefClass</a>, <a href="../symtab/Definitions.scala.html#508421" title="=&gt; RefChecks.this.global.Symbol">AnyValClass</a>, <a href="../symtab/Definitions.scala.html#507925" title="=&gt; RefChecks.this.global.Symbol">ObjectClass</a>, <a href="../symtab/Definitions.scala.html#508055" title="=&gt; RefChecks.this.global.Symbol">ComparableClass</a>, <a href="../symtab/Definitions.scala.html#508051" title="=&gt; RefChecks.this.global.Symbol">SerializableClass</a><span class="delimiter">)</span>

        <span class="comment">// Whether def equals(other: Any) is overridden</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="951574">isUsingDefaultEquals</a>      = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="951646">m</a> = <a href="#951565" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507200" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516618" title="=&gt; RefChecks.this.global.nme.NameType">equals_</a><span class="delimiter">)</span>
          <span class="delimiter">(</span><a href="#951646" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508271" title="=&gt; RefChecks.this.global.Symbol">Object_equals</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#951646" title="RefChecks.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508223" title="=&gt; RefChecks.this.global.Symbol">Any_equals</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">// Whether this == or != is one of those defined in Any/AnyRef or an overload from elsewhere.</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="951575">isUsingDefaultScalaOp</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="951656">s</a> = <a href="#951542" title="RefChecks.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
          <span class="delimiter">(</span><a href="#951656" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508250" title="=&gt; RefChecks.this.global.Symbol">Object_==</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#951656" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508253" title="=&gt; RefChecks.this.global.Symbol">Object_!=</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#951656" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508217" title="=&gt; RefChecks.this.global.Symbol">Any_==</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#951656" title="RefChecks.this.global.Symbol">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508220" title="=&gt; RefChecks.this.global.Symbol">Any_!=</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="comment">// Whether the operands+operator represent a warnable combo (assuming anyrefs)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="951576">isWarnable</a>           = <a href="#951561" title="=&gt; Boolean">isReferenceOp</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#951574" title="=&gt; Boolean">isUsingDefaultEquals</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#951575" title="=&gt; Boolean">isUsingDefaultScalaOp</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="951577">isEitherNullable</a>     = <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507931" title="=&gt; RefChecks.this.global.Symbol">NullClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#951565" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507931" title="=&gt; RefChecks.this.global.Symbol">NullClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#951564" title="RefChecks.this.global.Symbol">actual</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="951578">isBoolean</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="951674">s</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../symtab/Definitions.scala.html#508370" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#951674" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508439" title="=&gt; RefChecks.this.global.Symbol">BooleanClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="951579">isUnit</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="951681">s</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>    = <a href="../symtab/Definitions.scala.html#508370" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#951681" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>
        <span class="keyword">def</span> <a title="(s: RefChecks.this.global.Symbol)Boolean" id="951580">isNumeric</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="951687">s</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="../symtab/Definitions.scala.html#508417" title="(sym: RefChecks.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508370" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">unboxedValueClass</a><span class="delimiter">(</span><a href="#951687" title="RefChecks.this.global.Symbol">s</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#951687" title="RefChecks.this.global.Symbol">s</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="../symtab/Definitions.scala.html#508323" title="=&gt; RefChecks.this.global.Symbol">ScalaNumberClass</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="=&gt; Int" id="951581">possibleNumericCount</a> = <a href="#951569" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#951694" title="List[RefChecks.this.global.Symbol]">_</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="951698">x</a> =&gt; <a href="#951580" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#951698" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#951698" title="RefChecks.this.global.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Int" id="951582">nullCount</a>            = <a href="#951569" title="(f: List[RefChecks.this.global.Symbol] =&gt; Int)Int">onSyms</a><span class="delimiter">(</span><a href="#951717" title="List[RefChecks.this.global.Symbol]">_</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a> <span class="delimiter">(</span><a href="#951721" title="RefChecks.this.global.Symbol">_</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507931" title="=&gt; RefChecks.this.global.Symbol">NullClass</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(what: String, alwaysEqual: Boolean)Unit" id="951583">nonSensibleWarning</a><span class="delimiter">(</span><a title="String" id="951728">what</a>: <span title="String">String</span>, <a title="Boolean" id="951729">alwaysEqual</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Boolean" id="951730">msg</a> = <a href="#951729" title="Boolean">alwaysEqual</a> <a href="../../../Boolean.scala.html#55577" title="(x: Boolean)Boolean">==</a> <span class="delimiter">(</span><a href="#951551" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516806" title="=&gt; RefChecks.this.global.TermName">EQ</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#951551" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516616" title="=&gt; RefChecks.this.global.nme.NameType">eq</a><span class="delimiter">)</span>
          <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#951541" title="RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;comparing &quot;)" class="string">&quot;comparing &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#951728" title="String">what</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; using `&quot;)" class="string">&quot; using `&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#951551" title="RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501159" title="=&gt; String">decode</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\' will always yield &quot;)" class="string">&quot;' will always yield &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#951730" title="Boolean">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span class="keyword">def</span> <a title="(pre: String, alwaysEqual: Boolean)Unit" id="951584">nonSensible</a><span class="delimiter">(</span><a title="String" id="951746">pre</a>: <span title="String">String</span>, <a title="Boolean" id="951747">alwaysEqual</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span> =
          <a href="#951583" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><a href="#951746" title="String">pre</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;values of types &quot;)" class="string">&quot;values of types &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#951572" title="=&gt; java.lang.String">typesString</a>, <a href="#951747" title="Boolean">alwaysEqual</a><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="()Unit" id="951585">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span> =
          <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#951541" title="RefChecks.this.global.Position">pos</a>, <a href="#951572" title="=&gt; java.lang.String">typesString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; are unrelated: should not compare equal&quot;)" class="string">&quot; are unrelated: should not compare equal&quot;</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951582" title="Int">nullCount</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
          <a href="#951584" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>  <span class="comment">// null == null</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951582" title="Int">nullCount</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951569" title="(f: List[RefChecks.this.global.Symbol] =&gt; Boolean)Boolean">onSyms</a><span class="delimiter">(</span><a href="#951759" title="List[RefChecks.this.global.Symbol]">_</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <a href="../symtab/Definitions.scala.html#508366" title="(sym: RefChecks.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// null == 5</span>
            <a href="#951584" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951566" title="(f: List[RefChecks.this.global.Tree] =&gt; Boolean)Boolean">onTrees</a><span class="delimiter">(</span> <a href="#951773" title="List[RefChecks.this.global.Tree]">_</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: RefChecks.this.global.Tree =&gt; Boolean)Boolean">exists</a> <a href="#951562" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// null == new AnyRef</span>
            <a href="#951583" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="java.lang.String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951578" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#951565" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#951578" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>    <span class="comment">// true == 5</span>
            <a href="#951584" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951579" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#951565" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951579" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// () == ()</span>
            <a href="#951584" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#951579" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>  <span class="comment">// () == &quot;abc&quot;</span>
            <a href="#951584" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951580" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#951565" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#951580" title="(s: RefChecks.this.global.Symbol)Boolean">isNumeric</a><span class="delimiter">(</span><a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478374" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951579" title="(s: RefChecks.this.global.Symbol)Boolean">isUnit</a><span class="delimiter">(</span><a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#951578" title="(s: RefChecks.this.global.Symbol)Boolean">isBoolean</a><span class="delimiter">(</span><a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: RefChecks.this.global.Symbol)Boolean">isMaybeValue</a><span class="delimiter">(</span><a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span>   <span class="comment">// 5 == &quot;abc&quot;</span>
              <a href="#951584" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951576" title="=&gt; Boolean">isWarnable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951562" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#951550" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// new X == y</span>
            <a href="#951583" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="java.lang.String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951562" title="(tree: RefChecks.this.global.Tree)Boolean">isNew</a><span class="delimiter">(</span><a href="#951543" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; RefChecks.this.global.Tree">head</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#951565" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435297" title="=&gt; Boolean">isFinal</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#951561" title="=&gt; Boolean">isReferenceOp</a><span class="delimiter">)</span><span class="delimiter">)</span>   <span class="comment">// object X ; X == new Y</span>
            <a href="#951583" title="(what: String, alwaysEqual: Boolean)Unit">nonSensibleWarning</a><span class="delimiter">(</span><span title="java.lang.String(&quot;a fresh object&quot;)" class="string">&quot;a fresh object&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951565" title="RefChecks.this.global.Symbol">receiver</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435297" title="=&gt; Boolean">isFinal</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#951565" title="RefChecks.this.global.Symbol">receiver</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>  <span class="comment">// object X, Y; X == Y</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951577" title="=&gt; Boolean">isEitherNullable</a><span class="delimiter">)</span>
              <a href="#951584" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;non-null &quot;)" class="string">&quot;non-null &quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#951584" title="(pre: String, alwaysEqual: Boolean)Unit">nonSensible</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="comment">// Warning on types without a parental relationship.  Uncovers a lot of</span>
        <span class="comment">// bugs, but not always right to warn.</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#951582" title="Int">nullCount</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#951581" title="=&gt; Int">possibleNumericCount</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(2)" class="int">2</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#951565" title="RefChecks.this.global.Symbol">receiver</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#951564" title="RefChecks.this.global.Symbol">actual</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#951564" title="RefChecks.this.global.Symbol">actual</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: RefChecks.this.global.Symbol)Boolean">isSubClass</a> <a href="#951565" title="RefChecks.this.global.Symbol">receiver</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#951585" title="()Unit">unrelatedTypes</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

<span class="comment">// Transformation ------------------------------------------------------------</span>

    <span class="comment">/* Convert a reference to a case factory of type `tpe' to a new of the class it produces. */</span>
    <span class="keyword">def</span> <a title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree" id="948992">toConstructor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Position" id="951825">pos</a>: <a href="../util/Position.scala.html#42664" title="RefChecks.this.global.Position">Position</a>, <a title="RefChecks.this.global.Type" id="951826">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="951828">rtpe</a> = <a href="#951826" title="RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507177" title="=&gt; RefChecks.this.global.Type">finalResultType</a>
      <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#951828" title="RefChecks.this.global.Type">rtpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(2048L)">CASE</span>, <a href="#951826" title="RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>;
      <a href="#948951" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#507774" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedOperator</a> <span class="delimiter">{</span>
        <a href="../ast/Trees.scala.html#479182" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.Select)RefChecks.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#951825" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/Trees.scala.html#479143" title="(qualifier: RefChecks.this.global.Tree, sym: RefChecks.this.global.Symbol)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443784" title="(tpt: RefChecks.this.global.Tree)RefChecks.this.global.New">New</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479149" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#951828" title="RefChecks.this.global.Type">rtpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#951828" title="RefChecks.this.global.Type">rtpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509305" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[RefChecks.this.global.Tree], exprOwner: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]" id="948993">transformStats</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="951871">stats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="RefChecks.this.global.Symbol" id="951872">exprOwner</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <a href="#948985" title="()Unit">pushLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#948987" title="(stats: List[RefChecks.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#951871" title="List[RefChecks.this.global.Tree]">stats</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Int" id="951876">index</a> = -<span title="Int(-1)" class="int">1</span>
        <a href="#951871" title="List[RefChecks.this.global.Tree]">stats</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: RefChecks.this.global.Tree =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Tree" id="951898">stat</a> =&gt; <a href="#951876" title="Int">index</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>; <a href="#948996" title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]">transformStat</a><span class="delimiter">(</span><a href="#951898" title="RefChecks.this.global.Tree">stat</a>, <a href="#951876" title="Int">index</a><span class="delimiter">)</span> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <a href="#948986" title="()Unit">popLevel</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Eliminate ModuleDefs.
     *   - A top level object is replaced with their module class.
     *   - An inner object is transformed into a module var, created on first access.
     *
     *  In both cases, this transformation returns the list of replacement trees:
     *   - Top level: the module class accessor definition
     *   - Inner: a class definition, declaration of module var, and module var accessor
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="948994">eliminateModuleDefs</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="951933">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> ModuleDef<a href="../../../Tuple3.scala.html#53296" title="(RefChecks.this.global.Modifiers, RefChecks.this.global.TermName, RefChecks.this.global.Template)" class="delimiter">(</a><a href="../../../Tuple3.scala.html#53312" title="RefChecks.this.global.Modifiers" id="951936">mods</a>, <a href="../../../Tuple3.scala.html#53314" title="RefChecks.this.global.TermName" id="951937">name</a>, <a href="../../../Tuple3.scala.html#53316" title="RefChecks.this.global.Template" id="951938">impl</a><span class="delimiter">)</span> = <a href="#951933" title="RefChecks.this.global.Tree">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="951939">sym</a> = <a href="#951933" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="951940">classSym</a>        = <a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509335" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.ClassDef" id="951941">cdef</a>            = <a href="../../../reflect/generic/Trees.scala.html#441714" title="(mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.TypeName, tparams: List[RefChecks.this.global.TypeDef], impl: RefChecks.this.global.Template)RefChecks.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#951936" title="RefChecks.this.global.Modifiers">mods</a> <a href="../../../reflect/generic/Trees.scala.html#440989" title="(flag: Long)RefChecks.this.global.Modifiers">|</a> <span title="Long(256L)">MODULE</span>, <a href="#951937" title="RefChecks.this.global.TermName">name</a>.<a href="../symtab/Names.scala.html#501176" title="=&gt; RefChecks.this.global.TypeName">toTypeName</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="#951938" title="RefChecks.this.global.Template">impl</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ClassDef">setSymbol</a> <a href="#951940" title="RefChecks.this.global.Symbol">classSym</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.ClassDef">setType</a> <a href="../symtab/Types.scala.html#478734" title="object RefChecks.this.global.NoType">NoType</a>

      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="951942">findOrCreateModuleVar</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#948951" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#507769" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#951933" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.ValDef" id="951989">createModuleVar</a> = <a href="../Global.scala.html#478214" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507298" title="(accessor: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.ValDef">mkModuleVarDef</a><span class="delimiter">(</span><a href="#951939" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507193" title="(name: RefChecks.this.global.Name)RefChecks.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../../../reflect/generic/StdNames.scala.html#440112" title="(name: RefChecks.this.global.TermName)RefChecks.this.global.TermName">moduleVarName</a><span class="delimiter">(</span><a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501117" title="=&gt; RefChecks.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="comment">// In case we are dealing with local symbol then we already have</span>
          <span class="comment">// to correct error with forward reference</span>
          <span class="keyword">case</span> <a href="../symtab/Symbols.scala.html#478667" title="RefChecks.this.global.gen.global.ValDef">NoSymbol</a> =&gt; <a href="#951988" title="=&gt; RefChecks.this.global.gen.global.ValDef">createModuleVar</a>
          <span class="keyword">case</span> <a title="RefChecks.this.global.ValDef" id="951998">vsym</a>     =&gt; <a href="../ast/Trees.scala.html#479126" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#951998" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="()RefChecks.this.global.analyzer.global.Tree" id="951943">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.MethodSymbol" id="952017">method</a> = <span class="delimiter">(</span>
          <a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509130" title="(pos: RefChecks.this.global.Position, name: RefChecks.this.global.TermName)RefChecks.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501117" title="=&gt; RefChecks.this.global.TermName">toTermName</a><span class="delimiter">)</span>
          <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)RefChecks.this.global.MethodSymbol">setFlag</a> <span class="delimiter">(</span><a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509259" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#55154" title="(x: Int)Long">|</a> <span title="Int(4194304)">STABLE</span><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)RefChecks.this.global.MethodSymbol">resetFlag</a> <span title="Long(256L)">MODULE</span> <a href="../symtab/Symbols.scala.html#509274" title="(info: RefChecks.this.global.Type)RefChecks.this.global.MethodSymbol">setInfo</a> <a href="../symtab/Types.scala.html#546934" title="(resultType: RefChecks.this.global.Type)RefChecks.this.global.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509335" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; RefChecks.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.Symbol">enter</a> <a href="#952017" title="RefChecks.this.global.MethodSymbol">method</a>
        <a href="#948951" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#507769" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#951933" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#478214" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507300" title="(accessor: RefChecks.this.global.gen.global.Symbol, msym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.DefDef">mkModuleAccessDef</a><span class="delimiter">(</span><a href="#952017" title="RefChecks.this.global.MethodSymbol">method</a>, <a href="#951939" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]" id="951944">createInnerModuleAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="952058">vdef</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span>
        <a href="#952058" title="RefChecks.this.global.Tree">vdef</a>,
        <a href="#948951" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#507769" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#951933" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="952065">vsym</a> = <a href="#952058" title="RefChecks.this.global.Tree">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
          <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="952070">rhs</a>  = <a href="../Global.scala.html#478214" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507301" title="(accessor: RefChecks.this.global.gen.global.Symbol, tpe: RefChecks.this.global.gen.global.Type)RefChecks.this.global.gen.global.Tree">newModule</a><span class="delimiter">(</span><a href="#951939" title="RefChecks.this.global.Symbol">sym</a>, <a href="#952065" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.gen.global.Tree" id="952071">body</a> = <span title="RefChecks.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#952070" title="RefChecks.this.global.gen.global.Tree">rhs</a> <span class="keyword">else</span> <a href="../Global.scala.html#478214" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507297" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#952065" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#952070" title="RefChecks.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
            <a href="../ast/Trees.scala.html#479132" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#951939" title="RefChecks.this.global.Symbol">sym</a>, <a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../ast/Trees.scala.html#510735" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9589" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <a href="../../../Predef.scala.html#57653" title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</a> <a href="#951939" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
      <a href="../ast/Trees.scala.html#560340" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#951941" title="RefChecks.this.global.ClassDef">cdef</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: RefChecks.this.global.analyzer.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">::</a> <span class="delimiter">{</span>
        <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509233" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span>
          <span title="List[RefChecks.this.global.analyzer.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#951939" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509340" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
          <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span><a href="#951943" title="()RefChecks.this.global.analyzer.global.Tree">createStaticModuleAccessor</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#951944" title="(vdef: RefChecks.this.global.Tree)List[RefChecks.this.global.analyzer.global.Tree]">createInnerModuleAccessor</a><span class="delimiter">(</span><a href="#951942" title="()RefChecks.this.global.analyzer.global.Tree">findOrCreateModuleVar</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Implements lazy value accessors:
     *    - for lazy values of type Unit and all lazy fields inside traits,
     *      the rhs is the initializer itself
     *    - for all other lazy values z the accessor is a block of this form:
     *      { z = &lt;rhs&gt;; z } where z can be an identifier or a field.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]" id="948995">makeLazyAccessor</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="952138">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a>, <a title="RefChecks.this.global.Tree" id="952139">rhs</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="952141">vsym</a>        = <a href="#952138" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
      <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#952141" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a>, <a href="#952141" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="952142">hasUnitType</a> = <a href="#952141" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="952143">lazySym</a>     = <a href="#952141" title="RefChecks.this.global.Symbol">vsym</a>.<a href="../symtab/Symbols.scala.html#509316" title="=&gt; RefChecks.this.global.Symbol">lazyAccessor</a>
      <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#952143" title="RefChecks.this.global.Symbol">lazySym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#952141" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span>

      <span class="comment">// for traits, this is further transformed in mixins</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="952144">body</a> = <span class="delimiter">(</span>
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#952138" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#952142" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <a href="#952139" title="RefChecks.this.global.Tree">rhs</a>
        <span class="keyword">else</span> <a href="../Global.scala.html#478214" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507297" title="(lhs: RefChecks.this.global.gen.global.Symbol, rhs: RefChecks.this.global.gen.global.Tree)RefChecks.this.global.gen.global.Tree">mkAssignAndReturn</a><span class="delimiter">(</span><a href="#952141" title="RefChecks.this.global.Symbol">vsym</a>, <a href="#952139" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.DefDef" id="952145">lazyDef</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: RefChecks.this.global.Position)(tree: RefChecks.this.global.DefDef)RefChecks.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#952138" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479132" title="(sym: RefChecks.this.global.Symbol, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#952143" title="RefChecks.this.global.Symbol">lazySym</a>, <a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">body</a>.<a href="../ast/Trees.scala.html#510735" title="(pairs: (RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)*)RefChecks.this.global.Tree">changeOwner</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9589" title="(x: RefChecks.this.global.Symbol)ArrowAssoc[RefChecks.this.global.Symbol]">vsym</a> <a href="../../../Predef.scala.html#57653" title="(y: RefChecks.this.global.Symbol)(RefChecks.this.global.Symbol, RefChecks.this.global.Symbol)">-&gt;</a> <a href="#952143" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Made lazy def: &quot;)" class="string">&quot;Made lazy def: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#952145" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span>

      <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#952142" title="Boolean">hasUnitType</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span><a href="Typers.scala.html#507768" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#952145" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span>
        <a href="Typers.scala.html#507768" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479126" title="(sym: RefChecks.this.global.Symbol)RefChecks.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#952141" title="RefChecks.this.global.Symbol">vsym</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="Typers.scala.html#507768" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#952145" title="RefChecks.this.global.DefDef">lazyDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, index: Int)List[RefChecks.this.global.Tree]" id="948996">transformStat</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="951903">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a>, <a title="Int" id="951904">index</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#951903" title="RefChecks.this.global.Tree">tree</a> <span title="List[RefChecks.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">ModuleDef</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt; <a href="#948994" title="(tree: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">eliminateModuleDefs</a><span class="delimiter">(</span><a href="#951903" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(RefChecks.this.global.ValDef, RefChecks.this.global.Tree)" id="952259">tree1</a> @ ValDef<span class="delimiter">(</span>_, _, _, <a href="../../../Tuple2.scala.html#53404" title="RefChecks.this.global.Tree" id="952260">rhs</a><span class="delimiter">)</span> = <a href="#949016" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree @unchecked" class="delimiter">(</a><a href="#951903" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="comment">// important to do before forward reference check</span>
        <span title="List[RefChecks.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#951903" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435299" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span>
          <a href="#948995" title="(tree: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)List[RefChecks.this.global.Tree]">makeLazyAccessor</a><span class="delimiter">(</span><a href="#951903" title="RefChecks.this.global.Tree">tree</a>, <a href="#952260" title="RefChecks.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="952278">lazySym</a> = <a href="#951903" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509317" title="=&gt; RefChecks.this.global.Symbol">lazyAccessorOrSelf</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#952278" title="RefChecks.this.global.Symbol">lazySym</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#951904" title="Int">index</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="#948981" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#949484" title="=&gt; Int">maxindex</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#948981" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#949490" title="=&gt; RefChecks.this.global.Symbol">refsym</a><span class="delimiter">)</span>
            <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#948981" title="=&gt; RefCheckTransformer.this.LevelInfo">currentLevel</a>.<a href="#949487" title="=&gt; RefChecks.this.global.Position">refpos</a>, <span title="java.lang.String(&quot;forward reference extends over definition of &quot;)" class="string">&quot;forward reference extends over definition of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#952278" title="RefChecks.this.global.Symbol">lazySym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.ValDef*)List[RefChecks.this.global.ValDef]">List</a><span class="delimiter">(</span><a href="#952259" title="RefChecks.this.global.ValDef">tree1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">Import</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
      <span class="keyword">case</span> <span title="List[RefChecks.this.global.Tree]">_</span>            =&gt; <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.Tree*)List[RefChecks.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#949016" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#951903" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/* Check whether argument types conform to bounds of type parameters */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit" id="948997">checkBounds</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="952304">pre</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="952305">owner</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="List[RefChecks.this.global.Symbol]" id="952306">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[RefChecks.this.global.Type]" id="952307">argtps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="RefChecks.this.global.Position" id="952308">pos</a>: <a href="../util/Position.scala.html#42664" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> =
      <span class="keyword">try</span> <a href="../Global.scala.html#478336" title="object RefChecks.this.global.typer">typer</a>.<a href="Typers.scala.html#507666" title="=&gt; RefChecks.this.global.analyzer.Inferencer">infer</a>.<a href="Infer.scala.html#507835" title="(pos: RefChecks.this.global.analyzer.global.Position, pre: RefChecks.this.global.analyzer.global.Type, owner: RefChecks.this.global.analyzer.global.Symbol, tparams: List[RefChecks.this.global.analyzer.global.Symbol], targs: List[RefChecks.this.global.analyzer.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#952308" title="RefChecks.this.global.Position">pos</a>, <a href="#952304" title="RefChecks.this.global.Type">pre</a>, <a href="#952305" title="RefChecks.this.global.Symbol">owner</a>, <a href="#952306" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#952307" title="List[RefChecks.this.global.Type]">argtps</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
      <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="952316">ex</a>: <a href="../symtab/Types.scala.html#478998" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#952308" title="RefChecks.this.global.Position">pos</a>, <a href="#952316" title="RefChecks.this.global.TypeError">ex</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#469844" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.TypeBounds]" id="952320">bounds</a> = <a href="#952306" title="List[RefChecks.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.TypeBounds)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])List[RefChecks.this.global.TypeBounds]">map</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="952337">tp</a> =&gt; <a href="#952337" title="RefChecks.this.global.Symbol">tp</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507185" title="(formals: List[RefChecks.this.global.Symbol], actuals: List[RefChecks.this.global.Type])RefChecks.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#952306" title="List[RefChecks.this.global.Symbol]">tparams</a>, <a href="#952307" title="List[RefChecks.this.global.Type]">argtps</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#507167" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a><span class="delimiter">)</span>
            <a href="../../../Tuple2.scala.html#53390" title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</a><a href="#952307" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#952320" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</a> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="952425">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="952426">bound</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#479008" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#952426" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#546583" title="=&gt; RefChecks.this.global.Type">lo</a>, <a href="#952425" title="RefChecks.this.global.Type">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../../../Tuple2.scala.html#53390" title="(_1: List[RefChecks.this.global.Type], _2: List[RefChecks.this.global.TypeBounds])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])" class="delimiter">(</a><a href="#952307" title="List[RefChecks.this.global.Type]">argtps</a>, <a href="#952320" title="List[RefChecks.this.global.TypeBounds]">bounds</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[RefChecks.this.global.Type] =&gt; scala.collection.TraversableLike[RefChecks.this.global.Type,List[RefChecks.this.global.Type]], implicit w2: List[RefChecks.this.global.TypeBounds] =&gt; scala.collection.IterableLike[RefChecks.this.global.TypeBounds,List[RefChecks.this.global.TypeBounds]])(List[RefChecks.this.global.Type], List[RefChecks.this.global.TypeBounds])#Zipped[List[RefChecks.this.global.Type],RefChecks.this.global.Type,List[RefChecks.this.global.TypeBounds],RefChecks.this.global.TypeBounds]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (RefChecks.this.global.Type, RefChecks.this.global.TypeBounds) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],Unit,List[Unit]])List[Unit]">map</a> <span class="delimiter">(</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="952504">targ</a>, <a title="RefChecks.this.global.TypeBounds" id="952505">bound</a><span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#479008" title="(found: RefChecks.this.global.Type, required: RefChecks.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#952504" title="RefChecks.this.global.Type">targ</a>, <a href="#952505" title="RefChecks.this.global.TypeBounds">bound</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; RefChecks.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean" id="948998">isIrrefutable</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="952535">pat</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a>, <a title="RefChecks.this.global.Type" id="952536">seltpe</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#952535" title="RefChecks.this.global.Tree">pat</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">Apply</span><span class="delimiter">(</span>_, <a title="List[RefChecks.this.global.Tree]" id="952540">args</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="952541">clazz</a> = <a href="#952535" title="RefChecks.this.global.Tree">pat</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>
        <a href="#952541" title="RefChecks.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#952536" title="RefChecks.this.global.Type">seltpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#952541" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509226" title="=&gt; Boolean">isCaseClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">(</span><a href="#952540" title="List[RefChecks.this.global.Tree]">args</a> <a href="../../../collection/SeqLike.scala.html#54171" title="(that: scala.collection.GenSeq[RefChecks.this.global.Type])(p: (RefChecks.this.global.Tree, RefChecks.this.global.Type) =&gt; Boolean)Boolean">corresponds</a> <a href="#952541" title="RefChecks.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509305" title="=&gt; RefChecks.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507205" title="(pre: RefChecks.this.global.Type, clazz: RefChecks.this.global.Symbol)RefChecks.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#952536" title="RefChecks.this.global.Type">seltpe</a>, <a href="#952541" title="RefChecks.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#507181" title="=&gt; List[RefChecks.this.global.Type]">paramTypes</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#948998" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">Typed</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="952567">pat</a>, <a title="RefChecks.this.global.Tree" id="952568">tpt</a><span class="delimiter">)</span> =&gt;
        <a href="#952536" title="RefChecks.this.global.Type">seltpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#952568" title="RefChecks.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a>
      <span class="keyword">case</span> <span title="Boolean(true)">Ident</span><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479051" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#516190" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD</a><span class="delimiter">)</span> =&gt;
        <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">Bind</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.Tree" id="952579">pat</a><span class="delimiter">)</span> =&gt;
        <a href="#948998" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span><a href="#952579" title="RefChecks.this.global.Tree">pat</a>, <a href="#952536" title="RefChecks.this.global.Type">seltpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="comment">/** If symbol is deprecated, and the point of reference is not enclosed
     *  in either a deprecated member or a scala bridge method, issue a warning.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="948999">checkDeprecated</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="952580">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="952581">pos</a>: <a href="../util/Position.scala.html#42664" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#952580" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509210" title="=&gt; Boolean">isDeprecated</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#560333" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#509252" title="=&gt; List[RefChecks.this.global.Symbol]">ownerChain</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="952591">x</a> =&gt; <a href="#952591" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#509210" title="=&gt; Boolean">isDeprecated</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#952591" title="RefChecks.this.global.Symbol">x</a>.<a href="../symtab/Symbols.scala.html#509211" title="=&gt; Boolean">hasBridgeAnnotation</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500980" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#952581" title="RefChecks.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s is deprecated%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#952580" title="RefChecks.this.global.Symbol">sym</a>, <a href="#952580" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a>, <a href="#952580" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509212" title="=&gt; Option[String]">deprecationMessage</a> <a href="../../../Option.scala.html#48480" title="(f: String =&gt; java.lang.String)Option[java.lang.String]">map</a> <span class="delimiter">(</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#952601" title="String">_</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#48474" title="(default: =&gt; java.lang.String)java.lang.String">getOrElse</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Similar to deprecation: check if the symbol is marked with @migration
     *  indicating it has changed semantics between versions.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit" id="949000">checkMigration</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="952608">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Position" id="952609">pos</a>: <a href="../util/Position.scala.html#42664" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#952608" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509214" title="=&gt; Boolean">hasMigrationAnnotation</a><span class="delimiter">)</span>
        <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#952609" title="RefChecks.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s has changed semantics in version %s:\n%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#952608" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509368" title="=&gt; java.lang.String">fullLocationString</a>, <a href="#952608" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509216" title="=&gt; Option[String]">migrationVersion</a>.<a href="../../../Option.scala.html#48473" title="=&gt; String">get</a>, <a href="#952608" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509215" title="=&gt; Option[String]">migrationMessage</a>.<a href="../../../Option.scala.html#48473" title="=&gt; String">get</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean" id="949001">lessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="952615">otherSym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="952616">memberSym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">(</span>
         <span class="delimiter">(</span><a href="#952615" title="RefChecks.this.global.Symbol">otherSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object RefChecks.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#952615" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../symtab/Symbols.scala.html#509186" title="=&gt; Boolean">isTypeParameterOrSkolem</a>
      <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#952615" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435381" title="=&gt; Boolean">isExistentiallyBound</a>
      <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#952615" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../symtab/Symbols.scala.html#509266" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#952616" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span>
      <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#952615" title="RefChecks.this.global.Symbol">otherSym</a> <a href="../symtab/Symbols.scala.html#509266" title="(other: RefChecks.this.global.Symbol)Boolean">isLessAccessibleThan</a> <a href="#952616" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435409" title="=&gt; RefChecks.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
    <span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]" id="949002">lessAccessibleSymsInType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="952623">other</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Symbol" id="952624">memberSym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="952626">extras</a> = <a href="#952623" title="RefChecks.this.global.Type">other</a> <span title="List[RefChecks.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[RefChecks.this.global.Symbol]">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="952630">pre</a>, _, <a title="List[RefChecks.this.global.Type]" id="952631">args</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// checking the prefix here gives us spurious errors on e.g. a private[process]</span>
          <span class="comment">// object which contains a type alias, which normalizes to a visible type.</span>
          <a href="#952631" title="List[RefChecks.this.global.Type]">args</a> <a href="../../../collection/TraversableLike.scala.html#49052" title="(p: RefChecks.this.global.Type =&gt; Boolean)List[RefChecks.this.global.Type]">filterNot</a> <span class="delimiter">(</span><a href="#952635" title="RefChecks.this.global.Type">_</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../symtab/Types.scala.html#478736" title="object RefChecks.this.global.NoPrefix">NoPrefix</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: RefChecks.this.global.Type =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Type],RefChecks.this.global.Symbol,List[RefChecks.this.global.Symbol]])List[RefChecks.this.global.Symbol]">flatMap</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="952655">tp</a> =&gt; <a href="#949002" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#952655" title="RefChecks.this.global.Type">tp</a>, <a href="#952624" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span> =&gt;
          <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
      <span class="delimiter">}</span>
      <span title="List[RefChecks.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#949001" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Boolean">lessAccessible</a><span class="delimiter">(</span><a href="#952623" title="RefChecks.this.global.Type">other</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a>, <a href="#952624" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#952623" title="RefChecks.this.global.Type">other</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">::</a> <a href="#952626" title="List[RefChecks.this.global.Symbol]">extras</a>
      <span class="keyword">else</span> <a href="#952626" title="List[RefChecks.this.global.Symbol]">extras</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit" id="949003">warnLessAccessible</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="952689">otherSym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a>, <a title="RefChecks.this.global.Symbol" id="952690">memberSym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="952692">comparison</a> = <a href="#511917" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#952690" title="RefChecks.this.global.Symbol">memberSym</a><span class="delimiter">)</span> <span title="java.lang.String" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>   =&gt; <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
        <span class="keyword">case</span> <a title="java.lang.String" id="952694">acc</a>  =&gt; <span title="java.lang.String(&quot; is &quot;)" class="string">&quot; is &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#952694" title="String">acc</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; but&quot;)" class="string">&quot; but&quot;</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="java.lang.String" id="952693">cannot</a> =
        <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#952690" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;may be unable to provide a concrete implementation of&quot;)" class="string">&quot;may be unable to provide a concrete implementation of&quot;</span>
        <span class="keyword">else</span> <span title="java.lang.String(&quot;may be unable to override&quot;)" class="string">&quot;may be unable to override&quot;</span>

      <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#952690" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>,
        <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;%s%s references %s %s.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#952690" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../symtab/Symbols.scala.html#509368" title="=&gt; java.lang.String">fullLocationString</a>, <a href="#952692" title="java.lang.String">comparison</a>,
          <a href="#511917" title="(sym: RefChecks.this.global.Symbol)String">accessFlagsToString</a><span class="delimiter">(</span><a href="#952689" title="RefChecks.this.global.Symbol">otherSym</a><span class="delimiter">)</span>, <a href="#952689" title="RefChecks.this.global.Symbol">otherSym</a>
        <span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;\nClasses which cannot access %s %s %s.&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
          <a href="#952689" title="RefChecks.this.global.Symbol">otherSym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435345" title="=&gt; String">decodedName</a>, <a href="#952693" title="java.lang.String">cannot</a>, <a href="#952690" title="RefChecks.this.global.Symbol">memberSym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435345" title="=&gt; String">decodedName</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="comment">/** Warn about situations where a method signature will include a type which
     *  has more restrictive access than the method itself.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="949004">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="952701">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="952703">member</a> = <a href="#952701" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

      <span class="comment">// types of the value parameters</span>
      <a href="#952703" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509288" title="=&gt; List[List[RefChecks.this.global.Symbol]]">paramss</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53804" title="(implicit asTraversable: List[RefChecks.this.global.Symbol] =&gt; scala.collection.TraversableOnce[RefChecks.this.global.Symbol])List[RefChecks.this.global.Symbol]">flatten</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Symbol" id="952763">p</a> =&gt;
        <span class="keyword">val</span> <a title="RefChecks.this.global.Type" id="952764">normalized</a> = <a href="#952763" title="RefChecks.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; RefChecks.this.global.Type">normalize</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#952764" title="RefChecks.this.global.Type">normalized</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#952763" title="RefChecks.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#949002" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#952764" title="RefChecks.this.global.Type">normalized</a>, <a href="#952703" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#949002" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#952763" title="RefChecks.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>, <a href="#952703" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="952787">sym</a> =&gt; <a href="#949003" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit">warnLessAccessible</a><span class="delimiter">(</span><a href="#952787" title="RefChecks.this.global.Symbol">sym</a>, <a href="#952703" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="comment">// upper bounds of type parameters</span>
      <a href="#952703" title="RefChecks.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,RefChecks.this.global.Type,List[RefChecks.this.global.Type]]" class="delimiter">(</a><a href="#952809" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; RefChecks.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; RefChecks.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; RefChecks.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; RefChecks.this.global.Type">widen</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="RefChecks.this.global.Type" id="952858">tp</a> =&gt;
        <a href="#949002" title="(other: RefChecks.this.global.Type, memberSym: RefChecks.this.global.Symbol)List[RefChecks.this.global.Symbol]">lessAccessibleSymsInType</a><span class="delimiter">(</span><a href="#952858" title="RefChecks.this.global.Type">tp</a>, <a href="#952703" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="952880">sym</a> =&gt; <a href="#949003" title="(otherSym: RefChecks.this.global.Symbol, memberSym: RefChecks.this.global.Symbol)Unit">warnLessAccessible</a><span class="delimiter">(</span><a href="#952880" title="RefChecks.this.global.Symbol">sym</a>, <a href="#952703" title="RefChecks.this.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Check that a deprecated val or def does not override a
      * concrete, non-deprecated method.  If it does, then
      * deprecation is meaningless.
      */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="949005">checkDeprecatedOvers</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="952883">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="952885">symbol</a> = <a href="#952883" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#952885" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509210" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="952886">concrOvers</a> =
          <a href="#952885" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509340" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/TraversableLike.scala.html#49051" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)List[RefChecks.this.global.Symbol]">filter</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="952892">sym</a> =&gt;
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#952892" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509210" title="=&gt; Boolean">isDeprecated</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#952892" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#952886" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500980" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span>
            <a href="#952883" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a>,
            <a href="#952885" title="RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509365" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; overrides concrete, non-deprecated symbol(s):&quot;)" class="string">&quot; overrides concrete, non-deprecated symbol(s):&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
            <a href="#952886" title="List[RefChecks.this.global.Symbol]">concrOvers</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: RefChecks.this.global.Symbol =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],String,List[String]])List[String]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,String,List[String]]" class="delimiter">(</a><a href="#952909" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501159" title="=&gt; String">decode</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a><span class="delimiter">(</span><span title="java.lang.String(&quot;    &quot;)" class="string">&quot;    &quot;</span>, <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Boolean" id="949006">isRepeatedParamArg</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="952940">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#948954" title="=&gt; RefChecks.this.global.Tree">currentApplication</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean">Apply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="952945">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="952946">args</a><span class="delimiter">)</span> =&gt;
        <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#952946" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#952946" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71051" title="=&gt; RefChecks.this.global.Tree">last</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#952940" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <a href="#952945" title="RefChecks.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507180" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#952946" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/Definitions.scala.html#508064" title="(tp: RefChecks.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#952945" title="RefChecks.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507180" title="=&gt; List[RefChecks.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71051" title="=&gt; RefChecks.this.global.Symbol">last</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
        <span title="Boolean(false)" class="keyword">false</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit" id="949007">checkTypeRef</a><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="952956">tp</a>: <a href="../symtab/Types.scala.html#478720" title="RefChecks.this.global.Type">Type</a>, <a title="RefChecks.this.global.Position" id="952957">pos</a>: <a href="../util/Position.scala.html#42664" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <a href="#952956" title="RefChecks.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="952963">pre</a>, <a title="RefChecks.this.global.Symbol" id="952964">sym</a>, <a title="List[RefChecks.this.global.Type]" id="952965">args</a><span class="delimiter">)</span> =&gt;
        <a href="#948999" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#952964" title="RefChecks.this.global.Symbol">sym</a>, <a href="#952957" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#952964" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>
          <a href="#952964" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a href="#952987" title="RefChecks.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509283" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#952956" title="RefChecks.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507150" title="=&gt; Boolean">isHigherKinded</a><span class="delimiter">)</span>
          <a href="#948997" title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkBounds</a><span class="delimiter">(</span><a href="#952963" title="RefChecks.this.global.Type">pre</a>, <a href="#952964" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>, <a href="#952964" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#952965" title="List[RefChecks.this.global.Type]">args</a>, <a href="#952957" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpes: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit" id="949008">checkAnnotations</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.Type]" id="952989">tpes</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="RefChecks.this.global.Position" id="952990">pos</a>: <a href="../util/Position.scala.html#42664" title="RefChecks.this.global.Position">Position</a><span class="delimiter">)</span> = <a href="#952989" title="List[RefChecks.this.global.Type]">tpes</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="953012">tp</a> =&gt; <a href="#949007" title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="#953012" title="RefChecks.this.global.Type">tp</a>, <a href="#952990" title="RefChecks.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit" id="949009">doTypeTraversal</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953014">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type =&gt; Unit" id="953015">f</a>: Type =&gt; Unit<span class="delimiter">)</span> = <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#948957" title="=&gt; Boolean">inPattern</a><span class="delimiter">)</span> <a href="#953014" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507215" title="(f: RefChecks.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#953015" title="RefChecks.this.global.Type =&gt; Unit">f</a>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)Unit" id="949010">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953019">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]" id="953021">applyChecks</a><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="953022">annots</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[RefChecks.this.global.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#949008" title="(tpes: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkAnnotations</a><span class="delimiter">(</span><a href="#953022" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: RefChecks.this.global.AnnotationInfo =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#953039" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#532479" title="=&gt; RefChecks.this.global.Type">atp</a><span class="delimiter">)</span>, <a href="#953019" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#560340" title="(trees: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">transformTrees</a><span class="delimiter">(</span><a href="#953022" title="List[RefChecks.this.global.AnnotationInfo]">annots</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: RefChecks.this.global.AnnotationInfo =&gt; scala.collection.GenTraversableOnce[RefChecks.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.AnnotationInfo],RefChecks.this.global.Tree,List[RefChecks.this.global.Tree]])List[RefChecks.this.global.Tree]">flatMap</a> <span class="delimiter">(</span><a href="#953083" title="RefChecks.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#532481" title="=&gt; List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#953019" title="RefChecks.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="953111">m</a>: <a href="../../../reflect/generic/Trees.scala.html#434037" title="RefChecks.this.global.MemberDef">MemberDef</a> =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="953112">sym</a> = <a href="#953111" title="RefChecks.this.global.MemberDef">m</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; RefChecks.this.global.Symbol">symbol</a>
          <a href="#953021" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span class="delimiter">(</span><a href="#953112" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509116" title="=&gt; List[RefChecks.this.global.AnnotationInfo]">annotations</a><span class="delimiter">)</span>
          <span class="comment">// validate implicitNotFoundMessage</span>
          <a href="../Global.scala.html#478282" title="object RefChecks.this.global.analyzer">analyzer</a>.<a href="Implicits.scala.html#507517" title="object RefChecks.this.global.analyzer.ImplicitNotFoundMsg">ImplicitNotFoundMsg</a>.<a href="Implicits.scala.html#932543" title="(sym: RefChecks.this.global.analyzer.global.Symbol)Option[String]">check</a><span class="delimiter">(</span><a href="#953112" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#48491" title="(f: String =&gt; Unit)Unit">foreach</a> <span class="delimiter">{</span> <a title="String" id="953118">warn</a> =&gt;
            <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#953019" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Invalid implicitNotFound message for %s%s:\n%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#953112" title="RefChecks.this.global.Symbol">sym</a>, <a href="#953112" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a>, <a href="#953118" title="String">warn</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a title="Unit" id="953123">tpt</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#953123" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#534787" title="=&gt; RefChecks.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#953123" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">original</a> <a href="../ast/Trees.scala.html#510731" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</a> <a href="#953193" title="Unit" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="Unit" id="953194">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#949010" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#953194" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>.<a href="../../../Function0.scala.html#62187" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// #2416</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <a href="#949009" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#953019" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#953197" title="Unit" class="delimiter">{</a>
            <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.AnnotationInfo]" id="953201">annots</a>, _, _<span class="delimiter">)</span>  =&gt; <a href="#953021" title="(annots: List[RefChecks.this.global.AnnotationInfo])List[RefChecks.this.global.Tree]">applyChecks</a><span title="Unit" class="delimiter">(</span><a href="#953201" title="List[RefChecks.this.global.AnnotationInfo]">annots</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree" id="949011">transformCaseApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953202">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a>, <a title="=&gt; Unit" id="953203">ifNot</a>: =&gt; Unit<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="953206">sym</a> = <a href="#953202" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

      <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#953206" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435390" title="=&gt; Boolean">isSourceMethod</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#953206" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435296" title="=&gt; Boolean">isCase</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#953206" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; RefChecks.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
        <a href="#948992" title="(pos: RefChecks.this.global.Position, tpe: RefChecks.this.global.Type)RefChecks.this.global.Tree">toConstructor</a><span class="delimiter">(</span><a href="#953202" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#953202" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#953203" title="=&gt; Unit">ifNot</a>
        <a href="#953202" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree" id="949012">transformApply</a><span class="delimiter">(</span><a title="RefChecks.this.global.Apply" id="953212">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434122" title="RefChecks.this.global.Apply">Apply</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a> = <a href="#953212" title="RefChecks.this.global.Apply">tree</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Apply</span><span class="delimiter">(</span>
        Select<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953220">qual</a>, <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516626" title="=&gt; RefChecks.this.global.nme.NameType">filter</a><span class="delimiter">)</span>,
        <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[RefChecks.this.global.Tree])Some[List[RefChecks.this.global.Tree]]">List</a><span class="delimiter">(</span>Function<span class="delimiter">(</span>
          <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[RefChecks.this.global.ValDef])Some[List[RefChecks.this.global.ValDef]]">List</a><span class="delimiter">(</span>ValDef<span class="delimiter">(</span>_, <a title="RefChecks.this.global.TermName" id="953258">pname</a>, <a title="RefChecks.this.global.Tree" id="953259">tpt</a>, _<span class="delimiter">)</span><span class="delimiter">)</span>,
          Match<span class="delimiter">(</span>_, CaseDef<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953275">pat1</a>, _, _<span class="delimiter">)</span> :: _<span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#953258" title="RefChecks.this.global.TermName">pname</a> <a href="../symtab/Names.scala.html#501146" title="(name: String)Boolean">startsWith</a> <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516772" title="=&gt; java.lang.String">CHECK_IF_REFUTABLE_STRING</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#948998" title="(pat: RefChecks.this.global.Tree, seltpe: RefChecks.this.global.Type)Boolean">isIrrefutable</a><span class="delimiter">(</span><a href="#953275" title="RefChecks.this.global.Tree">pat1</a>, <a href="#953259" title="RefChecks.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#953220" title="RefChecks.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: RefChecks.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#953212" title="RefChecks.this.global.Apply">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;

          <a href="#949016" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#953220" title="RefChecks.this.global.Tree">qual</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="RefChecks.this.global.analyzer.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953293">tpt</a><span class="delimiter">)</span>, <a title="RefChecks.this.global.Name" id="953294">name</a><span class="delimiter">)</span>, <a title="List[RefChecks.this.global.Tree]" id="953295">args</a><span class="delimiter">)</span>
      <span class="keyword">if</span> <span class="delimiter">(</span><a href="#953293" title="RefChecks.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; RefChecks.this.global.Symbol">ArrayClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#953295" title="List[RefChecks.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> =&gt;
        <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500980" title="(pos: RefChecks.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#953212" title="RefChecks.this.global.Apply">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a>,
          <span title="java.lang.String(&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;)" class="string">&quot;new Array(...) with multiple dimensions has been deprecated; use Array.ofDim(...) instead&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="953306">manif</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="RefChecks.this.global.Type" id="953308">etpe</a> = <a href="#953293" title="RefChecks.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953328">_</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#953308" title="RefChecks.this.global.Type">etpe</a> = <a href="#953308" title="RefChecks.this.global.Type">etpe</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[RefChecks.this.global.Type]">typeArgs</a>.<a href="../../../collection/TraversableLike.scala.html#49081" title="=&gt; Option[RefChecks.this.global.Type]">headOption</a>.<a href="../../../Option.scala.html#48474" title="(default: =&gt; RefChecks.this.global.Type)RefChecks.this.global.Type">getOrElse</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478734" title="object RefChecks.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span title="RefChecks.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#953308" title="RefChecks.this.global.Type">etpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#478734" title="object RefChecks.this.global.NoType">NoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#953212" title="RefChecks.this.global.Apply">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a>, <span title="java.lang.String(&quot;too many dimensions for array creation&quot;)" class="string">&quot;too many dimensions for array creation&quot;</span><span class="delimiter">)</span>
            <a href="../../../reflect/generic/Trees.scala.html#443172" title="(value: RefChecks.this.global.Constant)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/generic/Constants.scala.html#435761" title="(value: Any)RefChecks.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#948951" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#507786" title="(pos: RefChecks.this.global.analyzer.global.Position, tp: RefChecks.this.global.analyzer.global.Type, full: Boolean)RefChecks.this.global.analyzer.global.Tree">getManifestTree</a><span class="delimiter">(</span><a href="#953212" title="RefChecks.this.global.Apply">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#953308" title="RefChecks.this.global.Type">etpe</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.global.Tree" id="953307">newResult</a> = <a href="#948951" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#507769" title="(pos: RefChecks.this.global.analyzer.global.Position)(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#953212" title="RefChecks.this.global.Apply">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="RefChecks.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="../ast/Trees.scala.html#479162" title="RefChecks.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: RefChecks.this.global.Tree, name: RefChecks.this.global.Name)RefChecks.this.global.Select">Select</a><span class="delimiter">(</span><a href="../Global.scala.html#478214" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507273" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508096" title="=&gt; RefChecks.this.global.Symbol">ArrayModule</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516688" title="=&gt; RefChecks.this.global.nme.NameType">ofDim</a><span class="delimiter">)</span>, <a href="#953295" title="List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.analyzer.global.Tree*)List[RefChecks.this.global.analyzer.global.Tree]">List</a><span class="delimiter">(</span><a href="#953306" title="RefChecks.this.global.analyzer.global.Tree">manif</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#948954" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#953212" title="RefChecks.this.global.Apply">tree</a>
        <a href="#953307" title="RefChecks.this.global.analyzer.global.Tree">newResult</a>

      <span class="keyword">case</span> <span title="RefChecks.this.global.Apply">Apply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953401">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="953402">args</a><span class="delimiter">)</span> =&gt;
        <a href="#948991" title="(pos: RefChecks.this.global.Position, fn: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])Unit">checkSensible</a><span class="delimiter">(</span><a href="#953212" title="RefChecks.this.global.Apply">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#953401" title="RefChecks.this.global.Tree">fn</a>, <a href="#953402" title="List[RefChecks.this.global.Tree]">args</a><span class="delimiter">)</span>
        <a href="#948954" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#953212" title="RefChecks.this.global.Apply">tree</a>
        <a href="#953212" title="RefChecks.this.global.Apply">tree</a>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree" id="949013">transformSelect</a><span class="delimiter">(</span><a title="RefChecks.this.global.Select" id="953403">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434134" title="RefChecks.this.global.Select">Select</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Select<a href="../../../Tuple2.scala.html#53390" title="(RefChecks.this.global.Tree, RefChecks.this.global.Name)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="RefChecks.this.global.Tree" id="953406">qual</a>, <a href="../../../Tuple2.scala.html#53404" title="RefChecks.this.global.Name" id="953407">name</a><span class="delimiter">)</span> = <a href="#953403" title="RefChecks.this.global.Select">tree</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="953408">sym</a> = <a href="#953403" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

      <span class="comment">/** Note: if a symbol has both @deprecated and @migration annotations and both
       *  warnings are enabled, only the first one checked here will be emitted.
       *  I assume that's a consequence of some code trying to avoid noise by suppressing
       *  warnings after the first, but I think it'd be better if we didn't have to
       *  arbitrarily choose one as more important than the other.
       */</span>
      <a href="#948999" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkDeprecated</a><span class="delimiter">(</span><a href="#953408" title="RefChecks.this.global.Symbol">sym</a>, <a href="#953403" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469663" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#949000" title="(sym: RefChecks.this.global.Symbol, pos: RefChecks.this.global.Position)Unit">checkMigration</a><span class="delimiter">(</span><a href="#953408" title="RefChecks.this.global.Symbol">sym</a>, <a href="#953403" title="RefChecks.this.global.Select">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>

      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#560337" title="=&gt; RefChecks.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#953408" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#953408" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435324" title="=&gt; Boolean">hasLocalFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Symbol" id="953430">o</a> = <a href="../ast/Trees.scala.html#560337" title="=&gt; RefChecks.this.global.Symbol">currentClass</a>
        <span class="keyword">var</span> <a title="Boolean" id="953431">hidden</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#953431" title="Boolean">hidden</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#953430" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#953408" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#953430" title="RefChecks.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#953408" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509335" title="=&gt; RefChecks.this.global.Symbol">moduleClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#953430" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/generic/Symbols.scala.html#435394" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span> <a href="#953432" title="()Unit" class="delimiter">{</a>
          <a href="#953431" title="Boolean">hidden</a> = <a href="#953430" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#953430" title="RefChecks.this.global.Symbol">o</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435306" title="=&gt; Boolean">isPrivateLocal</a>
          <a href="#953430" title="RefChecks.this.global.Symbol">o</a> = <a href="#953430" title="RefChecks.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#953431" title="Boolean">hidden</a><span class="delimiter">)</span> <a href="#948975" title="=&gt; scala.collection.mutable.HashSet[RefChecks.this.global.Symbol]">escapedPrivateLocals</a> <a href="../../../collection/mutable/HashSet.scala.html#108315" title="(elem: RefChecks.this.global.Symbol)RefCheckTransformer.this.escapedPrivateLocals.type">+=</a> <a href="#953408" title="RefChecks.this.global.Symbol">sym</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(mix: RefChecks.this.global.Name)Unit" id="953409">checkSuper</a><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="953468">mix</a>: <a href="../symtab/Names.scala.html#478413" title="RefChecks.this.global.Name">Name</a><span class="delimiter">)</span> =
        <span class="comment">// term should have been eliminated by super accessors</span>
        <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#953406" title="RefChecks.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#953408" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#953468" title="RefChecks.this.global.Name">mix</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479051" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../../../reflect/generic/StdNames.scala.html#440092" title="=&gt; RefChecks.this.global.tpnme.NameType">EMPTY</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <a href="#949011" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#953403" title="RefChecks.this.global.Select">tree</a>,
        <a href="#953406" title="RefChecks.this.global.Tree">qual</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Super</span><span class="delimiter">(</span>_, <a title="RefChecks.this.global.TypeName" id="953482">mix</a><span class="delimiter">)</span>  =&gt; <a href="#953409" title="(mix: RefChecks.this.global.Name)Unit">checkSuper</a><span class="delimiter">(</span><a href="#953482" title="RefChecks.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span>              =&gt;
        <span class="delimiter">}</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree" id="949014">transformIf</a><span class="delimiter">(</span><a title="RefChecks.this.global.If" id="953483">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434097" title="RefChecks.this.global.If">If</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> If<a href="../../../Tuple3.scala.html#53296" title="(RefChecks.this.global.Tree, RefChecks.this.global.Tree, RefChecks.this.global.Tree)" class="delimiter">(</a><a href="../../../Tuple3.scala.html#53312" title="RefChecks.this.global.Tree" id="953486">cond</a>, <a href="../../../Tuple3.scala.html#53314" title="RefChecks.this.global.Tree" id="953487">thenpart</a>, <a href="../../../Tuple3.scala.html#53316" title="RefChecks.this.global.Tree" id="953488">elsepart</a><span class="delimiter">)</span> = <a href="#953483" title="RefChecks.this.global.If">tree</a>
      <span class="keyword">def</span> <a title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="953489">unitIfEmpty</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953505">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a> =
        <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#953505" title="RefChecks.this.global.Tree">t</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object RefChecks.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#434144" title="(value: Any)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)RefChecks.this.global.Literal">setPos</a><span class="delimiter">(</span><a href="#953483" title="RefChecks.this.global.If">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: RefChecks.this.global.Type)RefChecks.this.global.Literal">setType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508423" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#953505" title="RefChecks.this.global.Tree">t</a>

      <a href="#953486" title="RefChecks.this.global.Tree">cond</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">ConstantType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Constant" id="953527">value</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="953528">res</a> = <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#953527" title="RefChecks.this.global.Constant">value</a>.<a href="../../../reflect/generic/Constants.scala.html#434226" title="=&gt; Boolean">booleanValue</a><span class="delimiter">)</span> <a href="#953487" title="RefChecks.this.global.Tree">thenpart</a> <span class="keyword">else</span> <a href="#953488" title="RefChecks.this.global.Tree">elsepart</a>
          <a href="#953489" title="(t: RefChecks.this.global.Tree)RefChecks.this.global.Tree">unitIfEmpty</a><span class="delimiter">(</span><a href="#953528" title="RefChecks.this.global.Tree">res</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="RefChecks.this.global.If">_</span> =&gt; <a href="#953483" title="RefChecks.this.global.If">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">// Warning about nullary methods returning Unit.</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: RefChecks.this.global.Symbol)Unit" id="949015">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="953529">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="RefChecks.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#953529" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Unit">NullaryMethodType</span><span class="delimiter">(</span><a title="RefChecks.this.global.Type" id="953533">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#953533" title="RefChecks.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; RefChecks.this.global.Symbol">UnitClass</a> =&gt;
        <span class="comment">// this may be the implementation of e.g. a generic method being parameterized</span>
        <span class="comment">// on Unit, in which case we had better let it slide.</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#953529" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509171" title="=&gt; Boolean">isGetter</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#953529" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509340" title="=&gt; List[RefChecks.this.global.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: RefChecks.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="953547">over</a> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#953547" title="RefChecks.this.global.Symbol">over</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; RefChecks.this.global.Type">resultType</a> <a href="../symtab/Types.scala.html#507225" title="(that: RefChecks.this.global.Type)Boolean">=:=</a> <a href="#953529" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; RefChecks.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: RefChecks.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#953529" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; RefChecks.this.global.Position">pos</a>,
          <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;side-effecting nullary methods are discouraged: suggest defining as `def %s()` instead&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
           <a href="#953529" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501159" title="=&gt; String">decode</a><span class="delimiter">)</span>
        <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree" id="949016">transform</a><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="952261">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="RefChecks.this.global.analyzer.Typer" id="953556">savedLocalTyper</a> = <a href="#948951" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>
      <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="953557">savedCurrentApplication</a> = <a href="#948954" title="=&gt; RefChecks.this.global.Tree">currentApplication</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="RefChecks.this.global.Symbol" id="953558">sym</a> = <a href="#952261" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>

        <span class="comment">// Apply RefChecks to annotations. Makes sure the annotations conform to</span>
        <span class="comment">// type bounds (bug #935), issues deprecation warnings for symbols used</span>
        <span class="comment">// inside annotations.</span>
        <a href="#949010" title="(tree: RefChecks.this.global.Tree)Unit">applyRefchecksToAnnotations</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="RefChecks.this.global.Tree" id="953559">result</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="RefChecks.this.global.Tree">Tree</a> = <a href="#952261" title="RefChecks.this.global.Tree">tree</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Modifiers" id="953568">mods</a>, <a title="RefChecks.this.global.TermName" id="953569">name</a>, <a title="List[RefChecks.this.global.TypeDef]" id="953570">tparams</a>, <a title="List[List[RefChecks.this.global.ValDef]]" id="953571">vparams</a>, <a title="RefChecks.this.global.Tree" id="953572">tpt</a>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object RefChecks.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#952261" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509119" title="(cls: RefChecks.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508319" title="=&gt; RefChecks.this.global.Symbol">NativeAttr</a><span class="delimiter">)</span> =&gt;
            <a href="#952261" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)RefChecks.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span>
            <a href="#949016" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560331" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560236" title="(tree: RefChecks.this.global.Tree, mods: RefChecks.this.global.Modifiers, name: RefChecks.this.global.Name, tparams: List[RefChecks.this.global.TypeDef], vparamss: List[List[RefChecks.this.global.ValDef]], tpt: RefChecks.this.global.Tree, rhs: RefChecks.this.global.Tree)RefChecks.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a>, <a href="#953568" title="RefChecks.this.global.Modifiers">mods</a>, <a href="#953569" title="RefChecks.this.global.TermName">name</a>, <a href="#953570" title="List[RefChecks.this.global.TypeDef]">tparams</a>, <a href="#953571" title="List[List[RefChecks.this.global.ValDef]]">vparams</a>, <a href="#953572" title="RefChecks.this.global.Tree">tpt</a>,
                  <a href="Typers.scala.html#507768" title="(tree: RefChecks.this.global.analyzer.global.Tree)RefChecks.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: RefChecks.this.global.Tree, args: List[RefChecks.this.global.Tree])RefChecks.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#478214" title="object RefChecks.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507273" title="(sym: RefChecks.this.global.gen.global.Symbol)RefChecks.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508020" title="=&gt; RefChecks.this.global.Symbol">Predef_error</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: RefChecks.this.global.Literal*)List[RefChecks.this.global.Literal]">List</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#434144" title="(value: Any)RefChecks.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="java.lang.String(&quot;native method stub&quot;)" class="string">&quot;native method stub&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">ValDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> | DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
            <a href="#949005" title="(tree: RefChecks.this.global.Tree)Unit">checkDeprecatedOvers</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#469888" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNullaryUnit</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="#949015" title="(sym: RefChecks.this.global.Symbol)Unit">checkNullaryMethodReturnType</a><span class="delimiter">(</span><a href="#953558" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#469890" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnInaccessible</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#953558" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#953558" title="RefChecks.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509237" title="=&gt; Boolean">isEffectivelyFinal</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#953558" title="RefChecks.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435304" title="=&gt; Boolean">isSynthetic</a><span class="delimiter">)</span>
                <a href="#949004" title="(tree: RefChecks.this.global.Tree)Unit">checkAccessibilityOfReferencedTypes</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#952261" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Template</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Tree]" id="953636">parents</a>, <a title="RefChecks.this.global.ValDef" id="953637">self</a>, <a title="List[RefChecks.this.global.Tree]" id="953638">body</a><span class="delimiter">)</span> =&gt;
            <a href="#948951" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#948951" title="=&gt; RefChecks.this.global.analyzer.Typer">localTyper</a>.<a href="Typers.scala.html#507767" title="(tree: RefChecks.this.global.analyzer.global.Tree, owner: RefChecks.this.global.analyzer.global.Symbol)RefChecks.this.global.analyzer.Typer">atOwner</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a>, <a href="../ast/Trees.scala.html#560333" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#948966" title="(clazz: RefChecks.this.global.Symbol)Unit">validateBaseTypes</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560333" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#948962" title="(clazz: RefChecks.this.global.Symbol)Unit">checkOverloadedRestrictions</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560333" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[RefChecks.this.global.Tree]" id="953639">bridges</a> = <a href="#948964" title="(clazz: RefChecks.this.global.Symbol)List[RefChecks.this.global.Tree]">addVarargBridges</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560333" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>
            <a href="#948965" title="(clazz: RefChecks.this.global.Symbol, typesOnly: Boolean)Unit">checkAllOverrides</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560333" title="=&gt; RefChecks.this.global.Symbol">currentOwner</a><span class="delimiter">)</span>

            <span title="RefChecks.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#953639" title="List[RefChecks.this.global.Tree]">bridges</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#560331" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560241" title="(tree: RefChecks.this.global.Tree, parents: List[RefChecks.this.global.Tree], self: RefChecks.this.global.ValDef, body: List[RefChecks.this.global.Tree])RefChecks.this.global.Template">Template</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a>, <a href="#953636" title="List[RefChecks.this.global.Tree]">parents</a>, <a href="#953637" title="RefChecks.this.global.ValDef">self</a>, <a href="#953638" title="List[RefChecks.this.global.Tree]">body</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[RefChecks.this.global.Tree])List[RefChecks.this.global.Tree]">:::</a> <a href="#953639" title="List[RefChecks.this.global.Tree]">bridges</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#952261" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <a title="RefChecks.this.global.TypeTreeWithDeferredRefCheck" id="953659">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;)" class="string">&quot;adapt should have turned dc: TypeTreeWithDeferredRefCheck into tpt: TypeTree, with tpt.original == dc&quot;</span><span class="delimiter">)</span>; <a href="#953659" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>
          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="953663">tpt</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="#953663" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#534787" title="=&gt; RefChecks.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#953663" title="RefChecks.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: RefChecks.this.global.Tree)RefChecks.this.global.TreeOps">original</a> <a href="../ast/Trees.scala.html#510731" title="(f: RefChecks.this.global.Tree =&gt; Unit)Unit">foreach</a> <a href="#953733" title="Unit" class="delimiter">{</a>
                <span class="keyword">case</span> <a title="Unit" id="953734">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                  <a href="#949016" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span title="Unit" class="delimiter">(</span><a href="#953734" title="RefChecks.this.global.TypeTreeWithDeferredRefCheck">dc</a>.<a href="../../../Function0.scala.html#62187" title="()RefChecks.this.global.TypeTree">check</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// #2416 -- only call transform to do refchecks, but discard results</span>
                  <span class="comment">// tpt has the right type if the deferred checks are ok</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" id="953666">existentialParams</a> = <span title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">ListBuffer</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#949009" title="(tree: RefChecks.this.global.Tree)(f: RefChecks.this.global.Type =&gt; Unit)Unit">doTypeTraversal</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="#953737" title="Unit" class="delimiter">{</a> <span class="comment">// check all bounds, except those that are</span>
                              <span class="comment">// existential type parameters</span>
              <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[RefChecks.this.global.Symbol]" id="953740">tparams</a>, <a title="RefChecks.this.global.Type" id="953741">tpe</a><span class="delimiter">)</span> =&gt;
                <a href="#953666" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61787" title="(xs: scala.collection.TraversableOnce[RefChecks.this.global.Symbol])existentialParams.type">++=</a> <a href="#953740" title="List[RefChecks.this.global.Symbol]">tparams</a>
              <span class="keyword">case</span> <a title="Unit" id="953749">t</a>: <a href="../symtab/Types.scala.html#478772" title="RefChecks.this.global.TypeRef">TypeRef</a> =&gt;
                <span class="keyword">val</span> <a title="List[RefChecks.this.global.Symbol]" id="953750">exparams</a> = <a href="#953666" title="scala.collection.mutable.ListBuffer[RefChecks.this.global.Symbol]">existentialParams</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[RefChecks.this.global.Symbol]">toList</a>
                <span class="keyword">val</span> <a title="List[RefChecks.this.global.WildcardType.type]" id="953751">wildcards</a> = <a href="#953750" title="List[RefChecks.this.global.Symbol]">exparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: RefChecks.this.global.Symbol =&gt; RefChecks.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Symbol],RefChecks.this.global.WildcardType.type,List[RefChecks.this.global.WildcardType.type]])List[RefChecks.this.global.WildcardType.type]">map</a> <span class="delimiter">(</span><a title="RefChecks.this.global.Symbol" id="953768">_</a> =&gt; <a href="../symtab/Types.scala.html#478729" title="object RefChecks.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
                <a href="#949007" title="(tp: RefChecks.this.global.Type, pos: RefChecks.this.global.Position)Unit">checkTypeRef</a><span class="delimiter">(</span><a href="#953749" title="RefChecks.this.global.TypeRef">t</a>.<a href="../symtab/Types.scala.html#507209" title="(from: List[RefChecks.this.global.Symbol], to: List[RefChecks.this.global.Type])RefChecks.this.global.Type">subst</a><span class="delimiter">(</span><a href="#953750" title="List[RefChecks.this.global.Symbol]">exparams</a>, <a href="#953751" title="List[RefChecks.this.global.WildcardType.type]">wildcards</a><span class="delimiter">)</span>, <a href="#952261" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span>
            <a href="#952261" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953800">fn</a>, <a title="List[RefChecks.this.global.Tree]" id="953801">args</a><span class="delimiter">)</span> =&gt;
            <a href="#948997" title="(pre: RefChecks.this.global.Type, owner: RefChecks.this.global.Symbol, tparams: List[RefChecks.this.global.Symbol], argtps: List[RefChecks.this.global.Type], pos: RefChecks.this.global.Position)Unit">checkBounds</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478736" title="object RefChecks.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#478667" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <a href="#953800" title="RefChecks.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[RefChecks.this.global.Symbol]">typeParams</a>, <a href="#953801" title="List[RefChecks.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: RefChecks.this.global.Tree =&gt; RefChecks.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[RefChecks.this.global.Tree],RefChecks.this.global.Type,List[RefChecks.this.global.Type]])List[RefChecks.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#953818" title="RefChecks.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#952261" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a><span class="delimiter">)</span>
            <a href="#949011" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a>, <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="953846">x</a> @ Apply<span class="delimiter">(</span>_, _<span class="delimiter">)</span>  =&gt;
            <a href="#949012" title="(tree: RefChecks.this.global.Apply)RefChecks.this.global.Tree">transformApply</a><span class="delimiter">(</span><a href="#953846" title="RefChecks.this.global.Apply">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="953849">x</a> @ If<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span>  =&gt;
            <a href="#949014" title="(tree: RefChecks.this.global.If)RefChecks.this.global.Tree">transformIf</a><span class="delimiter">(</span><a href="#953849" title="RefChecks.this.global.If">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">New</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953856">tpt</a><span class="delimiter">)</span> =&gt;
            <a href="#948988" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#953856" title="RefChecks.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; RefChecks.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; RefChecks.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
            <a href="#952261" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Typed</span><span class="delimiter">(</span>_, Ident<span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479051" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#516203" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#949006" title="(tree: RefChecks.this.global.Tree)Boolean">isRepeatedParamArg</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a><span class="delimiter">)</span> =&gt;
            <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a>, <span class="string">&quot;no `: _*' annotation allowed here\n&quot;</span><span title="java.lang.String(&quot;no `: _*\' annotation allowed here\012(such annotations are only allowed in arguments to *-parameters)&quot;)">+</span>
              <span class="string">&quot;(such annotations are only allowed in arguments to *-parameters)&quot;</span><span class="delimiter">)</span>
            <a href="#952261" title="RefChecks.this.global.Tree">tree</a>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">Ident</span><span class="delimiter">(</span><a title="RefChecks.this.global.Name" id="953866">name</a><span class="delimiter">)</span> =&gt;
            <a href="#949011" title="(tree: RefChecks.this.global.Tree, ifNot: =&gt; Unit)RefChecks.this.global.Tree">transformCaseApply</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a>,
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#953866" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#479055" title="object RefChecks.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516190" title="=&gt; RefChecks.this.global.nme.NameType">WILDCARD</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#953866" title="RefChecks.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#479051" title="object RefChecks.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#516203" title="=&gt; RefChecks.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#953558" title="RefChecks.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object RefChecks.this.global.NoSymbol">NoSymbol</a>, <span title="java.lang.String(&quot;transformCaseApply: name = &quot;)" class="string">&quot;transformCaseApply: name = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#953866" title="RefChecks.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501124" title="()java.lang.String">debugString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; tree = &quot;)" class="string">&quot; tree = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#952261" title="RefChecks.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; / &quot;)" class="string">&quot; / &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#952261" title="RefChecks.this.global.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span> <span class="comment">//debug</span>
                <a href="#948988" title="(pos: RefChecks.this.global.Position, sym: RefChecks.this.global.Symbol)Unit">enterReference</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#953558" title="RefChecks.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">)</span>

          <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="953883">x</a> @ Select<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            <a href="#949013" title="(tree: RefChecks.this.global.Select)RefChecks.this.global.Tree">transformSelect</a><span class="delimiter">(</span><a href="#953883" title="RefChecks.this.global.Select">x</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">UnApply</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953890">fun</a>, <a title="List[RefChecks.this.global.Tree]" id="953891">args</a><span class="delimiter">)</span> =&gt;
            <a href="#949016" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#953890" title="RefChecks.this.global.Tree">fun</a><span class="delimiter">)</span> <span class="comment">// just make sure we enterReference for unapply symbols, note that super.transform(tree) would not transform(fun)</span>
                           <span class="comment">// transformTrees(args) // TODO: is this necessary? could there be forward references in the args??</span>
                           <span class="comment">// probably not, until we allow parameterised extractors</span>
            <a href="#952261" title="RefChecks.this.global.Tree">tree</a>


          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">_</span> =&gt; <a href="#952261" title="RefChecks.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
        <a href="#953559" title="RefChecks.this.global.Tree">result</a> = <a href="#953559" title="RefChecks.this.global.Tree">result</a> <span title="RefChecks.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.CaseDef">CaseDef</span><span class="delimiter">(</span><a title="RefChecks.this.global.Tree" id="953897">pat</a>, <a title="RefChecks.this.global.Tree" id="953898">guard</a>, <a title="RefChecks.this.global.Tree" id="953899">body</a><span class="delimiter">)</span> =&gt;
            <a href="#948957" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="RefChecks.this.global.Tree" id="953900">pat1</a> = <a href="#949016" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#953897" title="RefChecks.this.global.Tree">pat</a><span class="delimiter">)</span>
            <a href="#948957" title="(x$1: Boolean)Unit">inPattern</a> = <span title="Boolean(false)" class="keyword">false</span>
            <a href="../ast/Trees.scala.html#560331" title="=&gt; RefChecks.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560243" title="(tree: RefChecks.this.global.Tree, pat: RefChecks.this.global.Tree, guard: RefChecks.this.global.Tree, body: RefChecks.this.global.Tree)RefChecks.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a>, <a href="#953900" title="RefChecks.this.global.Tree">pat1</a>, <a href="#949016" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#953898" title="RefChecks.this.global.Tree">guard</a><span class="delimiter">)</span>, <a href="#949016" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#953899" title="RefChecks.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="RefChecks.this.global.Tree">_</span> =&gt;
            <a href="#511918" title="RefChecks.this.RefCheckTransformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560339" title="(tree: RefChecks.this.global.Tree)RefChecks.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#953559" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#953559" title="RefChecks.this.global.Tree">result</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">ClassDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span>
             | TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#953559" title="RefChecks.this.global.Tree">result</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#953559" title="RefChecks.this.global.Tree">result</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; RefChecks.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; RefChecks.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
              <a href="#948977" title="=&gt; RefChecks.this.global.Traverser">varianceValidator</a>.<a href="../ast/Trees.scala.html#560433" title="(tree: RefChecks.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#953559" title="RefChecks.this.global.Tree">result</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="#953559" title="RefChecks.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="RefChecks.this.global.Tree" id="953922">ex</a>: <a href="../symtab/Types.scala.html#478998" title="RefChecks.this.global.TypeError">TypeError</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#953922" title="RefChecks.this.global.TypeError">ex</a>.<span title="()Unit">printStackTrace</span><span class="delimiter">(</span><span class="delimiter">)</span>;
          <a href="#949017" title="RefChecks.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: RefChecks.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#952261" title="RefChecks.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; RefChecks.this.global.Position">pos</a>, <a href="#953922" title="RefChecks.this.global.TypeError">ex</a>.<span title="()java.lang.String">getMessage</span><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#952261" title="RefChecks.this.global.Tree">tree</a>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#948951" title="(x$1: RefChecks.this.global.analyzer.Typer)Unit">localTyper</a> = <a href="#953556" title="RefChecks.this.global.analyzer.Typer">savedLocalTyper</a>
        <a href="#948954" title="(x$1: RefChecks.this.global.Tree)Unit">currentApplication</a> = <a href="#953557" title="RefChecks.this.global.Tree">savedCurrentApplication</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>