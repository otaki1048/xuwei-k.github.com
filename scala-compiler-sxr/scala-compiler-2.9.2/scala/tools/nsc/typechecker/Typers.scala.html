<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/typechecker/Typers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author  Martin Odersky
 */</span>

<span class="comment">// Added: Sat Oct 7 16:08:21 2006</span>
<span class="comment">//todo: use inherited type info also for vars and values</span>

<span class="comment">// Added: Thu Apr 12 18:23:58 2007</span>
<span class="comment">//todo: disallow C#D in superclass</span>
<span class="comment">//todo: treat :::= correctly</span>
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> typechecker

<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> scala.tools.nsc.util.BatchSourceFile
<span class="keyword">import</span> mutable.ListBuffer
<span class="keyword">import</span> symtab.<a href="../symtab/Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> util.Statistics
<span class="keyword">import</span> util.<a href="../util/Statistics.scala.html#43001" title="object scala.tools.nsc.util.Statistics">Statistics</a>._
<span class="keyword">import</span> scala.tools.util.<a href="../../util/StringOps.scala.html#43792" title="object scala.tools.util.StringOps">StringOps</a>.<span class="delimiter">{</span> countAsString, countElementsAsString <span class="delimiter">}</span>

<span class="comment">// Suggestion check whether we can do without priming scopes with symbols of outer scopes,</span>
<span class="comment">// like the IDE does.</span>
<span class="comment">/** This trait provides methods to assign types to trees.
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */</span>
<span class="keyword">trait</span> <a title="trait Typers extends java.lang.Object with scala.tools.nsc.typechecker.Modes with ScalaObject" id="41533">Typers</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="Modes.scala.html#41572" title="scala.tools.nsc.typechecker.Modes">Modes</a> <span class="delimiter">{</span>
  self: Analyzer =&gt;

  <span class="keyword">import</span> <a href="Analyzer.scala.html#507332" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#479030" title="object Typers.this.global.definitions">definitions</a>._

  <span class="keyword">final</span> <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, mode: Int)Int" id="507442">forArgMode</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="964191">fun</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="964192">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> =
    <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551039" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#964191" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#964192" title="Int">mode</a> <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <span title="Int(8)">SCCmode</span>
    <span class="keyword">else</span> <a href="#964192" title="Int">mode</a>

  <span class="comment">// namer calls typer.computeType(rhs) on DefDef / ValDef when tpt is empty. the result</span>
  <span class="comment">// is cached here and re-used in typedDefDef / typedValDef</span>
  <span class="comment">// Also used to cache imports type-checked by namer.</span>
  <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" id="507443">transformed</a> = <a href="../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">HashMap</a><span class="delimiter">[</span>Tree, Tree<span class="delimiter">]</span>

  <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="507445">shortenImports</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="()Unit" id="507447">resetTyper</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">//println(&quot;resetTyper called&quot;)</span>
    <a href="Contexts.scala.html#507358" title="()Unit">resetContexts</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Namers.scala.html#507375" title="()Unit">resetNamer</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="Implicits.scala.html#507500" title="()Unit">resetImplicits</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#507443" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<a href="../../../collection/mutable/HashMap.scala.html#73154" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="SyntheticMethods.scala.html#507550" title="()Unit">resetSynthetics</a><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object Typers.this.UnTyper" id="507448">UnTyper</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../ast/Trees.scala.html#479168" title="Typers.this.global.Traverser">Traverser</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Unit" id="944165">traverse</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="944166">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#944166" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#944166" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#944166" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441035" title="=&gt; Boolean">hasSymbol</a><span class="delimiter">)</span> <a href="#944166" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: Typers.this.global.Symbol)Unit">symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">super</span>.<a href="../ast/Trees.scala.html#560433" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#944166" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="comment">/* needed for experimental version where eraly types can be type arguments
  class EarlyMap(clazz: Symbol) extends TypeMap {
    def apply(tp: Type): Type = tp match {
      case TypeRef(NoPrefix, sym, List()) if (sym hasFlag PRESUPER) =&gt;
        TypeRef(ThisType(clazz), sym, List())
      case _ =&gt;
        mapOver(tp)
    }
  }
*/</span>

  <span class="keyword">def</span> <a title="(context: Typers.this.Context)Typers.this.Typer" id="507450">newTyper</a><span class="delimiter">(</span><a title="Typers.this.Context" id="712322">context</a>: <a href="Contexts.scala.html#507359" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <a href="#507454" title="Typers.this.Typer">Typer</a> = <span title="Typers.this.NormalTyper" class="keyword">new</span> <a href="#507451" title="Typers.this.NormalTyper">NormalTyper</a><span class="delimiter">(</span><a href="#712322" title="Typers.this.Context">context</a><span class="delimiter">)</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class NormalTyper extends Typers.this.Typer with ScalaObject" id="507451">NormalTyper</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Typers.this.Context" id="964204">context</a> : <a href="Contexts.scala.html#507359" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#507454" title="Typers.this.Typer">Typer</a><span class="delimiter">(</span><a href="#964204" title="Typers.this.Context">context</a><span class="delimiter">)</span>

  <span class="comment">// A transient flag to mark members of anonymous classes</span>
  <span class="comment">// that are turned private by typedBlock</span>
  <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">val</span> <a title="Long(274877906944L)" id="507452">SYNTHETIC_PRIVATE</a> = <span title="Long(274877906944L)">TRANS_FLAG</span>

  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Typer extends java.lang.Object with Typers.this.TyperDiagnostics with ScalaObject" id="507454">Typer</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Typers.this.Context" id="514288">context0</a>: <a href="Contexts.scala.html#507359" title="Typers.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="TypeDiagnostics.scala.html#507650" title="Typers.this.TyperDiagnostics">TyperDiagnostics</a> <span class="delimiter">{</span>
    <span class="keyword">import</span> <a href="#514288" title="Typers.this.Context">context0</a>.unit
    <span class="keyword">import</span> <a href="../symtab/TypeDebugging.scala.html#479276" title="object Typers.this.global.typeDebug">typeDebug</a>.<span class="delimiter">{</span> ptTree, ptBlock, ptLine <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Typers.this.Inferencer" id="507666">infer</a> = <a href="#507792" title="Typers.this.Inferencer" class="keyword">new</a> <a href="Infer.scala.html#507481" title="anonymous class $anon extends Typers.this.Inferencer" id="507792">Inferencer</a><span class="delimiter">(</span><a href="#514288" title="Typers.this.Context">context0</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type, pt: Typers.this.global.Type)Boolean" id="507869">isCoercible</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="507870">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="507871">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="../symtab/Types.scala.html#478711" title="object Typers.this.global.undoLog">undoLog</a> <a href="../symtab/Types.scala.html#508588" title="(block: =&gt; Boolean)Boolean">undo</a> <span class="delimiter">{</span> <span class="comment">// #3281</span>
        <a href="#507870" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#507871" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
        <a href="#514288" title="Typers.this.Context">context0</a>.<a href="Contexts.scala.html#508514" title="=&gt; Boolean">implicitsEnabled</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="comment">// this condition prevents chains of views</span>
        <a href="#507669" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#507870" title="Typers.this.global.Type">tp</a>, <a href="#507871" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>
      <span class="delimiter">}</span><span class="delimiter">}</span>

    <span class="comment">/** Find implicit arguments and pass them to given tree.
     */</span>
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Tree" id="507668">applyImplicitArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="964212">fun</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#964212" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.ApplyToImplicitArgs">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="964216">params</a>, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" id="964217">argResultsBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">ListBuffer</a><span class="delimiter">[</span>SearchResult<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="964218">argBuff</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>

        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree" id="964219">mkPositionalArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="964224">argTree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="964225">paramName</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="#964224" title="Typers.this.global.Tree">argTree</a>
        <span class="keyword">def</span> <a title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg" id="964220">mkNamedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="964226">argTree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="964227">paramName</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span><a href="#964226" title="Typers.this.global.Tree">argTree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#479153" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443999" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#964227" title="Typers.this.global.Name">paramName</a><span class="delimiter">)</span>, <span class="delimiter">(</span><a href="#964226" title="Typers.this.global.Tree">argTree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree" id="964221">mkArg</a>: <span class="delimiter">(</span>Tree, Name<span class="delimiter">)</span> =&gt; Tree = <a href="#964219" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.Tree">mkPositionalArg</a>

        <span class="keyword">def</span> <a title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String" id="964222">errorMessage</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="964255">paramName</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a>, <a title="Typers.this.global.Type" id="964256">paramTp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
          <a href="#964256" title="Typers.this.global.Type">paramTp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="Implicits.scala.html#932542" title="String">ImplicitNotFoundMsg</a><span class="delimiter">(</span><a title="Typers.this.ImplicitNotFoundMsg.Message" id="964262">msg</a><span class="delimiter">)</span> =&gt; <a href="#964262" title="Typers.this.ImplicitNotFoundMsg.Message">msg</a>.<a href="Implicits.scala.html#932559" title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String">format</a><span class="delimiter">(</span><a href="#964255" title="Typers.this.global.Name">paramName</a>, <a href="#964256" title="Typers.this.global.Type">paramTp</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="java.lang.String">_</span> =&gt;
              <span title="java.lang.String(&quot;could not find implicit value for &quot;)" class="string">&quot;could not find implicit value for &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                 <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#964255" title="Typers.this.global.Name">paramName</a> <a href="../symtab/Names.scala.html#501146" title="(name: String)Boolean">startsWith</a> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516780" title="=&gt; java.lang.String">EVIDENCE_PARAM_PREFIX</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;evidence parameter of type &quot;)" class="string">&quot;evidence parameter of type &quot;</span>
                  <span class="keyword">else</span> <span title="java.lang.String(&quot;parameter &quot;)" class="string">&quot;parameter &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#964255" title="Typers.this.global.Name">paramName</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;: &quot;)" class="string">&quot;: &quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><a href="#964256" title="Typers.this.global.Type">paramTp</a>
          <span class="delimiter">}</span>

        <span class="comment">// DEPMETTODO: instantiate type vars that depend on earlier implicit args (see adapt (4.1))</span>
        <span class="comment">//</span>
        <span class="comment">// apply the substitutions (undet type param -&gt; type) that were determined</span>
        <span class="comment">// by implicit resolution of implicit arguments on the left of this argument</span>
        <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="964297">param</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">params</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Type" id="964298">paramTp</a> = <a href="#964297" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="keyword">for</span><span class="delimiter">(</span><a title="Typers.this.SearchResult" id="964319">ar</a> &lt;- <a href="../../../collection/generic/TraversableForwarder.scala.html#61936" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span>
            <a href="#964298" title="Typers.this.global.Type">paramTp</a> = <a href="#964298" title="Typers.this.global.Type">paramTp</a>.<a href="../symtab/Types.scala.html#507209" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#964319" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#712368" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../ast/Trees.scala.html#560440" title="=&gt; List[Typers.this.global.Symbol]">from</a>, <a href="#964319" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#712368" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a>.<a href="../ast/Trees.scala.html#560442" title="=&gt; List[Typers.this.global.Type]">to</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="964299">res</a> = <a href="Implicits.scala.html#507488" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#964212" title="Typers.this.global.Tree">fun</a>, <a href="#964298" title="Typers.this.global.Type">paramTp</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#507676" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <a href="#964217" title="scala.collection.mutable.ListBuffer[Typers.this.SearchResult]">argResultsBuff</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: Typers.this.SearchResult)argResultsBuff.type">+=</a> <a href="#964299" title="Typers.this.SearchResult">res</a>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#964299" title="Typers.this.SearchResult">res</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Implicits.scala.html#507504" title="=&gt; Typers.this.SearchResult">SearchFailure</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#964218" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: Typers.this.global.Tree)argBuff.type">+=</a> <a href="../../../Function2.scala.html#59852" title="(v1: Typers.this.global.Tree, v2: Typers.this.global.Name)Typers.this.global.Tree">mkArg</a><span class="delimiter">(</span><a href="#964299" title="Typers.this.SearchResult">res</a>.<a href="Implicits.scala.html#712366" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#964297" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#964221" title="(Typers.this.global.Tree, Typers.this.global.Name) =&gt; Typers.this.global.Tree">mkArg</a> = <a href="#964220" title="(argTree: Typers.this.global.Tree, paramName: Typers.this.global.Name)Typers.this.global.AssignOrNamedArg">mkNamedArg</a> <span class="comment">// don't pass the default argument (if any) here, but start emitting named arguments for the following args</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964297" title="Typers.this.global.Symbol">param</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435318" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span>
              <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508555" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#964212" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#964222" title="(paramName: Typers.this.global.Name, paramTp: Typers.this.global.Type)String">errorMessage</a><span class="delimiter">(</span><a href="#964297" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a>, <a href="#964297" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="comment">/* else {
             TODO: alternative (to expose implicit search failure more) --&gt;
             resolve argument, do type inference, keep emitting positional args, infer type params based on default value for arg
             for (ar &lt;- argResultsBuff) ar.subst traverse defaultVal
             val targs = exprTypeArgs(context.undetparams, defaultVal.tpe, paramTp)
             substExpr(tree, tparams, targs, pt)
            }*/</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="964223">args</a> = <a href="#964218" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">argBuff</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[Typers.this.global.Tree]">toList</a>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.SearchResult" id="964392">ar</a> &lt;- <a href="../../../collection/generic/TraversableForwarder.scala.html#61936" title="(f: Typers.this.SearchResult =&gt; Unit)Unit">argResultsBuff</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#964392" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#712368" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../ast/Trees.scala.html#560449" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#964212" title="Typers.this.global.Tree">fun</a>
          <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="964415">arg</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <a href="#964392" title="Typers.this.SearchResult">ar</a>.<a href="Implicits.scala.html#712368" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../ast/Trees.scala.html#560449" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#964415" title="Typers.this.global.Tree">arg</a>
        <span class="delimiter">}</span>

        <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="../ast/Trees.scala.html#479162" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="#964212" title="Typers.this.global.Tree">fun</a>, <a href="#964223" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.ApplyToImplicitArgs">setPos</a> <a href="#964212" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>
      <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478727" title="Typers.this.global.Tree">ErrorType</a> =&gt;
        <a href="#964212" title="Typers.this.global.Tree">fun</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Infer an implicit conversion (``view'') between two types.
     *  @param tree             The tree which needs to be converted.
     *  @param from             The source type of the conversion
     *  @param to               The target type of the conversion
     *  @param reportAmbiguous  Should ambiguous implicit errors be reported?
     *                          False iff we search for a view to find out
     *                          whether one type is coercible to another.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree" id="507669">inferView</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="508604">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="508605">from</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="508606">to</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="508607">reportAmbiguous</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infer view from &quot;)" class="string">&quot;infer view from &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#508605" title="Typers.this.global.Type">from</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#508606" title="Typers.this.global.Type">to</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>
      <span class="keyword">else</span> <a href="#508605" title="Typers.this.global.Type">from</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">MethodType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">OverloadedType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.EmptyTree.type">PolyType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <span class="keyword">def</span> <a title="(from: Typers.this.global.Type)Typers.this.global.Tree" id="964437">wrapImplicit</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="964439">from</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="964440">result</a> = <a href="Implicits.scala.html#507488" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span><a href="#508604" title="Typers.this.global.Tree">tree</a>, <a href="../symtab/Definitions.scala.html#508196" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#964439" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>, <a href="#508606" title="Typers.this.global.Type">to</a><span class="delimiter">)</span>, <a href="#508607" title="Boolean">reportAmbiguous</a>, <span title="Boolean(true)" class="keyword">true</span>, <a href="#507676" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#964440" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#712368" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../ast/Trees.scala.html#479175" title="=&gt; Typers.this.global.TreeTypeSubstituter">EmptyTreeTypeSubstituter</a><span class="delimiter">)</span> <a href="#964440" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#712368" title="=&gt; Typers.this.global.TreeTypeSubstituter">subst</a> <a href="../ast/Trees.scala.html#560449" title="(tree: Typers.this.global.Tree)Unit">traverse</a> <a href="#508604" title="Typers.this.global.Tree">tree</a>
            <a href="#964440" title="Typers.this.SearchResult">result</a>.<a href="Implicits.scala.html#712366" title="=&gt; Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="964438">result</a> = <a href="#964437" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="#508605" title="Typers.this.global.Type">from</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#964438" title="Typers.this.global.Tree">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#964438" title="Typers.this.global.Tree">result</a>
          <span class="keyword">else</span> <a href="#964437" title="(from: Typers.this.global.Type)Typers.this.global.Tree">wrapImplicit</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478817" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508070" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>.<a href="../symtab/Symbols.scala.html#509285" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#508605" title="Typers.this.global.Type">from</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">import</span> <a href="#507666" title="=&gt; Typers.this.Inferencer">infer</a>._

    <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.Namer" id="507672">namerCache</a>: <a href="Namers.scala.html#507376" title="Typers.this.Namer">Namer</a> = <span title="Null(null)" class="keyword">null</span>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Namer" id="507674">namer</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#507672" title="=&gt; Typers.this.Namer">namerCache</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#507672" title="=&gt; Typers.this.Namer">namerCache</a>.<a href="Namers.scala.html#917775" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
        <a href="#507672" title="(x$1: Typers.this.Namer)Unit">namerCache</a> = <a href="Namers.scala.html#507370" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <a href="#507672" title="=&gt; Typers.this.Namer">namerCache</a>
    <span class="delimiter">}</span>

    <span class="keyword">var</span> <a title="Typers.this.Context" id="507676">context</a> = <a href="#514288" title="Typers.this.Context">context0</a>
    <span class="keyword">def</span> <a title="=&gt; Typers.this.Context" id="507678">context1</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>

    <span class="comment">/** Check that &lt;code&gt;tree&lt;/code&gt; is a stable expression.
     *
     *  @param tree ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="507679">checkStable</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="944906">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551034" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#944906" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#944906" title="Typers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span>
        <a href="#944906" title="Typers.this.global.Tree">tree</a>,
        <span title="java.lang.String(&quot;stable identifier required, but &quot;)" class="string">&quot;stable identifier required, but &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#944906" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; found.&quot;)" class="string">&quot; found.&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
        <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#507680" title="(tree: Typers.this.global.Tree)Boolean">isStableExceptVolatile</a><span class="delimiter">(</span><a href="#944906" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="964490">tpe</a> = <a href="#944906" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="964494">rtpe</a><span class="delimiter">)</span> =&gt; <a href="#964494" title="Typers.this.global.Type">rtpe</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Type" id="964495">t</a> =&gt; <a href="#964495" title="Typers.this.global.Type">t</a>
          <span class="delimiter">}</span>
          <span title="java.lang.String(&quot;\012 Note that &quot;)" class="string">&quot;\n Note that &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#944906" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is not stable because its type, &quot;)" class="string">&quot; is not stable because its type, &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#944906" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, is volatile.&quot;)" class="string">&quot;, is volatile.&quot;</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Would tree be a stable (i.e. a pure expression) if the type
     *  of its symbol was not volatile?
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="507680">isStableExceptVolatile</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="964473">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#964473" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441035" title="=&gt; Boolean">hasSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#964473" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#964473" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507152" title="=&gt; Boolean">isVolatile</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Type" id="964481">savedTpe</a> = <a href="#964473" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>
        <span class="keyword">val</span> <a title="Long" id="964482">savedSTABLE</a> = <a href="#964473" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../symtab/Symbols.scala.html#509263" title="(mask: Long)Long">getFlag</a> <span title="Long(4194304L)">STABLE</span>
        <a href="#964473" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../symtab/Definitions.scala.html#507923" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
        <a href="#964473" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(4194304L)">STABLE</span>
        <span class="keyword">val</span> <a title="Boolean" id="964483">result</a> = <a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551034" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#964473" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#964473" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="#964481" title="Typers.this.global.Type">savedTpe</a>
        <a href="#964473" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <a href="#964482" title="Long">savedSTABLE</a>
        <a href="#964483" title="Boolean">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Check that `tpt' refers to a non-refinement class type */</span>
    <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit" id="507681">checkClassType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="964496">tpt</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Boolean" id="964497">existentialOK</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a>, <a title="Boolean" id="964498">stablePrefix</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Unit" id="964500">check</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="964501">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> = <a href="#964501" title="Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="964505">pre</a>, <a title="Typers.this.global.Symbol" id="964506">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#964506" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964506" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#964498" title="Boolean">stablePrefix</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964505" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507151" title="=&gt; Boolean">isStable</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#964496" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;type &quot;)" class="string">&quot;type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#964505" title="Typers.this.global.Type">pre</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is not a stable prefix&quot;)" class="string">&quot; is not a stable prefix&quot;</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478727" title="Unit">ErrorType</a> =&gt; ;
        <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="964515">restpe</a><span class="delimiter">)</span> =&gt; <a href="#964500" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#964515" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="964518">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#964497" title="Boolean">existentialOK</a> =&gt; <a href="#964500" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#964518" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="964522">underlying</a>, _<span class="delimiter">)</span> =&gt; <a href="#964500" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#964522" title="Typers.this.global.Type">underlying</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Unit" id="964523">t</a> =&gt; <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#964496" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;class type required but &quot;)" class="string">&quot;class type required but &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#964523" title="Typers.this.global.Type">t</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; found&quot;)" class="string">&quot; found&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#964500" title="(tpe: Typers.this.global.Type)Unit">check</a><span class="delimiter">(</span><a href="#964496" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Check that type &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     *
     *  @param pos ...
     *  @param tp  ...
     *  @return    &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;tp&lt;/code&gt; is not a subtype of itself.
     */</span>
    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean" id="507682">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="941507">pos</a>: <a href="../util/Position.scala.html#42664" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="941508">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="964524">checkNotLocked</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="964525">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
        <a href="#964525" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; sym.type">initialize</a>
        <a href="#964525" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509164" title="=&gt; Boolean">lockOK</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">{</span><a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#941507" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;cyclic aliasing or subtyping involving &quot;)" class="string">&quot;cyclic aliasing or subtyping involving &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#964525" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>; <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#941508" title="Typers.this.global.Type">tp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="964529">pre</a>, <a title="Typers.this.global.Symbol" id="964530">sym</a>, <a title="List[Typers.this.global.Type]" id="964531">args</a><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#964524" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><span class="delimiter">(</span><a href="#964530" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964530" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509167" title="=&gt; Boolean">isNonClassType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
            <a href="#507683" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#941507" title="Typers.this.global.Position">pos</a>, <a href="../symtab/Types.scala.html#478817" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#964529" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507206" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberInfo</a><span class="delimiter">(</span><a href="#964530" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#964531" title="List[Typers.this.global.Type]">args</a><span class="delimiter">)</span>, <a href="#964530" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>   <span class="comment">// @M! info for a type ref to a type parameter now returns a polytype</span>
            <span class="comment">// @M was: checkNonCyclic(pos, pre.memberInfo(sym).subst(sym.typeParams, args), sym)</span>
          <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean">SingleType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="964539">pre</a>, <a title="Typers.this.global.Symbol" id="964540">sym</a><span class="delimiter">)</span> =&gt;
          <a href="#964524" title="(sym: Typers.this.global.Symbol)Boolean">checkNotLocked</a><span class="delimiter">(</span><a href="#964540" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
<span class="comment">/*
        case TypeBounds(lo, hi) =&gt;
          var ok = true
          for (t &lt;- lo) ok = ok &amp; checkNonCyclic(pos, t)
          ok
*/</span>
        <span class="keyword">case</span> <a title="Boolean" id="964541">st</a>: <a href="../symtab/Types.scala.html#478722" title="Typers.this.global.SubType">SubType</a> =&gt;
          <a href="#507682" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#941507" title="Typers.this.global.Position">pos</a>, <a href="#964541" title="Typers.this.global.SubType">st</a>.<a href="../symtab/Types.scala.html#546335" title="=&gt; Typers.this.global.Type">supertype</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Boolean" id="964546">ct</a>: <a href="../symtab/Types.scala.html#478754" title="Typers.this.global.CompoundType">CompoundType</a> =&gt;
          <a href="#964546" title="Typers.this.global.CompoundType">ct</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Typers.this.global.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">forall</a> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="964559">x</a> =&gt; <a href="#507682" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#941507" title="Typers.this.global.Position">pos</a>, <a href="#964559" title="Typers.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(true)">_</span> =&gt;
          <span title="Boolean(true)" class="keyword">true</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean" id="507683">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="941500">pos</a>: <a href="../util/Position.scala.html#42664" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="941501">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Symbol" id="941502">lockedSym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
      <a href="#941502" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../symtab/Symbols.scala.html#509165" title="(handler: =&gt; Unit)Unit">lock</a> <span class="delimiter">{</span>
        <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#711710" title="(msg: String)Typers.this.global.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;illegal cyclic reference involving &quot;)" class="string">&quot;illegal cyclic reference involving &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#941502" title="Typers.this.global.Symbol">lockedSym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#507682" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#941500" title="Typers.this.global.Position">pos</a>, <a href="#941501" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
      <a href="#941502" title="Typers.this.global.Symbol">lockedSym</a>.<a href="../symtab/Symbols.scala.html#509166" title="()Unit">unlock</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="507684">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="941497">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507682" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#941497" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#941497" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#941497" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../symtab/Types.scala.html#478727" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit" id="507685">checkNonCyclic</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="941492">defn</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="941493">tpt</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507683" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, lockedSym: Typers.this.global.Symbol)Boolean">checkNonCyclic</a><span class="delimiter">(</span><a href="#941492" title="Typers.this.global.Tree">defn</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#941493" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#941492" title="Typers.this.global.Tree">defn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#941493" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="../symtab/Types.scala.html#478727" title="object Typers.this.global.ErrorType">ErrorType</a>
        <a href="#941492" title="Typers.this.global.Tree">defn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../symtab/Types.scala.html#478727" title="object Typers.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit" id="507686">checkParamsConvertible</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="964587">pos</a>: <a href="../util/Position.scala.html#42664" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="964588">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#964588" title="Typers.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="964592">formals</a>, <a title="Typers.this.global.Type" id="964593">restpe</a><span class="delimiter">)</span> =&gt;
          <span class="comment">/*
          if (formals.exists(_.typeSymbol == ByNameParamClass) &amp;&amp; formals.length != 1)
            error(pos, &quot;methods with `=&gt;'-parameter can be converted to function values only if they take no other parameters&quot;)
          if (formals exists (isRepeatedParamType(_)))
            error(pos, &quot;methods with `*'-parameters cannot be converted to function values&quot;);
          */</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#964593" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#507156" title="=&gt; Boolean">isDependent</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#964587" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;method with dependent type &quot;)" class="string">&quot;method with dependent type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#964588" title="Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; cannot be converted to function value&quot;)" class="string">&quot; cannot be converted to function value&quot;</span><span class="delimiter">)</span>
          <a href="#507686" title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#964587" title="Typers.this.global.Position">pos</a>, <a href="#964593" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, mode: Int)Unit" id="507687">checkStarPatOK</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="964594">pos</a>: <a href="../util/Position.scala.html#42664" title="Typers.this.global.Position">Position</a>, <a title="Int" id="964595">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#964595" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(4096)">STARmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a><span class="delimiter">)</span>
        <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#964594" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;star patterns must correspond with varargs parameters&quot;)" class="string">&quot;star patterns must correspond with varargs parameters&quot;</span><span class="delimiter">)</span>

    <span class="comment">/** Check that type of given tree does not contain local or private
     *  components.
     */</span>
    <span class="keyword">object</span> <a title="object Typer.this.checkNoEscaping" id="507688">checkNoEscaping</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../symtab/Types.scala.html#478842" title="Typers.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="964613">owner</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="Typers.this.global.Scope" id="964616">scope</a>: <a href="../symtab/Scopes.scala.html#479020" title="Typers.this.global.Scope">Scope</a> = _
      <span class="keyword">private</span> <span class="keyword">var</span> <a title="List[Typers.this.global.Symbol]" id="964619">hiddenSymbols</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = _

      <span class="comment">/** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to private
       *  components unless itself is wrapped in something private
       *  (&lt;code&gt;owner&lt;/code&gt; tells where the type occurs).
       *
       *  @param owner ...
       *  @param tree  ...
       *  @return      ...
       */</span>
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, tree: T)T" id="964621">privates</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="964623">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="964636">owner</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="T" id="964637">tree</a>: <a href="#964623" title="T">T</a><span class="delimiter">)</span>: <a href="#964623" title="T">T</a> =
        <a href="#964627" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#964636" title="Typers.this.global.Symbol">owner</a>, <a href="../symtab/Scopes.scala.html#479022" title="object Typers.this.global.EmptyScope">EmptyScope</a>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#964637" title="T">tree</a><span class="delimiter">)</span>

      <span class="comment">/** Check that type &lt;code&gt;tree&lt;/code&gt; does not refer to entities
       *  defined in scope &lt;code&gt;scope&lt;/code&gt;.
       *
       *  @param scope ...
       *  @param pt    ...
       *  @param tree  ...
       *  @return      ...
       */</span>
      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="964624">locals</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="964626">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Scope" id="964663">scope</a>: <a href="../symtab/Scopes.scala.html#479020" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="964664">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="T" id="964665">tree</a>: <a href="#964626" title="T">T</a><span class="delimiter">)</span>: <a href="#964626" title="T">T</a> =
        <a href="#964627" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#964663" title="Typers.this.global.Scope">scope</a>, <a href="#964664" title="Typers.this.global.Type">pt</a>, <a href="#964665" title="T">tree</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="[T &lt;: Typers.this.global.Tree](owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T" id="964627">check</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Typers.this.global.Tree" id="964629">T</a> &lt;: Tree<span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="964641">owner</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Scope" id="964642">scope</a>: <a href="../symtab/Scopes.scala.html#479020" title="Typers.this.global.Scope">Scope</a>, <a title="Typers.this.global.Type" id="964643">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="T" id="964644">tree</a>: <a href="#964629" title="T">T</a><span class="delimiter">)</span>: <a href="#964629" title="T">T</a> = <span class="delimiter">{</span>
        <span class="keyword">this</span>.<a href="#964613" title="(x$1: Typers.this.global.Symbol)Unit">owner</a> = <a href="#964641" title="Typers.this.global.Symbol">owner</a>
        <span class="keyword">this</span>.<a href="#964616" title="(x$1: Typers.this.global.Scope)Unit">scope</a> = <a href="#964642" title="Typers.this.global.Scope">scope</a>
        <a href="#964619" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="964679">tp1</a> = <a href="#964631" title="(t: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#964644" title="T">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#964619" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#964644" title="T">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#964679" title="Typers.this.global.Type">tp1</a>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#964619" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#964704" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509184" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="Infer.scala.html#507796" title="(tree: T)T">setError</a><span class="delimiter">(</span><a href="#964644" title="T">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#507473" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#964643" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#964644" title="T">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#964643" title="Typers.this.global.Type">pt</a> <span class="comment">//todo: eliminate</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#964679" title="Typers.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509192" title="=&gt; Boolean">isAnonymousClass</a><span class="delimiter">)</span> <span class="comment">// todo: eliminate</span>
          <a href="#964627" title="(owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: T)T">check</a><span class="delimiter">(</span><a href="#964641" title="Typers.this.global.Symbol">owner</a>, <a href="#964642" title="Typers.this.global.Scope">scope</a>, <a href="#964643" title="Typers.this.global.Type">pt</a>, <a href="#964644" title="T">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#964679" title="Typers.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509290" title="=&gt; Typers.this.global.Type">classBound</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="#964641" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#964644" title="T">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#507756" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#964619" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/immutable/List.scala.html#49171" title="=&gt; List[Typers.this.global.Symbol]">reverse</a>, <a href="#964679" title="Typers.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="T" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// privates</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="964728">badSymbol</a> = <a href="#964619" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Symbol">head</a>
          <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#964644" title="T">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>,
                <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#964728" title="Typers.this.global.Symbol">badSymbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;private &quot;)" class="string">&quot;private &quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#964728" title="Typers.this.global.Symbol">badSymbol</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; escapes its defining scope as part of type &quot;)" class="string">&quot; escapes its defining scope as part of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#964644" title="T">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#507796" title="(tree: T)T">setError</a><span class="delimiter">(</span><a href="#964644" title="T">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#964644" title="T">tree</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="964630">addHidden</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="964733">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#964619" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#964733" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#964619" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#964733" title="Typers.this.global.Symbol">sym</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">::</a> <a href="#964619" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(t: Typers.this.global.Type)Typers.this.global.Type" id="964631">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="964687">t</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Unit" id="964742">checkNoEscape</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="964743">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#964743" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964743" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="964744">o</a> = <a href="#964613" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#964744" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#964744" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#964743" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#964744" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#964743" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509332" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                   <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964744" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#509238" title="=&gt; Boolean">isLocal</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964744" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                   <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964744" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#509123" title="=&gt; Typers.this.global.Symbol">privateWithin</a>.<a href="../symtab/Symbols.scala.html#509255" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#964743" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#964744" title="Typers.this.global.Symbol">o</a> = <a href="#964744" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#964744" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#964743" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#964744" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#964743" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509332" title="=&gt; Typers.this.global.Symbol">linkedClassOfClass</a><span class="delimiter">)</span>
              <a href="#964630" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#964743" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#964743" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964743" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509186" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="964776">e</a> = <a href="#964616" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514369" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#964743" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="Boolean" id="964777">found</a> = <span title="Boolean(false)" class="keyword">false</span>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964777" title="Boolean">found</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#964776" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#964776" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514517" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#964616" title="=&gt; Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#964779" title="Unit" class="keyword">if</a> <span class="delimiter">(</span><a href="#964776" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#964743" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#964777" title="Boolean">found</a> = <span title="Boolean(true)" class="keyword">true</span>
                <a href="#964630" title="(sym: Typers.this.global.Symbol)Unit">addHidden</a><span class="delimiter">(</span><a href="#964743" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#964776" title="Typers.this.global.ScopeEntry">e</a> = <a href="#964616" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514370" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#964776" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../symtab/Types.scala.html#532446" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span>
          <a href="#964687" title="Typers.this.global.Type">t</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="964811">sym</a>, <a title="List[Typers.this.global.Type]" id="964812">args</a><span class="delimiter">)</span> =&gt;
              <a href="#964742" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span><a href="#964811" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964619" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#964619" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Symbol">head</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#964811" title="Typers.this.global.Symbol">sym</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <a href="#964811" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#964811" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#964812" title="List[Typers.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#964619" title="(x$1: List[Typers.this.global.Symbol])Unit">hiddenSymbols</a> = <a href="#964619" title="=&gt; List[Typers.this.global.Symbol]">hiddenSymbols</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Typers.this.global.Symbol]">tail</a>
                <a href="#964687" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#964687" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">SingleType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="964825">sym</a><span class="delimiter">)</span> =&gt;
              <a href="#964742" title="(sym: Typers.this.global.Symbol)Unit">checkNoEscape</a><span class="delimiter">(</span><a href="#964825" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
              <a href="#964687" title="Typers.this.global.Type">t</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
              <a href="#964687" title="Typers.this.global.Type">t</a>
          <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(vparamss: List[List[Typers.this.global.ValDef]])Unit" id="507690">reenterValueParams</a><span class="delimiter">(</span><a title="List[List[Typers.this.global.ValDef]]" id="964826">vparamss</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="964847">vparams</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="964867">vparam</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span>
          <a href="#964867" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441601" title="(x$1: Typers.this.global.Symbol)Unit">symbol</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#964867" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]" id="507691">reenterTypeParams</a><span class="delimiter">(</span><a title="List[Typers.this.global.TypeDef]" id="943314">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.TypeDef]">List</a><span class="delimiter">[</span>TypeDef<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> =
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="964900">tparam</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.TypeDef],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
        <a href="#964900" title="Typers.this.global.TypeDef">tparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441601" title="(x$1: Typers.this.global.Symbol)Unit">symbol</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#964900" title="Typers.this.global.TypeDef">tparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>
        <a href="#964900" title="Typers.this.global.TypeDef">tparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509347" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>
      <span class="delimiter">}</span>

    <span class="comment">/** The qualifying class
     *  of a this or super with prefix &lt;code&gt;qual&lt;/code&gt;.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Typers.this.global.Symbol" id="507692">qualifyingClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="940500">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="940501">qual</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a>, <a title="Boolean" id="940502">packageOK</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a> =
      <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508469" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509252" title="=&gt; List[Typers.this.global.Symbol]">ownerChain</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71038" title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="964945">o</a> =&gt; <a href="#940501" title="Typers.this.global.Name">qual</a>.<a href="../symtab/Names.scala.html#501113" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#964945" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#964945" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#940501" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="964952">c</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#940502" title="Boolean">packageOK</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964952" title="Typers.this.global.Symbol">c</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a> =&gt;
          <a href="#964952" title="Typers.this.global.Symbol">c</a>
        <span class="keyword">case</span> <span title="Typers.this.global.NoSymbol.type">_</span> =&gt;
          <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
            <a href="#940500" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>,
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#940501" title="Typers.this.global.Name">qual</a>.<a href="../symtab/Names.scala.html#501113" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tree</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; can be used only in a class, object, or template&quot;)" class="string">&quot; can be used only in a class, object, or template&quot;</span>
            <span class="keyword">else</span> <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">qual</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; is not an enclosing class&quot;)" class="string">&quot; is not an enclosing class&quot;</span><span class="delimiter">)</span>
          <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
      <span class="delimiter">}</span>

    <span class="comment">/** The typer for an expression, depending on where we are. If we are before a superclass
     *  call, this is a typer over a constructor context; otherwise it is the current typer.
     */</span>
    <span class="keyword">def</span> <a title="(inConstr: Boolean)Typers.this.Typer" id="507693">constrTyperIf</a><span class="delimiter">(</span><a title="Boolean" id="944848">inConstr</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="#507454" title="Typers.this.Typer">Typer</a> =
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#944848" title="Boolean">inConstr</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
        <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508550" title="=&gt; Typers.this.Context">makeConstructorContext</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#507454" title="Typers.this.Typer" class="keyword">this</a>

    <span class="comment">/** The typer for a label definition. If this is part of a template we
     *  first have to enter the label definition.
     */</span>
    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer" id="507694">labelTyper</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="964960">ldef</a>: <a href="../../../reflect/generic/Trees.scala.html#434058" title="Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">)</span>: <a href="#507454" title="Typers.this.Typer">Typer</a> =
      <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#964960" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// labeldef is part of template</span>
        <span class="keyword">val</span> <a title="Typers.this.Typer" id="964967">typer1</a> = <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#964960" title="Typers.this.global.LabelDef">ldef</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#964967" title="Typers.this.Typer">typer1</a>.<a href="#507737" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#964960" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>
        <a href="#964967" title="Typers.this.Typer">typer1</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#507454" title="Typers.this.Typer" class="keyword">this</a>

    <span class="keyword">final</span> <span class="keyword">val</span> <a title="Boolean(false)" id="507695">xtypes</a> = <span title="Boolean(false)" class="keyword">false</span>

    <span class="comment">/** Is symbol defined and not stale?
     */</span>
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="507697">reallyExists</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="930999">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#507698" title="(sym: Typers.this.global.Symbol)Boolean">isStale</a><span class="delimiter">(</span><a href="#930999" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#930999" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
      <a href="#930999" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509245" title="=&gt; Boolean">exists</a>
    <span class="delimiter">}</span>

    <span class="comment">/** A symbol is stale if it is toplevel, to be loaded from a classfile, and
     *  the classfile is produced from a sourcefile which is compiled in the current run.
     */</span>
    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="507698">isStale</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="931002">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
      <a href="#931002" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509278" title="=&gt; Typers.this.global.Type">rawInfo</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span>loaders.<a href="../symtab/SymbolLoaders.scala.html#506447" title="Typers.this.global.loaders.ClassfileLoader">ClassfileLoader</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
        <a href="#931002" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509278" title="=&gt; Typers.this.global.Type">rawInfo</a>.<a href="../symtab/Types.scala.html#507241" title="(sym: Typers.this.global.Symbol)Unit">load</a><span class="delimiter">(</span><a href="#931002" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">(</span><a href="#931002" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509351" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482552" title="=&gt; scala.collection.mutable.HashSet[String]">compiledFiles</a> <a href="../../../collection/mutable/HashSet.scala.html#108314" title="(elem: String)Boolean">contains</a> <a href="#931002" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509351" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>.<a href="../io/AbstractFile.scala.html#501001" title="=&gt; String">path</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Does the context of tree &lt;code&gt;tree&lt;/code&gt; require a stable type?
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean" id="507699">isStableContext</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="964981">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="964982">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="964983">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
      <a href="#507703" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#964981" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#964982" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">(</span><span title="Boolean(false)">xtypes</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
      <span class="delimiter">(</span><a href="#964983" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507151" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
       <span class="delimiter">(</span><a href="#964982" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(64)">QUALmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#964981" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509239" title="=&gt; Boolean">isConstant</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
       <a href="#964983" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#964983" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546583" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#507151" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#964981" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#964983" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
       <a href="#964983" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#964981" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#964983" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Make symbol accessible. This means:
     *  If symbol refers to package object, insert `.package` as second to last selector.
     *  (exception for some symbols in scala package which are dealiased immediately)
     *  Call checkAccessible, which sets tree's attributes.
     *  Also note that checkAccessible looks up sym on pre without checking that pre is well-formed
     *  (illegal type applications in pre will be skipped -- that's why typedSelect wraps the resulting tree in a TreeWithDeferredChecks)
     *  @return modified tree and new prefix type
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)" id="507700">makeAccessible</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965011">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Symbol" id="965012">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="965013">pre</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="965014">site</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a>Tree, Type<span class="delimiter">)</span> =
      <span title="(Typers.this.global.Tree, Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><a href="#507701" title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean">isInPackageObject</a><span class="delimiter">(</span><a href="#965012" title="Typers.this.global.Symbol">sym</a>, <a href="#965013" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#965013" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507892" title="=&gt; Typers.this.global.Symbol">ScalaPackageClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#965012" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// short cut some aliases. It seems that without that pattern matching</span>
          <span class="comment">// fails to notice exhaustiveness and to generate good code when</span>
          <span class="comment">// List extractors are mixed with :: patterns. See Test5 in lists.scala.</span>
          <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" id="965044">dealias</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="965045">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
            <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.gen.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="965050">t</a> = <a href="../Global.scala.html#478214" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507273" title="(sym: Typers.this.global.gen.global.Symbol)Typers.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="#965045" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> ; <a href="#965050" title="Typers.this.global.gen.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: Typers.this.global.gen.global.Position)t.type">setPos</a><span class="delimiter">(</span><a href="#965011" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> ; <a href="#965050" title="Typers.this.global.gen.global.Tree">t</a> <span class="delimiter">}</span>, <a href="#965045" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span>
          <a href="#965012" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../symtab/StdNames.scala.html#479055" title="Nothing">nme</a>.<a href="../symtab/StdNames.scala.html#516180" title="=&gt; Typers.this.global.nme.NameType">List</a> =&gt; <span title="Nothing" class="keyword">return</span> <a href="#965044" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508088" title="=&gt; Typers.this.global.Symbol">ListModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../symtab/StdNames.scala.html#479055" title="Nothing">nme</a>.<a href="../symtab/StdNames.scala.html#516182" title="=&gt; Typers.this.global.nme.NameType">Seq</a> =&gt; <span title="Nothing" class="keyword">return</span> <a href="#965044" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508094" title="=&gt; Typers.this.global.Symbol">SeqModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a href="../symtab/StdNames.scala.html#479055" title="Nothing">nme</a>.<a href="../symtab/StdNames.scala.html#516568" title="=&gt; Typers.this.global.nme.NameType">Nil</a> =&gt; <span title="Nothing" class="keyword">return</span> <a href="#965044" title="(sym: Typers.this.global.Symbol)(Typers.this.global.gen.global.Tree, Typers.this.global.Type)">dealias</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508092" title="=&gt; Typers.this.global.Symbol">NilModule</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="965037">qual</a> = <a href="#507773" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a> <span class="delimiter">{</span> <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#965011" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501505" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#965011" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Ident">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="../../../reflect/generic/Trees.scala.html#443999" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516483" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965088">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#965088" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516483" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965111">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#965111" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516483" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" id="965038">tree1</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">atPos</a><span class="delimiter">(</span><a href="#965011" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#965011" title="Typers.this.global.Tree">tree</a> <span title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="965137">name</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#965037" title="Typers.this.global.Tree">qual</a>, <a href="#965137" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Name" id="965158">name</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#965037" title="Typers.this.global.Tree">qual</a>, <a href="#965158" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, <a title="Typers.this.global.TypeName" id="965177">name</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/generic/Trees.scala.html#444067" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.TypeName)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#965037" title="Typers.this.global.Tree">qual</a>, <a href="#965177" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="Infer.scala.html#507805" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#965038" title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#965012" title="Typers.this.global.Symbol">sym</a>, <a href="#965037" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#965037" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>, <a href="#965037" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Type)(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="Infer.scala.html#507805" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)Typers.this.global.Tree">checkAccessible</a><span class="delimiter">(</span><a href="#965011" title="Typers.this.global.Tree">tree</a>, <a href="#965012" title="Typers.this.global.Symbol">sym</a>, <a href="#965013" title="Typers.this.global.Type">pre</a>, <a href="#965014" title="Typers.this.global.Tree">site</a><span class="delimiter">)</span>, <a href="#965013" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Is `sym` defined in package object of package `pkg`?
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, pkg: Typers.this.global.Symbol)Boolean" id="507701">isInPackageObject</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="965016">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="965017">pkg</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#965017" title="Typers.this.global.Symbol">pkg</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
        <a href="#965016" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509299" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="965028">sym</a> =&gt;
          <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#965028" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435394" title="=&gt; Boolean">isPackage</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
            <a href="#965028" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509196" title="=&gt; Boolean">isPackageObjectClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#965028" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#965017" title="Typers.this.global.Symbol">pkg</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
            <a href="#965017" title="Typers.this.global.Symbol">pkg</a>.<a href="../symtab/Symbols.scala.html#509246" title="=&gt; Boolean">isInitialized</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
              <span class="comment">// need to be careful here to not get a cyclic reference during bootstrap</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="965035">pkgobj</a> = <a href="#965017" title="Typers.this.global.Symbol">pkg</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507200" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516483" title="=&gt; Typers.this.global.TermName">PACKAGEkw</a><span class="delimiter">)</span>
              <a href="#965035" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../symtab/Symbols.scala.html#509246" title="=&gt; Boolean">isInitialized</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <span class="delimiter">(</span><a href="#965035" title="Typers.this.global.Symbol">pkgobj</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507200" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#965028" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509299" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#965028" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Post-process an identifier or selection node, performing the following:
     *  1. Check that non-function pattern expressions are stable
     *  2. Check that packages and static modules are not used as values
     *  3. Turn tree type into stable type if possible and required by context.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507702">stabilize</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965216">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="965217">pre</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="Int" id="965218">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="965219">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#965216" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435388" title="=&gt; Boolean">isOverloaded</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Modes.scala.html#507432" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#965218" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#507861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#965216" title="Typers.this.global.Tree">tree</a>, <a href="#965219" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="965221">sym</a> = <a href="#965216" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>

      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#965216" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <a href="#965216" title="Typers.this.global.Tree">tree</a>
      <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#965218" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(2)">PATTERNmode</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#510727" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (1)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#965221" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509168" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <a href="#507679" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#965216" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#965216" title="Typers.this.global.Tree">tree</a>, <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; is not a value&quot;)" class="string">&quot; is not a value&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#965218" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(65)">|</span> QUALmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#965221" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509168" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (2)</span>
        <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#965216" title="Typers.this.global.Tree">tree</a>, <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; is not a value&quot;)" class="string">&quot; is not a value&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#965221" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#965217" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507151" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Definitions.scala.html#508061" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#965216" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <span class="delimiter">(</span><a href="#507699" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#965216" title="Typers.this.global.Tree">tree</a>, <a href="#965218" title="Int">mode</a>, <a href="#965219" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#965221" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#965221" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#965216" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478807" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#965217" title="Typers.this.global.Type">pre</a>, <a href="#965221" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#965216" title="Typers.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="507703">isNarrowable</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="964986">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#964986" title="Typers.this.global.Type">tpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Boolean(true)">TypeRef</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> | RefinedType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
      <span class="keyword">case</span> <span title="Boolean">ExistentialType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="965267">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#507703" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#965267" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="965271">tpe1</a>, _<span class="delimiter">)</span> =&gt; <a href="#507703" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#965271" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">PolyType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="965274">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#507703" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#965274" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="965276">tpe1</a><span class="delimiter">)</span> =&gt; <a href="#507703" title="(tpe: Typers.this.global.Type)Boolean">isNarrowable</a><span class="delimiter">(</span><a href="#965276" title="Typers.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507704">stabilizeFun</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965277">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="965278">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="965279">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="965281">sym</a> = <a href="#965277" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="965282">pre</a> = <a href="#965277" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965287">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="#965287" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="Typers.this.global.NoPrefix.type">_</span> =&gt; <a href="../symtab/Types.scala.html#478736" title="object Typers.this.global.NoPrefix">NoPrefix</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#965277" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#478776" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#965282" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507151" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#965281" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507180" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><a href="#507699" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#965277" title="Typers.this.global.Tree">tree</a>, <a href="#965278" title="Int">mode</a>, <a href="#965279" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#965281" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#965277" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#546837" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#478807" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#965282" title="Typers.this.global.Type">pre</a>, <a href="#965281" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#965277" title="Typers.this.global.Tree">tree</a>
    <span class="delimiter">}</span>

    <span class="comment">/** The member with given name of given qualifier tree */</span>
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol" id="507705">member</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965301">qual</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="965302">name</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Boolean" id="965305">callSiteWithinClass</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="965307">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508469" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#509255" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a> <a href="#965307" title="Typers.this.global.Symbol">clazz</a>
      <span class="keyword">val</span> <a title="Boolean" id="965306">includeLocals</a> = <a href="#965301" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Boolean(true)">ThisType</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="965309">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#965305" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span><a href="#965309" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>                =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean(true)">SuperType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="965312">clazz</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#965305" title="(clazz: Typers.this.global.Symbol)Boolean">callSiteWithinClass</a><span class="delimiter">(</span><a href="#965312" title="Typers.this.global.Type">clazz</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <span title="Boolean">_</span>                                                            =&gt; <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a>
      <span class="delimiter">}</span>
      <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#965306" title="Boolean">includeLocals</a><span class="delimiter">)</span> <a href="#965301" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507200" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a> <a href="#965302" title="Typers.this.global.Name">name</a>
      <span class="keyword">else</span> <a href="#965301" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507203" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonLocalMember</a> <a href="#965302" title="Typers.this.global.Name">name</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="[T](op: Typers.this.Typer =&gt; T, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any" id="507706">silent</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="948639">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Typers.this.Typer =&gt; T" id="948633">op</a>: Typer =&gt; T,
                  <a title="Boolean" id="948637">reportAmbiguousErrors</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508505" title="=&gt; Boolean">reportAmbiguousErrors</a>,
                  <a title="Typers.this.global.Tree" id="948640">newtree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>: <span title="Any">Any</span> <span class="comment">/* in fact, TypeError or T */</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="965314">rawTypeStart</a> = <a href="../util/Statistics.scala.html#478492" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478547" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="965315">findMemberStart</a> = <a href="../util/Statistics.scala.html#478492" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478549" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.IntPair" id="965316">subtypeStart</a> = <a href="../util/Statistics.scala.html#478492" title="(sc: scala.tools.nsc.util.Statistics.SubCounter)scala.tools.nsc.util.Statistics.IntPair">startCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478551" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="965317">failedSilentStart</a> = <a href="../util/Statistics.scala.html#478494" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478581" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a><span class="delimiter">)</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508508" title="=&gt; Boolean">reportGeneralErrors</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
            <a href="#948637" title="Boolean">reportAmbiguousErrors</a> <a href="../../../Boolean.scala.html#55578" title="(x: Boolean)Boolean">!=</a> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508505" title="=&gt; Boolean">reportAmbiguousErrors</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
            <a href="#948640" title="Typers.this.global.Tree">newtree</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.Context" id="965326">context1</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508548" title="(reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Typers.this.Context">makeSilent</a><span class="delimiter">(</span><a href="#948637" title="Boolean">reportAmbiguousErrors</a>, <a href="#948640" title="Typers.this.global.Tree">newtree</a><span class="delimiter">)</span>
          <a href="#965326" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#508532" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#965326" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#508524" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508523" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#965326" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#508491" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508490" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <span class="keyword">val</span> <a title="Typers.this.Typer" id="965327">typer1</a> = <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#965326" title="Typers.this.Context">context1</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="T" id="965328">result</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#965327" title="Typers.this.Typer">typer1</a><span class="delimiter">)</span>
          <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508532" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#965326" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
          <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508524" title="(x$1: List[(Typers.this.global.Symbol, Typers.this.global.Type)])Unit">savedTypeBounds</a> = <a href="#965326" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#508523" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>
          <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508491" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="#965326" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#508490" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>
          <a href="#965328" title="T">result</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="../../../Function1.scala.html#53453" title="(v1: Typers.this.Typer)T">op</a><span class="delimiter">(</span><a href="#507454" title="Typers.this.Typer" class="keyword">this</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="965338">ex</a>: <a href="../symtab/Symbols.scala.html#478675" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#965338" title="Typers.this.global.CyclicReference">ex</a>
        <span class="keyword">case</span> <a title="Typers.this.global.TypeError" id="965339">ex</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="../util/Statistics.scala.html#478493" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478547" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">rawTypeFailed</a>, <a href="#965314" title="scala.tools.nsc.util.Statistics.IntPair">rawTypeStart</a><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#478493" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478549" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">findMemberFailed</a>, <a href="#965315" title="scala.tools.nsc.util.Statistics.IntPair">findMemberStart</a><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#478493" title="(sc: scala.tools.nsc.util.Statistics.SubCounter, start: scala.tools.nsc.util.Statistics.IntPair)Unit">stopCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478551" title="=&gt; scala.tools.nsc.util.Statistics.SubCounter">subtypeFailed</a>, <a href="#965316" title="scala.tools.nsc.util.Statistics.IntPair">subtypeStart</a><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#478495" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478581" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedSilentNanos</a>, <a href="#965317" title="scala.tools.nsc.util.Statistics.LongPair">failedSilentStart</a><span class="delimiter">)</span>
          <a href="#965339" title="Typers.this.global.TypeError">ex</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Utility method: Try op1 on tree. If that gives an error try op2 instead.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)(op1: (Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree)(op2: (Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree)Typers.this.global.Tree" id="507709">tryBoth</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965340">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="(Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree" id="965341">op1</a>: <span class="delimiter">(</span>Typer, Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span><span class="delimiter">(</span><a title="(Typers.this.Typer, Typers.this.global.Tree) =&gt; Typers.this.global.Tree" id="965342">op2</a>: <span class="delimiter">(</span>Typer, Tree<span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =
      <a href="#507706" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="../../../Function2.scala.html#59852" title="(v1: Typers.this.Typer, v2: Typers.this.global.Tree)Typers.this.global.Tree">op1</a><span class="delimiter">(</span><a href="#965349" title="Typers.this.Typer">_</a>, <a href="#965340" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965357">result1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =&gt;
          <a href="#965357" title="Typers.this.global.Tree">result1</a>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965358">ex1</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#507706" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="../../../Function2.scala.html#59852" title="(v1: Typers.this.Typer, v2: Typers.this.global.Tree)Typers.this.global.Tree">op2</a><span class="delimiter">(</span><a href="#965364" title="Typers.this.Typer">_</a>, <a href="../ast/Trees.scala.html#479191" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#965340" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965377">result2</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =&gt;
<span class="comment">//              println(&quot;snd succeeded: &quot;+result2)</span>
              <a href="#965377" title="Typers.this.global.Tree">result2</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965378">ex2</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
              <a href="TypeDiagnostics.scala.html#507660" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#965340" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#965358" title="Typers.this.global.TypeError">ex1</a><span class="delimiter">)</span>
              <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#965340" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="comment">/** Perform the following adaptations of expression, pattern or type `tree' wrt to
     *  given mode `mode' and given prototype `pt':
     *  (-1) For expressions with annotated types, let AnnotationCheckers decide what to do
     *  (0) Convert expressions with constant types to literals (unless in interactive/scaladoc mode)
     *  (1) Resolve overloading, unless mode contains FUNmode
     *  (2) Apply parameterless functions
     *  (3) Apply polymorphic types to fresh instances of their type parameters and
     *      store these instances in context.undetparams,
     *      unless followed by explicit type application.
     *  (4) Do the following to unapplied methods used as values:
     *  (4.1) If the method has only implicit parameters pass implicit arguments
     *  (4.2) otherwise, if `pt' is a function type and method is not a constructor,
     *        convert to function by eta-expansion,
     *  (4.3) otherwise, if the method is nullary with a result type compatible to `pt'
     *        and it is not a constructor, apply it to ()
     *  otherwise issue an error
     *  (5) Convert constructors in a pattern as follows:
     *  (5.1) If constructor refers to a case class factory, set tree's type to the unique
     *        instance of its primary constructor that is a subtype of the expected type.
     *  (5.2) If constructor refers to an extractor, convert to application of
     *        unapply or unapplySeq method.
     *
     *  (6) Convert all other types to TypeTree nodes.
     *  (7) When in TYPEmode but not FUNmode or HKmode, check that types are fully parameterized
     *      (7.1) In HKmode, higher-kinded types are allowed, but they must have the expected kind-arity
     *  (8) When in both EXPRmode and FUNmode, add apply method calls to values of object type.
     *  (9) If there are undetermined type variables and not POLYmode, infer expression instance
     *  Then, if tree's type is not a subtype of expected type, try the following adaptations:
     *  (10) If the expected type is Byte, Short or Char, and the expression
     *      is an integer fitting in the range of that type, convert it to that type.
     *  (11) Widen numeric literals to their expected type, if necessary
     *  (12) When in mode EXPRmode, convert E to { E; () } if expected type is scala.Unit.
     *  (13) When in mode EXPRmode, apply AnnotationChecker conversion if expected type is annotated.
     *  (14) When in mode EXPRmode, apply a view
     *  If all this fails, error
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree" id="507710">adapt</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="893275">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="893276">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="893277">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Tree" id="893280">original</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965384">atp</a> @ AnnotatedType<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../symtab/AnnotationCheckers.scala.html#479106" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; <span class="comment">// (-1)</span>
        <a href="../symtab/AnnotationCheckers.scala.html#479107" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Literal" id="965394">ct</a> @ ConstantType<span class="delimiter">(</span><a title="Typers.this.global.Constant" id="965396">value</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#507430" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a>, TYPEmode <span title="Int(20)">|</span> FUNmode<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#965394" title="Typers.this.global.ConstantType">ct</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478376" title="=&gt; Boolean">forScaladoc</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478375" title="=&gt; Boolean">forInteractive</a> =&gt; <span class="comment">// (0)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="965402">sym</a> = <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#965402" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#965402" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509210" title="=&gt; Boolean">isDeprecated</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="java.lang.String" id="965407">msg</a> = <a href="#965402" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509365" title="()String">toString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#965402" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is deprecated: &quot;)" class="string">&quot; is deprecated: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#965402" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509212" title="=&gt; Option[String]">deprecationMessage</a>.<a href="../../../Option.scala.html#48474" title="(default: =&gt; String)String">getOrElse</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500980" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#965407" title="java.lang.String">msg</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560315" title="(tree: Typers.this.global.Tree, value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#965396" title="Typers.this.global.Constant">value</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="965421">pre</a>, <a title="List[Typers.this.global.Symbol]" id="965422">alts</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Modes.scala.html#507432" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a><span class="delimiter">)</span> =&gt; <span class="comment">// (1)</span>
        <a href="Infer.scala.html#507861" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferExprAlternative</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>, <a href="#893280" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="965424">restpe</a><span class="delimiter">)</span> =&gt; <span class="comment">// (2)</span>
        <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#965424" title="Typers.this.global.Type">restpe</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>, <a href="#893280" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#508070" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Typers.this.global.Type])Some[List[Typers.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="965446">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893276" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>   =&gt; <span class="comment">// (2)</span>
        <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#965446" title="Typers.this.global.Type">arg</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>, <a href="#893280" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965456">tr</a> @ TypeRef<span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="965460">sym</a>, _<span class="delimiter">)</span>
      <span class="keyword">if</span> <a href="#965460" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#965456" title="Typers.this.global.TypeRef">tr</a>.<a href="../symtab/Types.scala.html#532581" title="=&gt; Typers.this.global.Type">normalize</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#478786" title="Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
        <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893276" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
        <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#965456" title="Typers.this.global.TypeRef">tr</a>.<a href="../symtab/Types.scala.html#532581" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#507186" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>, <a href="#893280" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965478">et</a> @ ExistentialType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893276" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(1025)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt;
        <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#965478" title="Typers.this.global.ExistentialType">et</a>.<a href="../symtab/Types.scala.html#547223" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>, <a href="#893280" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="965504">tparams</a>, <a title="Typers.this.global.Type" id="965505">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="Modes.scala.html#507430" title="(mode: Int, prohibited: Int)Boolean">inNoModes</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a>, TAPPmode | PATTERNmode <span title="Int(16514)">|</span> HKmode<span class="delimiter">)</span> =&gt; <span class="comment">// (3)</span>
        <span class="comment">// assert((mode &amp; HKmode) == 0) //@M a PolyType in HKmode represents an anonymous type function,</span>
        <span class="comment">// we're in HKmode since a higher-kinded type is expected --&gt; hence, don't implicitly apply it to type params!</span>
        <span class="comment">// ticket #2197 triggered turning the assert into a guard</span>
        <span class="comment">// I guess this assert wasn't violated before because type aliases weren't expanded as eagerly</span>
        <span class="comment">//  (the only way to get a PolyType for an anonymous type function is by normalisation, which applies eta-expansion)</span>
          <span class="comment">// -- are we sure we want to expand aliases this early?</span>
          <span class="comment">// -- what caused this change in behaviour??</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="965514">tparams1</a> = <a href="../symtab/Symbols.scala.html#478669" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#965504" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="965515">tree1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#510728" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <a href="#893275" title="Typers.this.global.Tree">tree</a>
                    <span class="keyword">else</span> <a href="../../../reflect/generic/Trees.scala.html#443835" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#965514" title="List[Typers.this.global.Symbol]">tparams1</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeTree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="965570">tparam</a> =&gt;
                      <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#965570" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509271" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</a> <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeApply">setPos</a> <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a> <span class="comment">//@M/tcpolyinfer: changed tparam.tpe to tparam.tpeHK</span>
        <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508532" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">++=</a> <a href="#965514" title="List[Typers.this.global.Symbol]">tparams1</a>
        <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#965515" title="Typers.this.global.Tree">tree1</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree1.type">setType</a> <a href="#965505" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#507210" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#965504" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#965514" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>, <a href="#893280" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965675">mt</a>: <a href="../symtab/Types.scala.html#478776" title="Typers.this.global.MethodType">MethodType</a> <span class="keyword">if</span> <a href="#965675" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#546848" title="=&gt; Boolean">isImplicit</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893276" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> =&gt; <span class="comment">// (4.1)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a> <a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>  <span class="comment">// (9) -- should revisit dropped condition `(mode &amp; POLYmode) == 0`</span>
                                             <span class="comment">// dropped so that type args of implicit method are inferred even if polymorphic expressions are allowed</span>
                                             <span class="comment">// needed for implicits in 2.8 collection library -- maybe once #3346 is fixed, we can reinstate the condition?</span>
          <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508532" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> =
            <a href="Infer.scala.html#507838" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508533" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#893277" title="Typers.this.global.Type">pt</a>,
                    <span class="comment">// approximate types that depend on arguments since dependency on implicit argument is like dependency on type parameter</span>
                    <span title="Typers.this.global.Type" class="keyword">if</span><span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469799" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">YdepMethTpes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#965675" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#546857" title="=&gt; Typers.this.global.MethodType">approximate</a> <span class="keyword">else</span> <a href="#965675" title="Typers.this.global.MethodType">mt</a>,
                    <span class="comment">// if we are looking for a manifest, instantiate type to Nothing anyway,</span>
                    <span class="comment">// as we would get ambiguity errors otherwise. Example</span>
                    <span class="comment">// Looking for a manifest of Nil: This has many potential types,</span>
                    <span class="comment">// so we need to instantiate to minimal type List[Nothing].</span>
                    keepNothings = <span title="Boolean(false)" class="keyword">false</span>, <span class="comment">// retract Nothing's that indicate failure, ambiguities in manifests are dealt with in manifestOfType</span>
                    useWeaklyCompatible = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span> <span class="comment">// #3808</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.Typer" id="965693">typer1</a> = <a href="#507693" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551039" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893280" title="Typers.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#893277" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <a href="#965693" title="Typers.this.Typer">typer1</a>.<a href="#507706" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="965717">tpr</a> =&gt; <a href="#965717" title="Typers.this.Typer">tpr</a>.<a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#965717" title="Typers.this.Typer">tpr</a>.<a href="#507668" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965725">result</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =&gt; <a href="#965725" title="Typers.this.global.Tree">result</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965726">ex</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fallback on implicits: &quot;)" class="string">&quot;fallback on implicits: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;/&quot;)" class="string">&quot;/&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../ast/Trees.scala.html#479191" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#893280" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="965727">tree1</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479191" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#893280" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#965727" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="../symtab/AnnotationCheckers.scala.html#479105" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#965727" title="Typers.this.global.Tree">tree1</a>, <a href="#965727" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#965727" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#965727" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#965727" title="Typers.this.global.Tree">tree1</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">else</span>
          <a href="#965693" title="Typers.this.Typer">typer1</a>.<a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#965693" title="Typers.this.Typer">typer1</a>.<a href="#507668" title="(fun: Typers.this.global.Tree)Typers.this.global.Tree">applyImplicitArgs</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965746">mt</a>: <a href="../symtab/Types.scala.html#478776" title="Typers.this.global.MethodType">MethodType</a>
      <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="#893276" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode | FUNmode <span title="Int(1041)">|</span> LHSmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="Modes.scala.html#507433" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;

        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="965765">meth</a> = <a href="#893275" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="comment">// a partial named application is a block (see comment in EtaExpansion)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="965771">tree1</a><span class="delimiter">)</span> =&gt; <a href="#965771" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">_</span> =&gt; <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#965765" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/Definitions.scala.html#508198" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (4.2)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;eta-expanding &quot;)" class="string">&quot;eta-expanding &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#507686" title="(pos: Typers.this.global.Position, tpe: Typers.this.global.Type)Unit">checkParamsConvertible</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="965773">tree0</a> = <a href="EtaExpansion.scala.html#507536" title="(unit: Typers.this.global.CompilationUnit, tree: Typers.this.global.Tree)Typers.this.global.Tree">etaExpand</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="comment">// println(&quot;eta &quot;+tree+&quot; ---&gt; &quot;+tree0+&quot;:&quot;+tree0.tpe+&quot; undet: &quot;+context.undetparams+ &quot; mode: &quot;+Integer.toHexString(mode))</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#965765" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// #2624: need to infer type arguments for eta expansion of a polymorphic method</span>
            <span class="comment">// context.undetparams contains clones of meth.typeParams (fresh ones were generated in etaExpand)</span>
            <span class="comment">// need to run typer on tree0, since etaExpansion sets the tpe's of its subtrees to null</span>
            <span class="comment">// can't type with the expected type, as we can't recreate the setup in (3) without calling typed</span>
            <span class="comment">// (note that (3) does not call typed to do the polymorphic type instantiation --</span>
            <span class="comment">//  it is called after the tree has been typed with a polymorphic expected result type)</span>
            <a href="#507711" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#965773" title="Typers.this.global.Tree">tree0</a>, <a href="#893276" title="Int">mode</a>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#965773" title="Typers.this.global.Tree">tree0</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#965765" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#965746" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#546840" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (4.3)</span>
          <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>, <a href="#893280" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508514" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;missing arguments for &quot;)" class="string">&quot;missing arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#965765" title="Typers.this.global.Symbol">meth</a><span title="(x$1: Any)java.lang.String">+</span><a href="#965765" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a><span title="(x$1: Any)java.lang.String">+</span>
                    <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#965765" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
                     <span class="keyword">else</span> <span title="java.lang.String(&quot;;\012follow this method with `_\' if you want to treat it as a partially applied function&quot;)" class="string">&quot;;\nfollow this method with `_' if you want to treat it as a partially applied function&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
        <span class="keyword">def</span> <a title="=&gt; Boolean" id="965814">applyPossible</a> = <span class="delimiter">{</span>
          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Symbol" id="965815">applyMeth</a> = <a href="#507705" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#507715" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
          <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893276" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(128)">TAPPmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
            <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#965815" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../symtab/Symbols.scala.html#509300" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a> <a href="#965841" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="keyword">else</span>
            <a href="#965815" title="=&gt; Typers.this.global.Symbol">applyMeth</a>.<a href="../symtab/Symbols.scala.html#509300" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a href="#965849" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507178" title="=&gt; Int">paramSectionCount</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#510728" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#507432" title="(mode: Int)Boolean">inFunMode</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#893275" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441035" title="=&gt; Boolean">hasSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Modes.scala.html#507431" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500984" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (7)</span>
            <span class="comment">// @M When not typing a higher-kinded type ((mode &amp; HKmode) == 0)</span>
            <span class="comment">// or raw type (tree.symbol.isJavaDefined &amp;&amp; context.unit.isJava), types must be of kind *,</span>
            <span class="comment">// and thus parameterized types must be applied to their type arguments</span>
            <span class="comment">// @M TODO: why do kind-* tree's have symbols, while higher-kinded ones don't?</span>
            <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">symbol</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; takes type parameters&quot;)" class="string">&quot; takes type parameters&quot;</span><span class="delimiter">)</span>
            <a href="#893275" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span> <span class="comment">// (7.1) @M: check kind-arity</span>
                    <span class="comment">// @M: removed check for tree.hasSymbol and replace tree.symbol by tree.tpe.symbol (TypeTree's must also be checked here, and they don't directly have a symbol)</span>
                     <span class="delimiter">(</span><a href="Modes.scala.html#507431" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                    <span class="comment">// @M: don't check tree.tpe.symbol.typeParams. check tree.tpe.typeParams!!!</span>
                    <span class="comment">// (e.g., m[Int] --&gt; tree.tpe.symbol.typeParams.length == 1, tree.tpe.typeParams.length == 0!)</span>
                    <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span title="(x$1: AnyRef)Boolean">==</span><a href="../symtab/Definitions.scala.html#507921" title="=&gt; Typers.this.global.Symbol">AnyClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                       <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span title="(x$1: AnyRef)Boolean">==</span><a href="../symtab/Definitions.scala.html#507933" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                       <a href="#893277" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a> <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// Check that the actual kind arity (tree.symbol.typeParams.length) conforms to the expected</span>
              <span class="comment">// kind-arity (pt.typeParams.length). Full checks are done in checkKindBounds in Infer.</span>
              <span class="comment">// Note that we treat Any and Nothing as kind-polymorphic.</span>
              <span class="comment">// We can't perform this check when typing type arguments to an overloaded method before the overload is resolved</span>
              <span class="comment">// (or in the case of an error type) -- this is indicated by pt == WildcardType (see case TypeApply in typed1).</span>
              <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; takes &quot;)" class="string">&quot; takes &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../../util/StringOps.scala.html#482654" title="(n: Int, elements: String)String">countElementsAsString</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a>, <span title="java.lang.String(&quot;type parameter&quot;)" class="string">&quot;type parameter&quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span>
                              <span title="java.lang.String(&quot;, expected: &quot;)" class="string">&quot;, expected: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../../util/StringOps.scala.html#482655" title="(n: Int)String">countAsString</a><span class="delimiter">(</span><a href="#893277" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#893275" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#893275" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span> <span class="comment">// (6)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeTree</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#893275" title="Typers.this.global.Tree">tree</a>
            <span class="keyword">case</span> <span title="Typers.this.global.TypeTree">_</span> =&gt; <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#534788" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893276" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (5)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="965911">extractor</a> = <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509300" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="965913">sym</a> =&gt; <a href="#507697" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="Unapplies.scala.html#507562" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#965913" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#965911" title="Typers.this.global.Symbol">extractor</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#893275" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</a> <a href="#965911" title="Typers.this.global.Symbol">extractor</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="965921">unapply</a> = <a href="Unapplies.scala.html#507562" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#965911" title="Typers.this.global.Symbol">extractor</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="965922">clazz</a> = <a href="Unapplies.scala.html#507563" title="(extractor: Typers.this.global.Symbol)Typers.this.global.Symbol">unapplyParameterType</a><span class="delimiter">(</span><a href="#965921" title="Typers.this.global.Symbol">unapply</a><span class="delimiter">)</span>

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#965921" title="Typers.this.global.Symbol">unapply</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435296" title="=&gt; Boolean">isCase</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#965922" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435296" title="=&gt; Boolean">isCase</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#965922" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509321" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#965944" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435296" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// convert synthetic unapply of case class to case class constructor</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="965945">prefix</a> = <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; Typers.this.global.Type">prefix</a>
              <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="965946">tree1</a> = <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#965922" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509305" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507205" title="(pre: Typers.this.global.Type, clazz: Typers.this.global.Symbol)Typers.this.global.Type">asSeenFrom</a><span class="delimiter">(</span><a href="#965945" title="Typers.this.global.Type">prefix</a>, <a href="#965922" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  .<a href="../ast/Trees.scala.html#534788" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

              <a href="Infer.scala.html#507842" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], pt0: Typers.this.global.Type)Unit">inferConstructorInstance</a><span class="delimiter">(</span><a href="#965946" title="Typers.this.global.TypeTree">tree1</a>, <a href="#965922" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="#965946" title="Typers.this.global.TypeTree">tree1</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#893275" title="Typers.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">symbol</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot; is not a case class constructor, nor does it have an unapply/unapplySeq method&quot;)" class="string">&quot; is not a case class constructor, nor does it have an unapply/unapplySeq method&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#507428" title="(mode: Int, required: Int)Boolean">inAllModes</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a>, EXPRmode <span title="Int(17)">|</span> FUNmode<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                   <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#478776" title="Typers.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                   <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#478789" title="Typers.this.global.OverloadedType">OverloadedType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                   <a href="#965814" title="=&gt; Boolean">applyPossible</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Modes.scala.html#507431" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//@M</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="965961">qual</a> = <a href="#507715" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">adaptToName</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965964">id</a> @ Ident<span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="965968">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#965964" title="Typers.this.global.Ident">id</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#965964" title="Typers.this.global.Ident">id</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Typers.this.global.Type">thisType</a>
                        <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#965964" title="Typers.this.global.Ident">id</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
                          <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508564" title="(clazz: Typers.this.global.Symbol)Typers.this.Context">enclosingSubClassContext</a><span class="delimiter">(</span><a href="#965964" title="Typers.this.global.Ident">id</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>.<a href="Contexts.scala.html#508493" title="=&gt; Typers.this.global.Type">prefix</a>
                        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#478736" title="object Typers.this.global.NoPrefix">NoPrefix</a>
              <a href="#507702" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#965964" title="Typers.this.global.Ident">id</a>, <a href="#965968" title="Typers.this.global.Type">pre</a>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965978">sel</a> @ Select<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965983">qualqual</a>, _<span class="delimiter">)</span> =&gt;
              <a href="#507702" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#965978" title="Typers.this.global.Select">sel</a>, <a href="#965983" title="Typers.this.global.Tree">qualqual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, EXPRmode <span title="Int(65)">|</span> QUALmode, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="965988">other</a> =&gt;
              <a href="#965988" title="Typers.this.global.Tree">other</a>
          <span class="delimiter">}</span>
          <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#965961" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Modes.scala.html#507433" title="(mode: Int)Boolean">inPolyMode</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (9)</span>
          <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Modes.scala.html#507431" title="(mode: Int)Boolean">inHKMode</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//@M</span>
          <a href="#507711" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#893275" title="Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#507434" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#893276" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>
              <a href="Infer.scala.html#507849" title="(pat: Typers.this.global.Tree, pt: Typers.this.global.Type)Unit">inferModulePattern</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#478897" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isPopulated</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="Infer.scala.html#939307" title="(tp: Typers.this.global.Type)Typers.this.global.Type">approximateAbstracts</a><span class="delimiter">(</span><a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Nothing" class="keyword">return</span> <a href="#893275" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.constfold.global.Tree" id="966021">tree1</a> = <a href="ConstantFolder.scala.html#508651" title="(tree: Typers.this.global.constfold.global.Tree, pt: Typers.this.global.constfold.global.Type)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="comment">// (10) (11)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#966021" title="Typers.this.global.constfold.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.constfold.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.constfold.global.Type)Boolean">&lt;:&lt;</a> <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#966021" title="Typers.this.global.constfold.global.Tree">tree1</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>, <a href="#893280" title="Typers.this.global.Tree">original</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893276" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(17)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#893277" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="966054">sym</a>, _<span class="delimiter">)</span> =&gt;
                  <span class="comment">// note: was if (pt.typeSymbol == UnitClass) but this leads to a potentially</span>
                  <span class="comment">// infinite expansion if pt is constant type ()</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#966054" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Typers.this.global.Symbol">UnitClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (12)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#469884" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnValueDiscard</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                      <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;discarded non-Unit value&quot;)" class="string">&quot;discarded non-Unit value&quot;</span><span class="delimiter">)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443384" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="../../../reflect/generic/Trees.scala.html#434144" title="(value: Any)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                  <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508417" title="(sym: Typers.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#966054" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/Types.scala.html#478973" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isNumericSubType</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#469886" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnNumericWiden</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                      <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;implicit numeric widening&quot;)" class="string">&quot;implicit numeric widening&quot;</span><span class="delimiter">)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;to&quot;)" class="string">&quot;to&quot;</span><a href="../../../reflect/generic/StdNames.scala.html#434009" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">+</a><a href="#966054" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Nothing">AnnotatedType</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="../symtab/AnnotationCheckers.scala.html#479106" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">canAdaptAnnotations</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> =&gt; <span class="comment">// (13)</span>
                    <span title="Nothing" class="keyword">return</span> <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../symtab/AnnotationCheckers.scala.html#479107" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">adaptAnnotations</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Nothing" class="keyword">return</span> <a href="#507711" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">instantiate</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508514" title="=&gt; Boolean">implicitsEnabled</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#893277" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// (14); the condition prevents chains of views</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferring view from &quot;)" class="string">&quot;inferring view from &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="966168">coercion</a> = <a href="#507669" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
                <span class="comment">// convert forward views of delegate types into closures wrapped around</span>
                <span class="comment">// the delegate's apply method (the &quot;Invoke&quot; method, which was translated into apply)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478374" title="=&gt; Boolean">forMSIL</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#966168" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/Definitions.scala.html#508216" title="(delegateType: Typers.this.global.Type, functionType: Typers.this.global.Type)Boolean">isCorrespondingDelegate</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="966178">meth</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a> = <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507200" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
                  <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                    <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;replacing forward delegate view with: &quot;)" class="string">&quot;replacing forward delegate view with: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#966178" title="Typers.this.global.Symbol">meth</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#966178" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                  <span title="Nothing" class="keyword">return</span> <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#966178" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#966168" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;inferred view from &quot;)" class="string">&quot;inferred view from &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893277" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#966168" title="Typers.this.global.Tree">coercion</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#966168" title="Typers.this.global.Tree">coercion</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                  <span title="Nothing" class="keyword">return</span> <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508549" title="(reportAmbiguousErrors: Boolean)Typers.this.Context">makeImplicit</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508505" title="=&gt; Boolean">reportAmbiguousErrors</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span>
                    <span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="../ast/Trees.scala.html#479163" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span><a href="#966168" title="Typers.this.global.Tree">coercion</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.ApplyImplicitView">setPos</a> <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;error tree = &quot;)" class="string">&quot;error tree = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#469844" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#507804" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="keyword">try</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#507803" title="(tree: Typers.this.global.Tree, found: Typers.this.global.Type, req: Typers.this.global.Type)Typers.this.global.Tree">typeErrorTree</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#893277" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="966234">ex</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                    <a href="#893277" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507244" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="comment">// Ignore type errors raised in later phases that are due to mismatching types with existential skolems</span>
                  <span class="comment">// We have lift crashing in 2.9 with an adapt failure in the pattern matcher.</span>
                  <span class="comment">// Here's my hypothsis why this happens. The pattern matcher defines a variable of type</span>
                  <span class="comment">//</span>
                  <span class="comment">//   val x: T = expr</span>
                  <span class="comment">//</span>
                  <span class="comment">// where T is the type of expr, but T contains existential skolems ts.</span>
                  <span class="comment">// In that case, this value definition does not typecheck.</span>
                  <span class="comment">// The value definition</span>
                  <span class="comment">//</span>
                  <span class="comment">//   val x: T forSome { ts } = expr</span>
                  <span class="comment">//</span>
                  <span class="comment">// would typecheck. Or one can simply leave out the type of the `val`:</span>
                  <span class="comment">//</span>
                  <span class="comment">//   val x = expr</span>
                  <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;recovering from existential Skolem type error in tree \012&quot;)" class="string">&quot;recovering from existential Skolem type error in tree \n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893275" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012with type &quot;)" class="string">&quot;\nwith type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893275" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012 expected type = &quot;)" class="string">&quot;\n expected type = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893277" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012 context = &quot;)" class="string">&quot;\n context = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#893275" title="Typers.this.global.Tree">tree</a>, <a href="#893276" title="Int">mode</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507209" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#893277" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507244" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a>, <a href="#893277" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507244" title="=&gt; List[Typers.this.global.Symbol]">existentialSkolems</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="966261">_</a> =&gt; <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span>
                  <span title="Nothing" class="keyword">throw</span> <a href="#966234" title="Typers.this.global.TypeError">ex</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507711">instantiate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965780">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="965781">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="965782">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="Infer.scala.html#507838" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#965780" title="Typers.this.global.Tree">tree</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508533" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#965782" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#965780" title="Typers.this.global.Tree">tree</a>, <a href="#965781" title="Int">mode</a>, <a href="#965782" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree" id="507712">adaptToMember</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965825">qual</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="965826">searchTemplate</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Type" id="966289">qtpe</a> = <a href="#965825" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Typers.this.global.Type">widen</a>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">qual</a>.<a href="../ast/Trees.scala.html#510727" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#965825" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#965825" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#965825" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509168" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#966289" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="#966289" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507931" title="=&gt; Typers.this.global.Symbol">NullClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#966289" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507933" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#966289" title="Typers.this.global.Type">qtpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#965825" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../ast/Trees.scala.html#479163" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="comment">// don't chain views</span>
          <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508514" title="=&gt; Boolean">implicitsEnabled</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// don't try to adapt a top-level type that's the subject of an implicit search</span>
                                      <span class="comment">// this happens because, if isView, typedImplicit tries to apply the &quot;current&quot; implicit value to</span>
                                      <span class="comment">// a value that needs to be coerced, so we check whether the implicit value has an `apply` method</span>
                                     <span class="comment">// (if we allow this, we get divergence, e.g., starting at `conforms` during ant quick.bin)</span>
                                     <span class="comment">// note: implicit arguments are still inferred (this kind of &quot;chaining&quot; is allowed)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#966289" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#478786" title="Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#966289" title="Typers.this.global.Type">qtpe</a> = <a href="#966289" title="Typers.this.global.Type">qtpe</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#507186" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#965825" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="comment">// open the existential</span>
          <a href="#965825" title="Typers.this.global.Tree">qual</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)qual.type">setType</a> <a href="#966289" title="Typers.this.global.Type">qtpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="966313">coercion</a> = <a href="#507669" title="(tree: Typers.this.global.Tree, from: Typers.this.global.Type, to: Typers.this.global.Type, reportAmbiguous: Boolean)Typers.this.global.Tree">inferView</a><span class="delimiter">(</span><a href="#965825" title="Typers.this.global.Tree">qual</a>, <a href="#965825" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#965826" title="Typers.this.global.Type">searchTemplate</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#966313" title="Typers.this.global.Tree">coercion</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
          <a href="#507773" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ApplyImplicitView)Typers.this.global.ApplyImplicitView">atPos</a><span class="delimiter">(</span><a href="#965825" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="Typers.this.global.ApplyImplicitView" class="keyword">new</span> <a href="../ast/Trees.scala.html#479163" title="Typers.this.global.ApplyImplicitView">ApplyImplicitView</a><span class="delimiter">(</span><a href="#966313" title="Typers.this.global.Tree">coercion</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#965825" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#965825" title="Typers.this.global.Tree">qual</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#965825" title="Typers.this.global.Tree">qual</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Try to apply an implicit conversion to `qual' to that it contains
     *  a method `name` which can be applied to arguments `args' with expected type `pt'.
     *  If `pt' is defined, there is a fallback to try again with pt = ?.
     *  This helps avoiding propagating result information too far and solves
     *  #1756.
     *  If no conversion is found, return `qual' unchanged.
     *
     */</span>
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree" id="507713">adaptToArguments</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="966348">qual</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="966349">name</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="966350">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="966351">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(restpe: Typers.this.global.Type)Typers.this.global.Tree" id="966353">doAdapt</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="966354">restpe</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
        <span class="comment">//util.trace(&quot;adaptToArgs &quot;+qual+&quot;, name = &quot;+name+&quot;, argtpes = &quot;+(args map (_.tpe))+&quot;, pt = &quot;+pt+&quot; = &quot;)</span>
        <a href="#507712" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#966348" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#928884" title="(name: Typers.this.global.Name, argtpes: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">HasMethodMatching</a><span class="delimiter">(</span><a href="#966349" title="Typers.this.global.Name">name</a>, <a href="#966350" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#966374" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#966354" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#966351" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#507706" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="966411">_</a> =&gt; <a href="#966353" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#966351" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="966417">result</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> <span class="keyword">if</span> <a href="#966417" title="Typers.this.global.Tree">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#966348" title="Typers.this.global.Tree">qual</a> =&gt;
            <a href="#966417" title="Typers.this.global.Tree">result</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;fallback on implicits in adaptToArguments: &quot;)" class="string">&quot;fallback on implicits in adaptToArguments: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#966348" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; . &quot;)" class="string">&quot; . &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#966349" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#966353" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span> <span class="keyword">else</span>
        <a href="#966353" title="(restpe: Typers.this.global.Type)Typers.this.global.Tree">doAdapt</a><span class="delimiter">(</span><a href="#966351" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Try o apply an implicit conversion to `qual' to that it contains
     *  a method `name`. If that's ambiguous try taking arguments into account using `adaptToArguments`.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree" id="507714">adaptToMemberWithArgs</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="966425">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="966426">qual</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="966427">name</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a>, <a title="Int" id="966428">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#507712" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#966426" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#928832" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#966427" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="966430">ex</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
        <span class="comment">// this happens if implicits are ambiguous; try again with more context info.</span>
        <span class="comment">// println(&quot;last ditch effort: &quot;+qual+&quot; . &quot;+name)</span>
        <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="966433">tree1</a>, <a title="List[Typers.this.global.Tree]" id="966434">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#966433" title="Typers.this.global.Tree">tree1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#966425" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#966434" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> =&gt; <span class="comment">// try handling the arguments</span>
            <span class="comment">// println(&quot;typing args: &quot;+args)</span>
            <a href="#507706" title="(op: Typers.this.Typer =&gt; List[Typers.this.global.Tree], reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#966440" title="Typers.this.Typer">_</a>.<a href="#507747" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#966434" title="List[Typers.this.global.Tree]">args</a>, <a href="#966428" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="966709">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[_]">List</a><span class="delimiter">[</span>_<span class="delimiter">]</span> =&gt;
                <a href="#507713" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#966426" title="Typers.this.global.Tree">qual</a>, <a href="#966427" title="Typers.this.global.Name">name</a>, <a href="#966709" title="List[_]">args</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="List[Typers.this.global.Tree]" class="delimiter">[</span><a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
                <span title="Nothing" class="keyword">throw</span> <a href="#966430" title="Typers.this.global.TypeError">ex</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
            <span class="comment">// println(&quot;not in an apply: &quot;+context.tree+&quot;/&quot;+tree)</span>
            <span title="Nothing" class="keyword">throw</span> <a href="#966430" title="Typers.this.global.TypeError">ex</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Try to apply an implicit conversion to `qual' to that it contains a
     *  member `name` of arbitrary type.
     *  If no conversion is found, return `qual' unchanged.
     */</span>
    <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="507715">adaptToName</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="965816">qual</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="965817">name</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#507705" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#965816" title="Typers.this.global.Tree">qual</a>, <a href="#965817" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#965816" title="Typers.this.global.Tree">qual</a>
      <span class="keyword">else</span> <a href="#507712" title="(qual: Typers.this.global.Tree, searchTemplate: Typers.this.global.Type)Typers.this.global.Tree">adaptToMember</a><span class="delimiter">(</span><a href="#965816" title="Typers.this.global.Tree">qual</a>, <a href="Implicits.scala.html#928832" title="(name: Typers.this.global.Name)Typers.this.global.Type">HasMember</a><span class="delimiter">(</span><a href="#965817" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree" id="507716">typePrimaryConstrBody</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="966711">clazz</a> : <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Tree" id="966712">cbody</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Symbol]" id="966713">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Symbol]" id="966714">enclTparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[List[Typers.this.global.ValDef]]" id="966715">vparamss</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="comment">// XXX: see about using the class's symbol....</span>
      <a href="#966714" title="List[Typers.this.global.Symbol]">enclTparams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="966736">sym</a> =&gt; <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514360" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#966736" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#507674" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#917823" title="(owner: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]])List[List[Typers.this.global.Symbol]]">enterValueParams</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#966715" title="List[List[Typers.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>
      <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#966712" title="Typers.this.global.Tree">cbody</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol)Unit" id="507717">validateNoCaseAncestor</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="966751">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="966767">ancestor</a> &lt;- <a href="#966751" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509321" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <a href="../../../Option.scala.html#48491" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">find</a> <span class="delimiter">(</span><a href="#966762" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435296" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500980" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#966751" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>, <span class="delimiter">(</span>
            <span class="string">&quot;case class `%s' has case ancestor `%s'.  Case-to-case inheritance has potentially &quot;</span>+
            <span class="string">&quot;dangerous bugs which are unlikely to be fixed.  You are strongly encouraged to &quot;</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">+</a>
            <span class="string">&quot;instead use extractors to pattern match on non-leaf nodes.&quot;</span>
          <span class="delimiter">)</span>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#966751" title="Typers.this.global.Symbol">clazz</a>, <a href="#966767" title="Typers.this.global.Symbol">ancestor</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]" id="507718">parentTypes</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="942996">templ</a>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="Typers.this.global.Template">Template</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#942996" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441748" title="=&gt; List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="keyword">try</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="966779">clazz</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>

        <span class="comment">// Normalize supertype and mixins so that supertype is always a class, not a trait.</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="966780">supertpt</a> = <a href="#507782" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#942996" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441748" title="=&gt; List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Tree">head</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="966781">firstParent</a> = <a href="#966780" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span class="keyword">var</span> <a title="List[Typers.this.global.Tree]" id="966782">mixins</a> = <a href="#942996" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441748" title="=&gt; List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Typers.this.global.Tree]">tail</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <a href="#507777" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a>
        <span class="comment">// If first parent is a trait, make it first mixin and add its superclass as first parent</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#966780" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#966780" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; Typers.this.global.Symbol">initialize</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#966786" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="966859">supertpt1</a> = <a href="#507777" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#966780" title="Typers.this.global.Tree">supertpt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#966859" title="Typers.this.global.Tree">supertpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#966782" title="List[Typers.this.global.Tree]">mixins</a> = <a href="#966859" title="Typers.this.global.Tree">supertpt1</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#966782" title="List[Typers.this.global.Tree]">mixins</a>
            <a href="#966780" title="Typers.this.global.Tree">supertpt</a> = <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#966859" title="Typers.this.global.Tree">supertpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Typers.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Type">head</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</a> <a href="#966780" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="comment">// Determine</span>
        <span class="comment">//  - supertparams: Missing type parameters from supertype</span>
        <span class="comment">//  - supertpe: Given supertype, polymorphic in supertparams</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="966783">supertparams</a> = <span title="List[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#966780" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441035" title="=&gt; Boolean">hasSymbol</a><span class="delimiter">)</span> <a href="#966780" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> <span class="keyword">else</span> List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="966784">supertpe</a> = <a href="#966780" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#966783" title="List[Typers.this.global.Symbol]">supertparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <a href="#966784" title="Typers.this.global.Type">supertpe</a> = <a href="../symtab/Types.scala.html#546990" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#966783" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="../symtab/Types.scala.html#478817" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#966784" title="Typers.this.global.Type">supertpe</a>, <a href="#966783" title="List[Typers.this.global.Symbol]">supertparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#966904" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// A method to replace a super reference by a New in a supercall</span>
        <span class="keyword">def</span> <a title="(scall: Typers.this.global.Tree)Typers.this.global.Tree" id="966785">transformSuperCall</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="966932">scall</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">(</span><a href="#966932" title="Typers.this.global.Tree">scall</a>: @<a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Apply">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="966935">fn</a>, <a title="List[Typers.this.global.Tree]" id="966936">args</a><span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560309" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#966932" title="Typers.this.global.Tree">scall</a>, <a href="#966785" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><span class="delimiter">(</span><a href="#966935" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span>, <a href="#966936" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <span class="delimiter">(</span><a href="#966959" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441040" title="=&gt; x$15.type">duplicate</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560313" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span>
              <a href="#966932" title="Typers.this.global.Tree">scall</a>,
              <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.New)Typers.this.global.New">atPos</a><span class="delimiter">(</span><a href="#966780" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443784" title="(tpt: Typers.this.global.Tree)Typers.this.global.New">New</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#966784" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</a> <a href="#966784" title="Typers.this.global.Type">supertpe</a><span class="delimiter">)</span>,
              <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551041" title="(stats: List[Typers.this.global.treeInfo.trees.Tree])Typers.this.global.treeInfo.trees.Tree">firstConstructor</a><span class="delimiter">(</span><a href="#942996" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441752" title="=&gt; List[Typers.this.global.Tree]">body</a><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="List[Unit]" id="967026">constr</a> @ DefDef<span class="delimiter">(</span>_, _, _, <a title="List[List[Typers.this.global.ValDef]]" id="967049">vparamss</a>, _, <a title="Typers.this.global.Block" id="967050">cbody</a> @ Block<span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="967055">cstats</a>, <a title="Typers.this.global.Tree" id="967056">cunit</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <span class="comment">// Convert constructor body to block in environment and typecheck it</span>
            <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[Typers.this.global.Tree], List[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[Typers.this.global.Tree]" id="967058">preSuperStats</a>, <a href="../../../Tuple2.scala.html#53404" title="List[Typers.this.global.Tree]" id="967059">rest</a><span class="delimiter">)</span> = <a href="#967055" title="List[Typers.this.global.Tree]">cstats</a> <a href="../../../collection/immutable/List.scala.html#49170" title="(p: Typers.this.global.Tree =&gt; Boolean)(List[Typers.this.global.Tree], List[Typers.this.global.Tree])">span</a> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551038" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSuperConstrCall</a><span class="delimiter">(</span><a href="#967073" title="Typers.this.global.Tree">_</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Tree" id="967061">scall</a>, <a href="../../../Tuple2.scala.html#53404" title="List[Typers.this.global.Tree]" id="967062">upToSuperStats</a><span class="delimiter">)</span> =
              <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="keyword">if</span> <span class="delimiter">(</span><a href="#967059" title="List[Typers.this.global.Tree]">rest</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.EmptyTree.type, _2: List[Typers.this.global.Tree])(Typers.this.global.EmptyTree.type, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#967058" title="List[Typers.this.global.Tree]">preSuperStats</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Tree, _2: List[Typers.this.global.Tree])(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#967059" title="List[Typers.this.global.Tree]">rest</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Tree">head</a>, <a href="#967058" title="List[Typers.this.global.Tree]">preSuperStats</a> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</a> <a href="#967059" title="List[Typers.this.global.Tree]">rest</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Tree">head</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="967063">cstats1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#967062" title="List[Typers.this.global.Tree]">upToSuperStats</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <span class="delimiter">(</span><a href="#967167" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441040" title="=&gt; x$19.type">duplicate</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Block" id="967064">cbody1</a> = <a href="#967061" title="Typers.this.global.Tree">scall</a> <span title="Typers.this.global.Block" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Block">Apply</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560291" title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#967050" title="Typers.this.global.Block">cbody</a>, <a href="#967063" title="List[Typers.this.global.Tree]">cstats1</a>.<a href="../../../collection/TraversableLike.scala.html#49085" title="=&gt; List[Typers.this.global.Tree]">init</a>,
                           <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#966783" title="List[Typers.this.global.Symbol]">supertparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#967056" title="Typers.this.global.Tree">cunit</a>.<a href="../../../reflect/generic/Trees.scala.html#441040" title="=&gt; cunit.type">duplicate</a>
                           <span class="keyword">else</span> <a href="#966785" title="(scall: Typers.this.global.Tree)Typers.this.global.Tree">transformSuperCall</a><span class="delimiter">(</span><a href="#967061" title="Typers.this.global.Tree">scall</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Block">_</span> =&gt;
                <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560291" title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#967050" title="Typers.this.global.Block">cbody</a>, <a href="#967063" title="List[Typers.this.global.Tree]">cstats1</a>, <a href="#967056" title="Typers.this.global.Tree">cunit</a>.<a href="../../../reflect/generic/Trees.scala.html#441040" title="=&gt; cunit.type">duplicate</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="Typers.this.Context" id="967065">outercontext</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508466" title="=&gt; Typers.this.Context">outer</a>
            <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#966779" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="967066">cscope</a> = <a href="#967065" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#967026" title="Typers.this.global.DefDef">constr</a>, <a href="#967065" title="Typers.this.Context">outercontext</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="967067">cbody2</a> = <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#967066" title="Typers.this.Context">cscope</a><span class="delimiter">)</span> <span class="comment">// called both during completion AND typing.</span>
                .<a href="#507716" title="(clazz: Typers.this.global.Symbol, cbody: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], enclTparams: List[Typers.this.global.Symbol], vparamss: List[List[Typers.this.global.ValDef]])Typers.this.global.Tree">typePrimaryConstrBody</a><span class="delimiter">(</span><a href="#966779" title="Typers.this.global.Symbol">clazz</a>,
                  <a href="#967064" title="Typers.this.global.Block">cbody1</a>, <a href="#966783" title="List[Typers.this.global.Symbol]">supertparams</a>, <a href="#966779" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509286" title="=&gt; List[Typers.this.global.Symbol]">unsafeTypeParams</a>, <a href="#967049" title="List[List[Typers.this.global.ValDef]]">vparamss</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Typers.this.global.ValDef]],List[Typers.this.global.ValDef],List[List[Typers.this.global.ValDef]]])List[List[Typers.this.global.ValDef]]">map</a> <span class="delimiter">(</span><a href="#967235" title="List[Typers.this.global.ValDef]">_</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.ValDef,List[Typers.this.global.ValDef]]" class="delimiter">(</a><a href="#967252" title="Typers.this.global.ValDef">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441040" title="=&gt; x$21.type">duplicate</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

            <a href="#967061" title="Typers.this.global.Tree">scall</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Apply</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.treeInfo.trees.Tree" id="967317">sarg</a> = <a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551068" title="(tree: Typers.this.global.treeInfo.trees.Tree)Typers.this.global.treeInfo.trees.Tree">firstArgument</a><span class="delimiter">(</span><a href="#967061" title="Typers.this.global.Tree">scall</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#967317" title="Typers.this.global.treeInfo.trees.Tree">sarg</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#966784" title="Typers.this.global.Type">supertpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#966781" title="Typers.this.global.Symbol">firstParent</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#967317" title="Typers.this.global.treeInfo.trees.Tree">sarg</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.treeInfo.trees.Position">pos</a>, <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">firstParent</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; is a trait; does not take constructor arguments&quot;)" class="string">&quot; is a trait; does not take constructor arguments&quot;</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#966783" title="List[Typers.this.global.Symbol]">supertparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#966780" title="Typers.this.global.Tree">supertpt</a> = <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#967067" title="Typers.this.global.Tree">cbody2</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</a> <a href="#966780" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#966783" title="List[Typers.this.global.Symbol]">supertparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#966780" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;missing type arguments&quot;)" class="string">&quot;missing type arguments&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.treeInfo.trees.ValDef])(List[Typers.this.global.Tree], List[Typers.this.global.treeInfo.trees.ValDef])" class="delimiter">(</a><a href="#967063" title="List[Typers.this.global.Tree]">cstats1</a>, <a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551043" title="(stats: List[Typers.this.global.treeInfo.trees.Tree])List[Typers.this.global.treeInfo.trees.ValDef]">preSuperFields</a><span class="delimiter">(</span><a href="#942996" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441752" title="=&gt; List[Typers.this.global.Tree]">body</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.treeInfo.trees.ValDef] =&gt; scala.collection.IterableLike[Typers.this.global.treeInfo.trees.ValDef,List[Typers.this.global.treeInfo.trees.ValDef]])(List[Typers.this.global.Tree], List[Typers.this.global.treeInfo.trees.ValDef])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.treeInfo.trees.ValDef],Typers.this.global.treeInfo.trees.ValDef]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (Typers.this.global.Tree, Typers.this.global.treeInfo.trees.ValDef) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Unit,List[Unit]])List[Unit]">map</a> <span class="delimiter">{</span>
              <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="967395">ldef</a>, <a title="Typers.this.global.treeInfo.trees.ValDef" id="967396">gdef</a><span class="delimiter">)</span> =&gt; <a href="#967396" title="Typers.this.global.treeInfo.trees.ValDef">gdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Typers.this.global.treeInfo.trees.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.treeInfo.trees.Type)Unit">tpe</a> = <a href="#967395" title="Typers.this.global.Tree">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#966783" title="List[Typers.this.global.Symbol]">supertparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#966780" title="Typers.this.global.Tree">supertpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;missing type arguments&quot;)" class="string">&quot;missing type arguments&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
<span class="comment">/* experimental: early types as type arguments
        val hasEarlyTypes = templ.body exists (treeInfo.isEarlyTypeDef)
        val earlyMap = new EarlyMap(clazz)
        List.mapConserve(supertpt :: mixins){ tpt =&gt;
          val tpt1 = checkNoEscaping.privates(clazz, tpt)
          if (hasEarlyTypes) tpt1 else tpt1 setType earlyMap(tpt1.tpe)
        }
*/</span>

        <span class="comment">//Console.println(&quot;parents(&quot;+clazz&quot;) = &quot;+supertpt :: mixins);//DEBUG</span>
        <a href="#966780" title="Typers.this.global.Tree">supertpt</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#966782" title="List[Typers.this.global.Tree]">mixins</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="967450">tpt</a> =&gt; <a href="#507688" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#964621" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#966779" title="Typers.this.global.Symbol">clazz</a>, <a href="#967450" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="List[Typers.this.global.TypeTree]" id="967457">ex</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#942996" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="TypeDiagnostics.scala.html#507660" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#942996" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#967457" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507923" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/** &lt;p&gt;Check that&lt;/p&gt;
     *  &lt;ul&gt;
     *    &lt;li&gt;all parents are class types,&lt;/li&gt;
     *    &lt;li&gt;first parent class is not a mixin; following classes are mixins,&lt;/li&gt;
     *    &lt;li&gt;final classes are not inherited,&lt;/li&gt;
     *    &lt;li&gt;
     *      sealed classes are only inherited by classes which are
     *      nested within definition of base class, or that occur within same
     *      statement sequence,
     *    &lt;/li&gt;
     *    &lt;li&gt;self-type of current class is a subtype of self-type of each parent class.&lt;/li&gt;
     *    &lt;li&gt;no two parents define same symbol.&lt;/li&gt;
     *  &lt;/ul&gt;
     */</span>
    <span class="keyword">def</span> <a title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit" id="507719">validateParentClasses</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="967468">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="967469">selfType</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit" id="967471">validateParentClass</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="967472">parent</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Symbol" id="967473">superclazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="967474">psym</a> = <a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; Typers.this.global.Symbol">initialize</a>
          <a href="#507681" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#967472" title="Typers.this.global.Tree">parent</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#967474" title="Typers.this.global.Symbol">psym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#967473" title="Typers.this.global.Symbol">superclazz</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#967474" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="967480">ps</a> = <a href="#967474" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Typers.this.global.Type]">parents</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967480" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967473" title="Typers.this.global.Symbol">superclazz</a>.<a href="../symtab/Symbols.scala.html#509297" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a><span class="delimiter">(</span><a href="#967480" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Type">head</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;illegal inheritance; super&quot;)" class="string">&quot;illegal inheritance; super&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#967473" title="Typers.this.global.Symbol">superclazz</a><span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot;\012 is not a subclass of the super&quot;)" class="string">&quot;\n is not a subclass of the super&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#967480" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Type">head</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span title="(x$1: Any)java.lang.String">+</span>
                      <span title="java.lang.String(&quot;\012 of the mixin &quot;)" class="string">&quot;\n of the mixin &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#967474" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">psym</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; needs to be a trait to be mixed in&quot;)" class="string">&quot; needs to be a trait to be mixed in&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#967474" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435297" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;illegal inheritance from final &quot;)" class="string">&quot;illegal inheritance from final &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#967474" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#967474" title="Typers.this.global.Symbol">psym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435314" title="=&gt; Boolean">isSealed</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// AnyVal is sealed, but we have to let the value classes through manually</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500950" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#501040" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#967474" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#509351" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../symtab/Definitions.scala.html#508366" title="(sym: Typers.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#967474" title="Typers.this.global.Symbol">psym</a> <a href="../../../reflect/generic/Symbols.scala.html#435363" title="(sym: Typers.this.global.Symbol)Unit">addChild</a> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="keyword">else</span>
              <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;illegal inheritance from sealed &quot;)" class="string">&quot;illegal inheritance from sealed &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#967474" title="Typers.this.global.Symbol">psym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#967469" title="Typers.this.global.Type">selfType</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507165" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435304" title="=&gt; Boolean">isSynthetic</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>   <span class="comment">// don't check synthetic concrete classes for virtuals (part of DEVIRTUALIZE)</span>
              <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469803" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">noSelfCheck</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>  <span class="comment">// setting to suppress this very check</span>
              <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967469" title="Typers.this.global.Type">selfType</a>.<a href="../symtab/Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <span class="delimiter">{</span>
            <span class="comment">//Console.println(context.owner);//DEBUG</span>
            <span class="comment">//Console.println(context.owner.unsafeTypeParams);//DEBUG</span>
            <span class="comment">//Console.println(List.fromArray(context.owner.info.closure));//DEBUG</span>
            <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;illegal inheritance;\012 self-type &quot;)" class="string">&quot;illegal inheritance;\n self-type &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                  <a href="#967469" title="Typers.this.global.Type">selfType</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; does not conform to &quot;)" class="string">&quot; does not conform to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#967472" title="Typers.this.global.Tree">parent</a> <span title="(x$1: Any)java.lang.String">+</span>
                  <span title="java.lang.String(&quot;\'s selftype &quot;)" class="string">&quot;'s selftype &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507165" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/StandardScalaSettings.scala.html#469844" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">explaintypes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="Infer.scala.html#507804" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Unit">explainTypes</a><span class="delimiter">(</span><a href="#967469" title="Typers.this.global.Type">selfType</a>, <a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507165" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#967468" title="List[Typers.this.global.Tree]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="967511">p</a> =&gt; <a href="#967511" title="Typers.this.global.Tree">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#967472" title="Typers.this.global.Tree">parent</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#967511" title="Typers.this.global.Tree">p</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#967474" title="Typers.this.global.Symbol">psym</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967474" title="Typers.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#509183" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#967472" title="Typers.this.global.Tree">parent</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">psym</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; is inherited twice&quot;)" class="string">&quot; is inherited twice&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967468" title="List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967468" title="List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Tree">head</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="967543">p</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">parents</a><span class="delimiter">)</span> <a href="#967471" title="(parent: Typers.this.global.Tree, superclazz: Typers.this.global.Symbol)Unit">validateParentClass</a><span class="delimiter">(</span><a href="#967543" title="Typers.this.global.Tree">p</a>, <a href="#967468" title="List[Typers.this.global.Tree]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Tree">head</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>

<span class="comment">/*
      if (settings.Xshowcls.value != &quot;&quot; &amp;&amp;
          settings.Xshowcls.value == context.owner.fullName)
        println(&quot;INFO &quot;+context.owner+
                &quot;, baseclasses = &quot;+(context.owner.info.baseClasses map (_.fullName))+
                &quot;, lin = &quot;+(context.owner.info.baseClasses map (context.owner.thisType.baseType)))
*/</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(classinfo: Typers.this.global.ClassInfoType)Unit" id="507720">checkFinitary</a><span class="delimiter">(</span><a title="Typers.this.global.ClassInfoType" id="967546">classinfo</a>: <a href="../symtab/Types.scala.html#478759" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="967548">clazz</a> = <a href="#967546" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#546748" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="967570">tparam</a> &lt;- <a href="#967548" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">typeParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#967546" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#546762" title="(tparam: Typers.this.global.Symbol)Set[Typers.this.global.Symbol]">expansiveRefs</a><span class="delimiter">(</span><a href="#967570" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#65655" title="(elem: Typers.this.global.Symbol)Boolean">contains</a> <a href="#967570" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#967570" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;class graph is not finitary because type parameter &quot;)" class="string">&quot;class graph is not finitary because type parameter &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#967570" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; is expansively recursive&quot;)" class="string">&quot; is expansively recursive&quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.ClassInfoType" id="967578">newinfo</a> = <a href="../symtab/Types.scala.html#546740" title="(parents: List[Typers.this.global.Type], decls: Typers.this.global.Scope, typeSymbol: Typers.this.global.Symbol)Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
            <a href="#967546" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#546744" title="=&gt; List[Typers.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#967601" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507185" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#967570" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507923" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
            <a href="#967546" title="Typers.this.global.ClassInfoType">classinfo</a>.<a href="../symtab/Types.scala.html#546746" title="=&gt; Typers.this.global.Scope">decls</a>,
            <a href="#967548" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <a href="#967548" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)clazz.type">setInfo</a> <span class="delimiter">{</span>
            <a href="#967548" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.PolyType">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="967648">tparams</a>, _<span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#546990" title="(typeParams: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#967648" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#967578" title="Typers.this.global.ClassInfoType">newinfo</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.ClassInfoType">_</span> =&gt; <a href="#967578" title="Typers.this.global.ClassInfoType">newinfo</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param cdef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree" id="507721">typedClassDef</a><span class="delimiter">(</span><a title="Typers.this.global.ClassDef" id="967658">cdef</a>: <a href="../../../reflect/generic/Trees.scala.html#434042" title="Typers.this.global.ClassDef">ClassDef</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
<span class="comment">//      attributes(cdef)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="967660">clazz</a> = <a href="#967658" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="967661">typedMods</a> = <a href="#507729" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#967658" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441721" title="=&gt; Typers.this.global.Modifiers">mods</a><span class="delimiter">)</span>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#967660" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="#507691" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#967658" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441725" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="967662">tparams1</a> = <a href="#967658" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441725" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</a> <span class="delimiter">(</span><a href="#507735" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="967663">impl1</a> = <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508543" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#967658" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441727" title="=&gt; Typers.this.global.Template">impl</a>, <a href="#967660" title="Typers.this.global.Symbol">clazz</a>, <a href="../symtab/Scopes.scala.html#514352" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#479020" title="Typers.this.global.Scope">Scope</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="#507728" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#967658" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441727" title="=&gt; Typers.this.global.Template">impl</a>, <a href="#507718" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#967658" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441727" title="=&gt; Typers.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="967664">impl2</a> = <a href="#507723" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">typerAddSyntheticMethods</a><span class="delimiter">(</span><a href="#967663" title="Typers.this.global.Template">impl1</a>, <a href="#967660" title="Typers.this.global.Symbol">clazz</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#967660" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507957" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><a href="#967660" title="Typers.this.global.Symbol">clazz</a> <a href="../symtab/Symbols.scala.html#509296" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#507957" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="TypeDiagnostics.scala.html#507618" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionWarning</a><span class="delimiter">(</span><a href="#967658" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>,
          <span class="string">&quot;subclassing Classfile does not\n&quot;</span>+
          <span class="string">&quot;make your annotation visible at runtime.  If that is what\n&quot;</span><span title="java.lang.String(&quot;subclassing Classfile does not\012make your annotation visible at runtime.  If that is what\012you want, you must write the annotation class in Java.&quot;)">+</span>
          <span class="string">&quot;you want, you must write the annotation class in Java.&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="967722">ann</a> &lt;- <a href="#967660" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509120" title="(cls: Typers.this.global.Symbol)Option[Typers.this.global.AnnotationInfo]">getAnnotation</a><a href="../../../Option.scala.html#48491" title="(f: Typers.this.global.AnnotationInfo =&gt; Unit)Unit" class="delimiter">(</a><a href="../symtab/Definitions.scala.html#508313" title="=&gt; Typers.this.global.Symbol">DeprecatedAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="967723">m</a> = <a href="Namers.scala.html#507384" title="(clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Symbol">companionModuleOf</a><span class="delimiter">(</span><a href="#967660" title="Typers.this.global.Symbol">clazz</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#967723" title="Typers.this.global.Symbol">m</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#967723" title="Typers.this.global.Symbol">m</a>.<a href="../symtab/Symbols.scala.html#509335" title="=&gt; Typers.this.global.Symbol">moduleClass</a>.<a href="../symtab/Symbols.scala.html#509118" title="(annot: Typers.this.global.AnnotationInfo)Unit">addAnnotation</a><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#533292" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#967722" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#532479" title="=&gt; Typers.this.global.Type">atp</a>, <a href="#967722" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#532481" title="=&gt; List[Typers.this.global.Tree]">args</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560281" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], impl: Typers.this.global.Template)Typers.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#967658" title="Typers.this.global.ClassDef">cdef</a>, <a href="#967661" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#967658" title="Typers.this.global.ClassDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441723" title="=&gt; Typers.this.global.TypeName">name</a>, <a href="#967662" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#967664" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span>
        .<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.ClassDef">setType</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param mdef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree" id="507722">typedModuleDef</a><span class="delimiter">(</span><a title="Typers.this.global.ModuleDef" id="967761">mdef</a>: <a href="../../../reflect/generic/Trees.scala.html#434045" title="Typers.this.global.ModuleDef">ModuleDef</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="comment">//Console.println(&quot;sourcefile of &quot; + mdef.symbol + &quot;=&quot; + mdef.symbol.sourceFile)</span>
<span class="comment">//      attributes(mdef)</span>
      <span class="comment">// initialize all constructors of the linked class: the type completer (Namer.methodSig)</span>
      <span class="comment">// might add default getters to this object. example: &quot;object T; class T(x: Int = 1)&quot;</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="967763">linkedClass</a> = <a href="Namers.scala.html#507385" title="(module: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Symbol">companionClassOf</a><span class="delimiter">(</span><a href="#967761" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#967763" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="967800">c</a> &lt;- <a href="#967763" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507193" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">alternatives</a><span class="delimiter">)</span>
          <a href="#967800" title="Typers.this.global.Symbol">c</a>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; c.type">initialize</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="967764">clazz</a> = <a href="#967761" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509335" title="=&gt; Typers.this.global.Symbol">moduleClass</a>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree] =&gt; List[Typers.this.global.Tree]" id="967765">maybeAddSerializable</a> = <span class="delimiter">(</span>l: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> =&gt;
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#967763" title="Typers.this.global.Symbol">linkedClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967763" title="Typers.this.global.Symbol">linkedClass</a>.<a href="../symtab/Symbols.scala.html#509209" title="=&gt; Boolean">isSerializable</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#967764" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509209" title="=&gt; Boolean">isSerializable</a><span class="delimiter">)</span> <a href="#967807" title="List[Typers.this.global.Tree]">l</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#967764" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509293" title="()Unit">makeSerializable</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="#967807" title="List[Typers.this.global.Tree]">l</a> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</a> <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508051" title="=&gt; Typers.this.global.Symbol">SerializableClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="967766">typedMods</a> = <a href="#507729" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#967761" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441858" title="=&gt; Typers.this.global.Modifiers">mods</a><span class="delimiter">)</span>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#967764" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="967767">impl1</a> = <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508543" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#967761" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441862" title="=&gt; Typers.this.global.Template">impl</a>, <a href="#967764" title="Typers.this.global.Symbol">clazz</a>, <a href="../symtab/Scopes.scala.html#514352" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#479020" title="Typers.this.global.Scope">Scope</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="#507728" title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template">typedTemplate</a><span class="delimiter">(</span><a href="#967761" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441862" title="=&gt; Typers.this.global.Template">impl</a>, <a href="../../../Function1.scala.html#53453" title="(v1: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">maybeAddSerializable</a><span class="delimiter">(</span><a href="#507718" title="(templ: Typers.this.global.Template)List[Typers.this.global.Tree]">parentTypes</a><span class="delimiter">(</span><a href="#967761" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441862" title="=&gt; Typers.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Template" id="967768">impl2</a> = <a href="#507723" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">typerAddSyntheticMethods</a><span class="delimiter">(</span><a href="#967767" title="Typers.this.global.Template">impl1</a>, <a href="#967764" title="Typers.this.global.Symbol">clazz</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>

      <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560283" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, impl: Typers.this.global.Template)Typers.this.global.ModuleDef">ModuleDef</a><span class="delimiter">(</span><a href="#967761" title="Typers.this.global.ModuleDef">mdef</a>, <a href="#967766" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#967761" title="Typers.this.global.ModuleDef">mdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441860" title="=&gt; Typers.this.global.TermName">name</a>, <a href="#967768" title="Typers.this.global.Template">impl2</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.ModuleDef">setType</a> <a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>
    <span class="comment">/** In order to override this in the TreeCheckers Typer so synthetics aren't re-added
     *  all the time, it is exposed here the module/class typing methods go through it.
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template" id="507723">typerAddSyntheticMethods</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="958337">templ</a>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="Typers.this.global.Template">Template</a>, <a title="Typers.this.global.Symbol" id="958338">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.Context" id="958339">context</a>: <a href="Contexts.scala.html#507359" title="Typers.this.Context">Context</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="Typers.this.global.Template">Template</a> = <span class="delimiter">{</span>
      <a href="SyntheticMethods.scala.html#507551" title="(templ: Typers.this.global.Template, clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Template">addSyntheticMethods</a><span class="delimiter">(</span><a href="#958337" title="Typers.this.global.Template">templ</a>, <a href="#958338" title="Typers.this.global.Symbol">clazz</a>, <a href="#958339" title="Typers.this.Context">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param stat ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="507724">addGetterSetter</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="967883">stat</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#967883" title="Typers.this.global.Tree">stat</a> <span title="List[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">ValDef</span><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="967894">mods</a>, <a title="Typers.this.global.TermName" id="967895">name</a>, <a title="Typers.this.global.Tree" id="967896">tpt</a>, <a title="Typers.this.global.Tree" id="967897">rhs</a><span class="delimiter">)</span>
        <span class="comment">// PRIVATE | LOCAL are fields generated for primary constructor arguments</span>
        <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967894" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435306" title="=&gt; Boolean">isPrivateLocal</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967883" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509232" title="=&gt; Boolean">isModuleVar</a> =&gt;
        <span class="keyword">val</span> <a title="Boolean" id="967898">isDeferred</a> = <a href="#967894" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="967899">value</a> = <a href="#967883" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
        <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="967900">allAnnots</a> = <a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509116" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967898" title="Boolean">isDeferred</a><span class="delimiter">)</span>
          <span class="comment">// keepClean: by default annotations go to the field, except if the field is</span>
          <span class="comment">// generated for a class parameter (PARAMACCESSOR).</span>
          <a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509117" title="(annots: List[Typers.this.global.AnnotationInfoBase])value.type">setAnnotations</a><span class="delimiter">(</span><a href="#507725" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#967900" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <a href="../symtab/Definitions.scala.html#507979" title="=&gt; Typers.this.global.Symbol">FieldTargetClass</a>, keepClean = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#967894" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435308" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="967901">getter</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#967898" title="Boolean">isDeferred</a><span class="delimiter">)</span> <a href="#967899" title="Typers.this.global.Symbol">value</a> <span class="keyword">else</span> <a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509343" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#967901" title="Typers.this.global.Symbol">getter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#967883" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#967901" title="Typers.this.global.Symbol">getter</a>.<a href="../../../reflect/generic/Symbols.scala.html#435388" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#967901" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">getter</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; is defined twice&quot;)" class="string">&quot; is defined twice&quot;</span><span class="delimiter">)</span>

        <a href="#967901" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#509117" title="(annots: List[Typers.this.global.AnnotationInfoBase])getter.type">setAnnotations</a><span class="delimiter">(</span><a href="#507725" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#967900" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <a href="../symtab/Definitions.scala.html#507981" title="=&gt; Typers.this.global.Symbol">GetterTargetClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435299" title="=&gt; Boolean">isLazy</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#967883" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="967994">vdef</a> = <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560284" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#967883" title="Typers.this.global.Tree">stat</a>, <a href="#967894" title="Typers.this.global.Modifiers">mods</a> <a href="../../../reflect/generic/Trees.scala.html#440989" title="(flag: Long)Typers.this.global.Modifiers">|</a> <span title="Long(4L)">PRIVATE</span> <a href="../../../reflect/generic/Trees.scala.html#440989" title="(flag: Long)Typers.this.global.Modifiers">|</a> <span title="Long(524288L)">LOCAL</span>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#516887" title="(name: Typers.this.global.TermName)Typers.this.global.TermName">getterToLocal</a><span class="delimiter">(</span><a href="#967895" title="Typers.this.global.TermName">name</a><span class="delimiter">)</span>, <a href="#967896" title="Typers.this.global.Tree">tpt</a>, <a href="#967897" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.DefDef" id="967995">getterDef</a>: <a href="../../../reflect/generic/Trees.scala.html#434052" title="Typers.this.global.DefDef">DefDef</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.DefDef)Typers.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#967994" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Typers.this.global.DefDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#967898" title="Boolean">isDeferred</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.DefDef" id="968013">r</a> = <a href="../ast/Trees.scala.html#479132" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#967901" title="Typers.this.global.Symbol">getter</a>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
              <a href="#968013" title="Typers.this.global.DefDef">r</a>.<a href="../../../reflect/generic/Trees.scala.html#441799" title="=&gt; Typers.this.global.Tree">tpt</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.TypeTree" class="delimiter">[</span><a href="../ast/Trees.scala.html#479146" title="Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">]</span>.<a href="../ast/Trees.scala.html#534788" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#967896" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span> <span class="comment">// keep type tree of original abstract field</span>
              <a href="#968013" title="Typers.this.global.DefDef">r</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="968036">rhs</a> = <a href="../Global.scala.html#478214" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507288" title="(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479142" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#967899" title="Typers.this.global.Symbol">value</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.DefDef" id="968037">r</a> = <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span>
                <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.DefDef)Typers.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#967901" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../ast/Trees.scala.html#479132" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#967901" title="Typers.this.global.Symbol">getter</a>, <a href="#968036" title="Typers.this.global.gen.global.Tree">rhs</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.DefDef" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434052" title="Typers.this.global.DefDef">DefDef</a><span class="delimiter">]</span>
              <a href="#968037" title="Typers.this.global.DefDef">r</a>.<a href="../../../reflect/generic/Trees.scala.html#441799" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: Typers.this.global.Position)r.tpt.type">setPos</a><span class="delimiter">(</span><a href="#967896" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span>
              <a href="#968037" title="Typers.this.global.DefDef">r</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#507688" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#964621" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#967901" title="Typers.this.global.Symbol">getter</a>, <a href="#967995" title="Typers.this.global.DefDef">getterDef</a>.<a href="../../../reflect/generic/Trees.scala.html#441799" title="=&gt; Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(setter: Typers.this.global.Symbol, isBean: Boolean)Typers.this.global.DefDef" id="967996">setterDef</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="968102">setter</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="Boolean" id="968104">isBean</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434052" title="Typers.this.global.DefDef">DefDef</a> = <span class="delimiter">{</span>
            <a href="#968102" title="Typers.this.global.Symbol">setter</a> <a href="../symtab/Symbols.scala.html#509117" title="(annots: List[Typers.this.global.AnnotationInfoBase])setter.type">setAnnotations</a> <a href="#507725" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#967900" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#968104" title="Boolean">isBean</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#507987" title="=&gt; Typers.this.global.Symbol">BeanSetterTargetClass</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#507983" title="=&gt; Typers.this.global.Symbol">SetterTargetClass</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.TermTree with Serializable" id="968105">defTree</a> =
              <span title="&lt;none&gt; extends Typers.this.global.TermTree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#967894" title="Typers.this.global.Modifiers">mods</a> <a href="../../../reflect/generic/Trees.scala.html#440985" title="(flag: Long)Boolean">hasFlag</a> <span title="Long(16L)">DEFERRED</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#968102" title="Typers.this.global.Symbol">setter</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(8589934592L)">OVERLOADED</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>
              <span class="keyword">else</span> <a href="../../../reflect/generic/Trees.scala.html#443611" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479142" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#967899" title="Typers.this.global.Symbol">value</a><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#479144" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#968102" title="Typers.this.global.Symbol">setter</a>.<a href="../symtab/Symbols.scala.html#509288" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; List[Typers.this.global.Symbol]">head</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Symbol">head</a><span class="delimiter">)</span><span class="delimiter">)</span>


            <a href="#507769" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#967994" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479132" title="(sym: Typers.this.global.Symbol, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#968102" title="Typers.this.global.Symbol">setter</a>, <a href="#968105" title="&lt;none&gt; extends Typers.this.global.TermTree with Serializable">defTree</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.DefDef" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434052" title="Typers.this.global.DefDef">DefDef</a><span class="delimiter">]</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]" id="967997">gs</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">ListBuffer</a><span class="delimiter">[</span>DefDef<span class="delimiter">]</span>
          <a href="#967997" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<a href="../../../collection/mutable/BufferLike.scala.html#61817" title="(elems: Typers.this.global.DefDef*)Unit">append</a><span class="delimiter">(</span><a href="#967995" title="Typers.this.global.DefDef">getterDef</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#967894" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435300" title="=&gt; Boolean">isMutable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="968187">setter</a> = <a href="#967901" title="Typers.this.global.Symbol">getter</a>.<a href="../symtab/Symbols.scala.html#509344" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">setter</a><span class="delimiter">(</span><a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="#967997" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<a href="../../../collection/mutable/BufferLike.scala.html#61817" title="(elems: Typers.this.global.DefDef*)Unit">append</a><span class="delimiter">(</span><a href="#967996" title="(setter: Typers.this.global.Symbol, isBean: Boolean)Typers.this.global.DefDef">setterDef</a><span class="delimiter">(</span><a href="#968187" title="Typers.this.global.Symbol">setter</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478374" title="=&gt; Boolean">forMSIL</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509119" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508307" title="=&gt; Typers.this.global.Symbol">BeanPropertyAttr</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
              <a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509119" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508309" title="=&gt; Typers.this.global.Symbol">BooleanBeanPropertyAttr</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="String" id="968194">nameSuffix</a> = <a href="#967895" title="Typers.this.global.TermName">name</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="delimiter">(</a><span class="delimiter">)</span>.<a href="../../../collection/immutable/StringLike.scala.html#56555" title="=&gt; String">capitalize</a>
            <span class="keyword">val</span> <a title="java.lang.String" id="968195">beanGetterName</a> =
              <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509119" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508309" title="=&gt; Typers.this.global.Symbol">BooleanBeanPropertyAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;is&quot;)" class="string">&quot;is&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;get&quot;)" class="string">&quot;get&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
              <a href="#968194" title="String">nameSuffix</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="968196">beanGetter</a> = <a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507193" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../reflect/generic/StdNames.scala.html#434009" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">beanGetterName</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#968196" title="Typers.this.global.Symbol">beanGetter</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// the namer decides wether to generate these symbols or not. at that point, we don't</span>
              <span class="comment">// have symbolic information yet, so we only look for annotations named &quot;BeanProperty&quot;.</span>
              <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#967883" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;implementation limitation: the BeanProperty annotation cannot be used in a type alias or renamed import&quot;)" class="string">&quot;implementation limitation: the BeanProperty annotation cannot be used in a type alias or renamed import&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#968196" title="Typers.this.global.Symbol">beanGetter</a>.<a href="../symtab/Symbols.scala.html#509117" title="(annots: List[Typers.this.global.AnnotationInfoBase])beanGetter.type">setAnnotations</a><span class="delimiter">(</span><a href="#507725" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#967900" title="List[Typers.this.global.AnnotationInfo]">allAnnots</a>, <a href="../symtab/Definitions.scala.html#507985" title="=&gt; Typers.this.global.Symbol">BeanGetterTargetClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#967894" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435300" title="=&gt; Boolean">isMutable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#968196" title="Typers.this.global.Symbol">beanGetter</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="java.lang.String" id="968216">beanSetterName</a> = <span title="java.lang.String(&quot;set&quot;)" class="string">&quot;set&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#968194" title="String">nameSuffix</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="968217">beanSetter</a> = <a href="#967899" title="Typers.this.global.Symbol">value</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507193" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../../../reflect/generic/StdNames.scala.html#434009" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">beanSetterName</a><span class="delimiter">)</span>
              <span class="comment">// unlike for the beanGetter, the beanSetter body is generated here. see comment in Namers.</span>
              <a href="#967997" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<a href="../../../collection/mutable/BufferLike.scala.html#61817" title="(elems: Typers.this.global.DefDef*)Unit">append</a><span class="delimiter">(</span><a href="#967996" title="(setter: Typers.this.global.Symbol, isBean: Boolean)Typers.this.global.DefDef">setterDef</a><span class="delimiter">(</span><a href="#968217" title="Typers.this.global.Symbol">beanSetter</a>, isBean = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#967894" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <a href="#967997" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[Typers.this.global.DefDef]">toList</a> <span class="keyword">else</span> <a href="#967994" title="Typers.this.global.ValDef">vdef</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Typers.this.global.ValOrDefDef with Serializable)List[Typers.this.global.ValOrDefDef with Serializable]">::</a> <a href="#967997" title="scala.collection.mutable.ListBuffer[Typers.this.global.DefDef]">gs</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[Typers.this.global.DefDef]">toList</a>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="List[Typers.this.global.Tree]" id="968245">dd</a> @ DocDef<span class="delimiter">(</span><a title="Typers.this.global.DocComment" id="968248">comment</a>, <a title="Typers.this.global.Tree" id="968249">defn</a><span class="delimiter">)</span> =&gt;
        <a href="#507724" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">addGetterSetter</a><span class="delimiter">(</span><a href="#968249" title="Typers.this.global.Tree">defn</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.DocDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.DocDef,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="968269">stat</a> =&gt; <a href="../ast/Trees.scala.html#544538" title="(comment: Typers.this.global.DocComment, definition: Typers.this.global.Tree)Typers.this.global.DocDef">DocDef</a><span class="delimiter">(</span><a href="#968248" title="Typers.this.global.DocComment">comment</a>, <a href="#968269" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.DocDef">setPos</a> <a href="#968245" title="Typers.this.global.DocDef">dd</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Annotated</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="968307">annot</a>, <a title="Typers.this.global.Tree" id="968308">defn</a><span class="delimiter">)</span> =&gt;
        <a href="#507724" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">addGetterSetter</a><span class="delimiter">(</span><a href="#968308" title="Typers.this.global.Tree">defn</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Annotated)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Annotated,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="968328">stat</a> =&gt; <a href="../../../reflect/generic/Trees.scala.html#443309" title="(annot: Typers.this.global.Tree, arg: Typers.this.global.Tree)Typers.this.global.Annotated">Annotated</a><span class="delimiter">(</span><a href="#968307" title="Typers.this.global.Tree">annot</a>, <a href="#968328" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">_</span> =&gt;
        <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#967883" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * The annotations amongst `annots` that should go on a member of class
     * `memberClass` (field, getter, setter, beanGetter, beanSetter, param)
     * If 'keepClean' is true, annotations without any meta-annotation are kept
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]" id="507725">memberAnnots</a><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="967903">annots</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span>, <a title="Typers.this.global.Symbol" id="967904">memberClass</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="Boolean" id="967908">keepClean</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> = <span class="delimiter">{</span>

      <span class="keyword">def</span> <a title="(metaAnnots: List[Typers.this.global.AnnotationInfo], orElse: =&gt; Boolean)Boolean" id="967909">hasMatching</a><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="967911">metaAnnots</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.AnnotationInfo]">List</a><span class="delimiter">[</span>AnnotationInfo<span class="delimiter">]</span>, <a title="=&gt; Boolean" id="967912">orElse</a>: =&gt; Boolean<span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="comment">// either one of the meta-annotations matches the `memberClass`</span>
        <a href="#967911" title="List[Typers.this.global.AnnotationInfo]">metaAnnots</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.AnnotationInfo =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#967919" title="Typers.this.global.AnnotationInfo">_</a>.<a href="../symtab/AnnotationInfos.scala.html#532479" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#967904" title="Typers.this.global.Symbol">memberClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
        <span class="comment">// else, if there is no `target` meta-annotation at all, use the default case</span>
        <span class="delimiter">(</span><a href="#967911" title="List[Typers.this.global.AnnotationInfo]">metaAnnots</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Typers.this.global.AnnotationInfo =&gt; Boolean)Boolean">forall</a><span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="967931">ann</a> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="967932">annClass</a> = <a href="#967931" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#532479" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
          <a href="#967932" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507979" title="=&gt; Typers.this.global.Symbol">FieldTargetClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#967932" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507981" title="=&gt; Typers.this.global.Symbol">GetterTargetClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="#967932" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507983" title="=&gt; Typers.this.global.Symbol">SetterTargetClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#967932" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507985" title="=&gt; Typers.this.global.Symbol">BeanGetterTargetClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="#967932" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507987" title="=&gt; Typers.this.global.Symbol">BeanSetterTargetClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#967932" title="Typers.this.global.Symbol">annClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507989" title="=&gt; Typers.this.global.Symbol">ParamTargetClass</a>
        <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#967912" title="=&gt; Boolean">orElse</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// there was no meta-annotation on `ann`. Look if the class annotations of</span>
      <span class="comment">// `ann` has a `target` annotation, otherwise put `ann` only on fields.</span>
      <span class="keyword">def</span> <a title="(ann: Typers.this.global.AnnotationInfo)Boolean" id="967910">noMetaAnnot</a><span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="967957">ann</a>: <a href="../symtab/AnnotationInfos.scala.html#479085" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#967909" title="(metaAnnots: List[Typers.this.global.AnnotationInfo], orElse: =&gt; Boolean)Boolean">hasMatching</a><span class="delimiter">(</span><a href="#967957" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#532479" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509116" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>, <a href="#967908" title="Boolean">keepClean</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#967903" title="List[Typers.this.global.AnnotationInfo]">annots</a>.<a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Typers.this.global.AnnotationInfo =&gt; Boolean)List[Typers.this.global.AnnotationInfo]">filter</a><span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="967962">ann</a> =&gt; <a href="#967962" title="Typers.this.global.AnnotationInfo">ann</a>.<a href="../symtab/AnnotationInfos.scala.html#532479" title="=&gt; Typers.this.global.Type">atp</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="comment">// the annotation type has meta-annotations, e.g. @(foo @getter)</span>
        <span class="keyword">case</span> <span title="Boolean">AnnotatedType</span><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="967966">metaAnnots</a>, _, _<span class="delimiter">)</span> =&gt;
          <a href="#967909" title="(metaAnnots: List[Typers.this.global.AnnotationInfo], orElse: =&gt; Boolean)Boolean">hasMatching</a><span class="delimiter">(</span><a href="#967966" title="List[Typers.this.global.AnnotationInfo]">metaAnnots</a>, <a href="#967910" title="(ann: Typers.this.global.AnnotationInfo)Boolean">noMetaAnnot</a><span class="delimiter">(</span><a href="#967962" title="Typers.this.global.AnnotationInfo">ann</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">// there are no meta-annotations, e.g. @foo</span>
        <span class="keyword">case</span> <span title="Boolean">_</span> =&gt; <a href="#967910" title="(ann: Typers.this.global.AnnotationInfo)Boolean">noMetaAnnot</a><span class="delimiter">(</span><a href="#967962" title="Typers.this.global.AnnotationInfo">ann</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit" id="507726">enterSyms</a><span class="delimiter">(</span><a title="Typers.this.Context" id="968367">txt</a>: <a href="Contexts.scala.html#507359" title="Typers.this.Context">Context</a>, <a title="List[Typers.this.global.Tree]" id="968368">trees</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="Typers.this.Context" id="968371">txt0</a> = <a href="#968367" title="Typers.this.Context">txt</a>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="968391">tree</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">trees</a><span class="delimiter">)</span> <a href="#968371" title="Typers.this.Context">txt0</a> = <a href="#507727" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#968371" title="Typers.this.Context">txt0</a>, <a href="#968391" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context" id="507727">enterSym</a><span class="delimiter">(</span><a title="Typers.this.Context" id="927356">txt</a>: <a href="Contexts.scala.html#507359" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Tree" id="927357">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="Contexts.scala.html#507359" title="Typers.this.Context">Context</a> =
      <span title="Typers.this.Context" class="keyword">if</span> <span class="delimiter">(</span><a href="#927356" title="Typers.this.Context">txt</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span> <a href="#507674" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#917811" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#927357" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="Namers.scala.html#507370" title="(context: Typers.this.Context)Typers.this.Namer">newNamer</a><span class="delimiter">(</span><a href="#927356" title="Typers.this.Context">txt</a><span class="delimiter">)</span>.<a href="Namers.scala.html#917811" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#927357" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    <span class="comment">/**
     *  @param templ    ...
     *  @param parents1 ...
     *    &lt;li&gt; &lt;!-- 2 --&gt;
     *      Check that inner classes do not inherit from Annotation
     *    &lt;/li&gt;
     *  @return         ...
     */</span>
    <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template, parents1: List[Typers.this.global.Tree])Typers.this.global.Template" id="507728">typedTemplate</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="967702">templ</a>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="Typers.this.global.Template">Template</a>, <a title="List[Typers.this.global.Tree]" id="967703">parents1</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="Typers.this.global.Template">Template</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="968395">clazz</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="968396">annots</a> = <a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509116" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#967702" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#967702" title="Typers.this.global.Template">templ</a> <a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: Typers.this.global.Symbol)templ.type">setSymbol</a> <a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509129" title="(pos: Typers.this.global.Position)Typers.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#967702" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="968397">self1</a> = <a href="#967702" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441750" title="=&gt; Typers.this.global.ValDef">self</a> <span title="Typers.this.global.ValDef" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.ValDef" id="968416">vd</a> @ ValDef<span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="968423">mods</a>, <a title="Typers.this.global.TermName" id="968424">name</a>, <a title="Typers.this.global.Tree" id="968425">tpt</a>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="968426">tpt1</a> =
            <a href="#507688" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#964621" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.TypeTree)Typers.this.global.TypeTree">privates</a><span class="delimiter">(</span>
              <a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509306" title="=&gt; Typers.this.global.Symbol">thisSym</a>,
              <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560316" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#968425" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#534788" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#968425" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</a> <a href="#968416" title="Typers.this.global.ValDef">vd</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560284" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#968416" title="Typers.this.global.ValDef">vd</a>, <a href="#968423" title="Typers.this.global.Modifiers">mods</a>, <a href="#968424" title="Typers.this.global.TermName">name</a>, <a href="#968426" title="Typers.this.global.TypeTree">tpt1</a>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</a> <a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>
<span class="comment">// was:</span>
<span class="comment">//          val tpt1 = checkNoEscaping.privates(clazz.thisSym, typedType(tpt))</span>
<span class="comment">//          treeCopy.ValDef(vd, mods, name, tpt1, EmptyTree) setType NoType</span>
<span class="comment">// but this leads to cycles for existential self types ==&gt; #2545</span>
    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#968397" title="Typers.this.global.ValDef">self1</a>.<a href="../../../reflect/generic/Trees.scala.html#441944" title="=&gt; Typers.this.global.TermName">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516190" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#968397" title="Typers.this.global.ValDef">self1</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="968398">selfType</a> =
        <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509192" title="=&gt; Boolean">isAnonymousClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span>
          <a href="../symtab/Types.scala.html#478815" title="(tps: List[Typers.this.global.Type], owner: Typers.this.global.Symbol)Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Typers.this.global.Type]">parents</a>, <a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509307" title="=&gt; Typers.this.global.Type">typeOfThis</a>
      <span class="comment">// the following is necessary for templates generated later</span>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Typers.this.global.Scope">decls</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Scopes.scala.html#479022" title="object Typers.this.global.EmptyScope">EmptyScope</a><span class="delimiter">)</span>
      <a href="#507726" title="(txt: Typers.this.Context, trees: List[Typers.this.global.Tree])Unit">enterSyms</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508466" title="=&gt; Typers.this.Context">outer</a>.<a href="Contexts.scala.html#508543" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#967702" title="Typers.this.global.Template">templ</a>, <a href="#968395" title="Typers.this.global.Symbol">clazz</a>, <a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span>, <a href="#967702" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441752" title="=&gt; List[Typers.this.global.Tree]">body</a><span class="delimiter">)</span>
      <a href="#507719" title="(parents: List[Typers.this.global.Tree], selfType: Typers.this.global.Type)Unit">validateParentClasses</a><span class="delimiter">(</span><a href="#967703" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#968398" title="Typers.this.global.Type">selfType</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435296" title="=&gt; Boolean">isCase</a><span class="delimiter">)</span>
        <a href="#507717" title="(clazz: Typers.this.global.Symbol)Unit">validateNoCaseAncestor</a><span class="delimiter">(</span><a href="#968395" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#968395" title="Typers.this.global.Symbol">clazz</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: Typers.this.global.Symbol)Boolean">isSubClass</a> <a href="../symtab/Definitions.scala.html#507957" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span>
        <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;inner classes cannot be classfile annotations&quot;)" class="string">&quot;inner classes cannot be classfile annotations&quot;</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; Typers.this.global.Type">resultType</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="comment">// @S: prevent crash for duplicated type members</span>
        <a href="#507720" title="(classinfo: Typers.this.global.ClassInfoType)Unit">checkFinitary</a><span class="delimiter">(</span><a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; Typers.this.global.Type">resultType</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.ClassInfoType" class="delimiter">[</span><a href="../symtab/Types.scala.html#478759" title="Typers.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">]</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="968399">body</a> =
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478203" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#479335" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
          <a href="#967702" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441752" title="=&gt; List[Typers.this.global.Tree]">body</a> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: Typers.this.global.Tree =&gt; scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">flatMap</a> <a href="#507724" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">addGetterSetter</a>
        <span class="keyword">else</span> <a href="#967702" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441752" title="=&gt; List[Typers.this.global.Tree]">body</a>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="968400">body1</a> = <a href="#507745" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#968399" title="List[Typers.this.global.Tree]">body</a>, <a href="#967702" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560290" title="(tree: Typers.this.global.Tree, parents: List[Typers.this.global.Tree], self: Typers.this.global.ValDef, body: List[Typers.this.global.Tree])Typers.this.global.Template">Template</a><span class="delimiter">(</span><a href="#967702" title="Typers.this.global.Template">templ</a>, <a href="#967703" title="List[Typers.this.global.Tree]">parents1</a>, <a href="#968397" title="Typers.this.global.ValDef">self1</a>, <a href="#968400" title="List[Typers.this.global.Tree]">body1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Template">setType</a> <a href="#968395" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Remove definition annotations from modifiers (they have been saved
     *  into the symbol's ``annotations'' in the type completer / namer)
     */</span>
    <span class="keyword">def</span> <a title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers" id="507729">removeAnnotations</a><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="967665">mods</a>: <a href="../../../reflect/generic/Trees.scala.html#434021" title="Typers.this.global.Modifiers">Modifiers</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434021" title="Typers.this.global.Modifiers">Modifiers</a> =
      <a href="#967665" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/generic/Trees.scala.html#441155" title="Long" id="968549">copy</a><span class="delimiter">(</span>annotations = <a href="../../../collection/immutable/List.scala.html#13700" title="scala.collection.immutable.Nil.type" id="968546">Nil</a><span class="delimiter">)</span>

    <span class="comment">/**
     *  @param vdef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef" id="507730">typedValDef</a><span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="794033">vdef</a>: <a href="../../../reflect/generic/Trees.scala.html#434049" title="Typers.this.global.ValDef">ValDef</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434049" title="Typers.this.global.ValDef">ValDef</a> = <span class="delimiter">{</span>
<span class="comment">//      attributes(vdef)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="968550">sym</a> = <a href="#794033" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="Typers.this.Typer" id="968551">typer1</a> = <a href="#507693" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435313" title="=&gt; Boolean">isParameter</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="968552">typedMods</a> = <a href="#507729" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#794033" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441942" title="=&gt; Typers.this.global.Modifiers">mods</a><span class="delimiter">)</span>

      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="968553">annots</a> = <a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509116" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="968554">tpt1</a> = <a href="#507688" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#964621" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#968550" title="Typers.this.global.Symbol">sym</a>, <a href="#968551" title="Typers.this.Typer">typer1</a>.<a href="#507777" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#794033" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Typers.this.global.Tree">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#507685" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#794033" title="Typers.this.global.ValDef">vdef</a>, <a href="#968554" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509119" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#479030" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508335" title="=&gt; Typers.this.global.Symbol">VolatileAttr</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435300" title="=&gt; Boolean">isMutable</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#794033" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;values cannot be volatile&quot;)" class="string">&quot;values cannot be volatile&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435297" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#794033" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;final vars cannot be volatile&quot;)" class="string">&quot;final vars cannot be volatile&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="968555">rhs1</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#794033" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441948" title="=&gt; Typers.this.global.Tree">rhs</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509169" title="=&gt; Boolean">isVariable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#794033" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;local variables must be initialized&quot;)" class="string">&quot;local variables must be initialized&quot;</span><span class="delimiter">)</span>
          <a href="#794033" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441948" title="=&gt; Typers.this.global.Tree">rhs</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="968574">tpt2</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435318" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// When typechecking default parameter, replace all type parameters in the expected type by Wildcard.</span>
            <span class="comment">// This allows defining &quot;def foo[T](a: T = 1)&quot;</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="968575">tparams</a> =
              <span title="List[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
              <span class="keyword">else</span> <a href="#968550" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
            <span class="keyword">val</span> <a title="Typers.this.global.SubstTypeMap" id="968576">subst</a> = <a href="#968580" title="Typers.this.global.SubstTypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#478863" title="anonymous class $anon extends Typers.this.global.SubstTypeMap" id="968580">SubstTypeMap</a><span class="delimiter">(</span><a href="#968575" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#968575" title="List[Typers.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="968610">_</a> =&gt; <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean" id="968582">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="968583">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="968584">sym1</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
                <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#968583" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435374" title="=&gt; Boolean">isSkolem</a><span class="delimiter">)</span> <a href="#968582" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#968583" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509347" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>, <a href="#968584" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#968584" title="Typers.this.global.Symbol">sym1</a>.<a href="../../../reflect/generic/Symbols.scala.html#435374" title="=&gt; Boolean">isSkolem</a><span class="delimiter">)</span> <a href="#968582" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#968583" title="Typers.this.global.Symbol">sym</a>, <a href="#968584" title="Typers.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509347" title="=&gt; Typers.this.global.Symbol">deSkolemize</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#968580" title="Typers.this.global.SubstTypeMap" class="keyword">super</a><span class="delimiter">[</span>SubstTypeMap<span class="delimiter">]</span>.<a href="../symtab/Types.scala.html#565137" title="(sym: Typers.this.global.Symbol, sym1: Typers.this.global.Symbol)Boolean">matches</a><span class="delimiter">(</span><a href="#968583" title="Typers.this.global.Symbol">sym</a>, <a href="#968584" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span class="comment">// allow defaults on by-name parameters</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#968550" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(65536L)">BYNAMEPARAM</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#968554" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a> <span class="comment">// during erasure tpt1 is Function0</span>
              <span class="keyword">else</span> <a href="../symtab/Types.scala.html#565140" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#968554" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)Typers.this.global.Type">typeArgs</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../symtab/Types.scala.html#565140" title="(tp0: Typers.this.global.Type)Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#968554" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#968554" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
          <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#968551" title="Typers.this.Typer">typer1</a>.<a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508546" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#794033" title="Typers.this.global.ValDef">vdef</a>, <a href="#968550" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#507784" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#794033" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441948" title="=&gt; Typers.this.global.Tree">rhs</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#968574" title="Typers.this.global.Type">tpt2</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560284" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#794033" title="Typers.this.global.ValDef">vdef</a>, <a href="#968552" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#794033" title="Typers.this.global.ValDef">vdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441944" title="=&gt; Typers.this.global.TermName">name</a>, <a href="#968554" title="Typers.this.global.Tree">tpt1</a>, <a href="TypeDiagnostics.scala.html#963985" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#968555" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.ValDef">setType</a> <a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="comment">/** Enter all aliases of local parameter accessors.
     *
     *  @param clazz    ...
     *  @param vparamss ...
     *  @param rhs      ...
     */</span>
    <span class="keyword">def</span> <a title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit" id="507731">computeParamAliases</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="968696">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="List[List[Typers.this.global.ValDef]]" id="968697">vparamss</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>ValDef<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="Typers.this.global.Tree" id="968698">rhs</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;computing param aliases for &quot;)" class="string">&quot;computing param aliases for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#968696" title="Typers.this.global.Symbol">clazz</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#968696" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509305" title="=&gt; Typers.this.global.Symbol">primaryConstructor</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#968698" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <span class="keyword">def</span> <a title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])" id="968700">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="968708">call</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a>Tree, List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#968708" title="Typers.this.global.Tree">call</a> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="968711">fn</a>, <a title="List[Typers.this.global.Tree]" id="968712">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Tree" id="968714">superConstr</a>, <a href="../../../Tuple2.scala.html#53404" title="List[Typers.this.global.Tree]" id="968715">args1</a><span class="delimiter">)</span> = <a href="#968700" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</a><a href="#968711" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="968716">params</a> = <a href="#968711" title="Typers.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507180" title="=&gt; List[Typers.this.global.Symbol]">params</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="968717">args2</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#968716" title="List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Definitions.scala.html#508064" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#968716" title="List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71051" title="=&gt; Typers.this.global.Symbol">last</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#968712" title="List[Typers.this.global.Tree]">args</a>
                      <span class="keyword">else</span> <a href="#968712" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/immutable/List.scala.html#49163" title="(n: Int)List[Typers.this.global.Tree]">take</a><span class="delimiter">(</span><a href="#968716" title="List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">:+</a> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>
          <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#968717" title="List[Typers.this.global.Tree]">args2</a>, <a href="#968716" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span>, <span title="java.lang.String(&quot;mismatch &quot;)" class="string">&quot;mismatch &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#968696" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#968716" title="List[Typers.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</a> <span class="delimiter">(</span><a href="#968804" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#968717" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span><span class="comment">//debug</span>
          <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Tree, _2: List[Typers.this.global.Tree])(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#968714" title="Typers.this.global.Tree">superConstr</a>, <a href="#968715" title="List[Typers.this.global.Tree]">args1</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#968717" title="List[Typers.this.global.Tree]">args2</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Typers.this.global.Tree])">Block</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="968850">stats</a>, <a title="Typers.this.global.Tree" id="968851">expr</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#968850" title="List[Typers.this.global.Tree]">stats</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> =&gt;
          <a href="#968700" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><span class="delimiter">(</span><a href="#968850" title="List[Typers.this.global.Tree]">stats</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71051" title="=&gt; Typers.this.global.Tree">last</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[Nothing])">_</span> =&gt;
          <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Tree, _2: List[Nothing])(Typers.this.global.Tree, List[Nothing])" class="delimiter">(</a><a href="#968708" title="Typers.this.global.Tree">call</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Tree, List[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Tree" id="968702">superConstr</a>, <a href="../../../Tuple2.scala.html#53404" title="List[Typers.this.global.Tree]" id="968703">superArgs</a><span class="delimiter">)</span> = <a href="#968700" title="(call: Typers.this.global.Tree)(Typers.this.global.Tree, List[Typers.this.global.Tree])">decompose</a><a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Tree, List[Typers.this.global.Tree]) @unchecked" class="delimiter">(</a><a href="#968698" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#968702" title="Typers.this.global.Tree">superConstr</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="comment">//debug</span>

      <span class="comment">// an object cannot be allowed to pass a reference to itself to a superconstructor</span>
      <span class="comment">// because of initialization issues; bug #473</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="968896">arg</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">superArgs</a> ; <a title="Typers.this.global.Tree" id="968979">tree</a> &lt;- <a href="../ast/Trees.scala.html#510731" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">arg</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="968980">sym</a> = <a href="#968979" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#968980" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#968980" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507231" title="=&gt; List[Typers.this.global.Symbol]">baseClasses</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#968696" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#968980" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#968979" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;super constructor cannot be passed a self reference unless parameter is declared by-name&quot;)" class="string">&quot;super constructor cannot be passed a self reference unless parameter is declared by-name&quot;</span><span class="delimiter">)</span>
          <a href="#968979" title="Typers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">This</span><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="968988">qual</a><span class="delimiter">)</span> =&gt;
              <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#968979" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;super constructor arguments cannot reference unconstructed `this`&quot;)" class="string">&quot;super constructor arguments cannot reference unconstructed `this`&quot;</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#968702" title="Typers.this.global.Tree">superConstr</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509227" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="968990">superClazz</a> = <a href="#968702" title="Typers.this.global.Tree">superConstr</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#968990" title="Typers.this.global.Symbol">superClazz</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="968992">superParamAccessors</a> = <a href="#968990" title="Typers.this.global.Symbol">superClazz</a>.<a href="../symtab/Symbols.scala.html#509310" title="=&gt; List[Typers.this.global.Symbol]">constrParamAccessors</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#968992" title="List[Typers.this.global.Symbol]">superParamAccessors</a>, <a href="#968703" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Typers.this.global.Symbol], _2: List[Typers.this.global.Tree])(List[Typers.this.global.Symbol], List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#968992" title="List[Typers.this.global.Symbol]">superParamAccessors</a>, <a href="#968703" title="List[Typers.this.global.Tree]">superArgs</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Typers.this.global.Symbol] =&gt; scala.collection.TraversableLike[Typers.this.global.Symbol,List[Typers.this.global.Symbol]], implicit w2: List[Typers.this.global.Tree] =&gt; scala.collection.IterableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]])(List[Typers.this.global.Symbol], List[Typers.this.global.Tree])#Zipped[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Tree],Typers.this.global.Tree]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (Typers.this.global.Symbol, Typers.this.global.Tree) =&gt; Unit)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Unit,Any])Any">map</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="969051">superAcc</a>, <a title="Typers.this.global.Tree" id="969052">superArg</a><span class="delimiter">)</span> =&gt;
              <a href="#969052" title="Typers.this.global.Tree">superArg</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Any">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="969056">name</a><span class="delimiter">)</span> =&gt;
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#968697" title="List[List[Typers.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: List[Typers.this.global.ValDef] =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#969063" title="List[Typers.this.global.ValDef]">_</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#969070" title="Typers.this.global.ValDef">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#969052" title="Typers.this.global.Tree">superArg</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="969076">alias</a> = <a href="#969051" title="Typers.this.global.Symbol">superAcc</a>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; superAcc.type">initialize</a>.<a href="../symtab/Symbols.scala.html#509315" title="=&gt; Typers.this.global.Symbol">alias</a>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#969076" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                      <a href="#969076" title="Typers.this.global.Symbol">alias</a> = <a href="#969051" title="Typers.this.global.Symbol">superAcc</a>.<a href="../symtab/Symbols.scala.html#509343" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#969051" title="Typers.this.global.Symbol">superAcc</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#969076" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                        <a href="#968990" title="Typers.this.global.Symbol">superClazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507201" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#969076" title="Typers.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#969076" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                      <a href="#969076" title="Typers.this.global.Symbol">alias</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
                    <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#969076" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="969100">ownAcc</a> = <a href="#968696" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507193" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#969056" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509301" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">suchThat</a><span class="delimiter">(</span><a href="#969107" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435308" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span>
                      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#969100" title="Typers.this.global.Symbol">ownAcc</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#969100" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span>
                        <a href="#969100" title="Typers.this.global.Symbol">ownAcc</a> = <a href="#969100" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../symtab/Symbols.scala.html#509311" title="=&gt; Typers.this.global.Symbol">accessed</a>
                      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#969100" title="Typers.this.global.Symbol">ownAcc</a>.<a href="../symtab/Symbols.scala.html#509169" title="=&gt; Boolean">isVariable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#969076" title="Typers.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#509311" title="=&gt; Typers.this.global.Symbol">accessed</a>.<a href="../symtab/Symbols.scala.html#509169" title="=&gt; Boolean">isVariable</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                          <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#969100" title="Typers.this.global.Symbol">ownAcc</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has alias &quot;)" class="string">&quot; has alias &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#969076" title="Typers.this.global.Symbol">alias</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#969076" title="Typers.this.global.Symbol">alias</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a><span class="delimiter">)</span> <span class="comment">//debug</span>
                        <a href="#969100" title="Typers.this.global.Symbol">ownAcc</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.TermSymbol" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#478660" title="Typers.this.global.TermSymbol">TermSymbol</a><span class="delimiter">]</span>.<a href="../symtab/Symbols.scala.html#550478" title="(alias: Typers.this.global.Symbol)Typers.this.global.TermSymbol">setAlias</a><span class="delimiter">(</span><a href="#969076" title="Typers.this.global.Symbol">alias</a><span class="delimiter">)</span>
                      <span class="delimiter">}</span>
                    <span class="delimiter">}</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
              <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Check if a method is defined in such a way that it can be called.
      * A method cannot be called if it is a non-private member of a structural type
      * and if its parameter's types are not one of
      * - this.type
      * - a type member of the structural type
      * - an abstract type declared outside of the structural type. */</span>
    <span class="keyword">def</span> <a title="(meth: Typers.this.global.Symbol)Unit" id="507732">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="969153">meth</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> =
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#969153" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509242" title="=&gt; Boolean">isStructuralRefinement</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#969153" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509340" title="=&gt; List[Typers.this.global.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#969153" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#969153" title="Typers.this.global.Symbol">meth</a>.<a href="../../../reflect/generic/Symbols.scala.html#435352" title="=&gt; Boolean">hasAccessBoundary</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="969156">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a> = <a href="#969153" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.MethodType" id="969157">mt</a>: <a href="../symtab/Types.scala.html#478776" title="Typers.this.global.MethodType">MethodType</a> =&gt; <a href="#969157" title="Typers.this.global.MethodType">mt</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="969159">res</a><span class="delimiter">)</span> =&gt; <a href="#969159" title="Typers.this.global.Type">res</a>
 <span class="comment">// TODO_NMT: drop NullaryMethodType from resultType?</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Type" id="969160">pt</a>: <a href="../symtab/Types.scala.html#478783" title="Typers.this.global.PolyType">PolyType</a> =&gt; <a href="#969160" title="Typers.this.global.PolyType">pt</a>.<a href="../symtab/Types.scala.html#546995" title="=&gt; Typers.this.global.Type">resultType</a>
          <span class="keyword">case</span> <span title="Typers.this.global.NoType.type">_</span> =&gt; <a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="969185">paramType</a> &lt;- <a href="#969156" title="Typers.this.global.Type">tp</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Type =&gt; Unit)Unit">paramTypes</a><span class="delimiter">)</span>  <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#969185" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#969185" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509255" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#969153" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#969153" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>,<span title="java.lang.String(&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to an abstract type defined outside that refinement&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#969185" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#969185" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509255" title="(sym: Typers.this.global.Symbol)Boolean">hasTransOwner</a><span class="delimiter">(</span><a href="#969153" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#969153" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>,<span title="java.lang.String(&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to a type member of that refinement&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#969185" title="Typers.this.global.Type">paramType</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#478738" title="Typers.this.global.ThisType">ThisType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#969185" title="Typers.this.global.Type">paramType</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#969153" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#969153" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>,<span title="java.lang.String(&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;)" class="string">&quot;Parameter type in structural refinement may not refer to the type of that refinement (self type)&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(useCase: Typers.this.global.UseCase)Unit" id="507733">typedUseCase</a><span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="969192">useCase</a>: <a href="../ast/DocComments.scala.html#479269" title="Typers.this.global.UseCase">UseCase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(str: String)Typers.this.global.syntaxAnalyzer.Parser" id="969194">stringParser</a><span class="delimiter">(</span><a title="String" id="969198">str</a>: <span title="String">String</span><span class="delimiter">)</span>: syntaxAnalyzer.<a href="../ast/parser/Parsers.scala.html#500557" title="Typers.this.global.syntaxAnalyzer.Parser">Parser</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.BatchSourceFile" id="969199">file</a> = <a href="#969201" title="scala.tools.nsc.util.BatchSourceFile" class="keyword">new</a> <a href="../util/SourceFile.scala.html#42877" title="anonymous class $anon extends scala.tools.nsc.util.BatchSourceFile" id="969201">BatchSourceFile</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500950" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#501040" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a>, <a href="../../../LowPriorityImplicits.scala.html#9503" title="implicit scala.LowPriorityImplicits.wrapString : (s: String)scala.collection.immutable.WrappedString">str</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)scala.tools.nsc.util.Position" id="969203">positionInUltimateSource</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="969204">pos</a>: <a href="../util/Position.scala.html#42664" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="#969204" title="Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501503" title="(source: scala.tools.nsc.util.SourceFile, shift: Int)scala.tools.nsc.util.Position">withSource</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500950" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>, <a href="#969192" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#529708" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501493" title="=&gt; Int">start</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.CompilationUnit" id="969200">unit</a> = <span title="Typers.this.global.CompilationUnit" class="keyword">new</span> <a href="../CompilationUnits.scala.html#479284" title="Typers.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">(</span><a href="#969199" title="scala.tools.nsc.util.BatchSourceFile">file</a><span class="delimiter">)</span>
        <a href="../ast/parser/Parsers.scala.html#568812" title="(unit: Typers.this.global.syntaxAnalyzer.global.CompilationUnit)Typers.this.global.syntaxAnalyzer.UnitParser" class="keyword">new</a> <a href="../Global.scala.html#478280" title="object Typers.this.global.syntaxAnalyzer">syntaxAnalyzer</a>.<a href="../ast/parser/Parsers.scala.html#500549" title="Typers.this.global.syntaxAnalyzer.UnitParser">UnitParser</a><span class="delimiter">(</span><a href="#969200" title="Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.syntaxAnalyzer.global.Tree]" id="969195">trees</a> = <a href="#969194" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span><a href="#969192" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#529706" title="=&gt; String">body</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span><span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#566539" title="=&gt; List[Typers.this.global.syntaxAnalyzer.global.Tree]">nonLocalDefOrDcl</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="969196">enclClass</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508469" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Any" id="969197">defineAlias</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="969231">name</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> =
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514367" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#969231" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/DocComments.scala.html#479264" title="(vble: String, site: Typers.this.global.Symbol)Option[String]">lookupVariable</a><span class="delimiter">(</span><a href="#969231" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a>.<span title="(x$1: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>, <a href="#969196" title="Typers.this.global.Symbol">enclClass</a><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Any">Some</span><span class="delimiter">(</span><a title="String" id="969243">repl</a><span class="delimiter">)</span> =&gt;
              <a href="#507706" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#969249" title="Typers.this.Typer">_</a>.<a href="#507782" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#969194" title="(str: String)Typers.this.global.syntaxAnalyzer.Parser">stringParser</a><span class="delimiter">(</span><a href="#969243" title="String">repl</a><span class="delimiter">)</span>.<a href="../ast/parser/Parsers.scala.html#566504" title="()Typers.this.global.syntaxAnalyzer.global.Tree">typ</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Typers.this.global.Symbol" id="969257">tpt</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.TypeSymbol" id="969258">alias</a> = <a href="#969196" title="Typers.this.global.Symbol">enclClass</a>.<a href="../symtab/Symbols.scala.html#509143" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.TypeSymbol">newAliasType</a><span class="delimiter">(</span><a href="#969192" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#529708" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#969231" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501118" title="=&gt; Typers.this.global.TypeName">toTypeName</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="969259">tparams</a> = <a href="../symtab/Symbols.scala.html#478672" title="(syms: List[Typers.this.global.Symbol], owner: Typers.this.global.Symbol)List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#969257" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#969258" title="Typers.this.global.TypeSymbol">alias</a><span class="delimiter">)</span>
                  <a href="#969258" title="Typers.this.global.TypeSymbol">alias</a> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)alias.type">setInfo</a> <a href="../symtab/Types.scala.html#478820" title="(tps: List[Typers.this.global.Symbol], body: Typers.this.global.Type)Typers.this.global.Type">typeFun</a><span class="delimiter">(</span><a href="#969259" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="../symtab/Types.scala.html#478817" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#969257" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#969259" title="List[Typers.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#969312" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514360" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#969258" title="Typers.this.global.TypeSymbol">alias</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.syntaxAnalyzer.global.Tree" id="969374">tree</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.syntaxAnalyzer.global.Tree =&gt; Unit)Unit">trees</a>; <a title="Typers.this.global.Tree" id="969456">t</a> &lt;- <a href="../ast/Trees.scala.html#510731" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">tree</a><span class="delimiter">)</span>
        <a href="#969456" title="Typers.this.global.Tree">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="969460">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#969460" title="Typers.this.global.Name">name</a> <a href="../symtab/Names.scala.html#501145" title="(char: Char)Boolean">startsWith</a> <span title="Char(\'$\')" class="char">'$'</span> =&gt; <a href="#969197" title="(name: Typers.this.global.Name)Any">defineAlias</a><span title="Unit" class="delimiter">(</span><a href="#969460" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="#969192" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#529715" title="(x$1: List[Typers.this.global.Symbol])Unit">aliases</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514371" title="=&gt; List[Typers.this.global.Symbol]">toList</a>
      <a href="#507674" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#917804" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#969195" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a><span class="delimiter">)</span>
      <a href="#507745" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#969195" title="List[Typers.this.global.syntaxAnalyzer.global.Tree]">trees</a>, <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <a href="#969192" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#529712" title="(x$1: List[Typers.this.global.Symbol])Unit">defined</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514371" title="=&gt; List[Typers.this.global.Symbol]">toList</a> <a href="../../../collection/TraversableLike.scala.html#49052" title="(p: Typers.this.global.Symbol =&gt; Boolean)List[Typers.this.global.Symbol]">filterNot</a> <span class="delimiter">(</span><a href="#969192" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#529714" title="=&gt; List[Typers.this.global.Symbol]">aliases</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#969479" title="Typers.this.global.Symbol">_</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
        <a href="#969192" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#529711" title="=&gt; List[Typers.this.global.Symbol]">defined</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="969504">sym</a> =&gt; <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;defined use cases: %s:%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#969504" title="Typers.this.global.Symbol">sym</a>, <a href="#969504" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param ddef ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef" id="507734">typedDefDef</a><span class="delimiter">(</span><a title="Typers.this.global.DefDef" id="969512">ddef</a>: <a href="../../../reflect/generic/Trees.scala.html#434052" title="Typers.this.global.DefDef">DefDef</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434052" title="Typers.this.global.DefDef">DefDef</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="969514">meth</a> = <a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>

      <a href="#507691" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441795" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
      <a href="#507690" title="(vparamss: List[List[Typers.this.global.ValDef]])Unit">reenterValueParams</a><span class="delimiter">(</span><a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441797" title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</a><span class="delimiter">)</span>

      <span class="comment">// for `val` and `var` parameter, look at `target` meta-annotation</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509227" title="=&gt; Boolean">isPrimaryConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="969544">vparams</a> &lt;- <a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss</a>; <a title="Typers.this.global.ValDef" id="969564">vd</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.ValDef =&gt; Any)Unit">vparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#969564" title="Typers.this.global.ValDef">vd</a>.<a href="../../../reflect/generic/Trees.scala.html#441942" title="=&gt; Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435308" title="=&gt; Boolean">isParamAccessor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="969565">sym</a> = <a href="#969564" title="Typers.this.global.ValDef">vd</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>
            <a href="#969565" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509117" title="(annots: List[Typers.this.global.AnnotationInfoBase])sym.type">setAnnotations</a><span class="delimiter">(</span><a href="#507725" title="(annots: List[Typers.this.global.AnnotationInfo], memberClass: Typers.this.global.Symbol, keepClean: Boolean)List[Typers.this.global.AnnotationInfo]">memberAnnots</a><span class="delimiter">(</span><a href="#969565" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509116" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>, <a href="../symtab/Definitions.scala.html#507989" title="=&gt; Typers.this.global.Symbol">ParamTargetClass</a>, keepClean = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="969515">tparams1</a> = <a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441795" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</a> <a href="#507735" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a>
      <span class="keyword">val</span> <a title="List[List[Typers.this.global.ValDef]]" id="969516">vparamss1</a> = <a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441797" title="=&gt; List[List[Typers.this.global.ValDef]]">vparamss</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: List[Typers.this.global.ValDef] =&gt; List[Typers.this.global.ValDef])List[List[Typers.this.global.ValDef]]">mapConserve</a> <span class="delimiter">(</span><a href="#969591" title="List[Typers.this.global.ValDef]">_</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</a> <a href="#507730" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>

      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="969517">annots</a> = <a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509116" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="969620">vparams1</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss1</a>; <a title="Typers.this.global.ValDef" id="969646">vparam1</a> &lt;- <a href="#969620" title="List[Typers.this.global.ValDef]">vparams1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">dropRight</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508064" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#969646" title="Typers.this.global.ValDef">vparam1</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#969646" title="Typers.this.global.ValDef">vparam1</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;*-parameter must come last&quot;)" class="string">&quot;*-parameter must come last&quot;</span><span class="delimiter">)</span>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="969518">tpt1</a> = <a href="#507688" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#964621" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#969514" title="Typers.this.global.Symbol">meth</a>, <a href="#507777" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441799" title="=&gt; Typers.this.global.Tree">tpt</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469799" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">YdepMethTpes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="969681">vparams</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: List[Typers.this.global.ValDef] =&gt; Unit)Unit">vparamss1</a>; <a title="Typers.this.global.ValDef" id="969701">vparam</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#507688" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#964624" title="(scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: Typers.this.global.Tree)Typers.this.global.Tree">locals</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#969701" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#507688" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#964624" title="(scope: Typers.this.global.Scope, pt: Typers.this.global.Type, tree: Typers.this.global.Tree)Typers.this.global.Tree">locals</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a>, <a href="#969518" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#507685" title="(defn: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#969512" title="Typers.this.global.DefDef">ddef</a>, <a href="#969518" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>
      <a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441799" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)ddef.tpt.type">setType</a><span class="delimiter">(</span><a href="#969518" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="969519">typedMods</a> = <a href="#507729" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441791" title="=&gt; Typers.this.global.Modifiers">mods</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="969520">rhs1</a> =
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441793" title="=&gt; Typers.this.global.TermName">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435329" title="=&gt; Boolean">hasStaticFlag</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// need this to make it possible to generate static ctors</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509227" title="=&gt; Boolean">isPrimaryConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
               <a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
               <a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509194" title="=&gt; Boolean">isAnonOrRefinementClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;constructor definition not allowed here&quot;)" class="string">&quot;constructor definition not allowed here&quot;</span><span class="delimiter">)</span>
          <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441801" title="=&gt; Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#507784" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">transformedOrTyped</a><span class="delimiter">(</span><a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441801" title="=&gt; Typers.this.global.Tree">rhs</a>, <span title="Int(1)">EXPRmode</span>, <a href="#969518" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509227" title="=&gt; Boolean">isPrimaryConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509178" title="=&gt; Boolean">isClassConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478203" title="=&gt; scala.tools.nsc.reporters.Reporter">reporter</a>.<a href="../reporters/Reporter.scala.html#479335" title="=&gt; Boolean">hasErrors</a><span class="delimiter">)</span>
        <a href="#507731" title="(clazz: Typers.this.global.Symbol, vparamss: List[List[Typers.this.global.ValDef]], rhs: Typers.this.global.Tree)Unit">computeParamAliases</a><span class="delimiter">(</span><a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#969516" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#969520" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#969518" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507933" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508499" title="=&gt; Boolean">returnsSeen</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#969520" title="Typers.this.global.Tree">rhs1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507933" title="=&gt; Typers.this.global.Symbol">NothingClass</a><span class="delimiter">)</span>
        <a href="#969520" title="Typers.this.global.Tree">rhs1</a> = <a href="TypeDiagnostics.scala.html#963985" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#969520" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509288" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="969769">ps</a> =&gt; <a href="#969769" title="List[Typers.this.global.Symbol]">ps</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#969776" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435321" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/Definitions.scala.html#508064" title="(tp: Typers.this.global.Type)Boolean">isRepeatedParamType</a><span class="delimiter">(</span><a href="#969769" title="List[Typers.this.global.Symbol]">ps</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71051" title="=&gt; Typers.this.global.Symbol">last</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;a parameter section with a `*\'-parameter is not allowed to have default arguments&quot;)" class="string">&quot;a parameter section with a `*'-parameter is not allowed to have default arguments&quot;</span><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="969782">allParams</a> = <a href="#969514" title="Typers.this.global.Symbol">meth</a>.<a href="../symtab/Symbols.scala.html#509288" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53804" title="(implicit asTraversable: List[Typers.this.global.Symbol] =&gt; scala.collection.TraversableOnce[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">flatten</a>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="969840">p</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">allParams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="NamesDefaults.scala.html#507607" title="(sym: Typers.this.global.Symbol)Option[Typers.this.global.Name]">deprecatedName</a><span class="delimiter">(</span><a href="#969840" title="Typers.this.global.Symbol">p</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#48491" title="(f: Typers.this.global.Name =&gt; Unit)Unit">foreach</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="969846">n</a> =&gt; <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#969782" title="List[Typers.this.global.Symbol]">allParams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="969853">p1</a> =&gt; <a href="#969853" title="Typers.this.global.Symbol">p1</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#969846" title="Typers.this.global.Name">n</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#969840" title="Typers.this.global.Symbol">p</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#969853" title="Typers.this.global.Symbol">p1</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="NamesDefaults.scala.html#507607" title="(sym: Typers.this.global.Symbol)Option[Typers.this.global.Name]">deprecatedName</a><span class="delimiter">(</span><a href="#969853" title="Typers.this.global.Symbol">p1</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../Option.scala.html#57885" title="(x: Typers.this.global.Name)Some[Typers.this.global.Name]">Some</a><span class="delimiter">(</span><a href="#969846" title="Typers.this.global.Name">n</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#969840" title="Typers.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;deprecated parameter name &quot;)" class="string">&quot;deprecated parameter name &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#969846" title="Typers.this.global.Name">n</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; has to be distinct from any other parameter name (deprecated or not).&quot;)" class="string">&quot; has to be distinct from any other parameter name (deprecated or not).&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <a href="#507732" title="(meth: Typers.this.global.Symbol)Unit">checkMethodStructuralCompatible</a><span class="delimiter">(</span><a href="#969514" title="Typers.this.global.Symbol">meth</a><span class="delimiter">)</span>

      <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560285" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], vparamss: List[List[Typers.this.global.ValDef]], tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#969512" title="Typers.this.global.DefDef">ddef</a>, <a href="#969519" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#969512" title="Typers.this.global.DefDef">ddef</a>.<a href="../../../reflect/generic/Trees.scala.html#441793" title="=&gt; Typers.this.global.TermName">name</a>, <a href="#969515" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#969516" title="List[List[Typers.this.global.ValDef]]">vparamss1</a>, <a href="#969518" title="Typers.this.global.Tree">tpt1</a>, <a href="#969520" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.DefDef">setType</a> <a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="507735">typedTypeDef</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="967678">tdef</a>: <a href="../../../reflect/generic/Trees.scala.html#434055" title="Typers.this.global.TypeDef">TypeDef</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434055" title="Typers.this.global.TypeDef">TypeDef</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Typers.this.Typer" id="969890">typeDefTyper</a> = <span class="delimiter">{</span>
        <span title="Typers.this.Typer" class="keyword">if</span><span class="delimiter">(</span><a href="#967678" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441667" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a> <a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#507454" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>
        <span class="keyword">else</span> <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#967678" title="Typers.this.global.TypeDef">tdef</a>, <a href="#967678" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#969890" title="=&gt; Typers.this.Typer">typeDefTyper</a>.<a href="#507736" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef0</a><span class="delimiter">(</span><a href="#967678" title="Typers.this.global.TypeDef">tdef</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// call typedTypeDef instead</span>
    <span class="comment">// a TypeDef with type parameters must always be type checked in a new scope</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef" id="507736">typedTypeDef0</a><span class="delimiter">(</span><a title="Typers.this.global.TypeDef" id="969893">tdef</a>: <a href="../../../reflect/generic/Trees.scala.html#434055" title="Typers.this.global.TypeDef">TypeDef</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434055" title="Typers.this.global.TypeDef">TypeDef</a> = <span class="delimiter">{</span>
      <a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; Typers.this.global.Symbol">initialize</a>
      <a href="#507691" title="(tparams: List[Typers.this.global.TypeDef])List[Typers.this.global.Symbol]">reenterTypeParams</a><span class="delimiter">(</span><a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441667" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.TypeDef]" id="969895">tparams1</a> = <a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441667" title="=&gt; List[Typers.this.global.TypeDef]">tparams</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.TypeDef =&gt; Typers.this.global.TypeDef)List[Typers.this.global.TypeDef]">mapConserve</a> <span class="delimiter">{</span><a href="#507735" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">(</span><a href="#969907" title="Typers.this.global.TypeDef">_</a><span class="delimiter">)</span><span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Modifiers" id="969896">typedMods</a> = <a href="#507729" title="(mods: Typers.this.global.Modifiers)Typers.this.global.Modifiers">removeAnnotations</a><span class="delimiter">(</span><a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441663" title="=&gt; Typers.this.global.Modifiers">mods</a><span class="delimiter">)</span>
      <span class="comment">// complete lazy annotations</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="969897">annots</a> = <a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509116" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>

      <span class="comment">// @specialized should not be pickled when compiling with -no-specialize</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469635" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">nospecialization</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482566" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509121" title="(cls: Typers.this.global.Symbol)Unit">removeAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#479030" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#507995" title="=&gt; Typers.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
        <a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509347" title="=&gt; Typers.this.global.Symbol">deSkolemize</a>.<a href="../symtab/Symbols.scala.html#509121" title="(cls: Typers.this.global.Symbol)Unit">removeAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#479030" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#507995" title="=&gt; Typers.this.global.Symbol">SpecializedClass</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="969898">rhs1</a> = <a href="#507688" title="object Typer.this.checkNoEscaping">checkNoEscaping</a>.<a href="#964621" title="(owner: Typers.this.global.Symbol, tree: Typers.this.global.Tree)Typers.this.global.Tree">privates</a><span class="delimiter">(</span><a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>, <a href="#507777" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441669" title="=&gt; Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#507684" title="(sym: Typers.this.global.Symbol)Unit">checkNonCyclic</a><span class="delimiter">(</span><a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435370" title="=&gt; Boolean">isType</a><span class="delimiter">)</span>
        <a href="#969898" title="Typers.this.global.Tree">rhs1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">TypeBounds</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="969931">lo1</a>, <a title="Typers.this.global.Type" id="969932">hi1</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#969931" title="Typers.this.global.Type">lo1</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#969932" title="Typers.this.global.Type">hi1</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;lower bound &quot;)" class="string">&quot;lower bound &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#969931" title="Typers.this.global.Type">lo1</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; does not conform to upper bound &quot;)" class="string">&quot; does not conform to upper bound &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#969932" title="Typers.this.global.Type">hi1</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
      <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560286" title="(tree: Typers.this.global.Tree, mods: Typers.this.global.Modifiers, name: Typers.this.global.Name, tparams: List[Typers.this.global.TypeDef], rhs: Typers.this.global.Tree)Typers.this.global.TypeDef">TypeDef</a><span class="delimiter">(</span><a href="#969893" title="Typers.this.global.TypeDef">tdef</a>, <a href="#969896" title="Typers.this.global.Modifiers">typedMods</a>, <a href="#969893" title="Typers.this.global.TypeDef">tdef</a>.<a href="../../../reflect/generic/Trees.scala.html#441665" title="=&gt; Typers.this.global.TypeName">name</a>, <a href="#969895" title="List[Typers.this.global.TypeDef]">tparams1</a>, <a href="#969898" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.TypeDef">setType</a> <a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Unit" id="507737">enterLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="964970">stat</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#964970" title="Typers.this.global.Tree">stat</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Unit" id="969947">ldef</a> @ LabelDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#969947" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#969947" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441601" title="(x$1: Typers.this.global.Symbol)Unit">symbol</a> = <a href="#507674" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#917799" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
              <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509132" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#969947" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#969947" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442204" title="=&gt; Typers.this.global.TermName">name</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../symtab/Types.scala.html#546837" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef" id="507738">typedLabelDef</a><span class="delimiter">(</span><a title="Typers.this.global.LabelDef" id="969980">ldef</a>: <a href="../../../reflect/generic/Trees.scala.html#434058" title="Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434058" title="Typers.this.global.LabelDef">LabelDef</a> = <span class="delimiter">{</span>
      <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#516877" title="(name: Typers.this.global.Name)Boolean">isLoopHeaderLabel</a><span class="delimiter">(</span><a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="969988">restpe</a> = <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="969989">rhs1</a> = <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442208" title="=&gt; Typers.this.global.Tree">rhs</a>, <a href="#969988" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
        <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442206" title="=&gt; List[Typers.this.global.Ident]">params</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="970017">param</a> =&gt; <a href="#970017" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#970017" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560287" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#969980" title="Typers.this.global.LabelDef">ldef</a>, <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442204" title="=&gt; Typers.this.global.TermName">name</a>, <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442206" title="=&gt; List[Typers.this.global.Ident]">params</a>, <a href="#969989" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</a> <a href="#969988" title="Typers.this.global.Type">restpe</a>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="970032">initpe</a> = <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; Typers.this.global.Type">resultType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="970033">rhs1</a> = <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442208" title="=&gt; Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="970034">restpe</a> = <a href="#970033" title="Typers.this.global.Tree">rhs1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
        <span title="Typers.this.global.LabelDef" class="keyword">if</span> <span class="delimiter">(</span><a href="#970034" title="Typers.this.global.Type">restpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#970032" title="Typers.this.global.Type">initpe</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// stable result, no need to check again</span>
          <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442206" title="=&gt; List[Typers.this.global.Ident]">params</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="970057">param</a> =&gt; <a href="#970057" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#970057" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560287" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#969980" title="Typers.this.global.LabelDef">ldef</a>, <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442204" title="=&gt; Typers.this.global.TermName">name</a>, <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442206" title="=&gt; List[Typers.this.global.Ident]">params</a>, <a href="#970033" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</a> <a href="#970034" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514366" title="(sym: Typers.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="970061">sym2</a> = <a href="#507674" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#917799" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span>
            <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509132" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.MethodSymbol">newLabel</a><span class="delimiter">(</span><a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442204" title="=&gt; Typers.this.global.TermName">name</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.MethodSymbol">setInfo</a> <a href="../symtab/Types.scala.html#546837" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#970034" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="970062">rhs2</a> = <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479191" title="(x: Typers.this.global.Tree)Typers.this.global.Tree">resetAllAttrs</a><span class="delimiter">(</span><a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442208" title="=&gt; Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>, <a href="#970034" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
          <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442206" title="=&gt; List[Typers.this.global.Ident]">params</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Ident =&gt; Unit)Unit">foreach</a> <span class="delimiter">(</span><a title="Typers.this.global.Ident" id="970096">param</a> =&gt; <a href="#970096" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#970096" title="Typers.this.global.Ident">param</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560287" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, params: List[Typers.this.global.Ident], rhs: Typers.this.global.Tree)Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#969980" title="Typers.this.global.LabelDef">ldef</a>, <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442204" title="=&gt; Typers.this.global.TermName">name</a>, <a href="#969980" title="Typers.this.global.LabelDef">ldef</a>.<a href="../../../reflect/generic/Trees.scala.html#442206" title="=&gt; List[Typers.this.global.Ident]">params</a>, <a href="#970062" title="Typers.this.global.Tree">rhs2</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: Typers.this.global.Symbol)Typers.this.global.LabelDef">setSymbol</a> <a href="#970061" title="Typers.this.global.Symbol">sym2</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.LabelDef">setType</a> <a href="#970034" title="Typers.this.global.Type">restpe</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param block ...
     *  @param mode  ...
     *  @param pt    ...
     *  @return      ...
     */</span>
    <span class="keyword">def</span> <a title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block" id="507739">typedBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Block" id="970103">block</a>: <a href="../../../reflect/generic/Trees.scala.html#434070" title="Typers.this.global.Block">Block</a>, <a title="Int" id="970104">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="970105">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434070" title="Typers.this.global.Block">Block</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="970107">syntheticPrivates</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#507674" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#917804" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#970103" title="Typers.this.global.Block">block</a>.<a href="../../../reflect/generic/Trees.scala.html#442417" title="=&gt; List[Typers.this.global.Tree]">stats</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="970129">stat</a> &lt;- <a href="#970103" title="Typers.this.global.Block">block</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">stats</a><span class="delimiter">)</span> <a href="#507737" title="(stat: Typers.this.global.Tree)Unit">enterLabelDef</a><span class="delimiter">(</span><a href="#970129" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478179" title="(period: Typers.this.global.Period)Int">phaseId</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478181" title="=&gt; Typers.this.global.Period">currentPeriod</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// This is very tricky stuff, because we are navigating</span>
          <span class="comment">// the Skylla and Charybdis of anonymous classes and what to return</span>
          <span class="comment">// from them here. On the one hand, we cannot admit</span>
          <span class="comment">// every non-private member of an anonymous class as a part of</span>
          <span class="comment">// the structural type of the enclosing block. This runs afoul of</span>
          <span class="comment">// the restriction that a structural type may not refer to an enclosing</span>
          <span class="comment">// type parameter or abstract types (which in turn is necessitated</span>
          <span class="comment">// by what can be done in Java reflection. On the other hand,</span>
          <span class="comment">// making every term member private conflicts with private escape checking</span>
          <span class="comment">// see ticket #3174 for an example.</span>
          <span class="comment">// The cleanest way forward is if we would find a way to suppress</span>
          <span class="comment">// structural type checking for these members and maybe defer</span>
          <span class="comment">// type errors to the places where members are called. But that would</span>
          <span class="comment">// be a big refactoring and also a  big departure from existing code.</span>
          <span class="comment">// The probably safest fix for 2.8 is to keep members of an anonymous</span>
          <span class="comment">// class that are not mentioned in a parent type private (as before)</span>
          <span class="comment">// but to disable escape checking for code that's in the same anonymous class.</span>
          <span class="comment">// That's what's done here.</span>
          <span class="comment">// We really should go back and think hard whether we find a better</span>
          <span class="comment">// way to address the problem of escaping idents on the one hand and well-formed</span>
          <span class="comment">// structural types on the other.</span>
          <a href="#970103" title="Typers.this.global.Block">block</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Unit" id="970136">block</a> @ Block<span class="delimiter">(</span><a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Typers.this.global.Tree])Some[List[Typers.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.ClassDef" id="970153">classDef</a> @ ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span>, <a title="Typers.this.global.Apply" id="970168">newInst</a> @ Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span>_<span class="delimiter">)</span>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="comment">// The block is an anonymous class definitions/instantiation pair</span>
              <span class="comment">//   -&gt; members that are hidden by the type of the block are made private</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="970178">visibleMembers</a> = <a href="#970105" title="Typers.this.global.Type">pt</a> <span title="List[Typers.this.global.Symbol]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478729" title="List[Typers.this.global.Symbol]">WildcardType</a> =&gt; <a href="#970153" title="Typers.this.global.ClassDef">classDef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Typers.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#514371" title="=&gt; List[Typers.this.global.Symbol]">toList</a>
                <span class="keyword">case</span> <span title="List[Typers.this.global.Symbol]">BoundedWildcardType</span><span class="delimiter">(</span>TypeBounds<span class="delimiter">(</span><a title="Typers.this.global.Type" id="970184">lo</a>, <a title="Typers.this.global.Type" id="970185">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#970184" title="Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#507195" title="=&gt; List[Typers.this.global.Symbol]">members</a>
                <span class="keyword">case</span> <span title="List[Typers.this.global.Symbol]">_</span> =&gt; <a href="#970105" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507195" title="=&gt; List[Typers.this.global.Symbol]">members</a>
              <span class="delimiter">}</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="970216">member</a> &lt;- <a href="#970153" title="Typers.this.global.ClassDef">classDef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Typers.this.global.Scope">decls</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#53496" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">toList</a>
                   <span class="keyword">if</span> <a href="#970216" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#970216" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                      <a href="#970216" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509340" title="=&gt; List[Typers.this.global.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                      <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#970216" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#970216" title="Typers.this.global.Symbol">member</a>.<a href="../../../reflect/generic/Symbols.scala.html#435352" title="=&gt; Boolean">hasAccessBoundary</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#970178" title="List[Typers.this.global.Symbol]">visibleMembers</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="970201">visible</a> =&gt;
                        <a href="#970201" title="Typers.this.global.Symbol">visible</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#970216" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                        <a href="#970216" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#970201" title="Typers.this.global.Symbol">visible</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507211" title="(from: Typers.this.global.Symbol, to: Typers.this.global.Type)Typers.this.global.Type">substThis</a><span class="delimiter">(</span><a href="#970201" title="Typers.this.global.Symbol">visible</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="../symtab/Types.scala.html#546333" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">ThisType</a><span class="delimiter">(</span><a href="#970153" title="Typers.this.global.ClassDef">classDef</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span><span class="delimiter">)</span>
              <span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#970216" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)member.type">resetFlag</a><span class="delimiter">(</span><span title="Long(1L)">PROTECTED</span><span class="delimiter">)</span>
                <a href="#970216" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)member.type">resetFlag</a><span class="delimiter">(</span><span title="Long(524288L)">LOCAL</span><span class="delimiter">)</span>
                <a href="#970216" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)member.type">setFlag</a><span class="delimiter">(</span>PRIVATE <span title="Long(274877906948L)">|</span> SYNTHETIC_PRIVATE<span class="delimiter">)</span>
                <a href="#970107" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">syntheticPrivates</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: Typers.this.global.Symbol)syntheticPrivates.type">+=</a> <a href="#970216" title="Typers.this.global.Symbol">member</a>
                <a href="#970216" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509124" title="(sym: Typers.this.global.Symbol)Unit">privateWithin</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="970108">stats1</a> = <a href="#507745" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#970103" title="Typers.this.global.Block">block</a>.<a href="../../../reflect/generic/Trees.scala.html#442417" title="=&gt; List[Typers.this.global.Tree]">stats</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="970109">expr1</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#970103" title="Typers.this.global.Block">block</a>.<a href="../../../reflect/generic/Trees.scala.html#442419" title="=&gt; Typers.this.global.Tree">expr</a>, <a href="#970104" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <a href="../../../Int.scala.html#54736" title="=&gt; Int">~</a><span class="delimiter">(</span>FUNmode <span title="Int(80)">|</span> QUALmode<span class="delimiter">)</span>, <a href="#970105" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560291" title="(tree: Typers.this.global.Tree, stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#970103" title="Typers.this.global.Block">block</a>, <a href="#970108" title="List[Typers.this.global.Tree]">stats1</a>, <a href="#970109" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span>
          .<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Block">setType</a><span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551034" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a><span class="delimiter">(</span><a href="#970103" title="Typers.this.global.Block">block</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#970109" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#970109" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507164" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">finally</span> <span class="delimiter">{</span>
        <span class="comment">// enable escaping privates checking from the outside and recycle</span>
        <span class="comment">// transient flag</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="970267">sym</a> &lt;- <a href="../../../collection/generic/TraversableForwarder.scala.html#61936" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">syntheticPrivates</a><span class="delimiter">)</span> <a href="#970267" title="Typers.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)sym.type">resetFlag</a> <span title="Long(274877906944L)">SYNTHETIC_PRIVATE</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param cdef   ...
     *  @param pattpe ...
     *  @param pt     ...
     *  @return       ...
     */</span>
    <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef" id="507740">typedCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="970272">cdef</a>: <a href="../../../reflect/generic/Trees.scala.html#434073" title="Typers.this.global.CaseDef">CaseDef</a>, <a title="Typers.this.global.Type" id="970273">pattpe</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="970274">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434073" title="Typers.this.global.CaseDef">CaseDef</a> = <span class="delimiter">{</span>
      <span class="comment">// verify no _* except in last position</span>
      <span class="keyword">for</span> <span class="delimiter">(</span>Apply<span class="delimiter">(</span>_, <a title="List[Typers.this.global.Tree]" id="970371">xs</a><span class="delimiter">)</span> &lt;- <a href="#970272" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">pat</a> ; <a title="Typers.this.global.Tree" id="970383">x</a> &lt;- <a href="#970371" title="List[Typers.this.global.Tree]">xs</a> <a href="../../../collection/generic/FilterMonadic.scala.html#53496" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">dropRight</a> <span title="Int(1)" class="int">1</span> ; <span class="keyword">if</span> <a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a> <a href="../ast/TreeInfo.scala.html#551066" title="(x: Typers.this.global.treeInfo.trees.Tree)Boolean">isStar</a> <a href="#970383" title="Typers.this.global.Tree">x</a><span class="delimiter">)</span>
        <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#970383" title="Typers.this.global.Tree">x</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;_* may only come last&quot;)" class="string">&quot;_* may only come last&quot;</span><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="970276">pat1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#507775" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a><span class="delimiter">(</span><a href="#970272" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#442450" title="=&gt; Typers.this.global.Tree">pat</a>, <a href="#970273" title="Typers.this.global.Type">pattpe</a><span class="delimiter">)</span>
      <span class="comment">// When case classes have more than two parameter lists, the pattern ends</span>
      <span class="comment">// up typed as a method.  We only pattern match on the first parameter</span>
      <span class="comment">// list, so substitute the final result type of the method, i.e. the type</span>
      <span class="comment">// of the case class.</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#970276" title="Typers.this.global.Tree">pat1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507178" title="=&gt; Int">paramSectionCount</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="#970276" title="Typers.this.global.Tree">pat1</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)pat1.type">setType</a> <a href="#970276" title="Typers.this.global.Tree">pat1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507177" title="=&gt; Typers.this.global.Type">finalResultType</a>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478375" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Bind" id="970496">bind</a> @ Bind<span class="delimiter">(</span><a title="Typers.this.global.Name" id="970501">name</a>, _<span class="delimiter">)</span> &lt;- <a href="#970272" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">pat</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#970501" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501117" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516190" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#970496" title="Typers.this.global.Bind">bind</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#970496" title="Typers.this.global.Bind">bind</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#507674" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#917810" title="(sym: Typers.this.global.Symbol)Unit">enterIfNotThere</a><span class="delimiter">(</span><a href="#970496" title="Typers.this.global.Bind">bind</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="970277">guard1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#970272" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#442452" title="=&gt; Typers.this.global.Tree">guard</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>
                         <span class="keyword">else</span> <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#970272" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#442452" title="=&gt; Typers.this.global.Tree">guard</a>, <a href="../symtab/Definitions.scala.html#508439" title="=&gt; Typers.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="970278">body1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#970272" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#442454" title="=&gt; Typers.this.global.Tree">body</a>, <a href="#970274" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508523" title="=&gt; List[(Typers.this.global.Symbol, Typers.this.global.Type)]">savedTypeBounds</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#970278" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508567" title="(tp: Typers.this.global.Type)Typers.this.global.Type">restoreTypeBounds</a><span class="delimiter">(</span><a href="#970278" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#507473" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#970274" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#970278" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#970274" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#970278" title="Typers.this.global.Tree">body1</a> =
            <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span>
              <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.TypeApply)Typers.this.global.TypeApply">atPos</a><span class="delimiter">(</span><a href="#970278" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../../../reflect/generic/Trees.scala.html#443835" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#970278" title="Typers.this.global.Tree">body1</a>, <a href="../symtab/Definitions.scala.html#508238" title="=&gt; Typers.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.TypeTree*)List[Typers.this.global.TypeTree]">List</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#970274" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// @M no need for pt.normalize here, is done in erasure</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
<span class="comment">//    body1 = checkNoEscaping.locals(context.scope, pt, body1)</span>
      <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560292" title="(tree: Typers.this.global.Tree, pat: Typers.this.global.Tree, guard: Typers.this.global.Tree, body: Typers.this.global.Tree)Typers.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#970272" title="Typers.this.global.CaseDef">cdef</a>, <a href="#970276" title="Typers.this.global.Tree">pat1</a>, <a href="#970277" title="Typers.this.global.Tree">guard1</a>, <a href="#970278" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.CaseDef">setType</a> <a href="#970278" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]" id="507741">typedCases</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="923756">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.CaseDef]" id="923757">cases</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.CaseDef]">List</a><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="923758">pattp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="Typers.this.global.Type" id="923759">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.CaseDef]">List</a><span class="delimiter">[</span>CaseDef<span class="delimiter">]</span> =
      <a href="#923757" title="List[Typers.this.global.CaseDef]">cases</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)List[Typers.this.global.CaseDef]">mapConserve</a> <span class="delimiter">{</span> <a title="Typers.this.global.CaseDef" id="970594">cdef</a> =&gt;
        <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#970594" title="Typers.this.global.CaseDef">cdef</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#507740" title="(cdef: Typers.this.global.CaseDef, pattpe: Typers.this.global.Type, pt: Typers.this.global.Type)Typers.this.global.CaseDef">typedCase</a><span class="delimiter">(</span><a href="#970594" title="Typers.this.global.CaseDef">cdef</a>, <a href="#923758" title="Typers.this.global.Type">pattp</a>, <a href="#923759" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param fun  ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507742">typedFunction</a><span class="delimiter">(</span><a title="Typers.this.global.Function" id="970596">fun</a>: <a href="../../../reflect/generic/Trees.scala.html#434091" title="Typers.this.global.Function">Function</a>, <a title="Int" id="970597">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="970598">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="970600">numVparams</a> = <a href="#970596" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#442631" title="=&gt; List[Typers.this.global.ValDef]">vparams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a>
      <span class="keyword">val</span> <a title="Boolean" id="970601">codeExpected</a> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478374" title="=&gt; Boolean">forMSIL</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#970598" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#509296" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#508131" title="=&gt; Typers.this.global.Symbol">CodeClass</a><span class="delimiter">)</span>

      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#970600" title="Int">numVparams</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="../symtab/Definitions.scala.html#479030" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508166" title="=&gt; Int">MaxFunctionArity</a><span class="delimiter">)</span>
        <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#970596" title="Typers.this.global.Function">fun</a>, <span title="java.lang.String(&quot;implementation restricts functions to &quot;)" class="string">&quot;implementation restricts functions to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/Definitions.scala.html#479030" title="object Typers.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508166" title="=&gt; Int">MaxFunctionArity</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; parameters&quot;)" class="string">&quot; parameters&quot;</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" id="970602">decompose</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="970612">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Tuple3.scala.html#317" title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</a>Symbol, List<span class="delimiter">[</span>Type<span class="delimiter">]</span>, Type<span class="delimiter">)</span> =
        <span title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508198" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#970612" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
             <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
             <a href="#970612" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508001" title="=&gt; Typers.this.global.Symbol">PartialFunctionClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
             <a href="#970600" title="Int">numVparams</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#970596" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#442633" title="=&gt; Typers.this.global.Tree">body</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434100" title="Typers.this.global.Match">Match</a><span class="delimiter">]</span><span class="delimiter">)</span>
             <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="comment">// see bug901 for a reason why next conditions are needed</span>
            <span class="delimiter">(</span><a href="#970612" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#970600" title="Int">numVparams</a>
             <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
             <a href="#970596" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#442631" title="=&gt; List[Typers.this.global.ValDef]">vparams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#970638" title="Typers.this.global.ValDef">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../../../Tuple3.scala.html#53296" title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</a><a href="#970612" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#970612" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/TraversableLike.scala.html#49085" title="=&gt; List[Typers.this.global.Type]">init</a>, <a href="#970612" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71051" title="=&gt; Typers.this.global.Type">last</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../../../Tuple3.scala.html#53296" title="(_1: Typers.this.global.Symbol, _2: List[Typers.this.global.Type], _3: Typers.this.global.WildcardType.type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.WildcardType.type)" class="delimiter">(</a><a href="../../../Array.scala.html#49205" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#970600" title="Int">numVparams</a><span class="delimiter">)</span>, <a href="#970596" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#442631" title="=&gt; List[Typers.this.global.ValDef]">vparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.NoType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.NoType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="970671">x</a> =&gt; <a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a href="../../../Tuple3.scala.html#53296" title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple3.scala.html#53312" title="Typers.this.global.Symbol" id="970604">clazz</a>, <a href="../../../Tuple3.scala.html#53314" title="List[Typers.this.global.Type]" id="970605">argpts</a>, <a href="../../../Tuple3.scala.html#53316" title="Typers.this.global.Type" id="970606">respt</a><span class="delimiter">)</span> = <a href="#970602" title="(pt: Typers.this.global.Type)(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type)">decompose</a><a href="../../../Tuple3.scala.html#317" title="(Typers.this.global.Symbol, List[Typers.this.global.Type], Typers.this.global.Type) @unchecked" class="delimiter">(</a><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#970601" title="Boolean">codeExpected</a><span class="delimiter">)</span> <a href="#970598" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Type">head</a> <span class="keyword">else</span> <a href="#970598" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#970605" title="List[Typers.this.global.Type]">argpts</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71061" title="(len: Int)Int">lengthCompare</a><span class="delimiter">(</span><a href="#970600" title="Int">numVparams</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
        <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#970596" title="Typers.this.global.Function">fun</a>, <span title="java.lang.String(&quot;wrong number of parameters; expected = &quot;)" class="string">&quot;wrong number of parameters; expected = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#970605" title="List[Typers.this.global.Type]">argpts</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="970723">vparamSyms</a> = <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Typers.this.global.ValDef], _2: List[Typers.this.global.Type])(List[Typers.this.global.ValDef], List[Typers.this.global.Type])" class="delimiter">(</a><a href="#970596" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#442631" title="=&gt; List[Typers.this.global.ValDef]">vparams</a>, <a href="#970605" title="List[Typers.this.global.Type]">argpts</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Typers.this.global.ValDef] =&gt; scala.collection.TraversableLike[Typers.this.global.ValDef,List[Typers.this.global.ValDef]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]])(List[Typers.this.global.ValDef], List[Typers.this.global.Type])#Zipped[List[Typers.this.global.ValDef],Typers.this.global.ValDef,List[Typers.this.global.Type],Typers.this.global.Type]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (Typers.this.global.ValDef, Typers.this.global.Type) =&gt; Typers.this.global.Symbol)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="970786">vparam</a>, <a title="Typers.this.global.Type" id="970787">argpt</a><span class="delimiter">)</span> =&gt;
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#970786" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#970786" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> =
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#507473" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#970787" title="Typers.this.global.Type">argpt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#970787" title="Typers.this.global.Type">argpt</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="#970596" title="Typers.this.global.Function">fun</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="EtaExpansion.scala.html#927899" title="Unit">etaExpansion</a><span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="970792">vparams</a>, <a title="Typers.this.global.Tree" id="970793">fn</a>, <a title="List[Typers.this.global.Tree]" id="970794">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#970601" title="Boolean">codeExpected</a> =&gt;
                    <a href="#507706" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#970800" title="Typers.this.Typer">_</a>.<a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#970793" title="Typers.this.global.Tree">fn</a>, <a href="Modes.scala.html#507426" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#970597" title="Int">mode</a><span class="delimiter">)</span>, <a href="#970598" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                      <span class="keyword">case</span> <a title="Unit" id="970808">fn1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> <span class="keyword">if</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> =&gt;
                        <span class="comment">// if context,undetparams is not empty, the function was polymorphic,</span>
                        <span class="comment">// so we need the missing arguments to infer its type. See #871</span>
                        <span class="comment">//println(&quot;typing eta &quot;+fun+&quot;:&quot;+fn1.tpe+&quot;/&quot;+context.undetparams)</span>
                        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="970810">ftpe</a> = <a href="Infer.scala.html#507476" title="(tp: Typers.this.global.Type)Typers.this.global.Type">normalize</a><span class="delimiter">(</span><a href="#970808" title="Typers.this.global.Tree">fn1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#507204" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../../../Array.scala.html#49205" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#970600" title="Int">numVparams</a><span class="delimiter">)</span>
                        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508198" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#970810" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Infer.scala.html#507473" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#970810" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                          <span title="Nothing" class="keyword">return</span> <a href="#507742" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span><a href="#970596" title="Typers.this.global.Function">fun</a>, <a href="#970597" title="Int">mode</a>, <a href="#970810" title="Typers.this.global.Type">ftpe</a><span class="delimiter">)</span>
                      <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <span class="delimiter">}</span>
                <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#970786" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="TypeDiagnostics.scala.html#507631" title="(fun: Typers.this.global.Tree, vparam: Typers.this.global.ValDef, pt: Typers.this.global.Type)java.lang.String">missingParameterTypeMsg</a><span class="delimiter">(</span><a href="#970596" title="Typers.this.global.Function">fun</a>, <a href="#970786" title="Typers.this.global.ValDef">vparam</a>, <a href="#970598" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../symtab/Types.scala.html#478727" title="object Typers.this.global.ErrorType">ErrorType</a>
              <span class="delimiter">}</span>
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#970786" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501488" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> <a href="#970786" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Typers.this.global.Tree">tpt</a> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: Typers.this.global.Position)vparam.tpt.type">setPos</a> <a href="#970786" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a>
          <span class="delimiter">}</span>
          <a href="#507727" title="(txt: Typers.this.Context, tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>, <a href="#970786" title="Typers.this.global.ValDef">vparam</a><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508520" title="=&gt; Boolean">retyping</a><span class="delimiter">)</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#970786" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <a href="#970786" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="970724">vparams</a> = <a href="#970596" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#442631" title="=&gt; List[Typers.this.global.ValDef]">vparams</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.ValDef)List[Typers.this.global.ValDef]">mapConserve</a> <span class="delimiter">(</span><a href="#507730" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">)</span>
<span class="comment">//        for (vparam &lt;- vparams) {</span>
<span class="comment">//          checkNoEscaping.locals(context.scope, WildcardType, vparam.tpt); ()</span>
<span class="comment">//        }</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="970725">body</a> = <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#970596" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#442633" title="=&gt; Typers.this.global.Tree">body</a>, <a href="#970606" title="Typers.this.global.Type">respt</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="970726">formals</a> = <a href="#970723" title="List[Typers.this.global.Symbol]">vparamSyms</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#970895" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="970727">restpe</a> = <a href="#507757" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#970725" title="Typers.this.global.Tree">body</a>, <a href="#970596" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#507164" title="=&gt; Typers.this.global.Type">deconst</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="970728">funtpe</a> = <a href="../symtab/Types.scala.html#478811" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#970604" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#970604" title="Typers.this.global.Symbol">clazz</a>, <a href="#970726" title="List[Typers.this.global.Type]">formals</a> <a href="../../../collection/SeqLike.scala.html#54161" title="(elem: Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">:+</a> <a href="#970727" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
<span class="comment">//        body = checkNoEscaping.locals(context.scope, restpe, body)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Function" id="970729">fun1</a> = <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560298" title="(tree: Typers.this.global.Tree, vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="#970596" title="Typers.this.global.Function">fun</a>, <a href="#970724" title="List[Typers.this.global.ValDef]">vparams</a>, <a href="#970725" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Function">setType</a><span class="delimiter">(</span><a href="#970728" title="Typers.this.global.Type">funtpe</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#970601" title="Boolean">codeExpected</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="970979">liftPoint</a> = <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479144" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508133" title="=&gt; Typers.this.global.Symbol">CodeModule</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516670" title="=&gt; Typers.this.global.nme.NameType">lift_</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Function*)List[Typers.this.global.Function]">List</a><span class="delimiter">(</span><a href="#970729" title="Typers.this.global.Function">fun1</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Apply)Typers.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#970596" title="Typers.this.global.Function">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#970979" title="Typers.this.global.Apply">liftPoint</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#970729" title="Typers.this.global.Function">fun1</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])Unit" id="507743">typedRefinement</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="971030">stats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#507674" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#917804" title="(trees: List[Typers.this.global.Tree])Typers.this.Namer">enterSyms</a><span class="delimiter">(</span><a href="#971030" title="List[Typers.this.global.Tree]">stats</a><span class="delimiter">)</span>
      <span class="comment">// need to delay rest of typedRefinement to avoid cyclic reference errors</span>
      <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500972" title="=&gt; scala.collection.mutable.ListBuffer[() =&gt; Unit]">toCheck</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: () =&gt; Unit)scala.collection.mutable.ListBuffer[() =&gt; Unit]">+=</a> <span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
        <span class="comment">// go to next outer context which is not silent, see #3614</span>
        <span class="keyword">var</span> <a title="Typers.this.Context" id="971057">c</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#971057" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#508508" title="=&gt; Boolean">reportGeneralErrors</a><span class="delimiter">)</span> <a href="#971057" title="Typers.this.Context">c</a> = <a href="#971057" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#508466" title="=&gt; Typers.this.Context">outer</a>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="971058">stats1</a> = <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#971057" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#507745" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#971030" title="List[Typers.this.global.Tree]">stats</a>, <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="971068">stat</a> &lt;- <a href="../../../collection/generic/FilterMonadic.scala.html#53496" title="(f: Typers.this.global.Tree =&gt; Any)Unit">stats1</a> <span class="keyword">if</span> <a href="#971068" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441036" title="=&gt; Boolean">isDef</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="971069">member</a> = <a href="#971068" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509321" title="=&gt; List[Typers.this.global.Symbol]">ancestors</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</a>
                <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="971078">bc</a> =&gt; <a href="#971069" title="Typers.this.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509336" title="(ofclazz: Typers.this.global.Symbol, site: Typers.this.global.Type)Typers.this.global.Symbol">matchingSymbol</a><span class="delimiter">(</span><a href="#971078" title="Typers.this.global.Symbol">bc</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Typers.this.global.Type">thisType</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#971069" title="Typers.this.global.Symbol">member</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)member.type">setFlag</a> <span title="Long(2L)">OVERRIDE</span>
                <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(imp: Typers.this.global.Import)Typers.this.global.Import" id="507744">typedImport</a><span class="delimiter">(</span><a title="Typers.this.global.Import" id="971101">imp</a> : <a href="../../../reflect/generic/Trees.scala.html#434064" title="Typers.this.global.Import">Import</a><span class="delimiter">)</span> : <a href="../../../reflect/generic/Trees.scala.html#434064" title="Typers.this.global.Import">Import</a> = <span class="delimiter">(</span><a href="#507443" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <a href="../../../collection/mutable/HashMap.scala.html#73161" title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">remove</a> <a href="#971101" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span> <span title="Typers.this.global.Import" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Import">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Import" id="971106">imp1</a>: <a href="../../../reflect/generic/Trees.scala.html#434064" title="Typers.this.global.Import">Import</a><span class="delimiter">)</span> =&gt; <a href="#971106" title="Typers.this.global.Import">imp1</a>
      <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="Typers.this.global.Import">None</a> =&gt; <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unhandled import: &quot;)" class="string">&quot;unhandled import: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#971101" title="Typers.this.global.Import">imp</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>; <a href="#971101" title="Typers.this.global.Import">imp</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]" id="507745">typedStats</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="968528">stats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Symbol" id="968529">exprOwner</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Boolean" id="971107">inBlock</a> = <a href="#968529" title="Typers.this.global.Symbol">exprOwner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="971108">includesTargetPos</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="971118">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
        <a href="#971118" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501490" title="=&gt; Boolean">isRange</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#971118" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a> <a href="../util/Position.scala.html#501508" title="(pos: scala.tools.nsc.util.Position)Boolean">includes</a> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500975" title="=&gt; Typers.this.global.Position">targetPos</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Boolean" id="971109">localTarget</a> = <a href="#968528" title="List[Typers.this.global.Tree]">stats</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <a href="#971108" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a>
      <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)Typers.this.global.Tree" id="971110">typedStat</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="971131">stat</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551031" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isDeclaration</a><span class="delimiter">(</span><a href="#971131" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#971131" title="Typers.this.global.Tree">stat</a>, <span title="java.lang.String(&quot;only declarations allowed here&quot;)" class="string">&quot;only declarations allowed here&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="#971131" title="Typers.this.global.Tree">stat</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Import" id="971133">imp</a> @ Import<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="#507676" title="(x$1: Typers.this.Context)Unit">context</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508542" title="(imp: Typers.this.global.Import)Typers.this.Context">makeNewImport</a><span class="delimiter">(</span><a href="#971133" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span>
              <a href="#971133" title="Typers.this.global.Import">imp</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; Typers.this.global.Symbol">initialize</a>
              <a href="#507744" title="(imp: Typers.this.global.Import)Typers.this.global.Import">typedImport</a><span class="delimiter">(</span><a href="#971133" title="Typers.this.global.Import">imp</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#971109" title="Boolean">localTarget</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#971108" title="(tree: Typers.this.global.Tree)Boolean">includesTargetPos</a><span class="delimiter">(</span><a href="#971131" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// skip typechecking of statements in a sequence where some other statement includes</span>
                <span class="comment">// the targetposition</span>
                <a href="#971131" title="Typers.this.global.Tree">stat</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.Typer" id="971137">localTyper</a> = <span title="Typers.this.Typer" class="keyword">if</span> <span class="delimiter">(</span><a href="#971107" title="Boolean">inBlock</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#971131" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441036" title="=&gt; Boolean">isDef</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#971131" title="Typers.this.global.Tree">stat</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434058" title="Typers.this.global.LabelDef">LabelDef</a><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#507454" title="Typers.this.Typer" class="keyword">this</a>
                                 <span class="keyword">else</span> <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508546" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#971131" title="Typers.this.global.Tree">stat</a>, <a href="#968529" title="Typers.this.global.Symbol">exprOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="971138">result</a> = <a href="TypeDiagnostics.scala.html#963985" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#971137" title="Typers.this.Typer">localTyper</a>.<a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#971131" title="Typers.this.global.Tree">stat</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551039" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfOrSuperConstrCall</a><span class="delimiter">(</span><a href="#971138" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508497" title="(x$1: Boolean)Unit">inConstructorSuffix</a> = <span title="Boolean(true)" class="keyword">true</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551037" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSelfConstrCall</a><span class="delimiter">(</span><a href="#971138" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#971138" title="Typers.this.global.Tree">result</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501496" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <a href="#968529" title="Typers.this.global.Symbol">exprOwner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435410" title="=&gt; Typers.this.global.Symbol">enclMethod</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501496" title="(default: Int)Int">pointOrElse</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#971131" title="Typers.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;called constructor\'s definition must precede calling constructor\'s definition&quot;)" class="string">&quot;called constructor's definition must precede calling constructor's definition&quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#971138" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** 'accessor' and 'accessed' are so similar it becomes very difficult to
       *  follow the logic, so I renamed one to something distinct.
       */</span>
      <span class="keyword">def</span> <a title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean" id="971111">accesses</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="971152">looker</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="971153">accessed</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#971153" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435324" title="=&gt; Boolean">hasLocalFlag</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>
        <a href="#971153" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435308" title="=&gt; Boolean">isParamAccessor</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#971152" title="Typers.this.global.Symbol">looker</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435323" title="=&gt; Boolean">hasAccessorFlag</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#971153" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435323" title="=&gt; Boolean">hasAccessorFlag</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#971153" title="Typers.this.global.Symbol">accessed</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]" id="971112">checkNoDoubleDefsAndAddSynthetics</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="971154">stats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="971155">scope</a> = <span title="Typers.this.global.Scope" class="keyword">if</span> <span class="delimiter">(</span><a href="#971107" title="Boolean">inBlock</a><span class="delimiter">)</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a> <span class="keyword">else</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Typers.this.global.Scope">decls</a>
        <span class="keyword">var</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="971156">newStats</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
        <span class="keyword">var</span> <a title="Boolean" id="971157">needsCheck</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">var</span> <a title="Boolean" id="971158">moreToAdd</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#971158" title="Boolean">moreToAdd</a><span class="delimiter">)</span> <a href="#971159" title="()Unit" class="delimiter">{</a>
          <span class="keyword">val</span> <a title="Int" id="971161">initSize</a> = <a href="#971155" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514357" title="=&gt; Int">size</a>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="971162">e</a> = <a href="#971155" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514334" title="=&gt; Typers.this.global.ScopeEntry">elems</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#971162" title="Typers.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514517" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#971155" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#971163" title="()Unit" class="delimiter">{</a>

            <span class="comment">// check no double def</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#971157" title="Boolean">needsCheck</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="971169">e1</a> = <a href="#971155" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514370" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#971162" title="Typers.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#971169" title="Typers.this.global.ScopeEntry">e1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#971169" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#514517" title="=&gt; Typers.this.global.Scope">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#971155" title="Typers.this.global.Scope">scope</a><span class="delimiter">)</span> <a href="#971171" title="()Unit" class="delimiter">{</a>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#971111" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#971169" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#971111" title="(looker: Typers.this.global.Symbol, accessed: Typers.this.global.Symbol)Boolean">accesses</a><span class="delimiter">(</span><a href="#971169" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>, <a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                    <span class="delimiter">(</span><a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435370" title="=&gt; Boolean">isType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#971107" title="Boolean">inBlock</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507227" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#971169" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="comment">// default getters are defined twice when multiple overloads have defaults. an</span>
                  <span class="comment">// error for this is issued in RefChecks.checkDefaultsInOverloaded</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509184" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#971169" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509184" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435321" title="=&gt; Boolean">hasDefaultFlag</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509119" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507997" title="=&gt; Typers.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#971169" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509119" title="(cls: Typers.this.global.Symbol)Boolean">hasAnnotation</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507997" title="=&gt; Typers.this.global.Symbol">BridgeClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#971169" title="Typers.this.global.ScopeEntry">e1</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; is defined twice&quot;)" class="string">&quot; is defined twice&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                    <span class="delimiter">{</span><span title="Any" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500986" title="()String">toString</a><span class="delimiter">}</span><span class="delimiter">)</span>
                    <a href="#971155" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514365" title="(e: Typers.this.global.ScopeEntry)Unit">unlink</a><span class="delimiter">(</span><a href="#971169" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span> <span class="comment">// need to unlink to avoid later problems with lub; see #2779</span>
                  <span class="delimiter">}</span>
                <a href="#971169" title="Typers.this.global.ScopeEntry">e1</a> = <a href="#971155" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514370" title="(entry: Typers.this.global.ScopeEntry)Typers.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#971169" title="Typers.this.global.ScopeEntry">e1</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

          <span class="comment">// add synthetics</span>
          <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500970" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <a href="../../../collection/mutable/HashMap.scala.html#73158" title="(key: Typers.this.global.Symbol)Option[Typers.this.global.Tree]">get</a> <a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a> <a href="../../../Option.scala.html#48491" title="(f: Typers.this.global.Tree =&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree])Unit">foreach</a> <span class="delimiter">{</span> <a title="Typers.this.global.Tree" id="971208">tree</a> =&gt;
            <a href="#971156" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: Typers.this.global.Tree)scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">+=</a> <a href="#971110" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a><span class="delimiter">(</span><a href="#971208" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span class="comment">// might add even more synthetics to the scope</span>
            <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500970" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">synthetics</a> <a href="../../../collection/mutable/HashMap.scala.html#73163" title="(key: Typers.this.global.Symbol)scala.collection.mutable.HashMap[Typers.this.global.Symbol,Typers.this.global.Tree]">-=</a> <a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>
          <span class="delimiter">}</span>

          <a href="#971162" title="Typers.this.global.ScopeEntry">e</a> = <a href="#971162" title="Typers.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514523" title="=&gt; Typers.this.global.ScopeEntry">next</a>
        <span class="delimiter">}</span>
        <a href="#971157" title="Boolean">needsCheck</a> = <span title="Boolean(false)" class="keyword">false</span>
        <span class="comment">// the type completer of a synthetic might add more synthetics. example: if the</span>
        <span class="comment">// factory method of a case class (i.e. the constructor) has a default.</span>
        <a href="#971158" title="Boolean">moreToAdd</a> = <a href="#971161" title="Int">initSize</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="#971155" title="Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514357" title="=&gt; Int">size</a>
        <span class="delimiter">}</span>
        <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#971156" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61939" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#971154" title="List[Typers.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">// put default getters next to the method they belong to,</span>
          <span class="comment">// same for companion objects. fixes #2489 and #4036.</span>
          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean" id="971250">matches</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="971252">stat</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="971253">synt</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Tree)" class="delimiter">(</a><a href="#971252" title="Typers.this.global.Tree">stat</a>, <a href="#971253" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>DefDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TermName" id="971270">statName</a>, _, _, _, _<span class="delimiter">)</span>, DefDef<span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="971279">mods</a>, <a title="Typers.this.global.TermName" id="971280">syntName</a>, _, _, _, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#971279" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435321" title="=&gt; Boolean">hasDefaultFlag</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#971280" title="Typers.this.global.TermName">syntName</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><a href="#971270" title="Typers.this.global.TermName">statName</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span>ClassDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TypeName" id="971291">className</a>, _, _<span class="delimiter">)</span>, ModuleDef<span class="delimiter">(</span>_, <a title="Typers.this.global.TermName" id="971299">moduleName</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="#971291" title="Typers.this.global.TypeName">className</a>.<a href="../symtab/Names.scala.html#501544" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#971299" title="Typers.this.global.TermName">moduleName</a>

            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="971251">matching</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="971305">stat</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="971307">pos</a>, <a href="../../../Tuple2.scala.html#53404" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]" id="971308">neg</a><span class="delimiter">)</span> = <a href="#971156" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<a href="../../../collection/TraversableLike.scala.html#49058" title="(p: Typers.this.global.Tree =&gt; Boolean)(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree])">partition</a><a href="../../../Tuple2.scala.html#1520" title="(scala.collection.mutable.ListBuffer[Typers.this.global.Tree], scala.collection.mutable.ListBuffer[Typers.this.global.Tree]) @unchecked" class="delimiter">(</a><a title="Typers.this.global.Tree" id="971314">synt</a> =&gt; <a href="#971250" title="(stat: Typers.this.global.Tree, synt: Typers.this.global.Tree)Boolean">matches</a><span class="delimiter">(</span><a href="#971305" title="Typers.this.global.Tree">stat</a>, <a href="#971314" title="Typers.this.global.Tree">synt</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#971156" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a> = <a href="#971308" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">neg</a>
            <a href="#971307" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">pos</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[Typers.this.global.Tree]">toList</a>
          <span class="delimiter">}</span>

          <span class="delimiter">(</span><a href="#971154" title="List[Typers.this.global.Tree]">stats</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71042" title="(z: List[Typers.this.global.Tree])(f: (Typers.this.global.Tree, List[Typers.this.global.Tree]) =&gt; List[Typers.this.global.Tree])List[Typers.this.global.Tree]">foldRight</a> List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="971353">stat</a>, <a title="List[Typers.this.global.Tree]" id="971354">res</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <a href="#971353" title="Typers.this.global.Tree">stat</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#971251" title="(stat: Typers.this.global.Tree)List[Typers.this.global.Tree]">matching</a><span class="delimiter">(</span><a href="#971353" title="Typers.this.global.Tree">stat</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#971354" title="List[Typers.this.global.Tree]">res</a>
          <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">:::</a> <a href="#971156" title="scala.collection.mutable.ListBuffer[Typers.this.global.Tree]">newStats</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[Typers.this.global.Tree]">toList</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="971113">result</a> = <a href="#968528" title="List[Typers.this.global.Tree]">stats</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a href="#971110" title="(stat: Typers.this.global.Tree)Typers.this.global.Tree">typedStat</a><span class="delimiter">)</span>
      <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#971113" title="List[Typers.this.global.Tree]">result</a>
      <span class="keyword">else</span> <a href="#971112" title="(stats: List[Typers.this.global.Tree])List[Typers.this.global.Tree]">checkNoDoubleDefsAndAddSynthetics</a><span class="delimiter">(</span><a href="#971113" title="List[Typers.this.global.Tree]">result</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507746">typedArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="966660">arg</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="966661">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Int" id="966662">newmode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="966663">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="971385">typedMode</a> = <a href="Modes.scala.html#507425" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#966661" title="Int">mode</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <a href="#966662" title="Int">newmode</a>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="971386">t</a> = <a href="#507693" title="(inConstr: Boolean)Typers.this.Typer">constrTyperIf</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#966661" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(8)">SCCmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#966660" title="Typers.this.global.Tree">arg</a>, <a href="#971385" title="Int">typedMode</a>, <a href="#966663" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="TypeDiagnostics.scala.html#507655" title="object Typer.this.checkDead">checkDead</a>.<a href="TypeDiagnostics.scala.html#963986" title="(mode: Int, tree: Typers.this.global.Tree)Typers.this.global.Tree">inMode</a><span class="delimiter">(</span><a href="#971385" title="Int">typedMode</a>, <a href="#971386" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]" id="507747">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="966692">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="966693">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span> =
      <a href="#966692" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="966702">arg</a> =&gt; <a href="#507746" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#966702" title="Typers.this.global.Tree">arg</a>, <a href="#966693" title="Int">mode</a>, <span title="Int(0)" class="int">0</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int, originalFormals: List[Typers.this.global.Type], adaptedFormals: List[Typers.this.global.Type])List[Typers.this.global.Tree]" id="507748">typedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="966443">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="966444">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="List[Typers.this.global.Type]" id="966445">originalFormals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="966446">adaptedFormals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="List[Int]" id="966449">newmodes</a> = <a href="#966445" title="List[Typers.this.global.Type]">originalFormals</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Type =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Int,List[Int]])List[Int]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="966466">tp</a> =&gt; <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508061" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#966466" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span> <span class="keyword">else</span> <span title="Int(32768)">BYVALmode</span><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508067" title="(formals: List[Typers.this.global.Type])Boolean">isVarArgTypes</a><span class="delimiter">(</span><a href="#966445" title="List[Typers.this.global.Type]">originalFormals</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// TR check really necessary?</span>
        <a href="#966449" title="List[Int]">newmodes</a> = <a href="#966449" title="List[Int]">newmodes</a>.<a href="../../../collection/TraversableLike.scala.html#49085" title="=&gt; List[Int]">init</a> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[Int])(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Int,List[Int]])List[Int]">++</a> <a href="../../../collection/immutable/List.scala.html#14048" title="object List">List</a>.<a href="../../../collection/generic/GenTraversableFactory.scala.html#48822" title="(n: Int)(elem: =&gt; Int)List[Int]">fill</a><span class="delimiter">(</span><a href="#966443" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#966445" title="List[Typers.this.global.Type]">originalFormals</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">(</span>STARmode <span title="Int(36864)">|</span> BYVALmode<span class="delimiter">)</span>

      <a href="../../../Tuple3.scala.html#53296" title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Type], _3: List[Int])(List[Typers.this.global.Tree], List[Typers.this.global.Type], List[Int])" class="delimiter">(</a><a href="#966443" title="List[Typers.this.global.Tree]">args</a>, <a href="#966446" title="List[Typers.this.global.Type]">adaptedFormals</a>, <a href="#966449" title="List[Int]">newmodes</a><span class="delimiter">)</span>.<a href="../../../Tuple3.scala.html#53331" title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w3: List[Int] =&gt; scala.collection.IterableLike[Int,List[Int]])(List[Typers.this.global.Tree], List[Typers.this.global.Type], List[Int])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Type],Typers.this.global.Type,List[Int],Int]">zipped</a> <a href="../../../Tuple3.scala.html#57569" title="(f: (Typers.this.global.Tree, Typers.this.global.Type, Int) =&gt; Typers.this.global.Tree)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="966657">arg</a>, <a title="Typers.this.global.Type" id="966658">formal</a>, <a title="Int" id="966659">m</a><span class="delimiter">)</span> =&gt;
        <a href="#507746" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#966657" title="Typers.this.global.Tree">arg</a>, <a href="#966444" title="Int">mode</a>, <a href="#966659" title="Int">m</a>, <a href="#966658" title="Typers.this.global.Type">formal</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Does function need to be instantiated, because a missing parameter
     *  in an argument closure overlaps with an uninstantiated formal?
     */</span>
    <span class="keyword">def</span> <a title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean" id="507749">needsInstantiation</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="971404">tparams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="List[Typers.this.global.Type]" id="971405">formals</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>, <a title="List[Typers.this.global.Tree]" id="971406">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tparam: Typers.this.global.Symbol)Boolean" id="971409">isLowerBounded</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="971410">tparam</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="971411">losym</a> = <a href="#971410" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546583" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <a href="#971411" title="Typers.this.global.Symbol">losym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507933" title="=&gt; Typers.this.global.Symbol">NothingClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#971411" title="Typers.this.global.Symbol">losym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507931" title="=&gt; Typers.this.global.Symbol">NullClass</a>
      <span class="delimiter">}</span>
      <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Typers.this.global.Type], _2: List[Typers.this.global.Tree])(List[Typers.this.global.Type], List[Typers.this.global.Tree])" class="delimiter">(</a><a href="#971405" title="List[Typers.this.global.Type]">formals</a>, <a href="#971406" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Typers.this.global.Type] =&gt; scala.collection.TraversableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w2: List[Typers.this.global.Tree] =&gt; scala.collection.IterableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]])(List[Typers.this.global.Type], List[Typers.this.global.Tree])#Zipped[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Tree],Typers.this.global.Tree]">zipped</a> <a href="../../../Tuple2.scala.html#57632" title="(f: (Typers.this.global.Type, Typers.this.global.Tree) =&gt; Boolean)Boolean">exists</a> <a href="../../../Tuple2.scala.html#53390" title="Boolean" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Boolean" class="delimiter">(</span><a title="Typers.this.global.Type" id="971481">formal</a>, Function<span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="971484">vparams</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#971484" title="List[Typers.this.global.ValDef]">vparams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.ValDef =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#971491" title="Typers.this.global.ValDef">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="#971484" title="List[Typers.this.global.ValDef]">vparams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../symtab/Definitions.scala.html#508166" title="=&gt; Int">MaxFunctionArity</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><a href="#971481" title="Typers.this.global.Type">formal</a> <a href="../symtab/Types.scala.html#507204" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a> <a href="../../../Array.scala.html#49205" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><a href="#971484" title="List[Typers.this.global.ValDef]">vparams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span>_, _, <a title="List[Typers.this.global.Type]" id="971500">formalargs</a><span class="delimiter">)</span> =&gt;
              <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Typers.this.global.Type], _2: List[Typers.this.global.ValDef])(List[Typers.this.global.Type], List[Typers.this.global.ValDef])" class="delimiter">(</a><a href="#971500" title="List[Typers.this.global.Type]">formalargs</a>, <a href="#971484" title="List[Typers.this.global.ValDef]">vparams</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Typers.this.global.Type] =&gt; scala.collection.TraversableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w2: List[Typers.this.global.ValDef] =&gt; scala.collection.IterableLike[Typers.this.global.ValDef,List[Typers.this.global.ValDef]])(List[Typers.this.global.Type], List[Typers.this.global.ValDef])#Zipped[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.ValDef],Typers.this.global.ValDef]">zipped</a>.<a href="../../../Tuple2.scala.html#57632" title="(f: (Typers.this.global.Type, Typers.this.global.ValDef) =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="971551">formalarg</a>, <a title="Typers.this.global.ValDef" id="971552">vparam</a><span class="delimiter">)</span> =&gt;
                <a href="#971552" title="Typers.this.global.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#971404" title="List[Typers.this.global.Symbol]">tparams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#971551" title="Typers.this.global.Type">formalarg</a> <a href="../symtab/Types.scala.html#507218" title="(sym: Typers.this.global.Symbol)Boolean">contains</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <span class="delimiter">(</span><a href="#971404" title="List[Typers.this.global.Symbol]">tparams</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71035" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">forall</a> <a href="#971409" title="(tparam: Typers.this.global.Symbol)Boolean">isLowerBounded</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
              <span title="Boolean(false)" class="keyword">false</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt;
          <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Is `tree' a block created by a named application?
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="507750">isNamedApplyBlock</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="946914">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> =
      <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508490" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a> <a href="../../../Option.scala.html#48490" title="(p: ((Typers.this.global.Tree, Typers.this.NamedApplyInfo)) =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#946919" title="(Typers.this.global.Tree, Typers.this.NamedApplyInfo)">_</a>.<a href="../../../Tuple2.scala.html#53402" title="=&gt; Typers.this.global.Tree">_1</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#946914" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean" id="507751">callToCompanionConstr</a><span class="delimiter">(</span><a title="Typers.this.Context" id="971568">context</a>: <a href="Contexts.scala.html#507359" title="Typers.this.Context">Context</a>, <a title="Typers.this.global.Symbol" id="971569">calledFun</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#971569" title="Typers.this.global.Symbol">calledFun</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="971572">methCtx</a> = <a href="#971568" title="Typers.this.Context">context</a>.<a href="Contexts.scala.html#508472" title="=&gt; Typers.this.Context">enclMethod</a>
        <span class="delimiter">(</span><a href="#971572" title="Typers.this.Context">methCtx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#507348" title="=&gt; Typers.this.Context">NoContext</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="971577">contextFun</a> = <a href="#971572" title="Typers.this.Context">methCtx</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <a href="#971577" title="Typers.this.global.Symbol">contextFun</a>.<a href="../symtab/Symbols.scala.html#509227" title="=&gt; Boolean">isPrimaryConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#971577" title="Typers.this.global.Symbol">contextFun</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435387" title="=&gt; Boolean">isModuleClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <a href="Namers.scala.html#507384" title="(clazz: Typers.this.global.Symbol, context: Typers.this.Context)Typers.this.global.Symbol">companionModuleOf</a><span class="delimiter">(</span><a href="#971569" title="Typers.this.global.Symbol">calledFun</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#971568" title="Typers.this.Context">context</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509335" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#971577" title="Typers.this.global.Symbol">contextFun</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507752">doTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="946985">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="946986">fun0</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="946987">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="946988">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="946989">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="comment">// TODO_NMT: check the assumption that args nonEmpty</span>
      <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Apply" id="971584">errTree</a> = <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560309" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <a href="#946986" title="Typers.this.global.Tree">fun0</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(msg: String)Typers.this.global.Apply" id="971585">errorTree</a><span class="delimiter">(</span><a title="String" id="971590">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#971590" title="String">msg</a><span class="delimiter">)</span>; <a href="#971584" title="=&gt; Typers.this.global.Apply">errTree</a> <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="971586">fun</a> = <a href="#946986" title="Typers.this.global.Tree">fun0</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441035" title="=&gt; Boolean">hasSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435388" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// remove alternatives with wrong number of parameters without looking at types.</span>
        <span class="comment">// less expensive than including them in inferMethodAlternatvie (see below).</span>
        <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree)Typers.this.global.Type" id="971591">shapeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="971595">arg</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a> = <a href="#971595" title="Typers.this.global.Tree">arg</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">Function</span><span class="delimiter">(</span><a title="List[Typers.this.global.ValDef]" id="971598">vparams</a>, <a title="Typers.this.global.Tree" id="971599">body</a><span class="delimiter">)</span> =&gt;
            <a href="../symtab/Definitions.scala.html#508196" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#971598" title="List[Typers.this.global.ValDef]">vparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="971616">vparam</a> =&gt; <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#971591" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span><a href="#971599" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.NamedType">AssignOrNamedArg</span><span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="971649">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="971650">rhs</a><span class="delimiter">)</span> =&gt;
            <a href="../symtab/Types.scala.html#848393" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#971649" title="Typers.this.global.Name">name</a>, <a href="#971591" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a><span class="delimiter">(</span><a href="#971650" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
            <a href="../symtab/Definitions.scala.html#507933" title="=&gt; Typers.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="971592">argtypes</a> = <a href="#946987" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <a href="#971591" title="(arg: Typers.this.global.Tree)Typers.this.global.Type">shapeType</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="971593">pre</a> = <a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; Typers.this.global.Type">prefix</a>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="971594">sym</a> = <a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../symtab/Symbols.scala.html#509300" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="971701">alt</a> =&gt;
          <span class="comment">// must use pt as expected type, not WildcardType (a tempting quick fix to #2665)</span>
          <span class="comment">// now fixed by using isWeaklyCompatible in exprTypeArgs</span>
          <span class="comment">// TODO: understand why exactly -- some types were not inferred anymore (`ant clean quick.bin` failed)</span>
          <span class="comment">// (I had expected inferMethodAlternative to pick up the slack introduced by using WildcardType here)</span>
          <a href="Infer.scala.html#507828" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>, <a href="Infer.scala.html#507823" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#971593" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#971701" title="Typers.this.global.Symbol">alt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#971592" title="List[Typers.this.global.Type]">argtypes</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#971594" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435388" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="971708">sym1</a> = <a href="#971594" title="Typers.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509300" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="971710">alt</a> =&gt; <span class="delimiter">{</span>
            <span class="comment">// eliminate functions that would result from tupling transforms</span>
            <span class="comment">// keeps alternatives with repeated params</span>
            <a href="Infer.scala.html#507824" title="(tp: Typers.this.global.Type, n: Int)Boolean">hasExactlyNumParams</a><span class="delimiter">(</span><a href="Infer.scala.html#507823" title="(tp: Typers.this.global.Type)Typers.this.global.Type">followApply</a><span class="delimiter">(</span><a href="#971710" title="Typers.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#971592" title="List[Typers.this.global.Type]">argtypes</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
            <span class="comment">// also keep alts which define at least one default</span>
            <a href="#971710" title="Typers.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507179" title="=&gt; List[List[Typers.this.global.Symbol]]">paramss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: List[Typers.this.global.Symbol] =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#971721" title="List[Typers.this.global.Symbol]">_</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#971728" title="Typers.this.global.Symbol">_</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435318" title="=&gt; Boolean">hasDefault</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#971708" title="Typers.this.global.Symbol">sym1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#971594" title="Typers.this.global.Symbol">sym</a> = <a href="#971708" title="Typers.this.global.Symbol">sym1</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#971594" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="#971586" title="Typers.this.global.Tree">fun</a> = <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a> <a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">setSymbol</a> <a href="#971594" title="Typers.this.global.Symbol">sym</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</a> <a href="#971593" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#971594" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="Modes.scala.html#507426" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#946988" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="971746">pre</a>, <a title="List[Typers.this.global.Symbol]" id="971747">alts</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="971748">undetparams</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508533" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" id="971749">argtpes</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">ListBuffer</a><span class="delimiter">[</span>Type<span class="delimiter">]</span>
          <span class="keyword">val</span> <a title="Int" id="971750">amode</a> = <a href="#507442" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#946988" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="971751">args1</a> = <a href="#946987" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <a href="#971762" title="Typers.this.global.Tree" class="delimiter">{</a>
            <span class="keyword">case</span> <a title="Typers.this.global.AssignOrNamedArg" id="971763">arg</a> @ AssignOrNamedArg<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="971769">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="971770">rhs</a><span class="delimiter">)</span> =&gt;
              <span class="comment">// named args: only type the righthand sides (&quot;unknown identifier&quot; errors otherwise)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="971771">rhs1</a> = <a href="#507746" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#971770" title="Typers.this.global.Tree">rhs</a>, <a href="#971750" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#971749" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: Typers.this.global.Type)argtpes.type">+=</a> <a href="../symtab/Types.scala.html#848393" title="(name: Typers.this.global.Name, tp: Typers.this.global.Type)Typers.this.global.NamedType">NamedType</a><span class="delimiter">(</span><a href="#971769" title="Typers.this.global.Name">name</a>, <a href="#971771" title="Typers.this.global.Tree">rhs1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507164" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
              <span class="comment">// the assign is untyped; that's ok because we call doTypedApply</span>
              <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.AssignOrNamedArg)Typers.this.global.AssignOrNamedArg">atPos</a><span class="delimiter">(</span><a href="#971763" title="Typers.this.global.AssignOrNamedArg">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#479153" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="#971763" title="Typers.this.global.AssignOrNamedArg">arg</a>.<a href="../ast/Trees.scala.html#557910" title="=&gt; Typers.this.global.Tree">lhs</a> , <a href="#971771" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span> <span class="delimiter">}</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="971787">arg</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="971788">arg1</a> = <a href="#507746" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#971787" title="Typers.this.global.Tree">arg</a>, <a href="#971750" title="Int">amode</a>, <span title="Int(32768)">BYVALmode</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
              <a href="#971749" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: Typers.this.global.Type)argtpes.type">+=</a> <a href="#971788" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507164" title="=&gt; Typers.this.global.Type">deconst</a>
              <a href="#971788" title="Typers.this.global.Tree">arg1</a>
          <span class="delimiter">}</span>
          <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508532" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#971748" title="List[Typers.this.global.Symbol]">undetparams</a>
          <a href="Infer.scala.html#507862" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], argtpes: List[Typers.this.global.Type], pt0: Typers.this.global.Type, varArgsOnly: Boolean)Unit">inferMethodAlternative</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#971748" title="List[Typers.this.global.Symbol]">undetparams</a>, <a href="#971749" title="scala.collection.mutable.ListBuffer[Typers.this.global.Type]">argtpes</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[Typers.this.global.Type]">toList</a>, <a href="#946989" title="Typers.this.global.Type">pt</a>, varArgsOnly = <a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551057" title="(trees: List[Typers.this.global.treeInfo.trees.Tree])Boolean">isWildcardStarArgList</a><span class="delimiter">(</span><a href="#946987" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#507752" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#507426" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#946988" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="#971751" title="List[Typers.this.global.Tree]">args1</a>, <a href="#946988" title="Int">mode</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="971824">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="971827">params</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="971828">paramTypes</a> = <a href="#971824" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#546852" title="=&gt; List[Typers.this.global.Type]">paramTypes</a>
          <span class="comment">// repeat vararg as often as needed, remove by-name</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="971829">formals</a> = <a href="Infer.scala.html#507462" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#971828" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span>

          <span class="comment">/** Try packing all arguments into a Tuple and apply `fun'
           *  to that. This is the last thing which is tried (after
           *  default arguments)
           */</span>
          <span class="keyword">def</span> <a title="=&gt; Option[Typers.this.global.Tree]" id="971830">tryTupleApply</a>: <a href="../../../Option.scala.html#560" title="Option[Typers.this.global.Tree]">Option</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
            <span class="comment">// if 1 formal, 1 arg (a tuple), otherwise unmodified args</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="971836">tupleArgs</a> = <a href="Infer.scala.html#507464" title="(pos: Typers.this.global.Position, actuals: List[Typers.this.global.Tree], nformals: Int)List[Typers.this.global.Tree]">actualArgs</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501492" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a>, <a href="#971829" title="List[Typers.this.global.Type]">formals</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span>

            <span title="Option[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#971836" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Infer.scala.html#507826" title="(args: List[AnyRef], params: List[Typers.this.global.Symbol])Boolean">isUnitForVarArgs</a><span class="delimiter">(</span><a href="#946987" title="List[Typers.this.global.Tree]">args</a>, <a href="#971827" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// expected one argument, but got 0 or &gt;1 ==&gt;  try applying to tuple</span>
              <span class="comment">// the inner &quot;doTypedApply&quot; does &quot;extractUndetparams&quot; =&gt; restore when it fails</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="971844">savedUndetparams</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>
              <a href="#507706" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#971850" title="Typers.this.Typer">_</a>.<a href="#507752" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#971836" title="List[Typers.this.global.Tree]">tupleArgs</a>, <a href="#946988" title="Int">mode</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Option[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Some[Typers.this.global.Tree]" id="971856">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =&gt;
<span class="comment">//                  println(&quot;tuple conversion to &quot;+t+&quot; for &quot;+mt)//DEBUG</span>
                  <a href="../../../Option.scala.html#57885" title="(x: Typers.this.global.Tree)Some[Typers.this.global.Tree]">Some</a><span class="delimiter">(</span><a href="#971856" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <a title="None.type" id="971860">ex</a> =&gt;
                  <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508532" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#971844" title="List[Typers.this.global.Symbol]">savedUndetparams</a>
                  <a href="../../../Option.scala.html#1737" title="object None">None</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../Option.scala.html#1737" title="object None">None</a>
          <span class="delimiter">}</span>

          <span class="comment">/** Treats an application which uses named or default arguments.
           *  Also works if names + a vararg used: when names are used, the vararg
           *  parameter has to be specified exactly once. Note that combining varargs
           *  and defaults is ruled out by typedDefDef.
           */</span>
          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree" id="971831">tryNamesDefaults</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="971861">lencmp</a> = <a href="../symtab/Types.scala.html#478913" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#946987" title="List[Typers.this.global.Tree]">args</a>, <a href="#971829" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#971824" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#971584" title="=&gt; Typers.this.global.Apply">errTree</a>
            <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#507434" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#946988" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="comment">// #2064</span>
              <a href="#971585" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><span title="java.lang.String(&quot;wrong number of arguments for &quot;)" class="string">&quot;wrong number of arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="TypeDiagnostics.scala.html#507632" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#971861" title="Int">lencmp</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#971830" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <a href="../../../Option.scala.html#48474" title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</a> <a href="#971585" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><span title="java.lang.String(&quot;too many arguments for &quot;)" class="string">&quot;too many arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#507632" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#971861" title="Int">lencmp</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// we don't need defaults. names were used, so this application is transformed</span>
              <span class="comment">// into a block (@see transformNamedApplication in NamesDefaults)</span>
              <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[Typers.this.global.Tree], Array[Int])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[Typers.this.global.Tree]" id="971879">namelessArgs</a>, <a href="../../../Tuple2.scala.html#53404" title="Array[Int]" id="971880">argPos</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#507605" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#507454" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><a href="../../../Tuple2.scala.html#1520" title="(List[Typers.this.global.Tree], Array[Int]) @unchecked" class="delimiter">(</a><a href="#946987" title="List[Typers.this.global.Tree]">args</a>, <a href="#971827" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#971879" title="List[Typers.this.global.Tree]">namelessArgs</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">_</a>.<a href="../ast/Trees.scala.html#510729" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#971584" title="=&gt; Typers.this.global.Apply">errTree</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="NamesDefaults.scala.html#507598" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#971880" title="Array[Int]">argPos</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#971829" title="List[Typers.this.global.Type]">formals</a>, <a href="#971827" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="comment">// !isIdentity indicates that named arguments are used to re-order arguments</span>
                <a href="#971585" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><span title="java.lang.String(&quot;when using named arguments, the vararg parameter has to be specified exactly once&quot;)" class="string">&quot;when using named arguments, the vararg parameter has to be specified exactly once&quot;</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="NamesDefaults.scala.html#507598" title="(a: Array[Int])Boolean">isIdentity</a><span class="delimiter">(</span><a href="#971880" title="Array[Int]">argPos</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507750" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// if there's no re-ordering, and fun is not transformed, no need to transform</span>
                <span class="comment">// more than an optimization, e.g. important in &quot;synchronized { x = update-x }&quot;</span>
                <a href="#507752" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#971879" title="List[Typers.this.global.Tree]">namelessArgs</a>, <a href="#946988" title="Int">mode</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="NamesDefaults.scala.html#507599" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#507454" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#946988" title="Int">mode</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span>
                                          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560309" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#971879" title="List[Typers.this.global.Tree]">namelessArgs</a><span class="delimiter">)</span>, <a href="../../../LowPriorityImplicits.scala.html#9494" title="implicit scala.LowPriorityImplicits.wrapIntArray : (xs: Array[Int])scala.collection.mutable.WrappedArray[Int]">argPos</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="comment">// defaults are needed. they are added to the argument list in named style as</span>
              <span class="comment">// calls to the default getters. Example:</span>
              <span class="comment">//  foo[Int](a)()  ==&gt;  foo[Int](a)(b = foo$qual.foo$default$2[Int](a))</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="971918">fun1</a> = <a href="NamesDefaults.scala.html#507599" title="(typer: Typers.this.Typer, mode: Int, pt: Typers.this.global.Type)(tree: Typers.this.global.Tree, argPos: Int =&gt; Int)Typers.this.global.Tree">transformNamedApplication</a><span class="delimiter">(</span><a href="#507454" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span>, <a href="#946988" title="Int">mode</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>, <a title="Int" id="971920">x</a> =&gt; <a href="#971920" title="Int">x</a><span class="delimiter">)</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun1</a>.<a href="../ast/Trees.scala.html#510729" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#971584" title="=&gt; Typers.this.global.Apply">errTree</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#507750" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#971918" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>, <a href="#971918" title="Typers.this.global.Tree">fun1</a><span class="delimiter">)</span>
                <span class="keyword">val</span> NamedApplyInfo<a href="../../../Tuple3.scala.html#53296" title="(Option[Typers.this.global.Tree], List[Typers.this.global.Tree], List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="../../../Tuple3.scala.html#53312" title="Option[Typers.this.global.Tree]" id="971924">qual</a>, <a href="../../../Tuple3.scala.html#53314" title="List[Typers.this.global.Tree]" id="971925">targs</a>, <a href="../../../Tuple3.scala.html#53316" title="List[List[Typers.this.global.Tree]]" id="971926">previousArgss</a>, _<span class="delimiter">)</span> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508490" title="=&gt; Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)]">namedApplyBlockInfo</a>.<a href="../../../Option.scala.html#48473" title="=&gt; (Typers.this.global.Tree, Typers.this.NamedApplyInfo)">get</a>.<a href="../../../Tuple2.scala.html#53404" title="=&gt; Typers.this.NamedApplyInfo">_2</a>
                <span class="keyword">val</span> <a title="Boolean" id="971927">blockIsEmpty</a> = <a href="#971918" title="Typers.this.global.Tree">fun1</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Boolean">Block</span><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, _<span class="delimiter">)</span> =&gt;
                    <span class="comment">// if the block does not have any ValDef we can remove it. Note that the call to</span>
                    <span class="comment">// &quot;transformNamedApplication&quot; is always needed in order to obtain targs/previousArgss</span>
                    <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508491" title="(x$1: Option[(Typers.this.global.Tree, Typers.this.NamedApplyInfo)])Unit">namedApplyBlockInfo</a> = <a href="../../../Option.scala.html#1737" title="object None">None</a>
                    <span title="Boolean(true)" class="keyword">true</span>
                  <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
                <span class="delimiter">}</span>
                <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[Typers.this.global.Tree]" id="971929">allArgs</a>, <a href="../../../Tuple2.scala.html#53404" title="List[Typers.this.global.Symbol]" id="971930">missing</a><span class="delimiter">)</span> = <a href="NamesDefaults.scala.html#507603" title="(givenArgs: List[Typers.this.global.Tree], qual: Option[Typers.this.global.Tree], targs: List[Typers.this.global.Tree], previousArgss: List[List[Typers.this.global.Tree]], params: List[Typers.this.global.Symbol], pos: scala.tools.nsc.util.Position, context: Typers.this.Context)(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])">addDefaults</a><a href="../../../Tuple2.scala.html#1520" title="(List[Typers.this.global.Tree], List[Typers.this.global.Symbol]) @unchecked" class="delimiter">(</a><a href="#946987" title="List[Typers.this.global.Tree]">args</a>, <a href="#971924" title="Option[Typers.this.global.Tree]">qual</a>, <a href="#971925" title="List[Typers.this.global.Tree]">targs</a>, <a href="#971926" title="List[List[Typers.this.global.Tree]]">previousArgss</a>, <a href="#971827" title="List[Typers.this.global.Symbol]">params</a>, <a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="971931">funSym</a> = <a href="#971918" title="Typers.this.global.Tree">fun1</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Typers.this.global.Symbol">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="971982">expr</a><span class="delimiter">)</span> =&gt; <a href="#971982" title="Typers.this.global.Tree">expr</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span class="delimiter">}</span>
                <span class="keyword">val</span> <a title="Int" id="971932">lencmp2</a> = <a href="../symtab/Types.scala.html#478913" title="(xs1: List[_], xs2: List[_])Int">compareLengths</a><span class="delimiter">(</span><a href="#971929" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#971829" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>

                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#971929" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#507751" title="(context: Typers.this.Context, calledFun: Typers.this.global.Symbol)Boolean">callToCompanionConstr</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>, <a href="#971931" title="Typers.this.global.Symbol">funSym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#971585" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><span title="java.lang.String(&quot;module extending its companion class cannot use default constructor arguments&quot;)" class="string">&quot;module extending its companion class cannot use default constructor arguments&quot;</span><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#971932" title="Int">lencmp2</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="NamesDefaults.scala.html#507605" title="(typer: Typers.this.Typer)(args: List[Typers.this.global.Tree], params: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], Array[Int])">removeNames</a><span class="delimiter">(</span><a href="#507454" title="Typers.this.Typer">Typer</a>.<span class="keyword">this</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#971929" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#971827" title="List[Typers.this.global.Symbol]">params</a><span class="delimiter">)</span> <span class="comment">// #3818</span>
                  <a href="#971584" title="=&gt; Typers.this.global.Apply">errTree</a>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#971932" title="Int">lencmp2</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="comment">// useful when a default doesn't match parameter type, e.g. def f[T](x:T=&quot;a&quot;); f[Int]()</span>
                  <span class="keyword">val</span> <a title="java.lang.String" id="971995">note</a> = <span title="java.lang.String(&quot;Error occurred in an application involving default arguments.&quot;)" class="string">&quot;Error occurred in an application involving default arguments.&quot;</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508511" title="=&gt; List[String]">diagnostic</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#971995" title="java.lang.String">note</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508512" title="(x$1: List[String])Unit">diagnostic</a> = <a href="#971995" title="java.lang.String">note</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: String)List[String]">::</a> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508511" title="=&gt; List[String]">diagnostic</a>
                  <a href="#507752" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#971927" title="Boolean">blockIsEmpty</a><span class="delimiter">)</span> <a href="#971586" title="Typers.this.global.Tree">fun</a> <span class="keyword">else</span> <a href="#971918" title="Typers.this.global.Tree">fun1</a>, <a href="#971929" title="List[Typers.this.global.Tree]">allArgs</a>, <a href="#946988" title="Int">mode</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#971830" title="=&gt; Option[Typers.this.global.Tree]">tryTupleApply</a> <a href="../../../Option.scala.html#48474" title="(default: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">getOrElse</a> <a href="#971585" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><a href="TypeDiagnostics.scala.html#507633" title="(fun: Typers.this.global.Tree, missing: List[Typers.this.global.Symbol])String">notEnoughArgumentsMsg</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#971930" title="List[Typers.this.global.Symbol]">missing</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#971829" title="List[Typers.this.global.Type]">formals</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>   <span class="comment">// wrong nb of arguments</span>
              <span class="delimiter">(</span><a href="#946987" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <a href="NamesDefaults.scala.html#507591" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>        <span class="comment">// uses a named argument</span>
              <a href="#507750" title="(tree: Typers.this.global.Tree)Boolean">isNamedApplyBlock</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>       <span class="comment">// fun was transformed to a named apply block =&gt;</span>
                                              <span class="comment">// integrate this application into the block</span>
            <a href="#971831" title="=&gt; Typers.this.global.Tree">tryNamesDefaults</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="972017">tparams</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508533" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#972017" title="List[Typers.this.global.Symbol]">tparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// all type params are defined</span>
              <span class="comment">// In order for checkDead not to be misled by the unfortunate special</span>
              <span class="comment">// case of AnyRef#synchronized (which is implemented with signature T =&gt; T</span>
              <span class="comment">// but behaves as if it were (=&gt; T) =&gt; T) we need to know what is the actual</span>
              <span class="comment">// target of a call.  Since this information is no longer available from</span>
              <span class="comment">// typedArg, it is recorded here.</span>
              <a href="TypeDiagnostics.scala.html#507655" title="object Typer.this.checkDead">checkDead</a>.<a href="TypeDiagnostics.scala.html#963984" title="(fn: Typers.this.global.Tree)Unit">updateExpr</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="972018">args1</a> = <a href="#507748" title="(args: List[Typers.this.global.Tree], mode: Int, originalFormals: List[Typers.this.global.Type], adaptedFormals: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#946987" title="List[Typers.this.global.Tree]">args</a>, <a href="#507442" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#946988" title="Int">mode</a><span class="delimiter">)</span>, <a href="#971828" title="List[Typers.this.global.Type]">paramTypes</a>, <a href="#971829" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>
              <span class="comment">// instantiate dependent method types, must preserve singleton types where possible (stableTypeFor) -- example use case:</span>
              <span class="comment">// val foo = &quot;foo&quot;; def precise(x: String)(y: x.type): x.type = {...}; val bar : foo.type = precise(foo)(foo)</span>
              <span class="comment">// precise(foo) : foo.type =&gt; foo.type</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="972019">restpe</a> = <a href="#971824" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#546856" title="(actuals: List[Typers.this.global.Type])Typers.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#972018" title="List[Typers.this.global.Tree]">args1</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.gen.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.gen.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="972046">arg</a> =&gt; <a href="../Global.scala.html#478214" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507276" title="(tree: Typers.this.global.gen.global.Tree)Option[Typers.this.global.gen.global.Type]">stableTypeFor</a><span class="delimiter">(</span><a href="#972046" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#48474" title="(default: =&gt; Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Type">getOrElse</a> <a href="#972046" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="972020">ifPatternSkipFormals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="972081">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#972081" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Type">MethodType</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Type" id="972084">rtp</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="Modes.scala.html#507434" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#946988" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#972084" title="Typers.this.global.Type">rtp</a>
                <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#972081" title="Typers.this.global.Type">tp</a>
              <span class="delimiter">}</span>

              <span class="comment">// Replace the Delegate-Chainer methods += and -= with corresponding</span>
              <span class="comment">// + and - calls, which are translated in the code generator into</span>
              <span class="comment">// Combine and Remove</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478374" title="=&gt; Boolean">forMSIL</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#971586" title="Typers.this.global.Tree">fun</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="972089">qual</a>, <a title="Typers.this.global.Name" id="972090">name</a><span class="delimiter">)</span> =&gt;
                   <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#478922" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#972089" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="../symtab/Definitions.scala.html#508209" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                      <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#972090" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/generic/StdNames.scala.html#434008" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="java.lang.String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#972090" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/generic/StdNames.scala.html#434008" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="java.lang.String(&quot;-=&quot;)" class="string">&quot;-=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">{</span>
                       <span class="keyword">val</span> <a title="Typers.this.global.TermName" id="972106">n</a> = <span title="Typers.this.global.TermName" class="keyword">if</span> <span class="delimiter">(</span><a href="#972090" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/generic/StdNames.scala.html#434008" title="(str: String)Typers.this.global.TermName">encode</a><span class="delimiter">(</span><span title="java.lang.String(&quot;+=&quot;)" class="string">&quot;+=&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516834" title="=&gt; Typers.this.global.TermName">PLUS</a> <span class="keyword">else</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516824" title="=&gt; Typers.this.global.TermName">MINUS</a>
                       <span class="keyword">val</span> <a title="Typers.this.global.Select" id="972107">f</a> = <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#972089" title="Typers.this.global.Tree">qual</a>, <a href="#972106" title="Typers.this.global.TermName">n</a><span class="delimiter">)</span>
                       <span class="comment">// the compiler thinks, the PLUS method takes only one argument,</span>
                       <span class="comment">// but he thinks it's an instance method -&gt; still two ref's on the stack</span>
                       <span class="comment">//  -&gt; translated by backend</span>
                       <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="972108">rhs</a> = <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560309" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <a href="#972107" title="Typers.this.global.Select">f</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                       <span title="Nothing" class="keyword">return</span> <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443611" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#972089" title="Typers.this.global.Tree">qual</a>, <a href="#972108" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
                     <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>

              <span class="comment">/** This is translating uses of List() into Nil.  This is less
               *  than ideal from a consistency standpoint, but it shouldn't be
               *  altered without due caution.
               */</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508090" title="=&gt; Typers.this.global.Symbol">List_apply</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#946987" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478375" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span>
                <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#478214" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507290" title="=&gt; Typers.this.global.gen.global.Tree">mkNil</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">setType</a> <a href="#972019" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="ConstantFolder.scala.html#508650" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560309" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#972018" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Apply">setType</a> <a href="#972020" title="(tp: Typers.this.global.Type)Typers.this.global.Type">ifPatternSkipFormals</a><span class="delimiter">(</span><a href="#972019" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#507749" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], args: List[Typers.this.global.Tree])Boolean">needsInstantiation</a><span class="delimiter">(</span><a href="#972017" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#971829" title="List[Typers.this.global.Type]">formals</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">//println(&quot;needs inst &quot;+fun+&quot; &quot;+tparams+&quot;/&quot;+(tparams map (_.info)))</span>
              <a href="Infer.scala.html#507838" title="(tree: Typers.this.global.Tree, tparams: List[Typers.this.global.Symbol], pt: Typers.this.global.Type, treeTp0: Typers.this.global.Type, keepNothings: Boolean, useWeaklyCompatible: Boolean)List[Typers.this.global.Symbol]">inferExprInstance</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#972017" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
              <a href="#507752" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a>, <a href="#946988" title="Int">mode</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Modes.scala.html#507434" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#946988" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// this case cannot arise for patterns</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="972161">lenientTargs</a> = <a href="Infer.scala.html#507818" title="(tparams: List[Typers.this.global.Symbol], formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.Type]">protoTypeArgs</a><span class="delimiter">(</span><a href="#972017" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#971829" title="List[Typers.this.global.Type]">formals</a>, <a href="#971824" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#507175" title="=&gt; Typers.this.global.Type">resultApprox</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="972162">strictTargs</a> = <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Typers.this.global.Type], _2: List[Typers.this.global.Symbol])(List[Typers.this.global.Type], List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="#972161" title="List[Typers.this.global.Type]">lenientTargs</a>, <a href="#972017" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Typers.this.global.Type] =&gt; scala.collection.TraversableLike[Typers.this.global.Type,List[Typers.this.global.Type]], implicit w2: List[Typers.this.global.Symbol] =&gt; scala.collection.IterableLike[Typers.this.global.Symbol,List[Typers.this.global.Symbol]])(List[Typers.this.global.Type], List[Typers.this.global.Symbol])#Zipped[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Symbol],Typers.this.global.Symbol]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (Typers.this.global.Type, Typers.this.global.Symbol) =&gt; Typers.this.global.Type)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="972228">targ</a>, <a title="Typers.this.global.Symbol" id="972229">tparam</a><span class="delimiter">)</span> =&gt;
                <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#972228" title="Typers.this.global.Type">targ</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span> <a href="#972229" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#972228" title="Typers.this.global.Type">targ</a><span class="delimiter">)</span> <span class="comment">//@M TODO: should probably be .tpeHK</span>
              <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="972163">remainingParams</a> = <a href="#971828" title="List[Typers.this.global.Type]">paramTypes</a>
              <span class="keyword">def</span> <a title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree" id="972164">typedArgToPoly</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="972261">arg</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="972262">formal</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span> <span class="comment">//TR TODO: cleanup</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Type" id="972263">lenientPt</a> = <a href="#972262" title="Typers.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#507185" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#972017" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#972161" title="List[Typers.this.global.Type]">lenientTargs</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Int" id="972264">newmode</a> =
                  <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508061" title="(tp: Typers.this.global.Type)Boolean">isByNameParamType</a><span class="delimiter">(</span><a href="#972163" title="List[Typers.this.global.Type]">remainingParams</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Type">head</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Int(32)">POLYmode</span>
                  <span class="keyword">else</span> POLYmode <span title="Int(32800)">|</span> BYVALmode
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#972163" title="List[Typers.this.global.Type]">remainingParams</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Typers.this.global.Type]">tail</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <a href="#972163" title="List[Typers.this.global.Type]">remainingParams</a> = <a href="#972163" title="List[Typers.this.global.Type]">remainingParams</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Typers.this.global.Type]">tail</a>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="972265">arg1</a> = <a href="#507746" title="(arg: Typers.this.global.Tree, mode: Int, newmode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedArg</a><span class="delimiter">(</span><a href="#972261" title="Typers.this.global.Tree">arg</a>, <a href="#507442" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#946988" title="Int">mode</a><span class="delimiter">)</span>, <a href="#972264" title="Int">newmode</a>, <a href="#972263" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="972266">argtparams</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508533" title="()List[Typers.this.global.Symbol]">extractUndetparams</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#972266" title="List[Typers.this.global.Symbol]">argtparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Typers.this.global.Type" id="972277">strictPt</a> = <a href="#972262" title="Typers.this.global.Type">formal</a>.<a href="../symtab/Types.scala.html#507185" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#972017" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#972162" title="List[Typers.this.global.Type]">strictTargs</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#507837" title="(tree: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], strictPt: Typers.this.global.Type, lenientPt: Typers.this.global.Type)Unit">inferArgumentInstance</a><span class="delimiter">(</span><a href="#972265" title="Typers.this.global.Tree">arg1</a>, <a href="#972266" title="List[Typers.this.global.Symbol]">argtparams</a>, <a href="#972277" title="Typers.this.global.Type">strictPt</a>, <a href="#972263" title="Typers.this.global.Type">lenientPt</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#972265" title="Typers.this.global.Tree">arg1</a>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="972165">args1</a> = <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Type])(List[Typers.this.global.Tree], List[Typers.this.global.Type])" class="delimiter">(</a><a href="#946987" title="List[Typers.this.global.Tree]">args</a>, <a href="#971829" title="List[Typers.this.global.Type]">formals</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]])(List[Typers.this.global.Tree], List[Typers.this.global.Type])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Type],Typers.this.global.Type]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <a href="#972164" title="(arg: Typers.this.global.Tree, formal: Typers.this.global.Type)Typers.this.global.Tree">typedArgToPoly</a>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#972165" title="List[Typers.this.global.Tree]">args1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#972373" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#971584" title="=&gt; Typers.this.global.Apply">errTree</a>
              <span class="keyword">else</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;infer method inst &quot;)" class="string">&quot;infer method inst &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#971586" title="Typers.this.global.Tree">fun</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, tparams = &quot;)" class="string">&quot;, tparams = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#972017" title="List[Typers.this.global.Symbol]">tparams</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, args = &quot;)" class="string">&quot;, args = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#972165" title="List[Typers.this.global.Tree]">args1</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,Any])Any">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</a><a href="#972395" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#946989" title="Typers.this.global.Type">pt</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, lobounds = &quot;)" class="string">&quot;, lobounds = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#972017" title="List[Typers.this.global.Symbol]">tparams</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</a><a href="#972439" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546583" title="=&gt; Typers.this.global.Type">lo</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, parambounds = &quot;)" class="string">&quot;, parambounds = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#972017" title="List[Typers.this.global.Symbol]">tparams</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,Any])Any">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Typers.this.global.Type,List[Typers.this.global.Type]]" class="delimiter">(</a><a href="#972477" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//debug</span>
                <span class="comment">// define the undetparams which have been fixed by this param list, replace the corresponding symbols in &quot;fun&quot;</span>
                <span class="comment">// returns those undetparams which have not been instantiated.</span>
                <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="972374">undetparams</a> = <a href="Infer.scala.html#507840" title="(fn: Typers.this.global.Tree, undetparams: List[Typers.this.global.Symbol], args: List[Typers.this.global.Tree], pt0: Typers.this.global.Type)List[Typers.this.global.Symbol]">inferMethodInstance</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#972017" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#972165" title="List[Typers.this.global.Tree]">args1</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="972375">result</a> = <a href="#507752" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#972165" title="List[Typers.this.global.Tree]">args1</a>, <a href="#946988" title="Int">mode</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508532" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="#972374" title="List[Typers.this.global.Symbol]">undetparams</a>
                <a href="#972375" title="Typers.this.global.Tree">result</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">SingleType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#507752" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <a href="#971586" title="Typers.this.global.Tree">fun</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</a> <a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a>, <a href="#946988" title="Int">mode</a>, <a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478727" title="Typers.this.global.Apply">ErrorType</a> =&gt;
          <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560309" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>, <a href="#971586" title="Typers.this.global.Tree">fun</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">/* --- begin unapply  --- */</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="972517">otpe</a> <span class="keyword">if</span> <a href="Modes.scala.html#507434" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#946988" title="Int">mode</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Unapplies.scala.html#507562" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#972517" title="Typers.this.global.Type">otpe</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509245" title="=&gt; Boolean">exists</a> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#946987" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="../symtab/Definitions.scala.html#508162" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;too many arguments for unapply pattern, maximum = &quot;)" class="string">&quot;too many arguments for unapply pattern, maximum = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/Definitions.scala.html#508162" title="=&gt; Int">MaxTupleArity</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)(Typers.this.global.Type, List[Typers.this.global.Symbol])" id="972518">freshArgType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="972528">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</a>Type, List<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">(</span><a href="#972528" title="Typers.this.global.Type">tp</a>: @<a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type @unchecked">unchecked</a><span class="delimiter">)</span> <span title="(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Type, scala.collection.immutable.Nil.type)">MethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="972535">param</a> :: _, _<span class="delimiter">)</span> =&gt;
              <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Type, _2: scala.collection.immutable.Nil.type)(Typers.this.global.Type, scala.collection.immutable.Nil.type)" class="delimiter">(</a><a href="#972535" title="Typers.this.global.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Type, List[Typers.this.global.Symbol])">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="972544">tparams</a>, <a title="Typers.this.global.Type" id="972545">restype</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="972546">tparams1</a> = <a href="../symtab/Symbols.scala.html#478669" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#972544" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
              <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Type, _2: List[Typers.this.global.Symbol])(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="#972518" title="(tp: Typers.this.global.Type)(Typers.this.global.Type, List[Typers.this.global.Symbol])">freshArgType</a><span class="delimiter">(</span><a href="#972545" title="Typers.this.global.Type">restype</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53402" title="=&gt; Typers.this.global.Type">_1</a>.<a href="../symtab/Types.scala.html#507210" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#972544" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#972546" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>, <a href="#972546" title="List[Typers.this.global.Symbol]">tparams1</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.ErrorType.type, scala.collection.immutable.Nil.type)">OverloadedType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
              <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;cannot resolve overloaded unapply&quot;)" class="string">&quot;cannot resolve overloaded unapply&quot;</span><span class="delimiter">)</span>
              <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.ErrorType.type, _2: scala.collection.immutable.Nil.type)(Typers.this.global.ErrorType.type, scala.collection.immutable.Nil.type)" class="delimiter">(</a><a href="../symtab/Types.scala.html#478727" title="object Typers.this.global.ErrorType">ErrorType</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="972519">unapp</a>     = <a href="Unapplies.scala.html#507562" title="(tp: Typers.this.global.Type)Typers.this.global.Symbol">unapplyMember</a><span class="delimiter">(</span><a href="#972517" title="Typers.this.global.Type">otpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="972520">unappType</a> = <a href="#972517" title="Typers.this.global.Type">otpe</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#972519" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.TermSymbol" id="972521">argDummy</a>  = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509125" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/generic/StdNames.scala.html#434009" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">SELECTOR_DUMMY</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)Typers.this.global.TermSymbol">setFlag</a> <span title="Long(2097152L)">SYNTHETIC</span> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a> <a href="#946989" title="Typers.this.global.Type">pt</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="972522">arg</a>       = <a href="../ast/Trees.scala.html#479144" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#972521" title="Typers.this.global.TermSymbol">argDummy</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</a> <a href="#946989" title="Typers.this.global.Type">pt</a>

          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Infer.scala.html#507828" title="(undetparams: List[Typers.this.global.Symbol], ftpe: Typers.this.global.Type, argtpes0: List[Typers.this.global.Type], pt: Typers.this.global.Type)Boolean">isApplicableSafe</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="#972520" title="Typers.this.global.Type">unappType</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">//Console.println(&quot;UNAPP: need to typetest, arg.tpe = &quot;+arg.tpe+&quot;, unappType = &quot;+unappType)</span>
            <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Type, List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Type" id="972626">unappFormal</a>, <a href="../../../Tuple2.scala.html#53404" title="List[Typers.this.global.Symbol]" id="972627">freeVars</a><span class="delimiter">)</span> = <a href="#972518" title="(tp: Typers.this.global.Type)(Typers.this.global.Type, List[Typers.this.global.Symbol])">freshArgType</a><a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Type, List[Typers.this.global.Symbol]) @unchecked" class="delimiter">(</a><a href="#972520" title="Typers.this.global.Type">unappType</a>.<a href="../symtab/Types.scala.html#507186" title="(owner: Typers.this.global.Symbol, origin: AnyRef)Typers.this.global.Type">skolemizeExistential</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#946985" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Context" id="972628">context1</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
            <a href="#972627" title="List[Typers.this.global.Symbol]">freeVars</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)Unit">foreach</a> <a href="#972628" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514360" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a>

            <span class="keyword">val</span> <a title="Typers.this.Typer" id="972629">typer1</a> = <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#972628" title="Typers.this.Context">context1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="972630">pattp</a>  = <a href="#972629" title="Typers.this.Typer">typer1</a>.<a href="#507666" title="=&gt; Typers.this.Inferencer">infer</a>.<a href="Infer.scala.html#507848" title="(pos: Typers.this.global.Position, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#946985" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#972626" title="Typers.this.global.Type">unappFormal</a>, <a href="#972522" title="Typers.this.global.Ident">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

            <span class="comment">// turn any unresolved type variables in freevars into existential skolems</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.TypeSkolem]" id="972631">skolems</a> = <a href="#972627" title="List[Typers.this.global.Symbol]">freeVars</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.TypeSkolem)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.TypeSkolem,List[Typers.this.global.TypeSkolem]])List[Typers.this.global.TypeSkolem]">map</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="972699">fv</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.TypeSkolem" id="972700">skolem</a> = <span title="Typers.this.global.TypeSkolem" class="keyword">new</span> <a href="../symtab/Symbols.scala.html#478664" title="Typers.this.global.TypeSkolem">TypeSkolem</a><span class="delimiter">(</span><a href="#972628" title="Typers.this.Context">context1</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#972699" title="Typers.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501118" title="=&gt; Typers.this.global.TypeName">toTypeName</a>, <a href="#972699" title="Typers.this.global.Symbol">fv</a><span class="delimiter">)</span>
              <a href="#972700" title="Typers.this.global.TypeSkolem">skolem</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)skolem.type">setInfo</a><span class="delimiter">(</span><a href="#972699" title="Typers.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507233" title="(owner: Typers.this.global.Symbol)Typers.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#972700" title="Typers.this.global.TypeSkolem">skolem</a><span class="delimiter">)</span><span class="delimiter">)</span>
                .<a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)skolem.type">setFlag</a><span class="delimiter">(</span><a href="#972699" title="Typers.this.global.Symbol">fv</a>.<a href="../symtab/Symbols.scala.html#509259" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#55155" title="(x: Long)Long">|</a> <span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)skolem.type">resetFlag</a><span class="delimiter">(</span><span title="Long(8192L)">PARAM</span><span class="delimiter">)</span>
              <a href="#972700" title="Typers.this.global.TypeSkolem">skolem</a>
            <span class="delimiter">}</span>
            <a href="#972522" title="Typers.this.global.Ident">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#972630" title="Typers.this.global.Type">pattp</a>.<a href="../symtab/Types.scala.html#507210" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Symbol])Typers.this.global.Type">substSym</a><span class="delimiter">(</span><a href="#972627" title="List[Typers.this.global.Symbol]">freeVars</a>, <a href="#972631" title="List[Typers.this.global.TypeSkolem]">skolems</a><span class="delimiter">)</span>
            <a href="#972521" title="Typers.this.global.TermSymbol">argDummy</a> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)argDummy.type">setInfo</a> <a href="#972522" title="Typers.this.global.Ident">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">}</span>

          <span class="comment">// setType null is necessary so that ref will be stabilized; see bug 881</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="972523">fun1</a> = <a href="#507769" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Tree">setType</a> <span title="Null(null)" class="keyword">null</span>, <a href="#972519" title="Typers.this.global.Symbol">unapp</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Ident*)List[Typers.this.global.Ident]">List</a><span class="delimiter">(</span><a href="#972522" title="Typers.this.global.Ident">arg</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#972523" title="Typers.this.global.Tree">fun1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#971584" title="=&gt; Typers.this.global.Apply">errTree</a>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="972778">formals0</a> = <a href="Unapplies.scala.html#507558" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#972523" title="Typers.this.global.Tree">fun1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>, <a href="#972523" title="Typers.this.global.Tree">fun1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="972779">formals1</a> = <a href="Infer.scala.html#507462" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="#972778" title="List[Typers.this.global.Type]">formals0</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#972779" title="List[Typers.this.global.Type]">formals1</a>, <a href="#946987" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="972784">args1</a> = <a href="#507748" title="(args: List[Typers.this.global.Tree], mode: Int, originalFormals: List[Typers.this.global.Type], adaptedFormals: List[Typers.this.global.Type])List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#946987" title="List[Typers.this.global.Tree]">args</a>, <a href="#946988" title="Int">mode</a>, <a href="#972778" title="List[Typers.this.global.Type]">formals0</a>, <a href="#972779" title="List[Typers.this.global.Type]">formals1</a><span class="delimiter">)</span>
              <span class="comment">// This used to be the following (failing) assert:</span>
              <span class="comment">//   assert(isFullyDefined(pt), tree+&quot; ==&gt; &quot;+UnApply(fun1, args1)+&quot;, pt = &quot;+pt)</span>
              <span class="comment">// I modified as follows.  See SI-1048.</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="972785">pt1</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#507473" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#946989" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="Infer.scala.html#507816" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#946989" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="972786">itype</a> = <a href="../symtab/Types.scala.html#478987" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#972785" title="Typers.this.global.Type">pt1</a>, <a href="#972522" title="Typers.this.global.Ident">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#972522" title="Typers.this.global.Ident">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#972785" title="Typers.this.global.Type">pt1</a>    <span class="comment">// restore type (arg is a dummy tree, just needs to pass typechecking)</span>
              <a href="../../../reflect/generic/Trees.scala.html#443519" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</a><span class="delimiter">(</span><a href="#972523" title="Typers.this.global.Tree">fun1</a>, <a href="#972784" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.UnApply">setPos</a> <a href="#946985" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</a> <a href="#972786" title="Typers.this.global.Type">itype</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#971585" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><span title="java.lang.String(&quot;wrong number of arguments for &quot;)" class="string">&quot;wrong number of arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#507632" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

<span class="comment">/* --- end unapply  --- */</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Apply">_</span> =&gt;
          <a href="#971585" title="(msg: String)Typers.this.global.Apply">errorTree</a><span class="delimiter">(</span><a href="#971586" title="Typers.this.global.Tree">fun</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; does not take parameters&quot;)" class="string">&quot; does not take parameters&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     * Convert an annotation constructor call into an AnnotationInfo.
     *
     * @param annClass the expected annotation class
     */</span>
    <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo" id="507753">typedAnnotation</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="944736">ann</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="944742">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <span title="Int(1)">EXPRmode</span>, <a title="Typers.this.global.Symbol" id="944743">selfsym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a title="Typers.this.global.Symbol" id="944744">annClass</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Definitions.scala.html#507955" title="=&gt; Typers.this.global.Symbol">AnnotationClass</a>, <a title="Boolean" id="944745">requireJava</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>: <a href="../symtab/AnnotationInfos.scala.html#479085" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <span class="delimiter">{</span>
      <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="972815">annotationError</a> = <a href="../symtab/AnnotationInfos.scala.html#533292" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478727" title="object Typers.this.global.ErrorType">ErrorType</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="Boolean" id="972816">hasError</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo" id="972817">error</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="972824">pos</a>: <a href="../util/Position.scala.html#42664" title="Typers.this.global.Position">Position</a>, <a title="String" id="972825">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508555" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#972824" title="Typers.this.global.Position">pos</a>, <a href="#972825" title="String">msg</a><span class="delimiter">)</span>
        <a href="#972816" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>
        <a href="#972814" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="delimiter">}</span>

      <span class="comment">/** Calling constfold right here is necessary because some trees (negated
       *  floats and literals in particular) are not yet folded.
       */</span>
      <span class="keyword">def</span> <a title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]" id="972818">tryConst</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="972830">tr</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="972831">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[Typers.this.global.LiteralAnnotArg]">Option</a><span class="delimiter">[</span>LiteralAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Constant" id="972832">const</a>: <a href="../../../reflect/generic/Constants.scala.html#433981" title="Typers.this.global.Constant">Constant</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="ConstantFolder.scala.html#508650" title="(tree: Typers.this.global.constfold.global.Tree)Typers.this.global.constfold.global.Tree">constfold</a><span class="delimiter">(</span><a href="#972830" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span>, <span title="Int(1)">EXPRmode</span>, <a href="#972831" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Typers.this.global.Constant" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Constant" id="972844">l</a> @ Literal<span class="delimiter">(</span><a title="Typers.this.global.Constant" id="972848">c</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">l</a>.<a href="../ast/Trees.scala.html#510729" title="=&gt; Boolean">isErroneous</a> =&gt; <a href="#972848" title="Typers.this.global.Constant">c</a>
          <span class="keyword">case</span> <a title="Typers.this.global.Constant" id="972851">tree</a> =&gt; <a href="#972851" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Constant" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Constant">ConstantType</span><span class="delimiter">(</span><a title="Typers.this.global.Constant" id="972853">c</a><span class="delimiter">)</span>  =&gt; <a href="#972853" title="Typers.this.global.Constant">c</a>
            <span class="keyword">case</span> <a title="Null(null)" id="972854">tpe</a>              =&gt; <span title="Null(null)" class="keyword">null</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(msg: String)None.type" id="972833">fail</a><span class="delimiter">(</span><a title="String" id="972855">msg</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span> <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#972830" title="Typers.this.global.Tree">tr</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#972855" title="String">msg</a><span class="delimiter">)</span> ; <a href="../../../Option.scala.html#1737" title="object None">None</a> <span class="delimiter">}</span>

        <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#972832" title="Typers.this.global.Constant">const</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#972833" title="(msg: String)None.type">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;annotation argument needs to be a constant; found: &quot;)" class="string">&quot;annotation argument needs to be a constant; found: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#972830" title="Typers.this.global.Tree">tr</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Option[Typers.this.global.LiteralAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#972832" title="Typers.this.global.Constant">const</a>.<a href="../../../reflect/generic/Constants.scala.html#434211" title="=&gt; Any">value</a> <span title="(x$1: Any)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <a href="#972833" title="(msg: String)None.type">fail</a><span class="delimiter">(</span><span title="java.lang.String(&quot;annotation argument cannot be null&quot;)" class="string">&quot;annotation argument cannot be null&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../../../Option.scala.html#57885" title="(x: Typers.this.global.LiteralAnnotArg)Some[Typers.this.global.LiteralAnnotArg]">Some</a><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#629510" title="(const: Typers.this.global.Constant)Typers.this.global.LiteralAnnotArg">LiteralAnnotArg</a><span class="delimiter">(</span><a href="#972832" title="Typers.this.global.Constant">const</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Converts an untyped tree to a ClassfileAnnotArg. If the conversion fails,
       *  an error message is reported and None is returned.
       */</span>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]" id="972819">tree2ConstArg</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="972865">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="972866">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[Typers.this.global.ClassfileAnnotArg]">Option</a><span class="delimiter">[</span>ClassfileAnnotArg<span class="delimiter">]</span> = <a href="#972865" title="Typers.this.global.Tree">tree</a> <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="None.type">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="972876">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="972877">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#972866" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Typers.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> =&gt;
          <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#972865" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;Array constants have to be specified using the `Array(...)\' factory method&quot;)" class="string">&quot;Array constants have to be specified using the `Array(...)' factory method&quot;</span><span class="delimiter">)</span>
          <a href="../../../Option.scala.html#1737" title="object None">None</a>

        <span class="keyword">case</span> <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="972883">ann</a> @ Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="972893">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="972894">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="972895">annInfo</a> = <a href="#507753" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#972883" title="Typers.this.global.Apply">ann</a>, <a href="#944742" title="Int">mode</a>, <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#972866" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#972895" title="Typers.this.global.AnnotationInfo">annInfo</a>.<a href="../symtab/AnnotationInfos.scala.html#532479" title="=&gt; Typers.this.global.Type">atp</a>.<a href="../symtab/Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// recursive typedAnnotation call already printed an error, so don't call &quot;error&quot;</span>
            <a href="#972816" title="Boolean">hasError</a> = <span title="Boolean(true)" class="keyword">true</span>
            <a href="../../../Option.scala.html#1737" title="object None">None</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="../../../Option.scala.html#57885" title="(x: Typers.this.global.NestedAnnotArg)Some[Typers.this.global.NestedAnnotArg]">Some</a><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#630696" title="(annInfo: Typers.this.global.AnnotationInfo)Typers.this.global.NestedAnnotArg">NestedAnnotArg</a><span class="delimiter">(</span><a href="#972895" title="Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// use of Array.apply[T: ClassManifest](xs: T*): Array[T]</span>
        <span class="comment">// and    Array.apply(x: Int, xs: Int*): Array[Int]       (and similar)</span>
        <span class="keyword">case</span> <span title="Option[Typers.this.global.ClassfileAnnotArg]">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="972903">fun</a>, <a title="List[Typers.this.global.Tree]" id="972904">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="972905">typedFun</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#972903" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#507426" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#944742" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#972905" title="Typers.this.global.Tree">typedFun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508096" title="=&gt; Typers.this.global.Symbol">ArrayModule</a>.<a href="../symtab/Symbols.scala.html#509335" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#972905" title="Typers.this.global.Tree">typedFun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
            <a href="#972866" title="Typers.this.global.Type">pt</a> <span title="Option[Typers.this.global.ClassfileAnnotArg]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Option[Typers.this.global.ArrayAnnotArg]">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Typers.this.global.Symbol">ArrayClass</a>, <a title="Typers.this.global.Type" id="972929">targ</a> :: _<span class="delimiter">)</span> =&gt;
                <a href="#972820" title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]">trees2ConstArg</a><span class="delimiter">(</span><a href="#972904" title="List[Typers.this.global.Tree]">args</a>, <a href="#972929" title="Typers.this.global.Type">targ</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
                <span class="comment">// For classfile annotations, pt can only be T:</span>
                <span class="comment">//   BT = Int, .., String, Class[_], JavaAnnotClass</span>
                <span class="comment">//   T = BT | Array[BT]</span>
                <span class="comment">// So an array literal as argument can only be valid if pt is Array[_]</span>
                <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#972865" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;found array constant, expected argument of type &quot;)" class="string">&quot;found array constant, expected argument of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#972866" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <a href="../../../Option.scala.html#1737" title="object None">None</a>
            <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <a href="#972818" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><span class="delimiter">(</span><a href="#972865" title="Typers.this.global.Tree">tree</a>, <a href="#972866" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Option[Typers.this.global.ClassfileAnnotArg]">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="972934">t</a>, _<span class="delimiter">)</span> =&gt; <a href="#972819" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#972934" title="Typers.this.global.Tree">t</a>, <a href="#972866" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Option[Typers.this.global.LiteralAnnotArg]" id="972935">tree</a> =&gt;
          <a href="#972818" title="(tr: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.LiteralAnnotArg]">tryConst</a><span class="delimiter">(</span><a href="#972935" title="Typers.this.global.Tree">tree</a>, <a href="#972866" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(trees: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Option[Typers.this.global.ArrayAnnotArg]" id="972820">trees2ConstArg</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="972930">trees</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="972931">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[Typers.this.global.ArrayAnnotArg]">Option</a><span class="delimiter">[</span>ArrayAnnotArg<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Option[Typers.this.global.ClassfileAnnotArg]]" id="972936">args</a> = <a href="#972930" title="List[Typers.this.global.Tree]">trees</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Option[Typers.this.global.ClassfileAnnotArg])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]])List[Option[Typers.this.global.ClassfileAnnotArg]]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Option[Typers.this.global.ClassfileAnnotArg],List[Option[Typers.this.global.ClassfileAnnotArg]]]" class="delimiter">(</a><a href="#972819" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#972953" title="Typers.this.global.Tree">_</a>, <a href="#972931" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Option[Typers.this.global.ArrayAnnotArg]" class="keyword">if</span> <span class="delimiter">(</span><a href="#972936" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Option[Typers.this.global.ClassfileAnnotArg] =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#972987" title="Option[Typers.this.global.ClassfileAnnotArg]">_</a>.<a href="../../../Option.scala.html#48471" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Option.scala.html#1737" title="object None">None</a>
        <span class="keyword">else</span> <a href="../../../Option.scala.html#57885" title="(x: Typers.this.global.ArrayAnnotArg)Some[Typers.this.global.ArrayAnnotArg]">Some</a><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#629944" title="(args: Array[Typers.this.global.ClassfileAnnotArg])Typers.this.global.ArrayAnnotArg">ArrayAnnotArg</a><span class="delimiter">(</span><a href="#972936" title="List[Option[Typers.this.global.ClassfileAnnotArg]]">args</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53804" title="(implicit asTraversable: Option[Typers.this.global.ClassfileAnnotArg] =&gt; scala.collection.TraversableOnce[Typers.this.global.ClassfileAnnotArg])List[Typers.this.global.ClassfileAnnotArg]">flatten</a>.<a href="../../../collection/TraversableOnce.scala.html#53687" title="(implicit evidence$1: ClassManifest[Typers.this.global.ClassfileAnnotArg])Array[Typers.this.global.ClassfileAnnotArg]">toArray</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">// begin typedAnnotation</span>
      <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Tree" id="972822">fun</a>, <a href="../../../Tuple2.scala.html#53404" title="List[List[Typers.this.global.Tree]]" id="972823">argss</a><span class="delimiter">)</span> = <a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]]) @unchecked" class="delimiter">{</a>
        <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" id="973055">extract</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="973056">fun</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="List[List[Typers.this.global.Tree]]" id="973057">outerArgss</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[List[Typers.this.global.Tree]]">List</a><span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>:
          <a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a>Tree, List<span class="delimiter">[</span>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#973056" title="Typers.this.global.Tree">fun</a> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="973060">f</a>, <a title="List[Typers.this.global.Tree]" id="973061">args</a><span class="delimiter">)</span> =&gt;
              <a href="#973055" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><span class="delimiter">(</span><a href="#973060" title="Typers.this.global.Tree">f</a>, <a href="#973061" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: List[Typers.this.global.Tree])List[List[Typers.this.global.Tree]]">::</a> <a href="#973057" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">Select</span><span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="973075">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
              <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Tree, _2: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="#973056" title="Typers.this.global.Tree">fun</a>, <a href="#973057" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">_</span> =&gt;
              <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#973056" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;unexpected tree in annotation: &quot;)" class="string">&quot;unexpected tree in annotation: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#973056" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
              <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Tree, _2: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])" class="delimiter">(</a><a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#973056" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>, <a href="#973057" title="List[List[Typers.this.global.Tree]]">outerArgss</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <a href="#973055" title="(fun: Typers.this.global.Tree, outerArgss: List[List[Typers.this.global.Tree]])(Typers.this.global.Tree, List[List[Typers.this.global.Tree]])">extract</a><span class="delimiter">(</span><a href="#944736" title="Typers.this.global.Tree">ann</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">fun</a>.<a href="../ast/Trees.scala.html#510729" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#972814" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Select, Typers.this.global.Tree)" id="973111">typedFun</a> @ Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53404" title="Typers.this.global.Tree" id="973112">tpt</a><span class="delimiter">)</span>, _<span class="delimiter">)</span> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree @unchecked" class="delimiter">(</a><a href="#972822" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#507426" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#944742" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="973113">annType</a> = <a href="#973112" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>

        <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">typedFun</a>.<a href="../ast/Trees.scala.html#510729" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#972814" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
        <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#973113" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#509296" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#507957" title="=&gt; Typers.this.global.Symbol">ClassfileAnnotationClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// annotation to be saved as java classfile annotation</span>
          <span class="keyword">val</span> <a title="Boolean" id="973135">isJava</a> = <a href="#973111" title="Typers.this.global.Select">typedFun</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a>
          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#973113" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509296" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a><span class="delimiter">(</span><a href="#944744" title="Typers.this.global.Symbol">annClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#973112" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;expected annotation of type &quot;)" class="string">&quot;expected annotation of type &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#944744" title="Typers.this.global.Symbol">annClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, found &quot;)" class="string">&quot;, found &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#973113" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#972823" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#944736" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;multiple argument lists on classfile annotation&quot;)" class="string">&quot;multiple argument lists on classfile annotation&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="973141">args</a> =
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#972823" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; List[Typers.this.global.Tree]">head</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="NamesDefaults.scala.html#507591" title="(arg: Typers.this.global.Tree)Boolean">isNamed</a><span class="delimiter">(</span><a href="#972823" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; List[Typers.this.global.Tree]">head</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Tree">head</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.AssignOrNamedArg*)List[Typers.this.global.AssignOrNamedArg]">List</a><span class="delimiter">(</span><span title="Typers.this.global.AssignOrNamedArg" class="keyword">new</span> <a href="../ast/Trees.scala.html#479153" title="Typers.this.global.AssignOrNamedArg">AssignOrNamedArg</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443999" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516732" title="=&gt; Typers.this.global.nme.NameType">value</a><span class="delimiter">)</span>, <a href="#972823" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; List[Typers.this.global.Tree]">head</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Tree">head</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#972823" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; List[Typers.this.global.Tree]">head</a>
            <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="973142">annScope</a> = <a href="#973113" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Typers.this.global.Scope">decls</a>
                .<a href="../symtab/Scopes.scala.html#514377" title="(p: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Scope">filter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="973179">sym</a> =&gt; <a href="#973179" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#973179" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#973179" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]" id="973143">names</a> = <a href="../../../collection/mutable/HashSet.scala.html#108311" title="()scala.collection.mutable.HashSet[Typers.this.global.Symbol]" class="keyword">new</a> collection.mutable.<a href="../../../collection/mutable/HashSet.scala.html#14593" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">HashSet</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
            <a href="#973143" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <a href="../../../collection/generic/Growable.scala.html#56649" title="(xs: scala.collection.TraversableOnce[Typers.this.global.Symbol])names.type">++=</a> <span class="delimiter">(</span><span title="scala.collection.TraversableOnce[Typers.this.global.Symbol]" class="keyword">if</span> <span class="delimiter">(</span><a href="#973135" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#973142" title="Typers.this.global.Scope">annScope</a>.<a href="../symtab/Scopes.scala.html#514373" title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</a>
                       <span class="keyword">else</span> <a href="#973111" title="Typers.this.global.Select">typedFun</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507180" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqLike.scala.html#70978" title="=&gt; Iterator[Typers.this.global.Symbol]">iterator</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]" id="973144">nvPairs</a> = <a href="#973141" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; (Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]))(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg]),List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]])List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">map</a> <a href="#973199" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="delimiter">{</a>
              <span class="keyword">case</span> <a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="973200">arg</a> @ AssignOrNamedArg<span class="delimiter">(</span>Ident<span class="delimiter">(</span><a title="Typers.this.global.Name" id="973206">name</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="973207">rhs</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="973208">sym</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#973135" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#973142" title="Typers.this.global.Scope">annScope</a>.<a href="../symtab/Scopes.scala.html#514367" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">lookup</a><span class="delimiter">(</span><a href="#973206" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                          <span class="keyword">else</span> <a href="#973111" title="Typers.this.global.Select">typedFun</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507180" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71038" title="(p: Typers.this.global.Symbol =&gt; Boolean)Option[Typers.this.global.Symbol]">find</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="973218">p</a> =&gt; <a href="#973218" title="Typers.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#973206" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#48474" title="(default: =&gt; Typers.this.global.Symbol)Typers.this.global.Symbol">getOrElse</a><span class="delimiter">(</span><a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><a href="#973208" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#973200" title="Typers.this.global.AssignOrNamedArg">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;unknown annotation argument name: &quot;)" class="string">&quot;unknown annotation argument name: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#973206" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</a><a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516186" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <a href="../../../Option.scala.html#1737" title="object None">None</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#973143" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a>.<a href="../../../collection/mutable/HashSet.scala.html#108314" title="(elem: Typers.this.global.Symbol)Boolean">contains</a><span class="delimiter">(</span><a href="#973208" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#973200" title="Typers.this.global.AssignOrNamedArg">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;duplicate value for annotation argument &quot;)" class="string">&quot;duplicate value for annotation argument &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#973206" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</a><a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516186" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <a href="../../../Option.scala.html#1737" title="object None">None</a><span class="delimiter">)</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                  <a href="#973143" title="scala.collection.mutable.HashSet[Typers.this.global.Symbol]">names</a> <a href="../../../collection/mutable/HashSet.scala.html#108316" title="(elem: Typers.this.global.Symbol)names.type">-=</a> <a href="#973208" title="Typers.this.global.Symbol">sym</a>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#973135" title="Boolean">isJava</a><span class="delimiter">)</span> <a href="#973208" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509283" title="()Unit">cookJavaRawInfo</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="comment">// #3429</span>
                  <span class="keyword">val</span> <a title="Option[Typers.this.global.ClassfileAnnotArg]" id="973248">annArg</a> = <a href="#972819" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Option[Typers.this.global.ClassfileAnnotArg]">tree2ConstArg</a><span class="delimiter">(</span><a href="#973207" title="Typers.this.global.Tree">rhs</a>, <a href="#973208" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>
                  <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Name, _2: Option[Typers.this.global.ClassfileAnnotArg])(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" class="delimiter">(</a><a href="#973208" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a>, <a href="#973248" title="Option[Typers.this.global.ClassfileAnnotArg]">annArg</a><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <a title="(Typers.this.global.nme.NameType, None.type)" id="973266">arg</a> =&gt;
                <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#973266" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;classfile annotation arguments have to be supplied as named arguments&quot;)" class="string">&quot;classfile annotation arguments have to be supplied as named arguments&quot;</span><span class="delimiter">)</span>
                <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.nme.NameType, _2: None.type)(Typers.this.global.nme.NameType, None.type)" class="delimiter">(</a><a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516186" title="=&gt; Typers.this.global.nme.NameType">ERROR</a>, <a href="../../../Option.scala.html#1737" title="object None">None</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="973319">name</a> &lt;- <a href="../../../collection/mutable/HashSet.scala.html#108321" title="(f: Typers.this.global.Symbol =&gt; Any)Unit">names</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#973319" title="Typers.this.global.Symbol">name</a>.<a href="../symtab/Symbols.scala.html#509116" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>.<a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a><span class="delimiter">(</span><a href="../symtab/AnnotationInfos.scala.html#533292" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508337" title="=&gt; Typers.this.global.Symbol">AnnotationDefaultAttr</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#973319" title="Typers.this.global.Symbol">name</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435321" title="=&gt; Boolean">hasDefaultFlag</a><span class="delimiter">)</span>
                <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#944736" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;annotation &quot;)" class="string">&quot;annotation &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#973113" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435348" title="=&gt; String">fullName</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is missing argument &quot;)" class="string">&quot; is missing argument &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#973319" title="Typers.this.global.Symbol">name</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

            <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#972816" title="Boolean">hasError</a><span class="delimiter">)</span> <a href="#972814" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
            <span class="keyword">else</span> <a href="../symtab/AnnotationInfos.scala.html#533292" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#973113" title="Typers.this.global.Type">annType</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#973144" title="List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])]">nvPairs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ((Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])) =&gt; (Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg))(implicit bf: scala.collection.generic.CanBuildFrom[List[(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])],(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg),List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]])List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)]">map</a> <span class="delimiter">{</span><a title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])" id="973373">p</a> =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Name, _2: Typers.this.global.ClassfileAnnotArg)(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)" class="delimiter">(</a><a href="#973373" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<a href="../../../Tuple2.scala.html#53402" title="=&gt; Typers.this.global.Name">_1</a>, <a href="#973373" title="(Typers.this.global.Name, Option[Typers.this.global.ClassfileAnnotArg])">p</a>.<a href="../../../Tuple2.scala.html#53404" title="=&gt; Option[Typers.this.global.ClassfileAnnotArg]">_2</a>.<a href="../../../Option.scala.html#48473" title="=&gt; Typers.this.global.ClassfileAnnotArg">get</a><span class="delimiter">)</span><span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../symtab/AnnotationInfos.scala.html#532490" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#944736" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><a href="#944745" title="Boolean">requireJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#944736" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;nested classfile annotations must be defined in java; found: &quot;)" class="string">&quot;nested classfile annotations must be defined in java; found: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#973113" title="Typers.this.global.Type">annType</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="973411">typedAnn</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#944743" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#944736" title="Typers.this.global.Tree">ann</a>, <a href="#944742" title="Int">mode</a>, <a href="#944744" title="Typers.this.global.Symbol">annClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// Since a selfsym is supplied, the annotation should have</span>
            <span class="comment">// an extra &quot;self&quot; identifier in scope for type checking.</span>
            <span class="comment">// This is implemented by wrapping the rhs</span>
            <span class="comment">// in a function like &quot;self =&gt; rhs&quot; during type checking,</span>
            <span class="comment">// and then stripping the &quot;self =&gt;&quot; and substituting</span>
            <span class="comment">// in the supplied selfsym.</span>
            <span class="keyword">val</span> <a title="Typers.this.global.ValDef" id="973421">funcparm</a> = <a href="../../../reflect/generic/Trees.scala.html#441937" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#434026" title="=&gt; Typers.this.global.Modifiers">NoMods</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516702" title="=&gt; Typers.this.global.nme.NameType">self</a>, <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#944743" title="Typers.this.global.Symbol">selfsym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Function" id="973422">func</a> = <a href="../../../reflect/generic/Trees.scala.html#443577" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.ValDef*)List[Typers.this.global.ValDef]">List</a><span class="delimiter">(</span><a href="#973421" title="Typers.this.global.ValDef">funcparm</a><span class="delimiter">)</span>, <a href="#944736" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441040" title="=&gt; ann.type">duplicate</a><span class="delimiter">)</span>
                                         <span class="comment">// The .duplicate of annot.constr</span>
                                         <span class="comment">// deals with problems that</span>
                                         <span class="comment">// accur if this annotation is</span>
                                         <span class="comment">// later typed again, which</span>
                                         <span class="comment">// the compiler sometimes does.</span>
                                         <span class="comment">// The problem is that &quot;self&quot;</span>
                                         <span class="comment">// ident's within annot.constr</span>
                                         <span class="comment">// will retain the old symbol</span>
                                         <span class="comment">// from the previous typing.</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="973423">fun1clazz</a> = <a href="../../../Array.scala.html#49205" title="(i: Int)Typers.this.global.Symbol">FunctionClass</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="973424">funcType</a> = <a href="../symtab/Types.scala.html#478811" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol, args: List[Typers.this.global.Type])Typers.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#973423" title="Typers.this.global.Symbol">fun1clazz</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; Typers.this.global.Type">prefix</a>,
                                   <a href="#973423" title="Typers.this.global.Symbol">fun1clazz</a>,
                                   <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#944743" title="Typers.this.global.Symbol">selfsym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>, <a href="#944744" title="Typers.this.global.Symbol">annClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

            <span class="delimiter">(</span><a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#973422" title="Typers.this.global.Function">func</a>, <a href="#944742" title="Int">mode</a>, <a href="#973424" title="Typers.this.global.Type">funcType</a><span class="delimiter">)</span>: @<a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="973467">t</a> @ Function<span class="delimiter">(</span><a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Typers.this.global.ValDef])Some[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="973482">arg</a><span class="delimiter">)</span>, <a title="Typers.this.global.Tree" id="973483">rhs</a><span class="delimiter">)</span> =&gt;
                <span class="keyword">val</span> <a title="Typers.this.global.TreeSymSubstituter" id="973484">subs</a> =
                  <span title="Typers.this.global.TreeSymSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#479178" title="Typers.this.global.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#973482" title="Typers.this.global.ValDef">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>,<a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#944743" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../ast/Trees.scala.html#565335" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">subs</a><span class="delimiter">(</span><a href="#973483" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo" id="973412">annInfo</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="973506">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../symtab/AnnotationInfos.scala.html#479085" title="Typers.this.global.AnnotationInfo">AnnotationInfo</a> = <a href="#973506" title="Typers.this.global.Tree">t</a> <span title="Typers.this.global.AnnotationInfo" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="973516">tpt</a><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="973517">args</a><span class="delimiter">)</span> =&gt;
              <a href="../symtab/AnnotationInfos.scala.html#533292" title="(atp: Typers.this.global.Type, args: List[Typers.this.global.Tree], assocs: List[(Typers.this.global.Name, Typers.this.global.ClassfileAnnotArg)])Typers.this.global.AnnotationInfo">AnnotationInfo</a><span class="delimiter">(</span><a href="#973113" title="Typers.this.global.Type">annType</a>, <a href="#973517" title="List[Typers.this.global.Tree]">args</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/AnnotationInfos.scala.html#532490" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.AnnotationInfo">setPos</a><span class="delimiter">(</span><a href="#973506" title="Typers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Block</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="973529">stats</a>, <a title="Typers.this.global.Tree" id="973530">expr</a><span class="delimiter">)</span> =&gt;
              <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508556" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#973506" title="Typers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span class="string">&quot;Usage of named or default arguments transformed this annotation\n&quot;</span>+
                                <span class="string">&quot;constructor call into a block. The corresponding AnnotationInfo\n&quot;</span>+
                                <span class="string">&quot;will contain references to local values and default getters instead\n&quot;</span><span title="java.lang.String(&quot;Usage of named or default arguments transformed this annotation\012constructor call into a block. The corresponding AnnotationInfo\012will contain references to local values and default getters instead\012of the actual argument trees&quot;)">+</span>
                                <span class="string">&quot;of the actual argument trees&quot;</span><span class="delimiter">)</span>
              <a href="#973412" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#973530" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="973535">fun</a>, <a title="List[Typers.this.global.Tree]" id="973536">args</a><span class="delimiter">)</span> =&gt;
              <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508556" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#973506" title="Typers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span class="string">&quot;Implementation limitation: multiple argument lists on annotations are\n&quot;</span><span title="java.lang.String(&quot;Implementation limitation: multiple argument lists on annotations are\012currently not supported; ignoring arguments &quot;)">+</span>
                                     <span class="string">&quot;currently not supported; ignoring arguments &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#973536" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <a href="#973412" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#973535" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Typers.this.global.AnnotationInfo">_</span> =&gt;
              <a href="#972817" title="(pos: Typers.this.global.Position, msg: String)Typers.this.global.AnnotationInfo">error</a><span class="delimiter">(</span><a href="#973506" title="Typers.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;unexpected tree after typing annotation: &quot;)" class="string">&quot;unexpected tree after typing annotation: &quot;</span><span title="(x$1: Any)java.lang.String">+</span> <a href="#973411" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#973113" title="Typers.this.global.Type">annType</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508313" title="=&gt; Typers.this.global.Symbol">DeprecatedAttr</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#972823" title="List[List[Typers.this.global.Tree]]">argss</a>.<a href="../../../collection/generic/GenericTraversableTemplate.scala.html#53804" title="(implicit asTraversable: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableOnce[Typers.this.global.Tree])List[Typers.this.global.Tree]">flatten</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54761" title="(x: Int)Boolean">&lt;</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500980" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span><a href="#944736" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;@deprecated now takes two arguments; see the scaladoc.&quot;)" class="string">&quot;@deprecated now takes two arguments; see the scaladoc.&quot;</span><span class="delimiter">)</span>

          <span title="Typers.this.global.AnnotationInfo" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#973411" title="Typers.this.global.Tree">typedAnn</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#973411" title="Typers.this.global.Tree">typedAnn</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span> <a href="#972814" title="=&gt; Typers.this.global.AnnotationInfo">annotationError</a>
          <span class="keyword">else</span> <a href="#973412" title="(t: Typers.this.global.Tree)Typers.this.global.AnnotationInfo">annInfo</a><span class="delimiter">(</span><a href="#973411" title="Typers.this.global.Tree">typedAnn</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="507754">isRawParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="973590">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="comment">// is it a type parameter leaked by a raw type?</span>
      <a href="#973590" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435391" title="=&gt; Boolean">isTypeParameter</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#973590" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a>

    <span class="comment">/** Given a set `rawSyms` of term- and type-symbols, and a type
     *  `tp`, produce a set of fresh type parameters and a type so that
     *  it can be abstracted to an existential type. Every type symbol
     *  `T` in `rawSyms` is mapped to a clone. Every term symbol `x` of
     *  type `T` in `rawSyms` is given an associated type symbol of the
     *  following form:
     *
     *    type x.type &lt;: T with Singleton
     *
     *  The name of the type parameter is `x.type`, to produce nice
     *  diagnostics. The Singleton parent ensures that the type
     *  parameter is still seen as a stable type. Type symbols in
     *  rawSyms are fully replaced by the new symbols. Term symbols are
     *  also replaced, except for term symbols of an Ident tree, where
     *  only the type of the Ident is changed.
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" id="507755">existentialTransform</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="973593">rawSyms</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="973594">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="973597">typeParams</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="#973593" title="List[Typers.this.global.Symbol]">rawSyms</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</a> <span class="delimiter">{</span> <a title="Typers.this.global.Symbol" id="973615">sym</a> =&gt;
        <span class="keyword">val</span> <a title="Typers.this.global.TypeName" id="973616">name</a> = <a href="#973615" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="Typers.this.global.TypeName" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.TypeName" id="973620">x</a>: <a href="../symtab/Names.scala.html#478415" title="Typers.this.global.TypeName">TypeName</a>  =&gt; <a href="#973620" title="Typers.this.global.TypeName">x</a>
          <span class="keyword">case</span> <a title="Typers.this.global.TypeName" id="973621">x</a>            =&gt; <a href="../symtab/Names.scala.html#478405" title="(s: String)Typers.this.global.TypeName">newTypeName</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">x</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot;.type&quot;)" class="string">&quot;.type&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="973617">bound</a>      = <a href="#973615" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509291" title="=&gt; Typers.this.global.Type">existentialBound</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="973618">sowner</a>     = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#507754" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#973615" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a> <span class="keyword">else</span> <a href="#973615" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="973619">quantified</a> = <a href="#973618" title="Typers.this.global.Symbol">sowner</a>.<a href="../symtab/Symbols.scala.html#509149" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.Symbol">newExistential</a><span class="delimiter">(</span><a href="#973615" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#973616" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>

        <a href="#973619" title="Typers.this.global.Symbol">quantified</a> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)quantified.type">setInfo</a> <a href="#973617" title="Typers.this.global.Type">bound</a>.<a href="../symtab/Types.scala.html#507233" title="(owner: Typers.this.global.Symbol)Typers.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#973619" title="Typers.this.global.Symbol">quantified</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="comment">// Higher-kinded existentials are not yet supported, but this is</span>
      <span class="comment">// tpeHK for when they are: &quot;if a type constructor is expected/allowed,</span>
      <span class="comment">// tpeHK must be called instead of tpe.&quot;</span>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="973598">typeParamTypes</a> = <a href="#973597" title="List[Typers.this.global.Symbol]">typeParams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#973676" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509271" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span>
      <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Typers.this.global.Symbol], _2: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a>
        <a href="#973597" title="List[Typers.this.global.Symbol]">typeParams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="973718">tparam</a> =&gt; <a href="#973718" title="Typers.this.global.Symbol">tparam</a> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)tparam.type">setInfo</a> <a href="#973718" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507209" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#973593" title="List[Typers.this.global.Symbol]">rawSyms</a>, <a href="#973598" title="List[Typers.this.global.Type]">typeParamTypes</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <a href="#973594" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507209" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#973593" title="List[Typers.this.global.Symbol]">rawSyms</a>, <a href="#973598" title="List[Typers.this.global.Type]">typeParamTypes</a><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Compute an existential type from raw hidden symbols `syms' and type `tp'
     */</span>
    <span class="keyword">def</span> <a title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type" id="507756">packSymbols</a><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="964724">hidden</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="Typers.this.global.Type" id="964725">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a> =
      <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#964724" title="List[Typers.this.global.Symbol]">hidden</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#964725" title="Typers.this.global.Type">tp</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
<span class="comment">//          Console.println(&quot;original type: &quot;+tp)</span>
<span class="comment">//          Console.println(&quot;hidden symbols: &quot;+hidden)</span>
        <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[Typers.this.global.Symbol]" id="973757">tparams</a>, <a href="../../../Tuple2.scala.html#53404" title="Typers.this.global.Type" id="973758">tp1</a><span class="delimiter">)</span> = <a href="#507755" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">existentialTransform</a><a href="../../../Tuple2.scala.html#1520" title="(List[Typers.this.global.Symbol], Typers.this.global.Type) @unchecked" class="delimiter">(</a><a href="#964724" title="List[Typers.this.global.Symbol]">hidden</a>, <a href="#964725" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
<span class="comment">//          Console.println(&quot;tparams: &quot;+tparams+&quot;, result: &quot;+tp1)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="973759">res</a> = <a href="../symtab/Types.scala.html#478821" title="(tparams: List[Typers.this.global.Symbol], tpe0: Typers.this.global.Type)Typers.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span><a href="#973757" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#973758" title="Typers.this.global.Type">tp1</a><span class="delimiter">)</span>
<span class="comment">//          Console.println(&quot;final result: &quot;+res)</span>
        <a href="#973759" title="Typers.this.global.Type">res</a>
      <span class="delimiter">}</span>

    <span class="comment">/** convert skolems to existentials */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type" id="507757">packedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="954189">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Symbol" id="954190">owner</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean" id="973772">defines</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="973782">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Symbol" id="973783">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#973783" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509189" title="=&gt; Boolean">isExistentialSkolem</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#973783" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509348" title="=&gt; AnyRef">unpackLocation</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#973782" title="Typers.this.global.Tree">tree</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
        <a href="#973782" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441036" title="=&gt; Boolean">isDef</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#973782" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#973783" title="Typers.this.global.Symbol">sym</a>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="973773">isVisibleParameter</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="973794">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
        <a href="#973794" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435313" title="=&gt; Boolean">isParameter</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#973794" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#954190" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#973794" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435370" title="=&gt; Boolean">isType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#954190" title="Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509193" title="=&gt; Boolean">isAnonymousFunction</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean" id="973774">containsDef</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="973800">owner</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Symbol" id="973801">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
        <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#973801" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435326" title="=&gt; Boolean">hasPackageFlag</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="973802">o</a> = <a href="#973801" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#973802" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#973800" title="Typers.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#973802" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#973802" title="Typers.this.global.Symbol">o</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435326" title="=&gt; Boolean">hasPackageFlag</a><span class="delimiter">)</span> <a href="#973802" title="Typers.this.global.Symbol">o</a> = <a href="#973802" title="Typers.this.global.Symbol">o</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>
          <a href="#973802" title="Typers.this.global.Symbol">o</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#973800" title="Typers.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#973773" title="(sym: Typers.this.global.Symbol)Boolean">isVisibleParameter</a><span class="delimiter">(</span><a href="#973801" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="973775">localSyms</a> = collection.immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Typers.this.global.Symbol]" id="973776">boundSyms</a> = collection.immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Typers.this.global.Symbol*)scala.collection.immutable.Set[Typers.this.global.Symbol]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="973777">isLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="973822">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#973822" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#973822" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#973822" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509176" title="=&gt; Boolean">isLocalDummy</a><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span>
        <span class="keyword">else</span> <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#954190" title="Typers.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">tree</a> <a href="../ast/Trees.scala.html#510736" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#973772" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol)Boolean">defines</a><span class="delimiter">(</span><a href="#973897" title="Typers.this.global.Tree">_</a>, <a href="#973822" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="#973774" title="(owner: Typers.this.global.Symbol, sym: Typers.this.global.Symbol)Boolean">containsDef</a><span class="delimiter">(</span><a href="#954190" title="Typers.this.global.Symbol">owner</a>, <a href="#973822" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#507754" title="(sym: Typers.this.global.Symbol)Boolean">isRawParameter</a><span class="delimiter">(</span><a href="#973822" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Boolean" id="973778">containsLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="973898">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
        <a href="#973898" title="Typers.this.global.Type">tp</a> <a href="../symtab/Types.scala.html#507217" title="(p: Typers.this.global.Type =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="973901">t</a> =&gt; <a href="#973777" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#973901" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#973777" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#973901" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#507158" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.TypeMap" id="973779">normalizeLocals</a> = <a href="#973902" title="Typers.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#478842" title="anonymous class $anon extends Typers.this.global.TypeMap" id="973902">TypeMap</a> <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="973904">apply</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="973905">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a> = <a href="#973905" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="973911">pre</a>, <a title="Typers.this.global.Symbol" id="973912">sym</a>, <a title="List[Typers.this.global.Type]" id="973913">args</a><span class="delimiter">)</span> =&gt;
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#973912" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#973778" title="(tp: Typers.this.global.Type)Boolean">containsLocal</a><span class="delimiter">(</span><a href="#973905" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#973904" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#973905" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#973911" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507152" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
                <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508555" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#954189" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;Inferred type &quot;)" class="string">&quot;Inferred type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#954189" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; contains type selection from volatile type &quot;)" class="string">&quot; contains type selection from volatile type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#973911" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span>
              <a href="../symtab/Types.scala.html#532446" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#973905" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt;
            <a href="../symtab/Types.scala.html#532446" title="(tp: Typers.this.global.Type)Typers.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#973905" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="comment">// add all local symbols of `tp' to `localSyms'</span>
      <span class="comment">// TODO: expand higher-kinded types into individual copies for each instance.</span>
      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Unit" id="973780">addLocals</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="973950">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" id="973951">remainingSyms</a> = <span title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">ListBuffer</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit" id="973952">addIfLocal</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="973953">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a>, <a title="Typers.this.global.Type" id="973954">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#973777" title="(sym: Typers.this.global.Symbol)Boolean">isLocal</a><span class="delimiter">(</span><a href="#973953" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: Typers.this.global.Symbol)Boolean">localSyms</a><span class="delimiter">(</span><a href="#973953" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: Typers.this.global.Symbol)Boolean">boundSyms</a><span class="delimiter">(</span><a href="#973953" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#973953" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#973775" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a> <a href="../../../collection/SetLike.scala.html#65656" title="(elem: Typers.this.global.Symbol)scala.collection.immutable.Set[Typers.this.global.Symbol]">+=</a> <a href="#973953" title="Typers.this.global.Symbol">sym</a>
              <a href="#973951" title="scala.collection.mutable.ListBuffer[Typers.this.global.Symbol]">remainingSyms</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: Typers.this.global.Symbol)remainingSyms.type">+=</a> <a href="#973953" title="Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#954189" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>,
                <span title="java.lang.String(&quot;can\'t existentially abstract over parameterized type &quot;)" class="string">&quot;can't existentially abstract over parameterized type &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#973954" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Type" id="974004">t</a> &lt;- <a href="../symtab/Types.scala.html#507215" title="(f: Typers.this.global.Type =&gt; Unit)Unit">tp</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#974004" title="Typers.this.global.Type">t</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">ExistentialType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="974007">tparams</a>, _<span class="delimiter">)</span> =&gt;
              <a href="#973776" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">boundSyms</a> <a href="../../../collection/SetLike.scala.html#65658" title="(elems: scala.collection.GenTraversableOnce[Typers.this.global.Symbol])scala.collection.immutable.Set[Typers.this.global.Symbol]">++=</a> <a href="#974007" title="List[Typers.this.global.Symbol]">tparams</a>
            <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span><a title="List[Typers.this.global.AnnotationInfo]" id="974065">annots</a>, _, _<span class="delimiter">)</span> =&gt;
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.AnnotationInfo" id="974085">annot</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.AnnotationInfo =&gt; Unit)Unit">annots</a>; <a title="Typers.this.global.Tree" id="974105">arg</a> &lt;- <a href="#974085" title="Typers.this.global.AnnotationInfo">annot</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">args</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="#974105" title="Typers.this.global.Tree">arg</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Unit">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                    <span class="comment">// Check the symbol of an Ident, unless the</span>
                    <span class="comment">// Ident's type is already over an existential.</span>
                    <span class="comment">// (If the type is already over an existential,</span>
                    <span class="comment">// then remap the type, not the core symbol.)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#974105" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(34359738368L)">EXISTENTIAL</span><span class="delimiter">)</span><span class="delimiter">)</span>
                      <a href="#973952" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#974105" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>, <a href="#974105" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
                  <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
          <a href="#973952" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#974004" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#507158" title="=&gt; Typers.this.global.Symbol">termSymbol</a>, <a href="#974004" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
          <a href="#973952" title="(sym: Typers.this.global.Symbol, tp: Typers.this.global.Type)Unit">addIfLocal</a><span class="delimiter">(</span><a href="#974004" title="Typers.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#974004" title="Typers.this.global.Type">t</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="974132">sym</a> &lt;- <a href="../../../collection/generic/TraversableForwarder.scala.html#61936" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">remainingSyms</a><span class="delimiter">)</span> <a href="#973780" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#974132" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509291" title="=&gt; Typers.this.global.Type">existentialBound</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="973781">normalizedTpe</a> = <a href="../../../Function1.scala.html#53453" title="(v1: Typers.this.global.Type)Typers.this.global.Type">normalizeLocals</a><span class="delimiter">(</span><a href="#954189" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <a href="#973780" title="(tp: Typers.this.global.Type)Unit">addLocals</a><span class="delimiter">(</span><a href="#973781" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
      <a href="#507756" title="(hidden: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)Typers.this.global.Type">packSymbols</a><span class="delimiter">(</span><a href="#973775" title="scala.collection.immutable.Set[Typers.this.global.Symbol]">localSyms</a>.<a href="../../../collection/TraversableOnce.scala.html#53691" title="=&gt; List[Typers.this.global.Symbol]">toList</a>, <a href="#973781" title="Typers.this.global.Type">normalizedTpe</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree" id="507758">typedExistentialTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.ExistentialTypeTree" id="974136">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434168" title="Typers.this.global.ExistentialTypeTree">ExistentialTypeTree</a>, <a title="Int" id="974137">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974163">wc</a> &lt;- <a href="#974136" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)Unit">whereClauses</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#974163" title="Typers.this.global.Tree">wc</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#507674" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#917811" title="(tree: Typers.this.global.Tree)Typers.this.Context">enterSym</a><span class="delimiter">(</span><a href="#974163" title="Typers.this.global.Tree">wc</a><span class="delimiter">)</span>; <a href="#974163" title="Typers.this.global.Tree">wc</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)Typers.this.global.Symbol">setFlag</a> <span title="Long(34359738368L)">EXISTENTIAL</span> <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a> <a href="#974163" title="Typers.this.global.Tree">wc</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="974139">whereClauses1</a> = <a href="#507745" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#974136" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#444219" title="=&gt; List[Typers.this.global.Tree]">whereClauses</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="974212">vd</a> @ ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> &lt;- <a href="#974136" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Tree =&gt; Unit)Unit">whereClauses</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#974212" title="Typers.this.global.ValDef">vd</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507152" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#974212" title="Typers.this.global.ValDef">vd</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;illegal abstraction from value with volatile type &quot;)" class="string">&quot;illegal abstraction from value with volatile type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#974212" title="Typers.this.global.ValDef">vd</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="974140">tpt1</a> = <a href="#507776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#974136" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#444217" title="=&gt; Typers.this.global.Tree">tpt</a>, <a href="#974137" title="Int">mode</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[Typers.this.global.Symbol], Typers.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[Typers.this.global.Symbol]" id="974142">typeParams</a>, <a href="../../../Tuple2.scala.html#53404" title="Typers.this.global.Type" id="974143">tpe</a><span class="delimiter">)</span> = <a href="#507755" title="(rawSyms: List[Typers.this.global.Symbol], tp: Typers.this.global.Type)(List[Typers.this.global.Symbol], Typers.this.global.Type)">existentialTransform</a><a href="../../../Tuple2.scala.html#1520" title="(List[Typers.this.global.Symbol], Typers.this.global.Type) @unchecked" class="delimiter">(</a><a href="#974136" title="Typers.this.global.ExistentialTypeTree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#444219" title="=&gt; List[Typers.this.global.Tree]">whereClauses</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Symbol,List[Typers.this.global.Symbol]])List[Typers.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#974242" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>, <a href="#974140" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="comment">//println(tpe + &quot;: &quot; + tpe.getClass )</span>
      <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#547201" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#974142" title="List[Typers.this.global.Symbol]">typeParams</a>, <a href="#974143" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#534788" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#974136" title="Typers.this.global.ExistentialTypeTree">tree</a>
    <span class="delimiter">}</span>

    <span class="comment">// lifted out of typed1 because it's needed in typedImplicit0</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="507759">typedTypeApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="930970">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="930971">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Tree" id="930972">fun</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="930973">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#930972" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">OverloadedType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="974288">pre</a>, <a title="List[Typers.this.global.Symbol]" id="974289">alts</a><span class="delimiter">)</span> =&gt;
        <a href="Infer.scala.html#507864" title="(tree: Typers.this.global.Tree, argtypes: List[Typers.this.global.Type])Unit">inferPolyAlternatives</a><span class="delimiter">(</span><a href="#930972" title="Typers.this.global.Tree">fun</a>, <a href="#930973" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#974310" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="974290">tparams</a> = <a href="#930972" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a> <span class="comment">//@M TODO: fun.symbol.info.typeParams ? (as in typedAppliedTypeTree)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="974291">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#930973" title="List[Typers.this.global.Tree]">args</a>, <a href="#974290" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">//@M: in case TypeApply we can't check the kind-arities of the type arguments,</span>
          <span class="comment">// as we don't know which alternative to choose... here we do</span>
          <a href="../symtab/Types.scala.html#478946" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#930973" title="List[Typers.this.global.Tree]">args</a>, <a href="#974290" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">//@M! the polytype denotes the expected kind</span>
            <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974361">arg</a>, <a title="Typers.this.global.Symbol" id="974362">tparam</a><span class="delimiter">)</span> =&gt; <a href="#507778" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#974361" title="Typers.this.global.Tree">arg</a>, <a href="#930971" title="Int">mode</a>, <a href="../symtab/Types.scala.html#478818" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#974362" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="comment">// @M: there's probably something wrong when args.length != tparams.length... (triggered by bug #320)</span>
         <span class="comment">// Martin, I'm using fake trees, because, if you use args or arg.map(typedType),</span>
         <span class="comment">// inferPolyAlternatives loops...  -- I have no idea why :-(</span>
         <span class="comment">// ...actually this was looping anyway, see bug #278.</span>
          <span title="Nothing" class="keyword">return</span> <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#930972" title="Typers.this.global.Tree">fun</a>, <span title="java.lang.String(&quot;wrong number of type parameters for &quot;)" class="string">&quot;wrong number of type parameters for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#507632" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#930972" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <a href="#507759" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#930970" title="Typers.this.global.Tree">tree</a>, <a href="#930971" title="Int">mode</a>, <a href="#930972" title="Typers.this.global.Tree">fun</a>, <a href="#974291" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">SingleType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
        <a href="#507759" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#930970" title="Typers.this.global.Tree">tree</a>, <a href="#930971" title="Int">mode</a>, <a href="#930972" title="Typers.this.global.Tree">fun</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)fun.type">setType</a> <a href="#930972" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#930973" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="974383">tparams</a>, <a title="Typers.this.global.Type" id="974384">restpe</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#974383" title="List[Typers.this.global.Symbol]">tparams</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> =&gt;
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#974383" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#930973" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="974387">targs</a> = <a href="#930973" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#974398" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#507835" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#930970" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../symtab/Types.scala.html#478736" title="object Typers.this.global.NoPrefix">NoPrefix</a>, <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#974383" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#974387" title="List[Typers.this.global.Type]">targs</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#930972" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508019" title="=&gt; Typers.this.global.Symbol">Predef_classOf</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#507681" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#930973" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Tree">head</a>, <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
            <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#930970" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../Global.scala.html#478214" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507287" title="(tp: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkClassOf</a><span class="delimiter">(</span><a href="#974387" title="List[Typers.this.global.Type]">targs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Type">head</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <a href="#930972" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508235" title="=&gt; Typers.this.global.Symbol">Any_isInstanceOf</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#974387" title="List[Typers.this.global.Type]">targs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
              <a href="Infer.scala.html#507846" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, kind: String)Unit">checkCheckable</a><span class="delimiter">(</span><a href="#930970" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#974387" title="List[Typers.this.global.Type]">targs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Type">head</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="974445">resultpe</a> = <a href="#974384" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#507185" title="(formals: List[Typers.this.global.Symbol], actuals: List[Typers.this.global.Type])Typers.this.global.Type">instantiateTypeParams</a><span class="delimiter">(</span><a href="#974383" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#974387" title="List[Typers.this.global.Type]">targs</a><span class="delimiter">)</span>
            <span class="comment">//@M substitution in instantiateParams needs to be careful!</span>
            <span class="comment">//@M example: class Foo[a] { def foo[m[x]]: m[a] = error(&quot;&quot;) } (new Foo[Int]).foo[List] : List[Int]</span>
            <span class="comment">//@M    --&gt; first, m[a] gets changed to m[Int], then m gets substituted for List,</span>
            <span class="comment">//          this must preserve m's type argument, so that we end up with List[Int], and not List[a]</span>
            <span class="comment">//@M related bug: #1438</span>
            <span class="comment">//println(&quot;instantiating type params &quot;+restpe+&quot; &quot;+tparams+&quot; &quot;+targs+&quot; = &quot;+resultpe)</span>
            <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560308" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#930970" title="Typers.this.global.Tree">tree</a>, <a href="#930972" title="Typers.this.global.Tree">fun</a>, <a href="#930973" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.TypeApply">setType</a> <a href="#974445" title="Typers.this.global.Type">resultpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#930970" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;wrong number of type parameters for &quot;)" class="string">&quot;wrong number of type parameters for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#507632" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#930972" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478727" title="Typers.this.global.TypeApply">ErrorType</a> =&gt;
        <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.TypeApply)Typers.this.global.TypeApply">setError</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560308" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#930970" title="Typers.this.global.Tree">tree</a>, <a href="#930972" title="Typers.this.global.Tree">fun</a>, <a href="#930973" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
        <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#930970" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#507632" title="(tree: Typers.this.global.Tree)String">treeSymTypeMsg</a><span class="delimiter">(</span><a href="#930972" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; does not take type parameters.&quot;)" class="string">&quot; does not take type parameters.&quot;</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="507760">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508527" title="(x$1: Int)Unit">typingIndentLevel</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-=</a> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="()Unit" id="507761">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508527" title="(x$1: Int)Unit">typingIndentLevel</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(2)" class="int">2</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="507762">printTyping</a><span class="delimiter">(</span><a title="=&gt; String" id="928398">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478274" title="=&gt; Boolean">printTypings</a><span class="delimiter">)</span>
        <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508529" title="=&gt; String">typingIndent</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#928398" title="=&gt; String">s</a>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.lang.String">replaceAll</span><span class="delimiter">(</span><span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span>, <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508529" title="=&gt; String">typingIndent</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    @inline <span class="keyword">final</span> <span class="keyword">def</span> <a title="(s: =&gt; String)Unit" id="507763">printInference</a><span class="delimiter">(</span><a title="=&gt; String" id="928388">s</a>: =&gt; String<span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478277" title="=&gt; Boolean">printInfers</a><span class="delimiter">)</span>
        <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#928388" title="=&gt; String">s</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507764">typed1</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="893290">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="893291">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="893292">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="=&gt; Boolean" id="974472">isPatternMode</a> = <a href="Modes.scala.html#507434" title="(mode: Int)Boolean">inPatternMode</a><span class="delimiter">(</span><a href="#893291" title="Int">mode</a><span class="delimiter">)</span>

      <span class="comment">//Console.println(&quot;typed1(&quot;+tree.getClass()+&quot;,&quot;+Integer.toHexString(mode)+&quot;,&quot;+pt+&quot;)&quot;)</span>
      <span class="keyword">def</span> <a title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)" id="974473">ptOrLub</a><span class="delimiter">(</span><a title="List[Typers.this.global.Type]" id="974496">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span title="(Typers.this.global.Type, Boolean)" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#507473" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Type, _2: Boolean)(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="#893292" title="Typers.this.global.Type">pt</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#478968" title="(ts: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">weakLub</a><span class="delimiter">(</span><a href="#974496" title="List[Typers.this.global.Type]">tps</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Type =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#974520" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507164" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">//@M! get the type of the qualifier in a Select tree, otherwise: NoType</span>
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree)Typers.this.global.Type" id="974474">prefixType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974548">fun</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a> = <a href="#974548" title="Typers.this.global.Tree">fun</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974553">qualifier</a>, _<span class="delimiter">)</span> =&gt; <a href="#974553" title="Typers.this.global.Tree">qualifier</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
<span class="comment">//        case Ident(name) =&gt; ??</span>
        <span class="keyword">case</span> <span title="Typers.this.global.NoType.type">_</span> =&gt; <a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree" id="974475">typedAnnotated</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974554">ann</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="974555">arg1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="comment">/** mode for typing the annotation itself */</span>
        <span class="keyword">val</span> <a title="Int" id="974556">annotMode</a> = <a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <a href="../../../Int.scala.html#54736" title="=&gt; Int">~</a><span title="Int(4)">TYPEmode</span> <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <span title="Int(1)">EXPRmode</span>

        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Typers.this.global.Tree)Typers.this.global.TreeOps">arg1</a>.<a href="../ast/Trees.scala.html#510728" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// make sure the annotation is only typechecked once</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#974554" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// an annotated type</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="974572">selfsym</a> =
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469751" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">selfInAnnots</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">else</span>
                <a href="#974555" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507252" title="=&gt; Typers.this.global.Symbol">selfsym</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <a href="../symtab/Symbols.scala.html#478667" title="Typers.this.global.TermSymbol">NoSymbol</a> =&gt;
                    <span class="comment">/* Implementation limitation: Currently this
                     * can cause cyclical reference errors even
                     * when the self symbol is not referenced at all.
                     * Surely at least some of these cases can be
                     * fixed by proper use of LazyType's.  Lex tinkered
                     * on this but did not succeed, so is leaving
                     * it alone for now. Example code with the problem:
                     *  class peer extends Annotation
                     *  class NPE[T &lt;: NPE[T] @peer]
                     *
                     * (Note: -Yself-in-annots must be on to see the problem)
                     * */</span>
                    <span class="keyword">val</span> <a title="Typers.this.global.TermSymbol" id="974579">sym</a> =
                      <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509129" title="(pos: Typers.this.global.Position)Typers.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#974554" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
                        .<a href="../symtab/Symbols.scala.html#509125" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#974554" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516702" title="=&gt; Typers.this.global.nme.NameType">self</a><span class="delimiter">)</span>
                    <a href="#974579" title="Typers.this.global.TermSymbol">sym</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)sym.type">setInfo</a><span class="delimiter">(</span><a href="#974555" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507249" title="=&gt; Typers.this.global.Type">withoutAnnotations</a><span class="delimiter">)</span>
                    <a href="#974579" title="Typers.this.global.TermSymbol">sym</a>
                  <span class="keyword">case</span> <a title="Typers.this.global.Symbol" id="974597">sym</a> =&gt; <a href="#974597" title="Typers.this.global.Symbol">sym</a>
                <span class="delimiter">}</span>

            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="974573">ainfo</a> = <a href="#507753" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#974554" title="Typers.this.global.Tree">ann</a>, <a href="#974556" title="Int">annotMode</a>, <a href="#974572" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="974574">atype0</a> = <a href="#974555" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507247" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#974573" title="Typers.this.global.AnnotationInfo">ainfo</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Type" id="974575">atype</a> =
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#974572" title="Typers.this.global.Symbol">selfsym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#974573" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../symtab/AnnotationInfos.scala.html#532495" title="(sym: Typers.this.global.Symbol)Boolean">refsSymbol</a><span class="delimiter">(</span><a href="#974572" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#974574" title="Typers.this.global.Type">atype0</a>.<a href="../symtab/Types.scala.html#507251" title="(sym: Typers.this.global.Symbol)Typers.this.global.Type">withSelfsym</a><span class="delimiter">(</span><a href="#974572" title="Typers.this.global.Symbol">selfsym</a><span class="delimiter">)</span>
              <span class="keyword">else</span>
                <a href="#974574" title="Typers.this.global.Type">atype0</a> <span class="comment">// do not record selfsym if</span>
                       <span class="comment">// this annotation did not need it</span>

            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#974573" title="Typers.this.global.AnnotationInfo">ainfo</a>.<a href="../symtab/AnnotationInfos.scala.html#532494" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
              <a href="#974555" title="Typers.this.global.Tree">arg1</a>  <span class="comment">// simply drop erroneous annotations</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#974554" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#974575" title="Typers.this.global.Type">atype</a>
              <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#974575" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#534788" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">// the annotation was typechecked before</span>
            <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#974554" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#534788" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#974554" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AnnotationInfo" id="974616">annotInfo</a> = <a href="#507753" title="(ann: Typers.this.global.Tree, mode: Int, selfsym: Typers.this.global.Symbol, annClass: Typers.this.global.Symbol, requireJava: Boolean)Typers.this.global.AnnotationInfo">typedAnnotation</a><span class="delimiter">(</span><a href="#974554" title="Typers.this.global.Tree">ann</a>, <a href="#974556" title="Int">annotMode</a><span class="delimiter">)</span>
            <a href="#974554" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#974555" title="Typers.this.global.Tree">arg1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507247" title="(annot: Typers.this.global.AnnotationInfo)Typers.this.global.Type">withAnnotation</a><span class="delimiter">(</span><a href="#974616" title="Typers.this.global.AnnotationInfo">annotInfo</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="974610">atype</a> = <a href="#974554" title="Typers.this.global.Tree">ann</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
          <a href="../../../reflect/generic/Trees.scala.html#443806" title="(expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#974555" title="Typers.this.global.Tree">arg1</a>, <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#974610" title="Typers.this.global.Type">atype</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#534788" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a> <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.TypeTree">setPos</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Typed">setPos</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</a> <a href="#974610" title="Typers.this.global.Type">atype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree" id="974476">typedBind</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="974634">name</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a>, <a title="Typers.this.global.Tree" id="974635">body</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="974636">vble</a> = <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TypeName)Typers.this.global.Tree" id="974637">typedBindType</a><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="974639">name</a>: <a href="../symtab/Names.scala.html#478415" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#974635" title="Typers.this.global.Tree">body</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">unit</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot; typedBind: &quot;)" class="string">&quot; typedBind: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#974639" title="Typers.this.global.TypeName">name</a>.<a href="../symtab/Names.scala.html#501124" title="()java.lang.String">debugString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#974635" title="Typers.this.global.Tree">body</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#974635" title="Typers.this.global.Tree">body</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#974636" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#974636" title="Typers.this.global.Symbol">vble</a> =
              <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#507473" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509143" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.TypeSymbol">newAliasType</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#974639" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.TypeSymbol">setInfo</a> <a href="#893292" title="Typers.this.global.Type">pt</a>
              <span class="keyword">else</span>
                <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509145" title="(pos: Typers.this.global.Position, name: Typers.this.global.TypeName)Typers.this.global.TypeSymbol">newAbstractType</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#974639" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.TypeSymbol">setInfo</a> <a href="../symtab/Types.scala.html#478751" title="object Typers.this.global.TypeBounds">TypeBounds</a>.<a href="../symtab/Types.scala.html#546577" title="=&gt; Typers.this.global.TypeBounds">empty</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="974640">rawInfo</a> = <a href="#974636" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#509278" title="=&gt; Typers.this.global.Type">rawInfo</a>
          <a href="#974636" title="Typers.this.global.Symbol">vble</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#974636" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479051" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#516190" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a><span class="delimiter">)</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514360" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#974636" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
                 <span class="keyword">else</span> <a href="#507674" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#917799" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#974636" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</a> <a href="#974636" title="Typers.this.global.Symbol">vble</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#974636" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">def</span> <a title="(name: Typers.this.global.TermName)Typers.this.global.Bind" id="974638">typedBindTerm</a><span class="delimiter">(</span><a title="Typers.this.global.TermName" id="974708">name</a>: <a href="../symtab/Names.scala.html#478414" title="Typers.this.global.TermName">TermName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#974636" title="Typers.this.global.Symbol">vble</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#974636" title="Typers.this.global.Symbol">vble</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509125" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#974708" title="Typers.this.global.TermName">name</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#974636" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501117" title="=&gt; Typers.this.global.TermName">toTermName</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516190" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(8192)">ALTmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;illegal variable in pattern alternative&quot;)" class="string">&quot;illegal variable in pattern alternative&quot;</span><span class="delimiter">)</span>
            <a href="#974636" title="Typers.this.global.Symbol">vble</a> = <a href="#507674" title="=&gt; Typers.this.Namer">namer</a>.<a href="Namers.scala.html#917799" title="(sym: Typers.this.global.Symbol)Typers.this.global.Symbol">enterInScope</a><span class="delimiter">(</span><a href="#974636" title="Typers.this.global.Symbol">vble</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="974709">body1</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974635" title="Typers.this.global.Tree">body</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="#974636" title="Typers.this.global.Symbol">vble</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a><span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551064" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isSequenceValued</a><span class="delimiter">(</span><a href="#974635" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#508201" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#974709" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#974709" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560295" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Bind">Bind</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#974708" title="Typers.this.global.TermName">name</a>, <a href="#974709" title="Typers.this.global.Tree">body1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: Typers.this.global.Symbol)Typers.this.global.Bind">setSymbol</a> <a href="#974636" title="Typers.this.global.Symbol">vble</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Bind">setType</a> <a href="#974709" title="Typers.this.global.Tree">body1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>   <span class="comment">// burak, was: pt</span>
        <span class="delimiter">}</span>
        <a href="#974634" title="Typers.this.global.Name">name</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="974768">x</a>: <a href="../symtab/Names.scala.html#478415" title="Typers.this.global.TypeName">TypeName</a>  =&gt; <a href="#974637" title="(name: Typers.this.global.TypeName)Typers.this.global.Tree">typedBindType</a><span class="delimiter">(</span><a href="#974768" title="Typers.this.global.TypeName">x</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Bind" id="974769">x</a>: <a href="../symtab/Names.scala.html#478414" title="Typers.this.global.TermName">TermName</a>  =&gt; <a href="#974638" title="(name: Typers.this.global.TermName)Typers.this.global.Bind">typedBindTerm</a><span class="delimiter">(</span><a href="#974769" title="Typers.this.global.TermName">x</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue" id="974477">typedArrayValue</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974770">elemtpt</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="974771">elems</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="974772">elemtpt1</a> = <a href="#507776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#974770" title="Typers.this.global.Tree">elemtpt</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="974773">elems1</a> = <a href="#974771" title="List[Typers.this.global.Tree]">elems</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974784">elem</a> =&gt; <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974784" title="Typers.this.global.Tree">elem</a>, <a href="#893291" title="Int">mode</a>, <a href="#974772" title="Typers.this.global.Tree">elemtpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560297" title="(tree: Typers.this.global.Tree, elemtpt: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">ArrayValue</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#974772" title="Typers.this.global.Tree">elemtpt1</a>, <a href="#974773" title="List[Typers.this.global.Tree]">elems1</a><span class="delimiter">)</span>
          .<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.ArrayValue">setType</a><span class="delimiter">(</span>
            <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="Infer.scala.html#507473" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <a href="#893292" title="Typers.this.global.Type">pt</a>
             <span class="keyword">else</span> <a href="../symtab/Types.scala.html#478817" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508099" title="=&gt; Typers.this.global.Symbol">ArrayClass</a>.<a href="../symtab/Symbols.scala.html#509285" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#974772" title="Typers.this.global.Tree">elemtpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#507184" title="=&gt; Typers.this.global.Type">notNull</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree" id="974478">typedAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974806">lhs</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="974807">rhs</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="974808">lhs1</a>    = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974806" title="Typers.this.global.Tree">lhs</a>, EXPRmode <span title="Int(1025)">|</span> LHSmode, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="974809">varsym</a>  = <a href="#974808" title="Typers.this.global.Tree">lhs1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
        <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="974810">failMsg</a> =
          <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#974809" title="Typers.this.global.Symbol">varsym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#974809" title="Typers.this.global.Symbol">varsym</a>.<a href="../symtab/Symbols.scala.html#509168" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;reassignment to val&quot;)" class="string">&quot;reassignment to val&quot;</span>
          <span class="keyword">else</span> <span title="java.lang.String(&quot;assignment to non variable&quot;)" class="string">&quot;assignment to non variable&quot;</span>

        <span class="keyword">def</span> <a title="=&gt; Typers.this.global.Tree" id="974811">fail</a> = <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#974808" title="Typers.this.global.Tree">lhs1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#974810" title="=&gt; java.lang.String">failMsg</a><span class="delimiter">)</span>

          <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#974809" title="Typers.this.global.Symbol">varsym</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">return</span> <a href="#974811" title="=&gt; Typers.this.global.Tree">fail</a>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551035" title="(sym: Typers.this.global.treeInfo.trees.Symbol)Boolean">mayBeVarGetter</a><span class="delimiter">(</span><a href="#974809" title="Typers.this.global.Symbol">varsym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551067" title="(tree: Typers.this.global.treeInfo.trees.Tree)Typers.this.global.treeInfo.trees.Tree">methPart</a><span class="delimiter">(</span><a href="#974808" title="Typers.this.global.Tree">lhs1</a><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Nothing">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974837">qual</a>, <a title="Typers.this.global.Name" id="974838">name</a><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="974839">sel</a> = <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#974837" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#516888" title="(name: Typers.this.global.TermName)Typers.this.global.TermName">getterToSetter</a><span class="delimiter">(</span><a href="#974838" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501117" title="=&gt; Typers.this.global.TermName">toTermName</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#974806" title="Typers.this.global.Tree">lhs</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="974840">app</a> = <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#974839" title="Typers.this.global.Select">sel</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#974807" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>
              <span title="Nothing" class="keyword">return</span> <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974840" title="Typers.this.global.Apply">app</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

            <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#974809" title="Typers.this.global.Symbol">varsym</a>.<a href="../symtab/Symbols.scala.html#509169" title="=&gt; Boolean">isVariable</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#974809" title="Typers.this.global.Symbol">varsym</a>.<a href="../symtab/Symbols.scala.html#509168" title="=&gt; Boolean">isValue</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="974883">rhs1</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974807" title="Typers.this.global.Tree">rhs</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#974808" title="Typers.this.global.Tree">lhs1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560299" title="(tree: Typers.this.global.Tree, lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#974808" title="Typers.this.global.Tree">lhs1</a>, <a href="TypeDiagnostics.scala.html#963985" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#974883" title="Typers.this.global.Tree">rhs1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Assign">setType</a> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span>
        <span class="keyword">else</span> <a href="#974811" title="=&gt; Typers.this.global.Tree">fail</a>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If" id="974479">typedIf</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974901">cond</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="974902">thenp</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="974903">elsep</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="974904">cond1</a> = <a href="TypeDiagnostics.scala.html#963985" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974901" title="Typers.this.global.Tree">cond</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Definitions.scala.html#508439" title="=&gt; Typers.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Typers.this.global.If" class="keyword">if</span> <span class="delimiter">(</span><a href="#974903" title="Typers.this.global.Tree">elsep</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// in the future, should be unnecessary</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="974913">thenp1</a> = <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974902" title="Typers.this.global.Tree">thenp</a>, <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560301" title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#974904" title="Typers.this.global.Tree">cond1</a>, <a href="#974913" title="Typers.this.global.Tree">thenp1</a>, <a href="#974903" title="Typers.this.global.Tree">elsep</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</a> <a href="#974913" title="Typers.this.global.Tree">thenp1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="974929">thenp1</a> = <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974902" title="Typers.this.global.Tree">thenp</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="974930">elsep1</a> = <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974903" title="Typers.this.global.Tree">elsep</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Type" id="974932">owntype</a>, <a href="../../../Tuple2.scala.html#53404" title="Boolean" id="974933">needAdapt</a><span class="delimiter">)</span> = <a href="#974473" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</a><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#974929" title="Typers.this.global.Tree">thenp1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#974930" title="Typers.this.global.Tree">elsep1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#974933" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">//isNumericValueType(owntype)) {</span>
            <a href="#974929" title="Typers.this.global.Tree">thenp1</a> = <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#974929" title="Typers.this.global.Tree">thenp1</a>, <a href="#893291" title="Int">mode</a>, <a href="#974932" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#974930" title="Typers.this.global.Tree">elsep1</a> = <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#974930" title="Typers.this.global.Tree">elsep1</a>, <a href="#893291" title="Int">mode</a>, <a href="#974932" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560301" title="(tree: Typers.this.global.Tree, cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">If</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#974904" title="Typers.this.global.Tree">cond1</a>, <a href="#974929" title="Typers.this.global.Tree">thenp1</a>, <a href="#974930" title="Typers.this.global.Tree">elsep1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.If">setType</a> <a href="#974932" title="Typers.this.global.Type">owntype</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr: Typers.this.global.Tree)Typers.this.global.Tree" id="974480">typedReturn</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974959">expr</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="974960">enclMethod</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508472" title="=&gt; Typers.this.Context">enclMethod</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#974960" title="Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Contexts.scala.html#507348" title="=&gt; Typers.this.Context">NoContext</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
            <a href="#974960" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
            <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508469" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#508472" title="=&gt; Typers.this.Context">enclMethod</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#974960" title="Typers.this.Context">enclMethod</a> <span class="comment">// i.e., we are in a constructor of a local class</span>
            <span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;return outside method definition&quot;)" class="string">&quot;return outside method definition&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> DefDef<a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.TermName, Typers.this.global.Tree)" class="delimiter">(</a>_, <a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.TermName" id="974971">name</a>, _, _, <a href="../../../Tuple2.scala.html#53404" title="Typers.this.global.Tree" id="974972">restpt</a>, _<span class="delimiter">)</span> = <a href="#974960" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#974972" title="Typers.this.global.Tree">restpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#974960" title="Typers.this.Context">enclMethod</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">owner</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot; has return statement; needs result type&quot;)" class="string">&quot; has return statement; needs result type&quot;</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508472" title="=&gt; Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#508500" title="(x$1: Boolean)Unit">returnsSeen</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="974991">expr1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974959" title="Typers.this.global.Tree">expr</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="#974972" title="Typers.this.global.Tree">restpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="comment">// Warn about returning a value if no value can be returned.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#974972" title="Typers.this.global.Tree">restpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// The typing in expr1 says expr is Unit (it has already been coerced if</span>
              <span class="comment">// it is non-Unit) so we have to retype it.  Fortunately it won't come up much</span>
              <span class="comment">// unless the warning is legitimate.</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974959" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Typers.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
                <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;enclosing method &quot;)" class="string">&quot;enclosing method &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#974971" title="Typers.this.global.TermName">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; has result type Unit: return value discarded&quot;)" class="string">&quot; has result type Unit: return value discarded&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560303" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Return">Return</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="TypeDiagnostics.scala.html#963985" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#974991" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: Typers.this.global.Symbol)Typers.this.global.Return">setSymbol</a> <a href="#974960" title="Typers.this.Context">enclMethod</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Return">setType</a> <a href="../symtab/Definitions.scala.html#507933" title="=&gt; Typers.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree)Typers.this.global.New" id="974481">typedNew</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975026">tpt</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="975027">tpt1</a> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="975031">tpt0</a> = <a href="#507782" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#975026" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>
          <a href="#507681" title="(tpt: Typers.this.global.Tree, existentialOK: Boolean, stablePrefix: Boolean)Unit">checkClassType</a><span class="delimiter">(</span><a href="#975031" title="Typers.this.global.Tree">tpt0</a>, <span title="Boolean(false)" class="keyword">false</span>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#975031" title="Typers.this.global.Tree">tpt0</a>.<a href="../../../reflect/generic/Trees.scala.html#441035" title="=&gt; Boolean">hasSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#975031" title="Typers.this.global.Tree">tpt0</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508532" title="(ps: List[Typers.this.global.Symbol])Unit">undetparams</a> = <a href="../symtab/Symbols.scala.html#478669" title="(syms: List[Typers.this.global.Symbol])List[Typers.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#975031" title="Typers.this.global.Tree">tpt0</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a><span class="delimiter">)</span>
            <a href="../ast/Trees.scala.html#534779" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#534788" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a><span class="delimiter">(</span><a href="#975031" title="Typers.this.global.Tree">tpt0</a><span class="delimiter">)</span>
                      .<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">setType</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478817" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#975031" title="Typers.this.global.Tree">tpt0</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#975081" title="Typers.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509271" title="=&gt; Typers.this.global.Type">tpeHK</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// @PP: tpeHK! #3343, #4018, #4347.</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#975031" title="Typers.this.global.Tree">tpt0</a>
        <span class="delimiter">}</span>

        <span class="comment">/** If current tree &lt;tree&gt; appears in &lt;val x(: T)? = &lt;tree&gt;&gt;
         *  return `tp with x.type' else return `tp'.
         */</span>
        <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="975028">narrowRhs</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="975109">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span> <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="975110">sym</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">ValDef</span><span class="delimiter">(</span><a title="Typers.this.global.Modifiers" id="975117">mods</a>, _, _, Apply<span class="delimiter">(</span>Select<span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">`tree`</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#975117" title="Typers.this.global.Modifiers">mods</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435300" title="=&gt; Boolean">isMutable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#975110" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#975110" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="975132">sym1</a> = <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#975110" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#975110" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509343" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#975110" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#975110" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509343" title="(base: Typers.this.global.Symbol)Typers.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#975110" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#975110" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509317" title="=&gt; Typers.this.global.Symbol">lazyAccessorOrSelf</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="975133">pre</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#975132" title="Typers.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#975132" title="Typers.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Typers.this.global.Type">thisType</a> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#478736" title="object Typers.this.global.NoPrefix">NoPrefix</a>
              <a href="../symtab/Types.scala.html#478816" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#975109" title="Typers.this.global.Type">tp</a>, <a href="../symtab/Types.scala.html#478807" title="(pre: Typers.this.global.Type, sym: Typers.this.global.Symbol)Typers.this.global.Type">singleType</a><span class="delimiter">(</span><a href="#975133" title="Typers.this.global.Type">pre</a>, <a href="#975132" title="Typers.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#975109" title="Typers.this.global.Type">tp</a>
          <span class="delimiter">}</span><span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="975029">tp</a> = <a href="#975027" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="975030">sym</a> = <a href="#975029" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#975030" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#975030" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435322" title="=&gt; Boolean">hasAbstractFlag</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <span title="java.lang.String(&quot; is abstract; cannot be instantiated&quot;)" class="string">&quot; is abstract; cannot be instantiated&quot;</span><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span>  <a href="#975029" title="Typers.this.global.Type">tp</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#975030" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; sym.type">initialize</a>.<a href="../symtab/Symbols.scala.html#509306" title="=&gt; Typers.this.global.Symbol">thisSym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a> <span class="comment">// when there's no explicit self type -- with (#3612) or without self variable</span>
                     <span class="comment">// sym.thisSym.tpe == tp.typeOfThis (except for objects)</span>
                  <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#975028" title="(tp: Typers.this.global.Type)Typers.this.global.Type">narrowRhs</a><span class="delimiter">(</span><a href="#975029" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#975029" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507165" title="=&gt; Typers.this.global.Type">typeOfThis</a>
                  <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a>
                  <span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">sym</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a>
                <span title="java.lang.String(&quot; cannot be instantiated because it does not conform to its self-type &quot;)" class="string">&quot; cannot be instantiated because it does not conform to its self-type &quot;</span><span title="(x$1: Any)java.lang.String">+</span>
                <a href="#975029" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507165" title="=&gt; Typers.this.global.Type">typeOfThis</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560306" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.New">New</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#975027" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.New">setType</a><span class="delimiter">(</span><a href="#975029" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree" id="974482">typedEta</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975165">expr1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#975165" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#508070" title="=&gt; Typers.this.global.Symbol">ByNameParamClass</a>, _<span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="975169">expr2</a> = <a href="../../../reflect/generic/Trees.scala.html#443577" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#975165" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</a> <a href="#975165" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#479179" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#975169" title="Typers.this.global.Function">expr2</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#560624" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#975169" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#975169" title="Typers.this.global.Function">expr2</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">NullaryMethodType</span><span class="delimiter">(</span><a title="Typers.this.global.Type" id="975191">restpe</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Function" id="975192">expr2</a> = <a href="../../../reflect/generic/Trees.scala.html#443577" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#975165" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Function">setPos</a> <a href="#975165" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>
          <span title="Typers.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#479179" title="Typers.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#975192" title="Typers.this.global.Function">expr2</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../ast/Trees.scala.html#560624" title="(tree: Typers.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#975192" title="Typers.this.global.Function">expr2</a><span class="delimiter">)</span>
          <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#975192" title="Typers.this.global.Function">expr2</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">PolyType</span><span class="delimiter">(</span>_, MethodType<span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="975209">formals</a>, _<span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508198" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#975165" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#975165" title="Typers.this.global.Tree">expr1</a>, <a href="#893291" title="Int">mode</a>, <a href="../symtab/Definitions.scala.html#508196" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#975209" title="List[Typers.this.global.Symbol]">formals</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="975226">t</a> =&gt; <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">MethodType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="975256">formals</a>, _<span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508198" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#975165" title="Typers.this.global.Tree">expr1</a>
          <span class="keyword">else</span> <a href="#975165" title="Typers.this.global.Tree">expr1</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975261">qual</a>, <a title="Typers.this.global.Name" id="975262">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478374" title="=&gt; Boolean">forMSIL</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                        <a href="#893292" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                        <a href="#893292" title="Typers.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#478727" title="object Typers.this.global.ErrorType">ErrorType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                        <a href="../symtab/Types.scala.html#478922" title="(tp1: Typers.this.global.Type, tp2: Typers.this.global.Type)Boolean">isSubType</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a>, <a href="../symtab/Definitions.scala.html#508209" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="975273">scalaCaller</a> = <a href="../symtab/Definitions.scala.html#508378" title="(delegateType: Typers.this.global.Type)Typers.this.global.Symbol">newScalaCaller</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../symtab/Definitions.scala.html#508379" title="(scalaCaller: Typers.this.global.Symbol, methSym: Typers.this.global.Symbol)Unit">addScalaCallerInfo</a><span class="delimiter">(</span><a href="#975273" title="Typers.this.global.Symbol">scalaCaller</a>, <a href="#975165" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Name" id="975274">n</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a> = <a href="#975273" title="Typers.this.global.Symbol">scalaCaller</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Ident" id="975275">del</a> = <a href="../ast/Trees.scala.html#479144" title="(sym: Typers.this.global.Symbol)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508209" title="=&gt; Typers.this.global.Symbol">DelegateClass</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Ident">setType</a> <a href="../symtab/Definitions.scala.html#508209" title="=&gt; Typers.this.global.Symbol">DelegateClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Select" id="975276">f</a> = <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#975275" title="Typers.this.global.Ident">del</a>, <a href="#975274" title="Typers.this.global.Name">n</a><span class="delimiter">)</span>
              <span class="comment">//val f1 = TypeApply(f, List(Ident(pt.symbol) setType pt))</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="975277">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span><span class="delimiter">(</span><a href="#975165" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509233" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443172" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/generic/Constants.scala.html#435761" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                                     <span class="keyword">else</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Tree*)List[Typers.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#975261" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="comment">// where the scala-method is located</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="975278">rhs</a> = <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#975276" title="Typers.this.global.Select">f</a>, <a href="#975277" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#975278" title="Typers.this.global.Apply">rhs</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#975165" title="Typers.this.global.Tree">expr1</a>, <a href="#893291" title="Int">mode</a>, <a href="../symtab/Definitions.scala.html#508196" title="(formals: List[Typers.this.global.Type], restpe: Typers.this.global.Type)Typers.this.global.Type">functionType</a><span class="delimiter">(</span><a href="#975256" title="List[Typers.this.global.Symbol]">formals</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Symbol =&gt; Typers.this.global.WildcardType.type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Symbol],Typers.this.global.WildcardType.type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="975368">t</a> =&gt; <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478727" title="Typers.this.global.Tree">ErrorType</a> =&gt;
          <a href="#975165" title="Typers.this.global.Tree">expr1</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
          <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#975165" title="Typers.this.global.Tree">expr1</a>, <span title="java.lang.String(&quot;_ must follow method; cannot follow &quot;)" class="string">&quot;_ must follow method; cannot follow &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#975165" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">/**
       *  @param args ...
       *  @return     ...
       */</span>
      <span class="keyword">def</span> <a title="(args: List[Typers.this.global.Tree], mode: Int, other: Typers.this.global.TypeError)List[Typers.this.global.Tree]" id="974483">tryTypedArgs</a><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="975396">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Int" id="975397">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.TypeError" id="975398">other</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.Context" id="975399">c</a> = <a href="#507676" title="Typers.this.Context" id="975400">context</a>.<a href="Contexts.scala.html#712385" title="Typers.this.global.Tree" id="975402">makeSilent</a><span class="delimiter">(</span><a title="Boolean(false)" id="975401" class="keyword">false</a><span class="delimiter">)</span>
        <a href="#975399" title="Typers.this.Context">c</a>.<a href="Contexts.scala.html#508521" title="(x$1: Boolean)Unit">retyping</a> = <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">try</span> <span class="delimiter">{</span>
          <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#975399" title="Typers.this.Context">c</a><span class="delimiter">)</span>.<a href="#507747" title="(args: List[Typers.this.global.Tree], mode: Int)List[Typers.this.global.Tree]">typedArgs</a><span class="delimiter">(</span><a href="#975396" title="List[Typers.this.global.Tree]">args</a>, <a href="#975397" title="Int">mode</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Nothing" id="975405">ex</a>: <a href="../symtab/Symbols.scala.html#478675" title="Typers.this.global.CyclicReference">CyclicReference</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="#975405" title="Typers.this.global.CyclicReference">ex</a>
          <span class="keyword">case</span> <a title="Null(null)" id="975406">ex</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
            <span title="Null(null)" class="keyword">null</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Try to apply function to arguments; if it does not work, try to convert Java raw to existentials, or try to
       *  insert an implicit conversion.
       */</span>
      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="974484">tryTypedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975407">fun</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="975408">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="975409">start</a> = <a href="../util/Statistics.scala.html#478494" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478577" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>
        <a href="#507706" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#975415" title="Typers.this.Typer">_</a>.<a href="#507752" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#975407" title="Typers.this.global.Tree">fun</a>, <a href="#975408" title="List[Typers.this.global.Tree]">args</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="975421">t</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =&gt;
            <a href="#975421" title="Typers.this.global.Tree">t</a>
          <span class="keyword">case</span> <a title="Typers.this.global.Apply" id="975422">ex</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
            <a href="../util/Statistics.scala.html#478495" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478577" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#975409" title="scala.tools.nsc.util.Statistics.LongPair">start</a><span class="delimiter">)</span>

            <span class="comment">// If the problem is with raw types, copnvert to existentials and try again.</span>
            <span class="comment">// See #4712 for a case where this situation arises,</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#975407" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#975407" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Type" id="975426">newtpe</a> = <a href="../symtab/Types.scala.html#652146" title="(tp: Typers.this.global.Type)Typers.this.global.Type">rawToExistential</a><span class="delimiter">(</span><a href="#975407" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#975407" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#975426" title="Typers.this.global.Type">newtpe</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="comment">// println(&quot;late cooking: &quot;+fun+&quot;:&quot;+fun.tpe) // DEBUG</span>
                <span title="Nothing" class="keyword">return</span> <a href="#974484" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#975407" title="Typers.this.global.Tree">fun</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)fun.type">setType</a> <a href="#975426" title="Typers.this.global.Type">newtpe</a>, <a href="#975408" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>

            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]" id="975423">treesInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975430">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <a href="#975430" title="Typers.this.global.Tree">tree</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <span class="delimiter">(</span><a href="#975430" title="Typers.this.global.Tree">tree</a> <span title="List[Typers.this.global.Tree]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Block</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="975436">r</a><span class="delimiter">)</span>                        =&gt; <a href="#975423" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#975436" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.CaseDef]">Match</span><span class="delimiter">(</span>_, <a title="List[Typers.this.global.CaseDef]" id="975439">cases</a><span class="delimiter">)</span>                    =&gt; <a href="#975439" title="List[Typers.this.global.CaseDef]">cases</a>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">CaseDef</span><span class="delimiter">(</span>_, _, <a title="Typers.this.global.Tree" id="975447">r</a><span class="delimiter">)</span>                   =&gt; <a href="#975423" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#975447" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Annotated</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="975450">r</a><span class="delimiter">)</span>                    =&gt; <a href="#975423" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#975450" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">If</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Tree" id="975454">t</a>, <a title="Typers.this.global.Tree" id="975455">e</a><span class="delimiter">)</span>                        =&gt; <a href="#975423" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#975454" title="Typers.this.global.Tree">t</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</a> <a href="#975423" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#975455" title="Typers.this.global.Tree">e</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Try</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975518">b</a>, <a title="List[Typers.this.global.CaseDef]" id="975519">catches</a>, _<span class="delimiter">)</span>                 =&gt; <a href="#975423" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#975518" title="Typers.this.global.Tree">b</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49152" title="(that: scala.collection.GenTraversableOnce[Typers.this.global.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">++</a> <a href="#975519" title="List[Typers.this.global.CaseDef]">catches</a>
              <span class="keyword">case</span> <span title="List[Typers.this.global.Tree]">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975586">r</a>, Function<span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="#975423" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#975586" title="Typers.this.global.Tree">r</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">_</span>                                  =&gt; <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
            <span class="delimiter">}</span><span class="delimiter">)</span>
            <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Boolean" id="975424">errorInResult</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975594">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#975423" title="(tree: Typers.this.global.Tree)List[Typers.this.global.Tree]">treesInResult</a><span class="delimiter">(</span><a href="#975594" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#975603" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#975422" title="Typers.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#711704" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Boolean" id="975425">retry</a> = <a href="#975407" title="Typers.this.global.Tree">fun</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#975408" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <a href="#975424" title="(tree: Typers.this.global.Tree)Boolean">errorInResult</a>
            <a href="#507762" title="(s: =&gt; String)Unit">printTyping</a> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="java.lang.String" id="975630">funStr</a> = <a href="../symtab/TypeDebugging.scala.html#549752" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a><span class="delimiter">(</span><a href="#975407" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and &quot;)" class="string">&quot; and &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#975408" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a> <a href="../symtab/TypeDebugging.scala.html#549752" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a> <a href="../../../collection/TraversableOnce.scala.html#53709" title="(sep: String)String">mkString</a> <span title="java.lang.String(&quot;, &quot;)" class="string">&quot;, &quot;</span><span class="delimiter">)</span>
              <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#975425" title="Boolean">retry</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;second try: &quot;)" class="string">&quot;second try: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#975630" title="java.lang.String">funStr</a>
              <span class="keyword">else</span> <span title="java.lang.String(&quot;no second try: &quot;)" class="string">&quot;no second try: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#975630" title="java.lang.String">funStr</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; because error not in result: &quot;)" class="string">&quot; because error not in result: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#975422" title="Typers.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#711704" title="=&gt; Typers.this.global.Position">pos</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;!=&quot;)" class="string">&quot;!=&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#975425" title="Boolean">retry</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> Select<a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Tree, Typers.this.global.Name)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Tree" id="975680">qual</a>, <a href="../../../Tuple2.scala.html#53404" title="Typers.this.global.Name" id="975681">name</a><span class="delimiter">)</span> = <a href="#975407" title="Typers.this.global.Tree">fun</a>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="975682">args1</a> = <a href="#974483" title="(args: List[Typers.this.global.Tree], mode: Int, other: Typers.this.global.TypeError)List[Typers.this.global.Tree]">tryTypedArgs</a><span class="delimiter">(</span><a href="#975408" title="List[Typers.this.global.Tree]">args</a>, <a href="#507442" title="(fun: Typers.this.global.Tree, mode: Int)Int">forArgMode</a><span class="delimiter">(</span><a href="#975407" title="Typers.this.global.Tree">fun</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span>, <a href="#975422" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="975683">qual1</a> =
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#975682" title="List[Typers.this.global.Tree]">args1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#893292" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <a href="#507713" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], pt: Typers.this.global.Type)Typers.this.global.Tree">adaptToArguments</a><span class="delimiter">(</span><a href="#975680" title="Typers.this.global.Tree">qual</a>, <a href="#975681" title="Typers.this.global.Name">name</a>, <a href="#975682" title="List[Typers.this.global.Tree]">args1</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                <span class="keyword">else</span> <a href="#975680" title="Typers.this.global.Tree">qual</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#975683" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#975680" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Apply" id="975696">tree1</a> = <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#975683" title="Typers.this.global.Tree">qual1</a>, <a href="#975681" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#975407" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#975682" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>
                <span title="Nothing" class="keyword">return</span> <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#975696" title="Typers.this.global.Apply">tree1</a>, <a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <span title="Int(512)">SNDTRYmode</span>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
            <a href="TypeDiagnostics.scala.html#507660" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#975422" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
            <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Apply)Typers.this.global.Apply">setError</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560309" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#975407" title="Typers.this.global.Tree">fun</a>, <a href="#975408" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="974485">typedApply</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975730">fun</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="975731">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Boolean" id="975732">stableApplication</a> = <span class="delimiter">(</span><a href="#975730" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#975730" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#975730" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#975732" title="Boolean">stableApplication</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#974472" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// treat stable function applications f() as expressions.</span>
          <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <a href="../../../Int.scala.html#54736" title="=&gt; Int">~</a><span title="Int(2)">PATTERNmode</span> <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <span title="Int(1)">EXPRmode</span>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="975741">funpt</a> = <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#974472" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="#893292" title="Typers.this.global.Type">pt</a> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="975742">appStart</a> = <a href="../util/Statistics.scala.html#478494" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478577" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="scala.tools.nsc.util.Statistics.LongPair" id="975743">opeqStart</a> = <a href="../util/Statistics.scala.html#478494" title="(tm: scala.tools.nsc.util.Statistics.Timer)scala.tools.nsc.util.Statistics.LongPair">startTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478579" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a><span class="delimiter">)</span>
          <a href="#507706" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#975749" title="Typers.this.Typer">_</a>.<a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#975730" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#507426" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#893291" title="Int">mode</a><span class="delimiter">)</span>, <a href="#975741" title="Typers.this.global.Type">funpt</a><span class="delimiter">)</span>,
                 <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span title="Boolean(false)" class="keyword">false</span> <span class="keyword">else</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508505" title="=&gt; Boolean">reportAmbiguousErrors</a>,
                 <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="#893290" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="975773">fun1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="975774">fun2</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#975732" title="Boolean">stableApplication</a><span class="delimiter">)</span> <a href="#507704" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilizeFun</a><span class="delimiter">(</span><a href="#975773" title="Typers.this.global.Tree">fun1</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#975773" title="Typers.this.global.Tree">fun1</a>
              <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478567" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedApplyCount</a><span class="delimiter">)</span>
              <span class="keyword">def</span> <a title="(tpe: Typers.this.global.Type)Boolean" id="975775">isImplicitMethod</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="975779">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#975779" title="Typers.this.global.Type">tpe</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Boolean" id="975780">mt</a>: <a href="../symtab/Types.scala.html#478776" title="Typers.this.global.MethodType">MethodType</a> =&gt; <a href="#975780" title="Typers.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#546848" title="=&gt; Boolean">isImplicit</a>
                <span class="keyword">case</span> <span title="Boolean(false)">_</span> =&gt; <span title="Boolean(false)" class="keyword">false</span>
              <span class="delimiter">}</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="975776">res</a> =
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                    <a href="#975774" title="Typers.this.global.Tree">fun2</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434134" title="Typers.this.global.Select">Select</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                    <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#975775" title="(tpe: Typers.this.global.Type)Boolean">isImplicitMethod</a><span class="delimiter">(</span><a href="#975774" title="Typers.this.global.Tree">fun2</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                    <span class="delimiter">(</span><span class="delimiter">(</span><a href="#975774" title="Typers.this.global.Tree">fun2</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#975774" title="Typers.this.global.Tree">fun2</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                    <span class="delimiter">(</span><a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>EXPRmode <span title="Int(513)">|</span> SNDTRYmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <a href="#974484" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">tryTypedApply</a><span class="delimiter">(</span><a href="#975774" title="Typers.this.global.Tree">fun2</a>, <a href="#975731" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                      <a href="#507752" title="(tree: Typers.this.global.Tree, fun0: Typers.this.global.Tree, args: List[Typers.this.global.Tree], mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">doTypedApply</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#975774" title="Typers.this.global.Tree">fun2</a>, <a href="#975731" title="List[Typers.this.global.Tree]">args</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
            <span class="comment">/*
              if (fun2.hasSymbol &amp;&amp; fun2.symbol.isConstructor &amp;&amp; (mode &amp; EXPRmode) != 0) {
                res.tpe = res.tpe.notNull
              }
              */</span>
              <span class="comment">// TODO: In theory we should be able to call:</span>
              <span class="comment">//if (fun2.hasSymbol &amp;&amp; fun2.symbol.name == nme.apply &amp;&amp; fun2.symbol.owner == ArrayClass) {</span>
              <span class="comment">// But this causes cyclic reference for Array class in Cleanup. It is easy to overcome this</span>
              <span class="comment">// by calling ArrayClass.info here (or some other place before specialize).</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#975774" title="Typers.this.global.Tree">fun2</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508101" title="=&gt; Typers.this.global.Symbol">Array_apply</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="975803">checked</a> = <a href="../Global.scala.html#478214" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507288" title="(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">mkCheckInit</a><span class="delimiter">(</span><a href="#975776" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span>
                <span class="comment">// this check is needed to avoid infinite recursion in Duplicators</span>
                <span class="comment">// (calling typed1 more than once for the same tree)</span>
                <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#975803" title="Typers.this.global.gen.global.Tree">checked</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#975776" title="Typers.this.global.Tree">res</a><span class="delimiter">)</span> <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a> <span class="delimiter">{</span> <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#975803" title="Typers.this.global.gen.global.Tree">checked</a><span class="delimiter">)</span> <span class="delimiter">}</span>
                <span class="keyword">else</span> <a href="#975776" title="Typers.this.global.Tree">res</a>
              <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#975776" title="Typers.this.global.Tree">res</a>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="975815">ex</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
              <a href="#975730" title="Typers.this.global.Tree">fun</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975820">qual</a>, <a title="Typers.this.global.Name" id="975821">name</a><span class="delimiter">)</span>
                <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#974472" title="=&gt; Boolean">isPatternMode</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#516882" title="(name: Typers.this.global.Name)Boolean">isOpAssignmentName</a><span class="delimiter">(</span><a href="#975821" title="Typers.this.global.Name">name</a>.<a href="../../../reflect/generic/StdNames.scala.html#434009" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName">decode</a><span class="delimiter">)</span> =&gt;
                  <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="975823">qual1</a> = <a href="#507773" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#975820" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
                  <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551036" title="(tree: Typers.this.global.treeInfo.trees.Tree)Boolean">isVariableOrGetter</a><span class="delimiter">(</span><a href="#975823" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <a href="../util/Statistics.scala.html#478495" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478579" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedOpEqNanos</a>, <a href="#975743" title="scala.tools.nsc.util.Statistics.LongPair">opeqStart</a><span class="delimiter">)</span>
                    <a href="#974486" title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], ex: Typers.this.global.TypeError)Typers.this.global.Tree">convertToAssignment</a><span class="delimiter">(</span><a href="#975730" title="Typers.this.global.Tree">fun</a>, <a href="#975823" title="Typers.this.global.Tree">qual1</a>, <a href="#975821" title="Typers.this.global.Name">name</a>, <a href="#975731" title="List[Typers.this.global.Tree]">args</a>, <a href="#975815" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                    <a href="../util/Statistics.scala.html#478495" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478577" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#975742" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#975823" title="Typers.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#975823" title="Typers.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509168" title="=&gt; Boolean">isValue</a><span class="delimiter">)</span>
                      <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;reassignment to val&quot;)" class="string">&quot;reassignment to val&quot;</span><span class="delimiter">)</span>
                    <span class="keyword">else</span>
                      <a href="TypeDiagnostics.scala.html#507660" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#975730" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#975815" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
                    <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
                <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
                  <a href="../util/Statistics.scala.html#478495" title="(tm: scala.tools.nsc.util.Statistics.Timer, start: scala.tools.nsc.util.Statistics.LongPair)Unit">stopTimer</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478577" title="=&gt; scala.tools.nsc.util.Statistics.Timer">failedApplyNanos</a>, <a href="#975742" title="scala.tools.nsc.util.Statistics.LongPair">appStart</a><span class="delimiter">)</span>
                  <a href="TypeDiagnostics.scala.html#507660" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#975730" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#975815" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
                  <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(fun: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, args: List[Typers.this.global.Tree], ex: Typers.this.global.TypeError)Typers.this.global.Tree" id="974486">convertToAssignment</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975829">fun</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Tree" id="975830">qual</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="975831">name</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a>, <a title="List[Typers.this.global.Tree]" id="975832">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Typers.this.global.TypeError" id="975833">ex</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Name" id="975840">prefix</a> = <a href="#975831" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501154" title="(from: Int, to: Int)Typers.this.global.Name">subName</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#975831" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501112" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516808" title="=&gt; Typers.this.global.TermName">EQL</a>.<a href="../symtab/Names.scala.html#501112" title="=&gt; Int">length</a><span class="delimiter">)</span>
        <span class="keyword">def</span> <a title="(vble: Typers.this.global.Tree)Typers.this.global.Tree" id="975841">mkAssign</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975848">vble</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =
          <a href="../../../reflect/generic/Trees.scala.html#443611" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Assign">Assign</a><span class="delimiter">(</span>
            <a href="#975848" title="Typers.this.global.Tree">vble</a>,
            <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
              <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#975848" title="Typers.this.global.Tree">vble</a>.<a href="../../../reflect/generic/Trees.scala.html#441040" title="=&gt; vble.type">duplicate</a>, <a href="#975840" title="Typers.this.global.Name">prefix</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#975829" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501506" title="=&gt; scala.tools.nsc.util.Position">focus</a>, <a href="#975832" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501492" title="=&gt; scala.tools.nsc.util.Position">makeTransparent</a>
          <span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Assign">setPos</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>

        <span class="keyword">def</span> <a title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree" id="975842">mkUpdate</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="975883">table</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="975884">indices</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <a href="../Global.scala.html#478214" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507315" title="(exprs: List[Typers.this.global.gen.global.Tree], owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: List[() =&gt; Typers.this.global.gen.global.Tree] =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnceAll</a><span class="delimiter">(</span><a href="#975883" title="Typers.this.global.Tree">table</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Typers.this.global.Tree)List[Typers.this.global.Tree]">::</a> <a href="#975884" title="List[Typers.this.global.Tree]">indices</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="975897">ts</a> =&gt;
            <span class="keyword">val</span> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="975898">tab</a> = <a href="#975897" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; () =&gt; Typers.this.global.gen.global.Tree">head</a>
            <span class="keyword">val</span> <a title="List[() =&gt; Typers.this.global.gen.global.Tree]" id="975899">is</a> = <a href="#975897" title="List[() =&gt; Typers.this.global.gen.global.Tree]">ts</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[() =&gt; Typers.this.global.gen.global.Tree]">tail</a>
            <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
               <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#62187" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516730" title="=&gt; Typers.this.global.nme.NameType">update</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#975883" title="Typers.this.global.Tree">table</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>,
               <span class="delimiter">(</span><span class="delimiter">(</span><a href="#975899" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.gen.global.Tree]])List[Typers.this.global.gen.global.Tree]">map</a> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="975941">i</a> =&gt; <a href="../../../Function0.scala.html#62187" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[Typers.this.global.gen.global.Tree])List[Typers.this.global.gen.global.Tree]">:::</a> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Apply*)List[Typers.this.global.Apply]">List</a><span class="delimiter">(</span>
                 <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                   <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span>
                     <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span>
                       <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#62187" title="()Typers.this.global.gen.global.Tree">tab</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#975883" title="Typers.this.global.Tree">table</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>,
                       <a href="#975899" title="List[() =&gt; Typers.this.global.gen.global.Tree]">is</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[() =&gt; Typers.this.global.gen.global.Tree],Typers.this.global.gen.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <span class="delimiter">(</span><a title="() =&gt; Typers.this.global.gen.global.Tree" id="976019">i</a> =&gt; <a href="../../../Function0.scala.html#62187" title="()Typers.this.global.gen.global.Tree">i</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#975830" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>,
                     <a href="#975840" title="Typers.this.global.Name">prefix</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#975829" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>,
                   <a href="#975832" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
               <span class="delimiter">)</span>
             <span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Apply">setPos</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>
           <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="975843">tree1</a> = <a href="#975830" title="Typers.this.global.Tree">qual</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Tree">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
            <a href="#975841" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="#975830" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>

          <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="976080">qualqual</a>, <a title="Typers.this.global.Name" id="976081">vname</a><span class="delimiter">)</span> =&gt;
            <a href="../Global.scala.html#478214" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507314" title="(expr: Typers.this.global.gen.global.Tree, owner: Typers.this.global.gen.global.Symbol, unit: Typers.this.global.gen.global.CompilationUnit)(within: (() =&gt; Typers.this.global.gen.global.Tree) =&gt; Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span><a href="#976080" title="Typers.this.global.Tree">qualqual</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Typers.this.global.gen.global.Tree" id="976088">qq</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="976089">qq1</a> = <a href="../../../Function0.scala.html#62187" title="()Typers.this.global.gen.global.Tree">qq</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#975841" title="(vble: Typers.this.global.Tree)Typers.this.global.Tree">mkAssign</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#976089" title="Typers.this.global.gen.global.Tree">qq1</a>, <a href="#976081" title="Typers.this.global.Name">vname</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#975830" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="976112">fn</a>, <a title="List[Typers.this.global.Tree]" id="976113">indices</a><span class="delimiter">)</span> =&gt;
            <a href="../ast/Trees.scala.html#479115" title="object Typers.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551067" title="(tree: Typers.this.global.treeInfo.trees.Tree)Typers.this.global.treeInfo.trees.Tree">methPart</a><span class="delimiter">(</span><a href="#976112" title="Typers.this.global.Tree">fn</a><span class="delimiter">)</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.gen.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="976118">table</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; Typers.this.global.nme.NameType">apply</a><span class="delimiter">)</span> =&gt; <a href="#975842" title="(table: Typers.this.global.Tree, indices: List[Typers.this.global.Tree])Typers.this.global.gen.global.Tree">mkUpdate</a><span class="delimiter">(</span><a href="#976118" title="Typers.this.global.Tree">table</a>, <a href="#976113" title="List[Typers.this.global.Tree]">indices</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span>                        =&gt; <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#975830" title="Typers.this.global.Tree">qual</a>, <span title="java.lang.String(&quot;Unexpected tree during assignment conversion.&quot;)" class="string">&quot;Unexpected tree during assignment conversion.&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#975843" title="Typers.this.global.Tree">tree1</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
<span class="comment">/*
        if (settings.debug.value) log(&quot;retry assign: &quot;+tree1)
        silent(_.typed1(tree1, mode, pt)) match {
          case t: Tree =&gt;
            t
          case _ =&gt;
            reportTypeError(tree.pos, ex)
            setError(tree)
        }
*/</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Name)Typers.this.global.Symbol" id="974487">qualifyingClassSym</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="976119">qual</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a> =
        <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span class="keyword">else</span> <a href="#507692" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Name, packageOK: Boolean)Typers.this.global.Symbol">qualifyingClass</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976119" title="Typers.this.global.Name">qual</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super" id="974488">typedSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="976125">qual</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.TypeName" id="976126">mix</a>: <a href="../symtab/Names.scala.html#478415" title="Typers.this.global.TypeName">TypeName</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="976127">qual1</a> = <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#976125" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="976128">clazz</a> = <a href="#976127" title="Typers.this.global.Tree">qual1</a> <span title="Typers.this.global.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <a href="#976127" title="Typers.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <span class="keyword">case</span> <span title="Typers.this.global.Symbol">_</span> =&gt; <a href="#976127" title="Typers.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>
        <span class="delimiter">}</span>
        <span class="comment">//println(clazz+&quot;/&quot;+qual1.tpe.typeSymbol+&quot;/&quot;+qual1)</span>

        <span class="keyword">def</span> <a title="(site: Typers.this.global.Type)Typers.this.global.Type" id="976129">findMixinSuper</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="976139">site</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.Type]" id="976140">ps</a> = <a href="#976139" title="Typers.this.global.Type">site</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Typers.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</a> <span class="delimiter">(</span><a href="#976146" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#976126" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976140" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
            <a href="#976140" title="List[Typers.this.global.Type]">ps</a> = <a href="#976139" title="Typers.this.global.Type">site</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Typers.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Typers.this.global.Type =&gt; Boolean)List[Typers.this.global.Type]">filter</a> <span class="delimiter">(</span><a href="#976159" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509334" title="=&gt; Typers.this.global.Symbol">toInterface</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#976126" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#976140" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#976139" title="Typers.this.global.Type">site</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Typers.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Type =&gt; Typers.this.global.Name)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Type],Typers.this.global.Name,Any])Any">map</a> <span class="delimiter">(</span><a href="#976191" title="Typers.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="comment">//debug</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508469" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435382" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// println(qual1)</span>
              <span class="comment">// println(clazz)</span>
              <span class="comment">// println(site)</span>
              <span class="comment">// println(site.parents)</span>
              <span class="comment">// println(mix)</span>
              <span class="comment">// the reference to super class got lost during erasure</span>
              <a href="TypeDiagnostics.scala.html#507619" title="(pos: Typers.this.global.Position, unit: Typers.this.global.CompilationUnit, msg: String)Unit">restrictionError</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>, <span title="java.lang.String(&quot;traits may not select fields or methods from super[C] where C is a class&quot;)" class="string">&quot;traits may not select fields or methods from super[C] where C is a class&quot;</span><span class="delimiter">)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">mix</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; does not name a parent class of &quot;)" class="string">&quot; does not name a parent class of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976128" title="Typers.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../symtab/Types.scala.html#478727" title="object Typers.this.global.ErrorType">ErrorType</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976140" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Typers.this.global.Type]">tail</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;ambiguous parent class qualifier&quot;)" class="string">&quot;ambiguous parent class qualifier&quot;</span><span class="delimiter">)</span>
            <a href="../symtab/Types.scala.html#478727" title="object Typers.this.global.ErrorType">ErrorType</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#976140" title="List[Typers.this.global.Type]">ps</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Type">head</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>

        <span class="keyword">val</span> <a title="Typers.this.global.Type" id="976130">owntype</a> =
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#976126" title="Typers.this.global.TypeName">mix</a>.<a href="../symtab/Names.scala.html#501113" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(256)">SUPERCONSTRmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span>
              <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#976128" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Typers.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#507923" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a> <span class="comment">// can happen due to cyclic references ==&gt; #1036</span>
              <span class="keyword">else</span> <a href="#976128" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Typers.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Type">head</a>
            <span class="keyword">else</span> <a href="../symtab/Types.scala.html#478816" title="(tps: List[Typers.this.global.Type])Typers.this.global.Type">intersectionType</a><span class="delimiter">(</span><a href="#976128" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Typers.this.global.Type]">parents</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#976129" title="(site: Typers.this.global.Type)Typers.this.global.Type">findMixinSuper</a><span class="delimiter">(</span><a href="#976128" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560311" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">Super</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976127" title="Typers.this.global.Tree">qual1</a>, <a href="#976126" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Super">setType</a> <a href="../symtab/Types.scala.html#547325" title="(thistp: Typers.this.global.Type, supertp: Typers.this.global.Type)Typers.this.global.Type">SuperType</a><span class="delimiter">(</span><a href="#976128" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Typers.this.global.Type">thisType</a>, <a href="#976130" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Name)Typers.this.global.Tree" id="974489">typedThis</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="976254">qual</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="976255">clazz</a> = <a href="#974487" title="(qual: Typers.this.global.Name)Typers.this.global.Symbol">qualifyingClassSym</a><span class="delimiter">(</span><a href="#976254" title="Typers.this.global.Name">qual</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#976255" title="Typers.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: Typers.this.global.Symbol)tree.type">setSymbol</a> <a href="#976255" title="Typers.this.global.Symbol">clazz</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#976255" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Typers.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#507162" title="=&gt; Typers.this.global.Type">underlying</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#507699" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Boolean">isStableContext</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#976255" title="Typers.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Typers.this.global.Type">thisType</a>
          <a href="#893290" title="Typers.this.global.Tree">tree</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Attribute a selection where &lt;code&gt;tree&lt;/code&gt; is &lt;code&gt;qual.name&lt;/code&gt;.
       *  &lt;code&gt;qual&lt;/code&gt; is already attributed.
       *
       *  @param qual ...
       *  @param name ...
       *  @return     ...
       */</span>
      <span class="keyword">def</span> <a title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree" id="974490">typedSelect</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="976273">qual</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Name" id="976274">name</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="976275">sym</a> =
          <span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976273" title="Typers.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434128" title="Typers.this.global.Super">Super</a><span class="delimiter">]</span><span class="delimiter">)</span>
              <a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// todo: replace by settings.check.value?</span>
              <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="976287">alts</a> = <a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507200" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509299" title="=&gt; List[Typers.this.global.Symbol]">alternatives</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#976287" title="List[Typers.this.global.Symbol]">alts</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="976295">alt</a> =&gt;
                <a href="#976295" title="Typers.this.global.Symbol">alt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#976295" title="Typers.this.global.Symbol">alt</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#976295" title="Typers.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507227" title="(that: Typers.this.global.Type)Boolean">matches</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span>, <span title="java.lang.String(&quot;symbol &quot;)" class="string">&quot;symbol &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a><span title="(x$1: Any)java.lang.String">+</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; not in &quot;)" class="string">&quot; not in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976287" title="List[Typers.this.global.Symbol]">alts</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; of &quot;)" class="string">&quot; of &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span>
                       <span title="java.lang.String(&quot;\012 members = &quot;)" class="string">&quot;\n members = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507195" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)java.lang.String">+</span>
                       <span title="java.lang.String(&quot;\012 type history = &quot;)" class="string">&quot;\n type history = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507158" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../symtab/Symbols.scala.html#509370" title="=&gt; java.lang.String">infosString</a><span title="(x$1: Any)java.lang.String">+</span>
                       <span title="java.lang.String(&quot;\012 phase = &quot;)" class="string">&quot;\n phase = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <a href="#507705" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#976273" title="Typers.this.global.Tree">qual</a>, <a href="#976274" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976275" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976274" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(1)">EXPRmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="976320">qual1</a> =
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#507705" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#976273" title="Typers.this.global.Tree">qual</a>, <a href="#976274" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="#976273" title="Typers.this.global.Tree">qual</a>
            <span class="keyword">else</span> <a href="#507714" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976273" title="Typers.this.global.Tree">qual</a>, <a href="#976274" title="Typers.this.global.Name">name</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976320" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#976273" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560313" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976320" title="Typers.this.global.Tree">qual1</a>, <a href="#976274" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507697" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#976275" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509326" title="=&gt; Typers.this.global.Symbol">toplevelClass</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976274" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501116" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.gen.global.Tree with Serializable" id="976331">tree1</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree with Serializable)Typers.this.global.gen.global.Tree with Serializable">atPos</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../Global.scala.html#478214" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507313" title="(qual: Typers.this.global.gen.global.Tree, origName: Typers.this.global.gen.global.Name)Typers.this.global.gen.global.Tree with Serializable">convertToSelectFromType</a><span class="delimiter">(</span><a href="#976273" title="Typers.this.global.Tree">qual</a>, <a href="#976274" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>  <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976331" title="&lt;none&gt; extends Typers.this.global.gen.global.Tree with Serializable">tree1</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">return</span> <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#976331" title="&lt;none&gt; extends Typers.this.global.gen.global.Tree with Serializable">tree1</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="comment">// try to expand according to Dynamic rules.</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469703" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xexperimental</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#509296" title="(that: Typers.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="../symtab/Definitions.scala.html#508012" title="=&gt; Typers.this.global.Symbol">DynamicClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Typers.this.global.Apply" id="976350">dynInvoke</a> = <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#976273" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516652" title="=&gt; Typers.this.global.nme.NameType">applyDynamic</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Literal*)List[Typers.this.global.Literal]">List</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443172" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/generic/Constants.scala.html#435761" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#976274" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501159" title="=&gt; String">decode</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Unit">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="976398">tree1</a>, <a title="List[Typers.this.global.Tree]" id="976399">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#976398" title="Typers.this.global.Tree">tree1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#893290" title="Typers.this.global.Tree">tree</a> =&gt;
                ;
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
                <a href="#976350" title="Typers.this.global.Apply">dynInvoke</a> = <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#976350" title="Typers.this.global.Apply">dynInvoke</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="Nothing" class="keyword">return</span> <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span>util.<a href="../util/trace.scala.html#976410" title="(msg: String)(value: Typers.this.global.Apply)Typers.this.global.Apply">trace</a><span class="delimiter">(</span><span title="java.lang.String(&quot;dynatype: &quot;)" class="string">&quot;dynatype: &quot;</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#976350" title="Typers.this.global.Apply">dynInvoke</a><span class="delimiter">)</span>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span>
              <span title="java.lang.String(&quot;qual = &quot;)" class="string">&quot;qual = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976273" title="Typers.this.global.Tree">qual</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\012Symbol=&quot;)" class="string">&quot;\nSymbol=&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507158" title="=&gt; Typers.this.global.Symbol">termSymbol</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012symbol-info = &quot;)" class="string">&quot;\nsymbol-info = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507158" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\012scope-id = &quot;)" class="string">&quot;\nscope-id = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507158" title="=&gt; Typers.this.global.Symbol">termSymbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Typers.this.global.Scope">decls</a>.<span title="()Int">hashCode</span><span class="delimiter">(</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012members = &quot;)" class="string">&quot;\nmembers = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507195" title="=&gt; List[Typers.this.global.Symbol]">members</a><span title="(x$1: Any)java.lang.String">+</span>
              <span title="java.lang.String(&quot;\012name = &quot;)" class="string">&quot;\nname = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976274" title="Typers.this.global.Name">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012found = &quot;)" class="string">&quot;\nfound = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976275" title="Typers.this.global.Symbol">sym</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;\012owner = &quot;)" class="string">&quot;\nowner = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508469" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">def</span> <a title="=&gt; Typers.this.global.RefTree with Serializable" id="976330">makeErrorTree</a> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" id="976434">tree1</a> = <a href="#893290" title="Typers.this.global.Tree">tree</a> <span title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560313" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976273" title="Typers.this.global.Tree">qual</a>, <a href="#976274" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560320" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976273" title="Typers.this.global.Tree">qual</a>, <a href="#976274" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.RefTree with Serializable)Typers.this.global.RefTree with Serializable">setError</a><span class="delimiter">(</span><a href="#976434" title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable">tree1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976274" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516186" title="=&gt; Typers.this.global.nme.NameType">ERROR</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#478375" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span>
            <span title="Nothing" class="keyword">return</span> <a href="#976330" title="=&gt; Typers.this.global.RefTree with Serializable">makeErrorTree</a>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Typers.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
            <a href="TypeDiagnostics.scala.html#507627" title="(sel: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name)Unit">notAMember</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976273" title="Typers.this.global.Tree">qual</a>, <a href="#976274" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478375" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <a href="#976330" title="=&gt; Typers.this.global.RefTree with Serializable">makeErrorTree</a> <span class="keyword">else</span> <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" id="976476">tree1</a> = <a href="#893290" title="Typers.this.global.Tree">tree</a> <span title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Select">Select</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560313" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976273" title="Typers.this.global.Tree">qual</a>, <a href="#976274" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560320" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976273" title="Typers.this.global.Tree">qual</a>, <a href="#976274" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Tree" id="976478">tree2</a>, <a href="../../../Tuple2.scala.html#53404" title="Typers.this.global.Type" id="976479">pre2</a><span class="delimiter">)</span> = <a href="#507700" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Tree, Typers.this.global.Type) @unchecked" class="delimiter">(</a><a href="#976476" title="&lt;none&gt; extends Typers.this.global.RefTree with Serializable">tree1</a>, <a href="#976275" title="Typers.this.global.Symbol">sym</a>, <a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#976273" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="976480">result</a> = <a href="#507702" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#976478" title="Typers.this.global.Tree">tree2</a>, <a href="#976479" title="Typers.this.global.Type">pre2</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

          <span class="keyword">def</span> <a title="()Boolean" id="976481">isPotentialNullDeference</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976275" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#508041" title="=&gt; Typers.this.global.Symbol">NotNullClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507153" title="=&gt; Boolean">isNotNull</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508235" title="=&gt; Typers.this.global.Symbol">Any_isInstanceOf</a>, <a href="../symtab/Definitions.scala.html#508238" title="=&gt; Typers.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#976480" title="Typers.this.global.Tree">result</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span>  <span class="comment">// null.is/as is not a dereference</span>
          <span class="delimiter">}</span>
          <span class="comment">// unit is null here sometimes; how are we to know when unit might be null? (See bug #2467.)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/Warnings.scala.html#469880" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">warnSelectNullable</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976481" title="()Boolean">isPotentialNullDeference</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;potential null pointer dereference: &quot;)" class="string">&quot;potential null pointer dereference: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#893290" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="976482">selection</a> = <a href="#976480" title="Typers.this.global.Tree">result</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="comment">// could checkAccessible (called by makeAccessible) potentially have skipped checking a type application in qual?</span>
            <span class="keyword">case</span> <span title="Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.TypeTree" id="976539">qual</a>@TypeTree<span class="delimiter">(</span><span class="delimiter">)</span>, <a title="Typers.this.global.TypeName" id="976542">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#976539" title="Typers.this.global.TypeTree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[Typers.this.global.Type]">typeArgs</a> <a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a> =&gt; <span class="comment">// TODO: somehow the new qual is not checked in refchecks</span>
              <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560320" title="(tree: Typers.this.global.Tree, qualifier: Typers.this.global.Tree, selector: Typers.this.global.Name)Typers.this.global.SelectFromTypeTree">SelectFromTypeTree</a><span class="delimiter">(</span>
                <a href="#976480" title="Typers.this.global.Tree">result</a>,
                <span class="delimiter">(</span><a href="../ast/Trees.scala.html#558507" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span class="keyword">val</span> <a title="Typers.this.global.Type" id="976546">tp</a> = <a href="#976539" title="Typers.this.global.TypeTree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>; <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="976547">sym</a> = <a href="#976546" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507161" title="=&gt; Typers.this.global.Symbol">typeSymbolDirect</a>
                  <span class="comment">// will execute during refchecks -- TODO: make private checkTypeRef in refchecks public and call that one?</span>
                  <a href="Infer.scala.html#507835" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#976539" title="Typers.this.global.TypeTree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#976546" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#976547" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#976547" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#976546" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                  <a href="#976539" title="Typers.this.global.TypeTree">qual</a> <span class="comment">// you only get to see the wrapped tree after running this check :-p</span>
                <span class="delimiter">}</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</a> <a href="#976539" title="Typers.this.global.TypeTree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>,
                <a href="#976542" title="Typers.this.global.TypeName">name</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="976551">accErr</a>: Inferencer#<a href="Infer.scala.html#507865" title="Typers.this.Inferencer#AccessError">AccessError</a> =&gt;
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="976554">qual1</a> =
                <span class="keyword">try</span> <a href="#507714" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, name: Typers.this.global.Name, mode: Int)Typers.this.global.Tree">adaptToMemberWithArgs</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976273" title="Typers.this.global.Tree">qual</a>, <a href="#976274" title="Typers.this.global.Name">name</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span>
                <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt; <a href="#976273" title="Typers.this.global.Tree">qual</a> <span class="delimiter">}</span>
              <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#976554" title="Typers.this.global.Tree">qual1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#976273" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span> <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#976554" title="Typers.this.global.Tree">qual1</a>, <a href="#976274" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <a href="#976551" title="Typers.this.Inferencer#AccessError">accErr</a>.<a href="Infer.scala.html#933752" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="#976480" title="Typers.this.global.Tree">result</a>
          <span class="delimiter">}</span>
          <span class="comment">// To fully benefit from special casing the return type of</span>
          <span class="comment">// getClass, we have to catch it immediately so expressions</span>
          <span class="comment">// like x.getClass().newInstance() are typed with the type of x.</span>
          <span class="keyword">val</span> <a title="Boolean" id="976483">isRefinableGetClass</a> = <span class="delimiter">(</span>
               <a href="#976482" title="Typers.this.global.Tree">selection</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516795" title="=&gt; Typers.this.global.TermName">getClass_</a>
            <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976482" title="Typers.this.global.Tree">selection</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507180" title="=&gt; List[Typers.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a>
            <span class="comment">// TODO: If the type of the qualifier is inaccessible, we can cause private types</span>
            <span class="comment">// to escape scope here, e.g. pos/t1107.  I'm not sure how to properly handle this</span>
            <span class="comment">// so for now it requires the type symbol be public.</span>
            <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435312" title="=&gt; Boolean">isPublic</a>
          <span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#976483" title="Boolean">isRefinableGetClass</a><span class="delimiter">)</span>
              <a href="#976482" title="Typers.this.global.Tree">selection</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)selection.type">setType</a> <a href="../symtab/Types.scala.html#546837" title="(params: List[Typers.this.global.Symbol], resultType: Typers.this.global.Type)Typers.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="../Global.scala.html#478300" title="object Typers.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#513082" title="(tp: Typers.this.global.erasure.global.Type)Typers.this.global.erasure.global.Type">getClassReturnType</a><span class="delimiter">(</span><a href="#976273" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#976482" title="Typers.this.global.Tree">selection</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="comment">/** Attribute an identifier consisting of a simple name or an outer reference.
       *
       *  @param tree      The tree representing the identifier.
       *  @param name      The name of the identifier.
       *  Transformations: (1) Prefix class members with this.
       *                   (2) Change imported symbols to selections
       */</span>
      <span class="keyword">def</span> <a title="(name: Typers.this.global.Name)Typers.this.global.Tree" id="974491">typedIdent</a><span class="delimiter">(</span><a title="Typers.this.global.Name" id="976587">name</a>: <a href="../symtab/Names.scala.html#478413" title="Typers.this.global.Name">Name</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="keyword">def</span> <a title="(msg: String)Unit" id="976588">ambiguousError</a><span class="delimiter">(</span><a title="String" id="976596">msg</a>: <span title="String">String</span><span class="delimiter">)</span> =
          <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;reference to &quot;)" class="string">&quot;reference to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#976587" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; is ambiguous;\012&quot;)" class="string">&quot; is ambiguous;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#976596" title="String">msg</a><span class="delimiter">)</span>

        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="976589">defSym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a> = <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>  <span class="comment">// the directly found symbol</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Type" id="976590">pre</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a> = <a href="../symtab/Types.scala.html#478736" title="object Typers.this.global.NoPrefix">NoPrefix</a>          <span class="comment">// the prefix type of defSym, if a class member</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="976591">qual</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>        <span class="comment">// the qualifier tree if transformed tree is a select</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="976592">inaccessibleSym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a> <span class="comment">// the first symbol that was found but that was discarded</span>
                                          <span class="comment">// for being inaccessible; used for error reporting</span>
        <span class="keyword">var</span> <a title="String" id="976593">inaccessibleExplanation</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

        <span class="comment">// If a special setting is given, the empty package will be checked as a</span>
        <span class="comment">// last ditch effort before failing.  This method sets defSym and returns</span>
        <span class="comment">// true if a member of the given name exists.</span>
        <span class="keyword">def</span> <a title="()Boolean" id="976594">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
          <a href="#976589" title="Typers.this.global.Symbol">defSym</a> = <a href="../symtab/Definitions.scala.html#507886" title="=&gt; Typers.this.global.Symbol">EmptyPackageClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507201" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">nonPrivateMember</a><span class="delimiter">(</span><a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <a href="#976589" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>

        <span class="comment">// A symbol qualifies if it exists and is not stale. Stale symbols</span>
        <span class="comment">// are made to disappear here. In addition,</span>
        <span class="comment">// if we are in a constructor of a pattern, we ignore all definitions</span>
        <span class="comment">// which are methods (note: if we don't do that</span>
        <span class="comment">// case x :: xs in class List would return the :: method)</span>
        <span class="comment">// unless they are stable or are accessors (the latter exception is for better error messages).</span>
        <span class="keyword">def</span> <a title="(sym: Typers.this.global.Symbol)Boolean" id="976595">qualifies</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="976602">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
          <a href="#507697" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#976602" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
          <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(2)">PATTERNmode</span> <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <span title="Int(16)">FUNmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976602" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435390" title="=&gt; Boolean">isSourceMethod</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#976602" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><span title="Long(134217728L)">ACCESSOR</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976589" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Typers.this.global.ScopeEntry" id="976625">defEntry</a>: <a href="../symtab/Scopes.scala.html#479018" title="Typers.this.global.ScopeEntry">ScopeEntry</a> = <span title="Null(null)" class="keyword">null</span> <span class="comment">// the scope entry of defSym, if defined in a local scope</span>

          <span class="keyword">var</span> <a title="Typers.this.Context" id="976626">cx</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(65538)">|</span> TYPEPATmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// println(&quot;ignoring scope: &quot;+name+&quot; &quot;+cx.scope+&quot; &quot;+cx.outer.scope)</span>
            <span class="comment">// ignore current variable scope in patterns to enforce linearity</span>
            <a href="#976626" title="Typers.this.Context">cx</a> = <a href="#976626" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#508466" title="=&gt; Typers.this.Context">outer</a>
          <span class="delimiter">}</span>

          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#976589" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976626" title="Typers.this.Context">cx</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="Contexts.scala.html#507348" title="=&gt; Typers.this.Context">NoContext</a><span class="delimiter">)</span> <a href="#976630" title="()Unit" class="delimiter">{</a>
            <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482580" title="(context: Typers.this.global.analyzer.Context, name: Typers.this.global.Name)Boolean">compileSourceFor</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#507359" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <a href="#976590" title="Typers.this.global.Type">pre</a> = <a href="#976626" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#508469" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#508493" title="=&gt; Typers.this.global.Type">prefix</a>
            <a href="#976625" title="Typers.this.global.ScopeEntry">defEntry</a> = <a href="#976626" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514369" title="(name: Typers.this.global.Name)Typers.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#976625" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976595" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a><span class="delimiter">(</span><a href="#976625" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#976589" title="Typers.this.global.Symbol">defSym</a> = <a href="#976625" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Typers.this.global.Symbol">sym</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#976626" title="Typers.this.Context">cx</a> = <a href="#976626" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#508469" title="=&gt; Typers.this.Context">enclClass</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="976663">foundSym</a> = <a href="#976590" title="Typers.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507200" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509300" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <a href="#976595" title="(sym: Typers.this.global.Symbol)Boolean">qualifies</a>
              <a href="#976589" title="Typers.this.global.Symbol">defSym</a> = <a href="#976663" title="Typers.this.global.Symbol">foundSym</a> <a href="../symtab/Symbols.scala.html#509300" title="(cond: Typers.this.global.Symbol =&gt; Boolean)Typers.this.global.Symbol">filter</a> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508565" title="(sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, superAccess: Boolean)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#976668" title="Typers.this.global.Symbol">_</a>, <a href="#976590" title="Typers.this.global.Type">pre</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976589" title="Typers.this.global.Symbol">defSym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#976663" title="Typers.this.global.Symbol">foundSym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#976592" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="#976592" title="Typers.this.global.Symbol">inaccessibleSym</a> = <a href="#976663" title="Typers.this.global.Symbol">foundSym</a>
                  <a href="#976593" title="String">inaccessibleExplanation</a> = <a href="../Global.scala.html#478282" title="object Typers.this.global.analyzer">analyzer</a>.<a href="Contexts.scala.html#507352" title="=&gt; String">lastAccessCheckDetails</a>
                <span class="delimiter">}</span>
                <a href="#976626" title="Typers.this.Context">cx</a> = <a href="#976626" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#508466" title="=&gt; Typers.this.Context">outer</a>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="Int" id="976627">symDepth</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#976625" title="Typers.this.global.ScopeEntry">defEntry</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#976626" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#508481" title="=&gt; Int">depth</a>
                         <span class="keyword">else</span> <a href="#976626" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#508481" title="=&gt; Int">depth</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span class="delimiter">(</span><a href="#976626" title="Typers.this.Context">cx</a>.<a href="Contexts.scala.html#508463" title="=&gt; Typers.this.global.Scope">scope</a>.<a href="../symtab/Scopes.scala.html#514372" title="=&gt; Int">nestingLevel</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#976625" title="Typers.this.global.ScopeEntry">defEntry</a>.<a href="../symtab/Scopes.scala.html#514517" title="=&gt; Typers.this.global.Scope">owner</a>.<a href="../symtab/Scopes.scala.html#514372" title="=&gt; Int">nestingLevel</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="976628">impSym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>      <span class="comment">// the imported symbol</span>
          <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="976629">imports</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508484" title="=&gt; List[Typers.this.ImportInfo]">imports</a>      <span class="comment">// impSym != NoSymbol =&gt; it is imported from imports.head</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507697" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#976628" title="Typers.this.global.Symbol">impSym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712252" title="=&gt; Int">depth</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="#976627" title="Int">symDepth</a><span class="delimiter">)</span> <a href="#976631" title="()Unit" class="delimiter">{</a>
            <a href="#976628" title="Typers.this.global.Symbol">impSym</a> = <a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712257" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976628" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#509245" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <a href="#976629" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Typers.this.ImportInfo]">tail</a>
          <span class="delimiter">}</span>

          <span class="comment">// detect ambiguous definition/import,</span>
          <span class="comment">// update `defSym' to be the final resolved symbol,</span>
          <span class="comment">// update `pre' to be `sym's prefix type in case it is an imported member,</span>
          <span class="comment">// and compute value of:</span>

          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509245" title="=&gt; Boolean">exists</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976628" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#509245" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// imported symbols take precedence over package-owned symbols in different</span>
            <span class="comment">// compilation units. Defined symbols take precedence over erroneous imports.</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509197" title="=&gt; Boolean">definedInPackage</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482566" title="(sym: Typers.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#976589" title="Typers.this.global.Symbol">defSym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                 <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509351" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500950" title="=&gt; scala.tools.nsc.util.SourceFile">source</a>.<a href="../util/SourceFile.scala.html#501040" title="=&gt; scala.tools.nsc.io.AbstractFile">file</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#976589" title="Typers.this.global.Symbol">defSym</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976628" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#509183" title="=&gt; Boolean">isError</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#976628" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>
              <a href="#976628" title="Typers.this.global.Symbol">impSym</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
          <span class="delimiter">}</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509245" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976628" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#509245" title="=&gt; Boolean">exists</a><span class="delimiter">)</span>
              <a href="#976588" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                <span title="java.lang.String(&quot;it is both defined in &quot;)" class="string">&quot;it is both defined in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a> <span title="(x$1: Any)java.lang.String">+</span>
                <span title="java.lang.String(&quot; and imported subsequently by \012&quot;)" class="string">&quot; and imported subsequently by \n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509186" title="=&gt; Boolean">isTypeParameterOrSkolem</a><span class="delimiter">)</span>
              <a href="#976590" title="Typers.this.global.Type">pre</a> = <a href="../symtab/Types.scala.html#478736" title="object Typers.this.global.NoPrefix">NoPrefix</a>
            <span class="keyword">else</span>
              <a href="#976591" title="Typers.this.global.Tree">qual</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501505" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../Global.scala.html#478214" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507269" title="(tpe: Typers.this.global.gen.global.Type)Typers.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#976590" title="Typers.this.global.Type">pre</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976628" title="Typers.this.global.Symbol">impSym</a>.<a href="../symtab/Symbols.scala.html#509245" title="=&gt; Boolean">exists</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">var</span> <a title="Typers.this.global.NoSymbol.type" id="976726">impSym1</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
              <span class="keyword">var</span> <a title="List[Typers.this.ImportInfo]" id="976727">imports1</a> = <a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Typers.this.ImportInfo]">tail</a>
              <span class="keyword">def</span> <a title="()Unit" id="976728">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712255" title="=&gt; Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507225" title="(that: Typers.this.global.Type)Boolean">=:=</a> <a href="#976727" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712255" title="=&gt; Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#976588" title="(msg: String)Unit">ambiguousError</a><span class="delimiter">(</span>
                    <span title="java.lang.String(&quot;it is imported twice in the same scope by\012&quot;)" class="string">&quot;it is imported twice in the same scope by\n&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a> <span title="(x$1: Any)java.lang.String">+</span>  <span title="java.lang.String(&quot;\012and &quot;)" class="string">&quot;\nand &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976727" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976727" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                     <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712256" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                      <a href="#976727" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712252" title="=&gt; Int">depth</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712252" title="=&gt; Int">depth</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#976730" title="()Unit" class="delimiter">{</a>
                <span class="keyword">var</span> <a title="Typers.this.global.Symbol" id="976747">impSym1</a> = <a href="#976727" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712257" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">importedSymbol</a><span class="delimiter">(</span><a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#507697" title="(sym: Typers.this.global.Symbol)Boolean">reallyExists</a><span class="delimiter">(</span><a href="#976747" title="Typers.this.global.Symbol">impSym1</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976727" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712256" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712256" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
                        <a href="#976727" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712252" title="=&gt; Int">depth</a> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712252" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#976728" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                    <a href="#976628" title="Typers.this.global.Symbol">impSym</a> = <a href="#976747" title="Typers.this.global.Symbol">impSym1</a>
                    <a href="#976629" title="List[Typers.this.ImportInfo]">imports</a> = <a href="#976727" title="List[Typers.this.ImportInfo]">imports1</a>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712256" title="(name: Typers.this.global.Name)Boolean">isExplicitImport</a><span class="delimiter">(</span><a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                             <a href="#976727" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712252" title="=&gt; Int">depth</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712252" title="=&gt; Int">depth</a><span class="delimiter">)</span> <a href="#976728" title="()Unit">ambiguousImport</a><span class="delimiter">(</span><span class="delimiter">)</span>
                <span class="delimiter">}</span>
                <a href="#976727" title="List[Typers.this.ImportInfo]">imports1</a> = <a href="#976727" title="List[Typers.this.ImportInfo]">imports1</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Typers.this.ImportInfo]">tail</a>
              <span class="delimiter">}</span>
              <a href="#976589" title="Typers.this.global.Symbol">defSym</a> = <a href="#976628" title="Typers.this.global.Symbol">impSym</a>
              <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="976729">qual0</a> = <a href="#976629" title="List[Typers.this.ImportInfo]">imports</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.ImportInfo">head</a>.<a href="Contexts.scala.html#712255" title="=&gt; Typers.this.global.Tree">qual</a>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><span title="Boolean(false)">shortenImports</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976729" title="Typers.this.global.Tree">qual0</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435394" title="=&gt; Boolean">isPackage</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// optimization: don't write out package prefixes</span>
                <a href="#976591" title="Typers.this.global.Tree">qual</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501505" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560435" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">resetPos</a><span class="delimiter">(</span><a href="#976729" title="Typers.this.global.Tree">qual0</a>.<a href="../../../reflect/generic/Trees.scala.html#441040" title="=&gt; qual0.type">duplicate</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#976590" title="Typers.this.global.Type">pre</a> = <a href="#976591" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469807" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">exposeEmptyPackage</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#976594" title="()Boolean">checkEmptyPackage</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Allowing empty package member &quot;)" class="string">&quot;Allowing empty package member &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#976587" title="Typers.this.global.Name">name</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; due to settings.&quot;)" class="string">&quot; due to settings.&quot;</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508484" title="=&gt; List[Typers.this.ImportInfo]">imports</a><span class="delimiter">)</span><span class="comment">//debug</span>
              <span class="delimiter">}</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#976592" title="Typers.this.global.Symbol">inaccessibleSym</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;not found: &quot;)" class="string">&quot;not found: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="TypeDiagnostics.scala.html#507625" title="(name: Typers.this.global.Name, owner: Typers.this.global.Symbol)String">decodeWithKind</a><span class="delimiter">(</span><a href="#976587" title="Typers.this.global.Name">name</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <span class="keyword">else</span> <span title="Typer.this.infer.AccessError" class="keyword">new</span> <a href="Infer.scala.html#507865" title="Typer.this.infer.AccessError">AccessError</a><span class="delimiter">(</span>
                <a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976592" title="Typers.this.global.Symbol">inaccessibleSym</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508469" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Typers.this.global.Type">thisType</a>,
                <a href="#976593" title="String">inaccessibleExplanation</a>
              <span class="delimiter">)</span>.<a href="Infer.scala.html#933752" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
              <a href="#976589" title="Typers.this.global.Symbol">defSym</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509163" title="(name: Typers.this.global.Name)Typers.this.global.Symbol">newErrorSymbol</a><span class="delimiter">(</span><a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#976590" title="Typers.this.global.Type">pre</a> = <a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Typers.this.global.Type">thisType</a>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509182" title="=&gt; Boolean">isThisSym</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479142" title="(sym: Typers.this.global.Symbol)Typers.this.global.Tree">This</a><span class="delimiter">(</span><a href="#976589" title="Typers.this.global.Symbol">defSym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Tree">setPos</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="976819">tree1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#976591" title="Typers.this.global.Tree">qual</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#893290" title="Typers.this.global.Tree">tree</a>
                      <span class="keyword">else</span> <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Select)Typers.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#976591" title="Typers.this.global.Tree">qual</a>, <a href="#976587" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="comment">// atPos necessary because qualifier might come from startContext</span>
          <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Tree, Typers.this.global.Type)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Tree" id="976821">tree2</a>, <a href="../../../Tuple2.scala.html#53404" title="Typers.this.global.Type" id="976822">pre2</a><span class="delimiter">)</span> = <a href="#507700" title="(tree: Typers.this.global.Tree, sym: Typers.this.global.Symbol, pre: Typers.this.global.Type, site: Typers.this.global.Tree)(Typers.this.global.Tree, Typers.this.global.Type)">makeAccessible</a><a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Tree, Typers.this.global.Type) @unchecked" class="delimiter">(</a><a href="#976819" title="Typers.this.global.Tree">tree1</a>, <a href="#976589" title="Typers.this.global.Symbol">defSym</a>, <a href="#976590" title="Typers.this.global.Type">pre</a>, <a href="#976591" title="Typers.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span class="comment">// assert(pre.typeArgs isEmpty) // no need to add #2416-style check here, right?</span>
          <a href="#507702" title="(tree: Typers.this.global.Tree, pre: Typers.this.global.Type, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">stabilize</a><span class="delimiter">(</span><a href="#976821" title="Typers.this.global.Tree">tree2</a>, <a href="#976822" title="Typers.this.global.Type">pre2</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="976860">accErr</a>: Inferencer#<a href="Infer.scala.html#507865" title="Typers.this.Inferencer#AccessError">AccessError</a> =&gt; <a href="#976860" title="Typers.this.Inferencer#AccessError">accErr</a>.<a href="Infer.scala.html#933752" title="()Typers.this.global.Tree">emit</a><span class="delimiter">(</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="976863">result</a> =&gt; <a href="#976863" title="Typers.this.global.Tree">result</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(templ: Typers.this.global.Template)Typers.this.global.Tree" id="974492">typedCompoundTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Template" id="976864">templ</a>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="Typers.this.global.Template">Template</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="976865">parents1</a> = <a href="#976864" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441748" title="=&gt; List[Typers.this.global.Tree]">parents</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a href="#507776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#976872" title="Typers.this.global.Tree">_</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="tree.type" class="keyword">if</span> <span class="delimiter">(</span><a href="#976865" title="List[Typers.this.global.Tree]">parents1</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Typers.this.global.Tree =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a href="#976884" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="../symtab/Types.scala.html#478727" title="object Typers.this.global.ErrorType">ErrorType</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Scope" id="976886">decls</a> = <a href="../symtab/Scopes.scala.html#514352" title="()Typers.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#479020" title="Typers.this.global.Scope">Scope</a>
          <span class="comment">//Console.println(&quot;Owner: &quot; + context.enclClass.owner + &quot; &quot; + context.enclClass.owner.id)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="976887">self</a> = <a href="../symtab/Types.scala.html#478808" title="(parents: List[Typers.this.global.Type], owner: Typers.this.global.Symbol, decls: Typers.this.global.Scope, pos: Typers.this.global.Position)Typers.this.global.Type">refinedType</a><span class="delimiter">(</span><a href="#976865" title="List[Typers.this.global.Tree]">parents1</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#976914" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508469" title="=&gt; Typers.this.Context">enclClass</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#976886" title="Typers.this.global.Scope">decls</a>, <a href="#976864" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>
          <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508543" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#976864" title="Typers.this.global.Template">templ</a>, <a href="#976887" title="Typers.this.global.Type">self</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a>, <a href="#976886" title="Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#507743" title="(stats: List[Typers.this.global.Tree])Unit">typedRefinement</a><span class="delimiter">(</span><a href="#976864" title="Typers.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441752" title="=&gt; List[Typers.this.global.Tree]">body</a><span class="delimiter">)</span>
          <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#976887" title="Typers.this.global.Type">self</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree" id="974493">typedAppliedTypeTree</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="976944">tpt</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="List[Typers.this.global.Tree]" id="976945">args</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Typers.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="976946">tpt1</a> = <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#976944" title="Typers.this.global.Tree">tpt</a>, <a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <span title="Int(16)">FUNmode</span> <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <span title="Int(128)">TAPPmode</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507190" title="=&gt; Boolean">isError</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441035" title="=&gt; Boolean">hasSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="976960">tparams</a> = <a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#976960" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#976945" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="976963">args1</a> =
              <span title="List[Typers.this.global.Tree]" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509278" title="=&gt; Typers.this.global.Type">rawInfo</a>.<a href="../../../reflect/generic/Types.scala.html#434190" title="=&gt; Boolean">isComplete</a><span class="delimiter">)</span>
                <a href="#976945" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a href="#507779" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#976974" title="Typers.this.global.Tree">_</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <span class="comment">// if symbol hasn't been fully loaded, can't check kind-arity</span>
              <span class="keyword">else</span> <a href="../symtab/Types.scala.html#478946" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#976945" title="List[Typers.this.global.Tree]">args</a>, <a href="#976960" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977001">arg</a>, <a title="Typers.this.global.Symbol" id="977002">tparam</a><span class="delimiter">)</span> =&gt;
                  <a href="#507778" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#977001" title="Typers.this.global.Tree">arg</a>, <a href="#893291" title="Int">mode</a>, <a href="../symtab/Types.scala.html#478818" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#977002" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <span class="comment">//@M! the polytype denotes the expected kind</span>
              <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="976964">argtypes</a> = <a href="#976963" title="List[Typers.this.global.Tree]">args1</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#977023" title="Typers.this.global.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

            <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Symbol])(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])" class="delimiter">(</a><a href="#976945" title="List[Typers.this.global.Tree]">args</a>, <a href="#976960" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Symbol] =&gt; scala.collection.IterableLike[Typers.this.global.Symbol,List[Typers.this.global.Symbol]])(List[Typers.this.global.Tree], List[Typers.this.global.Symbol])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Symbol],Typers.this.global.Symbol]">zipped</a> <a href="../../../Tuple2.scala.html#57634" title="(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Any)Unit">foreach</a> <span class="delimiter">{</span> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977103">arg</a>, <a title="Typers.this.global.Symbol" id="977104">tparam</a><span class="delimiter">)</span> =&gt; <a href="#977103" title="Typers.this.global.Tree">arg</a> <span title="Any" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="comment">// note: can't use args1 in selector, because Bind's got replaced</span>
              <span class="keyword">case</span> <span title="Any">Bind</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#977103" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span>
                  <a href="#977103" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <span class="comment">// XXX, feedback. don't trackSymInfo here!</span>
                    <a href="../symtab/Types.scala.html#546580" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span>
                      <a href="../symtab/Types.scala.html#478978" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">lub</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#977103" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546583" title="=&gt; Typers.this.global.Type">lo</a>, <a href="#977104" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546583" title="=&gt; Typers.this.global.Type">lo</a>.<a href="../symtab/Types.scala.html#507209" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#976960" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#976964" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                      <a href="../symtab/Types.scala.html#478987" title="(ts: List[Typers.this.global.Type])Typers.this.global.Type">glb</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#977103" title="Typers.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; Typers.this.global.Type">hi</a>, <a href="#977104" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Typers.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; Typers.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#507209" title="(from: List[Typers.this.global.Symbol], to: List[Typers.this.global.Type])Typers.this.global.Type">subst</a><span class="delimiter">(</span><a href="#976960" title="List[Typers.this.global.Symbol]">tparams</a>, <a href="#976964" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <span class="delimiter">}</span><span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Typers.this.global.AppliedTypeTree" id="976965">original</a> = <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560322" title="(tree: Typers.this.global.Tree, tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.AppliedTypeTree">AppliedTypeTree</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976946" title="Typers.this.global.Tree">tpt1</a>, <a href="#976963" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.TypeTree" id="976966">result</a> = <a href="../ast/Trees.scala.html#479149" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478817" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#976964" title="List[Typers.this.global.Type]">argtypes</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#534788" title="(tree: Typers.this.global.Tree)Typers.this.global.TypeTree">setOriginal</a>  <a href="#976965" title="Typers.this.global.AppliedTypeTree">original</a>
            <span title="&lt;none&gt; extends Typers.this.global.AbsTypeTree with Serializable" class="keyword">if</span><span class="delimiter">(</span><a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#478783" title="Typers.this.global.PolyType">PolyType</a><span class="delimiter">]</span><span class="delimiter">)</span> <span class="comment">// did the type application (performed by appliedType) involve an unchecked beta-reduction?</span>
              <span class="delimiter">(</span><a href="../ast/Trees.scala.html#558507" title="()(check: () =&gt; Typers.this.global.TypeTree)Typers.this.global.TypeTreeWithDeferredRefCheck">TypeTreeWithDeferredRefCheck</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">{</span> <span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
                <span class="comment">// wrap the tree and include the bounds check -- refchecks will perform this check (that the beta reduction was indeed allowed) and unwrap</span>
                <span class="comment">// we can't simply use original in refchecks because it does not contains types</span>
                <span class="comment">// (and the only typed trees we have have been mangled so they're not quite the original tree anymore)</span>
                <a href="Infer.scala.html#507835" title="(pos: Typers.this.global.Position, pre: Typers.this.global.Type, owner: Typers.this.global.Symbol, tparams: List[Typers.this.global.Symbol], targs: List[Typers.this.global.Type], prefix: String)Unit">checkBounds</a><span class="delimiter">(</span><a href="#976966" title="Typers.this.global.TypeTree">result</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; Typers.this.global.Type">prefix</a>, <a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Typers.this.global.Symbol">owner</a>, <a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="#976964" title="List[Typers.this.global.Type]">argtypes</a>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
                <a href="#976966" title="Typers.this.global.TypeTree">result</a> <span class="comment">// you only get to see the wrapped tree after running this check :-p</span>
              <span class="delimiter">}</span><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.TypeTreeWithDeferredRefCheck">setType</a><span class="delimiter">(</span><a href="#976966" title="Typers.this.global.TypeTree">result</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#976966" title="Typers.this.global.TypeTree">result</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#976960" title="List[Typers.this.global.Symbol]">tparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpe</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; does not take type parameters&quot;)" class="string">&quot; does not take type parameters&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="comment">//Console.println(&quot;\{tpt1}:\{tpt1.symbol}:\{tpt1.symbol.info}&quot;)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">tpt1</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a><span class="delimiter">)</span><span class="comment">//debug</span>
            <a href="Infer.scala.html#507800" title="(tree: Typers.this.global.Tree, msg: String)Typers.this.global.Tree">errorTree</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <span title="java.lang.String(&quot;wrong number of type arguments for &quot;)" class="string">&quot;wrong number of type arguments for &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976946" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, should be &quot;)" class="string">&quot;, should be &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#976960" title="List[Typers.this.global.Symbol]">tparams</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef" id="974494">adaptCase</a><span class="delimiter">(</span><a title="Typers.this.global.CaseDef" id="977181">cdef</a>: <a href="../../../reflect/generic/Trees.scala.html#434073" title="Typers.this.global.CaseDef">CaseDef</a>, <a title="Typers.this.global.Type" id="977182">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434073" title="Typers.this.global.CaseDef">CaseDef</a> =
        <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560292" title="(tree: Typers.this.global.Tree, pat: Typers.this.global.Tree, guard: Typers.this.global.Tree, body: Typers.this.global.Tree)Typers.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#977181" title="Typers.this.global.CaseDef">cdef</a>, <a href="#977181" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#442450" title="=&gt; Typers.this.global.Tree">pat</a>, <a href="#977181" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#442452" title="=&gt; Typers.this.global.Tree">guard</a>, <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#977181" title="Typers.this.global.CaseDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#442454" title="=&gt; Typers.this.global.Tree">body</a>, <a href="#893291" title="Int">mode</a>, <a href="#977182" title="Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">// begin typed1</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="974495">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a> = <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#974495" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#974495" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#974495" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; sym.type">initialize</a>
      <span class="comment">//if (settings.debug.value &amp;&amp; tree.isDef) log(&quot;typing definition of &quot;+sym);//DEBUG</span>
      <a href="#893290" title="Typers.this.global.Tree">tree</a> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.PackageDef">PackageDef</span><span class="delimiter">(</span><a title="Typers.this.global.RefTree" id="977193">pid</a>, <a title="List[Typers.this.global.Tree]" id="977194">stats</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.RefTree" id="977195">pid1</a> = <a href="#507773" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#977193" title="Typers.this.global.RefTree">pid</a><span class="delimiter">)</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.RefTree" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434031" title="Typers.this.global.RefTree">RefTree</a><span class="delimiter">]</span>
          <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#974495" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509335" title="=&gt; Typers.this.global.Symbol">moduleClass</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>, <a href="#974495" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
          <span class="comment">// complete lazy annotations</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.AnnotationInfo]" id="977196">annots</a> = <a href="#974495" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509116" title="=&gt; List[Typers.this.global.AnnotationInfo]">annotations</a>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="977197">stats1</a> = <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508543" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol, scope: Typers.this.global.Scope)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#974495" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509335" title="=&gt; Typers.this.global.Symbol">moduleClass</a>, <a href="#974495" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Typers.this.global.Scope">decls</a><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="#507745" title="(stats: List[Typers.this.global.Tree], exprOwner: Typers.this.global.Symbol)List[Typers.this.global.Tree]">typedStats</a><span class="delimiter">(</span><a href="#977194" title="List[Typers.this.global.Tree]">stats</a>, <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560282" title="(tree: Typers.this.global.Tree, pid: Typers.this.global.RefTree, stats: List[Typers.this.global.Tree])Typers.this.global.PackageDef">PackageDef</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#977195" title="Typers.this.global.RefTree">pid1</a>, <a href="#977197" title="List[Typers.this.global.Tree]">stats1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.PackageDef">setType</a> <a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="977215">tree</a> @ ClassDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#977215" title="Typers.this.global.ClassDef">tree</a>, <a href="#974495" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#507721" title="(cdef: Typers.this.global.ClassDef)Typers.this.global.Tree">typedClassDef</a><span class="delimiter">(</span><a href="#977215" title="Typers.this.global.ClassDef">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="977222">tree</a> @ ModuleDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#977222" title="Typers.this.global.ModuleDef">tree</a>, <a href="#974495" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509335" title="=&gt; Typers.this.global.Symbol">moduleClass</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#507722" title="(mdef: Typers.this.global.ModuleDef)Typers.this.global.Tree">typedModuleDef</a><span class="delimiter">(</span><a href="#977222" title="Typers.this.global.ModuleDef">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.ValDef" id="977228">vdef</a> @ ValDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#507730" title="(vdef: Typers.this.global.ValDef)Typers.this.global.ValDef">typedValDef</a><span class="delimiter">(</span><a href="#977228" title="Typers.this.global.ValDef">vdef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.DefDef" id="977235">ddef</a> @ DefDef<span class="delimiter">(</span>_, _, _, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#974495" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#507734" title="(ddef: Typers.this.global.DefDef)Typers.this.global.DefDef">typedDefDef</a><span class="delimiter">(</span><a href="#977235" title="Typers.this.global.DefDef">ddef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.TypeDef" id="977244">tdef</a> @ TypeDef<span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="#507735" title="(tdef: Typers.this.global.TypeDef)Typers.this.global.TypeDef">typedTypeDef</a><span class="delimiter">(</span><a href="#977244" title="Typers.this.global.TypeDef">tdef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.LabelDef" id="977254">ldef</a> @ LabelDef<span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
          <a href="#507694" title="(ldef: Typers.this.global.LabelDef)Typers.this.Typer">labelTyper</a><span class="delimiter">(</span><a href="#977254" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>.<a href="#507738" title="(ldef: Typers.this.global.LabelDef)Typers.this.global.LabelDef">typedLabelDef</a><span class="delimiter">(</span><a href="#977254" title="Typers.this.global.LabelDef">ldef</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="977260">ddef</a> @ DocDef<span class="delimiter">(</span><a title="Typers.this.global.DocComment" id="977263">comment</a>, <a title="Typers.this.global.Tree" id="977264">defn</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478376" title="=&gt; Boolean">forScaladoc</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#974495" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#974495" title="Typers.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: Typers.this.global.Symbol, value: Typers.this.global.DocComment)Unit">docComments</a><span class="delimiter">(</span><a href="#974495" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#977263" title="Typers.this.global.DocComment">comment</a>
            <a href="#977263" title="Typers.this.global.DocComment">comment</a>.<a href="../ast/DocComments.scala.html#529329" title="(sym: Typers.this.global.Symbol)Unit">defineVariables</a><span class="delimiter">(</span><a href="#974495" title="Typers.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.Typer" id="977265">typer1</a> = <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.UseCase" id="977290">useCase</a> &lt;- <a href="#977263" title="Typers.this.global.DocComment">comment</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.UseCase =&gt; Unit)Unit">useCases</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#977265" title="Typers.this.Typer">typer1</a>.<a href="#507706" title="(op: Typers.this.Typer =&gt; Unit, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a href="#977296" title="Typers.this.Typer">_</a>.<a href="#507733" title="(useCase: Typers.this.global.UseCase)Unit">typedUseCase</a><span class="delimiter">(</span><a href="#977290" title="Typers.this.global.UseCase">useCase</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Unit" id="977302">ex</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                  <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#977290" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#529708" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#977302" title="Typers.this.global.TypeError">ex</a>.<a href="../symtab/Types.scala.html#711707" title="=&gt; String">msg</a><span class="delimiter">)</span>
                <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
              <span class="delimiter">}</span>
              <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="977324">useCaseSym</a> &lt;- <a href="#977290" title="Typers.this.global.UseCase">useCase</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Typers.this.global.Symbol =&gt; Unit)Unit">defined</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#974495" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#977324" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a><span class="delimiter">)</span>
                  <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: Typers.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#977290" title="Typers.this.global.UseCase">useCase</a>.<a href="../ast/DocComments.scala.html#529708" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;@usecase &quot;)" class="string">&quot;@usecase &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#977324" title="Typers.this.global.Symbol">useCaseSym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501159" title="=&gt; String">decode</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; does not match commented symbol: &quot;)" class="string">&quot; does not match commented symbol: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#974495" title="Typers.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501159" title="=&gt; String">decode</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#977264" title="Typers.this.global.Tree">defn</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Annotated</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977338">constr</a>, <a title="Typers.this.global.Tree" id="977339">arg</a><span class="delimiter">)</span> =&gt;
          <a href="#974475" title="(ann: Typers.this.global.Tree, arg1: Typers.this.global.Tree)Typers.this.global.Tree">typedAnnotated</a><span class="delimiter">(</span><a href="#977338" title="Typers.this.global.Tree">constr</a>, <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#977339" title="Typers.this.global.Tree">arg</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Block" id="977344">tree</a> @ Block<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#977344" title="Typers.this.global.Block">tree</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>
            .<a href="#507739" title="(block: Typers.this.global.Block, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Block">typedBlock</a><span class="delimiter">(</span><a href="#977344" title="Typers.this.global.Block">tree</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Alternative">Alternative</span><span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="977350">alts</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="977351">alts1</a> = <a href="#977350" title="List[Typers.this.global.Tree]">alts</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977358">alt</a> =&gt; <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#977358" title="Typers.this.global.Tree">alt</a>, <a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <span title="Int(8192)">ALTmode</span>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560293" title="(tree: Typers.this.global.Tree, trees: List[Typers.this.global.Tree])Typers.this.global.Alternative">Alternative</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#977351" title="List[Typers.this.global.Tree]">alts1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Alternative">setType</a> <a href="#893292" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Star">Star</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977376">elem</a><span class="delimiter">)</span> =&gt;
          <a href="#507687" title="(pos: Typers.this.global.Position, mode: Int)Unit">checkStarPatOK</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="977377">elem1</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#977376" title="Typers.this.global.Tree">elem</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560294" title="(tree: Typers.this.global.Tree, elem: Typers.this.global.Tree)Typers.this.global.Star">Star</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#977377" title="Typers.this.global.Tree">elem1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Star">setType</a> <a href="Infer.scala.html#507816" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Bind</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="977393">name</a>, <a title="Typers.this.global.Tree" id="977394">body</a><span class="delimiter">)</span> =&gt;
          <a href="#974476" title="(name: Typers.this.global.Name, body: Typers.this.global.Tree)Typers.this.global.Tree">typedBind</a><span class="delimiter">(</span><a href="#977393" title="Typers.this.global.Name">name</a>, <a href="#977394" title="Typers.this.global.Tree">body</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.UnApply">UnApply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977397">fun</a>, <a title="List[Typers.this.global.Tree]" id="977398">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="977399">fun1</a> = <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#977397" title="Typers.this.global.Tree">fun</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Type]" id="977400">tpes</a> = <a href="Infer.scala.html#507462" title="(formals: List[Typers.this.global.Type], nargs: Int, removeByName: Boolean, removeRepeated: Boolean)List[Typers.this.global.Type]">formalTypes</a><span class="delimiter">(</span><a href="Unapplies.scala.html#507558" title="(ufn: Typers.this.global.Symbol, ufntpe: Typers.this.global.Type)List[Typers.this.global.Type]">unapplyTypeList</a><span class="delimiter">(</span><a href="#977397" title="Typers.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>, <a href="#977399" title="Typers.this.global.Tree">fun1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#977398" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="977401">args1</a> = <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Typers.this.global.Tree], _2: List[Typers.this.global.Type])(List[Typers.this.global.Tree], List[Typers.this.global.Type])" class="delimiter">(</a><a href="#977398" title="List[Typers.this.global.Tree]">args</a>, <a href="#977400" title="List[Typers.this.global.Type]">tpes</a><span class="delimiter">)</span>.<a href="../../../Tuple2.scala.html#53418" title="(implicit w1: List[Typers.this.global.Tree] =&gt; scala.collection.TraversableLike[Typers.this.global.Tree,List[Typers.this.global.Tree]], implicit w2: List[Typers.this.global.Type] =&gt; scala.collection.IterableLike[Typers.this.global.Type,List[Typers.this.global.Type]])(List[Typers.this.global.Tree], List[Typers.this.global.Type])#Zipped[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Type],Typers.this.global.Type]">zipped</a> <a href="../../../Tuple2.scala.html#57617" title="(f: (Typers.this.global.Tree, Typers.this.global.Type) =&gt; Typers.this.global.Tree)(implicit cbf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.Tree],Typers.this.global.Tree,List[Typers.this.global.Tree]])List[Typers.this.global.Tree]">map</a> <a href="#507775" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typedPattern</a>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560296" title="(tree: Typers.this.global.Tree, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.UnApply">UnApply</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#977399" title="Typers.this.global.Tree">fun1</a>, <a href="#977401" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.UnApply">setType</a> <a href="#893292" title="Typers.this.global.Type">pt</a>

        <span class="keyword">case</span> <span title="Typers.this.global.ArrayValue">ArrayValue</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977500">elemtpt</a>, <a title="List[Typers.this.global.Tree]" id="977501">elems</a><span class="delimiter">)</span> =&gt;
          <a href="#974477" title="(elemtpt: Typers.this.global.Tree, elems: List[Typers.this.global.Tree])Typers.this.global.ArrayValue">typedArrayValue</a><span class="delimiter">(</span><a href="#977500" title="Typers.this.global.Tree">elemtpt</a>, <a href="#977501" title="List[Typers.this.global.Tree]">elems</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="977502">tree</a> @ Function<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#977502" title="Typers.this.global.Function">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#977502" title="Typers.this.global.Function">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441601" title="(x$1: Typers.this.global.Symbol)Unit">symbol</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509125" title="(pos: Typers.this.global.Position, name: Typers.this.global.TermName)Typers.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#977502" title="Typers.this.global.Function">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../../../reflect/generic/StdNames.scala.html#440094" title="=&gt; Typers.this.global.nme.NameType">ANON_FUN_NAME</a><span class="delimiter">)</span>
              .<a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)Typers.this.global.TermSymbol">setFlag</a><span class="delimiter">(</span><span title="Long(2097152L)">SYNTHETIC</span><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478734" title="object Typers.this.global.NoType">NoType</a><span class="delimiter">)</span>
          <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#977502" title="Typers.this.global.Function">tree</a>, <a href="#977502" title="Typers.this.global.Function">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Typers.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#507742" title="(fun: Typers.this.global.Function, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedFunction</a><span class="delimiter">(</span><a href="#977502" title="Typers.this.global.Function">tree</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Assign</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977534">lhs</a>, <a title="Typers.this.global.Tree" id="977535">rhs</a><span class="delimiter">)</span> =&gt;
          <a href="#974478" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><span class="delimiter">(</span><a href="#977534" title="Typers.this.global.Tree">lhs</a>, <a href="#977535" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">AssignOrNamedArg</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977538">lhs</a>, <a title="Typers.this.global.Tree" id="977539">rhs</a><span class="delimiter">)</span> =&gt; <span class="comment">// called by NamesDefaults in silent typecheck</span>
          <a href="#974478" title="(lhs: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.Tree">typedAssign</a><span class="delimiter">(</span><a href="#977538" title="Typers.this.global.Tree">lhs</a>, <a href="#977539" title="Typers.this.global.Tree">rhs</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.If">If</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977543">cond</a>, <a title="Typers.this.global.Tree" id="977544">thenp</a>, <a title="Typers.this.global.Tree" id="977545">elsep</a><span class="delimiter">)</span> =&gt;
          <a href="#974479" title="(cond: Typers.this.global.Tree, thenp: Typers.this.global.Tree, elsep: Typers.this.global.Tree)Typers.this.global.If">typedIf</a><span class="delimiter">(</span><a href="#977543" title="Typers.this.global.Tree">cond</a>, <a href="#977544" title="Typers.this.global.Tree">thenp</a>, <a href="#977545" title="Typers.this.global.Tree">elsep</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="977546">tree</a> @ Match<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977549">selector</a>, <a title="List[Typers.this.global.CaseDef]" id="977550">cases</a><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#977549" title="Typers.this.global.Tree">selector</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Int" id="977555">arity</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508198" title="(tp: Typers.this.global.Type)Boolean">isFunctionType</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#893292" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span> <span class="keyword">else</span> <span title="Int(1)" class="int">1</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.ValDef]" id="977556">params</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="977606">i</a> &lt;- <a href="../../../collection/immutable/List.scala.html#14048" title="object List">List</a>.<a href="../../../collection/generic/GenTraversableFactory.scala.html#48852" title="(start: Int, end: Int)(implicit evidence$1: Integral[Int])List[Int]">range</a><a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Int =&gt; Typers.this.global.ValDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Int],Typers.this.global.ValDef,List[Typers.this.global.ValDef]])List[Typers.this.global.ValDef]" class="delimiter">(</a><span title="Int(0)" class="int">0</span>, <a href="#977555" title="Int">arity</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">yield</span>
              <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ValDef)Typers.this.global.ValDef">atPos</a><span class="delimiter">(</span><a href="#977546" title="Typers.this.global.Match">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501505" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../../../reflect/generic/Trees.scala.html#441937" title="(mods: Typers.this.global.Modifiers, name: Typers.this.global.TermName, tpt: Typers.this.global.Tree, rhs: Typers.this.global.Tree)Typers.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#434025" title="(flags: Long)Typers.this.global.Modifiers">Modifiers</a><span class="delimiter">(</span>PARAM <span title="Long(2105344L)">|</span> SYNTHETIC<span class="delimiter">)</span>,
                       <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500956" title="(prefix: String)Typers.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;x&quot;)" class="string">&quot;x&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#977606" title="Int">i</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;$&quot;)" class="string">&quot;$&quot;</span><span class="delimiter">)</span>, <a href="../ast/Trees.scala.html#534779" title="()Typers.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="List[Typers.this.global.Ident]" id="977557">ids</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Typers.this.global.ValDef" id="977689">p</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.ValDef =&gt; Typers.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.ValDef],Typers.this.global.Ident,List[Typers.this.global.Ident]])List[Typers.this.global.Ident]">params</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="../../../reflect/generic/Trees.scala.html#443999" title="(name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#977689" title="Typers.this.global.ValDef">p</a>.<a href="../../../reflect/generic/Trees.scala.html#441944" title="=&gt; Typers.this.global.TermName">name</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a title="Typers.this.global.gen.global.Tree" id="977558">selector1</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.gen.global.Tree)Typers.this.global.gen.global.Tree">atPos</a><span class="delimiter">(</span><a href="#977546" title="Typers.this.global.Match">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>.<a href="../util/Position.scala.html#501505" title="=&gt; scala.tools.nsc.util.Position">focusStart</a><span class="delimiter">)</span> <span class="delimiter">{</span> <span title="Typers.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#977555" title="Int">arity</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#977557" title="List[Typers.this.global.Ident]">ids</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Typers.this.global.Ident">head</a> <span class="keyword">else</span> <a href="../Global.scala.html#478214" title="object Typers.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507292" title="(elems: List[Typers.this.global.gen.global.Tree])Typers.this.global.gen.global.Tree">mkTuple</a><span class="delimiter">(</span><a href="#977557" title="List[Typers.this.global.Ident]">ids</a><span class="delimiter">)</span> <span class="delimiter">}</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Match" id="977559">body</a> = <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560302" title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</a><span class="delimiter">(</span><a href="#977546" title="Typers.this.global.Match">tree</a>, <a href="#977558" title="Typers.this.global.gen.global.Tree">selector1</a>, <a href="#977550" title="List[Typers.this.global.CaseDef]">cases</a><span class="delimiter">)</span>
            <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Function)Typers.this.global.Function">atPos</a><span class="delimiter">(</span><a href="#977546" title="Typers.this.global.Match">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../reflect/generic/Trees.scala.html#443577" title="(vparams: List[Typers.this.global.ValDef], body: Typers.this.global.Tree)Typers.this.global.Function">Function</a><span class="delimiter">(</span><a href="#977556" title="List[Typers.this.global.ValDef]">params</a>, <a href="#977559" title="Typers.this.global.Match">body</a><span class="delimiter">)</span> <span class="delimiter">}</span>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="977755">selector1</a> = <a href="TypeDiagnostics.scala.html#963985" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#977549" title="Typers.this.global.Tree">selector</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="977756">cases1</a> = <a href="#507741" title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#977546" title="Typers.this.global.Match">tree</a>, <a href="#977550" title="List[Typers.this.global.CaseDef]">cases</a>, <a href="#977755" title="Typers.this.global.Tree">selector1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Type" id="977758">owntype</a>, <a href="../../../Tuple2.scala.html#53404" title="Boolean" id="977759">needAdapt</a><span class="delimiter">)</span> = <a href="#974473" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</a><a href="#977756" title="List[Typers.this.global.CaseDef]">cases1</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#977791" title="Typers.this.global.CaseDef">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#977759" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#977756" title="List[Typers.this.global.CaseDef]">cases1</a> = <a href="#977756" title="List[Typers.this.global.CaseDef]">cases1</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</a> <span class="delimiter">(</span><a href="#974494" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#977848" title="Typers.this.global.CaseDef">_</a>, <a href="#977758" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560302" title="(tree: Typers.this.global.Tree, selector: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef])Typers.this.global.Match">Match</a><span class="delimiter">(</span><a href="#977546" title="Typers.this.global.Match">tree</a>, <a href="#977755" title="Typers.this.global.Tree">selector1</a>, <a href="#977756" title="List[Typers.this.global.CaseDef]">cases1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Match">setType</a> <a href="#977758" title="Typers.this.global.Type">owntype</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Return</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977880">expr</a><span class="delimiter">)</span> =&gt;
          <a href="#974480" title="(expr: Typers.this.global.Tree)Typers.this.global.Tree">typedReturn</a><span class="delimiter">(</span><a href="#977880" title="Typers.this.global.Tree">expr</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Try">Try</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="977884">block</a>, <a title="List[Typers.this.global.CaseDef]" id="977885">catches</a>, <a title="Typers.this.global.Tree" id="977886">finalizer</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="977887">block1</a> = <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#977884" title="Typers.this.global.Tree">block</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="List[Typers.this.global.CaseDef]" id="977888">catches1</a> = <a href="#507741" title="(tree: Typers.this.global.Tree, cases: List[Typers.this.global.CaseDef], pattp: Typers.this.global.Type, pt: Typers.this.global.Type)List[Typers.this.global.CaseDef]">typedCases</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#977885" title="List[Typers.this.global.CaseDef]">catches</a>, <a href="../symtab/Definitions.scala.html#507951" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="977889">finalizer1</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#977886" title="Typers.this.global.Tree">finalizer</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#977886" title="Typers.this.global.Tree">finalizer</a>
                           <span class="keyword">else</span> <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#977886" title="Typers.this.global.Tree">finalizer</a>, <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Type, Boolean)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Type" id="977891">owntype</a>, <a href="../../../Tuple2.scala.html#53404" title="Boolean" id="977892">needAdapt</a><span class="delimiter">)</span> = <a href="#974473" title="(tps: List[Typers.this.global.Type])(Typers.this.global.Type, Boolean)">ptOrLub</a><a href="../../../Tuple2.scala.html#1520" title="(Typers.this.global.Type, Boolean) @unchecked" class="delimiter">(</a><a href="#977887" title="Typers.this.global.Tree">block1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Typers.this.global.Type)List[Typers.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#977888" title="List[Typers.this.global.CaseDef]">catches1</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.Type,List[Typers.this.global.Type]])List[Typers.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#977921" title="Typers.this.global.CaseDef">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#977892" title="Boolean">needAdapt</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#977887" title="Typers.this.global.Tree">block1</a> = <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#977887" title="Typers.this.global.Tree">block1</a>, <a href="#893291" title="Int">mode</a>, <a href="#977891" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span>
            <a href="#977888" title="List[Typers.this.global.CaseDef]">catches1</a> = <a href="#977888" title="List[Typers.this.global.CaseDef]">catches1</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Typers.this.global.CaseDef =&gt; Typers.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Typers.this.global.CaseDef],Typers.this.global.CaseDef,List[Typers.this.global.CaseDef]])List[Typers.this.global.CaseDef]">map</a> <span class="delimiter">(</span><a href="#974494" title="(cdef: Typers.this.global.CaseDef, tpe: Typers.this.global.Type)Typers.this.global.CaseDef">adaptCase</a><span class="delimiter">(</span><a href="#977983" title="Typers.this.global.CaseDef">_</a>, <a href="#977891" title="Typers.this.global.Type">owntype</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560304" title="(tree: Typers.this.global.Tree, block: Typers.this.global.Tree, catches: List[Typers.this.global.CaseDef], finalizer: Typers.this.global.Tree)Typers.this.global.Try">Try</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#977887" title="Typers.this.global.Tree">block1</a>, <a href="#977888" title="List[Typers.this.global.CaseDef]">catches1</a>, <a href="#977889" title="Typers.this.global.Tree">finalizer1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Try">setType</a> <a href="#977891" title="Typers.this.global.Type">owntype</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Throw">Throw</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978023">expr</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978024">expr1</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#978023" title="Typers.this.global.Tree">expr</a>, EXPRmode <span title="Int(32769)">|</span> BYVALmode, <a href="../symtab/Definitions.scala.html#507951" title="=&gt; Typers.this.global.Symbol">ThrowableClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560305" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree)Typers.this.global.Throw">Throw</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#978024" title="Typers.this.global.Tree">expr1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Throw">setType</a> <a href="../symtab/Definitions.scala.html#507933" title="=&gt; Typers.this.global.Symbol">NothingClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>

        <span class="keyword">case</span> <span title="Typers.this.global.New">New</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978043">tpt</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> =&gt;
          <a href="#974481" title="(tpt: Typers.this.global.Tree)Typers.this.global.New">typedNew</a><span class="delimiter">(</span><a href="#978043" title="Typers.this.global.Tree">tpt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978046">expr</a>, Function<span class="delimiter">(</span><a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Typers.this.global.ValDef])Some[List[Typers.this.global.ValDef]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
          <a href="#974482" title="(expr1: Typers.this.global.Tree)Typers.this.global.Tree">typedEta</a><span class="delimiter">(</span><a href="TypeDiagnostics.scala.html#963985" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#978046" title="Typers.this.global.Tree">expr</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978063">expr</a>, <a title="Typers.this.global.Ident" id="978064">tpt</a> @ Ident<span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479051" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#516203" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD_STAR</a><span class="delimiter">)</span><span class="delimiter">)</span>  =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978068">expr0</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#978063" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#507425" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#893291" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(pt: Typers.this.global.Type)Typers.this.global.Type" id="978069">subArrayType</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="978077">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span> =
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508366" title="(sym: Typers.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#978077" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Infer.scala.html#507473" title="(tp: Typers.this.global.Type)Boolean">isFullyDefined</a><span class="delimiter">(</span><a href="#978077" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#508202" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#978077" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Typers.this.global.Symbol" id="978079">tparam</a> = <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a> <a href="../symtab/Symbols.scala.html#509150" title="(suffix: String)Typers.this.global.Symbol">freshExistential</a> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <a href="../symtab/Symbols.scala.html#509274" title="(info: Typers.this.global.Type)Typers.this.global.Symbol">setInfo</a> <a href="../symtab/Types.scala.html#478751" title="object Typers.this.global.TypeBounds">TypeBounds</a>.<a href="../symtab/Types.scala.html#546578" title="(hi: Typers.this.global.Type)Typers.this.global.TypeBounds">upper</a><span class="delimiter">(</span><a href="#978077" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
              <a href="../symtab/Types.scala.html#547201" title="(quantified: List[Typers.this.global.Symbol], underlying: Typers.this.global.Type)Typers.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Symbol*)List[Typers.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#978079" title="Typers.this.global.Symbol">tparam</a><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#508202" title="(arg: Typers.this.global.Type)Typers.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="#978079" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Typers.this.global.Tree" id="978071">expr1</a>, <a href="../../../Tuple2.scala.html#53404" title="Typers.this.global.Symbol" id="978072">baseClass</a><span class="delimiter">)</span> = <a href="#978068" title="Typers.this.global.Tree">expr0</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(Typers.this.global.Tree, Typers.this.global.Symbol)" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#508099" title="(Typers.this.global.Tree, Typers.this.global.Symbol)">ArrayClass</a> =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Symbol)(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</a><a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#978068" title="Typers.this.global.Tree">expr0</a>, <a href="Modes.scala.html#507425" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#893291" title="Int">mode</a><span class="delimiter">)</span>, <a href="#978069" title="(pt: Typers.this.global.Type)Typers.this.global.Type">subArrayType</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Typers.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="(Typers.this.global.Tree, Typers.this.global.Symbol)">_</span>          =&gt; <a href="../../../Tuple2.scala.html#53390" title="(_1: Typers.this.global.Tree, _2: Typers.this.global.Symbol)(Typers.this.global.Tree, Typers.this.global.Symbol)" class="delimiter">(</a><a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#978068" title="Typers.this.global.Tree">expr0</a>, <a href="Modes.scala.html#507425" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#893291" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#508201" title="(arg: Typers.this.global.Type)Typers.this.global.Type">seqType</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#508082" title="=&gt; Typers.this.global.Symbol">SeqClass</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <a href="#978071" title="Typers.this.global.Tree">expr1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507204" title="(clazz: Typers.this.global.Symbol)Typers.this.global.Type">baseType</a><span class="delimiter">(</span><a href="#978072" title="Typers.this.global.Symbol">baseClass</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Typed">TypeRef</span><span class="delimiter">(</span>_, _, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Typers.this.global.Type])Some[List[Typers.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="978130">elemtp</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
              <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560307" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#978071" title="Typers.this.global.Tree">expr1</a>, <a href="#978064" title="Typers.this.global.Ident">tpt</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tpt.type">setType</a> <a href="#978130" title="Typers.this.global.Type">elemtp</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</a> <a href="#978130" title="Typers.this.global.Type">elemtp</a>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">_</span> =&gt;
              <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Typed">Typed</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978146">expr</a>, <a title="Typers.this.global.Tree" id="978147">tpt</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978148">tpt1</a> = <a href="#507776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#978147" title="Typers.this.global.Tree">tpt</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978149">expr1</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#978146" title="Typers.this.global.Tree">expr</a>, <a href="Modes.scala.html#507425" title="(mode: Int)Int">onlyStickyModes</a><span class="delimiter">(</span><a href="#893291" title="Int">mode</a><span class="delimiter">)</span>, <a href="#978148" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507164" title="=&gt; Typers.this.global.Type">deconst</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="978150">owntype</a> =
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#974472" title="=&gt; Boolean">isPatternMode</a><span class="delimiter">)</span> <a href="Infer.scala.html#507848" title="(pos: Typers.this.global.Position, pattp: Typers.this.global.Type, pt0: Typers.this.global.Type)Typers.this.global.Type">inferTypedPattern</a><span class="delimiter">(</span><a href="#978148" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#978148" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#978148" title="Typers.this.global.Tree">tpt1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="comment">//Console.println(typed pattern: &quot;+tree+&quot;:&quot;+&quot;, tp = &quot;+tpt1.tpe+&quot;, pt = &quot;+pt+&quot; ==&gt; &quot;+owntype)//DEBUG</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560307" title="(tree: Typers.this.global.Tree, expr: Typers.this.global.Tree, tpt: Typers.this.global.Tree)Typers.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#978149" title="Typers.this.global.Tree">expr1</a>, <a href="#978148" title="Typers.this.global.Tree">tpt1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.Typed">setType</a> <a href="#978150" title="Typers.this.global.Type">owntype</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978164">fun</a>, <a title="List[Typers.this.global.Tree]" id="978165">args</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// @M: kind-arity checking is done here and in adapt, full kind-checking is in checkKindBounds (in Infer)</span>
          <span class="comment">//@M! we must type fun in order to type the args, as that requires the kinds of fun's type parameters.</span>
          <span class="comment">// However, args should apparently be done first, to save context.undetparams. Unfortunately, the args</span>
          <span class="comment">// *really* have to be typed *after* fun. We escape from this classic Catch-22 by simply saving&amp;restoring undetparams.</span>

          <span class="comment">// @M TODO: the compiler still bootstraps&amp;all tests pass when this is commented out..</span>
          <span class="comment">//val undets = context.undetparams</span>

          <span class="comment">// @M: fun is typed in TAPPmode because it is being applied to its actual type parameters</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978166">fun1</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#978164" title="Typers.this.global.Tree">fun</a>, <a href="Modes.scala.html#507426" title="(mode: Int)Int">forFunMode</a><span class="delimiter">(</span><a href="#893291" title="Int">mode</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <span title="Int(128)">TAPPmode</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Symbol]" id="978167">tparams</a> = <a href="#978166" title="Typers.this.global.Tree">fun1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>

          <span class="comment">//@M TODO: val undets_fun = context.undetparams  ?</span>
          <span class="comment">// &quot;do args first&quot; (by restoring the context.undetparams) in order to maintain context.undetparams on the function side.</span>

          <span class="comment">// @M TODO: the compiler still bootstraps when this is commented out.. TODO: run tests</span>
          <span class="comment">//context.undetparams = undets</span>

          <span class="comment">// @M maybe the well-kindedness check should be done when checking the type arguments conform to the type parameters' bounds?</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="978168">args1</a> = <span title="List[Typers.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#478912" title="(xs1: List[_], xs2: List[_])Boolean">sameLength</a><span class="delimiter">(</span><a href="#978165" title="List[Typers.this.global.Tree]">args</a>, <a href="#978167" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#478946" title="(xs: List[Typers.this.global.Tree], ys: List[Typers.this.global.Symbol])(f: (Typers.this.global.Tree, Typers.this.global.Symbol) =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">map2Conserve</a><span class="delimiter">(</span><a href="#978165" title="List[Typers.this.global.Tree]">args</a>, <a href="#978167" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        <span class="comment">//@M! the polytype denotes the expected kind</span>
                        <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978200">arg</a>, <a title="Typers.this.global.Symbol" id="978201">tparam</a><span class="delimiter">)</span> =&gt; <a href="#507778" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#978200" title="Typers.this.global.Tree">arg</a>, <a href="#893291" title="Int">mode</a>, <a href="../symtab/Types.scala.html#478818" title="(tparams: List[Typers.this.global.Symbol], tpe: Typers.this.global.Type)Typers.this.global.Type">polyType</a><span class="delimiter">(</span><a href="#978201" title="Typers.this.global.Symbol">tparam</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>, <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
                      <span class="comment">//@M  this branch is correctly hit for an overloaded polymorphic type. It also has to handle erroneous cases.</span>
                      <span class="comment">// Until the right alternative for an overloaded method is known, be very liberal,</span>
                      <span class="comment">// typedTypeApply will find the right alternative and then do the same check as</span>
                      <span class="comment">// in the then-branch above. (see pos/tcpoly_overloaded.scala)</span>
                      <span class="comment">// this assert is too strict: be tolerant for errors like trait A { def foo[m[x], g]=error(&quot;&quot;); def x[g] = foo[g/*ERR: missing argument type*/] }</span>
                      <span class="comment">//assert(fun1.symbol.info.isInstanceOf[OverloadedType] || fun1.symbol.isError) //, (fun1.symbol,fun1.symbol.info,fun1.symbol.info.getClass,args,tparams))</span>
                        <a href="#978165" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a href="#507779" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#978212" title="Typers.this.global.Tree">_</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span>

          <span class="comment">//@M TODO: context.undetparams = undets_fun ?</span>
          <a href="#507759" title="(tree: Typers.this.global.Tree, mode: Int, fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedTypeApply</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#893291" title="Int">mode</a>, <a href="#978166" title="Typers.this.global.Tree">fun1</a>, <a href="#978168" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>Block<span class="delimiter">(</span><a title="List[Typers.this.global.Tree]" id="978224">stats</a>, <a title="Typers.this.global.Tree" id="978225">expr</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="978226">args</a><span class="delimiter">)</span> =&gt;
          <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Block)Typers.this.global.Block">atPos</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443384" title="(stats: List[Typers.this.global.Tree], expr: Typers.this.global.Tree)Typers.this.global.Block">Block</a><span class="delimiter">(</span><a href="#978224" title="List[Typers.this.global.Tree]">stats</a>, <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#978225" title="Typers.this.global.Tree">expr</a>, <a href="#978226" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978255">fun</a>, <a title="List[Typers.this.global.Tree]" id="978256">args</a><span class="delimiter">)</span> =&gt;
          <a href="#974485" title="(fun: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedApply</a><span class="delimiter">(</span><a href="#978255" title="Typers.this.global.Tree">fun</a>, <a href="#978256" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Typers.this.global.Tree">Apply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span>New<span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978266">tpt</a><span class="delimiter">)</span>, <a title="Typers.this.global.Name" id="978267">name</a><span class="delimiter">)</span>, <a title="List[Typers.this.global.Tree]" id="978268">args</a><span class="delimiter">)</span>
            <span class="keyword">if</span> <span class="delimiter">(</span><a href="#978266" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <a href="#978266" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Typers.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Typers.this.global.Symbol">ArrayClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <a href="#978268" title="List[Typers.this.global.Tree]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                <a href="../Global.scala.html#478300" title="object Typers.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#513080" title="object Typers.this.global.erasure.GenericArray">GenericArray</a>.<a href="../transform/Erasure.scala.html#890709" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><span class="delimiter">(</span><a href="#978266" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../../../Option.scala.html#48472" title="=&gt; Boolean">isDefined</a><span class="delimiter">)</span> =&gt; <span class="comment">// !!! todo simplify by using extractor</span>
              <span class="comment">// convert new Array[T](len) to evidence[ClassManifest[T]].newArray(len)</span>
              <span class="comment">// convert new Array^N[T](len) for N &gt; 1 to evidence[ClassManifest[T]].newArrayN(len)</span>
              <span class="keyword">val</span> Some<a href="../../../Tuple2.scala.html#53390" title="(Int, Typers.this.global.erasure.global.Type)" class="delimiter">(</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53402" title="Int" id="978287">level</a>, <a href="../../../Tuple2.scala.html#53404" title="Typers.this.global.erasure.global.Type" id="978288">manifType</a><span class="delimiter">)</span><span class="delimiter">)</span> = <a href="../Global.scala.html#478300" title="object Typers.this.global.erasure">erasure</a>.<a href="../transform/Erasure.scala.html#513080" title="object Typers.this.global.erasure.GenericArray">GenericArray</a>.<a href="../transform/Erasure.scala.html#890709" title="(tp: Typers.this.global.erasure.global.Type)Option[(Int, Typers.this.global.erasure.global.Type)]">unapply</a><a href="../../../Option.scala.html#560" title="Option[(Int, Typers.this.global.erasure.global.Type)] @unchecked" class="delimiter">(</a><a href="#978266" title="Typers.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#978287" title="Int">level</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <a href="../symtab/Definitions.scala.html#508168" title="=&gt; Int">MaxArrayDims</a><span class="delimiter">)</span>
                <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;cannot create a generic multi-dimensional array of more than &quot;)" class="string">&quot;cannot create a generic multi-dimensional array of more than &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/Definitions.scala.html#508168" title="=&gt; Int">MaxArrayDims</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; dimensions&quot;)" class="string">&quot; dimensions&quot;</span><span class="delimiter">)</span>
              <span class="keyword">val</span> <a title="Typers.this.global.ApplyToImplicitArgs" id="978289">newArrayApp</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.ApplyToImplicitArgs)Typers.this.global.ApplyToImplicitArgs">atPos</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978309">manif</a> = <a href="#507786" title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, full: Boolean)Typers.this.global.Tree">getManifestTree</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#978288" title="Typers.this.global.erasure.global.Type">manifType</a>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
                <span title="Typers.this.global.ApplyToImplicitArgs" class="keyword">new</span> <a href="../ast/Trees.scala.html#479162" title="Typers.this.global.ApplyToImplicitArgs">ApplyToImplicitArgs</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#978309" title="Typers.this.global.Tree">manif</a>, <a href="../../../reflect/generic/StdNames.scala.html#434009" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Typers.this.global.TermName" class="keyword">if</a> <span class="delimiter">(</span><a href="#978287" title="Int">level</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;newArray&quot;)" class="string">&quot;newArray&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;newArray&quot;)" class="string">&quot;newArray&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#978287" title="Int">level</a><span class="delimiter">)</span>, <a href="#978268" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>
              <span class="delimiter">}</span>
              <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#978289" title="Typers.this.global.ApplyToImplicitArgs">newArrayApp</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="978346">tree1</a> =&gt;
              <a href="#978346" title="Typers.this.global.Tree">tree1</a>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Typers.this.global.ApplyDynamic">ApplyDynamic</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978349">qual</a>, <a title="List[Typers.this.global.Tree]" id="978350">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="978351">reflectiveCalls</a> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469769" title="=&gt; scala.tools.nsc.Settings#ChoiceSetting">refinementMethodDispatch</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; java.lang.String">value</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;invoke-dynamic&quot;)" class="string">&quot;invoke-dynamic&quot;</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978352">qual1</a> = <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#978349" title="Typers.this.global.Tree">qual</a>, <a href="../symtab/Definitions.scala.html#507923" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Typers.this.global.Tree]" id="978353">args1</a> = <a href="#978350" title="List[Typers.this.global.Tree]">args</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Typers.this.global.Tree =&gt; Typers.this.global.Tree)List[Typers.this.global.Tree]">mapConserve</a> <span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978372">arg</a> =&gt; <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#978351" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#978372" title="Typers.this.global.Tree">arg</a>, <a href="../symtab/Definitions.scala.html#507923" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#978372" title="Typers.this.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560310" title="(tree: Typers.this.global.Tree, qual: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.ApplyDynamic">ApplyDynamic</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#978352" title="Typers.this.global.Tree">qual1</a>, <a href="#978353" title="List[Typers.this.global.Tree]">args1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.ApplyDynamic">setType</a> <span class="delimiter">(</span><span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#978351" title="Boolean">reflectiveCalls</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#507923" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Typers.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; Typers.this.global.Type">resultType</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Super">Super</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978398">qual</a>, <a title="Typers.this.global.TypeName" id="978399">mix</a><span class="delimiter">)</span> =&gt;
          <a href="#974488" title="(qual: Typers.this.global.Tree, mix: Typers.this.global.TypeName)Typers.this.global.Super">typedSuper</a><span class="delimiter">(</span><a href="#978398" title="Typers.this.global.Tree">qual</a>, <a href="#978399" title="Typers.this.global.TypeName">mix</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">This</span><span class="delimiter">(</span><a title="Typers.this.global.TypeName" id="978403">qual</a><span class="delimiter">)</span> =&gt;
          <a href="#974489" title="(qual: Typers.this.global.Name)Typers.this.global.Tree">typedThis</a><span class="delimiter">(</span><a href="#978403" title="Typers.this.global.TypeName">qual</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Super" id="978408">qual</a> @ Super<span class="delimiter">(</span>_, _<span class="delimiter">)</span>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978413">qual1</a> =
            <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#978408" title="Typers.this.global.Super">qual</a>, EXPRmode | QUALmode | POLYmode <span title="Int(353)">|</span> SUPERCONSTRmode, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
          <span class="comment">// the qualifier type of a supercall constructor is its first parent class</span>
          <a href="#974490" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#978413" title="Typers.this.global.Tree">qual1</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Typers.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978434">qual</a>, <a title="Typers.this.global.Name" id="978435">name</a><span class="delimiter">)</span> =&gt;
          <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478571" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedSelectCount</a><span class="delimiter">)</span>
          <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="978436">qual1</a> = <a href="TypeDiagnostics.scala.html#963985" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkDead</a><span class="delimiter">(</span><a href="#507772" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#978434" title="Typers.this.global.Tree">qual</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#978435" title="Typers.this.global.Name">name</a>.<a href="../symtab/Names.scala.html#501116" title="=&gt; Boolean">isTypeName</a><span class="delimiter">)</span> <a href="#978436" title="Typers.this.global.Tree">qual1</a> = <a href="#507679" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span><a href="#978436" title="Typers.this.global.Tree">qual1</a><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978437">tree1</a> = <span class="comment">// temporarily use `filter' and an alternative for `withFilter'</span>
            <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#978435" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516738" title="=&gt; Typers.this.global.nme.NameType">withFilter</a><span class="delimiter">)</span>
              <a href="#507706" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="978453">_</a> =&gt; <a href="#974490" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#978436" title="Typers.this.global.Tree">qual1</a>, <a href="#978435" title="Typers.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="978459">result1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =&gt;
                  <a href="#978459" title="Typers.this.global.Tree">result1</a>
                <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="978460">ex1</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                  <a href="#507706" title="(op: Typers.this.Typer =&gt; Typers.this.global.Tree, reportAmbiguousErrors: Boolean, newtree: Typers.this.global.Tree)Any">silent</a><span class="delimiter">(</span><a title="Typers.this.Typer" id="978466">_</a> =&gt; <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Select">Select</a><span class="delimiter">(</span><a href="#978436" title="Typers.this.global.Tree">qual1</a>, <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516626" title="=&gt; Typers.this.global.nme.NameType">filter</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Typers.this.global.Select">setPos</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#893291" title="Int">mode</a>, <a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                    <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="978492">result2</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =&gt;
                      <a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500980" title="(pos: Typers.this.global.Position, msg: String)Unit">deprecationWarning</a><span class="delimiter">(</span>
                        <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;`withFilter\' method does not yet exist on &quot;)" class="string">&quot;`withFilter' method does not yet exist on &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#978436" title="Typers.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Typers.this.global.Type">widen</a><span title="(x$1: Any)java.lang.String">+</span>
                        <span title="java.lang.String(&quot;, using `filter\' method instead&quot;)" class="string">&quot;, using `filter' method instead&quot;</span><span class="delimiter">)</span>
                      <a href="#978492" title="Typers.this.global.Tree">result2</a>
                    <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="978493">ex2</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
                      <a href="TypeDiagnostics.scala.html#507660" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#978460" title="Typers.this.global.TypeError">ex1</a><span class="delimiter">)</span>
                      <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
                  <span class="delimiter">}</span>
              <span class="delimiter">}</span>
            <span class="keyword">else</span>
              <a href="#974490" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#978436" title="Typers.this.global.Tree">qual1</a>, <a href="#978435" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>

          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#978436" title="Typers.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507880" title="=&gt; Typers.this.global.Symbol">RootPackage</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560314" title="(tree: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Ident">Ident</a><span class="delimiter">(</span><a href="#978437" title="Typers.this.global.Tree">tree1</a>, <a href="#978435" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#978437" title="Typers.this.global.Tree">tree1</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">Ident</span><span class="delimiter">(</span><a title="Typers.this.global.Name" id="978509">name</a><span class="delimiter">)</span> =&gt;
          <a href="../util/Statistics.scala.html#478490" title="(c: scala.tools.nsc.util.Statistics.Counter)Unit">incCounter</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478569" title="=&gt; scala.tools.nsc.util.Statistics.Counter">typedIdentCount</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#978509" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object Typers.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516190" title="=&gt; Typers.this.global.nme.NameType">WILDCARD</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span class="delimiter">(</span>PATTERNmode <span title="Int(18)">|</span> FUNmode<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(2)">PATTERNmode</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
              <span class="delimiter">(</span><a href="#978509" title="Typers.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479051" title="object Typers.this.global.tpnme">tpnme</a>.<a href="../symtab/StdNames.scala.html#516190" title="=&gt; Typers.this.global.tpnme.NameType">WILDCARD</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(4)">TYPEmode</span><span class="delimiter">)</span> <a href="../../../Int.scala.html#54754" title="(x: Int)Boolean">!=</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="Infer.scala.html#507816" title="(tp: Typers.this.global.Type)Typers.this.global.Type">makeFullyDefined</a><span class="delimiter">(</span><a href="#893292" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#974491" title="(name: Typers.this.global.Name)Typers.this.global.Tree">typedIdent</a><span class="delimiter">(</span><a href="#978509" title="Typers.this.global.Name">name</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="tree.type">Literal</span><span class="delimiter">(</span><a title="Typers.this.global.Constant" id="978546">value</a><span class="delimiter">)</span> =&gt;
          <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <span class="delimiter">(</span>
            <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#978546" title="Typers.this.global.Constant">value</a>.<a href="../../../reflect/generic/Constants.scala.html#434214" title="=&gt; Int">tag</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)">UnitTag</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Typers.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
            <span class="keyword">else</span> <a href="../symtab/Types.scala.html#546489" title="(value: Typers.this.global.Constant)Typers.this.global.ConstantType">ConstantType</a><span class="delimiter">(</span><a href="#978546" title="Typers.this.global.Constant">value</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="tree.type">SingletonTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978554">ref</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978555">ref1</a> = <a href="#507679" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">checkStable</a><span class="delimiter">(</span>
            <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#978554" title="Typers.this.global.Tree">ref</a>, EXPRmode <span title="Int(65)">|</span> QUALmode <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <span class="delimiter">(</span><a href="#893291" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(65536)">TYPEPATmode</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#507923" title="=&gt; Typers.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#978555" title="Typers.this.global.Tree">ref1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; Typers.this.global.Type">resultType</a>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">SelectFromTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978576">qual</a>, <a title="Typers.this.global.TypeName" id="978577">selector</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978578">qual1</a> = <a href="#507776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#978576" title="Typers.this.global.Tree">qual</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#978578" title="Typers.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507152" title="=&gt; Boolean">isVolatile</a><span class="delimiter">)</span> <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;illegal type selection from volatile type &quot;)" class="string">&quot;illegal type selection from volatile type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#978576" title="Typers.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
          <a href="#974490" title="(qual: Typers.this.global.Tree, name: Typers.this.global.Name)Typers.this.global.Tree">typedSelect</a><span class="delimiter">(</span><a href="#978578" title="Typers.this.global.Tree">qual1</a>, <a href="#978577" title="Typers.this.global.TypeName">selector</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">CompoundTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Template" id="978584">templ</a><span class="delimiter">)</span> =&gt;
          <a href="#974492" title="(templ: Typers.this.global.Template)Typers.this.global.Tree">typedCompoundTypeTree</a><span class="delimiter">(</span><a href="#978584" title="Typers.this.global.Template">templ</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.Tree">AppliedTypeTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978587">tpt</a>, <a title="List[Typers.this.global.Tree]" id="978588">args</a><span class="delimiter">)</span> =&gt;
          <a href="#974493" title="(tpt: Typers.this.global.Tree, args: List[Typers.this.global.Tree])Typers.this.global.Tree">typedAppliedTypeTree</a><span class="delimiter">(</span><a href="#978587" title="Typers.this.global.Tree">tpt</a>, <a href="#978588" title="List[Typers.this.global.Tree]">args</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Typers.this.global.TypeBoundsTree">TypeBoundsTree</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978591">lo</a>, <a title="Typers.this.global.Tree" id="978592">hi</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978593">lo1</a> = <a href="#507776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#978591" title="Typers.this.global.Tree">lo</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978594">hi1</a> = <a href="#507776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#978592" title="Typers.this.global.Tree">hi</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Typers.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560323" title="(tree: Typers.this.global.Tree, lo: Typers.this.global.Tree, hi: Typers.this.global.Tree)Typers.this.global.TypeBoundsTree">TypeBoundsTree</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#978593" title="Typers.this.global.Tree">lo1</a>, <a href="#978594" title="Typers.this.global.Tree">hi1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)Typers.this.global.TypeBoundsTree">setType</a> <a href="../symtab/Types.scala.html#546580" title="(lo: Typers.this.global.Type, hi: Typers.this.global.Type)Typers.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#978593" title="Typers.this.global.Tree">lo1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>, <a href="#978594" title="Typers.this.global.Tree">hi1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="978612">etpt</a> @ ExistentialTypeTree<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508545" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">makeNewScope</a><span class="delimiter">(</span><a href="#893290" title="Typers.this.global.Tree">tree</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="#507758" title="(tree: Typers.this.global.ExistentialTypeTree, mode: Int)Typers.this.global.Tree">typedExistentialTypeTree</a><span class="delimiter">(</span><a href="#978612" title="Typers.this.global.ExistentialTypeTree">etpt</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <a title="Typers.this.global.TypeTreeWithDeferredRefCheck" id="978615">dc</a>@TypeTreeWithDeferredRefCheck<span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#978615" title="Typers.this.global.TypeTreeWithDeferredRefCheck">dc</a> <span class="comment">// TODO: should we re-type the wrapped tree? then we need to change TypeTreeWithDeferredRefCheck's representation to include the wrapped tree explicitly (instead of in its closure)</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="978617">tpt</a> @ TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
          <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#978617" title="Typers.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#534787" title="=&gt; Typers.this.global.Tree">original</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#507776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#978617" title="Typers.this.global.TypeTree">tpt</a>.<a href="../ast/Trees.scala.html#534787" title="=&gt; Typers.this.global.Tree">original</a>, <a href="#893291" title="Int">mode</a><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>
          <span class="keyword">else</span>
            <span class="comment">// we should get here only when something before failed</span>
            <span class="comment">// and we try again (@see tryTypedApply). In that case we can assign</span>
            <span class="comment">// whatever type to tree; we just have to survive until a real error message is issued.</span>
            <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Typers.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="tree.type">Import</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="978632">expr</a>, <a title="List[Typers.this.global.ImportSelector]" id="978633">selectors</a><span class="delimiter">)</span> =&gt;
          <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../Global.scala.html#478375" title="=&gt; Boolean">forInteractive</a><span class="delimiter">)</span> <span class="comment">// should not happen in normal circumstances.</span>
          <a href="#893290" title="Typers.this.global.Tree">tree</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)tree.type">setType</a> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Typers.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Typers.this.global.Type">tpe</a>
        <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
          <a href="../symtab/SymbolTable.scala.html#478159" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unexpected tree: &quot;)" class="string">&quot;unexpected tree: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#893290" title="Typers.this.global.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#893290" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/**
     *  @param tree ...
     *  @param mode ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507765">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="508634">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="508635">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="508636">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <a href="#507761" title="()Unit">indentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type)Typers.this.global.Type" id="978641">dropExistential</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="978643">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a> = <a href="#978643" title="Typers.this.global.Type">tp</a> <span title="Typers.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">ExistentialType</span><span class="delimiter">(</span><a title="List[Typers.this.global.Symbol]" id="978646">tparams</a>, <a title="Typers.this.global.Type" id="978647">tpe</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Dropping existential: &quot;)" class="string">&quot;Dropping existential: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#508634" title="Typers.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#978643" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
          <span title="Typers.this.global.SubstWildcardMap" class="keyword">new</span> <a href="../symtab/Types.scala.html#478866" title="Typers.this.global.SubstWildcardMap">SubstWildcardMap</a><span class="delimiter">(</span><a href="#978646" title="List[Typers.this.global.Symbol]">tparams</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#851346" title="(tp: Typers.this.global.Type)Typers.this.global.Type">apply</a><span class="delimiter">(</span><a href="#978643" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Typers.this.global.Symbol" id="978659">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#978659" title="Typers.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a> =&gt;
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="978660">tp0</a> = <a href="#978643" title="Typers.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a>
          <span class="keyword">val</span> <a title="Typers.this.global.Type" id="978661">tp1</a> = <a href="#978641" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#978660" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span>
          <span title="Typers.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#978661" title="Typers.this.global.Type">tp1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#978660" title="Typers.this.global.Type">tp0</a><span class="delimiter">)</span> <a href="#978643" title="Typers.this.global.Type">tp</a> <span class="keyword">else</span> <a href="#978661" title="Typers.this.global.Type">tp1</a>
        <span class="keyword">case</span> <span title="Typers.this.global.Type">_</span> =&gt; <a href="#978643" title="Typers.this.global.Type">tp</a>
      <span class="delimiter">}</span>

      <span class="keyword">var</span> <a title="Boolean" id="978642">alreadyTyped</a> = <span title="Boolean(false)" class="keyword">false</span>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#43001" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#478483" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="978664">t</a> = <a href="../util/Statistics.scala.html#478488" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#478515" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../util/Statistics.scala.html#478509" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478515" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#978664" title="Long">t</a> <a href="../../../Long.scala.html#55177" title="(x: Long)Long">-</a> <a href="../util/Statistics.scala.html#478518" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <a href="../../../Long.scala.html#55190" title="(x: Int)Long">/</a> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<a href="../../../Long.scala.html#55095" title="=&gt; Int">toInt</a>
          <span class="delimiter">}</span>
          <a href="../util/Statistics.scala.html#478519" title="(x$1: Long)Unit">typerTime</a> = <a href="#978664" title="Long">t</a>
          <a href="../util/Statistics.scala.html#478516" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="#508634" title="Typers.this.global.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Class[_])List[Class[_]]">::</a> <a href="../util/Statistics.scala.html#478515" title="=&gt; List[Class[_]]">pendingTreeTypes</a>
        <span class="delimiter">}</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508520" title="=&gt; Boolean">retyping</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <span class="delimiter">(</span><a href="#508634" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#508634" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#508634" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Typers.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#508636" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#508634" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#508634" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441035" title="=&gt; Boolean">hasSymbol</a><span class="delimiter">)</span> <a href="#508634" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: Typers.this.global.Symbol)Unit">symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Typers.this.global.NoSymbol">NoSymbol</a>
        <span class="delimiter">}</span>

        <a href="#978642" title="Boolean">alreadyTyped</a> = <a href="#508634" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span>
        <span class="keyword">var</span> <a title="Typers.this.global.Tree" id="978662">tree1</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#978642" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <a href="#508634" title="Typers.this.global.Tree">tree</a> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#507762" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span>
            <a href="../symtab/TypeDebugging.scala.html#549751" title="(label: String, pairs: (String, Any)*)String">ptLine</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typing %s: pt = %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="../symtab/TypeDebugging.scala.html#549752" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a><span class="delimiter">(</span><a href="#508634" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#508636" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>,
              <a href="../../../Predef.scala.html#9589" title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;undetparams&quot;</a>      <a href="../../../Predef.scala.html#57653" title="(y: List[Typers.this.global.Symbol])(java.lang.String, List[Typers.this.global.Symbol])">-&gt;</a> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508531" title="=&gt; List[Typers.this.global.Symbol]">undetparams</a>,
              <a href="../../../Predef.scala.html#9589" title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;implicitsEnabled&quot;</a> <a href="../../../Predef.scala.html#57653" title="(y: Boolean)(java.lang.String, Boolean)">-&gt;</a> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508514" title="=&gt; Boolean">implicitsEnabled</a>,
              <a href="../../../Predef.scala.html#9589" title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;silent&quot;</a>           <a href="../../../Predef.scala.html#57653" title="(y: Boolean)(java.lang.String, Boolean)">-&gt;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508508" title="=&gt; Boolean">reportGeneralErrors</a>,
              <a href="../../../Predef.scala.html#9589" title="(x: java.lang.String)ArrowAssoc[java.lang.String]" class="string">&quot;context.owner&quot;</a>    <a href="../../../Predef.scala.html#57653" title="(y: Typers.this.global.Symbol)(java.lang.String, Typers.this.global.Symbol)">-&gt;</a> <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a>
            <span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978776">tree1</a> = <a href="#507764" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#508634" title="Typers.this.global.Tree">tree</a>, <a href="#508635" title="Int">mode</a>, <a href="#978641" title="(tp: Typers.this.global.Type)Typers.this.global.Type">dropExistential</a><span class="delimiter">(</span><a href="#508636" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="#507762" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;typed %s: %s%s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
            <a href="../symtab/TypeDebugging.scala.html#549752" title="(t: Typers.this.global.Tree)java.lang.String">ptTree</a><span class="delimiter">(</span><a href="#978776" title="Typers.this.global.Tree">tree1</a><span class="delimiter">)</span>, <a href="#978776" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>,
            <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Types.scala.html#478927" title="(tp: Typers.this.global.Type)Boolean">isSingleType</a><span class="delimiter">(</span><a href="#978776" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot; with underlying &quot;)" class="string">&quot; with underlying &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#978776" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Typers.this.global.Type">widen</a> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span><span class="delimiter">)</span>
          <span class="delimiter">)</span>
          <a href="#978776" title="Typers.this.global.Tree">tree1</a>
        <span class="delimiter">}</span>

        <a href="#978662" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <a href="../symtab/AnnotationCheckers.scala.html#479105" title="(tree: Typers.this.global.Tree, tpe: Typers.this.global.Type)Typers.this.global.Type">addAnnotations</a><span class="delimiter">(</span><a href="#978662" title="Typers.this.global.Tree">tree1</a>, <a href="#978662" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="978663">result</a> = <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#978662" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#978662" title="Typers.this.global.Tree">tree1</a> <span class="keyword">else</span> <a href="#507710" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type, original: Typers.this.global.Tree)Typers.this.global.Tree">adapt</a><span class="delimiter">(</span><a href="#978662" title="Typers.this.global.Tree">tree1</a>, <a href="#508635" title="Int">mode</a>, <a href="#508636" title="Typers.this.global.Type">pt</a>, <a href="#508634" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#978642" title="Boolean">alreadyTyped</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <a href="#507762" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;adapted %s: %s to %s, %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span>
            <a href="#978662" title="Typers.this.global.Tree">tree1</a>, <a href="#978662" title="Typers.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Typers.this.global.Type">widen</a>, <a href="#508636" title="Typers.this.global.Type">pt</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508530" title="=&gt; java.lang.String">undetparamsString</a><span class="delimiter">)</span>
          <span class="delimiter">)</span> <span class="comment">//DEBUG</span>
        <span class="delimiter">}</span>

<span class="comment">//      for (t &lt;- tree1.tpe) assert(t != WildcardType)</span>
<span class="comment">//      if ((mode &amp; TYPEmode) != 0) println(&quot;type: &quot;+tree1+&quot; has type &quot;+tree1.tpe)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a><span class="delimiter">)</span> <a href="../Global.scala.html#478238" title="(context: Typers.this.global.analyzer.Context, old: Typers.this.global.Tree, result: Typers.this.global.Tree)Unit">signalDone</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Typers.this.global.analyzer.Context" class="delimiter">[</span>analyzer.<a href="Contexts.scala.html#507359" title="Typers.this.global.analyzer.Context">Context</a><span class="delimiter">]</span>, <a href="#508634" title="Typers.this.global.Tree">tree</a>, <a href="#978663" title="Typers.this.global.Tree">result</a><span class="delimiter">)</span>
        <a href="#978663" title="Typers.this.global.Tree">result</a>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Typers.this.global.Tree" id="978859">ex</a>: <a href="../symtab/Types.scala.html#478998" title="Typers.this.global.TypeError">TypeError</a> =&gt;
          <a href="#508634" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Typers.this.global.Type)Unit">tpe</a> = <span title="Null(null)" class="keyword">null</span>
          <a href="#507762" title="(s: =&gt; String)Unit">printTyping</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;caught %s: while typing %s&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#978859" title="Typers.this.global.TypeError">ex</a>, <a href="#508634" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">//DEBUG</span>
          <a href="TypeDiagnostics.scala.html#507660" title="(pos: Typers.this.global.Position, ex: Typers.this.global.TypeError)Unit">reportTypeError</a><span class="delimiter">(</span><a href="#508634" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#978859" title="Typers.this.global.TypeError">ex</a><span class="delimiter">)</span>
          <a href="Infer.scala.html#507796" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">setError</a><span class="delimiter">(</span><a href="#508634" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Nothing" id="978867">ex</a>: <span title="Exception">Exception</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="comment">// @M causes cyclic reference error</span>
            <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#508634" title="Typers.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;, pt = &quot;)" class="string">&quot;, pt = &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#508636" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500950" title="=&gt; scala.tools.nsc.util.SourceFile">source</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#508634" title="Typers.this.global.Tree">tree</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../Global.scala.html#478253" title="(msg: String, t: Throwable)Unit">logError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;AT: &quot;)" class="string">&quot;AT: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#508634" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../util/Position.scala.html#501519" title="=&gt; java.lang.String">dbgString</a>, <a href="#978867" title="Exception">ex</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="#978867" title="Exception">ex</a>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <span class="delimiter">{</span>
        <a href="#507760" title="()Unit">deindentTyping</a><span class="delimiter">(</span><span class="delimiter">)</span>

        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../util/Statistics.scala.html#43001" title="object scala.tools.nsc.util.Statistics">Statistics</a>.<a href="../util/Statistics.scala.html#478483" title="=&gt; Boolean">enabled</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Long" id="978877">t</a> = <a href="../util/Statistics.scala.html#478488" title="()Long">currentTime</a><span class="delimiter">(</span><span class="delimiter">)</span>
          <a href="../util/Statistics.scala.html#478509" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">microsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478515" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#978877" title="Long">t</a> <a href="../../../Long.scala.html#55177" title="(x: Long)Long">-</a> <a href="../util/Statistics.scala.html#478518" title="=&gt; Long">typerTime</a><span class="delimiter">)</span> <a href="../../../Long.scala.html#55190" title="(x: Int)Long">/</a> <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<a href="../../../Long.scala.html#55095" title="=&gt; Int">toInt</a>
          <a href="../util/Statistics.scala.html#478512" title="=&gt; scala.tools.nsc.util.Statistics.ClassCounts">visitsByType</a><span class="delimiter">(</span><a href="../util/Statistics.scala.html#478515" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Class[_]">head</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+=</a> <span title="Int(1)" class="int">1</span>
          <a href="../util/Statistics.scala.html#478519" title="(x$1: Long)Unit">typerTime</a> = <a href="#978877" title="Long">t</a>
          <a href="../util/Statistics.scala.html#478516" title="(x$1: List[Class[_]])Unit">pendingTreeTypes</a> = <a href="../util/Statistics.scala.html#478515" title="=&gt; List[Class[_]]">pendingTreeTypes</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[Class[_]]">tail</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(owner: Typers.this.global.Symbol)Typers.this.Typer" id="507766">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Symbol" id="887241">owner</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#507454" title="Typers.this.Typer">Typer</a> =
      <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508546" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508457" title="=&gt; Typers.this.global.Tree">tree</a>, <a href="#887241" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Typer" id="507767">atOwner</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="887236">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Symbol" id="887237">owner</a>: <a href="../symtab/Symbols.scala.html#478659" title="Typers.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="#507454" title="Typers.this.Typer">Typer</a> =
      <a href="#507450" title="(context: Typers.this.Context)Typers.this.Typer">newTyper</a><span class="delimiter">(</span><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508546" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.Context">make</a><span class="delimiter">(</span><a href="#887236" title="Typers.this.global.Tree">tree</a>, <a href="#887237" title="Typers.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Types expression or definition &lt;code&gt;tree&lt;/code&gt;.
     *
     *  @param tree ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="507768">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="508631">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="979023">ret</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#508631" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
      <a href="#979023" title="Typers.this.global.Tree">ret</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="507769">typedPos</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="888309">pos</a>: <a href="../util/Position.scala.html#42664" title="Typers.this.global.Position">Position</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="888310">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#507768" title="(tree: Typers.this.global.Tree)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Typers.this.global.Position)(tree: Typers.this.global.Tree)Typers.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#888309" title="Typers.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#888310" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Types expression &lt;code&gt;tree&lt;/code&gt; with given prototype &lt;code&gt;pt&lt;/code&gt;.
     *
     *  @param tree ...
     *  @param pt   ...
     *  @return     ...
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507770">typed</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="507790">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="507791">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =
      <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#507790" title="Typers.this.global.Tree">tree</a>, <span title="Int(1)">EXPRmode</span>, <a href="#507791" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

    <span class="comment">/** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507771">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="712335">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="712336">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="712337">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =
      <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#712335" title="Typers.this.global.Tree">tree</a>, EXPRmode | QUALmode <span title="Int(97)">|</span> POLYmode <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <a href="#712336" title="Int">mode</a> <a href="../../../Int.scala.html#54794" title="(x: Int)Int">&amp;</a> <span title="Int(65536)">TYPEPATmode</span>, <a href="#712337" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span> <span class="comment">// TR: don't set BYVALmode, since qualifier might end up as by-name param to an implicit</span>

    <span class="comment">/** Types qualifier &lt;code&gt;tree&lt;/code&gt; of a select node.
     *  E.g. is tree occurs in a context like &lt;code&gt;tree.m&lt;/code&gt;.
     */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="507772">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="712330">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="712331">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =
      <a href="#507771" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#712330" title="Typers.this.global.Tree">tree</a>, <a href="#712331" title="Int">mode</a>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="507773">typedQualifier</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="712327">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#507771" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#712327" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="comment">/** Types function part of an application */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="507774">typedOperator</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="916245">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =
      <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#916245" title="Typers.this.global.Tree">tree</a>, EXPRmode | FUNmode | POLYmode <span title="Int(177)">|</span> TAPPmode, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="comment">/** Types a pattern with prototype &lt;code&gt;pt&lt;/code&gt; */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507775">typedPattern</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="970386">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="970387">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="comment">// We disable implicits because otherwise some constructs will</span>
      <span class="comment">// type check which should not.  The pattern matcher does not</span>
      <span class="comment">// perform implicit conversions in an attempt to consummate a match.</span>
      <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508537" title="(op: =&gt; Typers.this.global.Tree)Typers.this.global.Tree">withImplicitsDisabled</a><span class="delimiter">(</span><a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#970386" title="Typers.this.global.Tree">tree</a>, <span title="Int(2)">PATTERNmode</span>, <a href="#970387" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Types a (fully parameterized) type tree */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="507776">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="942779">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="942780">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =
      <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#942779" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#507427" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#942780" title="Int">mode</a><span class="delimiter">)</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="comment">/** Types a (fully parameterized) type tree */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="507777">typedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="942776">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#507776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#942776" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="comment">/** Types a higher-kinded type tree -- pt denotes the expected kind*/</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507778">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974372">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="974373">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="974374">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#974374" title="Typers.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[Typers.this.global.Symbol]">typeParams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#507776" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedType</a><span class="delimiter">(</span><a href="#974372" title="Typers.this.global.Tree">tree</a>, <a href="#974373" title="Int">mode</a><span class="delimiter">)</span> <span class="comment">// kind is known and it's *</span>
      <span class="keyword">else</span> <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974372" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="#974374" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="507779">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974369">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="974370">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> =
      <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#974369" title="Typers.this.global.Tree">tree</a>, <span title="Int(16384)">HKmode</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="507780">typedHigherKindedType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="974367">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#507779" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedHigherKindedType</a><span class="delimiter">(</span><a href="#974367" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="comment">/** Types a type constructor tree used in a new or supertype */</span>
    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree" id="507781">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="966793">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="966794">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="979108">result</a> = <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#966793" title="Typers.this.global.Tree">tree</a>, <a href="Modes.scala.html#507427" title="(mode: Int)Int">forTypeMode</a><span class="delimiter">(</span><a href="#966794" title="Int">mode</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54789" title="(x: Int)Int">|</a> <span title="Int(16)">FUNmode</span>, <a href="../symtab/Types.scala.html#478729" title="object Typers.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>

      <span class="keyword">val</span> <a title="Typers.this.global.Type" id="979109">restpe</a> = <a href="#979108" title="Typers.this.global.Tree">result</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Typers.this.global.Type">normalize</a> <span class="comment">// normalize to get rid of type aliases for the following check (#1241)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505149" title="=&gt; Boolean">erasedTypes</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#979109" title="Typers.this.global.Type">restpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#478772" title="Typers.this.global.TypeRef">TypeRef</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#979109" title="Typers.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; Typers.this.global.Type">prefix</a>.<a href="../symtab/Types.scala.html#507151" title="=&gt; Boolean">isStable</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508454" title="=&gt; Typers.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500984" title="=&gt; Boolean">isJava</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// The isJava exception if OK only because the only type constructors scalac gets</span>
        <span class="comment">// to see are those in the signatures. These do not need a unique object as a prefix.</span>
        <span class="comment">// The situation is different for new's and super's, but scalac does not look deep</span>
        <span class="comment">// enough to see those. See #3938</span>
        <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#966793" title="Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Typers.this.global.Position">pos</a>, <a href="#979109" title="Typers.this.global.Type">restpe</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">prefix</a><a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a><span title="java.lang.String(&quot; is not a legal prefix for a constructor&quot;)" class="string">&quot; is not a legal prefix for a constructor&quot;</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="comment">//@M fix for #2208</span>
      <span class="comment">// if there are no type arguments, normalization does not bypass any checks, so perform it to get rid of AnyRef</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span><span class="delimiter">(</span><a href="#979108" title="Typers.this.global.Tree">result</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Typers.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[Typers.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// minimal check: if(result.tpe.typeSymbolDirect eq AnyRefClass) {</span>
        <span class="comment">// must expand the fake AnyRef type alias, because bootstrapping (init in Definitions) is not</span>
        <span class="comment">// designed to deal with the cycles in the scala package (ScalaObject extends</span>
        <span class="comment">// AnyRef, but the AnyRef type alias is entered after the scala package is</span>
        <span class="comment">// loaded and completed, so that ScalaObject is unpickled while AnyRef is not</span>
        <span class="comment">// yet defined )</span>
        <a href="#979108" title="Typers.this.global.Tree">result</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Typers.this.global.Type)result.type">setType</a><span class="delimiter">(</span><a href="#979109" title="Typers.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span> <span class="comment">// must not normalize: type application must be (bounds-)checked (during RefChecks), see #2208</span>
        <span class="comment">// during uncurry (after refchecks), all types are normalized</span>
        <a href="#979108" title="Typers.this.global.Tree">result</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree)Typers.this.global.Tree" id="507782">typedTypeConstructor</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="966791">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#507781" title="(tree: Typers.this.global.Tree, mode: Int)Typers.this.global.Tree">typedTypeConstructor</a><span class="delimiter">(</span><a href="#966791" title="Typers.this.global.Tree">tree</a>, <span title="Int(0)">NOmode</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Type" id="507783">computeType</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="804670">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Typers.this.global.Type" id="804671">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.global.Tree" id="979126">tree1</a> = <a href="#507770" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#804670" title="Typers.this.global.Tree">tree</a>, <a href="#804671" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
      <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: Typers.this.global.Tree, value: Typers.this.global.Tree)Unit">transformed</a><span class="delimiter">(</span><a href="#804670" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> = <a href="#979126" title="Typers.this.global.Tree">tree1</a>
      <a href="#507757" title="(tree: Typers.this.global.Tree, owner: Typers.this.global.Symbol)Typers.this.global.Type">packedType</a><span class="delimiter">(</span><a href="#979126" title="Typers.this.global.Tree">tree1</a>, <a href="#507676" title="=&gt; Typers.this.Context">context</a>.<a href="Contexts.scala.html#508460" title="=&gt; Typers.this.global.Symbol">owner</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree" id="507784">transformedOrTyped</a><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="968684">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a>, <a title="Int" id="968685">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Typers.this.global.Type" id="968686">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <a href="#507443" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a>.<a href="../../../collection/mutable/HashMap.scala.html#73158" title="(key: Typers.this.global.Tree)Option[Typers.this.global.Tree]">get</a><span class="delimiter">(</span><a href="#968684" title="Typers.this.global.Tree">tree</a><span class="delimiter">)</span> <span title="Typers.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Typers.this.global.Tree">Some</span><span class="delimiter">(</span><a title="Typers.this.global.Tree" id="979139">tree1</a><span class="delimiter">)</span> =&gt; <a href="#507443" title="=&gt; scala.collection.mutable.HashMap[Typers.this.global.Tree,Typers.this.global.Tree]">transformed</a> <a href="../../../collection/mutable/HashMap.scala.html#73163" title="(key: Typers.this.global.Tree)Typers.this.transformed.type">-=</a> <a href="#968684" title="Typers.this.global.Tree">tree</a>; <a href="#979139" title="Typers.this.global.Tree">tree1</a>
      <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="Typers.this.global.Tree">None</a> =&gt; <a href="#507765" title="(tree: Typers.this.global.Tree, mode: Int, pt: Typers.this.global.Type)Typers.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#968684" title="Typers.this.global.Tree">tree</a>, <a href="#968685" title="Int">mode</a>, <a href="#968686" title="Typers.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Typers.this.global.Type, full: Boolean)Typers.this.SearchResult" id="507785">findManifest</a><span class="delimiter">(</span><a title="Typers.this.global.Type" id="922573">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="922574">full</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span> = <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Typers.this.SearchResult)Typers.this.SearchResult">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; Typers.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482526" title="=&gt; scala.tools.nsc.Phase">typerPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="Implicits.scala.html#507488" title="(tree: Typers.this.global.Tree, pt: Typers.this.global.Type, reportAmbiguous: Boolean, isView: Boolean, context: Typers.this.Context)Typers.this.SearchResult">inferImplicit</a><span class="delimiter">(</span>
        <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Typers.this.global.EmptyTree">EmptyTree</a>,
        <a href="../symtab/Types.scala.html#478817" title="(tycon: Typers.this.global.Type, args: List[Typers.this.global.Type])Typers.this.global.Type">appliedType</a><span class="delimiter">(</span><span class="delimiter">(</span><span title="Typers.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#922574" title="Boolean">full</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#508123" title="=&gt; Typers.this.global.Symbol">FullManifestClass</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#508119" title="=&gt; Typers.this.global.Symbol">PartialManifestClass</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509285" title="=&gt; Typers.this.global.Type">typeConstructor</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Typers.this.global.Type*)List[Typers.this.global.Type]">List</a><span class="delimiter">(</span><a href="#922573" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>,
        <span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span>, <a href="#507676" title="=&gt; Typers.this.Context">context</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(pos: Typers.this.global.Position, tp: Typers.this.global.Type, full: Boolean)Typers.this.global.Tree" id="507786">getManifestTree</a><span class="delimiter">(</span><a title="Typers.this.global.Position" id="922605">pos</a>: <a href="../util/Position.scala.html#42664" title="Typers.this.global.Position">Position</a>, <a title="Typers.this.global.Type" id="922606">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Typers.this.global.Type">Type</a>, <a title="Boolean" id="922607">full</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Typers.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Typers.this.SearchResult" id="979152">manifestOpt</a> = <a href="#507785" title="(tp: Typers.this.global.Type, full: Boolean)Typers.this.SearchResult">findManifest</a><span class="delimiter">(</span><a href="#922606" title="Typers.this.global.Type">tp</a>, <a href="#922607" title="Boolean">full</a><span class="delimiter">)</span>
      <span title="Typers.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#979152" title="Typers.this.SearchResult">manifestOpt</a>.<a href="Implicits.scala.html#712366" title="=&gt; Typers.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441037" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="Infer.scala.html#507799" title="(pos: Typers.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#922605" title="Typers.this.global.Position">pos</a>, <span title="java.lang.String(&quot;cannot find &quot;)" class="string">&quot;cannot find &quot;</span><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#922607" title="Boolean">full</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;class &quot;)" class="string">&quot;class &quot;</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;manifest for element type &quot;)" class="string">&quot;manifest for element type &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#922606" title="Typers.this.global.Type">tp</a><span class="delimiter">)</span>
        <a href="../../../reflect/generic/Trees.scala.html#443172" title="(value: Typers.this.global.Constant)Typers.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/generic/Constants.scala.html#435761" title="(value: Any)Typers.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
        <a href="#979152" title="Typers.this.SearchResult">manifestOpt</a>.<a href="Implicits.scala.html#712366" title="=&gt; Typers.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
<span class="comment">/*
    def convertToTypeTree(tree: Tree): Tree = tree match {
      case TypeTree() =&gt; tree
      case _ =&gt; TypeTree(tree.tpe)
    }
*/</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>


        </pre>
    </body>
</html>