<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/interpreter/Parsed.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Paul Phillips
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> interpreter

<span class="keyword">import</span> scala.tools.jline.console.completer.<span title="object scala.tools.jline.console.completer.ArgumentCompleter">ArgumentCompleter</span>.<span class="delimiter">{</span> ArgumentDelimiter, ArgumentList <span class="delimiter">}</span>
<span class="keyword">import</span> util.returning

<span class="comment">/** One instance of a command buffer.
 */</span>
<span class="keyword">class</span> <a title="class Parsed extends java.lang.Object with scala.tools.nsc.interpreter.Delimited with ScalaObject" id="31269">Parsed</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">private</a> <span class="delimiter">(</span>
  <span class="keyword">val</span> <a title="String" id="730747">buffer</a>: <span title="String">String</span>,
  <span class="keyword">val</span> <a title="Int" id="730748">cursor</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>,
  <span class="keyword">val</span> <a title="Char =&gt; Boolean" id="730749">delimited</a>: Char =&gt; Boolean
<span class="delimiter">)</span> <span class="keyword">extends</span> <a href="Delimited.scala.html#32466" title="scala.tools.nsc.interpreter.Delimited">Delimited</a> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="730269">isEmpty</a>       = <a href="#730278" title="=&gt; List[String]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="730270">isUnqualified</a> = <a href="#730278" title="=&gt; List[String]">args</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="730271">isQualified</a>   = <a href="#730278" title="=&gt; List[String]">args</a>.<a href="../../../collection/SeqLike.scala.html#54060" title="=&gt; Int">size</a> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(1)" class="int">1</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="730272">isAtStart</a>     = <a href="#730748" title="=&gt; Int">cursor</a> <a href="../../../Int.scala.html#54768" title="(x: Int)Boolean">&lt;=</a> <span title="Int(0)" class="int">0</span>

  <span class="keyword">private</span> <span class="keyword">var</span> <a title="Int" id="730274">_verbosity</a> = <span title="Int(0)" class="int">0</span>

  <span class="keyword">def</span> <a title="=&gt; Int" id="730276">verbosity</a> = <a href="#730274" title="=&gt; Int">_verbosity</a>
  <span class="keyword">def</span> <a title="(v: Int)Parsed.this.type" id="730277">withVerbosity</a><span class="delimiter">(</span><a title="Int" id="730878">v</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <span class="keyword">this</span>.<span class="keyword">type</span> = <a href="../util/package.scala.html#48287" title="[T](x: T)(f: T =&gt; Unit)T">returning</a><span title="(x: Parsed.this.type)(f: Parsed.this.type =&gt; Unit)Parsed.this.type" class="delimiter">[</span><span class="keyword">this</span>.<span class="keyword">type</span><span class="delimiter">]</span><span class="delimiter">(</span><a href="#31269" title="Parsed.this.type" class="keyword">this</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Parsed.this.type" id="759852">_</a> =&gt; <a href="#730274" title="(x$1: Int)Unit">_verbosity</a> = <a href="#730878" title="Int">v</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; List[String]" id="730278">args</a> = <a href="Delimited.scala.html#730254" title="(s: String)List[String]">toArgs</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">buffer</a> <a href="../../../collection/IndexedSeqOptimized.scala.html#55967" title="(n: Int)String">take</a> <a href="#730748" title="=&gt; Int">cursor</a><span class="delimiter">)</span>.<a href="../../../collection/immutable/List.scala.html#49162" title="=&gt; List[String]">toList</a>
  <span class="keyword">def</span> <a title="=&gt; String" id="730279">bufferHead</a> = <a href="#730278" title="=&gt; List[String]">args</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; String">head</a>
  <span class="keyword">def</span> <a title="=&gt; Int" id="730280">headLength</a> = <a href="#730279" title="=&gt; String">bufferHead</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>
  <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.interpreter.Parsed" id="730281">bufferTail</a> = <span title="scala.tools.nsc.interpreter.Parsed" class="keyword">new</span> <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">buffer</a> <a href="../../../collection/IndexedSeqOptimized.scala.html#55968" title="(n: Int)String">drop</a> <a href="#730280" title="=&gt; Int">headLength</a>, <a href="#730748" title="=&gt; Int">cursor</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#730280" title="=&gt; Int">headLength</a>, <a href="#730749" title="=&gt; Char =&gt; Boolean">delimited</a><span class="delimiter">)</span> <a href="#730277" title="(v: Int)scala.tools.nsc.interpreter.Parsed">withVerbosity</a> <a href="#730276" title="=&gt; Int">verbosity</a>

  <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.interpreter.Parsed" id="730282">prev</a> = <span title="scala.tools.nsc.interpreter.Parsed" class="keyword">new</span> <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a><span class="delimiter">(</span><a href="#730747" title="=&gt; String">buffer</a>, <a href="#730748" title="=&gt; Int">cursor</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span>, <a href="#730749" title="=&gt; Char =&gt; Boolean">delimited</a><span class="delimiter">)</span> <a href="#730277" title="(v: Int)scala.tools.nsc.interpreter.Parsed">withVerbosity</a> <a href="#730276" title="=&gt; Int">verbosity</a>
  <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.interpreter.Parsed" id="730283">next</a> = <span title="scala.tools.nsc.interpreter.Parsed" class="keyword">new</span> <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a><span class="delimiter">(</span><a href="#730747" title="=&gt; String">buffer</a>, <a href="#730748" title="=&gt; Int">cursor</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <a href="#730749" title="=&gt; Char =&gt; Boolean">delimited</a><span class="delimiter">)</span> <a href="#730277" title="(v: Int)scala.tools.nsc.interpreter.Parsed">withVerbosity</a> <a href="#730276" title="=&gt; Int">verbosity</a>
  <span class="keyword">def</span> <a title="=&gt; Char" id="730284">currentChar</a> = <a href="../../../collection/immutable/StringOps.scala.html#57090" title="(index: Int)Char">buffer</a><span class="delimiter">(</span><a href="#730748" title="=&gt; Int">cursor</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="730285">currentArg</a> = <a href="#730278" title="=&gt; List[String]">args</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71051" title="=&gt; String">last</a>
  <span class="keyword">def</span> <a title="=&gt; Int" id="730286">position</a> =
    <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#730269" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="Int(0)" class="int">0</span>
    <span class="keyword">else</span> <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#730288" title="=&gt; Boolean">isLastDelimiter</a><span class="delimiter">)</span> <a href="#730748" title="=&gt; Int">cursor</a>
    <span class="keyword">else</span> <a href="#730748" title="=&gt; Int">cursor</a> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <a href="#730285" title="=&gt; String">currentArg</a>.<span title="()Int">length</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="730287">isFirstDelimiter</a>  = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#730269" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Delimited.scala.html#730255" title="(ch: Char)Boolean">isDelimiterChar</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">buffer</a>.<a href="../../../collection/IndexedSeqOptimized.scala.html#55963" title="=&gt; Char">head</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="730288">isLastDelimiter</a>   = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#730269" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Delimited.scala.html#730255" title="(ch: Char)Boolean">isDelimiterChar</a><span class="delimiter">(</span><a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">buffer</a>.<a href="../../../collection/IndexedSeqOptimized.scala.html#55965" title="=&gt; Char">last</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="730289">firstIfDelimiter</a>  = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#730287" title="=&gt; Boolean">isFirstDelimiter</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">buffer</a>.<a href="../../../collection/IndexedSeqOptimized.scala.html#55963" title="=&gt; Char">head</a>.<span title="()java.lang.String">toString</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="730290">lastIfDelimiter</a>   = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#730288" title="=&gt; Boolean">isLastDelimiter</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">buffer</a>.<a href="../../../collection/IndexedSeqOptimized.scala.html#55965" title="=&gt; Char">last</a>.<span title="()java.lang.String">toString</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>

  <span class="keyword">def</span> <a title="=&gt; Boolean" id="730291">isQuoted</a> = <span title="Boolean(false)" class="keyword">false</span> <span class="comment">// TODO</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="730292">isEscaped</a> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#730272" title="=&gt; Boolean">isAtStart</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Delimited.scala.html#730256" title="(ch: Char)Boolean">isEscapeChar</a><span class="delimiter">(</span><a href="#730284" title="=&gt; Char">currentChar</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="Delimited.scala.html#730256" title="(ch: Char)Boolean">isEscapeChar</a><span class="delimiter">(</span><a href="#730282" title="=&gt; scala.tools.nsc.interpreter.Parsed">prev</a>.<a href="#730284" title="=&gt; Char">currentChar</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Boolean" id="730293">isDelimiter</a> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#730291" title="=&gt; Boolean">isQuoted</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#730292" title="=&gt; Boolean">isEscaped</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="Delimited.scala.html#730255" title="(ch: Char)Boolean">isDelimiterChar</a><span class="delimiter">(</span><a href="#730284" title="=&gt; Char">currentChar</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="()String" id="730294">toString</a> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;Parsed(%s / %d)&quot;</a>.<a href="../../../collection/immutable/StringLike.scala.html#56577" title="(args: Any*)String">format</a><span class="delimiter">(</span><a href="#730747" title="=&gt; String">buffer</a>, <a href="#730748" title="=&gt; Int">cursor</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="object scala.tools.nsc.interpreter.Parsed" id="31270">Parsed</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="scala.collection.immutable.Set[Char]" id="732263">DefaultDelimiters</a> = <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;[]{},`; \t&quot;</a>.<a href="../../../collection/TraversableOnce.scala.html#53700" title="scala.collection.immutable.Set[Char]">toSet</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(s: String)java.lang.String" id="732265">onull</a><span class="delimiter">(</span><a title="String" id="760574">s</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#760574" title="String">s</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#760574" title="String">s</a>

  <span class="keyword">def</span> <a title="(s: String)scala.tools.nsc.interpreter.Parsed" id="732266">apply</a><span class="delimiter">(</span><a title="String" id="732281">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a> = <a href="#732267" title="(s: String, cursor: Int)scala.tools.nsc.interpreter.Parsed">apply</a><span class="delimiter">(</span><a href="#732265" title="(s: String)java.lang.String">onull</a><span class="delimiter">(</span><a href="#732281" title="String">s</a><span class="delimiter">)</span>, <a href="#732265" title="(s: String)java.lang.String">onull</a><span class="delimiter">(</span><a href="#732281" title="String">s</a><span class="delimiter">)</span>.<span title="()Int">length</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(s: String, cursor: Int)scala.tools.nsc.interpreter.Parsed" id="732267">apply</a><span class="delimiter">(</span><a title="String" id="732278">s</a>: <span title="String">String</span>, <a title="Int" id="732279">cursor</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a> = <a href="#732268" title="(s: String, cursor: Int, delimited: Char =&gt; Boolean)scala.tools.nsc.interpreter.Parsed">apply</a><span class="delimiter">(</span><a href="#732265" title="(s: String)java.lang.String">onull</a><span class="delimiter">(</span><a href="#732278" title="String">s</a><span class="delimiter">)</span>, <a href="#732279" title="Int">cursor</a>, <a href="#732263" title="=&gt; scala.collection.immutable.Set[Char]">DefaultDelimiters</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(s: String, cursor: Int, delimited: Char =&gt; Boolean)scala.tools.nsc.interpreter.Parsed" id="732268">apply</a><span class="delimiter">(</span><a title="String" id="732274">s</a>: <span title="String">String</span>, <a title="Int" id="732275">cursor</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Char =&gt; Boolean" id="732276">delimited</a>: Char =&gt; Boolean<span class="delimiter">)</span>: <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a> =
    <span title="scala.tools.nsc.interpreter.Parsed" class="keyword">new</span> <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a><span class="delimiter">(</span><a href="#732265" title="(s: String)java.lang.String">onull</a><span class="delimiter">(</span><a href="#732274" title="String">s</a><span class="delimiter">)</span>, <a href="#732275" title="Int">cursor</a>, <a href="#732276" title="Char =&gt; Boolean">delimited</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(s: String)scala.tools.nsc.interpreter.Parsed" id="732269">dotted</a><span class="delimiter">(</span><a title="String" id="753762">s</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a> = <a href="#732270" title="(s: String, cursor: Int)scala.tools.nsc.interpreter.Parsed">dotted</a><span class="delimiter">(</span><a href="#732265" title="(s: String)java.lang.String">onull</a><span class="delimiter">(</span><a href="#753762" title="String">s</a><span class="delimiter">)</span>, <a href="#732265" title="(s: String)java.lang.String">onull</a><span class="delimiter">(</span><a href="#753762" title="String">s</a><span class="delimiter">)</span>.<span title="()Int">length</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(s: String, cursor: Int)scala.tools.nsc.interpreter.Parsed" id="732270">dotted</a><span class="delimiter">(</span><a title="String" id="753759">s</a>: <span title="String">String</span>, <a title="Int" id="753760">cursor</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a> = <span title="scala.tools.nsc.interpreter.Parsed" class="keyword">new</span> <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a><span class="delimiter">(</span><a href="#732265" title="(s: String)java.lang.String">onull</a><span class="delimiter">(</span><a href="#753759" title="String">s</a><span class="delimiter">)</span>, <a href="#753760" title="Int">cursor</a>, <a href="#760598" title="Char">_</a> <a href="../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'.\')" class="char">'.'</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(s: String, cursor: Int)scala.tools.nsc.interpreter.Parsed" id="732271">undelimited</a><span class="delimiter">(</span><a title="String" id="754469">s</a>: <span title="String">String</span>, <a title="Int" id="754470">cursor</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a><span class="delimiter">)</span>: <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a> = <span title="scala.tools.nsc.interpreter.Parsed" class="keyword">new</span> <a href="#31269" title="scala.tools.nsc.interpreter.Parsed">Parsed</a><span class="delimiter">(</span><a href="#732265" title="(s: String)java.lang.String">onull</a><span class="delimiter">(</span><a href="#754469" title="String">s</a><span class="delimiter">)</span>, <a href="#754470" title="Int">cursor</a>, <a title="Char" id="760604">_</a> =&gt; <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>