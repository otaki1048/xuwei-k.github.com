<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/AddInterfaces.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> collection.mutable.ListBuffer

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class AddInterfaces extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with ScalaObject" id="38881">AddInterfaces</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#39277" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a> <span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="../SubComponent.scala.html#500466" title="=&gt; scala.tools.nsc.Global">global</a>._                  <span class="comment">// the global environment</span>
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#479030" title="object AddInterfaces.this.global.definitions">definitions</a>._             <span class="comment">// standard classes and methods</span>

  <span class="comment">/** &lt;p&gt;
   *    The phase sets &lt;code&gt;lateINTERFACE&lt;/code&gt; for non-interface traits
   *    that now become interfaces.
   *  &lt;/p&gt;
   *  &lt;p&gt;
   *    It sets &lt;code&gt;lateDEFERRED&lt;/code&gt; for formerly concrete methods in
   *    such traits.
   *  &lt;/p&gt;
   */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="513046">phaseNewFlags</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a> = <a href="../symtab/Flags.scala.html#478431" title="=&gt; Long">lateDEFERRED</a> <a href="../../../Long.scala.html#55155" title="(x: Long)Long">|</a> <a href="../symtab/Flags.scala.html#478433" title="=&gt; Long">lateINTERFACE</a>

  <span class="comment">/** Type reference after erasure; to be defined in subclass
   *  &lt;code&gt;Erasure&lt;/code&gt;.
   */</span>
  <span class="keyword">def</span> <a title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Type" id="513047">erasedTypeRef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884052">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="AddInterfaces.this.global.Type">Type</a>

  <span class="comment">/** Erasure type-map; to be defined in subclass
   *  &lt;code&gt;Erasure&lt;/code&gt;.
   */</span>
  <span class="keyword">def</span> <a title="=&gt; AddInterfaces.this.global.TypeMap" id="513048">erasure</a>: <a href="../symtab/Types.scala.html#478842" title="AddInterfaces.this.global.TypeMap">TypeMap</a>

  <span class="comment">/** A lazily constructed map that associates every non-interface trait with
   *  its implementation class.
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" id="513049">implClassMap</a> = <a href="../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">HashMap</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span>

  <span class="comment">/** A lazily constructed map that associates every concrete method in a non-interface
   *  trait that's currently compiled with its corresponding method in the trait's
   *  implementation class.
   */</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" id="513051">implMethodMap</a> = <a href="../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">HashMap</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(prev: scala.tools.nsc.Phase)AddInterfaces.this.StdPhase" id="513053">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="515172">prev</a>: scala.tools.nsc.<a href="../Phase.scala.html#22578" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../SubComponent.scala.html#500485" title="AddInterfaces.this.StdPhase">StdPhase</a> = <span class="delimiter">{</span>
    <a href="#513049" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implClassMap</a>.<a href="../../../collection/mutable/HashMap.scala.html#73154" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#513051" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implMethodMap</a>.<a href="../../../collection/mutable/HashMap.scala.html#73154" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>
    <a href="#38881" title="scala.tools.nsc.transform.AddInterfaces" class="keyword">super</a>.<a href="InfoTransform.scala.html#511899" title="(prev: scala.tools.nsc.Phase)AddInterfaces.this.StdPhase">newPhase</a><span class="delimiter">(</span><a href="#515172" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Is given trait member symbol a member of the trait's interface
   *  after this transform is performed? */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: AddInterfaces.this.global.Symbol)Boolean" id="513054">isInterfaceMember</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884055">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span class="delimiter">{</span>
    <a href="#884055" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435370" title="=&gt; Boolean">isType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
    <span class="delimiter">{</span> <a href="#884055" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; AddInterfaces.this.global.Type">info</a>; <span class="comment">// to set lateMETHOD flag if necessary</span>
      <a href="#884055" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#884055" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435331" title="=&gt; Boolean">isLabel</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#884055" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#884055" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(67108864L)">BRIDGE</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#884055" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509211" title="=&gt; Boolean">hasBridgeAnnotation</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="comment">// count @_$bridge$_ annotated classes as interface members</span>
      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#884055" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#884055" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509231" title="=&gt; Boolean">isImplOnly</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Does symbol need an implementation method? */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: AddInterfaces.this.global.Symbol)Boolean" id="513055">needsImplMethod</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884057">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
    <a href="#884057" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#513054" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#884057" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
    <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#884057" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>DEFERRED <span title="Long(268435472L)">|</span> SUPERACCESSOR<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#884057" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <a href="../symtab/Flags.scala.html#478431" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; scala.tools.nsc.Phase" id="513056">implClassPhase</a> = <a href="../Global.scala.html#478362" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482536" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a>

  <span class="comment">/** Return the implementation class of a trait; create a new one of one does not yet exist */</span>
  <span class="keyword">def</span> <a title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol" id="513057">implClass</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="883849">iface</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a> = <a href="#513049" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implClassMap</a>.<a href="../../../collection/MapLike.scala.html#73201" title="(key: AddInterfaces.this.global.Symbol, default: =&gt; AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">getOrElse</a><span class="delimiter">(</span><a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>, <span class="delimiter">{</span>
    <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="#513056" title="=&gt; scala.tools.nsc.Phase">implClassPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.TypeName" id="884078">implName</a> = <a href="../symtab/StdNames.scala.html#479055" title="object AddInterfaces.this.global.nme">nme</a>.<a href="../symtab/NameManglers.scala.html#516895" title="(name: AddInterfaces.this.global.Name)AddInterfaces.this.global.TypeName">implClassName</a><span class="delimiter">(</span><a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; AddInterfaces.this.global.Name">name</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="AddInterfaces.this.global.Symbol" id="884079">impl</a> = <span title="AddInterfaces.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507193" title="(name: AddInterfaces.this.global.Name)AddInterfaces.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="#884078" title="AddInterfaces.this.global.TypeName">implName</a><span class="delimiter">)</span> <span class="keyword">else</span> <a href="../symtab/Symbols.scala.html#478667" title="object AddInterfaces.this.global.NoSymbol">NoSymbol</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object AddInterfaces.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469705" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">XO</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unlinking impl class &quot;)" class="string">&quot;unlinking impl class &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span>
        <a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; AddInterfaces.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#514366" title="(sym: AddInterfaces.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span>
        <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a> = <a href="../symtab/Symbols.scala.html#478667" title="object AddInterfaces.this.global.NoSymbol">NoSymbol</a>
      <span class="delimiter">}</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object AddInterfaces.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a> = <a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509304" title="(owner: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a><span class="delimiter">)</span>
        <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#509257" title="(name: AddInterfaces.this.global.Name)Unit">name</a> = <a href="#884078" title="AddInterfaces.this.global.TypeName">implName</a>
        <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#509352" title="(f: scala.tools.nsc.io.AbstractFile)Unit">sourceFile</a> = <a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509351" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span>
          <a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; AddInterfaces.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">enter</a> <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482566" title="(sym: AddInterfaces.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../Global.scala.html#478362" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: AddInterfaces.this.global.Symbol, value: scala.tools.nsc.io.AbstractFile)Unit">symSource</a><span class="delimiter">(</span><a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> = <a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509351" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a>
      <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a> <a href="../symtab/Symbols.scala.html#509110" title="(pos: scala.tools.nsc.util.Position)AddInterfaces.this.global.Symbol">setPos</a> <a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; AddInterfaces.this.global.Position">pos</a>
      <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#509260" title="(fs: Long)Unit">flags</a> = <a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509259" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#55160" title="(x: Long)Long">&amp;</a> <a href="../../../Long.scala.html#55101" title="=&gt; Long">~</a><span class="delimiter">(</span><span title="Int(128)">INTERFACE</span> <a href="../../../Int.scala.html#54790" title="(x: Long)Long">|</a> <a href="../symtab/Flags.scala.html#478433" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <a href="../../../Long.scala.html#55155" title="(x: Long)Long">|</a> <span title="Long(137438953472L)">IMPLCLASS</span>
      <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a> <a href="../symtab/Symbols.scala.html#509274" title="(info: AddInterfaces.this.global.Type)AddInterfaces.this.global.Symbol">setInfo</a> <span title="AddInterfaces.this.LazyImplClassType" class="keyword">new</span> <a href="#513058" title="AddInterfaces.this.LazyImplClassType">LazyImplClassType</a><span class="delimiter">(</span><a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a><span class="delimiter">)</span>
      <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: AddInterfaces.this.global.Symbol, value: AddInterfaces.this.global.Symbol)Unit">implClassMap</a><span class="delimiter">(</span><a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a><span class="delimiter">)</span> = <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;generating impl class &quot;)" class="string">&quot;generating impl class &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in &quot;)" class="string">&quot; in &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#883849" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <a href="#884079" title="AddInterfaces.this.global.Symbol">impl</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="comment">/** &lt;p&gt;
   *    A lazy type to set the info of an implementation class
   *    The parents of an implementation class for trait &lt;code&gt;iface&lt;/code&gt; are:
   *  &lt;/p&gt;
   *  &lt;ul&gt;
   *    &lt;li&gt;superclass: &lt;code&gt;Object&lt;/code&gt;&lt;/li&gt;
   *    &lt;li&gt;
   *      mixin classes: mixin classes of &lt;code&gt;iface&lt;/code&gt; where every
   *      non-interface trait is mapped to its implementation class, followed
   *      by &lt;code&gt;iface&lt;/code&gt; itself.
   *    &lt;/li&gt;
   *  &lt;/ul&gt;
   *  &lt;p&gt;
   *    The declarations of a mixin class are:
   *  &lt;/p&gt;
   *  &lt;ul&gt;
   *    &lt;li&gt;
   *      for every interface member of &lt;code&gt;iface&lt;/code&gt; its implementation
   *      method, if one is needed.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      every former member of &lt;code&gt;iface&lt;/code&gt; that is implementation only
   *    &lt;/li&gt;
   *  &lt;/ul&gt;
   */</span>
  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class LazyImplClassType extends AddInterfaces.this.global.LazyType with ScalaObject" id="513058">LazyImplClassType</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="AddInterfaces.this.global.Symbol" id="884170">iface</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../symtab/Types.scala.html#478804" title="AddInterfaces.this.global.LazyType">LazyType</a> <span class="delimiter">{</span>

    <span class="comment">/** Compute the decls of implementation class &lt;code&gt;implClass&lt;/code&gt;,
     *  given the decls &lt;code&gt;ifaceDecls&lt;/code&gt; of its interface.
     *
     *  @param implClass  ...
     *  @param ifaceDecls ...
     *  @return           ...
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(implClass: AddInterfaces.this.global.Symbol, ifaceDecls: AddInterfaces.this.global.Scope)AddInterfaces.this.global.Scope" id="884167">implDecls</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884202">implClass</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="AddInterfaces.this.global.Scope" id="884203">ifaceDecls</a>: <a href="../symtab/Scopes.scala.html#479020" title="AddInterfaces.this.global.Scope">Scope</a><span class="delimiter">)</span>: <a href="../symtab/Scopes.scala.html#479020" title="AddInterfaces.this.global.Scope">Scope</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Scope" id="884205">decls</a> = <a href="../symtab/Scopes.scala.html#514352" title="()AddInterfaces.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#479020" title="AddInterfaces.this.global.Scope">Scope</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#884203" title="AddInterfaces.this.global.Scope">ifaceDecls</a> <a href="../symtab/Scopes.scala.html#514367" title="(name: AddInterfaces.this.global.Name)AddInterfaces.this.global.Symbol">lookup</a> <a href="../symtab/StdNames.scala.html#479055" title="object AddInterfaces.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516552" title="=&gt; AddInterfaces.this.global.nme.NameType">MIXIN_CONSTRUCTOR</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object AddInterfaces.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
        <a href="#884205" title="AddInterfaces.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">enter</a> <span class="delimiter">(</span><a href="#884202" title="AddInterfaces.this.global.Symbol">implClass</a>.<a href="../symtab/Symbols.scala.html#509130" title="(pos: AddInterfaces.this.global.Position, name: AddInterfaces.this.global.TermName)AddInterfaces.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#884202" title="AddInterfaces.this.global.Symbol">implClass</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; AddInterfaces.this.global.Position">pos</a>, <a href="../symtab/StdNames.scala.html#479055" title="object AddInterfaces.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516552" title="=&gt; AddInterfaces.this.global.nme.NameType">MIXIN_CONSTRUCTOR</a><span class="delimiter">)</span>
                     <a href="../symtab/Symbols.scala.html#509274" title="(info: AddInterfaces.this.global.Type)AddInterfaces.this.global.MethodSymbol">setInfo</a> <a href="../symtab/Types.scala.html#546837" title="(params: List[AddInterfaces.this.global.Symbol], resultType: AddInterfaces.this.global.Type)AddInterfaces.this.global.MethodType">MethodType</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#508423" title="=&gt; AddInterfaces.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; AddInterfaces.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884268">sym</a> &lt;- <a href="#884203" title="AddInterfaces.this.global.Scope">ifaceDecls</a>.<a href="../../../collection/Iterator.scala.html#59154" title="(f: AddInterfaces.this.global.Symbol =&gt; Any)Unit">iterator</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#513054" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#884268" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#513055" title="(sym: AddInterfaces.this.global.Symbol)Boolean">needsImplMethod</a><span class="delimiter">(</span><a href="#884268" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="884269">impl</a> = <a href="#884268" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509303" title="(owner: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#884202" title="AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)AddInterfaces.this.global.Symbol">resetFlag</a><span class="delimiter">(</span><a href="../symtab/Flags.scala.html#478431" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482566" title="(sym: AddInterfaces.this.global.Symbol)Boolean">compiles</a><span class="delimiter">(</span><a href="#884202" title="AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: AddInterfaces.this.global.Symbol, value: AddInterfaces.this.global.Symbol)Unit">implMethodMap</a><span class="delimiter">(</span><a href="#884268" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span> = <a href="#884269" title="AddInterfaces.this.global.Symbol">impl</a>
            <a href="#884205" title="AddInterfaces.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">enter</a> <a href="#884269" title="AddInterfaces.this.global.Symbol">impl</a>
            <a href="#884268" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)sym.type">setFlag</a> <a href="../symtab/Flags.scala.html#478431" title="=&gt; Long">lateDEFERRED</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <a href="#884268" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509250" title="(owner: AddInterfaces.this.global.Symbol)Unit">owner</a> = <a href="#884202" title="AddInterfaces.this.global.Symbol">implClass</a>
          <span class="comment">// note: OK to destructively modify the owner here,</span>
          <span class="comment">// because symbol will not be accessible from outside the sourcefile.</span>
          <span class="comment">// mixin constructors are corrected separately; see TermSymbol.owner</span>
          <a href="#884205" title="AddInterfaces.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">enter</a> <a href="#884268" title="AddInterfaces.this.global.Symbol">sym</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <a href="#884205" title="AddInterfaces.this.global.Scope">decls</a>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: AddInterfaces.this.global.Symbol)Unit" id="884168">complete</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884186">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" id="884298">implType</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="884299">tp</a>: <a href="../symtab/Types.scala.html#478720" title="AddInterfaces.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="AddInterfaces.this.global.Type">Type</a> = <a href="#884299" title="AddInterfaces.this.global.Type">tp</a> <span title="AddInterfaces.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.ClassInfoType">ClassInfoType</span><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Type]" id="884303">parents</a>, <a title="AddInterfaces.this.global.Scope" id="884304">decls</a>, _<span class="delimiter">)</span> =&gt;
          <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#513056" title="=&gt; scala.tools.nsc.Phase">implClassPhase</a><span class="delimiter">)</span>
          <a href="../symtab/Types.scala.html#546740" title="(parents: List[AddInterfaces.this.global.Type], decls: AddInterfaces.this.global.Scope, typeSymbol: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
            <a href="../symtab/Definitions.scala.html#507925" title="=&gt; AddInterfaces.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; AddInterfaces.this.global.Type">tpe</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: AddInterfaces.this.global.Type)List[AddInterfaces.this.global.Type]">::</a> <span class="delimiter">(</span><a href="#884303" title="List[AddInterfaces.this.global.Type]">parents</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[AddInterfaces.this.global.Type]">tail</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: AddInterfaces.this.global.Type =&gt; AddInterfaces.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Type],AddInterfaces.this.global.Type,List[AddInterfaces.this.global.Type]])List[AddInterfaces.this.global.Type]">map</a> <a href="#513059" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">mixinToImplClass</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: AddInterfaces.this.global.Type =&gt; Boolean)List[AddInterfaces.this.global.Type]">filter</a> <span class="delimiter">(</span><a href="#884374" title="AddInterfaces.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; AddInterfaces.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507925" title="=&gt; AddInterfaces.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[AddInterfaces.this.global.Type])List[AddInterfaces.this.global.Type]">:::</a> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: AddInterfaces.this.global.Type*)List[AddInterfaces.this.global.Type]">List</a><span class="delimiter">(</span><a href="#884170" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; AddInterfaces.this.global.Type">tpe</a><span class="delimiter">)</span>,
            <a href="#884167" title="(implClass: AddInterfaces.this.global.Symbol, ifaceDecls: AddInterfaces.this.global.Scope)AddInterfaces.this.global.Scope">implDecls</a><span class="delimiter">(</span><a href="#884186" title="AddInterfaces.this.global.Symbol">sym</a>, <a href="#884304" title="AddInterfaces.this.global.Scope">decls</a><span class="delimiter">)</span>,
            <a href="#884186" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.Type">PolyType</span><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Symbol]" id="884401">tparams</a>, <a title="AddInterfaces.this.global.Type" id="884402">restpe</a><span class="delimiter">)</span> =&gt;
          <a href="#884298" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">implType</a><span class="delimiter">(</span><a href="#884402" title="AddInterfaces.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <a href="#884186" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: AddInterfaces.this.global.Type)sym.type">setInfo</a><span title="Unit" class="delimiter">(</span><a href="#884298" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">implType</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; AddInterfaces.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482536" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#884170" title="AddInterfaces.this.global.Symbol">iface</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; AddInterfaces.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(clazz: AddInterfaces.this.global.Symbol)Unit" id="884169">load</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884193">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#884168" title="(sym: AddInterfaces.this.global.Symbol)Unit">complete</a><span class="delimiter">(</span><a href="#884193" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** If type &lt;code&gt;tp&lt;/code&gt; refers to a non-interface trait, return a
   *  reference to its implementation class. Otherwise return &lt;code&gt;tp&lt;/code&gt;
   *  itself.
   *
   *  @param tp ...
   *  @return   ...
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" id="513059">mixinToImplClass</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="884338">tp</a>: <a href="../symtab/Types.scala.html#478720" title="AddInterfaces.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="AddInterfaces.this.global.Type">Type</a> =
    <a href="../../../Function1.scala.html#53453" title="(v1: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type">erasure</a><span class="delimiter">(</span>
      <a href="#884338" title="AddInterfaces.this.global.Type">tp</a> <span title="AddInterfaces.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span> <span class="comment">//@MATN: no normalize needed (comes after erasure)</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="884416">pre</a>, <a title="AddInterfaces.this.global.Symbol" id="884417">sym</a>, <a title="List[AddInterfaces.this.global.Type]" id="884418">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#884417" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509230" title="=&gt; Boolean">needsImplClass</a><span class="delimiter">)</span> =&gt;
          <a href="../symtab/Types.scala.html#478811" title="(pre: AddInterfaces.this.global.Type, sym: AddInterfaces.this.global.Symbol, args: List[AddInterfaces.this.global.Type])AddInterfaces.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#884416" title="AddInterfaces.this.global.Type">pre</a>, <a href="#513057" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#884417" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>, <a href="#884418" title="List[AddInterfaces.this.global.Type]">args</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.Type">_</span> =&gt;
          <a href="#884338" title="AddInterfaces.this.global.Type">tp</a>
      <span class="delimiter">}</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.Type" id="513060">transformMixinInfo</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="884422">tp</a>: <a href="../symtab/Types.scala.html#478720" title="AddInterfaces.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="AddInterfaces.this.global.Type">Type</a> = <a href="#884422" title="AddInterfaces.this.global.Type">tp</a> <span title="AddInterfaces.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="AddInterfaces.this.global.ClassInfoType">ClassInfoType</span><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Type]" id="884427">parents</a>, <a title="AddInterfaces.this.global.Scope" id="884428">decls</a>, <a title="AddInterfaces.this.global.Symbol" id="884429">clazz</a><span class="delimiter">)</span> =&gt;
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#884429" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509230" title="=&gt; Boolean">needsImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#884429" title="AddInterfaces.this.global.Symbol">clazz</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)clazz.type">setFlag</a> <a href="../symtab/Flags.scala.html#478433" title="=&gt; Long">lateINTERFACE</a>
        <a href="#513057" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#884429" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span> <span class="comment">// generate an impl class</span>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.Type]" id="884430">parents1</a> = <a href="#884427" title="List[AddInterfaces.this.global.Type]">parents</a> <span title="List[AddInterfaces.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../collection/immutable/List.scala.html#13700" title="scala.collection.immutable.Nil.type">Nil</a>      =&gt; <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
        <span class="keyword">case</span> <a title="List[AddInterfaces.this.global.Type]" id="884444">hd</a> :: <a title="List[AddInterfaces.this.global.Type]" id="884445">tl</a> =&gt;
          <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#884444" title="AddInterfaces.this.global.Type">hd</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; AddInterfaces.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a>, <a href="#884429" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span>
          <span title="List[AddInterfaces.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#884429" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#513047" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Type">erasedTypeRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507925" title="=&gt; AddInterfaces.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: AddInterfaces.this.global.Type)List[AddInterfaces.this.global.Type]">::</a> <a href="#884445" title="List[AddInterfaces.this.global.Type]">tl</a>
          <span class="keyword">else</span> <a href="#884427" title="List[AddInterfaces.this.global.Type]">parents</a>
      <span class="delimiter">}</span>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Scope" id="884431">decls1</a> = <a href="#884428" title="AddInterfaces.this.global.Scope">decls</a> <a href="../symtab/Scopes.scala.html#514377" title="(p: AddInterfaces.this.global.Symbol =&gt; Boolean)AddInterfaces.this.global.Scope">filter</a> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884467">sym</a> =&gt;
        <span title="Boolean" class="keyword">if</span> <span class="delimiter">(</span><a href="#884429" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435305" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <a href="#513054" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#884467" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#884467" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435370" title="=&gt; Boolean">isType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#884467" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="comment">//if (!clazz.isPackageClass) System.out.println(&quot;Decls of &quot;+clazz+&quot; after explicitOuter = &quot; + decls1);//DEBUG</span>
      <span class="comment">//if ((parents1 eq parents) &amp;&amp; (decls1 eq decls)) tp</span>
      <span class="comment">//else</span>
      <a href="../symtab/Types.scala.html#546740" title="(parents: List[AddInterfaces.this.global.Type], decls: AddInterfaces.this.global.Scope, typeSymbol: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#884430" title="List[AddInterfaces.this.global.Type]">parents1</a>, <a href="#884431" title="AddInterfaces.this.global.Scope">decls1</a>, <a href="#884429" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="AddInterfaces.this.global.Type">_</span> =&gt;
      <a href="#884422" title="AddInterfaces.this.global.Type">tp</a>
  <span class="delimiter">}</span>

<span class="comment">// Tree transformation --------------------------------------------------------------</span>

  <span class="keyword">private</span> <span class="keyword">class</span> <a title="class ChangeOwnerAndReturnTraverser extends AddInterfaces.this.global.ChangeOwnerTraverser with ScalaObject" id="513061">ChangeOwnerAndReturnTraverser</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="AddInterfaces.this.global.Symbol" id="884477">oldowner</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="AddInterfaces.this.global.Symbol" id="884478">newowner</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>
          <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#479179" title="AddInterfaces.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#884477" title="AddInterfaces.this.global.Symbol">oldowner</a>, <a href="#884478" title="AddInterfaces.this.global.Symbol">newowner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)Unit" id="884473">traverse</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="884481">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#884481" title="AddInterfaces.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Unit">Return</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="884496">expr</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#884481" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#884477" title="AddInterfaces.this.global.Symbol">oldowner</a><span class="delimiter">)</span> <a href="#884481" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: AddInterfaces.this.global.Symbol)Unit">symbol</a> = <a href="#884478" title="AddInterfaces.this.global.Symbol">newowner</a>
        <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
      <span class="delimiter">}</span>
      <a href="#513061" title="AddInterfaces.this.ChangeOwnerAndReturnTraverser" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560624" title="(tree: AddInterfaces.this.global.Tree)Unit">traverse</a><span class="delimiter">(</span><a href="#884481" title="AddInterfaces.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" id="513062">ifaceMemberDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="884508">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a> =
    <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#884508" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441036" title="=&gt; Boolean">isDef</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#513054" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#884508" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object AddInterfaces.this.global.EmptyTree">EmptyTree</a>
    <span class="keyword">else</span> <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#513055" title="(sym: AddInterfaces.this.global.Symbol)Boolean">needsImplMethod</a><span class="delimiter">(</span><a href="#884508" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#479132" title="(sym: AddInterfaces.this.global.Symbol, rhs: AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#884508" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a>, <a href="../../../reflect/generic/Trees.scala.html#434035" title="object AddInterfaces.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="#884508" title="AddInterfaces.this.global.Tree">tree</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template" id="513063">ifaceTemplate</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Template" id="883858">templ</a>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="AddInterfaces.this.global.Template">Template</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="AddInterfaces.this.global.Template">Template</a> =
    <a href="../ast/Trees.scala.html#479117" title="=&gt; AddInterfaces.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560290" title="(tree: AddInterfaces.this.global.Tree, parents: List[AddInterfaces.this.global.Tree], self: AddInterfaces.this.global.ValDef, body: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template">Template</a><span class="delimiter">(</span><a href="#883858" title="AddInterfaces.this.global.Template">templ</a>, <a href="#883858" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441748" title="=&gt; List[AddInterfaces.this.global.Tree]">parents</a>, <a href="../ast/Trees.scala.html#479127" title="object AddInterfaces.this.global.emptyValDef">emptyValDef</a>, <a href="#883858" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441752" title="=&gt; List[AddInterfaces.this.global.Tree]">body</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: AddInterfaces.this.global.Tree =&gt; AddInterfaces.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">map</a> <a href="#513062" title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">ifaceMemberDef</a><span class="delimiter">)</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree, ifaceMethod: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree" id="513064">implMethodDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="884584">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a>, <a title="AddInterfaces.this.global.Symbol" id="884585">ifaceMethod</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a> =
    <a href="#513051" title="=&gt; scala.collection.mutable.HashMap[AddInterfaces.this.global.Symbol,AddInterfaces.this.global.Symbol]">implMethodMap</a>.<a href="../../../collection/mutable/HashMap.scala.html#73158" title="(key: AddInterfaces.this.global.Symbol)Option[AddInterfaces.this.global.Symbol]">get</a><span class="delimiter">(</span><a href="#884585" title="AddInterfaces.this.global.Symbol">ifaceMethod</a><span class="delimiter">)</span> <span title="AddInterfaces.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="AddInterfaces.this.global.Tree">Some</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884591">implMethod</a><span class="delimiter">)</span> =&gt;
        <a href="#884584" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: AddInterfaces.this.global.Symbol)Unit">symbol</a> = <a href="#884591" title="AddInterfaces.this.global.Symbol">implMethod</a>
        <a href="../ast/Trees.scala.html#560435" title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" class="keyword">new</a> <a href="#513061" title="AddInterfaces.this.ChangeOwnerAndReturnTraverser">ChangeOwnerAndReturnTraverser</a><span class="delimiter">(</span><a href="#884585" title="AddInterfaces.this.global.Symbol">ifaceMethod</a>, <a href="#884591" title="AddInterfaces.this.global.Symbol">implMethod</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#884584" title="AddInterfaces.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="Nothing">None</a> =&gt;
        <a href="../symtab/SymbolTable.scala.html#478159" title="(msg: String)Nothing">abort</a><span class="delimiter">(</span><span title="java.lang.String(&quot;implMethod missing for &quot;)" class="string">&quot;implMethod missing for &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#884585" title="AddInterfaces.this.global.Symbol">ifaceMethod</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" id="513065">implMemberDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="884600">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a> =
    <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#884600" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441036" title="=&gt; Boolean">isDef</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#513054" title="(sym: AddInterfaces.this.global.Symbol)Boolean">isInterfaceMember</a><span class="delimiter">(</span><a href="#884600" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#884600" title="AddInterfaces.this.global.Tree">tree</a>
    <span class="keyword">else</span> <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#513055" title="(sym: AddInterfaces.this.global.Symbol)Boolean">needsImplMethod</a><span class="delimiter">(</span><a href="#884600" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#513064" title="(tree: AddInterfaces.this.global.Tree, ifaceMethod: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">implMethodDef</a><span class="delimiter">(</span><a href="#884600" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#884600" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object AddInterfaces.this.global.EmptyTree">EmptyTree</a>

  <span class="comment">/** Add mixin constructor definition
   *    def $init$(): Unit = ()
   *  to `stats' unless there is already one.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: AddInterfaces.this.global.Symbol, stats: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]" id="513066">addMixinConstructorDef</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884602">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="List[AddInterfaces.this.global.Tree]" id="884603">stats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
    <span title="List[AddInterfaces.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object AddInterfaces.this.global.treeInfo">treeInfo</a>.<a href="../ast/TreeInfo.scala.html#551041" title="(stats: List[AddInterfaces.this.global.treeInfo.trees.Tree])AddInterfaces.this.global.treeInfo.trees.Tree">firstConstructor</a><span class="delimiter">(</span><a href="#884603" title="List[AddInterfaces.this.global.Tree]">stats</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object AddInterfaces.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#884603" title="List[AddInterfaces.this.global.Tree]">stats</a>
    <span class="keyword">else</span> <a href="../ast/Trees.scala.html#479132" title="(sym: AddInterfaces.this.global.Symbol, rhs: AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#884602" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509305" title="=&gt; AddInterfaces.this.global.Symbol">primaryConstructor</a>, <a href="../../../reflect/generic/Trees.scala.html#443384" title="(stats: List[AddInterfaces.this.global.Tree], expr: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Block">Block</a><span class="delimiter">(</span>List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="../../../reflect/generic/Trees.scala.html#434144" title="(value: Any)AddInterfaces.this.global.Literal">Literal</a><span class="delimiter">(</span><span title="Unit" class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: AddInterfaces.this.global.Tree)List[AddInterfaces.this.global.Tree]">::</a> <a href="#884603" title="List[AddInterfaces.this.global.Tree]">stats</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: AddInterfaces.this.global.Symbol, templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template" id="513067">implTemplate</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884672">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a>, <a title="AddInterfaces.this.global.Template" id="884673">templ</a>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="AddInterfaces.this.global.Template">Template</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434067" title="AddInterfaces.this.global.Template">Template</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: AddInterfaces.this.global.Position)(tree: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template">atPos</a><span class="delimiter">(</span><a href="#884673" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; AddInterfaces.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="AddInterfaces.this.global.Template" id="884682">templ1</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: AddInterfaces.this.global.Position)(tree: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template">atPos</a><span class="delimiter">(</span><a href="#884673" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; AddInterfaces.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../reflect/generic/Trees.scala.html#443348" title="(parents: List[AddInterfaces.this.global.Tree], self: AddInterfaces.this.global.ValDef, body: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template">Template</a><span class="delimiter">(</span><a href="#884673" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441748" title="=&gt; List[AddInterfaces.this.global.Tree]">parents</a>, <a href="../ast/Trees.scala.html#479127" title="object AddInterfaces.this.global.emptyValDef">emptyValDef</a>,
               <a href="#513066" title="(clazz: AddInterfaces.this.global.Symbol, stats: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">addMixinConstructorDef</a><span class="delimiter">(</span><a href="#884672" title="AddInterfaces.this.global.Symbol">clazz</a>, <a href="#884673" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441752" title="=&gt; List[AddInterfaces.this.global.Tree]">body</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: AddInterfaces.this.global.Tree =&gt; AddInterfaces.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">map</a> <a href="#513065" title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">implMemberDef</a><span class="delimiter">)</span><span class="delimiter">)</span>
        .<a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Template">setSymbol</a><span class="delimiter">(</span><a href="#884672" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509129" title="(pos: AddInterfaces.this.global.Position)AddInterfaces.this.global.TermSymbol">newLocalDummy</a><span class="delimiter">(</span><a href="#884673" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; AddInterfaces.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <a href="../ast/Trees.scala.html#560435" title="(tree: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template" class="keyword">new</a> <a href="../ast/Trees.scala.html#479179" title="AddInterfaces.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#884673" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>, <a href="#884672" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">(</span>
      <a href="../ast/Trees.scala.html#560435" title="(tree: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template" class="keyword">new</a> <a href="../ast/Trees.scala.html#479179" title="AddInterfaces.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="#884673" title="AddInterfaces.this.global.Template">templ</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a>, <a href="#884682" title="AddInterfaces.this.global.Template">templ1</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#884682" title="AddInterfaces.this.global.Template">templ1</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(trees: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]" id="513068">implClassDefs</a><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Tree]" id="883813">trees</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <a href="#883813" title="List[AddInterfaces.this.global.Tree]">trees</a> <a href="../../../collection/TraversableLike.scala.html#49053" title="(pf: PartialFunction[AddInterfaces.this.global.Tree,AddInterfaces.this.global.ClassDef])(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Tree],AddInterfaces.this.global.ClassDef,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">collect</a> <a href="#884776" title="AddInterfaces.this.global.ClassDef" class="delimiter">{</a>
      <span class="keyword">case</span> <a title="AddInterfaces.this.global.ClassDef" id="884777">cd</a>: <a href="../../../reflect/generic/Trees.scala.html#434042" title="AddInterfaces.this.global.ClassDef">ClassDef</a> <span class="keyword">if</span> <a href="#884777" title="AddInterfaces.this.global.ClassDef">cd</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509230" title="=&gt; Boolean">needsImplClass</a> =&gt;
        <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="884778">clazz</a> = <a href="#513057" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#884777" title="AddInterfaces.this.global.ClassDef">cd</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; AddInterfaces.this.global.Symbol">initialize</a>
        <a href="../ast/Trees.scala.html#479122" title="(sym: AddInterfaces.this.global.Symbol, impl: AddInterfaces.this.global.Template)AddInterfaces.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#884778" title="AddInterfaces.this.global.Symbol">clazz</a>, <a href="#513067" title="(clazz: AddInterfaces.this.global.Symbol, templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template">implTemplate</a><span class="delimiter">(</span><a href="#884778" title="AddInterfaces.this.global.Symbol">clazz</a>, <a href="#884777" title="AddInterfaces.this.global.ClassDef">cd</a>.<a href="../../../reflect/generic/Trees.scala.html#441727" title="=&gt; AddInterfaces.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Add calls to supermixin constructors
   *  &lt;blockquote&gt;&lt;pre&gt;super[mix].$init$()&lt;/pre&gt;&lt;/blockquote&gt;
   *  to &lt;code&gt;tree&lt;/code&gt;. &lt;code&gt;tree&lt;/code&gt; which is assumed to be the body
   *  of a constructor of class &lt;code&gt;clazz&lt;/code&gt;.
   */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree, clazz: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree" id="513069">addMixinConstructorCalls</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="883900">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a>, <a title="AddInterfaces.this.global.Symbol" id="883901">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(impl: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree" id="884820">mixinConstructorCall</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884822">impl</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: AddInterfaces.this.global.Position)(tree: AddInterfaces.this.global.Apply)AddInterfaces.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#883900" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; AddInterfaces.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: AddInterfaces.this.global.Tree, args: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: AddInterfaces.this.global.Tree, sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479142" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">This</a><span class="delimiter">(</span><a href="#883901" title="AddInterfaces.this.global.Symbol">clazz</a><span class="delimiter">)</span>, <a href="#884822" title="AddInterfaces.this.global.Symbol">impl</a>.<a href="../symtab/Symbols.scala.html#509305" title="=&gt; AddInterfaces.this.global.Symbol">primaryConstructor</a><span class="delimiter">)</span>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.Tree]" id="884821">mixinConstructorCalls</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Symbol" id="884894">mc</a> &lt;- <a href="#883901" title="AddInterfaces.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509320" title="=&gt; List[AddInterfaces.this.global.Symbol]">mixinClasses</a>.<a href="../../../collection/generic/FilterMonadic.scala.html#53486" title="(f: AddInterfaces.this.global.Symbol =&gt; AddInterfaces.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Symbol],AddInterfaces.this.global.Tree,List[AddInterfaces.this.global.Tree]])List[AddInterfaces.this.global.Tree]">reverse</a>
           <span class="keyword">if</span> <a href="#884894" title="AddInterfaces.this.global.Symbol">mc</a>.<a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a><span class="delimiter">(</span><a href="../symtab/Flags.scala.html#478433" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#884894" title="AddInterfaces.this.global.Symbol">mc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507999" title="=&gt; AddInterfaces.this.global.Symbol">ScalaObjectClass</a><span class="delimiter">)</span>
      <span class="keyword">yield</span> <a href="#884820" title="(impl: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">mixinConstructorCall</a><span class="delimiter">(</span><a href="#513057" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#884894" title="AddInterfaces.this.global.Symbol">mc</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="delimiter">(</span><a href="#883900" title="AddInterfaces.this.global.Tree">tree</a>: @<a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree @unchecked">unchecked</a><span class="delimiter">)</span> <span title="AddInterfaces.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="AddInterfaces.this.global.Block">Block</span><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Tree]" id="884926">stats</a>, <a title="AddInterfaces.this.global.Tree" id="884927">expr</a><span class="delimiter">)</span> =&gt;
        <span class="comment">// needs `hasSymbol' check because `supercall' could be a block (named / default args)</span>
        <span class="keyword">val</span> <a href="../../../Tuple3.scala.html#53296" title="(List[AddInterfaces.this.global.Tree], AddInterfaces.this.global.Tree, List[AddInterfaces.this.global.Tree])" class="delimiter">(</a><a href="../../../Tuple3.scala.html#53312" title="List[AddInterfaces.this.global.Tree]" id="884929">presuper</a>, <a href="../../../Tuple3.scala.html#53314" title="AddInterfaces.this.global.Tree" id="884930">supercall</a> :: <a href="../../../Tuple3.scala.html#53316" title="List[AddInterfaces.this.global.Tree]" id="884931">rest</a><span class="delimiter">)</span> = <a href="#884926" title="List[AddInterfaces.this.global.Tree]">stats</a> <a href="../../../collection/immutable/List.scala.html#49170" title="(p: AddInterfaces.this.global.Tree =&gt; Boolean)(List[AddInterfaces.this.global.Tree], List[AddInterfaces.this.global.Tree])">span</a> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="884937">t</a> =&gt; <a href="#884937" title="AddInterfaces.this.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441038" title="(f: AddInterfaces.this.global.Symbol =&gt; Boolean)Boolean">hasSymbolWhich</a><span class="delimiter">(</span><a href="#884940" title="AddInterfaces.this.global.Symbol">_</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span title="Long(137438953472L)">PRESUPER</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="comment">//assert(supercall.symbol.isClassConstructor, supercall)</span>
        <a href="../ast/Trees.scala.html#479117" title="=&gt; AddInterfaces.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560291" title="(tree: AddInterfaces.this.global.Tree, stats: List[AddInterfaces.this.global.Tree], expr: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Block">Block</a><span class="delimiter">(</span><a href="#883900" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#884929" title="List[AddInterfaces.this.global.Tree]">presuper</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">:::</a> <span class="delimiter">(</span><a href="#884930" title="AddInterfaces.this.global.Tree">supercall</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: AddInterfaces.this.global.Tree)List[AddInterfaces.this.global.Tree]">::</a> <a href="#884821" title="List[AddInterfaces.this.global.Tree]">mixinConstructorCalls</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">:::</a> <a href="#884931" title="List[AddInterfaces.this.global.Tree]">rest</a><span class="delimiter">)</span>, <a href="#884927" title="AddInterfaces.this.global.Tree">expr</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="AddInterfaces.this.global.Transformer" id="513070">mixinTransformer</a> = <a href="#883799" title="AddInterfaces.this.global.Transformer" class="keyword">new</a> <a href="../ast/Trees.scala.html#479167" title="anonymous class $anon extends AddInterfaces.this.global.Transformer" id="883799">Transformer</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(stats: List[AddInterfaces.this.global.Tree], exprOwner: AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]" id="883801">transformStats</a><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Tree]" id="883803">stats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="AddInterfaces.this.global.Symbol" id="883804">exprOwner</a>: <a href="../symtab/Symbols.scala.html#478659" title="AddInterfaces.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[AddInterfaces.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
      <span class="delimiter">(</span><a href="#883799" title="AddInterfaces.this.global.Transformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560348" title="(stats: List[AddInterfaces.this.global.Tree], exprOwner: AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#883803" title="List[AddInterfaces.this.global.Tree]">stats</a>, <a href="#883804" title="AddInterfaces.this.global.Symbol">exprOwner</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">:::</a>
       <a href="#883799" title="AddInterfaces.this.global.Transformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560348" title="(stats: List[AddInterfaces.this.global.Tree], exprOwner: AddInterfaces.this.global.Symbol)List[AddInterfaces.this.global.Tree]">transformStats</a><span class="delimiter">(</span><a href="#513068" title="(trees: List[AddInterfaces.this.global.Tree])List[AddInterfaces.this.global.Tree]">implClassDefs</a><span class="delimiter">(</span><a href="#883803" title="List[AddInterfaces.this.global.Tree]">stats</a><span class="delimiter">)</span>, <a href="#883804" title="AddInterfaces.this.global.Symbol">exprOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree" id="883802">transform</a><span class="delimiter">(</span><a title="AddInterfaces.this.global.Tree" id="883807">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="AddInterfaces.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="883829">sym</a> = <a href="#883807" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; AddInterfaces.this.global.Symbol">symbol</a>
      <span class="keyword">val</span> <a title="AddInterfaces.this.global.Tree" id="883830">tree1</a> = <a href="#883807" title="AddInterfaces.this.global.Tree">tree</a> <span title="AddInterfaces.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.ClassDef">ClassDef</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Modifiers" id="883845">mods</a>, <a title="AddInterfaces.this.global.TypeName" id="883846">name</a>, <a title="List[AddInterfaces.this.global.TypeDef]" id="883847">tparams</a>, <a title="AddInterfaces.this.global.Template" id="883848">impl</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#883829" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509230" title="=&gt; Boolean">needsImplClass</a><span class="delimiter">)</span> =&gt;
          <a href="#513057" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#883829" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; AddInterfaces.this.global.Symbol">initialize</a> <span class="comment">// to force lateDEFERRED flags</span>
          <a href="../ast/Trees.scala.html#560331" title="=&gt; AddInterfaces.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560232" title="(tree: AddInterfaces.this.global.Tree, mods: AddInterfaces.this.global.Modifiers, name: AddInterfaces.this.global.Name, tparams: List[AddInterfaces.this.global.TypeDef], impl: AddInterfaces.this.global.Template)AddInterfaces.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#883807" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#883845" title="AddInterfaces.this.global.Modifiers">mods</a> <a href="../../../reflect/generic/Trees.scala.html#440989" title="(flag: Long)AddInterfaces.this.global.Modifiers">|</a> <span title="Long(128L)">INTERFACE</span>, <a href="#883846" title="AddInterfaces.this.global.TypeName">name</a>, <a href="#883847" title="List[AddInterfaces.this.global.TypeDef]">tparams</a>, <a href="#513063" title="(templ: AddInterfaces.this.global.Template)AddInterfaces.this.global.Template">ifaceTemplate</a><span class="delimiter">(</span><a href="#883848" title="AddInterfaces.this.global.Template">impl</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="AddInterfaces.this.global.Modifiers" id="883882">mods</a>, <a title="AddInterfaces.this.global.TermName" id="883883">name</a>, <a title="List[AddInterfaces.this.global.TypeDef]" id="883884">tparams</a>, <a title="List[List[AddInterfaces.this.global.ValDef]]" id="883885">vparamss</a>, <a title="AddInterfaces.this.global.Tree" id="883886">tpt</a>, <a title="AddInterfaces.this.global.Tree" id="883887">rhs</a><span class="delimiter">)</span>
        <span class="keyword">if</span> <span class="delimiter">(</span><a href="#883829" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509178" title="=&gt; Boolean">isClassConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#883829" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509227" title="=&gt; Boolean">isPrimaryConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#883829" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; AddInterfaces.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> =&gt;
          <a href="../ast/Trees.scala.html#560331" title="=&gt; AddInterfaces.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560236" title="(tree: AddInterfaces.this.global.Tree, mods: AddInterfaces.this.global.Modifiers, name: AddInterfaces.this.global.Name, tparams: List[AddInterfaces.this.global.TypeDef], vparamss: List[List[AddInterfaces.this.global.ValDef]], tpt: AddInterfaces.this.global.Tree, rhs: AddInterfaces.this.global.Tree)AddInterfaces.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#883807" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#883882" title="AddInterfaces.this.global.Modifiers">mods</a>, <a href="#883883" title="AddInterfaces.this.global.TermName">name</a>, <a href="#883884" title="List[AddInterfaces.this.global.TypeDef]">tparams</a>, <a href="#883885" title="List[List[AddInterfaces.this.global.ValDef]]">vparamss</a>, <a href="#883886" title="AddInterfaces.this.global.Tree">tpt</a>,
                      <a href="#513069" title="(tree: AddInterfaces.this.global.Tree, clazz: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">addMixinConstructorCalls</a><span class="delimiter">(</span><a href="#883887" title="AddInterfaces.this.global.Tree">rhs</a>, <a href="#883829" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// (3)</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.Template">Template</span><span class="delimiter">(</span><a title="List[AddInterfaces.this.global.Tree]" id="883915">parents</a>, <a title="AddInterfaces.this.global.ValDef" id="883916">self</a>, <a title="List[AddInterfaces.this.global.Tree]" id="883917">body</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="List[AddInterfaces.this.global.TypeTree]" id="883918">parents1</a> = <a href="#883829" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; AddInterfaces.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[AddInterfaces.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: AddInterfaces.this.global.Type =&gt; AddInterfaces.this.global.TypeTree)(implicit bf: scala.collection.generic.CanBuildFrom[List[AddInterfaces.this.global.Type],AddInterfaces.this.global.TypeTree,List[AddInterfaces.this.global.TypeTree]])List[AddInterfaces.this.global.TypeTree]">map</a> <span class="delimiter">(</span><a title="AddInterfaces.this.global.Type" id="883943">t</a> =&gt; <a href="../ast/Trees.scala.html#479149" title="(tp: AddInterfaces.this.global.Type)AddInterfaces.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#883943" title="AddInterfaces.this.global.Type">t</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)AddInterfaces.this.global.TypeTree">setPos</a> <a href="#883807" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; AddInterfaces.this.global.Position">pos</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#560331" title="=&gt; AddInterfaces.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560241" title="(tree: AddInterfaces.this.global.Tree, parents: List[AddInterfaces.this.global.Tree], self: AddInterfaces.this.global.ValDef, body: List[AddInterfaces.this.global.Tree])AddInterfaces.this.global.Template">Template</a><span class="delimiter">(</span><a href="#883807" title="AddInterfaces.this.global.Tree">tree</a>, <a href="#883918" title="List[AddInterfaces.this.global.TypeTree]">parents1</a>, <a href="../ast/Trees.scala.html#479127" title="object AddInterfaces.this.global.emptyValDef">emptyValDef</a>, <a href="#883917" title="List[AddInterfaces.this.global.Tree]">body</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.Tree">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#883829" title="AddInterfaces.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509230" title="=&gt; Boolean">needsImplClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="AddInterfaces.this.global.Symbol" id="883991">impl</a> = <a href="#513057" title="(iface: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Symbol">implClass</a><span class="delimiter">(</span><a href="#883829" title="AddInterfaces.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span class="keyword">var</span> <a title="AddInterfaces.this.global.Symbol" id="883992">owner</a> = <a href="../ast/Trees.scala.html#560333" title="=&gt; AddInterfaces.this.global.Symbol">currentOwner</a>
            <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#883992" title="AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#883829" title="AddInterfaces.this.global.Symbol">sym</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#883992" title="AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#883991" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> <a href="#883992" title="AddInterfaces.this.global.Symbol">owner</a> = <a href="#883992" title="AddInterfaces.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; AddInterfaces.this.global.Symbol">owner</a>;
            <span title="AddInterfaces.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#883992" title="AddInterfaces.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#883991" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#479142" title="(sym: AddInterfaces.this.global.Symbol)AddInterfaces.this.global.Tree">This</a><span class="delimiter">(</span><a href="#883991" title="AddInterfaces.this.global.Symbol">impl</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)AddInterfaces.this.global.Tree">setPos</a> <a href="#883807" title="AddInterfaces.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; AddInterfaces.this.global.Position">pos</a>
            <span class="keyword">else</span> <a href="#883807" title="AddInterfaces.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#883807" title="AddInterfaces.this.global.Tree">tree</a>
<span class="comment">/* !!!
        case Super(qual, mix) =&gt;
          val mix1 = mix
            if (mix == tpnme.EMPTY) mix
            else {
              val ps = atPhase(currentRun.erasurePhase) {
                sym.info.parents dropWhile (p =&gt; p.symbol.name != mix)
              }
              assert(!ps.isEmpty, tree);
              if (ps.head.symbol.needsImplClass) implClass(ps.head.symbol).name
              else mix
            }
          if (sym.needsImplClass) Super(implClass(sym), mix1) setPos tree.pos
          else treeCopy.Super(tree, qual, mix1)
*/</span>
        <span class="keyword">case</span> <span title="AddInterfaces.this.global.Tree">_</span> =&gt;
          <a href="#883807" title="AddInterfaces.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
      <a href="#883799" title="AddInterfaces.this.global.Transformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560339" title="(tree: AddInterfaces.this.global.Tree)AddInterfaces.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#883830" title="AddInterfaces.this.global.Tree">tree1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>
<span class="comment">/*
    val ensureNoEscapes = new TypeTraverser {
      def ensureNoEscape(sym: Symbol) {
        if (sym.hasFlag(PRIVATE)) {
          var o = currentOwner;
          while (o != NoSymbol &amp;&amp; o != sym.owner &amp;&amp; !o.isLocal &amp;&amp; !o.hasFlag(PRIVATE))
          o = o.owner
          if (o == sym.owner) sym.makeNotPrivate(base);
        }
      }
      def traverse(t: Type): TypeTraverser = {
        t match {
          case TypeRef(qual, sym, args) =&gt;
            ensureNoEscape(sym)
            mapOver(t)
          case ClassInfoType(parents, decls, clazz) =&gt;
            parents foreach { p =&gt; traverse; () }
            traverse(t.typeOfThis)
          case _ =&gt;
            mapOver(t)
        }
        this
      }
    }

*/</span>

        </pre>
    </body>
</html>