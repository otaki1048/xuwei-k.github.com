<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/ExplicitOuter.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a>.<span class="delimiter">{</span> CASE =&gt; _, _ <span class="delimiter">}</span>
<span class="keyword">import</span> scala.collection.mutable.ListBuffer
<span class="keyword">import</span> matching.<span class="delimiter">{</span> Patterns, ParallelMatching <span class="delimiter">}</span>

<span class="comment">/** This class ...
 *
 *  @author  Martin Odersky
 *  @version 1.0
 */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class ExplicitOuter extends scala.tools.nsc.SubComponent with scala.tools.nsc.transform.InfoTransform with scala.tools.nsc.matching.Patterns with scala.tools.nsc.matching.ParallelMatching with scala.tools.nsc.transform.TypingTransformers with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="38914">ExplicitOuter</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="InfoTransform.scala.html#39277" title="scala.tools.nsc.transform.InfoTransform">InfoTransform</a>
      <span class="keyword">with</span> <a href="../matching/Patterns.scala.html#34198" title="scala.tools.nsc.matching.Patterns">Patterns</a>
      <span class="keyword">with</span> <a href="../matching/ParallelMatching.scala.html#34645" title="scala.tools.nsc.matching.ParallelMatching">ParallelMatching</a>
      <span class="keyword">with</span> <a href="TypingTransformers.scala.html#39067" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a>
      <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#23679" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a>
<span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#511838" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#479030" title="object ExplicitOuter.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#507542" title="object ExplicitOuter.this.CODE">CODE</a>._
  <span class="keyword">import</span> <a href="../matching/MatchSupport.scala.html#512286" title="object ExplicitOuter.this.Debug">Debug</a>.TRACE

  <span class="comment">/** The following flags may be set by this phase: */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Long" id="512139">phaseNewFlags</a>: <a href="../../../Long.scala.html#1439" title="Long">Long</a> = <a href="../symtab/Flags.scala.html#478443" title="=&gt; Long">notPRIVATE</a> <a href="../../../Long.scala.html#55155" title="(x: Long)Long">|</a> <a href="../symtab/Flags.scala.html#478447" title="=&gt; Long">notPROTECTED</a> <a href="../../../Long.scala.html#55155" title="(x: Long)Long">|</a> <a href="../symtab/Flags.scala.html#478437" title="=&gt; Long">lateFINAL</a>

  <span class="comment">/** the name of the phase: */</span>
  <span class="keyword">val</span> <a title="String" id="512140">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;explicitouter&quot;)" class="string">&quot;explicitouter&quot;</span>

  <span class="comment">/** This class does not change linearization */</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="512142">changesBaseClasses</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(unit: ExplicitOuter.this.global.CompilationUnit)ExplicitOuter.this.global.Transformer" id="512143">newTransformer</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.CompilationUnit" id="895042">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#479167" title="ExplicitOuter.this.global.Transformer">Transformer</a> =
    <span title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">new</span> <a href="#512153" title="ExplicitOuter.this.ExplicitOuterTransformer">ExplicitOuterTransformer</a><span class="delimiter">(</span><a href="#895042" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="comment">/** Is given clazz an inner class? */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)Boolean" id="512144">isInner</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="895067">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
    <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#895067" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#895067" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509314" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../symtab/Symbols.scala.html#509236" title="=&gt; Boolean">isStaticOwner</a>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(parent: ExplicitOuter.this.global.Type, clazz: ExplicitOuter.this.global.Symbol)Boolean" id="512145">haveSameOuter</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="895070">parent</a>: <a href="../symtab/Types.scala.html#478720" title="ExplicitOuter.this.global.Type">Type</a>, <a title="ExplicitOuter.this.global.Symbol" id="895071">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#895070" title="ExplicitOuter.this.global.Type">parent</a> <span title="Boolean" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Boolean">TypeRef</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="895077">pre</a>, <a title="ExplicitOuter.this.global.Symbol" id="895078">sym</a>, _<span class="delimiter">)</span>   =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="895079">owner</a> = <a href="#895071" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>

      <a href="#895078" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#895079" title="ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#895079" title="ExplicitOuter.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#895078" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#895079" title="ExplicitOuter.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../symtab/Types.scala.html#507225" title="(that: ExplicitOuter.this.global.Type)Boolean">=:=</a> <a href="#895077" title="ExplicitOuter.this.global.Type">pre</a>
    <span class="keyword">case</span> <span title="Boolean(false)">_</span>                      =&gt; <span title="Boolean(false)" class="keyword">false</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Does given clazz define an outer field? */</span>
  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)Boolean" id="512146">hasOuterField</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="895085">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.Type]" id="895088">parents</a> = <a href="#895085" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[ExplicitOuter.this.global.Type]">parents</a>

    <a href="#512144" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#895085" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#895085" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">{</span>
      <a href="#895088" title="List[ExplicitOuter.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#512145" title="(parent: ExplicitOuter.this.global.Type, clazz: ExplicitOuter.this.global.Symbol)Boolean">haveSameOuter</a><span class="delimiter">(</span><a href="#895088" title="List[ExplicitOuter.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; ExplicitOuter.this.global.Type">head</a>, <a href="#895085" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol" id="512147">outerField</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="895089">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="895091">result</a> = <a href="#895089" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507200" title="(name: ExplicitOuter.this.global.Name)ExplicitOuter.this.global.Symbol">member</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516558" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER_LOCAL</a><span class="delimiter">)</span>
    <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#895091" title="ExplicitOuter.this.global.Symbol">result</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a>, <span title="java.lang.String(&quot;no outer field in &quot;)" class="string">&quot;no outer field in &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#895089" title="ExplicitOuter.this.global.Symbol">clazz</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; at &quot;)" class="string">&quot; at &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a><span class="delimiter">)</span>

    <a href="#895091" title="ExplicitOuter.this.global.Symbol">result</a>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class RemoveBindingsTransformer extends ExplicitOuter.this.global.Transformer with ScalaObject" id="512148">RemoveBindingsTransformer</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Set[ExplicitOuter.this.global.Symbol]" id="895115">toRemove</a>: <a href="../../../collection/immutable/Set.scala.html#13576" title="Set[ExplicitOuter.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#479167" title="ExplicitOuter.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="895112">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="895116">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a><span class="delimiter">)</span> = <a href="#895116" title="ExplicitOuter.this.global.Tree">tree</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Bind</span><span class="delimiter">(</span>_, <a title="ExplicitOuter.this.global.Tree" id="895126">body</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: ExplicitOuter.this.global.Symbol)Boolean">toRemove</a><span class="delimiter">(</span><a href="#895116" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
        <a href="../matching/MatchSupport.scala.html#792509" title="(f: String, xs: Any*)Unit">TRACE</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Dropping unused binding: &quot;)" class="string">&quot;Dropping unused binding: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#895116" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a><span class="delimiter">)</span>
        <a href="#512148" title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560339" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#895126" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span>                                      =&gt; <a href="#512148" title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560339" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#895116" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** Issue a migration warning for instance checks which might be on an Array and
   *  for which the type parameter conforms to Seq, because these answers changed in 2.8.
   */</span>
  <span class="keyword">def</span> <a title="(lhs: ExplicitOuter.this.global.Type, rhs: ExplicitOuter.this.global.Type)Boolean" id="512149">isArraySeqTest</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="895144">lhs</a>: <a href="../symtab/Types.scala.html#478720" title="ExplicitOuter.this.global.Type">Type</a>, <a title="ExplicitOuter.this.global.Type" id="895145">rhs</a>: <a href="../symtab/Types.scala.html#478720" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span> =
    <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508099" title="=&gt; ExplicitOuter.this.global.Symbol">ArrayClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: ExplicitOuter.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#895144" title="ExplicitOuter.this.global.Type">lhs</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; ExplicitOuter.this.global.Type">widen</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#895145" title="ExplicitOuter.this.global.Type">rhs</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; ExplicitOuter.this.global.Type">widen</a> <a href="../symtab/Types.scala.html#507222" title="(that: ExplicitOuter.this.global.Type)Boolean">matchesPattern</a> <a href="../symtab/Definitions.scala.html#508082" title="=&gt; ExplicitOuter.this.global.Symbol">SeqClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol" id="512150">outerAccessor</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="803192">clazz</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="895150">firstTry</a> = <a href="#803192" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507193" title="(name: ExplicitOuter.this.global.Name)ExplicitOuter.this.global.Symbol">decl</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../../../reflect/generic/StdNames.scala.html#440111" title="(name: ExplicitOuter.this.global.TermName, base: ExplicitOuter.this.global.Symbol, separator: String)ExplicitOuter.this.global.TermName">expandedName</a><span class="delimiter">(</span><a href="../symtab/StdNames.scala.html#479055" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516556" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#803192" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span title="ExplicitOuter.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#895150" title="ExplicitOuter.this.global.Symbol">firstTry</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#895150" title="ExplicitOuter.this.global.Symbol">firstTry</a>.<a href="../symtab/Symbols.scala.html#509318" title="=&gt; ExplicitOuter.this.global.Symbol">outerSource</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#803192" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="#895150" title="ExplicitOuter.this.global.Symbol">firstTry</a>
    <span class="keyword">else</span> <a href="#803192" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; ExplicitOuter.this.global.Scope">decls</a> <a href="../../../collection/IterableLike.scala.html#53861" title="(p: ExplicitOuter.this.global.Symbol =&gt; Boolean)Option[ExplicitOuter.this.global.Symbol]">find</a> <span class="delimiter">(</span><a href="#895178" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509318" title="=&gt; ExplicitOuter.this.global.Symbol">outerSource</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#803192" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Option.scala.html#48474" title="(default: =&gt; ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">getOrElse</a> <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a>
   <span class="delimiter">}</span>

  <span class="comment">/** &lt;p&gt;
   *    The type transformation method:
   *  &lt;/p&gt;
   *  &lt;ol&gt;
   *    &lt;li&gt;
   *      Add an outer parameter to the formal parameters of a constructor
   *      in a inner non-trait class;
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Add a protected $outer field to an inner class which is
   *      not a trait.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      &lt;p&gt;
   *        Add an outer accessor $outer$$C to every inner class
   *        with fully qualified name C that is not an interface.
   *        The outer accessor is abstract for traits, concrete for other
   *        classes.
   *      &lt;/p&gt;
   *      &lt;p&gt;
   *        3a. Also add overriding accessor defs to every class that inherits
   *        mixin classes with outer accessor defs (unless the superclass
   *        already inherits the same mixin).
   *      &lt;/p&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Make all super accessors and modules in traits non-private, mangling
   *      their names.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      Remove protected flag from all members of traits.
   *    &lt;/li&gt;
   *  &lt;/ol&gt;
   */</span>
  <span class="keyword">def</span> <a title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type" id="512151">transformInfo</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="895189">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a>, <a title="ExplicitOuter.this.global.Type" id="895190">tp</a>: <a href="../symtab/Types.scala.html#478720" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="ExplicitOuter.this.global.Type">Type</a> = <a href="#895190" title="ExplicitOuter.this.global.Type">tp</a> <span title="ExplicitOuter.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">MethodType</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Symbol]" id="895196">params</a>, <a title="ExplicitOuter.this.global.Type" id="895197">restpe1</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="895198">restpe</a> = <a href="#512151" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>, <a href="#895197" title="ExplicitOuter.this.global.Type">restpe1</a><span class="delimiter">)</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <span class="delimiter">(</span>ACCESSOR <span title="Long(402653184L)">|</span> SUPERACCESSOR<span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// 5</span>
        <a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509349" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435303" title="=&gt; Boolean">isProtected</a><span class="delimiter">)</span> <a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)sym.type">setFlag</a> <a href="../symtab/Flags.scala.html#478447" title="=&gt; Long">notPROTECTED</a> <span class="comment">// 6</span>
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509178" title="=&gt; Boolean">isClassConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#512144" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// 1</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermSymbol" id="895214">p</a> = <a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509128" title="(pos: ExplicitOuter.this.global.Position, name: ExplicitOuter.this.global.TermName)ExplicitOuter.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <span title="java.lang.String(&quot;arg&quot;)" class="string">&quot;arg&quot;</span> <a href="../../../reflect/generic/StdNames.scala.html#434009" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)ExplicitOuter.this.global.TermName">+</a> <a href="../symtab/StdNames.scala.html#479055" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516556" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a><span class="delimiter">)</span>
                   .<a href="../symtab/Symbols.scala.html#509274" title="(info: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.TermSymbol">setInfo</a><span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509314" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; ExplicitOuter.this.global.Type">thisType</a><span class="delimiter">)</span>
        <a href="../symtab/Types.scala.html#546837" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#895214" title="ExplicitOuter.this.global.TermSymbol">p</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: ExplicitOuter.this.global.Symbol)List[ExplicitOuter.this.global.Symbol]">::</a> <a href="#895196" title="List[ExplicitOuter.this.global.Symbol]">params</a>, <a href="#895198" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#895198" title="ExplicitOuter.this.global.Type">restpe</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#895197" title="ExplicitOuter.this.global.Type">restpe1</a><span class="delimiter">)</span>
        <a href="../symtab/Types.scala.html#546837" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#895196" title="List[ExplicitOuter.this.global.Symbol]">params</a>, <a href="#895198" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#895190" title="ExplicitOuter.this.global.Type">tp</a>
    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">ClassInfoType</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Type]" id="895233">parents</a>, <a title="ExplicitOuter.this.global.Scope" id="895234">decls</a>, <a title="ExplicitOuter.this.global.Symbol" id="895235">clazz</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Scope" id="895236">decls1</a> = <a href="#895234" title="ExplicitOuter.this.global.Scope">decls</a>
      <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#512144" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435305" title="=&gt; Boolean">isInterface</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#895236" title="ExplicitOuter.this.global.Scope">decls1</a> = <a href="#895234" title="ExplicitOuter.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#514355" title="=&gt; ExplicitOuter.this.global.Scope">cloneScope</a>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodSymbol" id="895237">outerAcc</a> = <a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509130" title="(pos: ExplicitOuter.this.global.Position, name: ExplicitOuter.this.global.TermName)ExplicitOuter.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <a href="../symtab/StdNames.scala.html#479055" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516556" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a><span class="delimiter">)</span> <span class="comment">// 3</span>
        <a href="#895237" title="ExplicitOuter.this.global.MethodSymbol">outerAcc</a> <a href="../symtab/Symbols.scala.html#509350" title="(base: ExplicitOuter.this.global.Symbol)Unit">expandName</a> <a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>

        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="895238">restpe</a> = <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509314" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509314" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>
        <a href="#895236" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">enter</a> <span class="delimiter">(</span><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509141" title="(pos: ExplicitOuter.this.global.Position)ExplicitOuter.this.global.MethodSymbol">newOuterAccessor</a><span class="delimiter">(</span><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509274" title="(info: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodSymbol">setInfo</a> <a href="../symtab/Types.scala.html#546837" title="(params: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a href="#895238" title="ExplicitOuter.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#512146" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">hasOuterField</a><span class="delimiter">(</span><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">//2</span>
          <span class="keyword">val</span> <a title="Int" id="895262">access</a> = <span title="Int" class="keyword">if</span> <span class="delimiter">(</span><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435297" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span> PRIVATE <span title="Int(524292)">|</span> LOCAL <span class="keyword">else</span> <span title="Int(1)">PROTECTED</span>
          <a href="#895236" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">enter</a> <span class="delimiter">(</span>
            <a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509125" title="(pos: ExplicitOuter.this.global.Position, name: ExplicitOuter.this.global.TermName)ExplicitOuter.this.global.TermSymbol">newValue</a><span class="delimiter">(</span><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <a href="../symtab/StdNames.scala.html#479055" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516558" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER_LOCAL</a><span class="delimiter">)</span>
            <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)ExplicitOuter.this.global.TermSymbol">setFlag</a> <span class="delimiter">(</span>SYNTHETIC <span title="Int(538968064)">|</span> PARAMACCESSOR <a href="../../../Int.scala.html#54731" title="=&gt; Long">|</a> <a href="#895262" title="Int">access</a><span class="delimiter">)</span>
            <a href="../symtab/Symbols.scala.html#509274" title="(info: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.TermSymbol">setInfo</a> <a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509314" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>
          <span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#895233" title="List[ExplicitOuter.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="895330">mc</a> &lt;- <a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ExplicitOuter.this.global.Symbol =&gt; Any)Unit">mixinClasses</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="895331">mixinOuterAcc</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#512150" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#895330" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#895331" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#895236" title="ExplicitOuter.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#895234" title="ExplicitOuter.this.global.Scope">decls</a><span class="delimiter">)</span> <a href="#895236" title="ExplicitOuter.this.global.Scope">decls1</a> = <a href="#895234" title="ExplicitOuter.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#514355" title="=&gt; ExplicitOuter.this.global.Scope">cloneScope</a>
            <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="895342">newAcc</a> = <a href="#895331" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a>.<a href="../symtab/Symbols.scala.html#509303" title="(owner: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">cloneSymbol</a><span class="delimiter">(</span><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
            <a href="#895342" title="ExplicitOuter.this.global.Symbol">newAcc</a> <a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)newAcc.type">resetFlag</a> <span title="Long(16L)">DEFERRED</span> <a href="../symtab/Symbols.scala.html#509274" title="(info: ExplicitOuter.this.global.Type)newAcc.type">setInfo</a> <span class="delimiter">(</span><a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../symtab/Types.scala.html#507207" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Type">memberType</a> <a href="#895331" title="ExplicitOuter.this.global.Symbol">mixinOuterAcc</a><span class="delimiter">)</span>
            <a href="#895236" title="ExplicitOuter.this.global.Scope">decls1</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">enter</a> <a href="#895342" title="ExplicitOuter.this.global.Symbol">newAcc</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#895236" title="ExplicitOuter.this.global.Scope">decls1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#895234" title="ExplicitOuter.this.global.Scope">decls</a><span class="delimiter">)</span> <a href="#895190" title="ExplicitOuter.this.global.Type">tp</a> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#546740" title="(parents: List[ExplicitOuter.this.global.Type], decls: ExplicitOuter.this.global.Scope, typeSymbol: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span><a href="#895233" title="List[ExplicitOuter.this.global.Type]">parents</a>, <a href="#895236" title="ExplicitOuter.this.global.Scope">decls1</a>, <a href="#895235" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">PolyType</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Symbol]" id="895372">tparams</a>, <a title="ExplicitOuter.this.global.Type" id="895373">restp</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Type" id="895374">restp1</a> = <a href="#512151" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>, <a href="#895373" title="ExplicitOuter.this.global.Type">restp</a><span class="delimiter">)</span>
      <span title="ExplicitOuter.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#895373" title="ExplicitOuter.this.global.Type">restp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#895374" title="ExplicitOuter.this.global.Type">restp1</a><span class="delimiter">)</span> <a href="#895190" title="ExplicitOuter.this.global.Type">tp</a> <span class="keyword">else</span> <a href="../symtab/Types.scala.html#546990" title="(typeParams: List[ExplicitOuter.this.global.Symbol], resultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#895372" title="List[ExplicitOuter.this.global.Symbol]">tparams</a>, <a href="#895374" title="ExplicitOuter.this.global.Type">restp1</a><span class="delimiter">)</span>

    <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Type">_</span> =&gt;
      <span class="comment">// Local fields of traits need to be unconditionally unprivatized.</span>
      <span class="comment">// Reason: Those fields might need to be unprivatized if referenced by an inner class.</span>
      <span class="comment">// On the other hand, mixing in the trait into a separately compiled</span>
      <span class="comment">// class needs to have a common naming scheme, independently of whether</span>
      <span class="comment">// the field was accessed from an inner class or not. See #2946</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435324" title="=&gt; Boolean">hasLocalFlag</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
              <span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509343" title="(base: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">getter</a><span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509334" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509349" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#895189" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>
      <a href="#895190" title="ExplicitOuter.this.global.Type">tp</a>
  <span class="delimiter">}</span>

  <span class="comment">/** A base class for transformers that maintain outerParam
   *  values for outer parameters of constructors.
   *  The class provides methods for referencing via outer.
   */</span>
  <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class OuterPathTransformer extends ExplicitOuter.this.TypingTransformer with ScalaObject" id="512152">OuterPathTransformer</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="ExplicitOuter.this.global.CompilationUnit" id="895389">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="TypingTransformers.scala.html#511840" title="ExplicitOuter.this.TypingTransformer">TypingTransformer</a><span class="delimiter">(</span><a href="#895389" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="comment">/** The directly enclosing outer parameter, if we are in a constructor */</span>
    <span class="keyword">protected</span> <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Symbol" id="895049">outerParam</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a>

    <span class="comment">/** The first outer selection from currently transformed tree.
     *  The result is typed but not positioned.
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="895051">outerValue</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a> =
      <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#895049" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#515242" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">ID</a><span class="delimiter">(</span><a href="#895049" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#895052" title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">outerSelect</a><span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515241" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">THIS</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="comment">/** Select and apply outer accessor from 'base'
     *  The result is typed but not positioned.
     *  If the outer access is from current class and current class is final
     *  take outer field instead of accessor
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="895052">outerSelect</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="895399">base</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="895402">outerAcc</a> = <a href="#512150" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#895399" title="ExplicitOuter.this.global.Tree">base</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; ExplicitOuter.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509334" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="895403">currentClass</a> = <a href="#512152" title="OuterPathTransformer.this.type" class="keyword">this</a>.<a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <span class="comment">//todo: !!! if this line is removed, we get a build failure that protected$currentClass need an override modifier</span>
      <span class="comment">// outerFld is the $outer field of the current class, if the reference can</span>
      <span class="comment">// use it (i.e. reference is allowed to be of the form this.$outer),</span>
      <span class="comment">// otherwise it is NoSymbol</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="895404">outerFld</a> =
        <span title="ExplicitOuter.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#895402" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#895403" title="ExplicitOuter.this.global.Symbol">currentClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#895399" title="ExplicitOuter.this.global.Tree">base</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507225" title="(that: ExplicitOuter.this.global.Type)Boolean">=:=</a> <a href="#895403" title="ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="#895402" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435297" title="=&gt; Boolean">isFinal</a><span class="delimiter">)</span>
          <a href="#512147" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="#895403" title="ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509301" title="(cond: ExplicitOuter.this.global.Symbol =&gt; Boolean)ExplicitOuter.this.global.Symbol">suchThat</a> <span class="delimiter">(</span><a href="#895414" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#895403" title="ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>
        <span class="keyword">else</span>
          <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a>
      <span class="keyword">val</span> <a title="&lt;none&gt; extends ExplicitOuter.this.global.Tree with Serializable" id="895405">path</a> =
        <span title="&lt;none&gt; extends ExplicitOuter.this.global.Tree with Serializable" class="keyword">if</span> <span class="delimiter">(</span><a href="#895404" title="ExplicitOuter.this.global.Symbol">outerFld</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#479143" title="(qualifier: ExplicitOuter.this.global.Tree, sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span><a href="#895399" title="ExplicitOuter.this.global.Tree">base</a>, <a href="#895404" title="ExplicitOuter.this.global.Symbol">outerFld</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: ExplicitOuter.this.global.Tree, sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Select">Select</a><span class="delimiter">(</span><a href="#895399" title="ExplicitOuter.this.global.Tree">base</a>, <a href="#895402" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>

      <a href="TypingTransformers.scala.html#893496" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#507768" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <a href="#895405" title="&lt;none&gt; extends ExplicitOuter.this.global.Tree with Serializable">path</a>
    <span class="delimiter">}</span>

    <span class="comment">/** The path
     *  &lt;blockquote&gt;&lt;pre&gt;`base'.$outer$$C1 ... .$outer$$Cn&lt;/pre&gt;&lt;/blockquote&gt;
     *  which refers to the outer instance of class to of
     *  value base. The result is typed but not positioned.
     *
     *  @param base ...
     *  @param from ...
     *  @param to   ...
     *  @return     ...
     */</span>
    <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree" id="895053">outerPath</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="895490">base</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a>, <a title="ExplicitOuter.this.global.Symbol" id="895491">from</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a>, <a title="ExplicitOuter.this.global.Symbol" id="895492">to</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="comment">//Console.println(&quot;outerPath from &quot;+from+&quot; to &quot;+to+&quot; at &quot;+base+&quot;:&quot;+base.tpe)</span>
      <span class="comment">//assert(base.tpe.widen.baseType(from.toInterface) != NoType, &quot;&quot;+base.tpe.widen+&quot; &quot;+from.toInterface)//DEBUG</span>
      <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#895491" title="ExplicitOuter.this.global.Symbol">from</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#895492" title="ExplicitOuter.this.global.Symbol">to</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#895491" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../../../reflect/generic/Symbols.scala.html#435382" title="=&gt; Boolean">isImplClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#895491" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../symtab/Symbols.scala.html#509334" title="=&gt; ExplicitOuter.this.global.Symbol">toInterface</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#895492" title="ExplicitOuter.this.global.Symbol">to</a><span class="delimiter">)</span> <a href="#895490" title="ExplicitOuter.this.global.Tree">base</a>
      <span class="keyword">else</span> <a href="#895053" title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">outerPath</a><span class="delimiter">(</span><a href="#895052" title="(base: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">outerSelect</a><span class="delimiter">(</span><a href="#895490" title="ExplicitOuter.this.global.Tree">base</a><span class="delimiter">)</span>, <a href="#895491" title="ExplicitOuter.this.global.Symbol">from</a>.<a href="../symtab/Symbols.scala.html#509314" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>, <a href="#895492" title="ExplicitOuter.this.global.Symbol">to</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="895054">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="895503">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="895508">savedOuterParam</a> = <a href="#895049" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>
      <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#895503" title="ExplicitOuter.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Template</span><span class="delimiter">(</span>_, _, _<span class="delimiter">)</span> =&gt;
            <a href="#895049" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a>
          <span class="keyword">case</span> <span title="Unit">DefDef</span><span class="delimiter">(</span>_, _, _, <a title="List[List[ExplicitOuter.this.global.ValDef]]" id="895543">vparamss</a>, _, _<span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#895503" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509178" title="=&gt; Boolean">isClassConstructor</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#512144" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#895503" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#895049" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="#895543" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; List[ExplicitOuter.this.global.ValDef]">head</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; ExplicitOuter.this.global.ValDef">head</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>
              <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#895049" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; ExplicitOuter.this.global.Name">name</a> <a href="../symtab/Names.scala.html#501137" title="(prefix: ExplicitOuter.this.global.Name)Boolean">startsWith</a> <a href="../symtab/StdNames.scala.html#479055" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516556" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a>, <a href="#895049" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; ExplicitOuter.this.global.Name">name</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
        <span class="delimiter">}</span>
        <a href="#512152" title="ExplicitOuter.this.OuterPathTransformer" class="keyword">super</a>.<a href="TypingTransformers.scala.html#893511" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#895503" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span class="keyword">finally</span> <a href="#895049" title="(x$1: ExplicitOuter.this.global.Symbol)Unit">outerParam</a> = <a href="#895508" title="ExplicitOuter.this.global.Symbol">savedOuterParam</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** &lt;p&gt;
   *    The phase performs the following transformations on terms:
   *  &lt;/p&gt;
   *  &lt;ol&gt;
   *    &lt;li&gt; &lt;!-- 1 --&gt;
   *      &lt;p&gt;
   *        An class which is not an interface and is not static gets an outer
   *        accessor (@see outerDefs).
   *      &lt;/p&gt;
   *      &lt;p&gt;
   *        1a. A class which is not a trait gets an outer field.
   *      &lt;/p&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 4 --&gt;
   *      A constructor of a non-trait inner class gets an outer parameter.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 5 --&gt;
   *      A reference C.this where C refers to an
   *      outer class is replaced by a selection
   *      this.$outer$$C1 ... .$outer$$Cn (@see outerPath)
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 7 --&gt;
   *      A call to a constructor Q.&lt;init&gt;(args) or Q.$init$(args) where Q != this and
   *      the constructor belongs to a non-static class is augmented by an outer argument.
   *      E.g. Q.&lt;init&gt;(OUTER, args) where OUTER
   *      is the qualifier corresponding to the singleton type Q.
   *    &lt;/li&gt;
   *    &lt;li&gt;
   *      A call to a constructor this.&lt;init&gt;(args) in a
   *      secondary constructor is augmented to this.&lt;init&gt;(OUTER, args)
   *      where OUTER is the last parameter of the secondary constructor.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 9 --&gt;
   *      Remove private modifier from class members M
   *      that are accessed from an inner class.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 10 --&gt;
   *      Remove protected modifier from class members M
   *      that are accessed without a super qualifier accessed from an inner
   *      class or trait.
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 11 --&gt;
   *      Remove private and protected modifiers
   *      from type symbols
   *    &lt;/li&gt;
   *    &lt;li&gt; &lt;!-- 12 --&gt;
   *      Remove private modifiers from members of traits
   *    &lt;/li&gt;
   *  &lt;/ol&gt;
   *  &lt;p&gt;
   *    Note: The whole transform is run in phase explicitOuter.next.
   *  &lt;/p&gt;
   */</span>
  <span class="keyword">class</span> <a title="class ExplicitOuterTransformer extends ExplicitOuter.this.OuterPathTransformer with ScalaObject" id="512153">ExplicitOuterTransformer</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="ExplicitOuter.this.global.CompilationUnit" id="895066">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#512152" title="ExplicitOuter.this.OuterPathTransformer">OuterPathTransformer</a><span class="delimiter">(</span><a href="#895066" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    transformer =&gt;

    <span class="comment">/** The definition tree of the outer accessor of current class
     */</span>
    <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="895059">outerFieldDef</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a> = <a href="../ast/TreeDSL.scala.html#515227" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.ValSymStart">VAL</a><span class="delimiter">(</span><a href="#512147" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#548250" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.ValDef">===</a> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a>

    <span class="comment">/** The definition tree of the outer accessor of current class
     */</span>
    <span class="keyword">def</span> <a title="=&gt; ExplicitOuter.this.global.Tree" id="895060">outerAccessorDef</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="895585">outerAcc</a> = <a href="#512150" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Tree" id="895586">rhs</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a> =
        <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#895585" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">else</span> <a href="../ast/Trees.scala.html#479142" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">This</a><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.TreeMethods" class="delimiter">(</a><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#515251" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeFromSelectStart : (ss: ExplicitOuter.this.CODE.SelectStart)ExplicitOuter.this.global.Select">DOT</a> <a href="#512147" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span>

      <span class="comment">/** If we don't re-type the tree, we see self-type related crashes like #266.
       */</span>
      <a href="TypingTransformers.scala.html#893496" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#507768" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515224" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#895585" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#548171" title="(pos: scala.tools.nsc.util.Position)ExplicitOuter.this.CODE.DefSymStart">withPos</a> <a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; ExplicitOuter.this.global.Position">pos</a> <a href="../ast/TreeDSL.scala.html#548169" title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.CODE.DefSymStart">withType</a> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#548250" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <a href="#895586" title="ExplicitOuter.this.global.Tree">rhs</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** The definition tree of the outer accessor for class mixinClass.
     *
     *  @param mixinClass The mixin class which defines the abstract outer
     *                    accessor which is implemented by the generated one.
     *  @pre mixinClass is an inner class
     */</span>
    <span class="keyword">def</span> <a title="(mixinClass: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree" id="895061">mixinOuterAccessorDef</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="895635">mixinClass</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="895637">outerAcc</a> = <a href="#512150" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#895635" title="ExplicitOuter.this.global.Symbol">mixinClass</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509339" title="(ofclazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">overridingSymbol</a> <a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#895637" title="ExplicitOuter.this.global.Symbol">outerAcc</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.gen.global.Tree" id="895638">path</a> =
        <span title="ExplicitOuter.this.global.gen.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#895635" title="ExplicitOuter.this.global.Symbol">mixinClass</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#515241" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.gen.global.Tree">THIS</a><span class="delimiter">(</span><a href="#895635" title="ExplicitOuter.this.global.Symbol">mixinClass</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435409" title="=&gt; ExplicitOuter.this.global.Symbol">enclClass</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <a href="../Global.scala.html#478214" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507269" title="(tpe: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; ExplicitOuter.this.global.Type">thisType</a> <a href="../symtab/Types.scala.html#507204" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Type">baseType</a> <a href="#895635" title="ExplicitOuter.this.global.Symbol">mixinClass</a> <a href="../symtab/Types.scala.html#507169" title="=&gt; ExplicitOuter.this.global.Type">prefix</a><span class="delimiter">)</span>

      <a href="TypingTransformers.scala.html#893496" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#507768" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515224" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#895637" title="ExplicitOuter.this.global.Symbol">outerAcc</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#548171" title="(pos: scala.tools.nsc.util.Position)ExplicitOuter.this.CODE.DefSymStart">withPos</a> <a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#548250" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <span class="delimiter">{</span>
          <span class="comment">// Need to cast for nested outer refs in presence of self-types. See ticket #3274.</span>
          <a href="#512153" title="ExplicitOuterTransformer.this.type">transformer</a>.<a href="#895064" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.TreeMethods" class="delimiter">(</a><a href="#895638" title="ExplicitOuter.this.global.gen.global.Tree">path</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#547510" title="(tpe: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.gen.global.Tree">AS_ANY</a> <a href="#895637" title="ExplicitOuter.this.global.Symbol">outerAcc</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; ExplicitOuter.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; ExplicitOuter.this.global.Type">resultType</a>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** If FLAG is set on symbol, sets notFLAG (this exists in anticipation of generalizing). */</span>
    <span class="keyword">def</span> <a title="(sym: ExplicitOuter.this.global.Symbol, flags: Int*)Unit" id="895062">setNotFlags</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="895679">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="ExplicitOuter.this.global.Symbol">Symbol</a>, <a title="Int*" id="895680">flags</a>: <span title="Int*">Int</span>*<span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">for</span> <span class="delimiter">(</span><a title="Int" id="895698">f</a> &lt;- <a href="../../../collection/IterableLike.scala.html#53856" title="(f: Int =&gt; Unit)Unit">flags</a> ; <a title="Long" id="895705">notFlag</a> &lt;- <a href="../symtab/Flags.scala.html#478455" title="=&gt; scala.collection.immutable.Map[Int,Long]">notFlagMap</a> <a href="../../../Option.scala.html#48491" title="(f: Long =&gt; Any)Unit">get</a> <a href="#895698" title="Int">f</a><span class="delimiter">)</span>
        <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#895679" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <a href="../../../Int.scala.html#54731" title="=&gt; Long">f</a><span class="delimiter">)</span>
          <a href="#895679" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)sym.type">setFlag</a> <a href="#895705" title="Long">notFlag</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Match)ExplicitOuter.this.global.analyzer.global.Tree" id="895063">matchTranslation</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Match" id="895716">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434100" title="ExplicitOuter.this.global.Match">Match</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> Match<a href="../../../Tuple2.scala.html#53390" title="(ExplicitOuter.this.global.Tree, List[ExplicitOuter.this.global.CaseDef])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="ExplicitOuter.this.global.Tree" id="895720">selector</a>, <a href="../../../Tuple2.scala.html#53404" title="List[ExplicitOuter.this.global.CaseDef]" id="895721">cases</a><span class="delimiter">)</span> = <a href="#895716" title="ExplicitOuter.this.global.Match">tree</a>
      <span class="keyword">var</span> <a title="ExplicitOuter.this.global.Tree" id="895722">nselector</a> = <a href="#895064" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#895720" title="ExplicitOuter.this.global.Tree">selector</a><span class="delimiter">)</span>

      <span class="keyword">def</span> <a title="(vs: List[ExplicitOuter.this.global.Symbol], guard: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree" id="895723">makeGuardDef</a><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Symbol]" id="895747">vs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[ExplicitOuter.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span>, <a title="ExplicitOuter.this.global.Tree" id="895748">guard</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermName" id="895749">gdname</a> = <a href="#895066" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500956" title="(prefix: String)ExplicitOuter.this.global.TermName">freshTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;gd&quot;)" class="string">&quot;gd&quot;</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodSymbol" id="895750">method</a> = <a href="../ast/Trees.scala.html#560333" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>.<a href="../symtab/Symbols.scala.html#509130" title="(pos: ExplicitOuter.this.global.Position, name: ExplicitOuter.this.global.TermName)ExplicitOuter.this.global.MethodSymbol">newMethod</a><span class="delimiter">(</span><a href="#895716" title="ExplicitOuter.this.global.Match">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <a href="#895749" title="ExplicitOuter.this.global.TermName">gdname</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)ExplicitOuter.this.global.MethodSymbol">setFlag</a> <span title="Long(2097152L)">SYNTHETIC</span>
        <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.Type]" id="895751">fmls</a>   = <a href="#895747" title="List[ExplicitOuter.this.global.Symbol]">vs</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ExplicitOuter.this.global.Symbol =&gt; ExplicitOuter.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Symbol],ExplicitOuter.this.global.Type,List[ExplicitOuter.this.global.Type]])List[ExplicitOuter.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#895786" title="ExplicitOuter.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.MethodType" id="895752">tpe</a>    = <span title="ExplicitOuter.this.global.MethodType" class="keyword">new</span> <a href="../symtab/Types.scala.html#478776" title="ExplicitOuter.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#895750" title="ExplicitOuter.this.global.MethodSymbol">method</a> <a href="../symtab/Symbols.scala.html#509151" title="(argtypes: List[ExplicitOuter.this.global.Type])List[ExplicitOuter.this.global.Symbol]">newSyntheticValueParams</a> <a href="#895751" title="List[ExplicitOuter.this.global.Type]">fmls</a>, <a href="../symtab/Definitions.scala.html#508439" title="=&gt; ExplicitOuter.this.global.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="#895750" title="ExplicitOuter.this.global.MethodSymbol">method</a> <a href="../symtab/Symbols.scala.html#509274" title="(info: ExplicitOuter.this.global.Type)method.type">setInfo</a> <a href="#895752" title="ExplicitOuter.this.global.MethodType">tpe</a>

        <a href="TypingTransformers.scala.html#893496" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#507768" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515224" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.CODE.DefSymStart">DEF</a><span class="delimiter">(</span><a href="#895750" title="ExplicitOuter.this.global.MethodSymbol">method</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#548250" title="(rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">===</a> <span class="delimiter">{</span>
          <span title="ExplicitOuter.this.global.ChangeOwnerTraverser" class="keyword">new</span> <a href="../ast/Trees.scala.html#479179" title="ExplicitOuter.this.global.ChangeOwnerTraverser">ChangeOwnerTraverser</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560333" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>, <a href="#895750" title="ExplicitOuter.this.global.MethodSymbol">method</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#560624" title="(tree: ExplicitOuter.this.global.Tree)Unit">traverse</a> <a href="#895748" title="ExplicitOuter.this.global.Tree">guard</a>
          <span title="ExplicitOuter.this.global.TreeSymSubstituter" class="keyword">new</span> <a href="../ast/Trees.scala.html#479178" title="ExplicitOuter.this.global.TreeSymSubstituter">TreeSymSubstituter</a><span class="delimiter">(</span><a href="#895747" title="List[ExplicitOuter.this.global.Symbol]">vs</a>, <a href="#895750" title="ExplicitOuter.this.global.MethodSymbol">method</a>.<a href="../symtab/Symbols.scala.html#509288" title="=&gt; List[List[ExplicitOuter.this.global.Symbol]]">paramss</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; List[ExplicitOuter.this.global.Symbol]">head</a><span class="delimiter">)</span> <a href="../ast/Trees.scala.html#565334" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a> <span class="delimiter">(</span><a href="#895748" title="ExplicitOuter.this.global.Tree">guard</a><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" id="895724">nguard</a> = <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
      <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.CaseDef]" id="895725">ncases</a> =
        <span class="keyword">for</span> <span class="delimiter">(</span>CaseDef<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="895894">pat</a>, <a title="ExplicitOuter.this.global.Tree" id="895895">guard</a>, <a title="ExplicitOuter.this.global.Tree" id="895896">body</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ExplicitOuter.this.global.CaseDef =&gt; ExplicitOuter.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.CaseDef],ExplicitOuter.this.global.CaseDef,List[ExplicitOuter.this.global.CaseDef]])List[ExplicitOuter.this.global.CaseDef]">cases</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span>
          <span class="comment">// Strip out any unused pattern bindings up front</span>
          <span class="keyword">val</span> <a title="List[ExplicitOuter.this.global.Symbol]" id="895897">patternIdents</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Bind" id="895998">b</a> @ Bind<span class="delimiter">(</span>_, _<span class="delimiter">)</span> &lt;- <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,List[ExplicitOuter.this.global.Symbol]])List[ExplicitOuter.this.global.Symbol]">pat</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#895998" title="ExplicitOuter.this.global.Bind">b</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>
          <span class="keyword">val</span> <a title="Set[ExplicitOuter.this.global.Symbol]" id="895898">references</a>: <a href="../../../collection/immutable/Set.scala.html#13576" title="Set[ExplicitOuter.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: ExplicitOuter.this.global.Tree*)scala.collection.immutable.Set[ExplicitOuter.this.global.Tree]">Set</a><span class="delimiter">(</span><a href="#895895" title="ExplicitOuter.this.global.Tree">guard</a>, <a href="#895896" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49046" title="(f: ExplicitOuter.this.global.Tree =&gt; scala.collection.GenTraversableOnce[ExplicitOuter.this.global.Symbol])(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Set[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,Set[ExplicitOuter.this.global.Symbol]])Set[ExplicitOuter.this.global.Symbol]">flatMap</a> <span class="delimiter">{</span> <a title="ExplicitOuter.this.global.Tree" id="896066">t</a> =&gt; <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Ident" id="896157">id</a> @ Ident<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Name" id="896161">name</a><span class="delimiter">)</span> &lt;- <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Tree],ExplicitOuter.this.global.Symbol,List[ExplicitOuter.this.global.Symbol]])List[ExplicitOuter.this.global.Symbol]">t</a><span class="delimiter">)</span> <span class="keyword">yield</span> <a href="#896157" title="ExplicitOuter.this.global.Ident">id</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a> <span class="delimiter">}</span>
          <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[ExplicitOuter.this.global.Symbol], List[ExplicitOuter.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[ExplicitOuter.this.global.Symbol]" id="895900">used</a>, <a href="../../../Tuple2.scala.html#53404" title="List[ExplicitOuter.this.global.Symbol]" id="895901">unused</a><span class="delimiter">)</span> = <a href="#895897" title="List[ExplicitOuter.this.global.Symbol]">patternIdents</a> <a href="../../../collection/TraversableLike.scala.html#49058" title="(p: ExplicitOuter.this.global.Symbol =&gt; Boolean)(List[ExplicitOuter.this.global.Symbol], List[ExplicitOuter.this.global.Symbol])">partition</a> <a href="#895898" title="Set[ExplicitOuter.this.global.Symbol]">references</a>
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="895902">strippedPat</a> = <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#895901" title="List[ExplicitOuter.this.global.Symbol]">unused</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#895894" title="ExplicitOuter.this.global.Tree">pat</a> <span class="keyword">else</span> <span title="ExplicitOuter.this.RemoveBindingsTransformer" class="keyword">new</span> <a href="#512148" title="ExplicitOuter.this.RemoveBindingsTransformer">RemoveBindingsTransformer</a><span class="delimiter">(</span><a href="#895901" title="List[ExplicitOuter.this.global.Symbol]">unused</a>.<a href="../../../collection/TraversableOnce.scala.html#53700" title="scala.collection.immutable.Set[ExplicitOuter.this.global.Symbol]">toSet</a><span class="delimiter">)</span> <a href="#895112" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a> <a href="#895894" title="ExplicitOuter.this.global.Tree">pat</a>

          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="895903">gdcall</a> =
            <span title="ExplicitOuter.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#895895" title="ExplicitOuter.this.global.Tree">guard</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object ExplicitOuter.this.global.EmptyTree">EmptyTree</a>
            <span class="keyword">else</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="896235">guardDef</a> = <a href="#895723" title="(vs: List[ExplicitOuter.this.global.Symbol], guard: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">makeGuardDef</a><span class="delimiter">(</span><a href="#895900" title="List[ExplicitOuter.this.global.Symbol]">used</a>, <a href="#895895" title="ExplicitOuter.this.global.Tree">guard</a><span class="delimiter">)</span>
              <a href="#895724" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: ExplicitOuter.this.global.Tree)nguard.type">+=</a> <a href="#895064" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#896235" title="ExplicitOuter.this.global.analyzer.global.Tree">guardDef</a><span class="delimiter">)</span> <span class="comment">// building up list of guards</span>

              <a href="TypingTransformers.scala.html#893496" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a> <a href="../typechecker/Typers.scala.html#507768" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">typed</a> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479144" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Ident">Ident</a><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.TreeMethods" class="delimiter">(</a><a href="#896235" title="ExplicitOuter.this.global.analyzer.global.Tree">guardDef</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; ExplicitOuter.this.global.analyzer.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#547503" title="(params: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">APPLY</a> <span class="delimiter">(</span><a href="#895900" title="List[ExplicitOuter.this.global.Symbol]">used</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: ExplicitOuter.this.global.Symbol =&gt; ExplicitOuter.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[ExplicitOuter.this.global.Symbol],ExplicitOuter.this.global.Ident,List[ExplicitOuter.this.global.Ident]])List[ExplicitOuter.this.global.Ident]">map</a> <a href="../ast/Trees.scala.html#479144" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Ident">Ident</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>

          <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515214" title="(pat: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.CaseStart">CASE</a><span class="delimiter">(</span><a href="#895064" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#895902" title="ExplicitOuter.this.global.Tree">strippedPat</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#548125" title="(g: ExplicitOuter.this.global.Tree)ExplicitOuter.this.CODE.CaseStart">IF</a> <a href="#895903" title="ExplicitOuter.this.global.analyzer.global.Tree">gdcall</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#548126" title="(body: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.CaseDef">==&gt;</a> <a href="#895064" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#895896" title="ExplicitOuter.this.global.Tree">body</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="keyword">def</span> <a title="(tpe: ExplicitOuter.this.global.Type)Boolean" id="895726">isUncheckedAnnotation</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="896358">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#896358" title="ExplicitOuter.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507246" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../symtab/Definitions.scala.html#507965" title="=&gt; ExplicitOuter.this.global.Symbol">UncheckedClass</a>
      <span class="keyword">def</span> <a title="(tpe: ExplicitOuter.this.global.Type)Boolean" id="895727">isSwitchAnnotation</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Type" id="896360">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="ExplicitOuter.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#896360" title="ExplicitOuter.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507246" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">hasAnnotation</a> <a href="../symtab/Definitions.scala.html#507971" title="=&gt; ExplicitOuter.this.global.Symbol">SwitchClass</a>

      <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(Boolean, Boolean)" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="Boolean" id="895729">checkExhaustive</a>, <a href="../../../Tuple2.scala.html#53404" title="Boolean" id="895730">requireSwitch</a><span class="delimiter">)</span> = <a href="#895722" title="ExplicitOuter.this.global.Tree">nselector</a> <span title="(Boolean, Boolean)" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="(Boolean, Boolean)">Typed</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="896364">nselector1</a>, <a title="ExplicitOuter.this.global.Tree" id="896365">tpt</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Boolean" id="896366">unchecked</a> = <a href="#895726" title="(tpe: ExplicitOuter.this.global.Type)Boolean">isUncheckedAnnotation</a><span class="delimiter">(</span><a href="#896365" title="ExplicitOuter.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#896366" title="Boolean">unchecked</a><span class="delimiter">)</span>
            <a href="#895722" title="ExplicitOuter.this.global.Tree">nselector</a> = <a href="#896364" title="ExplicitOuter.this.global.Tree">nselector1</a>

          <a href="../../../Tuple2.scala.html#53390" title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</a><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#896366" title="Boolean">unchecked</a>, <a href="#895727" title="(tpe: ExplicitOuter.this.global.Type)Boolean">isSwitchAnnotation</a><span class="delimiter">(</span><a href="#896365" title="ExplicitOuter.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="(Boolean, Boolean)">_</span>  =&gt;
          <a href="../../../Tuple2.scala.html#53390" title="(_1: Boolean, _2: Boolean)(Boolean, Boolean)" class="delimiter">(</a><span title="Boolean(true)" class="keyword">true</span>, <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="895731">t</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.analyzer.global.Tree)ExplicitOuter.this.global.analyzer.global.Tree">atPos</a><span class="delimiter">(</span><a href="#895716" title="ExplicitOuter.this.global.Match">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.MatrixContext" id="896396">context</a>     = <a href="../matching/Matrix.scala.html#794071" title="(cunit: ExplicitOuter.this.global.CompilationUnit, handleOuter: ExplicitOuter.this.global.Tree =&gt; ExplicitOuter.this.global.Tree, typer: ExplicitOuter.this.global.analyzer.Typer, owner: ExplicitOuter.this.global.Symbol, matchResultType: ExplicitOuter.this.global.Type)ExplicitOuter.this.MatrixContext">MatrixContext</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; ExplicitOuter.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482498" title="=&gt; ExplicitOuter.this.global.CompilationUnit">currentUnit</a>, <a href="#895064" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a>, <a href="TypingTransformers.scala.html#893496" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a>, <a href="../ast/Trees.scala.html#560333" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>, <a href="#895716" title="ExplicitOuter.this.global.Match">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="896397">t_untyped</a>   = <a href="../matching/Matrix.scala.html#512314" title="(selector: ExplicitOuter.this.global.Tree, cases: List[ExplicitOuter.this.global.CaseDef], isChecked: Boolean, context: ExplicitOuter.this.MatrixContext)ExplicitOuter.this.global.Tree">handlePattern</a><span class="delimiter">(</span><a href="#895722" title="ExplicitOuter.this.global.Tree">nselector</a>, <a href="#895725" title="List[ExplicitOuter.this.global.CaseDef]">ncases</a>, <a href="#895729" title="Boolean">checkExhaustive</a>, <a href="#896396" title="ExplicitOuter.this.MatrixContext">context</a><span class="delimiter">)</span>

        <span class="comment">/* if @switch annotation is present, verify the resulting tree is a Match */</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#895730" title="Boolean">requireSwitch</a><span class="delimiter">)</span> <a href="#896397" title="ExplicitOuter.this.global.Tree">t_untyped</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Unit">Block</span><span class="delimiter">(</span>_, Match<span class="delimiter">(</span>_, _<span class="delimiter">)</span><span class="delimiter">)</span>  =&gt; <span class="comment">// ok</span>
          <span class="keyword">case</span> <span title="Unit">_</span>                      =&gt;
            <a href="#895066" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: ExplicitOuter.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#895716" title="ExplicitOuter.this.global.Match">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <span title="java.lang.String(&quot;could not emit switch for @switch annotated match&quot;)" class="string">&quot;could not emit switch for @switch annotated match&quot;</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>

        <a href="TypingTransformers.scala.html#893496" title="=&gt; ExplicitOuter.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#507770" title="(tree: ExplicitOuter.this.global.analyzer.global.Tree, pt: ExplicitOuter.this.global.analyzer.global.Type)ExplicitOuter.this.global.analyzer.global.Tree">typed</a><span class="delimiter">(</span><a href="#896397" title="ExplicitOuter.this.global.Tree">t_untyped</a>, <a href="#896396" title="ExplicitOuter.this.MatrixContext">context</a>.<a href="../matching/Matrix.scala.html#793743" title="=&gt; ExplicitOuter.this.global.Type">matchResultType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span title="ExplicitOuter.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#895724" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61939" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#895731" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a>
      <span class="keyword">else</span> <a href="../../../reflect/generic/Trees.scala.html#443384" title="(stats: List[ExplicitOuter.this.global.Tree], expr: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Block">Block</a><span class="delimiter">(</span><a href="#895724" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">nguard</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[ExplicitOuter.this.global.Tree]">toList</a>, <a href="#895731" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Block">setType</a> <a href="#895731" title="ExplicitOuter.this.global.analyzer.global.Tree">t</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.analyzer.global.Type">tpe</a>
    <span class="delimiter">}</span>

    <span class="comment">/** The main transformation method */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree" id="895064">transform</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="895665">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="ExplicitOuter.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="896450">sym</a> = <a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435370" title="=&gt; Boolean">isType</a><span class="delimiter">)</span>  <span class="comment">//(9)</span>
        <a href="#895062" title="(sym: ExplicitOuter.this.global.Symbol, flags: Int*)Unit">setNotFlags</a><span class="delimiter">(</span><a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>, <span title="Int(4)">PRIVATE</span>, <span title="Int(1)">PROTECTED</span><span class="delimiter">)</span>

      <a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Template</span><span class="delimiter">(</span><a title="List[ExplicitOuter.this.global.Tree]" id="896460">parents</a>, <a title="ExplicitOuter.this.global.ValDef" id="896461">self</a>, <a title="List[ExplicitOuter.this.global.Tree]" id="896462">decls</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" id="896463">newDefs</a> = <span title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]" class="keyword">new</span> <a href="../../../collection/mutable/ListBuffer.scala.html#15373" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">ListBuffer</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>
          <a href="TypingTransformers.scala.html#893508" title="(tree: ExplicitOuter.this.global.Tree, owner: ExplicitOuter.this.global.Symbol)(trans: =&gt; Unit)Unit">atOwner</a><span class="delimiter">(</span><a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="../ast/Trees.scala.html#560333" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435305" title="=&gt; Boolean">isInterface</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <a href="../../../reflect/generic/Symbols.scala.html#435349" title="(mask: Long)Boolean">hasFlag</a> <a href="../symtab/Flags.scala.html#478433" title="=&gt; Long">lateINTERFACE</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#512144" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#512146" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">hasOuterField</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
                  <a href="#896463" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</a> <a href="#895059" title="=&gt; ExplicitOuter.this.global.Tree">outerFieldDef</a> <span class="comment">// (1a)</span>
                <a href="#896463" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</a> <a href="#895060" title="=&gt; ExplicitOuter.this.global.Tree">outerAccessorDef</a> <span class="comment">// (1)</span>
              <span class="delimiter">}</span>
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>
                <span class="keyword">for</span> <span class="delimiter">(</span><a title="ExplicitOuter.this.global.Symbol" id="896557">mc</a> &lt;- <a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: ExplicitOuter.this.global.Symbol =&gt; Any)Unit">mixinClasses</a><span class="delimiter">)</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#512150" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerAccessor</a><span class="delimiter">(</span><a href="#896557" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                    <a href="#896463" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a> <a href="../../../collection/mutable/ListBuffer.scala.html#61786" title="(x: ExplicitOuter.this.global.Tree)newDefs.type">+=</a> <a href="#895061" title="(mixinClass: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">mixinOuterAccessorDef</a><span class="delimiter">(</span><a href="#896557" title="ExplicitOuter.this.global.Symbol">mc</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#512153" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#895054" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span>
            <a href="../ast/Trees.scala.html#560331" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560241" title="(tree: ExplicitOuter.this.global.Tree, parents: List[ExplicitOuter.this.global.Tree], self: ExplicitOuter.this.global.ValDef, body: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Template">Template</a><span class="delimiter">(</span><a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#896460" title="List[ExplicitOuter.this.global.Tree]">parents</a>, <a href="#896461" title="ExplicitOuter.this.global.ValDef">self</a>,
                          <span title="List[ExplicitOuter.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#896463" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a>.<a href="../../../collection/generic/TraversableForwarder.scala.html#61939" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#896462" title="List[ExplicitOuter.this.global.Tree]">decls</a> <span class="keyword">else</span> <a href="#896462" title="List[ExplicitOuter.this.global.Tree]">decls</a> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[ExplicitOuter.this.global.Tree])List[ExplicitOuter.this.global.Tree]">:::</a> <a href="#896463" title="scala.collection.mutable.ListBuffer[ExplicitOuter.this.global.Tree]">newDefs</a>.<a href="../../../collection/mutable/ListBuffer.scala.html#61794" title="=&gt; List[ExplicitOuter.this.global.Tree]">toList</a><span class="delimiter">)</span>
          <span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">DefDef</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Modifiers" id="896602">mods</a>, <a title="ExplicitOuter.this.global.TermName" id="896603">name</a>, <a title="List[ExplicitOuter.this.global.TypeDef]" id="896604">tparams</a>, <a title="List[List[ExplicitOuter.this.global.ValDef]]" id="896605">vparamss</a>, <a title="ExplicitOuter.this.global.Tree" id="896606">tpt</a>, <a title="ExplicitOuter.this.global.Tree" id="896607">rhs</a><span class="delimiter">)</span> =&gt;
          <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509178" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#896607" title="ExplicitOuter.this.global.Tree">rhs</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Nothing">Literal</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
                sys.<a href="../../../sys/package.scala.html#48163" title="(message: String)Nothing">error</a><span class="delimiter">(</span><span title="java.lang.String(&quot;unexpected case&quot;)" class="string">&quot;unexpected case&quot;</span><span class="delimiter">)</span> <span class="comment">//todo: remove</span>
              <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span> =&gt;
                <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="896611">clazz</a> = <a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>
                <span class="keyword">val</span> <a title="List[List[ExplicitOuter.this.global.ValDef]]" id="896612">vparamss1</a> =
                  <span title="List[List[ExplicitOuter.this.global.ValDef]]" class="keyword">if</span> <span class="delimiter">(</span><a href="#512144" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#896611" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span> <span class="comment">// (4)</span>
                    <span class="keyword">val</span> <a title="ExplicitOuter.this.global.TermSymbol" id="896613">outerParam</a> =
                      <a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509128" title="(pos: ExplicitOuter.this.global.Position, name: ExplicitOuter.this.global.TermName)ExplicitOuter.this.global.TermSymbol">newValueParameter</a><span class="delimiter">(</span><a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <a href="../symtab/StdNames.scala.html#479055" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516556" title="=&gt; ExplicitOuter.this.global.nme.NameType">OUTER</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509274" title="(info: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.TermSymbol">setInfo</a> <a href="#512147" title="(clazz: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Symbol">outerField</a><span class="delimiter">(</span><a href="#896611" title="ExplicitOuter.this.global.Symbol">clazz</a><span class="delimiter">)</span>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; ExplicitOuter.this.global.Type">info</a>
                    <span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479126" title="(sym: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.ValDef">ValDef</a><span class="delimiter">(</span><a href="#896613" title="ExplicitOuter.this.global.TermSymbol">outerParam</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.ValDef">setType</a> <a href="../symtab/Types.scala.html#478734" title="object ExplicitOuter.this.global.NoType">NoType</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: ExplicitOuter.this.global.ValDef)List[ExplicitOuter.this.global.ValDef]">::</a> <a href="#896605" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; List[ExplicitOuter.this.global.ValDef]">head</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: List[ExplicitOuter.this.global.ValDef])List[List[ExplicitOuter.this.global.ValDef]]">::</a> <a href="#896605" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>.<a href="../../../collection/TraversableLike.scala.html#49082" title="=&gt; List[List[ExplicitOuter.this.global.ValDef]]">tail</a>
                  <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#896605" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss</a>
                <a href="#512153" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#895054" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560331" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560236" title="(tree: ExplicitOuter.this.global.Tree, mods: ExplicitOuter.this.global.Modifiers, name: ExplicitOuter.this.global.Name, tparams: List[ExplicitOuter.this.global.TypeDef], vparamss: List[List[ExplicitOuter.this.global.ValDef]], tpt: ExplicitOuter.this.global.Tree, rhs: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#896602" title="ExplicitOuter.this.global.Modifiers">mods</a>, <a href="#896603" title="ExplicitOuter.this.global.TermName">name</a>, <a href="#896604" title="List[ExplicitOuter.this.global.TypeDef]">tparams</a>, <a href="#896612" title="List[List[ExplicitOuter.this.global.ValDef]]">vparamss1</a>, <a href="#896606" title="ExplicitOuter.this.global.Tree">tpt</a>, <a href="#896607" title="ExplicitOuter.this.global.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span> <span class="keyword">else</span>
            <a href="#512153" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#895054" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">This</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.TypeName" id="896671">qual</a><span class="delimiter">)</span> =&gt;
          <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435325" title="=&gt; Boolean">hasModuleFlag</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509233" title="=&gt; Boolean">isStatic</a><span class="delimiter">)</span> <a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a>
          <span class="keyword">else</span> <a href="../ast/Trees.scala.html#479182" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#895053" title="(base: ExplicitOuter.this.global.Tree, from: ExplicitOuter.this.global.Symbol, to: ExplicitOuter.this.global.Symbol)ExplicitOuter.this.global.Tree">outerPath</a><span class="delimiter">(</span><a href="#895051" title="=&gt; ExplicitOuter.this.global.Tree">outerValue</a>, <a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a>.<a href="../symtab/Symbols.scala.html#509314" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>, <a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// (5)</span>

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Select</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="896686">qual</a>, <a title="ExplicitOuter.this.global.Name" id="896687">name</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span> <span class="comment">// (3)</span>
            <a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509349" title="(base: ExplicitOuter.this.global.Symbol)Unit">makeNotPrivate</a><span class="delimiter">(</span><a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Symbol" id="896688">qsym</a> = <a href="#896686" title="ExplicitOuter.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; ExplicitOuter.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; ExplicitOuter.this.global.Symbol">typeSymbol</a>
          <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435303" title="=&gt; Boolean">isProtected</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="comment">//(4)</span>
              <span class="delimiter">(</span><a href="#896688" title="ExplicitOuter.this.global.Symbol">qsym</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#896686" title="ExplicitOuter.this.global.Tree">qual</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434128" title="ExplicitOuter.this.global.Super">Super</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#896688" title="ExplicitOuter.this.global.Symbol">qsym</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: ExplicitOuter.this.global.Symbol)Boolean">isSubClass</a> <a href="../ast/Trees.scala.html#560337" title="=&gt; ExplicitOuter.this.global.Symbol">currentClass</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)sym.type">setFlag</a> <a href="../symtab/Flags.scala.html#478447" title="=&gt; Long">notPROTECTED</a>
          <a href="#512153" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#895054" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Select" id="896708">sel</a> @ Select<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="896713">qual</a>, <a href="../symtab/StdNames.scala.html#479055" title="object ExplicitOuter.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; ExplicitOuter.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span>, <a title="List[ExplicitOuter.this.global.Tree]" id="896714">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#512144" title="(clazz: ExplicitOuter.this.global.Symbol)Boolean">isInner</a><span class="delimiter">(</span><a href="#896708" title="ExplicitOuter.this.global.Select">sel</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="896716">outerVal</a> = <a href="../ast/Trees.scala.html#479182" title="(pos: ExplicitOuter.this.global.Position)(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; ExplicitOuter.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#896713" title="ExplicitOuter.this.global.Tree">qual</a> <span title="ExplicitOuter.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="comment">// it's a call between constructors of same class</span>
            <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span>: <a href="../../../reflect/generic/Trees.scala.html#434131" title="ExplicitOuter.this.global.This">This</a>  =&gt;
              <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#895049" title="=&gt; ExplicitOuter.this.global.Symbol">outerParam</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object ExplicitOuter.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
              <a href="#895051" title="=&gt; ExplicitOuter.this.global.Tree">outerValue</a>
            <span class="keyword">case</span> <span title="ExplicitOuter.this.global.gen.global.Tree">_</span>        =&gt;
              <a href="../Global.scala.html#478214" title="object ExplicitOuter.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507269" title="(tpe: ExplicitOuter.this.global.gen.global.Type)ExplicitOuter.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#896713" title="ExplicitOuter.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; ExplicitOuter.this.global.Type">prefix</a> <span title="ExplicitOuter.this.global.gen.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
                <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478736" title="ExplicitOuter.this.global.Type">NoPrefix</a> =&gt; <a href="#896450" title="ExplicitOuter.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; ExplicitOuter.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509314" title="=&gt; ExplicitOuter.this.global.Symbol">outerClass</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; ExplicitOuter.this.global.Type">thisType</a>
                <span class="keyword">case</span> <a title="ExplicitOuter.this.global.Type" id="896731">x</a>        =&gt; <a href="#896731" title="ExplicitOuter.this.global.Type">x</a>
              <span class="delimiter">}</span><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
          <a href="#512153" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#895054" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560331" title="=&gt; ExplicitOuter.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560260" title="(tree: ExplicitOuter.this.global.Tree, fun: ExplicitOuter.this.global.Tree, args: List[ExplicitOuter.this.global.Tree])ExplicitOuter.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a>, <a href="#896708" title="ExplicitOuter.this.global.Select">sel</a>, <a href="#896716" title="ExplicitOuter.this.global.Tree">outerVal</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: ExplicitOuter.this.global.Tree)List[ExplicitOuter.this.global.Tree]">::</a> <a href="#896714" title="List[ExplicitOuter.this.global.Tree]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="comment">// entry point for pattern matcher translation</span>
        <span class="keyword">case</span> <a title="ExplicitOuter.this.global.analyzer.global.Tree" id="896744">mch</a>: <a href="../../../reflect/generic/Trees.scala.html#434100" title="ExplicitOuter.this.global.Match">Match</a> =&gt;
          <a href="#895063" title="(tree: ExplicitOuter.this.global.Match)ExplicitOuter.this.global.analyzer.global.Tree">matchTranslation</a><span class="delimiter">(</span><a href="#896744" title="ExplicitOuter.this.global.Match">mch</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="ExplicitOuter.this.global.Tree">_</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469663" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Xmigration28</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span> <a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <span title="Unit">TypeApply</span><span class="delimiter">(</span><a title="ExplicitOuter.this.global.Select" id="896751">fn</a> @ Select<span class="delimiter">(</span><a title="ExplicitOuter.this.global.Tree" id="896756">qual</a>, _<span class="delimiter">)</span>, <a title="List[ExplicitOuter.this.global.Tree]" id="896757">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#896751" title="ExplicitOuter.this.global.Select">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508262" title="=&gt; ExplicitOuter.this.global.Symbol">Object_isInstanceOf</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#896751" title="ExplicitOuter.this.global.Select">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; ExplicitOuter.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508235" title="=&gt; ExplicitOuter.this.global.Symbol">Any_isInstanceOf</a> =&gt;
              <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#512149" title="(lhs: ExplicitOuter.this.global.Type, rhs: ExplicitOuter.this.global.Type)Boolean">isArraySeqTest</a><span class="delimiter">(</span><a href="#896756" title="ExplicitOuter.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.Type">tpe</a>, <a href="#896757" title="List[ExplicitOuter.this.global.Tree]">args</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; ExplicitOuter.this.global.Tree">head</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#895066" title="ExplicitOuter.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500979" title="(pos: ExplicitOuter.this.global.Position, msg: String)Unit">warning</a><span class="delimiter">(</span><a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; ExplicitOuter.this.global.Position">pos</a>, <span title="java.lang.String(&quot;An Array will no longer match as Seq[_].&quot;)" class="string">&quot;An Array will no longer match as Seq[_].&quot;</span><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Unit">_</span> =&gt; <span title="Unit" class="delimiter">(</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>

          <span class="keyword">val</span> <a title="ExplicitOuter.this.global.Tree" id="896745">x</a> = <a href="#512153" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="#895054" title="(tree: ExplicitOuter.this.global.Tree)ExplicitOuter.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#895665" title="ExplicitOuter.this.global.Tree">tree</a><span class="delimiter">)</span>
          <span title="ExplicitOuter.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#896745" title="ExplicitOuter.this.global.Tree">x</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#896745" title="ExplicitOuter.this.global.Tree">x</a>
          <span class="keyword">else</span> <a href="#896745" title="ExplicitOuter.this.global.Tree">x</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: ExplicitOuter.this.global.Type)x.type">setType</a> <a href="#512151" title="(sym: ExplicitOuter.this.global.Symbol, tp: ExplicitOuter.this.global.Type)ExplicitOuter.this.global.Type">transformInfo</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#560333" title="=&gt; ExplicitOuter.this.global.Symbol">currentOwner</a>, <a href="#896745" title="ExplicitOuter.this.global.Tree">x</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; ExplicitOuter.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** The transformation method for whole compilation units */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(unit: ExplicitOuter.this.global.CompilationUnit)Unit" id="895065">transformUnit</a><span class="delimiter">(</span><a title="ExplicitOuter.this.global.CompilationUnit" id="896772">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="ExplicitOuter.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#512153" title="ExplicitOuter.this.ExplicitOuterTransformer" class="keyword">super</a>.<a href="../ast/Trees.scala.html#560349" title="(unit: ExplicitOuter.this.global.CompilationUnit)Unit">transformUnit</a><span class="delimiter">(</span><a href="#896772" title="ExplicitOuter.this.global.CompilationUnit">unit</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(prev: scala.tools.nsc.Phase)ExplicitOuter.this.StdPhase" id="512154">newPhase</a><span class="delimiter">(</span><a title="scala.tools.nsc.Phase" id="515174">prev</a>: scala.tools.nsc.<a href="../Phase.scala.html#22578" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span>: <a href="../SubComponent.scala.html#500485" title="ExplicitOuter.this.StdPhase">StdPhase</a> =
    <span title="ExplicitOuter.this.Phase" class="keyword">new</span> <a href="#512155" title="ExplicitOuter.this.Phase">Phase</a><span class="delimiter">(</span><a href="#515174" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span>

  <span class="keyword">class</span> <a title="class Phase extends ExplicitOuter.this.Phase with ScalaObject" id="512155">Phase</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="scala.tools.nsc.Phase" id="896800">prev</a>: scala.tools.nsc.<a href="../Phase.scala.html#22578" title="scala.tools.nsc.Phase">Phase</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#38914" title="scala.tools.nsc.transform.ExplicitOuter" class="keyword">super</a>.<a href="InfoTransform.scala.html#511902" title="ExplicitOuter.this.Phase">Phase</a><span class="delimiter">(</span><a href="#896800" title="scala.tools.nsc.Phase">prev</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">override</span> <span class="keyword">val</span> <a title="Boolean" id="896797">checkable</a> = <span title="Boolean(false)" class="keyword">false</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="()Unit" id="896799">run</a><span class="delimiter">(</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <a href="#512155" title="ExplicitOuter.this.Phase" class="keyword">super</a>.<a href="../Global.scala.html#511655" title="()Unit">run</a>
      <a href="../matching/Patterns.scala.html#512253" title="object ExplicitOuter.this.Pattern">Pattern</a>.<a href="../matching/Patterns.scala.html#797138" title="()Unit">clear</a><span class="delimiter">(</span><span class="delimiter">)</span>    <span class="comment">// clear the cache</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>