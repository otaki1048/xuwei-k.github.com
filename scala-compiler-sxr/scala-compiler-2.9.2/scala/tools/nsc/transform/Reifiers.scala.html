<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/Reifiers.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> scala.tools.nsc.symtab.SymbolTable
<span class="keyword">import</span> scala.reflect
<span class="keyword">import</span> collection.mutable.HashMap

<span class="comment">/** Functions to reify (and un-reify) symbols, types, and trees.
 *  These can be used with only a symbol table; they do not
 *  need a full compiler.
 *
 *  @author Gilles Dubochet, Lex Spoon
 */</span>
<span class="keyword">trait</span> <a title="trait Reifiers extends java.lang.Object with ScalaObject" id="38146">Reifiers</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">val</span> <a title="=&gt; scala.tools.nsc.symtab.SymbolTable" id="512002">symbols</a>: <a href="../symtab/SymbolTable.scala.html#36432" title="scala.tools.nsc.symtab.SymbolTable">SymbolTable</a>
  <span class="keyword">import</span> <a href="#512002" title="=&gt; scala.tools.nsc.symtab.SymbolTable">symbols</a>._

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(fullname: String, sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol" id="512004">mkGlobalSymbol</a><span class="delimiter">(</span><a title="String" id="905332">fullname</a>: <span title="String">String</span>, <a title="Reifiers.this.symbols.Symbol" id="905333">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Reifiers.this.symbols.Symbol">Symbol</a><span class="delimiter">)</span>: reflect.<a href="../../../reflect/Symbol.scala.html#3004" title="scala.reflect.Symbol">Symbol</a> =
    <span title="scala.reflect.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#905333" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> reflect.<a href="../../../reflect/Symbol.scala.html#429134" title="(fullname: String)scala.reflect.Class">Class</a><span class="delimiter">(</span><a href="#905332" title="String">fullname</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.reflect.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#905333" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435370" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> reflect.<a href="../../../reflect/Symbol.scala.html#429282" title="(fullname: String, tpe: scala.reflect.Type)scala.reflect.TypeField">TypeField</a><span class="delimiter">(</span><a href="#905332" title="String">fullname</a>, <a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905333" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Reifiers.this.symbols.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.reflect.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#905333" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a><span class="delimiter">)</span> reflect.<a href="../../../reflect/Symbol.scala.html#429184" title="(fullname: String, tpe: scala.reflect.Type)scala.reflect.Method">Method</a><span class="delimiter">(</span><a href="#905332" title="String">fullname</a>, <a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905333" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Reifiers.this.symbols.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.reflect.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#905333" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509175" title="=&gt; Boolean">isValueParameter</a><span class="delimiter">)</span> reflect.<a href="../../../reflect/Symbol.scala.html#429331" title="(owner: scala.reflect.Symbol, name: String, tpe: scala.reflect.Type)scala.reflect.LocalValue">LocalValue</a><span class="delimiter">(</span>reflect.<a href="../../../reflect/Symbol.scala.html#3128" title="object scala.reflect.NoSymbol">NoSymbol</a>, <a href="#905332" title="String">fullname</a>, <a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905333" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Reifiers.this.symbols.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> reflect.<a href="../../../reflect/Symbol.scala.html#429233" title="(fullname: String, tpe: scala.reflect.Type)scala.reflect.Field">Field</a><span class="delimiter">(</span><a href="#905332" title="String">fullname</a>, <a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905333" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Reifiers.this.symbols.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span>;

  <span class="keyword">def</span> <a title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol" id="512005">reify</a><span class="delimiter">(</span><a title="Reifiers.this.symbols.Symbol" id="900814">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Reifiers.this.symbols.Symbol">Symbol</a><span class="delimiter">)</span>: reflect.<a href="../../../reflect/Symbol.scala.html#3004" title="scala.reflect.Symbol">Symbol</a> = <span class="delimiter">{</span>
    <span title="scala.reflect.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435396" title="=&gt; Boolean">isRoot</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435397" title="=&gt; Boolean">isRootPackage</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435393" title="=&gt; Boolean">isEmptyPackageClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435392" title="=&gt; Boolean">isEmptyPackage</a><span class="delimiter">)</span>
      reflect.<a href="../../../reflect/Symbol.scala.html#3032" title="object scala.reflect.RootSymbol">RootSymbol</a>
    <span class="keyword">else</span> <span title="scala.reflect.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509175" title="=&gt; Boolean">isValueParameter</a><span class="delimiter">)</span>
      <a href="#512004" title="(fullname: String, sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">mkGlobalSymbol</a><span class="delimiter">(</span><a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Reifiers.this.symbols.Name">name</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a>, <a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="scala.reflect.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Reifiers.this.symbols.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span>
      reflect.<a href="../../../reflect/Symbol.scala.html#3128" title="object scala.reflect.NoSymbol">NoSymbol</a>
    <span class="keyword">else</span> <a href="#512005" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Reifiers.this.symbols.Symbol">owner</a><span class="delimiter">)</span> <span title="scala.reflect.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="reflect.NoSymbol.type">reflect</span>.<a href="../../../reflect/Symbol.scala.html#3128" title="object scala.reflect.NoSymbol">NoSymbol</a> =&gt;
        reflect.<a href="../../../reflect/Symbol.scala.html#3128" title="object scala.reflect.NoSymbol">NoSymbol</a>;
      <span class="keyword">case</span> <span title="scala.reflect.Symbol">reflect</span>.<a href="../../../reflect/Symbol.scala.html#3032" title="object scala.reflect.RootSymbol">RootSymbol</a> =&gt;
        <a href="#512004" title="(fullname: String, sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">mkGlobalSymbol</a><span class="delimiter">(</span><a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Reifiers.this.symbols.Name">name</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.reflect.Symbol">reflect</span>.Class<span class="delimiter">(</span><a title="String" id="905373">ownername</a><span class="delimiter">)</span> =&gt;
        <a href="#512004" title="(fullname: String, sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">mkGlobalSymbol</a><span class="delimiter">(</span><a href="#905373" title="String">ownername</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Reifiers.this.symbols.Name">name</a>, <a href="#900814" title="Reifiers.this.symbols.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="reflect.NoSymbol.type">_</span> =&gt;
        reflect.<a href="../../../reflect/Symbol.scala.html#3128" title="object scala.reflect.NoSymbol">NoSymbol</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">var</span> <a title="Boolean" id="512007">_log_reify_type_</a> = <span title="Boolean(false)" class="keyword">false</span>

  <span class="keyword">def</span> <a title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type" id="512009">reify</a><span class="delimiter">(</span><a title="Reifiers.this.symbols.Type" id="900811">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Reifiers.this.symbols.Type">Type</a><span class="delimiter">)</span>: reflect.<a href="../../../reflect/Type.scala.html#2914" title="scala.reflect.Type">Type</a> = <a href="#900811" title="Reifiers.this.symbols.Type">tp</a> <span title="scala.reflect.Type" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478727" title="reflect.NoType.type">ErrorType</a> =&gt;
      reflect.<a href="../../../reflect/Type.scala.html#2822" title="object scala.reflect.NoType">NoType</a>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478729" title="reflect.NoType.type">WildcardType</a> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#512007" title="=&gt; Boolean">_log_reify_type_</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot handle WildcardType&quot;)" class="string">&quot;cannot handle WildcardType&quot;</span><span class="delimiter">)</span>
    reflect.<a href="../../../reflect/Type.scala.html#2822" title="object scala.reflect.NoType">NoType</a>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478734" title="reflect.NoType.type">NoType</a> =&gt;
      reflect.<a href="../../../reflect/Type.scala.html#2822" title="object scala.reflect.NoType">NoType</a>
    <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478736" title="reflect.NoType.type">NoPrefix</a> =&gt;
      reflect.<a href="../../../reflect/Type.scala.html#2822" title="object scala.reflect.NoType">NoType</a>
    <span class="keyword">case</span> <span title="scala.reflect.ThisType">ThisType</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Symbol" id="905377">sym</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="905378">rsym</a> = <a href="#512005" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#905377" title="Reifiers.this.symbols.Symbol">sym</a><span class="delimiter">)</span>
      reflect.<a href="../../../reflect/Type.scala.html#429623" title="(clazz: scala.reflect.Symbol)scala.reflect.ThisType">ThisType</a><span class="delimiter">(</span><a href="#905378" title="scala.reflect.Symbol">rsym</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.reflect.SingleType">SingleType</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Type" id="905388">pre</a>, <a title="Reifiers.this.symbols.Symbol" id="905389">sym</a><span class="delimiter">)</span> =&gt;
      reflect.<a href="../../../reflect/Type.scala.html#429568" title="(pre: scala.reflect.Type, sym: scala.reflect.Symbol)scala.reflect.SingleType">SingleType</a><span class="delimiter">(</span><a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905388" title="Reifiers.this.symbols.Type">pre</a><span class="delimiter">)</span>, <a href="#512005" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#905389" title="Reifiers.this.symbols.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.reflect.Type">ConstantType</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Constant" id="905401">value</a><span class="delimiter">)</span> =&gt;
      <a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905401" title="Reifiers.this.symbols.Constant">value</a>.<a href="../../../reflect/generic/Constants.scala.html#434223" title="=&gt; Reifiers.this.symbols.Type">tpe</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.reflect.Type">TypeRef</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Type" id="905409">pre</a>, <a title="Reifiers.this.symbols.Symbol" id="905410">sym</a>, <a title="List[Reifiers.this.symbols.Type]" id="905411">args</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="scala.reflect.Type" id="905412">rpre</a> = <a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905409" title="Reifiers.this.symbols.Type">pre</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="905413">rsym</a> = <a href="#512005" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#905410" title="Reifiers.this.symbols.Symbol">sym</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="List[scala.reflect.Type]" id="905414">rargs</a> = <a href="#905411" title="List[Reifiers.this.symbols.Type]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.Type =&gt; scala.reflect.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.Type],scala.reflect.Type,List[scala.reflect.Type]])List[scala.reflect.Type]">map</a> <a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a>
      <span class="keyword">val</span> <a title="scala.reflect.PrefixedType" id="905415">beforeArgs</a> = reflect.<a href="../../../reflect/Type.scala.html#429513" title="(pre: scala.reflect.Type, sym: scala.reflect.Symbol)scala.reflect.PrefixedType">PrefixedType</a><span class="delimiter">(</span><a href="#905412" title="scala.reflect.Type">rpre</a>, <a href="#905413" title="scala.reflect.Symbol">rsym</a><span class="delimiter">)</span>
      <span title="scala.reflect.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#905414" title="List[scala.reflect.Type]">rargs</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
	<a href="#905415" title="scala.reflect.PrefixedType">beforeArgs</a>
      <span class="keyword">else</span> <span title="scala.reflect.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#905412" title="scala.reflect.Type">rpre</a> <span title="(x$1: AnyRef)Boolean">==</span> reflect.<a href="../../../reflect/Type.scala.html#2822" title="object scala.reflect.NoType">NoType</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#905413" title="scala.reflect.Symbol">rsym</a> <span title="(x$1: AnyRef)Boolean">==</span> reflect.<a href="../../../reflect/Symbol.scala.html#3128" title="object scala.reflect.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
	<a href="#905415" title="scala.reflect.PrefixedType">beforeArgs</a>
      <span class="keyword">else</span>
	reflect.<a href="../../../reflect/Type.scala.html#429659" title="(tpe: scala.reflect.Type, args: List[scala.reflect.Type])scala.reflect.AppliedType">AppliedType</a><span class="delimiter">(</span><a href="#905415" title="scala.reflect.PrefixedType">beforeArgs</a>, <a href="#905414" title="List[scala.reflect.Type]">rargs</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.reflect.TypeBounds">TypeBounds</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Type" id="905494">lo</a>, <a title="Reifiers.this.symbols.Type" id="905495">hi</a><span class="delimiter">)</span> =&gt;
      reflect.<a href="../../../reflect/Type.scala.html#429755" title="(lo: scala.reflect.Type, hi: scala.reflect.Type)scala.reflect.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905494" title="Reifiers.this.symbols.Type">lo</a><span class="delimiter">)</span>, <a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905495" title="Reifiers.this.symbols.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="reflect.NoType.type">RefinedType</span><span class="delimiter">(</span><a title="List[Reifiers.this.symbols.Type]" id="905508">parents</a>, <a title="Reifiers.this.symbols.Scope" id="905509">defs</a><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#512007" title="=&gt; Boolean">_log_reify_type_</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot handle RefinedType &quot;)" class="string">&quot;cannot handle RefinedType &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#900811" title="Reifiers.this.symbols.Type">tp</a><span class="delimiter">)</span>; reflect.<a href="../../../reflect/Type.scala.html#2822" title="object scala.reflect.NoType">NoType</a>
    <span class="keyword">case</span> <span title="reflect.NoType.type">ClassInfoType</span><span class="delimiter">(</span><a title="List[Reifiers.this.symbols.Type]" id="905515">parents</a>, <a title="Reifiers.this.symbols.Scope" id="905516">defs</a>, <a title="Reifiers.this.symbols.Symbol" id="905517">clazz</a><span class="delimiter">)</span> =&gt;
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#512007" title="=&gt; Boolean">_log_reify_type_</a><span class="delimiter">)</span> <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot handle ClassInfoType &quot;)" class="string">&quot;cannot handle ClassInfoType &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#900811" title="Reifiers.this.symbols.Type">tp</a><span class="delimiter">)</span>; reflect.<a href="../../../reflect/Type.scala.html#2822" title="object scala.reflect.NoType">NoType</a>
    <span class="keyword">case</span> <span title="scala.reflect.MethodType">MethodType</span><span class="delimiter">(</span><a title="List[Reifiers.this.symbols.Symbol]" id="905522">params</a>, <a title="Reifiers.this.symbols.Type" id="905523">result</a><span class="delimiter">)</span> =&gt;
      reflect.<a href="../../../reflect/Type.scala.html#429810" title="(formals: List[scala.reflect.Symbol], restpe: scala.reflect.Type)scala.reflect.MethodType">MethodType</a><span class="delimiter">(</span><a href="#905522" title="List[Reifiers.this.symbols.Symbol]">params</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.Symbol =&gt; scala.reflect.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.Symbol],scala.reflect.Symbol,List[scala.reflect.Symbol]])List[scala.reflect.Symbol]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scala.reflect.Symbol,List[scala.reflect.Symbol]]" class="delimiter">(</a><a href="#512005" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">)</span>, <a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905523" title="Reifiers.this.symbols.Type">result</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.reflect.NullaryMethodType">NullaryMethodType</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Type" id="905583">result</a><span class="delimiter">)</span> =&gt;
      reflect.<a href="../../../reflect/Type.scala.html#429906" title="(resultType: scala.reflect.Type)scala.reflect.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905583" title="Reifiers.this.symbols.Type">result</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="scala.reflect.PolyType">PolyType</span><span class="delimiter">(</span><a title="List[Reifiers.this.symbols.Symbol]" id="905591">tparams</a>, <a title="Reifiers.this.symbols.Type" id="905592">result</a><span class="delimiter">)</span> =&gt;
      <span class="keyword">val</span> <a title="List[(scala.reflect.Type, scala.reflect.Type)]" id="905593">boundss</a> =
	<span class="keyword">for</span> <span class="delimiter">{</span>
	  <a href="../../../Tuple2.scala.html#53390" title="Reifiers.this.symbols.Symbol" id="905688">param</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.Symbol =&gt; (Reifiers.this.symbols.Symbol, Reifiers.this.symbols.TypeBounds))(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.Symbol],(Reifiers.this.symbols.Symbol, Reifiers.this.symbols.TypeBounds),List[(Reifiers.this.symbols.Symbol, Reifiers.this.symbols.TypeBounds)]])List[(Reifiers.this.symbols.Symbol, Reifiers.this.symbols.TypeBounds)]">tparams</a>
	  TypeBounds<a href="../../../Tuple3.scala.html#53296" title="(Reifiers.this.symbols.TypeBounds, Reifiers.this.symbols.Type, Reifiers.this.symbols.Type)" id="905612" class="delimiter">(</a><a href="../../../Tuple3.scala.html#53314" title="Reifiers.this.symbols.Type" id="905691">lo</a>,<a href="../../../Tuple3.scala.html#53316" title="Reifiers.this.symbols.Type" id="905692">hi</a><span class="delimiter">)</span> = <a href="#905688" title="Reifiers.this.symbols.Symbol">param</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Reifiers.this.symbols.Type">info</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Reifiers.this.symbols.TypeBounds">bounds</a>
	<span class="delimiter">}</span> <span class="keyword">yield</span> <a href="../../../Tuple2.scala.html#53390" title="(_1: scala.reflect.Type, _2: scala.reflect.Type)(scala.reflect.Type, scala.reflect.Type)" class="delimiter">(</a><a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905691" title="Reifiers.this.symbols.Type">lo</a><span class="delimiter">)</span>, <a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905692" title="Reifiers.this.symbols.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>

      reflect.<a href="../../../reflect/Type.scala.html#429942" title="(typeParams: List[scala.reflect.Symbol], typeBounds: List[(scala.reflect.Type, scala.reflect.Type)], resultType: scala.reflect.Type)scala.reflect.PolyType">PolyType</a><span class="delimiter">(</span>
	<a href="#905591" title="List[Reifiers.this.symbols.Symbol]">tparams</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.Symbol =&gt; scala.reflect.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.Symbol],scala.reflect.Symbol,List[scala.reflect.Symbol]])List[scala.reflect.Symbol]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scala.reflect.Symbol,List[scala.reflect.Symbol]]" class="delimiter">(</a><a href="#512005" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">)</span>,
	<a href="#905593" title="List[(scala.reflect.Type, scala.reflect.Type)]">boundss</a>,
	<a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905592" title="Reifiers.this.symbols.Type">result</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="comment">//todo: treat ExistentialType</span>
    <span class="keyword">case</span> <span title="scala.reflect.Type">AnnotatedType</span><span class="delimiter">(</span><a title="List[Reifiers.this.symbols.AnnotationInfo]" id="905800">annots</a>, <a title="Reifiers.this.symbols.Type" id="905801">tp</a>, _<span class="delimiter">)</span> =&gt;
      <a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#905801" title="Reifiers.this.symbols.Type">tp</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="reflect.NoType.type">_</span> =&gt;
      <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;could not reify: &quot;)" class="string">&quot;could not reify: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#900811" title="Reifiers.this.symbols.Type">tp</a><span class="delimiter">)</span>
      reflect.<a href="../../../reflect/Type.scala.html#2822" title="object scala.reflect.NoType">NoType</a>
  <span class="delimiter">}</span>


  <span class="comment">/** This is woefully incomplete.  It is barely enough
   *  to process the types of Constant's .
   */</span>
  <span class="keyword">def</span> <a title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type" id="512010">unreify</a><span class="delimiter">(</span><a title="scala.reflect.Type" id="905808">tpe</a>: reflect.<a href="../../../reflect/Type.scala.html#2914" title="scala.reflect.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Reifiers.this.symbols.Type">Type</a> =
    <a href="#905808" title="scala.reflect.Type">tpe</a> <span title="Reifiers.this.symbols.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.NoPrefix.type">reflect</span>.<a href="../../../reflect/Type.scala.html#3002" title="object scala.reflect.NoPrefix">NoPrefix</a> =&gt; <a href="../symtab/Types.scala.html#478736" title="object Reifiers.this.symbols.NoPrefix">NoPrefix</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.NoType.type">reflect</span>.<a href="../../../reflect/Type.scala.html#2822" title="object scala.reflect.NoType">NoType</a> =&gt; <a href="../symtab/Types.scala.html#478734" title="object Reifiers.this.symbols.NoType">NoType</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.NoType.type">reflect</span>.NamedType<span class="delimiter">(</span><a title="String" id="905810">fullname</a><span class="delimiter">)</span> =&gt;
	<span class="comment">//NamedType(fullname)</span>
	<a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;NamedType: &quot;)" class="string">&quot;NamedType: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#905810" title="String">fullname</a><span class="delimiter">)</span>
	<a href="../symtab/Types.scala.html#478734" title="object Reifiers.this.symbols.NoType">NoType</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.PrefixedType<span class="delimiter">(</span>_, reflect.Class<span class="delimiter">(</span><span title="java.lang.String(&quot;scala.Array&quot;)" class="string">&quot;scala.Array&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508099" title="=&gt; Reifiers.this.symbols.Symbol">ArrayClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.PrefixedType<span class="delimiter">(</span>_, reflect.Class<span class="delimiter">(</span><span title="java.lang.String(&quot;java.lang.String&quot;)" class="string">&quot;java.lang.String&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508005" title="=&gt; Reifiers.this.symbols.Symbol">StringClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.PrefixedType<span class="delimiter">(</span>_, reflect.Class<span class="delimiter">(</span><span title="java.lang.String(&quot;scala.Unit&quot;)" class="string">&quot;scala.Unit&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508423" title="=&gt; Reifiers.this.symbols.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.PrefixedType<span class="delimiter">(</span>_, reflect.Class<span class="delimiter">(</span><span title="java.lang.String(&quot;scala.Boolean&quot;)" class="string">&quot;scala.Boolean&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508439" title="=&gt; Reifiers.this.symbols.Symbol">BooleanClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.PrefixedType<span class="delimiter">(</span>_, reflect.Class<span class="delimiter">(</span><span title="java.lang.String(&quot;scala.Byte&quot;)" class="string">&quot;scala.Byte&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508425" title="=&gt; Reifiers.this.symbols.Symbol">ByteClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.PrefixedType<span class="delimiter">(</span>_, reflect.Class<span class="delimiter">(</span><span title="java.lang.String(&quot;scala.Short&quot;)" class="string">&quot;scala.Short&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508427" title="=&gt; Reifiers.this.symbols.Symbol">ShortClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.PrefixedType<span class="delimiter">(</span>_, reflect.Class<span class="delimiter">(</span><span title="java.lang.String(&quot;scala.Int&quot;)" class="string">&quot;scala.Int&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508431" title="=&gt; Reifiers.this.symbols.Symbol">IntClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.PrefixedType<span class="delimiter">(</span>_, reflect.Class<span class="delimiter">(</span><span title="java.lang.String(&quot;scala.Long&quot;)" class="string">&quot;scala.Long&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508433" title="=&gt; Reifiers.this.symbols.Symbol">LongClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.PrefixedType<span class="delimiter">(</span>_, reflect.Class<span class="delimiter">(</span><span title="java.lang.String(&quot;scala.Float&quot;)" class="string">&quot;scala.Float&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508435" title="=&gt; Reifiers.this.symbols.Symbol">FloatClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.PrefixedType<span class="delimiter">(</span>_, reflect.Class<span class="delimiter">(</span><span title="java.lang.String(&quot;scala.Double&quot;)" class="string">&quot;scala.Double&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508437" title="=&gt; Reifiers.this.symbols.Symbol">DoubleClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Reifiers.this.symbols.Type">tpe</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.NoType.type">reflect</span>.PrefixedType<span class="delimiter">(</span><a title="scala.reflect.Type" id="905813">pre</a>, <a title="scala.reflect.Symbol" id="905814">sym</a><span class="delimiter">)</span> =&gt;
	<a href="../symtab/Types.scala.html#478734" title="object Reifiers.this.symbols.NoType">NoType</a>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.SingleType<span class="delimiter">(</span><a title="scala.reflect.Type" id="905815">pre</a>, <a title="scala.reflect.Symbol" id="905816">sym</a><span class="delimiter">)</span> =&gt;
	<a href="../symtab/Types.scala.html#546410" title="(pre: Reifiers.this.symbols.Type, sym: Reifiers.this.symbols.Symbol)Reifiers.this.symbols.Type">SingleType</a><span class="delimiter">(</span><a href="#512010" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a><span class="delimiter">(</span><a href="#905815" title="scala.reflect.Type">pre</a><span class="delimiter">)</span>, <a href="#512011" title="(symbol: scala.reflect.Symbol)Reifiers.this.symbols.Symbol">unreify</a><span class="delimiter">(</span><a href="#905816" title="scala.reflect.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.ThisType<span class="delimiter">(</span><a title="scala.reflect.Symbol" id="905831">clazz</a><span class="delimiter">)</span> =&gt;
	<a href="../symtab/Types.scala.html#546333" title="(sym: Reifiers.this.symbols.Symbol)Reifiers.this.symbols.Type">ThisType</a><span class="delimiter">(</span><a href="#512011" title="(symbol: scala.reflect.Symbol)Reifiers.this.symbols.Symbol">unreify</a><span class="delimiter">(</span><a href="#905831" title="scala.reflect.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Type">reflect</span>.AppliedType<span class="delimiter">(</span><a title="scala.reflect.Type" id="905838">tpe</a>, <a title="List[scala.reflect.Type]" id="905839">args</a><span class="delimiter">)</span> =&gt;
	<span class="keyword">val</span> <a title="Reifiers.this.symbols.Type" id="905840">untpe</a> = <a href="#512010" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a><span class="delimiter">(</span><a href="#905838" title="scala.reflect.Type">tpe</a><span class="delimiter">)</span>
	<span title="Reifiers.this.symbols.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#905840" title="Reifiers.this.symbols.Type">untpe</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Types.scala.html#478734" title="object Reifiers.this.symbols.NoType">NoType</a><span class="delimiter">)</span>
	  <a href="../symtab/Types.scala.html#478734" title="object Reifiers.this.symbols.NoType">NoType</a>
	<span class="keyword">else</span>
	  <a href="../symtab/Types.scala.html#478817" title="(tycon: Reifiers.this.symbols.Type, args: List[Reifiers.this.symbols.Type])Reifiers.this.symbols.Type">appliedType</a><span class="delimiter">(</span><a href="#905840" title="Reifiers.this.symbols.Type">untpe</a>, <a href="#905839" title="List[scala.reflect.Type]">args</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: scala.reflect.Type =&gt; Reifiers.this.symbols.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.reflect.Type],Reifiers.this.symbols.Type,List[Reifiers.this.symbols.Type]])List[Reifiers.this.symbols.Type]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Reifiers.this.symbols.Type,List[Reifiers.this.symbols.Type]]" class="delimiter">(</a><a href="#512010" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.TypeBounds">reflect</span>.TypeBounds<span class="delimiter">(</span><a title="scala.reflect.Type" id="905910">lo</a>, <a title="scala.reflect.Type" id="905911">hi</a><span class="delimiter">)</span> =&gt;
	<a href="../symtab/Types.scala.html#546580" title="(lo: Reifiers.this.symbols.Type, hi: Reifiers.this.symbols.Type)Reifiers.this.symbols.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#512010" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a><span class="delimiter">(</span><a href="#905910" title="scala.reflect.Type">lo</a><span class="delimiter">)</span>, <a href="#512010" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a><span class="delimiter">(</span><a href="#905911" title="scala.reflect.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.MethodType">reflect</span>.MethodType<span class="delimiter">(</span><a title="List[scala.reflect.Symbol]" id="905924">params</a>, <a title="scala.reflect.Type" id="905925">restpe</a><span class="delimiter">)</span> =&gt;
	<a href="../symtab/Types.scala.html#546837" title="(params: List[Reifiers.this.symbols.Symbol], resultType: Reifiers.this.symbols.Type)Reifiers.this.symbols.MethodType">MethodType</a><span class="delimiter">(</span><a href="#905924" title="List[scala.reflect.Symbol]">params</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: scala.reflect.Symbol =&gt; Reifiers.this.symbols.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.reflect.Symbol],Reifiers.this.symbols.Symbol,List[Reifiers.this.symbols.Symbol]])List[Reifiers.this.symbols.Symbol]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Reifiers.this.symbols.Symbol,List[Reifiers.this.symbols.Symbol]]" class="delimiter">(</a><a href="#512011" title="(symbol: scala.reflect.Symbol)Reifiers.this.symbols.Symbol">unreify</a><span class="delimiter">)</span>, <a href="#512010" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a><span class="delimiter">(</span><a href="#905925" title="scala.reflect.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.NullaryMethodType">reflect</span>.NullaryMethodType<span class="delimiter">(</span><a title="scala.reflect.Type" id="905991">restpe</a><span class="delimiter">)</span> =&gt;
	<a href="../symtab/Types.scala.html#546934" title="(resultType: Reifiers.this.symbols.Type)Reifiers.this.symbols.NullaryMethodType">NullaryMethodType</a><span class="delimiter">(</span><a href="#512010" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a><span class="delimiter">(</span><a href="#905991" title="scala.reflect.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.PolyType">reflect</span>.PolyType<span class="delimiter">(</span><a title="List[scala.reflect.Symbol]" id="905998">typeParams</a>, <a title="List[(scala.reflect.Type, scala.reflect.Type)]" id="905999">typeBounds</a>, <a title="scala.reflect.Type" id="906000">resultType</a><span class="delimiter">)</span> =&gt;
	<a href="../symtab/Types.scala.html#546990" title="(typeParams: List[Reifiers.this.symbols.Symbol], resultType: Reifiers.this.symbols.Type)Reifiers.this.symbols.PolyType">PolyType</a><span class="delimiter">(</span><a href="#905998" title="List[scala.reflect.Symbol]">typeParams</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: scala.reflect.Symbol =&gt; Reifiers.this.symbols.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[scala.reflect.Symbol],Reifiers.this.symbols.Symbol,List[Reifiers.this.symbols.Symbol]])List[Reifiers.this.symbols.Symbol]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,Reifiers.this.symbols.Symbol,List[Reifiers.this.symbols.Symbol]]" class="delimiter">(</a><a href="#512011" title="(symbol: scala.reflect.Symbol)Reifiers.this.symbols.Symbol">unreify</a><span class="delimiter">)</span>, <a href="#512010" title="(tpe: scala.reflect.Type)Reifiers.this.symbols.Type">unreify</a><span class="delimiter">(</span><a href="#906000" title="scala.reflect.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="comment">//todo: treat ExistentialType</span>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.NoType.type">_</span> =&gt; <a href="../symtab/Types.scala.html#478734" title="object Reifiers.this.symbols.NoType">NoType</a>
    <span class="delimiter">}</span>


  <span class="comment">/** This is woefully incomplete.  It is barely enough
   *  to process the types of Constant's .
   */</span>
  <span class="keyword">def</span> <a title="(symbol: scala.reflect.Symbol)Reifiers.this.symbols.Symbol" id="512011">unreify</a><span class="delimiter">(</span><a title="scala.reflect.Symbol" id="905825">symbol</a>: reflect.<a href="../../../reflect/Symbol.scala.html#3004" title="scala.reflect.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Symbols.scala.html#478659" title="Reifiers.this.symbols.Symbol">Symbol</a> =
    <a href="#905825" title="scala.reflect.Symbol">symbol</a> <span title="Reifiers.this.symbols.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Reifiers.this.symbols.Symbol">reflect</span>.Class<span class="delimiter">(</span><a title="String" id="906061">fullname</a><span class="delimiter">)</span> =&gt;
	<a href="#906061" title="String">fullname</a> <span title="Reifiers.this.symbols.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
	  <span class="keyword">case</span> <span title="Reifiers.this.symbols.Symbol" class="string">&quot;scala.Unit&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508423" title="=&gt; Reifiers.this.symbols.Symbol">UnitClass</a>
	  <span class="keyword">case</span> <span title="Reifiers.this.symbols.Symbol" class="string">&quot;scala.Boolean&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508439" title="=&gt; Reifiers.this.symbols.Symbol">BooleanClass</a>
	  <span class="keyword">case</span> <span title="Reifiers.this.symbols.Symbol" class="string">&quot;scala.Byte&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508425" title="=&gt; Reifiers.this.symbols.Symbol">ByteClass</a>
	  <span class="keyword">case</span> <span title="Reifiers.this.symbols.Symbol" class="string">&quot;scala.Short&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508427" title="=&gt; Reifiers.this.symbols.Symbol">ShortClass</a>
	  <span class="keyword">case</span> <span title="Reifiers.this.symbols.Symbol" class="string">&quot;scala.Int&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508431" title="=&gt; Reifiers.this.symbols.Symbol">IntClass</a>
	  <span class="keyword">case</span> <span title="Reifiers.this.symbols.Symbol" class="string">&quot;scala.Long&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508433" title="=&gt; Reifiers.this.symbols.Symbol">LongClass</a>
	  <span class="keyword">case</span> <span title="Reifiers.this.symbols.Symbol" class="string">&quot;scala.Float&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508435" title="=&gt; Reifiers.this.symbols.Symbol">FloatClass</a>
	  <span class="keyword">case</span> <span title="Reifiers.this.symbols.Symbol" class="string">&quot;scala.Double&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508437" title="=&gt; Reifiers.this.symbols.Symbol">DoubleClass</a>

	  <span class="keyword">case</span> <span title="Reifiers.this.symbols.Symbol" class="string">&quot;scala.Array&quot;</span> =&gt; <a href="../symtab/Definitions.scala.html#479030" title="object Reifiers.this.symbols.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508099" title="=&gt; Reifiers.this.symbols.Symbol">ArrayClass</a>

	  <span class="keyword">case</span> <span title="Reifiers.this.symbols.NoSymbol.type">_</span> =&gt; <a href="../symtab/Symbols.scala.html#478667" title="object Reifiers.this.symbols.NoSymbol">NoSymbol</a>

	<span class="delimiter">}</span>

      <span class="keyword">case</span> <span title="Reifiers.this.symbols.NoSymbol.type">_</span> =&gt; <a href="../symtab/Symbols.scala.html#478667" title="object Reifiers.this.symbols.NoSymbol">NoSymbol</a>
    <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class FreeValue extends scala.reflect.Tree with ScalaObject with Product with Serializable" id="900516">FreeValue</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Reifiers.this.symbols.Tree" id="906213">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Reifiers.this.symbols.Tree">Tree</a><span class="delimiter">)</span> <span class="keyword">extends</span> reflect.<a href="../../../reflect/Tree.scala.html#2902" title="scala.reflect.Tree">Tree</a>

  <span class="keyword">class</span> <a title="class ReifyEnvironment extends scala.collection.mutable.HashMap[Reifiers.this.symbols.Symbol,scala.reflect.Symbol] with ScalaObject" id="512015">ReifyEnvironment</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[Reifiers.this.symbols.Symbol,scala.reflect.Symbol]">HashMap</a><span class="delimiter">[</span>Symbol, reflect.Symbol<span class="delimiter">]</span> <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]" id="906089">targets</a> = <a href="../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]" class="keyword">new</a> <a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]">HashMap</a><span class="delimiter">[</span>String, Option<span class="delimiter">[</span>reflect.LabelSymbol<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(name: String, target: scala.reflect.LabelSymbol)Unit" id="906091">addTarget</a><span class="delimiter">(</span><a title="String" id="906106">name</a>: <span title="String">String</span>, <a title="scala.reflect.LabelSymbol" id="906107">target</a>: reflect.<a href="../../../reflect/Symbol.scala.html#2884" title="scala.reflect.LabelSymbol">LabelSymbol</a><span class="delimiter">)</span>: <a href="../../../Unit.scala.html#461" title="Unit">Unit</a> =
      <a href="#906089" title="=&gt; scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]">targets</a>.<a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: String, value: Option[scala.reflect.LabelSymbol])Unit">update</a><span class="delimiter">(</span><a href="#906106" title="String">name</a>, <a href="../../../Option.scala.html#57885" title="(x: scala.reflect.LabelSymbol)Some[scala.reflect.LabelSymbol]">Some</a><span class="delimiter">(</span><a href="#906107" title="scala.reflect.LabelSymbol">target</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">def</span> <a title="(name: String)Option[scala.reflect.LabelSymbol]" id="906092">getTarget</a><span class="delimiter">(</span><a title="String" id="906125">name</a>: <span title="String">String</span><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[scala.reflect.LabelSymbol]">Option</a><span class="delimiter">[</span>reflect.LabelSymbol<span class="delimiter">]</span> =
      <a href="#906089" title="=&gt; scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]">targets</a>.<a href="../../../collection/mutable/HashMap.scala.html#73158" title="(key: String)Option[Option[scala.reflect.LabelSymbol]]">get</a><span class="delimiter">(</span><a href="#906125" title="String">name</a><span class="delimiter">)</span> <span title="Option[scala.reflect.LabelSymbol]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="None.type">None</a> =&gt;
          <a href="#906089" title="=&gt; scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]">targets</a>.<a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: String, value: Option[scala.reflect.LabelSymbol])Unit">update</a><span class="delimiter">(</span><a href="#906125" title="String">name</a>, <a href="../../../Option.scala.html#1737" title="object None">None</a><span class="delimiter">)</span>
          <a href="../../../Option.scala.html#1737" title="object None">None</a>
        <span class="comment">//case Some(None) =&gt; None //bq:redundant</span>
        <span class="keyword">case</span> <span title="Option[scala.reflect.LabelSymbol]">Some</span><span class="delimiter">(</span><a title="Option[scala.reflect.LabelSymbol]" id="906140">tgt</a><span class="delimiter">)</span> =&gt; <a href="#906140" title="Option[scala.reflect.LabelSymbol]">tgt</a>
      <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="=&gt; Boolean" id="906093">hasAllTargets</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
      <a href="#906089" title="=&gt; scala.collection.mutable.HashMap[String,Option[scala.reflect.LabelSymbol]]">targets</a>.<a href="../../../collection/mutable/HashMap.scala.html#73164" title="=&gt; Iterator[(String, Option[scala.reflect.LabelSymbol])]">iterator</a>.<a href="../../../collection/Iterator.scala.html#59115" title="(f: ((String, Option[scala.reflect.LabelSymbol])) =&gt; Option[scala.reflect.LabelSymbol])Iterator[Option[scala.reflect.LabelSymbol]]">map</a><span class="delimiter">(</span><a href="#906148" title="(String, Option[scala.reflect.LabelSymbol])">_</a>.<a href="../../../Tuple2.scala.html#53404" title="=&gt; Option[scala.reflect.LabelSymbol]">_2</a><span class="delimiter">)</span>.<a href="../../../collection/Iterator.scala.html#59157" title="(p: Option[scala.reflect.LabelSymbol] =&gt; Boolean)Boolean">forall</a> <a href="#906156" title="Boolean" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="Boolean(true)">Some</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt; <span title="Boolean(true)" class="keyword">true</span>
        <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="Boolean(false)">None</a> =&gt; <span title="Boolean(false)" class="keyword">false</span>
      <span class="delimiter">}</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Reifiers.this.symbols.Symbol, rsym: scala.reflect.Symbol)Unit" id="906094">update</a><span class="delimiter">(</span><a title="Reifiers.this.symbols.Symbol" id="906158">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Reifiers.this.symbols.Symbol">Symbol</a>, <a title="scala.reflect.Symbol" id="906159">rsym</a>: reflect.<a href="../../../reflect/Symbol.scala.html#3004" title="scala.reflect.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#512015" title="Reifiers.this.ReifyEnvironment" class="keyword">super</a>.<a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: Reifiers.this.symbols.Symbol, value: scala.reflect.Symbol)Unit">update</a><span class="delimiter">(</span><a href="#906158" title="Reifiers.this.symbols.Symbol">sym</a>,<a href="#906159" title="scala.reflect.Symbol">rsym</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>


  <span class="keyword">class</span> <a title="class Reifier extends java.lang.Object with ScalaObject" id="512016">Reifier</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Reifiers.this.ReifyEnvironment" id="906190">env</a>: <a href="#512015" title="Reifiers.this.ReifyEnvironment">ReifyEnvironment</a>, <a title="scala.reflect.Symbol" id="906191">currentOwner</a>: reflect.<a href="../../../reflect/Symbol.scala.html#3004" title="scala.reflect.Symbol">Symbol</a><span class="delimiter">)</span>
  <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree" id="906184">reify</a><span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="906192">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Reifiers.this.symbols.Tree">Tree</a><span class="delimiter">)</span>: reflect.<a href="../../../reflect/Tree.scala.html#2902" title="scala.reflect.Tree">Tree</a> = <a href="#906192" title="Reifiers.this.symbols.Tree">tree</a> <span title="scala.reflect.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="scala.reflect.Tree">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="906198">rsym</a> = <a href="#906185" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#906192" title="Reifiers.this.symbols.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a><span class="delimiter">)</span>;
        <span class="comment">//Console.println(&quot;LiftCode: seen ident&quot;)</span>
        <span title="scala.reflect.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#906198" title="scala.reflect.Symbol">rsym</a> <span title="(x$1: AnyRef)Boolean">==</span> reflect.<a href="../../../reflect/Symbol.scala.html#3128" title="object scala.reflect.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">//Console.println(&quot;  free = &quot;+tree)</span>
          <a href="#900516" title="(tree: Reifiers.this.symbols.Tree)Reifiers.this.FreeValue">FreeValue</a><span class="delimiter">(</span><a href="#906192" title="Reifiers.this.symbols.Tree">tree</a><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">//Console.println(&quot;  rsym = &quot;+rsym)</span>
          reflect.<a href="../../../reflect/Tree.scala.html#428241" title="(sym: scala.reflect.Symbol)scala.reflect.Ident">Ident</a><span class="delimiter">(</span><a href="#906198" title="scala.reflect.Symbol">rsym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="scala.reflect.Tree">Select</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="906224">qual</a>, _<span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="906225">rsym</a> = <a href="#906185" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#906192" title="Reifiers.this.symbols.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a><span class="delimiter">)</span>;
        <span title="scala.reflect.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#906225" title="scala.reflect.Symbol">rsym</a> <span title="(x$1: AnyRef)Boolean">==</span> reflect.<a href="../../../reflect/Symbol.scala.html#3128" title="object scala.reflect.NoSymbol">NoSymbol</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#711710" title="(msg: String)Reifiers.this.symbols.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#478998" title="Reifiers.this.symbols.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot reify symbol: &quot;)" class="string">&quot;cannot reify symbol: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#906192" title="Reifiers.this.symbols.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a><span class="delimiter">)</span>
        <span class="keyword">else</span> reflect.<a href="../../../reflect/Tree.scala.html#428278" title="(qual: scala.reflect.Tree, sym: scala.reflect.Symbol)scala.reflect.Select">Select</a><span class="delimiter">(</span><a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906224" title="Reifiers.this.symbols.Tree">qual</a><span class="delimiter">)</span>, <a href="#906185" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#906192" title="Reifiers.this.symbols.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="scala.reflect.Literal">Literal</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Constant" id="906253">constant</a><span class="delimiter">)</span> =&gt;
        reflect.<a href="../../../reflect/Tree.scala.html#428333" title="(value: Any)scala.reflect.Literal">Literal</a><span class="delimiter">(</span><a href="#906253" title="Reifiers.this.symbols.Constant">constant</a>.<a href="../../../reflect/generic/Constants.scala.html#434211" title="=&gt; Any">value</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="scala.reflect.Tree">Apply</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="906257">name</a>, <a title="List[Reifiers.this.symbols.Tree]" id="906258">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#906257" title="Reifiers.this.symbols.Tree">name</a>.<a href="../../../reflect/generic/Trees.scala.html#441042" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)Boolean">startsWith</span><span class="delimiter">(</span><span title="java.lang.String(&quot;label$&quot;)" class="string">&quot;label$&quot;</span><span class="delimiter">)</span> =&gt;
        <a href="#906190" title="Reifiers.this.ReifyEnvironment">env</a>.<a href="#906092" title="(name: String)Option[scala.reflect.LabelSymbol]">getTarget</a><span class="delimiter">(</span><a href="#906257" title="Reifiers.this.symbols.Tree">name</a>.<a href="../../../reflect/generic/Trees.scala.html#441042" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span title="scala.reflect.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="Nothing">None</a> =&gt; <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#711710" title="(msg: String)Reifiers.this.symbols.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#478998" title="Reifiers.this.symbols.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot reify tree (no forward jumps allowed): &quot;)" class="string">&quot;cannot reify tree (no forward jumps allowed): &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#906192" title="Reifiers.this.symbols.Tree">tree</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="scala.reflect.Goto">Some</span><span class="delimiter">(</span><a title="scala.reflect.LabelSymbol" id="906264">label</a><span class="delimiter">)</span> =&gt; reflect.<a href="../../../reflect/Tree.scala.html#429098" title="(target: scala.reflect.LabelSymbol)scala.reflect.Goto">Goto</a><span class="delimiter">(</span><a href="#906264" title="scala.reflect.LabelSymbol">label</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>

      <span class="keyword">case</span> <span title="scala.reflect.Apply">Apply</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="906268">fun</a>, <a title="List[Reifiers.this.symbols.Tree]" id="906269">args</a><span class="delimiter">)</span> =&gt;
        reflect.<a href="../../../reflect/Tree.scala.html#428362" title="(fun: scala.reflect.Tree, args: List[scala.reflect.Tree])scala.reflect.Apply">Apply</a><span class="delimiter">(</span><a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906268" title="Reifiers.this.symbols.Tree">fun</a><span class="delimiter">)</span>, <a href="#906269" title="List[Reifiers.this.symbols.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.Tree =&gt; scala.reflect.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.Tree],scala.reflect.Tree,List[scala.reflect.Tree]])List[scala.reflect.Tree]">map</a> <a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="scala.reflect.TypeApply">TypeApply</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="906330">fun</a>, <a title="List[Reifiers.this.symbols.Tree]" id="906331">args</a><span class="delimiter">)</span> =&gt;
        reflect.<a href="../../../reflect/Tree.scala.html#428524" title="(fun: scala.reflect.Tree, args: List[scala.reflect.Type])scala.reflect.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906330" title="Reifiers.this.symbols.Tree">fun</a><span class="delimiter">)</span>, <a href="#906331" title="List[Reifiers.this.symbols.Tree]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.Tree =&gt; Reifiers.this.symbols.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.Tree],Reifiers.this.symbols.Type,List[Reifiers.this.symbols.Type]])List[Reifiers.this.symbols.Type]">map</a> <span class="delimiter">(</span><a href="#906354" title="Reifiers.this.symbols.Tree">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Reifiers.this.symbols.Type">tpe</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.Type =&gt; scala.reflect.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.Type],scala.reflect.Type,List[scala.reflect.Type]])List[scala.reflect.Type]">map</a> <a href="#906186" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="scala.reflect.Function">Function</span><span class="delimiter">(</span><a title="List[Reifiers.this.symbols.ValDef]" id="906443">vparams</a>, <a title="Reifiers.this.symbols.Tree" id="906444">body</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">var</span> <a title="Reifiers.this.ReifyEnvironment" id="906445">env1</a> = <a href="#906190" title="Reifiers.this.ReifyEnvironment">env</a>
        <span class="keyword">for</span> <span class="delimiter">(</span><a title="Reifiers.this.symbols.ValDef" id="906465">vparam</a> &lt;- <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Reifiers.this.symbols.ValDef =&gt; Unit)Unit">vparams</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="scala.reflect.LocalValue" id="906466">local</a> = reflect.<a href="../../../reflect/Symbol.scala.html#429331" title="(owner: scala.reflect.Symbol, name: String, tpe: scala.reflect.Type)scala.reflect.LocalValue">LocalValue</a><span class="delimiter">(</span>
            <a href="#906191" title="scala.reflect.Symbol">currentOwner</a>, <a href="#906465" title="Reifiers.this.symbols.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Reifiers.this.symbols.Name">name</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#906186" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#906465" title="Reifiers.this.symbols.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Reifiers.this.symbols.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>;
          <a href="#906445" title="Reifiers.this.ReifyEnvironment">env1</a>.<a href="#906094" title="(sym: Reifiers.this.symbols.Symbol, rsym: scala.reflect.Symbol)Unit">update</a><span class="delimiter">(</span><a href="#906465" title="Reifiers.this.symbols.ValDef">vparam</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>, <a href="#906466" title="scala.reflect.LocalValue">local</a><span class="delimiter">)</span>;
        <span class="delimiter">}</span>
        reflect.<a href="../../../reflect/Tree.scala.html#428625" title="(params: List[scala.reflect.Symbol], body: scala.reflect.Tree)scala.reflect.Function">Function</a><span class="delimiter">(</span><a href="#906443" title="List[Reifiers.this.symbols.ValDef]">vparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.ValDef =&gt; Reifiers.this.symbols.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.ValDef],Reifiers.this.symbols.Symbol,List[Reifiers.this.symbols.Symbol]])List[Reifiers.this.symbols.Symbol]">map</a> <span class="delimiter">(</span><a href="#906504" title="Reifiers.this.symbols.ValDef">_</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.Symbol =&gt; scala.reflect.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.Symbol],scala.reflect.Symbol,List[scala.reflect.Symbol]])List[scala.reflect.Symbol]">map</a> <a href="#906445" title="Reifiers.this.ReifyEnvironment">env1</a>,
                         <span title="Reifiers.this.Reifier" class="keyword">new</span> <a href="#512016" title="Reifiers.this.Reifier">Reifier</a><span class="delimiter">(</span><a href="#906445" title="Reifiers.this.ReifyEnvironment">env1</a>, <a href="#906191" title="scala.reflect.Symbol">currentOwner</a><span class="delimiter">)</span>.<a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906444" title="Reifiers.this.symbols.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="scala.reflect.Tree" id="906583">tree</a>@This<span class="delimiter">(</span>_<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#906583" title="Reifiers.this.symbols.This">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435386" title="=&gt; Boolean">isModule</a> =&gt;
        <span class="comment">// there is no reflect node for a module's this, so</span>
        <span class="comment">// represent it as a selection of the module</span>
	<a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span>
	  <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Reifiers.this.symbols.Tree, name: Reifiers.this.symbols.Name)Reifiers.this.symbols.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479142" title="(sym: Reifiers.this.symbols.Symbol)Reifiers.this.symbols.Tree">This</a><span class="delimiter">(</span><a href="#906583" title="Reifiers.this.symbols.This">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Reifiers.this.symbols.Symbol">owner</a><span class="delimiter">)</span>, <a href="#906583" title="Reifiers.this.symbols.This">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Reifiers.this.symbols.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.reflect.This">This</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
        reflect.<a href="../../../reflect/Tree.scala.html#428726" title="(sym: scala.reflect.Symbol)scala.reflect.This">This</a><span class="delimiter">(</span><a href="#906185" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#906192" title="Reifiers.this.symbols.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.reflect.Block">Block</span><span class="delimiter">(</span><a title="List[Reifiers.this.symbols.Tree]" id="906638">stats</a>, <a title="Reifiers.this.symbols.Tree" id="906639">expr</a><span class="delimiter">)</span> =&gt;
        reflect.<a href="../../../reflect/Tree.scala.html#428762" title="(stats: List[scala.reflect.Tree], expr: scala.reflect.Tree)scala.reflect.Block">Block</a><span class="delimiter">(</span><a href="#906638" title="List[Reifiers.this.symbols.Tree]">stats</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.Tree =&gt; scala.reflect.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.Tree],scala.reflect.Tree,List[scala.reflect.Tree]])List[scala.reflect.Tree]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scala.reflect.Tree,List[scala.reflect.Tree]]" class="delimiter">(</a><a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">)</span>, <a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906639" title="Reifiers.this.symbols.Tree">expr</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.reflect.New">New</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="906703">clazz</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Reifiers.this.symbols.Tree)Reifiers.this.symbols.TreeOps">clazz</a>.<a href="../ast/Trees.scala.html#510728" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> =&gt;
	<span class="keyword">val</span> <a title="scala.reflect.Symbol" id="906706">reifiedSymbol</a> = <a href="#906185" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#906703" title="Reifiers.this.symbols.Tree">clazz</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a><span class="delimiter">)</span>
	reflect.<a href="../../../reflect/Tree.scala.html#428872" title="(sym: scala.reflect.Tree)scala.reflect.New">New</a><span class="delimiter">(</span>reflect.<a href="../../../reflect/Tree.scala.html#428241" title="(sym: scala.reflect.Symbol)scala.reflect.Ident">Ident</a><span class="delimiter">(</span><a href="#906706" title="scala.reflect.Symbol">reifiedSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.reflect.New">New</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="906718">clazz</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.Tree" id="906719">reifiedClass</a> = <a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906718" title="Reifiers.this.symbols.Tree">clazz</a><span class="delimiter">)</span>
        reflect.<a href="../../../reflect/Tree.scala.html#428872" title="(sym: scala.reflect.Tree)scala.reflect.New">New</a><span class="delimiter">(</span><a href="#906719" title="scala.reflect.Tree">reifiedClass</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.reflect.Tree">Typed</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="906729">t</a>, _<span class="delimiter">)</span> =&gt;
        <a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906729" title="Reifiers.this.symbols.Tree">t</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.reflect.If">If</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="906737">cond</a>, <a title="Reifiers.this.symbols.Tree" id="906738">thenp</a>, <a title="Reifiers.this.symbols.Tree" id="906739">elsep</a><span class="delimiter">)</span> =&gt;
        reflect.<a href="../../../reflect/Tree.scala.html#428908" title="(condition: scala.reflect.Tree, trueCase: scala.reflect.Tree, falseCase: scala.reflect.Tree)scala.reflect.If">If</a><span class="delimiter">(</span><a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906737" title="Reifiers.this.symbols.Tree">cond</a><span class="delimiter">)</span>, <a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906738" title="Reifiers.this.symbols.Tree">thenp</a><span class="delimiter">)</span>, <a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906739" title="Reifiers.this.symbols.Tree">elsep</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="scala.reflect.Assign">Assign</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="906757">lhs</a>, <a title="Reifiers.this.symbols.Tree" id="906758">rhs</a><span class="delimiter">)</span> =&gt;
        reflect.<a href="../../../reflect/Tree.scala.html#428979" title="(destination: scala.reflect.Tree, source: scala.reflect.Tree)scala.reflect.Assign">Assign</a><span class="delimiter">(</span><a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906757" title="Reifiers.this.symbols.Tree">lhs</a><span class="delimiter">)</span>, <a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906758" title="Reifiers.this.symbols.Tree">rhs</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="scala.reflect.Target">LabelDef</span><span class="delimiter">(</span><a title="Reifiers.this.symbols.TermName" id="906777">name</a>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a title="Reifiers.this.symbols.Tree" id="906778">body</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.LabelSymbol" id="906779">sym</a> = <span title="scala.reflect.LabelSymbol" class="keyword">new</span> reflect.<a href="../../../reflect/Symbol.scala.html#2884" title="scala.reflect.LabelSymbol">LabelSymbol</a><span class="delimiter">(</span><a href="#906777" title="Reifiers.this.symbols.TermName">name</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#906190" title="Reifiers.this.ReifyEnvironment">env</a>.<a href="#906091" title="(name: String, target: scala.reflect.LabelSymbol)Unit">addTarget</a><span class="delimiter">(</span><a href="#906777" title="Reifiers.this.symbols.TermName">name</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#906779" title="scala.reflect.LabelSymbol">sym</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.reflect.Target" id="906780">res</a> = reflect.<a href="../../../reflect/Tree.scala.html#429034" title="(sym: scala.reflect.LabelSymbol, body: scala.reflect.Tree)scala.reflect.Target">Target</a><span class="delimiter">(</span><a href="#906779" title="scala.reflect.LabelSymbol">sym</a>, <a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906778" title="Reifiers.this.symbols.Tree">body</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#906780" title="scala.reflect.Target">res</a>

      <span class="keyword">case</span> <a title="scala.reflect.ValDef" id="906787">vd</a> @ ValDef<span class="delimiter">(</span><a title="Reifiers.this.symbols.Modifiers" id="906797">mods</a>, <a title="Reifiers.this.symbols.TermName" id="906798">name</a>, <a title="Reifiers.this.symbols.Tree" id="906799">tpt</a>, <a title="Reifiers.this.symbols.Tree" id="906800">rhs</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.Type" id="906801">rtpe</a> = <a href="#906186" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#906787" title="Reifiers.this.symbols.ValDef">vd</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Reifiers.this.symbols.Type">tpe</a><span class="delimiter">)</span> <span class="comment">// will return null, currently?!</span>
        <span class="keyword">val</span> <a title="scala.reflect.LocalValue" id="906802">sym</a>  = reflect.<a href="../../../reflect/Symbol.scala.html#429331" title="(owner: scala.reflect.Symbol, name: String, tpe: scala.reflect.Type)scala.reflect.LocalValue">LocalValue</a><span class="delimiter">(</span><a href="#906191" title="scala.reflect.Symbol">currentOwner</a>, <a href="#906798" title="Reifiers.this.symbols.TermName">name</a>.<a href="../symtab/Names.scala.html#501123" title="()String">toString</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#906801" title="scala.reflect.Type">rtpe</a><span class="delimiter">)</span>
        <a href="#906094" title="(sym: Reifiers.this.symbols.Symbol, rsym: scala.reflect.Symbol)Unit">env</a><span class="delimiter">(</span><a href="#906787" title="Reifiers.this.symbols.ValDef">vd</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a><span class="delimiter">)</span> = <a href="#906802" title="scala.reflect.LocalValue">sym</a> <span class="comment">// bq: despite Scala's scoping rules, this should work because references to vd.symbol were type checked.</span>
        <span class="keyword">val</span> <a title="scala.reflect.Tree" id="906803">rhs_</a> = <a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906800" title="Reifiers.this.symbols.Tree">rhs</a><span class="delimiter">)</span>
        reflect.<a href="../../../reflect/Tree.scala.html#432933" title="(sym: scala.reflect.Symbol, rhs: scala.reflect.Tree)scala.reflect.ValDef">ValDef</a><span class="delimiter">(</span><a href="#906802" title="scala.reflect.LocalValue">sym</a>, <a href="#906803" title="scala.reflect.Tree">rhs_</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <a title="scala.reflect.ClassDef" id="906825">cd</a> @ ClassDef<span class="delimiter">(</span><a title="Reifiers.this.symbols.Modifiers" id="906840">mods</a>, <a title="Reifiers.this.symbols.TypeName" id="906841">name</a>, <a title="List[Reifiers.this.symbols.TypeDef]" id="906842">tparams</a>, <a title="Reifiers.this.symbols.Template" id="906843">impl</a><span class="delimiter">)</span> =&gt;
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#906842" title="List[Reifiers.this.symbols.TypeDef]">tparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#711710" title="(msg: String)Reifiers.this.symbols.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#478998" title="Reifiers.this.symbols.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot handle polymorphic ClassDef (&quot;)" class="string">&quot;cannot handle polymorphic ClassDef (&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#906841" title="Reifiers.this.symbols.TypeName">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;): &quot;)" class="string">&quot;): &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#906842" title="List[Reifiers.this.symbols.TypeDef]">tparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="906844">rsym</a> = <a href="#906185" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#906825" title="Reifiers.this.symbols.ClassDef">cd</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.reflect.Tree" id="906845">rimp</a> = <a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#906843" title="Reifiers.this.symbols.Template">impl</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.reflect.Type" id="906846">rtpe</a> = <a href="#906186" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#906843" title="Reifiers.this.symbols.Template">impl</a>.<a href="../../../reflect/generic/Trees.scala.html#441750" title="=&gt; Reifiers.this.symbols.ValDef">self</a>.<a href="../../../reflect/generic/Trees.scala.html#441946" title="=&gt; Reifiers.this.symbols.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Reifiers.this.symbols.Type">tpe</a><span class="delimiter">)</span> <span class="comment">//todo: update</span>
        reflect.<a href="../../../reflect/Tree.scala.html#433024" title="(sym: scala.reflect.Symbol, tpe: scala.reflect.Type, impl: scala.reflect.Template)scala.reflect.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#906844" title="scala.reflect.Symbol">rsym</a>, <a href="#906846" title="scala.reflect.Type">rtpe</a>, <a href="#906845" title="scala.reflect.Tree">rimp</a>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="scala.reflect.Template" class="delimiter">[</span>reflect.<a href="../../../reflect/Tree.scala.html#3028" title="scala.reflect.Template">Template</a><span class="delimiter">]</span><span class="delimiter">)</span>

      <span class="keyword">case</span> <a title="scala.reflect.Template" id="906870">tmpl</a> @ Template<span class="delimiter">(</span><a title="List[Reifiers.this.symbols.Tree]" id="906883">parents</a>, <a title="Reifiers.this.symbols.ValDef" id="906884">self</a>, <a title="List[Reifiers.this.symbols.Tree]" id="906885">body</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[scala.reflect.Type]" id="906886">rparents</a> = <span class="keyword">for</span> <span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="906903">p</a> &lt;- <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.Tree =&gt; scala.reflect.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.Tree],scala.reflect.Type,List[scala.reflect.Type]])List[scala.reflect.Type]">parents</a><span class="delimiter">)</span> <span class="keyword">yield</span> <span class="delimiter">{</span> <a href="#906186" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#906903" title="Reifiers.this.symbols.Tree">p</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Reifiers.this.symbols.Type">tpe</a><span class="delimiter">)</span> <span class="delimiter">}</span>
        <span class="comment">//todo: add self to reified templates</span>
        reflect.<a href="../../../reflect/Tree.scala.html#433263" title="(parents: List[scala.reflect.Type], body: List[scala.reflect.Tree])scala.reflect.Template">Template</a><span class="delimiter">(</span><a href="#906886" title="List[scala.reflect.Type]">rparents</a>, <a href="#906885" title="List[Reifiers.this.symbols.Tree]">body</a>.<a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.Tree =&gt; scala.reflect.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.Tree],scala.reflect.Tree,List[scala.reflect.Tree]])List[scala.reflect.Tree]">map</a><a href="../../../collection/immutable/List.scala.html#48868" title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,scala.reflect.Tree,List[scala.reflect.Tree]]" class="delimiter">(</a><a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">)</span><span class="delimiter">)</span>

      <span class="keyword">case</span> <a title="scala.reflect.DefDef" id="906991">dd</a> @ DefDef<span class="delimiter">(</span><a title="Reifiers.this.symbols.Modifiers" id="907014">mods</a>, <a title="Reifiers.this.symbols.TermName" id="907015">name</a>, <a title="List[Reifiers.this.symbols.TypeDef]" id="907016">tparams</a>, <a title="List[List[Reifiers.this.symbols.ValDef]]" id="907017">vparamss</a>, <a title="Reifiers.this.symbols.Tree" id="907018">tpt</a>, <a title="Reifiers.this.symbols.Tree" id="907019">rhs</a><span class="delimiter">)</span> =&gt;
        <span title="Unit" class="keyword">if</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#907016" title="List[Reifiers.this.symbols.TypeDef]">tparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
          <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#711710" title="(msg: String)Reifiers.this.symbols.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#478998" title="Reifiers.this.symbols.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot handle polymorphic DefDef (&quot;)" class="string">&quot;cannot handle polymorphic DefDef (&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#907015" title="Reifiers.this.symbols.TermName">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;): &quot;)" class="string">&quot;): &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#907016" title="List[Reifiers.this.symbols.TypeDef]">tparams</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="907020">rsym</a>   = <a href="#906185" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#906991" title="Reifiers.this.symbols.DefDef">dd</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="List[List[scala.reflect.Tree]]" id="907021">rparss</a> = <a href="#907017" title="List[List[Reifiers.this.symbols.ValDef]]">vparamss</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: List[Reifiers.this.symbols.ValDef] =&gt; List[scala.reflect.Tree])(implicit bf: scala.collection.generic.CanBuildFrom[List[List[Reifiers.this.symbols.ValDef]],List[scala.reflect.Tree],List[List[scala.reflect.Tree]]])List[List[scala.reflect.Tree]]">map</a> <span class="delimiter">{</span> <a title="List[Reifiers.this.symbols.ValDef]" id="907048">x</a> =&gt; <a href="#907048" title="List[Reifiers.this.symbols.ValDef]">x</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Reifiers.this.symbols.ValDef =&gt; scala.reflect.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Reifiers.this.symbols.ValDef],scala.reflect.Tree,List[scala.reflect.Tree]])List[scala.reflect.Tree]">map</a> <span class="delimiter">(</span><a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">)</span> <span class="delimiter">}</span>
        <span class="keyword">val</span> <a title="scala.reflect.Type" id="907022">rret</a>   = <a href="#906186" title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#907018" title="Reifiers.this.symbols.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Reifiers.this.symbols.Type">tpe</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="scala.reflect.Tree" id="907023">rrhs</a>   = <a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#907019" title="Reifiers.this.symbols.Tree">rhs</a><span class="delimiter">)</span>
        reflect.<a href="../../../reflect/Tree.scala.html#433125" title="(sym: scala.reflect.Symbol, vparamss: List[List[scala.reflect.Tree]], ret: scala.reflect.Type, rhs: scala.reflect.Tree)scala.reflect.DefDef">DefDef</a><span class="delimiter">(</span><a href="#907020" title="scala.reflect.Symbol">rsym</a>, <a href="#907021" title="List[List[scala.reflect.Tree]]">rparss</a>, <a href="#907022" title="scala.reflect.Type">rret</a>, <a href="#907023" title="scala.reflect.Tree">rrhs</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <a title="scala.reflect.Super" id="907149">sp</a> @ Super<span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="907156">qual</a>, <a title="Reifiers.this.symbols.TypeName" id="907157">mix</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="scala.reflect.Symbol" id="907158">rsym</a> = <a href="#906185" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#907149" title="Reifiers.this.symbols.Super">sp</a>.<a href="../../../reflect/generic/Trees.scala.html#443026" title="=&gt; Reifiers.this.symbols.Symbol">symbol</a><span class="delimiter">)</span>
        reflect.<a href="../../../reflect/Tree.scala.html#433209" title="(psym: scala.reflect.Symbol)scala.reflect.Super">Super</a><span class="delimiter">(</span><a href="#907158" title="scala.reflect.Symbol">rsym</a><span class="delimiter">)</span>

      <span class="keyword">case</span> <span title="Nothing">_</span> =&gt;
        <span title="Nothing" class="keyword">throw</span> <a href="../symtab/Types.scala.html#711710" title="(msg: String)Reifiers.this.symbols.TypeError" class="keyword">new</a> <a href="../symtab/Types.scala.html#478998" title="Reifiers.this.symbols.TypeError">TypeError</a><span class="delimiter">(</span><span title="java.lang.String(&quot;cannot reify tree (&quot;)" class="string">&quot;cannot reify tree (&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#906192" title="Reifiers.this.symbols.Tree">tree</a>.<span title="()java.lang.Class[_]">getClass</span><span class="delimiter">(</span><span class="delimiter">)</span><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;): &quot;)" class="string">&quot;): &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#906192" title="Reifiers.this.symbols.Tree">tree</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol" id="906185">reify</a><span class="delimiter">(</span><a title="Reifiers.this.symbols.Symbol" id="906205">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Reifiers.this.symbols.Symbol">Symbol</a><span class="delimiter">)</span>: reflect.<a href="../../../reflect/Symbol.scala.html#3004" title="scala.reflect.Symbol">Symbol</a> =
      <a href="#906190" title="Reifiers.this.ReifyEnvironment">env</a>.<a href="../../../collection/mutable/HashMap.scala.html#73158" title="(key: Reifiers.this.symbols.Symbol)Option[scala.reflect.Symbol]">get</a><span class="delimiter">(</span><a href="#906205" title="Reifiers.this.symbols.Symbol">sym</a><span class="delimiter">)</span> <span title="scala.reflect.Symbol" class="keyword">match</span> <span class="delimiter">{</span>
	<span class="keyword">case</span> <span title="scala.reflect.Symbol">Some</span><span class="delimiter">(</span><a title="scala.reflect.Symbol" id="907174">rsym</a><span class="delimiter">)</span> =&gt;
	  <a href="#907174" title="scala.reflect.Symbol">rsym</a>
	<span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="scala.reflect.Symbol">None</a> =&gt;
	  <a href="#38146" title="Reifiers.this.type">Reifiers</a>.<span class="keyword">this</span>.<a href="#512005" title="(sym: Reifiers.this.symbols.Symbol)scala.reflect.Symbol">reify</a><span class="delimiter">(</span><a href="#906205" title="Reifiers.this.symbols.Symbol">sym</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tpe: Reifiers.this.symbols.Type)scala.reflect.Type" id="906186">reify</a><span class="delimiter">(</span><a title="Reifiers.this.symbols.Type" id="906203">tpe</a>: <a href="../symtab/Types.scala.html#478720" title="Reifiers.this.symbols.Type">Type</a><span class="delimiter">)</span>: reflect.<a href="../../../reflect/Type.scala.html#2914" title="scala.reflect.Type">Type</a> =
      <a href="#38146" title="Reifiers.this.type">Reifiers</a>.<span class="keyword">this</span>.<a href="#512009" title="(tp: Reifiers.this.symbols.Type)scala.reflect.Type">reify</a><span class="delimiter">(</span><a href="#906203" title="Reifiers.this.symbols.Type">tpe</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree" id="512017">reify</a><span class="delimiter">(</span><a title="Reifiers.this.symbols.Tree" id="900808">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Reifiers.this.symbols.Tree">Tree</a><span class="delimiter">)</span>: reflect.<a href="../../../reflect/Tree.scala.html#2902" title="scala.reflect.Tree">Tree</a> =
    <span title="Reifiers.this.Reifier" class="keyword">new</span> <a href="#512016" title="Reifiers.this.Reifier">Reifier</a><span class="delimiter">(</span><span title="Reifiers.this.ReifyEnvironment" class="keyword">new</span> <a href="#512015" title="Reifiers.this.ReifyEnvironment">ReifyEnvironment</a><span class="delimiter">(</span><span class="delimiter">)</span>, reflect.<a href="../../../reflect/Symbol.scala.html#3128" title="object scala.reflect.NoSymbol">NoSymbol</a><span class="delimiter">)</span>.<a href="#906184" title="(tree: Reifiers.this.symbols.Tree)scala.reflect.Tree">reify</a><span class="delimiter">(</span><a href="#900808" title="Reifiers.this.symbols.Tree">tree</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>