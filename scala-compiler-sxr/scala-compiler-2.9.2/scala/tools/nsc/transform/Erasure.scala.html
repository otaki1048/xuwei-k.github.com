<?xml version="1.0" encoding="utf-8"?>
      <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <meta http-equiv="Expires" content="0" />
        <title>scala/tools/nsc/transform/Erasure.scala</title>
        <script type="text/javascript" src="../../../../jquery-all.js"></script>
        <script type="text/javascript" src="../../../../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../../../../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* NSC -- new Scala compiler
 * Copyright 2005-2011 LAMP/EPFL
 * @author Martin Odersky
 */</span>

<span class="keyword">package</span> scala.tools.nsc
<span class="keyword">package</span> transform

<span class="keyword">import</span> scala.tools.nsc.symtab.classfile.<a href="../symtab/classfile/ClassfileConstants.scala.html#37328" title="object scala.tools.nsc.symtab.classfile.ClassfileConstants">ClassfileConstants</a>._
<span class="keyword">import</span> scala.collection.<span class="delimiter">{</span> mutable, immutable <span class="delimiter">}</span>
<span class="keyword">import</span> symtab._
<span class="keyword">import</span> <a href="../symtab/Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a>._

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Erasure extends scala.tools.nsc.transform.AddInterfaces with scala.tools.nsc.typechecker.Analyzer with scala.tools.nsc.transform.TypingTransformers with scala.tools.nsc.ast.TreeDSL with ScalaObject" id="39310">Erasure</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="AddInterfaces.scala.html#38881" title="scala.tools.nsc.transform.AddInterfaces">AddInterfaces</a>
                          <span class="keyword">with</span> typechecker.<a href="../typechecker/Analyzer.scala.html#40906" title="scala.tools.nsc.typechecker.Analyzer">Analyzer</a>
                          <span class="keyword">with</span> <a href="TypingTransformers.scala.html#39067" title="scala.tools.nsc.transform.TypingTransformers">TypingTransformers</a>
                          <span class="keyword">with</span> ast.<a href="../ast/TreeDSL.scala.html#23679" title="scala.tools.nsc.ast.TreeDSL">TreeDSL</a>
<span class="delimiter">{</span>
  <span class="keyword">import</span> <a href="TypingTransformers.scala.html#511838" title="=&gt; scala.tools.nsc.Global">global</a>._
  <span class="keyword">import</span> <a href="../symtab/Definitions.scala.html#479030" title="object Erasure.this.global.definitions">definitions</a>._
  <span class="keyword">import</span> <a href="../ast/TreeDSL.scala.html#507542" title="object Erasure.this.CODE">CODE</a>._

  <span class="keyword">val</span> <a title="String" id="513076">phaseName</a>: <span title="String">String</span> = <span title="java.lang.String(&quot;erasure&quot;)" class="string">&quot;erasure&quot;</span>

  <span class="keyword">def</span> <a title="(unit: Erasure.this.global.CompilationUnit)Erasure.this.global.Transformer" id="513078">newTransformer</a><span class="delimiter">(</span><a title="Erasure.this.global.CompilationUnit" id="890688">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="Erasure.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span>: <a href="../ast/Trees.scala.html#479167" title="Erasure.this.global.Transformer">Transformer</a> =
    <span title="Erasure.this.ErasureTransformer" class="keyword">new</span> <a href="#513109" title="Erasure.this.ErasureTransformer">ErasureTransformer</a><span class="delimiter">(</span><a href="#890688" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; Boolean" id="513079">keepsTypeParams</a> = <span title="Boolean(false)" class="keyword">false</span>

<span class="comment">// -------- erasure on types --------------------------------------------------------</span>

  <span class="comment">/** An extractor object for generic arrays */</span>
  <span class="keyword">object</span> <a title="object Erasure.this.GenericArray" id="513080">GenericArray</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">{</a>

    <span class="comment">/** Is `tp` an unbounded generic type (i.e. which could be instantiated
     *  with primitive as well as class types)?.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="890708">genericCore</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="890711">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a> = <a href="#890711" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Erasure.this.global.Type">normalize</a> <span title="Erasure.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Erasure.this.global.Type">TypeRef</span><span class="delimiter">(</span>_, <a title="Erasure.this.global.Symbol" id="890716">sym</a>, _<span class="delimiter">)</span> <span class="keyword">if</span> <a href="#890716" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#890716" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435334" title="=&gt; Boolean">isJavaDefined</a> =&gt;
        <a href="#890711" title="Erasure.this.global.Type">tp</a>
      <span class="keyword">case</span> <span title="Erasure.this.global.Type">ExistentialType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="890719">tparams</a>, <a title="Erasure.this.global.Type" id="890720">restp</a><span class="delimiter">)</span> =&gt;
        <a href="#890708" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">genericCore</a><span class="delimiter">(</span><a href="#890720" title="Erasure.this.global.Type">restp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Erasure.this.global.NoType.type">_</span> =&gt;
        <a href="../symtab/Types.scala.html#478734" title="object Erasure.this.global.NoType">NoType</a>
    <span class="delimiter">}</span>

    <span class="comment">/** If `tp` is of the form Array[...Array[T]...] where `T` is an abstract type
     *  then Some(N, T) where N is the number of Array constructors enclosing `T`,
     *  otherwise None. Existentials on any level are ignored.
     */</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Option[(Int, Erasure.this.global.Type)]" id="890709">unapply</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="890721">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[(Int, Erasure.this.global.Type)]">Option</a><span class="delimiter">[</span><span class="delimiter">(</span>Int, Type<span class="delimiter">)</span><span class="delimiter">]</span> = <a href="#890721" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Erasure.this.global.Type">normalize</a> <span title="Option[(Int, Erasure.this.global.Type)]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Option[(Int, Erasure.this.global.Type)]">TypeRef</span><span class="delimiter">(</span>_, <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Erasure.this.global.Type])Some[List[Erasure.this.global.Type]]">List</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="890743">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
        <a href="#890708" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">genericCore</a><span class="delimiter">(</span><a href="#890743" title="Erasure.this.global.Type">arg</a><span class="delimiter">)</span> <span title="Option[(Int, Erasure.this.global.Type)]" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../symtab/Types.scala.html#478734" title="Option[(Int, Erasure.this.global.Type)]">NoType</a> =&gt;
            <a href="#890709" title="(tp: Erasure.this.global.Type)Option[(Int, Erasure.this.global.Type)]">unapply</a><span class="delimiter">(</span><a href="#890743" title="Erasure.this.global.Type">arg</a><span class="delimiter">)</span> <span title="Option[(Int, Erasure.this.global.Type)]" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Some[(Int, Erasure.this.global.Type)]">Some</span><span class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="890747">level</a>, <a title="Erasure.this.global.Type" id="890748">core</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../Option.scala.html#57885" title="(x: (Int, Erasure.this.global.Type))Some[(Int, Erasure.this.global.Type)]">Some</a><span class="delimiter">(</span><a href="../../../Tuple2.scala.html#53390" title="(_1: Int, _2: Erasure.this.global.Type)(Int, Erasure.this.global.Type)" class="delimiter">(</a><a href="#890747" title="Int">level</a> <a href="../../../Int.scala.html#54804" title="(x: Int)Int">+</a> <span title="Int(1)" class="int">1</span>, <a href="#890748" title="Erasure.this.global.Type">core</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="keyword">case</span> <a href="../../../Option.scala.html#1737" title="None.type">None</a> =&gt; <a href="../../../Option.scala.html#1737" title="object None">None</a>
            <span class="delimiter">}</span>
          <span class="keyword">case</span> <a title="Some[(Int, Erasure.this.global.Type)]" id="890772">core</a> =&gt;
            <a href="../../../Option.scala.html#57885" title="(x: (Int, Erasure.this.global.Type))Some[(Int, Erasure.this.global.Type)]">Some</a><a href="../../../Tuple2.scala.html#53390" title="(_1: Int, _2: Erasure.this.global.Type)(Int, Erasure.this.global.Type)" class="delimiter">(</a><span title="Int(1)" class="int">1</span>, <a href="#890772" title="Erasure.this.global.Type">core</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <span title="Option[(Int, Erasure.this.global.Type)]">ExistentialType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="890784">tparams</a>, <a title="Erasure.this.global.Type" id="890785">restp</a><span class="delimiter">)</span> =&gt;
        <a href="#890709" title="(tp: Erasure.this.global.Type)Option[(Int, Erasure.this.global.Type)]">unapply</a><span class="delimiter">(</span><a href="#890785" title="Erasure.this.global.Type">restp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="None.type">_</span> =&gt;
        <a href="../../../Option.scala.html#1737" title="object None">None</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">// A type function from T =&gt; Class[U], used to determine the return</span>
  <span class="comment">// type of getClass calls.  The returned type is:</span>
  <span class="comment">//</span>
  <span class="comment">//  1. If T is a value type, Class[T].</span>
  <span class="comment">//  2. If T is anonymous or a refinement type, calculate the intersection</span>
  <span class="comment">//     dominator of the parents T', and Class[_ &lt;: T'].</span>
  <span class="comment">//  3. If T is a phantom type (Any or AnyVal), Class[_].</span>
  <span class="comment">//  4. Otherwise, Class[_ &lt;: T].</span>
  <span class="comment">//</span>
  <span class="comment">// Note: AnyVal cannot be Class[_ &lt;: AnyVal] because if the static type of the</span>
  <span class="comment">// receiver is AnyVal, it implies the receiver is boxed, so the correct</span>
  <span class="comment">// class object is that of java.lang.Integer, not Int.</span>
  <span class="comment">//</span>
  <span class="comment">// TODO: If T is final, return type could be Class[T].  Should it?</span>
  <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="513082">getClassReturnType</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="890786">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(targs: List[Erasure.this.global.Type])Erasure.this.global.Type" id="890788">mkClass</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="890791">targs</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="../symtab/Types.scala.html#478811" title="(pre: Erasure.this.global.Type, sym: Erasure.this.global.Symbol, args: List[Erasure.this.global.Type])Erasure.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508009" title="=&gt; Erasure.this.global.Symbol">ClassClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507169" title="=&gt; Erasure.this.global.Type">prefix</a>, <a href="../symtab/Definitions.scala.html#508009" title="=&gt; Erasure.this.global.Symbol">ClassClass</a>, <a href="#890791" title="List[Erasure.this.global.Type]">targs</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="List[Erasure.this.global.Symbol]" id="890789">tparams</a> = <a href="../symtab/Definitions.scala.html#508009" title="=&gt; Erasure.this.global.Symbol">ClassClass</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Erasure.this.global.Symbol]">typeParams</a>
    <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="890790">sym</a>     = <a href="#890786" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>

    <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#890789" title="List[Erasure.this.global.Symbol]">tparams</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#890788" title="(targs: List[Erasure.this.global.Type])Erasure.this.global.Type">mkClass</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span>   <span class="comment">// call must be coming post-erasure</span>
    <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#890790" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#890788" title="(targs: List[Erasure.this.global.Type])Erasure.this.global.Type">mkClass</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Erasure.this.global.Type*)List[Erasure.this.global.Type]">List</a><span class="delimiter">(</span><a href="#890786" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Erasure.this.global.Type">widen</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#890790" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509241" title="=&gt; Boolean">isLocalClass</a><span class="delimiter">)</span> <a href="#513082" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">getClassReturnType</a><span class="delimiter">(</span><a href="#513085" title="object Erasure.this.erasure">erasure</a>.<a href="#631251" title="(parents: List[Erasure.this.global.Type])Erasure.this.global.Type">intersectionDominator</a><span class="delimiter">(</span><a href="#890786" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Erasure.this.global.Type]">parents</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="List[Erasure.this.global.Symbol]" id="890806">eparams</a>    = <a href="../symtab/Types.scala.html#478852" title="(clazz: Erasure.this.global.Symbol, tparams: List[Erasure.this.global.Symbol])List[Erasure.this.global.Symbol]">typeParamsToExistentials</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508009" title="=&gt; Erasure.this.global.Symbol">ClassClass</a>, <a href="#890789" title="List[Erasure.this.global.Symbol]">tparams</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="890807">upperBound</a> = <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: Erasure.this.global.Symbol)Boolean">isPhantomClass</a><span class="delimiter">(</span><a href="#890790" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Erasure.this.global.Symbol">AnyClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#890786" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Erasure.this.global.Type">widen</a>

      <a href="../symtab/Types.scala.html#478821" title="(tparams: List[Erasure.this.global.Symbol], tpe0: Erasure.this.global.Type)Erasure.this.global.Type">existentialAbstraction</a><span class="delimiter">(</span>
        <a href="#890806" title="List[Erasure.this.global.Symbol]">eparams</a>,
        <a href="#890788" title="(targs: List[Erasure.this.global.Type])Erasure.this.global.Type">mkClass</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Erasure.this.global.Type*)List[Erasure.this.global.Type]">List</a><span class="delimiter">(</span><a href="#890806" title="List[Erasure.this.global.Symbol]">eparams</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Erasure.this.global.Symbol">head</a> <a href="../symtab/Symbols.scala.html#509274" title="(info: Erasure.this.global.Type)Erasure.this.global.Symbol">setInfo</a> <a href="../symtab/Types.scala.html#478751" title="object Erasure.this.global.TypeBounds">TypeBounds</a>.<a href="../symtab/Types.scala.html#546578" title="(hi: Erasure.this.global.Type)Erasure.this.global.TypeBounds">upper</a><span class="delimiter">(</span><a href="#890807" title="Erasure.this.global.Type">upperBound</a><span class="delimiter">)</span> <a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Int" id="513083">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="631062">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Int.scala.html#386" title="Int">Int</a> = <a href="#631062" title="Erasure.this.global.Type">tp</a> <span title="Int" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#890709" title="Int">GenericArray</a><span class="delimiter">(</span><a title="Int" id="890836">level</a>, <a title="Erasure.this.global.Type" id="890837">core</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#890837" title="Erasure.this.global.Type">core</a> <a href="../symtab/Types.scala.html#507220" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#507923" title="=&gt; Erasure.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> =&gt; <a href="#890836" title="Int">level</a>
    <span class="keyword">case</span> <span title="Int(0)">_</span> =&gt; <span title="Int(0)" class="int">0</span>
  <span class="delimiter">}</span>

  <span class="comment">// @M #2585 when generating a java generic signature that includes a selection of an inner class p.I,  (p = `pre`, I = `cls`)</span>
  <span class="comment">// must rewrite to p'.I, where p' refers to the class that directly defines the nested class I</span>
  <span class="comment">// see also #2585 marker in javaSig: there, type arguments must be included (use pre.baseType(cls.owner))</span>
  <span class="comment">// requires cls.isClass</span>
  @inline <span class="keyword">private</span> <span class="keyword">def</span> <a title="(pre: Erasure.this.global.Type, cls: Erasure.this.global.Symbol)Erasure.this.global.Type" id="513084">rebindInnerClass</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="890839">pre</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a>, <a title="Erasure.this.global.Symbol" id="890840">cls</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a> =
    <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#890840" title="Erasure.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#890840" title="Erasure.this.global.Symbol">cls</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#890839" title="Erasure.this.global.Type">pre</a> <span class="comment">// why not cls.isNestedClass?</span>

  <span class="comment">/**   The erasure |T| of a type T. This is:
   *
   *   - For a constant type, itself.
   *   - For a type-bounds structure, the erasure of its upper bound.
   *   - For every other singleton type, the erasure of its supertype.
   *   - For a typeref scala.Array+[T] where T is an abstract type, AnyRef.
   *   - For a typeref scala.Array+[T] where T is not an abstract type, scala.Array+[|T|].
   *   - For a typeref scala.Any or scala.AnyVal, java.lang.Object.
   *   - For a typeref scala.Unit, scala.runtime.BoxedUnit.
   *   - For a typeref P.C[Ts] where C refers to a class, |P|.C.
   *     (Where P is first rebound to the class that directly defines C.)
   *   - For a typeref P.C[Ts] where C refers to an alias type, the erasure of C's alias.
   *   - For a typeref P.C[Ts] where C refers to an abstract type, the
   *     erasure of C's upper bound.
   *   - For a non-empty type intersection (possibly with refinement),
   *     the erasure of its first parent.
   *   - For an empty type intersection, java.lang.Object.
   *   - For a method type (Fs)scala.Unit, (|Fs|)scala#Unit.
   *   - For any other method type (Fs)Y, (|Fs|)|T|.
   *   - For a polymorphic type, the erasure of its result type.
   *   - For the class info type of java.lang.Object, the same type without any parents.
   *   - For a class info type of a value class, the same type without any parents.
   *   - For any other class info type with parents Ps, the same type with
   *     parents |Ps|, but with duplicate references of Object removed.
   *   - for all other types, the type itself (with any sub-components erased)
   */</span>
  <span class="keyword">object</span> <a title="object Erasure.this.erasure" id="513085">erasure</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../symtab/Types.scala.html#478842" title="Erasure.this.global.TypeMap">TypeMap</a> <span class="delimiter">{</span>
    <span class="comment">// Compute the dominant part of the intersection type with given `parents` according to new spec.</span>
    <span class="keyword">def</span> <a title="(parents: List[Erasure.this.global.Type])Erasure.this.global.Type" id="631251">intersectionDominator</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="890804">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a> =
      <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#890804" title="List[Erasure.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="List[Erasure.this.global.Symbol]" id="890844">psyms</a> = <a href="#890804" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],Erasure.this.global.Symbol,List[Erasure.this.global.Symbol]])List[Erasure.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#890861" title="Erasure.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#890844" title="List[Erasure.this.global.Symbol]">psyms</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="comment">// treat arrays specially</span>
          <a href="../symtab/Definitions.scala.html#508202" title="(arg: Erasure.this.global.Type)Erasure.this.global.Type">arrayType</a><span class="delimiter">(</span>
            <a href="#631251" title="(parents: List[Erasure.this.global.Type])Erasure.this.global.Type">intersectionDominator</a><span class="delimiter">(</span>
              <a href="#890804" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Erasure.this.global.Type =&gt; Boolean)List[Erasure.this.global.Type]">filter</a> <span class="delimiter">(</span><a href="#890893" title="Erasure.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],Erasure.this.global.Type,List[Erasure.this.global.Type]])List[Erasure.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#890922" title="Erasure.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507172" title="=&gt; List[Erasure.this.global.Type]">typeArgs</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Erasure.this.global.Type">head</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="comment">// implement new spec for erasure of refined types.</span>
          <span class="keyword">def</span> <a title="(psym: Erasure.this.global.Symbol)Boolean" id="890951">isUnshadowed</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="890953">psym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#890844" title="List[Erasure.this.global.Symbol]">psyms</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Erasure.this.global.Symbol =&gt; Boolean)Boolean">exists</a> <span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="890960">qsym</a> =&gt; <span class="delimiter">(</span><a href="#890953" title="Erasure.this.global.Symbol">psym</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#890960" title="Erasure.this.global.Symbol">qsym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#890960" title="Erasure.this.global.Symbol">qsym</a> <a href="../symtab/Symbols.scala.html#509296" title="(that: Erasure.this.global.Symbol)Boolean">isNonBottomSubClass</a> <a href="#890953" title="Erasure.this.global.Symbol">psym</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Iterator[Erasure.this.global.Type]" id="890952">cs</a> = <a href="#890804" title="List[Erasure.this.global.Type]">parents</a>.<a href="../../../collection/LinearSeqLike.scala.html#70978" title="=&gt; Iterator[Erasure.this.global.Type]">iterator</a>.<a href="../../../collection/Iterator.scala.html#59124" title="(p: Erasure.this.global.Type =&gt; Boolean)Iterator[Erasure.this.global.Type]">filter</a> <span class="delimiter">{</span> <a title="Erasure.this.global.Type" id="890964">p</a> =&gt; <span class="comment">// isUnshadowed is a bit expensive, so try classes first</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="890965">psym</a> = <a href="#890964" title="Erasure.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>
            <a href="#890965" title="Erasure.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#509280" title="=&gt; psym.type">initialize</a>
            <a href="#890965" title="Erasure.this.global.Symbol">psym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#890965" title="Erasure.this.global.Symbol">psym</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#890951" title="(psym: Erasure.this.global.Symbol)Boolean">isUnshadowed</a><span class="delimiter">(</span><a href="#890965" title="Erasure.this.global.Symbol">psym</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="delimiter">(</span><span title="Iterator[Erasure.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#890952" title="Iterator[Erasure.this.global.Type]">cs</a>.<a href="../../../collection/Iterator.scala.html#59107" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#890952" title="Iterator[Erasure.this.global.Type]">cs</a> <span class="keyword">else</span> <a href="#890804" title="List[Erasure.this.global.Type]">parents</a>.<a href="../../../collection/LinearSeqLike.scala.html#70978" title="=&gt; Iterator[Erasure.this.global.Type]">iterator</a>.<a href="../../../collection/Iterator.scala.html#59124" title="(p: Erasure.this.global.Type =&gt; Boolean)Iterator[Erasure.this.global.Type]">filter</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="890967">p</a> =&gt; <a href="#890951" title="(psym: Erasure.this.global.Symbol)Boolean">isUnshadowed</a><span class="delimiter">(</span><a href="#890967" title="Erasure.this.global.Type">p</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/Iterator.scala.html#59108" title="()Erasure.this.global.Type">next</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="631252">apply</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="631255">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a> = <span class="delimiter">{</span>
      <a href="#631255" title="Erasure.this.global.Type">tp</a> <span title="Erasure.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Type">ConstantType</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
          <a href="#631255" title="Erasure.this.global.Type">tp</a>
        <span class="keyword">case</span> <a title="Erasure.this.global.Type" id="890969">st</a>: <a href="../symtab/Types.scala.html#478722" title="Erasure.this.global.SubType">SubType</a> =&gt;
          <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#890969" title="Erasure.this.global.SubType">st</a>.<a href="../symtab/Types.scala.html#546335" title="=&gt; Erasure.this.global.Type">supertype</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Type">TypeRef</span><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="890974">pre</a>, <a title="Erasure.this.global.Symbol" id="890975">sym</a>, <a title="List[Erasure.this.global.Type]" id="890976">args</a><span class="delimiter">)</span> =&gt;
          <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#890975" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
            <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#513083" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a href="#631255" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>
            <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#890976" title="List[Erasure.this.global.Type]">args</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Erasure.this.global.Type">head</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507933" title="=&gt; Erasure.this.global.Symbol">NothingClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#890976" title="List[Erasure.this.global.Type]">args</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Erasure.this.global.Type">head</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507931" title="=&gt; Erasure.this.global.Symbol">NullClass</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#508202" title="(arg: Erasure.this.global.Type)Erasure.this.global.Type">arrayType</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../symtab/Types.scala.html#478811" title="(pre: Erasure.this.global.Type, sym: Erasure.this.global.Symbol, args: List[Erasure.this.global.Type])Erasure.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#890974" title="Erasure.this.global.Type">pre</a><span class="delimiter">)</span>, <a href="#890975" title="Erasure.this.global.Symbol">sym</a>, <a href="#890976" title="List[Erasure.this.global.Type]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],Erasure.this.global.Type,List[Erasure.this.global.Type]])List[Erasure.this.global.Type]">map</a> <span class="keyword">this</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#890975" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Erasure.this.global.Symbol">AnyClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#890975" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508421" title="=&gt; Erasure.this.global.Symbol">AnyValClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#890975" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508049" title="=&gt; Erasure.this.global.Symbol">SingletonClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#890975" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508041" title="=&gt; Erasure.this.global.Symbol">NotNullClass</a><span class="delimiter">)</span> <a href="#513100" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">erasedTypeRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#890975" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="#513100" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">erasedTypeRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508301" title="=&gt; Erasure.this.global.Symbol">BoxedUnitClass</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#890975" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a><span class="delimiter">)</span> <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#631251" title="(parents: List[Erasure.this.global.Type])Erasure.this.global.Type">intersectionDominator</a><span class="delimiter">(</span><a href="#631255" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Erasure.this.global.Type]">parents</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#890975" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#478811" title="(pre: Erasure.this.global.Type, sym: Erasure.this.global.Symbol, args: List[Erasure.this.global.Type])Erasure.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#513084" title="(pre: Erasure.this.global.Type, cls: Erasure.this.global.Symbol)Erasure.this.global.Type">rebindInnerClass</a><span class="delimiter">(</span><a href="#890974" title="Erasure.this.global.Type">pre</a>, <a href="#890975" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#890975" title="Erasure.this.global.Symbol">sym</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>  <span class="comment">// #2585</span>
          <span class="keyword">else</span> <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#890975" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a><span class="delimiter">)</span> <span class="comment">// alias type or abstract type</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Type">PolyType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="891072">tparams</a>, <a title="Erasure.this.global.Type" id="891073">restpe</a><span class="delimiter">)</span> =&gt;
          <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#891073" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Type">ExistentialType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="891076">tparams</a>, <a title="Erasure.this.global.Type" id="891077">restpe</a><span class="delimiter">)</span> =&gt;
          <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#891077" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Erasure.this.global.MethodType" id="891078">mt</a> @ MethodType<span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="891081">params</a>, <a title="Erasure.this.global.Type" id="891082">restpe</a><span class="delimiter">)</span> =&gt;
          <a href="../symtab/Types.scala.html#546837" title="(params: List[Erasure.this.global.Symbol], resultType: Erasure.this.global.Type)Erasure.this.global.MethodType">MethodType</a><span class="delimiter">(</span>
            <a href="../symtab/Symbols.scala.html#478669" title="(syms: List[Erasure.this.global.Symbol])List[Erasure.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#891081" title="List[Erasure.this.global.Symbol]">params</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Symbol =&gt; Erasure.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Symbol],Erasure.this.global.Symbol,List[Erasure.this.global.Symbol]])List[Erasure.this.global.Symbol]">map</a> <span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="891138">p</a> =&gt; <a href="#891138" title="Erasure.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Erasure.this.global.Type)p.type">setInfo</a><span class="delimiter">(</span><a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#891138" title="Erasure.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
            <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#891082" title="Erasure.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
              <a href="#513100" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">erasedTypeRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469799" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">YdepMethTpes</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
              <span class="comment">// this replaces each typeref that refers to an argument by the type `p.tpe` of the actual argument p (p in params)</span>
              <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#891078" title="Erasure.this.global.MethodType">mt</a>.<a href="../symtab/Types.scala.html#546856" title="(actuals: List[Erasure.this.global.Type])Erasure.this.global.Type">resultType</a><span class="delimiter">(</span><a href="#891081" title="List[Erasure.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Symbol =&gt; Erasure.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Symbol],Erasure.this.global.Type,List[Erasure.this.global.Type]])List[Erasure.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#891198" title="Erasure.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#891082" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Type">RefinedType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="891228">parents</a>, <a title="Erasure.this.global.Scope" id="891229">decls</a><span class="delimiter">)</span> =&gt;
          <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#631251" title="(parents: List[Erasure.this.global.Type])Erasure.this.global.Type">intersectionDominator</a><span class="delimiter">(</span><a href="#891228" title="List[Erasure.this.global.Type]">parents</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Type">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Erasure.this.global.Type" id="891233">atp</a>, _<span class="delimiter">)</span> =&gt;
          <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#891233" title="Erasure.this.global.Type">atp</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.ClassInfoType">ClassInfoType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="891237">parents</a>, <a title="Erasure.this.global.Scope" id="891238">decls</a>, <a title="Erasure.this.global.Symbol" id="891239">clazz</a><span class="delimiter">)</span> =&gt;
          <a href="../symtab/Types.scala.html#546740" title="(parents: List[Erasure.this.global.Type], decls: Erasure.this.global.Scope, typeSymbol: Erasure.this.global.Symbol)Erasure.this.global.ClassInfoType">ClassInfoType</a><span class="delimiter">(</span>
            <span title="List[Erasure.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#891239" title="Erasure.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#891239" title="Erasure.this.global.Symbol">clazz</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
            <span class="keyword">else</span> <span title="List[Erasure.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#891239" title="Erasure.this.global.Symbol">clazz</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Erasure.this.global.Type*)List[Erasure.this.global.Type]">List</a><span class="delimiter">(</span><a href="#513100" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">erasedTypeRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="#513101" title="(tps: List[Erasure.this.global.Type])List[Erasure.this.global.Type]">removeDoubleObject</a><span class="delimiter">(</span><a href="#891237" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],Erasure.this.global.Type,List[Erasure.this.global.Type]])List[Erasure.this.global.Type]">map</a> <span class="keyword">this</span><span class="delimiter">)</span>,
            <a href="#891238" title="Erasure.this.global.Scope">decls</a>, <a href="#891239" title="Erasure.this.global.Symbol">clazz</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Type">_</span> =&gt;
          <a href="../symtab/Types.scala.html#532446" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#631255" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">private</span> <span class="keyword">object</span> <a title="object Erasure.this.NeedsSigCollector" id="513087">NeedsSigCollector</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../symtab/Types.scala.html#478846" title="Erasure.this.global.TypeCollector[Boolean]">TypeCollector</a><span class="delimiter">(</span><span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Unit" id="891324">traverse</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="891331">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Types.scala.html#842119" title="=&gt; Boolean">result</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#891331" title="Erasure.this.global.Type">tp</a> <span title="Unit" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a title="Unit" id="891338">st</a>: <a href="../symtab/Types.scala.html#478722" title="Erasure.this.global.SubType">SubType</a> =&gt;
            <a href="#891324" title="(tp: Erasure.this.global.Type)Unit">traverse</a><span class="delimiter">(</span><a href="#891338" title="Erasure.this.global.SubType">st</a>.<a href="../symtab/Types.scala.html#546335" title="=&gt; Erasure.this.global.Type">supertype</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">TypeRef</span><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="891342">pre</a>, <a title="Erasure.this.global.Symbol" id="891343">sym</a>, <a title="List[Erasure.this.global.Type]" id="891344">args</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#891343" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> <a href="#891344" title="List[Erasure.this.global.Type]">args</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Erasure.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#891324" title="(tp: Erasure.this.global.Type)Unit">traverse</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#891343" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509186" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#891343" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435381" title="=&gt; Boolean">isExistentiallyBound</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#891344" title="List[Erasure.this.global.Type]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#842120" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#891343" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <a href="#891324" title="(tp: Erasure.this.global.Type)Unit">traverse</a><span class="delimiter">(</span><a href="#513084" title="(pre: Erasure.this.global.Type, cls: Erasure.this.global.Symbol)Erasure.this.global.Type">rebindInnerClass</a><span class="delimiter">(</span><a href="#891342" title="Erasure.this.global.Type">pre</a>, <a href="#891343" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// #2585</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#891343" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a><span class="delimiter">)</span> <a href="#891324" title="(tp: Erasure.this.global.Type)Unit">traverse</a><span class="delimiter">(</span><a href="#891342" title="Erasure.this.global.Type">pre</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">PolyType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> | ExistentialType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
            <a href="../symtab/Types.scala.html#842120" title="(x$1: Boolean)Unit">result</a> = <span title="Boolean(true)" class="keyword">true</span>
          <span class="keyword">case</span> <span title="Unit">RefinedType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="891377">parents</a>, <a title="Erasure.this.global.Scope" id="891378">decls</a><span class="delimiter">)</span> =&gt;
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#891377" title="List[Erasure.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#891324" title="(tp: Erasure.this.global.Type)Unit">traverse</a><span class="delimiter">(</span><a href="#891377" title="List[Erasure.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Erasure.this.global.Type">head</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">ClassInfoType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="891382">parents</a>, _, _<span class="delimiter">)</span> =&gt;
            <a href="#891382" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/LinearSeqOptimized.scala.html#71032" title="(f: Erasure.this.global.Type =&gt; Unit)Unit">foreach</a> <a href="#891324" title="(tp: Erasure.this.global.Type)Unit">traverse</a>
          <span class="keyword">case</span> <span title="Unit">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Erasure.this.global.Type" id="891407">atp</a>, _<span class="delimiter">)</span> =&gt;
            <a href="#891324" title="(tp: Erasure.this.global.Type)Unit">traverse</a><span class="delimiter">(</span><a href="#891407" title="Erasure.this.global.Type">atp</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <span title="Unit">_</span> =&gt;
            <a href="../symtab/Types.scala.html#532446" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><span title="Unit" class="delimiter">(</span><a href="#891331" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Boolean" id="513089">needsJavaSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="891421">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469739" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">Ynogenericsig</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#513087" title="object Erasure.this.NeedsSigCollector">NeedsSigCollector</a>.<a href="../symtab/Types.scala.html#842122" title="(tp: Erasure.this.global.Type)Boolean">collect</a><span class="delimiter">(</span><a href="#891421" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>

  <span class="comment">// only refer to type params that will actually make it into the sig, this excludes:</span>
  <span class="comment">// * higher-order type parameters</span>
  <span class="comment">// * type parameters appearing in method parameters</span>
  <span class="comment">// * type members not visible in an enclosing template</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol, initialSymbol: Erasure.this.global.Symbol)Boolean" id="513090">isTypeParameterInSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="891430">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="891431">initialSymbol</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <span class="delimiter">(</span>
    <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#891430" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509187" title="=&gt; Boolean">isHigherOrderTypeParameter</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
    <a href="#891430" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509186" title="=&gt; Boolean">isTypeParameterOrSkolem</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span>
      <span class="delimiter">(</span><a href="#891431" title="Erasure.this.global.Symbol">initialSymbol</a>.<a href="../symtab/Symbols.scala.html#509253" title="=&gt; List[Erasure.this.global.Symbol]">enclClassChain</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71036" title="(p: Erasure.this.global.Symbol =&gt; Boolean)Boolean">exists</a><span class="delimiter">(</span><a href="#891430" title="Erasure.this.global.Symbol">sym</a> <a href="../symtab/Symbols.scala.html#509295" title="(that: Erasure.this.global.Symbol)Boolean">isNestedIn</a> <a href="#891442" title="Erasure.this.global.Symbol">_</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a>
      <a href="../util/Tracer.scala.html#890536" title="(name: String, args: =&gt; Any)(body: =&gt; Boolean)Boolean">traceSig</a><span class="delimiter">(</span><span title="java.lang.String(&quot;isMethod&quot;)" class="string">&quot;isMethod&quot;</span>, <a href="../../../Tuple2.scala.html#53390" title="(_1: Erasure.this.global.Symbol, _2: List[Erasure.this.global.Symbol])(Erasure.this.global.Symbol, List[Erasure.this.global.Symbol])" class="delimiter">(</a><a href="#891431" title="Erasure.this.global.Symbol">initialSymbol</a>, <a href="#891431" title="Erasure.this.global.Symbol">initialSymbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Erasure.this.global.Symbol]">typeParams</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="delimiter">(</span><a href="#891431" title="Erasure.this.global.Symbol">initialSymbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#891431" title="Erasure.this.global.Symbol">initialSymbol</a>.<a href="../symtab/Symbols.scala.html#509287" title="=&gt; List[Erasure.this.global.Symbol]">typeParams</a>.<a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a><span class="delimiter">(</span><a href="#891430" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">)</span>
  <span class="delimiter">)</span>

  <span class="comment">// Ensure every '.' in the generated signature immediately follows</span>
  <span class="comment">// a close angle bracket '&gt;'.  Any which do not are replaced with '$'.</span>
  <span class="comment">// This arises due to multiply nested classes in the face of the</span>
  <span class="comment">// rewriting explained at rebindInnerClass.   This should be done in a</span>
  <span class="comment">// more rigorous way up front rather than catching it after the fact,</span>
  <span class="comment">// but that will be more involved.</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sig: String)String" id="513091">dotCleanup</a><span class="delimiter">(</span><a title="String" id="891461">sig</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
    <span class="keyword">var</span> <a title="Char" id="891463">last</a>: <a href="../../../Char.scala.html#2189" title="Char">Char</a> = <span title="Char(\'\00\')" class="char">'\0'</span>
    <a href="../../../Predef.scala.html#9682" title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps">sig</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Char =&gt; Char)(implicit bf: scala.collection.generic.CanBuildFrom[String,Char,String])String">map</a> <a href="#891887" title="Char" class="delimiter">{</a>
      <span class="keyword">case</span> <span title="Char" class="char">'.'</span> <span class="keyword">if</span> <a href="#891463" title="Char">last</a> <a href="../../../Char.scala.html#54909" title="(x: Char)Boolean">!=</a> <span title="Char(\'&gt;\')" class="char">'&gt;'</span> =&gt; <a href="#891463" title="Char">last</a> = <span title="Char(\'.\')" class="char">'.'</span> ; <span title="Char(\'$\')" class="char">'$'</span>
      <span class="keyword">case</span> <a title="Char" id="891893">ch</a>                 =&gt; <a href="#891463" title="Char">last</a> = <a href="#891893" title="Char">ch</a> ; <a href="#891893" title="Char">ch</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">// for debugging signatures: traces logic given system property</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="Boolean" id="513092">traceProp</a> = <span class="delimiter">(</span>sys.<a href="../../../sys/BooleanProp.scala.html#20722" title="object scala.sys.BooleanProp">BooleanProp</a> <a href="../../../sys/BooleanProp.scala.html#460938" title="(key: String)scala.sys.BooleanProp">keyExists</a> <span title="java.lang.String(&quot;scalac.sigs.trace&quot;)" class="string">&quot;scalac.sigs.trace&quot;</span><span class="delimiter">)</span>.<a href="../../../sys/BooleanProp.scala.html#460922" title="=&gt; Boolean">value</a> <span class="comment">// performance: get the value here</span>
  <span class="keyword">private</span> <span class="keyword">val</span> <a title="scala.tools.nsc.util.Tracer" id="513094">traceSig</a>  = util.<a href="../util/Tracer.scala.html#890512" title="(enabled: =&gt; Boolean)scala.tools.nsc.util.Tracer">Tracer</a><span class="delimiter">(</span><a href="#513092" title="=&gt; Boolean">traceProp</a><span class="delimiter">)</span>

  <span class="comment">/** This object is only used for sanity testing when -check:genjvm is set.
   *  In that case we make sure that the erasure of the `normalized' type
   *  is the same as the erased type that's generated. Normalization means
   *  unboxing some primitive types and further simplifications as they are done in jsig.
   */</span>
  <span class="keyword">val</span> <a title="prepareSigMap extends Erasure.this.global.TypeMap" id="513096">prepareSigMap</a> = <a href="#630951" title="Erasure.this.global.TypeMap{def squashBoxed(tp: Erasure.this.global.Type): Erasure.this.global.Type}" class="keyword">new</a> <a href="../symtab/Types.scala.html#478842" title="anonymous class $anon extends Erasure.this.global.TypeMap" id="630951">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="630953">squashBoxed</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="630955">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a> = <a href="#630955" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Erasure.this.global.Type">normalize</a> <span title="Erasure.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Erasure.this.global.Type" id="630959">t</a> @ RefinedType<span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="630962">parents</a>, <a title="Erasure.this.global.Scope" id="630963">decls</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="630964">parents1</a> = <a href="#630962" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)List[Erasure.this.global.Type]">mapConserve</a> <a href="#630953" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#630964" title="List[Erasure.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#630962" title="List[Erasure.this.global.Type]">parents</a><span class="delimiter">)</span> <a href="#630955" title="Erasure.this.global.Type">tp</a>
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#546655" title="(parents: List[Erasure.this.global.Type], decls: Erasure.this.global.Scope)Erasure.this.global.RefinedType">RefinedType</a><span class="delimiter">(</span><a href="#630964" title="List[Erasure.this.global.Type]">parents1</a>, <a href="#630963" title="Erasure.this.global.Scope">decls</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Erasure.this.global.Type" id="631010">t</a> @ ExistentialType<span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="631013">tparams</a>, <a title="Erasure.this.global.Type" id="631014">tpe</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="631015">tpe1</a> = <a href="#630953" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span><a href="#631014" title="Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631015" title="Erasure.this.global.Type">tpe1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#631014" title="Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="#631010" title="Erasure.this.global.ExistentialType">t</a>
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#547201" title="(quantified: List[Erasure.this.global.Symbol], underlying: Erasure.this.global.Type)Erasure.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#631013" title="List[Erasure.this.global.Symbol]">tparams</a>, <a href="#631015" title="Erasure.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Erasure.this.global.Type" id="631025">t</a> =&gt;
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508405" title="=&gt; Map[Erasure.this.global.Symbol,Erasure.this.global.Symbol]">boxedClass</a> <a href="../../../collection/MapLike.scala.html#73205" title="(key: Erasure.this.global.Symbol)Boolean">contains</a> <a href="#631025" title="Erasure.this.global.Type">t</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <a href="#630955" title="Erasure.this.global.Type">tp</a>
    <span class="delimiter">}</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="630954">apply</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="630956">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a> = <a href="#630956" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Erasure.this.global.Type">normalize</a> <span title="Erasure.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <a title="Erasure.this.global.Type" id="631027">tp1</a> @ TypeBounds<span class="delimiter">(</span><a title="Erasure.this.global.Type" id="631030">lo</a>, <a title="Erasure.this.global.Type" id="631031">hi</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="631032">lo1</a> = <a href="#630953" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span><a href="#630954" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#631030" title="Erasure.this.global.Type">lo</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="631033">hi1</a> = <a href="#630953" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span><a href="#630954" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#631031" title="Erasure.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#631032" title="Erasure.this.global.Type">lo1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#631030" title="Erasure.this.global.Type">lo</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#631033" title="Erasure.this.global.Type">hi1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#631031" title="Erasure.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#631027" title="Erasure.this.global.TypeBounds">tp1</a>
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#546580" title="(lo: Erasure.this.global.Type, hi: Erasure.this.global.Type)Erasure.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="#631032" title="Erasure.this.global.Type">lo1</a>, <a href="#631033" title="Erasure.this.global.Type">hi1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Erasure.this.global.Type" id="631043">tp1</a> @ TypeRef<span class="delimiter">(</span><a title="Erasure.this.global.Type" id="631047">pre</a>, <a title="Erasure.this.global.Symbol" id="631048">sym</a>, <a title="List[Erasure.this.global.Type]" id="631049">args</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="631050">argApply</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="631051">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="631052">tp1</a> = <a href="#630954" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#631051" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
          <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631052" title="Erasure.this.global.Type">tp1</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>
          <span class="keyword">else</span> <a href="#630953" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">squashBoxed</a><span class="delimiter">(</span><a href="#631052" title="Erasure.this.global.Type">tp1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631048" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#631049" title="List[Erasure.this.global.Type]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#513083" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a href="#631043" title="Erasure.this.global.TypeRef">tp1</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>
          <span class="keyword">else</span> <a href="../symtab/Types.scala.html#532446" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#631043" title="Erasure.this.global.TypeRef">tp1</a><span class="delimiter">)</span>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631048" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Erasure.this.global.Symbol">AnyClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#631048" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508421" title="=&gt; Erasure.this.global.Symbol">AnyValClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#631048" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508049" title="=&gt; Erasure.this.global.Symbol">SingletonClass</a><span class="delimiter">)</span>
          <a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631048" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
          <a href="../symtab/Definitions.scala.html#508301" title="=&gt; Erasure.this.global.Symbol">BoxedUnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631048" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507933" title="=&gt; Erasure.this.global.Symbol">NothingClass</a><span class="delimiter">)</span>
          <a href="../symtab/Definitions.scala.html#507935" title="=&gt; Erasure.this.global.Symbol">RuntimeNothingClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631048" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507931" title="=&gt; Erasure.this.global.Symbol">NullClass</a><span class="delimiter">)</span>
          <a href="../symtab/Definitions.scala.html#507937" title="=&gt; Erasure.this.global.Symbol">RuntimeNullClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="631142">pre1</a> = <a href="#630954" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#631047" title="Erasure.this.global.Type">pre</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="631143">args1</a> = <a href="#631049" title="List[Erasure.this.global.Type]">args</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)List[Erasure.this.global.Type]">mapConserve</a> <a href="#631050" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">argApply</a>
          <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#631142" title="Erasure.this.global.Type">pre1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#631047" title="Erasure.this.global.Type">pre</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#631143" title="List[Erasure.this.global.Type]">args1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#631049" title="List[Erasure.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#631043" title="Erasure.this.global.TypeRef">tp1</a>
          <span class="keyword">else</span> <a href="../symtab/Types.scala.html#532513" title="(pre: Erasure.this.global.Type, sym: Erasure.this.global.Symbol, args: List[Erasure.this.global.Type])Erasure.this.global.Type">TypeRef</a><span class="delimiter">(</span><a href="#631142" title="Erasure.this.global.Type">pre1</a>, <a href="#631048" title="Erasure.this.global.Symbol">sym</a>, <a href="#631143" title="List[Erasure.this.global.Type]">args1</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">case</span> <a title="Erasure.this.global.Type" id="631165">tp1</a> @ MethodType<span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="631168">params</a>, <a title="Erasure.this.global.Type" id="631169">restpe</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Erasure.this.global.Symbol]" id="631170">params1</a> = <a href="../symtab/Types.scala.html#532449" title="(origSyms: List[Erasure.this.global.Symbol])List[Erasure.this.global.Symbol]">mapOver</a><span class="delimiter">(</span><a href="#631168" title="List[Erasure.this.global.Symbol]">params</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="631171">restpe1</a> = <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631169" title="Erasure.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Erasure.this.global.Type">normalize</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a> <span class="keyword">else</span> <a href="#630954" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#631169" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#631170" title="List[Erasure.this.global.Symbol]">params1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#631168" title="List[Erasure.this.global.Symbol]">params</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="#631171" title="Erasure.this.global.Type">restpe1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#631169" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#631165" title="Erasure.this.global.MethodType">tp1</a>
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#546837" title="(params: List[Erasure.this.global.Symbol], resultType: Erasure.this.global.Type)Erasure.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="#631170" title="List[Erasure.this.global.Symbol]">params1</a>, <a href="#631171" title="Erasure.this.global.Type">restpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Erasure.this.global.Type" id="631188">tp1</a> @ RefinedType<span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="631191">parents</a>, <a title="Erasure.this.global.Scope" id="631192">decls</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="631193">parents1</a> = <a href="#631191" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/immutable/List.scala.html#49149" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)List[Erasure.this.global.Type]">mapConserve</a> <a href="#630954" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631193" title="List[Erasure.this.global.Type]">parents1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#631191" title="List[Erasure.this.global.Type]">parents</a><span class="delimiter">)</span> <a href="#631188" title="Erasure.this.global.RefinedType">tp1</a>
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#546655" title="(parents: List[Erasure.this.global.Type], decls: Erasure.this.global.Scope)Erasure.this.global.RefinedType">RefinedType</a><span class="delimiter">(</span><a href="#631193" title="List[Erasure.this.global.Type]">parents1</a>, <a href="#631192" title="Erasure.this.global.Scope">decls</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Erasure.this.global.Type" id="631208">t</a> @ ExistentialType<span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="631211">tparams</a>, <a title="Erasure.this.global.Type" id="631212">tpe</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="631213">tpe1</a> = <a href="#630954" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">apply</a><span class="delimiter">(</span><a href="#631212" title="Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
        <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#631213" title="Erasure.this.global.Type">tpe1</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#631212" title="Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="#631208" title="Erasure.this.global.ExistentialType">t</a>
        <span class="keyword">else</span> <a href="../symtab/Types.scala.html#547201" title="(quantified: List[Erasure.this.global.Symbol], underlying: Erasure.this.global.Type)Erasure.this.global.ExistentialType">ExistentialType</a><span class="delimiter">(</span><a href="#631211" title="List[Erasure.this.global.Symbol]">tparams</a>, <a href="#631213" title="Erasure.this.global.Type">tpe1</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <a title="Erasure.this.global.ClassInfoType" id="631214">tp1</a>: <a href="../symtab/Types.scala.html#478759" title="Erasure.this.global.ClassInfoType">ClassInfoType</a> =&gt;
        <a href="#631214" title="Erasure.this.global.ClassInfoType">tp1</a>
      <span class="keyword">case</span> <a title="Erasure.this.global.Type" id="631215">tp1</a> =&gt;
        <a href="../symtab/Types.scala.html#532446" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#631215" title="Erasure.this.global.Type">tp1</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The Java signature of type 'info', for symbol sym. The symbol is used to give the right return
   *  type for constructors.
   */</span>
  <span class="keyword">def</span> <a title="(sym0: Erasure.this.global.Symbol, info: Erasure.this.global.Type)Option[String]" id="513098">javaSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="630906">sym0</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Type" id="630907">info</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../Option.scala.html#560" title="Option[String]">Option</a><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Option[String])Option[String]">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482536" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)String" id="891904">boxedSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="891907">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> = <a href="#891912" title="List[Erasure.this.global.Symbol] @scala.annotation.unchecked.uncheckedVariance" id="891918">jsig</a><span class="delimiter">(</span><a href="#891907" title="Erasure.this.global.Type" id="891915">tp</a>, primitiveOK = <a title="Boolean(false)" id="891916" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(bounds: Erasure.this.global.TypeBounds)List[Erasure.this.global.Type]" id="891905">hiBounds</a><span class="delimiter">(</span><a title="Erasure.this.global.TypeBounds" id="891919">bounds</a>: <a href="../symtab/Types.scala.html#478750" title="Erasure.this.global.TypeBounds">TypeBounds</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#891919" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; Erasure.this.global.Type">hi</a>.<a href="../symtab/Types.scala.html#507188" title="=&gt; Erasure.this.global.Type">normalize</a> <span title="List[Erasure.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="List[Erasure.this.global.Type]">RefinedType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="891922">parents</a>, _<span class="delimiter">)</span> =&gt; <a href="#891922" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],Erasure.this.global.Type,List[Erasure.this.global.Type]])List[Erasure.this.global.Type]">map</a> <a href="../typechecker/Infer.scala.html#507476" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">normalize</a>
      <span class="keyword">case</span> <a title="List[Erasure.this.global.Type]" id="891970">tp</a>                      =&gt; <a href="#891970" title="Erasure.this.global.Type">tp</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Erasure.this.global.Type)List[Erasure.this.global.Type]">::</a> <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String" id="891906">jsig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="891908">tp0</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a>, <a title="List[Erasure.this.global.Symbol]" id="891912">existentiallyBound</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Erasure.this.global.Symbol]">List</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a>, <a title="Boolean" id="891913">toplevel</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(false)" class="keyword">false</span>, <a title="Boolean" id="891914">primitiveOK</a>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span>: <span title="String">String</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="891977">tp</a> = <a href="#891908" title="Erasure.this.global.Type">tp0</a>.<a href="../symtab/Types.scala.html#507189" title="=&gt; Erasure.this.global.Type">dealias</a>
      <a href="#891977" title="Erasure.this.global.Type">tp</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="String" id="891978">st</a>: <a href="../symtab/Types.scala.html#478722" title="Erasure.this.global.SubType">SubType</a> =&gt;
          <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#891978" title="Erasure.this.global.SubType">st</a>.<a href="../symtab/Types.scala.html#546335" title="=&gt; Erasure.this.global.Type">supertype</a>, <a href="#891912" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#891913" title="Boolean">toplevel</a>, <a href="#891914" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="String">ExistentialType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="891981">tparams</a>, <a title="Erasure.this.global.Type" id="891982">tpe</a><span class="delimiter">)</span> =&gt;
          <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#891982" title="Erasure.this.global.Type">tpe</a>, <a href="#891981" title="List[Erasure.this.global.Symbol]">tparams</a>, <a href="#891913" title="Boolean">toplevel</a>, <a href="#891914" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="String">TypeRef</span><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="891986">pre</a>, <a title="Erasure.this.global.Symbol" id="891987">sym</a>, <a title="List[Erasure.this.global.Type]" id="891988">args</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)java.lang.String" id="891989">argSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="891992">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span> =
            <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#891912" title="List[Erasure.this.global.Symbol]">existentiallyBound</a> <a href="../../../collection/SeqLike.scala.html#54119" title="(elem: Any)Boolean">contains</a> <a href="#891992" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="keyword">val</span> <a title="Erasure.this.global.TypeBounds" id="891993">bounds</a> = <a href="#891992" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Erasure.this.global.TypeBounds">bounds</a>
              <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507923" title="=&gt; Erasure.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#891993" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; Erasure.this.global.Type">hi</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;+&quot;)" class="string">&quot;+&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#891904" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#891993" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; Erasure.this.global.Type">hi</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#891993" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546583" title="=&gt; Erasure.this.global.Type">lo</a> <a href="../symtab/Types.scala.html#507220" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#507931" title="=&gt; Erasure.this.global.Symbol">NullClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#891904" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#891993" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546583" title="=&gt; Erasure.this.global.Type">lo</a><span class="delimiter">)</span>
              <span class="keyword">else</span> <span title="java.lang.String(&quot;*&quot;)" class="string">&quot;*&quot;</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
              <a href="#891904" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#891992" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="=&gt; String" id="891990">classSig</a>: <span title="String">String</span> =
            <span title="java.lang.String(&quot;L&quot;)" class="string">&quot;L&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; java.lang.String)java.lang.String">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482544" title="=&gt; scala.tools.nsc.Phase">icodePhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435348" title="=&gt; String">fullName</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="TypingTransformers.scala.html#511838" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#478322" title="object Erasure.this.global.genJVM">genJVM</a>.<a href="../backend/jvm/GenJVM.scala.html#513953" title="(sym: Erasure.this.global.genJVM.global.Symbol)java.lang.String">moduleSuffix</a><span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="(x$1: Char, x$2: Char)java.lang.String">replace</span><span class="delimiter">(</span><span title="Char(\'.\')" class="char">'.'</span>, <span title="Char(\'/\')" class="char">'/'</span><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="=&gt; String" id="891991">classSigSuffix</a>: <span title="String">String</span> =
            <span title="java.lang.String(&quot;.&quot;)" class="string">&quot;.&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Erasure.this.global.Name">name</a>

          <span class="comment">// If args isEmpty, Array is being used as a higher-kinded type</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#891988" title="List[Erasure.this.global.Type]">args</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#513083" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a href="#891977" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Char(\'[\')">ARRAY_TAG</span>.<span title="()java.lang.String">toString</span><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><a href="#891988" title="List[Erasure.this.global.Type]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#892035" title="Erasure.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53710" title="=&gt; String">mkString</a>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#513090" title="(sym: Erasure.this.global.Symbol, initialSymbol: Erasure.this.global.Symbol)Boolean">isTypeParameterInSig</a><span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a>, <a href="#630906" title="Erasure.this.global.Symbol">sym0</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#891987" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435372" title="=&gt; Boolean">isAliasType</a>, <span title="java.lang.String(&quot;Unexpected alias type: &quot;)" class="string">&quot;Unexpected alias type: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#891987" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <span title="Char(\'T\')">TVAR_TAG</span>.<span title="()java.lang.String">toString</span><span title="(x$1: Any)java.lang.String">+</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Erasure.this.global.Name">name</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Erasure.this.global.Symbol">AnyClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#891987" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508421" title="=&gt; Erasure.this.global.Symbol">AnyValClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#891987" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508049" title="=&gt; Erasure.this.global.Symbol">SingletonClass</a><span class="delimiter">)</span>
            <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a><span class="delimiter">)</span>
            <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508301" title="=&gt; Erasure.this.global.Symbol">BoxedUnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507933" title="=&gt; Erasure.this.global.Symbol">NothingClass</a><span class="delimiter">)</span>
            <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507935" title="=&gt; Erasure.this.global.Symbol">RuntimeNothingClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507931" title="=&gt; Erasure.this.global.Symbol">NullClass</a><span class="delimiter">)</span>
            <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507937" title="=&gt; Erasure.this.global.Symbol">RuntimeNullClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#891914" title="Boolean">primitiveOK</a><span class="delimiter">)</span> <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508301" title="=&gt; Erasure.this.global.Symbol">BoxedUnitClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../../../collection/MapLike.scala.html#73204" title="(key: Erasure.this.global.Symbol)Char">abbrvTag</a><span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>.<span title="()java.lang.String">toString</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435371" title="=&gt; Boolean">isClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="892119">preRebound</a> = <a href="#891986" title="Erasure.this.global.Type">pre</a>.<a href="../symtab/Types.scala.html#507204" title="(clazz: Erasure.this.global.Symbol)Erasure.this.global.Type">baseType</a><span class="delimiter">(</span><a href="#891987" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <span class="comment">// #2585</span>
            <a href="../util/Tracer.scala.html#890536" title="(name: String, args: =&gt; Any)(body: =&gt; String)String">traceSig</a><span class="delimiter">(</span><span title="java.lang.String(&quot;sym.isClass&quot;)" class="string">&quot;sym.isClass&quot;</span>, <a href="../../../Tuple3.scala.html#53296" title="(_1: List[Erasure.this.global.Symbol], _2: Erasure.this.global.Type, _3: List[Erasure.this.global.Symbol])(List[Erasure.this.global.Symbol], Erasure.this.global.Type, List[Erasure.this.global.Symbol])" class="delimiter">(</a><a href="#891987" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509252" title="=&gt; List[Erasure.this.global.Symbol]">ownerChain</a>, <a href="#892119" title="Erasure.this.global.Type">preRebound</a>, <a href="#630906" title="Erasure.this.global.Symbol">sym0</a>.<a href="../symtab/Symbols.scala.html#509253" title="=&gt; List[Erasure.this.global.Symbol]">enclClassChain</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#513091" title="(sig: String)String">dotCleanup</a><span class="delimiter">(</span>
                <span class="delimiter">(</span>
                  <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#513089" title="(tp: Erasure.this.global.Type)Boolean">needsJavaSig</a><span class="delimiter">(</span><a href="#892119" title="Erasure.this.global.Type">preRebound</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                    <span class="keyword">val</span> <a title="String" id="892134">s</a> = <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#892119" title="Erasure.this.global.Type">preRebound</a>, <a href="#891912" title="List[Erasure.this.global.Symbol]">existentiallyBound</a><span class="delimiter">)</span>
                    <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#892134" title="String">s</a>.<span title="(x$1: Int)Char">charAt</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span> <a href="../../../Char.scala.html#54902" title="(x: Char)Boolean">==</a> <span title="Char(\'L\')" class="char">'L'</span><span class="delimiter">)</span> <a href="#892134" title="String">s</a>.<span title="(x$1: Int, x$2: Int)java.lang.String">substring</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>, <a href="#892134" title="String">s</a>.<span title="()Int">length</span> <a href="../../../Int.scala.html#54811" title="(x: Int)Int">-</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#891991" title="=&gt; String">classSigSuffix</a>
                    <span class="keyword">else</span> <a href="#891990" title="=&gt; String">classSig</a>
                  <span class="delimiter">}</span>
                  <span class="keyword">else</span> <a href="#891990" title="=&gt; String">classSig</a>
                <span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
                  <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#891988" title="List[Erasure.this.global.Type]">args</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span>
                  <span title="java.lang.String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><a href="#891988" title="List[Erasure.this.global.Type]">args</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Type =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a> <a href="#891989" title="(tp: Erasure.this.global.Type)java.lang.String">argSig</a><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53710" title="=&gt; String">mkString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span>
                <span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
                  <span title="java.lang.String(&quot;;&quot;)" class="string">&quot;;&quot;</span>
                <span class="delimiter">)</span>
              <span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#891977" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>, <a href="#891912" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#891913" title="Boolean">toplevel</a>, <a href="#891914" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="java.lang.String">PolyType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="892192">tparams</a>, <a title="Erasure.this.global.Type" id="892193">restpe</a><span class="delimiter">)</span> =&gt;
          <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#892192" title="List[Erasure.this.global.Symbol]">tparams</a>.<a href="../../../collection/TraversableOnce.scala.html#53619" title="=&gt; Boolean">nonEmpty</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(bounds: List[Erasure.this.global.Type])java.lang.String" id="892194">boundSig</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="892199">bounds</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
            <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[Erasure.this.global.Type], List[Erasure.this.global.Type])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[Erasure.this.global.Type]" id="892201">isTrait</a>, <a href="../../../Tuple2.scala.html#53404" title="List[Erasure.this.global.Type]" id="892202">isClass</a><span class="delimiter">)</span> = <a href="#892199" title="List[Erasure.this.global.Type]">bounds</a> <a href="../../../collection/TraversableLike.scala.html#49058" title="(p: Erasure.this.global.Type =&gt; Boolean)(List[Erasure.this.global.Type], List[Erasure.this.global.Type])">partition</a> <span class="delimiter">(</span><a href="#892206" title="Erasure.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span>

            <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
              <span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#892202" title="List[Erasure.this.global.Type]">isClass</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#891904" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#892202" title="List[Erasure.this.global.Type]">isClass</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Erasure.this.global.Type">head</a><span class="delimiter">)</span>
            <span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span>
              <a href="#892201" title="List[Erasure.this.global.Type]">isTrait</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Type =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a> <span class="delimiter">(</span><a title="Erasure.this.global.Type" id="892234">x</a> =&gt; <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#891904" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#892234" title="Erasure.this.global.Type">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53710" title="=&gt; String">mkString</a>
            <span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(tsym: Erasure.this.global.Symbol)java.lang.String" id="892195">paramSig</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="892265">tsym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="#892265" title="Erasure.this.global.Symbol">tsym</a>.<a href="../../../Predef.scala.html#9681" title="implicit scala.Predef.any2stringadd : (x: Any)scala.runtime.StringAdd">name</a> <a href="../../../runtime/StringAdd.scala.html#58450" title="(other: String)java.lang.String">+</a> <a href="#892194" title="(bounds: List[Erasure.this.global.Type])java.lang.String">boundSig</a><span class="delimiter">(</span><a href="#891905" title="(bounds: Erasure.this.global.TypeBounds)List[Erasure.this.global.Type]">hiBounds</a><span class="delimiter">(</span><a href="#892265" title="Erasure.this.global.Symbol">tsym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507167" title="=&gt; Erasure.this.global.TypeBounds">bounds</a><span class="delimiter">)</span><span class="delimiter">)</span>

          <span class="keyword">val</span> <a title="String" id="892196">paramString</a> = <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#891913" title="Boolean">toplevel</a><span class="delimiter">)</span> <a href="#892192" title="List[Erasure.this.global.Symbol]">tparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Symbol =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Symbol],java.lang.String,List[java.lang.String]])List[java.lang.String]">map</a> <a href="#892195" title="(tsym: Erasure.this.global.Symbol)java.lang.String">paramSig</a> <a href="../../../collection/TraversableOnce.scala.html#53708" title="(start: String, sep: String, end: String)String">mkString</a> <span class="delimiter">(</span><span title="java.lang.String(&quot;&lt;&quot;)" class="string">&quot;&lt;&quot;</span>, <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>, <span title="java.lang.String(&quot;&gt;&quot;)" class="string">&quot;&gt;&quot;</span><span class="delimiter">)</span> <span class="keyword">else</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span>
          <a href="../util/Tracer.scala.html#890536" title="(name: String, args: =&gt; Any)(body: =&gt; java.lang.String)java.lang.String">traceSig</a><span class="delimiter">(</span><span title="java.lang.String(&quot;PolyType&quot;)" class="string">&quot;PolyType&quot;</span>, <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Erasure.this.global.Symbol], _2: Erasure.this.global.Type)(List[Erasure.this.global.Symbol], Erasure.this.global.Type)" class="delimiter">(</a><a href="#892192" title="List[Erasure.this.global.Symbol]">tparams</a>, <a href="#892193" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#892196" title="String">paramString</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#892193" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="java.lang.String">MethodType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="892329">params</a>, <a title="Erasure.this.global.Type" id="892330">restpe</a><span class="delimiter">)</span> =&gt;
          <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span><span title="(x$1: Any)java.lang.String">+</span><span class="delimiter">(</span><a href="#892329" title="List[Erasure.this.global.Symbol]">params</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Symbol =&gt; Erasure.this.global.Type)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Symbol],Erasure.this.global.Type,List[Erasure.this.global.Type]])List[Erasure.this.global.Type]">map</a> <span class="delimiter">(</span><a href="#892347" title="Erasure.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#892394" title="Erasure.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53710" title="=&gt; String">mkString</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span><span title="(x$1: Any)java.lang.String">+</span>
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#892330" title="Erasure.this.global.Type">restpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#630906" title="Erasure.this.global.Symbol">sym0</a>.<a href="../symtab/Symbols.scala.html#509180" title="=&gt; Boolean">isConstructor</a><span class="delimiter">)</span> <span title="Char(\'V\')">VOID_TAG</span>.<span title="()java.lang.String">toString</span> <span class="keyword">else</span> <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#892330" title="Erasure.this.global.Type">restpe</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="String">RefinedType</span><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="892436">parent</a> :: _, <a title="Erasure.this.global.Scope" id="892437">decls</a><span class="delimiter">)</span> =&gt;
          <a href="#891904" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#892436" title="Erasure.this.global.Type">parent</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="String">ClassInfoType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="892441">parents</a>, _, _<span class="delimiter">)</span> =&gt;
          <span class="delimiter">(</span><a href="#892441" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Type =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],String,List[String]])List[String]">map</a> <span class="delimiter">(</span><a href="#891904" title="(tp: Erasure.this.global.Type)String">boxedSig</a><span class="delimiter">(</span><a href="#892458" title="Erasure.this.global.Type">_</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../collection/TraversableOnce.scala.html#53710" title="=&gt; String">mkString</a>
        <span class="keyword">case</span> <span title="String">AnnotatedType</span><span class="delimiter">(</span>_, <a title="Erasure.this.global.Type" id="892492">atp</a>, _<span class="delimiter">)</span> =&gt;
          <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#892492" title="Erasure.this.global.Type">atp</a>, <a href="#891912" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#891913" title="Boolean">toplevel</a>, <a href="#891914" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="String">BoundedWildcardType</span><span class="delimiter">(</span><a title="Erasure.this.global.TypeBounds" id="892494">bounds</a><span class="delimiter">)</span> =&gt;
          <a href="../../../Predef.scala.html#9594" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;something\'s wrong: &quot;)" class="string">&quot;something's wrong: &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#630906" title="Erasure.this.global.Symbol">sym0</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#630906" title="Erasure.this.global.Symbol">sym0</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; has a bounded wildcard type&quot;)" class="string">&quot; has a bounded wildcard type&quot;</span><span class="delimiter">)</span>
          <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#892494" title="Erasure.this.global.TypeBounds">bounds</a>.<a href="../symtab/Types.scala.html#546585" title="=&gt; Erasure.this.global.Type">hi</a>, <a href="#891912" title="List[Erasure.this.global.Symbol]">existentiallyBound</a>, <a href="#891913" title="Boolean">toplevel</a>, <a href="#891914" title="Boolean">primitiveOK</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="String">_</span> =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="892497">etp</a> = <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#891977" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
          <span title="String" class="keyword">if</span> <span class="delimiter">(</span><a href="#892497" title="Erasure.this.global.Type">etp</a> <span title="(x$1: AnyRef)Boolean">eq</span> <a href="#891977" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span> <span title="Nothing" class="keyword">throw</span> <span title="Erasure.this.UnknownSig" class="keyword">new</span> <a href="#513099" title="Erasure.this.UnknownSig">UnknownSig</a>
          <span class="keyword">else</span> <a href="#891906" title="(tp0: Erasure.this.global.Type, existentiallyBound: List[Erasure.this.global.Symbol], toplevel: Boolean, primitiveOK: Boolean)String">jsig</a><span class="delimiter">(</span><a href="#892497" title="Erasure.this.global.Type">etp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
    <a href="../util/Tracer.scala.html#890536" title="(name: String, args: =&gt; Any)(body: =&gt; Option[String])Option[String]">traceSig</a><span class="delimiter">(</span><span title="java.lang.String(&quot;javaSig&quot;)" class="string">&quot;javaSig&quot;</span>, <a href="../../../Tuple2.scala.html#53390" title="(_1: Erasure.this.global.Symbol, _2: Erasure.this.global.Type)(Erasure.this.global.Symbol, Erasure.this.global.Type)" class="delimiter">(</a><a href="#630906" title="Erasure.this.global.Symbol">sym0</a>, <a href="#630907" title="Erasure.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Option[String]" class="keyword">if</span> <span class="delimiter">(</span><a href="#513089" title="(tp: Erasure.this.global.Type)Boolean">needsJavaSig</a><span class="delimiter">(</span><a href="#630907" title="Erasure.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">try</span> <a href="../../../Option.scala.html#57885" title="(x: String)Some[String]">Some</a><span class="delimiter">(</span><a href="#891912" title="List[Erasure.this.global.Symbol] @scala.annotation.unchecked.uncheckedVariance" id="892514">jsig</a><span class="delimiter">(</span><a href="#630907" title="Erasure.this.global.Type" id="892511">info</a>, toplevel = <a title="Boolean(true)" id="892512" class="keyword">true</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="None.type" id="892516">ex</a>: <a href="#513099" title="Erasure.this.UnknownSig">UnknownSig</a> =&gt; <a href="../../../Option.scala.html#1737" title="object None">None</a> <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="../../../Option.scala.html#1737" title="object None">None</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">class</span> <a title="class UnknownSig extends java.lang.Exception with ScalaObject" id="513099">UnknownSig</a> <a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="keyword">extends</a> <a href="../../../package.scala.html#47500" title="java.lang.Exception">Exception</a>

  <span class="comment">/** Type reference after erasure */</span>
  <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type" id="513100">erasedTypeRef</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="891056">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a> =
    <a href="../symtab/Types.scala.html#478811" title="(pre: Erasure.this.global.Type, sym: Erasure.this.global.Symbol, args: List[Erasure.this.global.Type])Erasure.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#891056" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>, <a href="#891056" title="Erasure.this.global.Symbol">sym</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="comment">/** Remove duplicate references to class Object in a list of parent classes */</span>
  <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tps: List[Erasure.this.global.Type])List[Erasure.this.global.Type]" id="513101">removeDoubleObject</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="891261">tps</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="#891261" title="List[Erasure.this.global.Type]">tps</a> <span title="List[Erasure.this.global.Type]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="List[Nothing]">List</a><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <a title="List[Erasure.this.global.Type]" id="892556">tp</a> :: <a title="List[Erasure.this.global.Type]" id="892557">tps1</a> =&gt;
      <span title="List[Erasure.this.global.Type]" class="keyword">if</span> <span class="delimiter">(</span><a href="#892556" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span> <a href="#892556" title="Erasure.this.global.Type">tp</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Erasure.this.global.Type)List[Erasure.this.global.Type]">::</a> <a href="#892557" title="List[Erasure.this.global.Type]">tps1</a>.<a href="../../../collection/TraversableLike.scala.html#49051" title="(p: Erasure.this.global.Type =&gt; Boolean)List[Erasure.this.global.Type]">filter</a><span class="delimiter">(</span><a href="#892567" title="Erasure.this.global.Type">_</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#892556" title="Erasure.this.global.Type">tp</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Erasure.this.global.Type)List[Erasure.this.global.Type]">::</a> <a href="#513101" title="(tps: List[Erasure.this.global.Type])List[Erasure.this.global.Type]">removeDoubleObject</a><span class="delimiter">(</span><a href="#892557" title="List[Erasure.this.global.Type]">tps1</a><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="comment">/**  The symbol's erased info. This is the type's erasure, except for the following symbols:
   *
   *   - For $asInstanceOf      : [T]T
   *   - For $isInstanceOf      : [T]scala#Boolean
   *   - For class Array        : [T]C where C is the erased classinfo of the Array class.
   *   - For Array[T].&lt;init&gt;    : {scala#Int)Array[T]
   *   - For a type parameter   : A type bounds type consisting of the erasures of its bounds.
   */</span>
  <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol, tp: Erasure.this.global.Type)Erasure.this.global.Type" id="513102">transformInfo</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="892584">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Type" id="892585">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a> = <span class="delimiter">{</span>
    <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#892584" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508264" title="=&gt; Erasure.this.global.Symbol">Object_asInstanceOf</a><span class="delimiter">)</span>
      <a href="#892584" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a>
    <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#892584" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508262" title="=&gt; Erasure.this.global.Symbol">Object_isInstanceOf</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#892584" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
      <a href="../symtab/Types.scala.html#546990" title="(typeParams: List[Erasure.this.global.Symbol], resultType: Erasure.this.global.Type)Erasure.this.global.PolyType">PolyType</a><span class="delimiter">(</span><a href="#892584" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507182" title="=&gt; List[Erasure.this.global.Symbol]">typeParams</a>, <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#892584" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; Erasure.this.global.Type">resultType</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#892584" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435373" title="=&gt; Boolean">isAbstractType</a><span class="delimiter">)</span>
      <a href="../symtab/Types.scala.html#546580" title="(lo: Erasure.this.global.Type, hi: Erasure.this.global.Type)Erasure.this.global.TypeBounds">TypeBounds</a><span class="delimiter">(</span><a href="../symtab/Types.scala.html#478729" title="object Erasure.this.global.WildcardType">WildcardType</a>, <a href="../symtab/Types.scala.html#478729" title="object Erasure.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
    <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#892584" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#892584" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#892584" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509178" title="=&gt; Boolean">isClassConstructor</a><span class="delimiter">)</span>
        <a href="#892585" title="Erasure.this.global.Type">tp</a> <span title="Erasure.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Erasure.this.global.MethodType">MethodType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Symbol]" id="892622">params</a>, TypeRef<span class="delimiter">(</span><a title="Erasure.this.global.Type" id="892626">pre</a>, <a title="Erasure.this.global.Symbol" id="892627">sym</a>, <a title="List[Erasure.this.global.Type]" id="892628">args</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
            <a href="../symtab/Types.scala.html#546837" title="(params: List[Erasure.this.global.Symbol], resultType: Erasure.this.global.Type)Erasure.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../symtab/Symbols.scala.html#478669" title="(syms: List[Erasure.this.global.Symbol])List[Erasure.this.global.Symbol]">cloneSymbols</a><span class="delimiter">(</span><a href="#892622" title="List[Erasure.this.global.Symbol]">params</a><span class="delimiter">)</span> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Symbol =&gt; Erasure.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Symbol],Erasure.this.global.Symbol,List[Erasure.this.global.Symbol]])List[Erasure.this.global.Symbol]">map</a> <span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="892668">p</a> =&gt; <a href="#892668" title="Erasure.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Erasure.this.global.Type)p.type">setInfo</a><span class="delimiter">(</span><a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#892668" title="Erasure.this.global.Symbol">p</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                       <a href="../symtab/Types.scala.html#478811" title="(pre: Erasure.this.global.Type, sym: Erasure.this.global.Symbol, args: List[Erasure.this.global.Type])Erasure.this.global.Type">typeRef</a><span class="delimiter">(</span><a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#892626" title="Erasure.this.global.Type">pre</a><span class="delimiter">)</span>, <a href="#892627" title="Erasure.this.global.Symbol">sym</a>, <a href="#892628" title="List[Erasure.this.global.Type]">args</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#892584" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Erasure.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object Erasure.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516580" title="=&gt; Erasure.this.global.nme.NameType">apply</a><span class="delimiter">)</span>
        <a href="#892585" title="Erasure.this.global.Type">tp</a>
      <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span><a href="#892584" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Erasure.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/StdNames.scala.html#479055" title="object Erasure.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516730" title="=&gt; Erasure.this.global.nme.NameType">update</a><span class="delimiter">)</span>
        <span class="delimiter">(</span><a href="#892585" title="Erasure.this.global.Type">tp</a>: @<a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Erasure.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <span title="Erasure.this.global.MethodType">MethodType</span><span class="delimiter">(</span><a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Erasure.this.global.Symbol])Some[List[Erasure.this.global.Symbol]]">List</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="892724">index</a>, <a title="Erasure.this.global.Symbol" id="892725">tvar</a><span class="delimiter">)</span>, <a title="Erasure.this.global.Type" id="892726">restpe</a><span class="delimiter">)</span> =&gt;
            <a href="../symtab/Types.scala.html#546837" title="(params: List[Erasure.this.global.Symbol], resultType: Erasure.this.global.Type)Erasure.this.global.MethodType">MethodType</a><span class="delimiter">(</span><a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Erasure.this.global.Symbol*)List[Erasure.this.global.Symbol]">List</a><span class="delimiter">(</span><a href="#892724" title="Erasure.this.global.Symbol">index</a>.<a href="../symtab/Symbols.scala.html#509302" title="=&gt; Erasure.this.global.Symbol">cloneSymbol</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Erasure.this.global.Type)Erasure.this.global.Symbol">setInfo</a><span class="delimiter">(</span><a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#892724" title="Erasure.this.global.Symbol">index</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#892725" title="Erasure.this.global.Symbol">tvar</a><span class="delimiter">)</span>,
                       <a href="#513100" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">erasedTypeRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#892585" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Type" class="keyword">if</span> <span class="delimiter">(</span>
      <a href="#892584" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Erasure.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#892584" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
      <a href="#892584" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508102" title="=&gt; Erasure.this.global.Symbol">Array_update</a>.<a href="../symtab/Symbols.scala.html#509288" title="=&gt; List[List[Erasure.this.global.Symbol]]">paramss</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71031" title="(n: Int)Erasure.this.global.Symbol">head</a><span class="delimiter">(</span><span title="Int(1)" class="int">1</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="comment">// special case for Array.update: the non-erased type remains, i.e. (Int,A)Unit</span>
      <span class="comment">// since the erasure type map gets applied to every symbol, we have to catch the</span>
      <span class="comment">// symbol here</span>
      <a href="#892585" title="Erasure.this.global.Type">tp</a>
    <span class="delimiter">}</span> <span class="keyword">else</span> <span class="delimiter">{</span>
<span class="comment">/*
      val erased =
        if (sym.isGetter &amp;&amp; sym.tpe.isInstanceOf[MethodType])
          erasure mapOver sym.tpe // for getters, unlike for normal methods, always convert Unit to BoxedUnit.
        else
          erasure(tp)
*/</span>
      <a href="AddInterfaces.scala.html#513060" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">transformMixinInfo</a><span class="delimiter">(</span><a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#892585" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">val</span> <a title="Erasure.this.global.TypeMap" id="513103">deconstMap</a> = <a href="#890539" title="Erasure.this.global.TypeMap" class="keyword">new</a> <a href="../symtab/Types.scala.html#478842" title="anonymous class $anon extends Erasure.this.global.TypeMap" id="890539">TypeMap</a> <span class="delimiter">{</span>
    <span class="keyword">def</span> <a title="(tp: Erasure.this.global.Type)Erasure.this.global.Type" id="890541">apply</a><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="890542">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a> = <a href="#890542" title="Erasure.this.global.Type">tp</a> <span title="Erasure.this.global.Type" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Erasure.this.global.Type">PolyType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#532446" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#890542" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="Erasure.this.global.Type">MethodType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt; <a href="../symtab/Types.scala.html#532446" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">mapOver</a><span class="delimiter">(</span><a href="#890542" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span> <span class="comment">// nullarymethod was eliminated during uncurry</span>
      <span class="keyword">case</span> <span title="Erasure.this.global.Type">_</span> =&gt; <a href="#890542" title="Erasure.this.global.Type">tp</a>.<a href="../symtab/Types.scala.html#507164" title="=&gt; Erasure.this.global.Type">deconst</a>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
  <span class="comment">// Methods on Any/Object which we rewrite here while we still know what</span>
  <span class="comment">// is a primitive and what arrived boxed.</span>
  <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="scala.collection.immutable.Set[Erasure.this.global.Symbol]" id="513106">interceptedMethods</a> = <a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="[A](elems: A*)scala.collection.immutable.Set[A]">Set</a><span title="(elems: Erasure.this.global.Symbol*)scala.collection.immutable.Set[Erasure.this.global.Symbol]" class="delimiter">[</span><a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508241" title="=&gt; Erasure.this.global.Symbol">Any_##</a>, <a href="../symtab/Definitions.scala.html#508256" title="=&gt; Erasure.this.global.Symbol">Object_##</a>, <a href="../symtab/Definitions.scala.html#508232" title="=&gt; Erasure.this.global.Symbol">Any_getClass</a><span class="delimiter">)</span> <a href="../../../collection/SetLike.scala.html#65658" title="(elems: scala.collection.GenTraversableOnce[Erasure.this.global.Symbol])scala.collection.immutable.Set[Erasure.this.global.Symbol]">++</a> <span class="delimiter">(</span>
    <span class="comment">// Each value class has its own getClass for ultra-precise class object typing.</span>
    <a href="../symtab/Definitions.scala.html#508444" title="=&gt; List[Erasure.this.global.Symbol]">ScalaValueClasses</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Symbol =&gt; Erasure.this.global.Symbol)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Symbol],Erasure.this.global.Symbol,List[Erasure.this.global.Symbol]])List[Erasure.this.global.Symbol]">map</a> <span class="delimiter">(</span><a href="#890638" title="Erasure.this.global.Symbol">_</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507200" title="(name: Erasure.this.global.Name)Erasure.this.global.Symbol">member</a> <a href="../symtab/StdNames.scala.html#479055" title="object Erasure.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516795" title="=&gt; Erasure.this.global.TermName">getClass_</a><span class="delimiter">)</span>
  <span class="delimiter">)</span>

<span class="comment">// -------- erasure on trees ------------------------------------------</span>

  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(context: Erasure.this.Context)Erasure.this.Eraser" id="513107">newTyper</a><span class="delimiter">(</span><a title="Erasure.this.Context" id="892770">context</a>: <a href="../typechecker/Contexts.scala.html#507359" title="Erasure.this.Context">Context</a><span class="delimiter">)</span> = <span title="Erasure.this.Eraser" class="keyword">new</span> <a href="#513108" title="Erasure.this.Eraser">Eraser</a><span class="delimiter">(</span><a href="#892770" title="Erasure.this.Context">context</a><span class="delimiter">)</span>

  <span class="comment">/** An extractor object for boxed expressions
  object Boxed {
    def unapply(tree: Tree): Option[Tree] = tree match {
      case LabelDef(name, params, Boxed(rhs)) =&gt;
        Some(treeCopy.LabelDef(tree, name, params, rhs) setType rhs.tpe)
      case Select(_, _) if tree.symbol == BoxedUnit_UNIT =&gt;
        Some(Literal(()) setPos tree.pos setType UnitClass.tpe)
      case Block(List(unboxed), ret @ Select(_, _)) if ret.symbol == BoxedUnit_UNIT =&gt;
        Some(if (unboxed.tpe.typeSymbol == UnitClass) tree
             else Block(List(unboxed), Literal(()) setPos tree.pos setType UnitClass.tpe))
      case Apply(fn, List(unboxed)) if isBox(fn.symbol) =&gt;
        Some(unboxed)
      case _ =&gt;
        None
    }
  }
   */</span>

  <span class="comment">/** The modifier typer which retypes with erased types. */</span>
  <span class="keyword">class</span> <a title="class Eraser extends Erasure.this.Typer with ScalaObject" id="513108">Eraser</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Erasure.this.Context" id="892786">context</a>: <a href="../typechecker/Contexts.scala.html#507359" title="Erasure.this.Context">Context</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../typechecker/Typers.scala.html#507454" title="Erasure.this.Typer">Typer</a><span class="delimiter">(</span><a href="#892786" title="Erasure.this.Context">context</a><span class="delimiter">)</span> <span class="delimiter">{</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(cls: Erasure.this.global.Symbol)Boolean" id="892777">safeToRemoveUnbox</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="892790">cls</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
      <span class="delimiter">(</span><a href="#892790" title="Erasure.this.global.Symbol">cls</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#479030" title="object Erasure.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#507931" title="=&gt; Erasure.this.global.Symbol">NullClass</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../symtab/Definitions.scala.html#508369" title="(sym: Erasure.this.global.Symbol)Boolean">isBoxedValueClass</a><span class="delimiter">(</span><a href="#892790" title="Erasure.this.global.Symbol">cls</a><span class="delimiter">)</span>

    <span class="comment">/** Box `tree' of unboxed type */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="892778">box</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="892797">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> = <a href="#892797" title="Erasure.this.global.Tree">tree</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="Erasure.this.global.LabelDef">LabelDef</span><span class="delimiter">(</span><a title="Erasure.this.global.TermName" id="892807">name</a>, <a title="List[Erasure.this.global.Ident]" id="892808">params</a>, <a title="Erasure.this.global.Tree" id="892809">rhs</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="892810">rhs1</a> = <a href="#892778" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">box</a><span class="delimiter">(</span><a href="#892809" title="Erasure.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#479117" title="=&gt; Erasure.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560287" title="(tree: Erasure.this.global.Tree, name: Erasure.this.global.Name, params: List[Erasure.this.global.Ident], rhs: Erasure.this.global.Tree)Erasure.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#892797" title="Erasure.this.global.Tree">tree</a>, <a href="#892807" title="Erasure.this.global.TermName">name</a>, <a href="#892808" title="List[Erasure.this.global.Ident]">params</a>, <a href="#892810" title="Erasure.this.global.Tree">rhs1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Erasure.this.global.Type)Erasure.this.global.LabelDef">setType</a> <a href="#892810" title="Erasure.this.global.Tree">rhs1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>
      <span class="keyword">case</span> <span title="Erasure.this.global.Tree">_</span> =&gt;
        <a href="../typechecker/Typers.scala.html#507769" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#892797" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#892797" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#508423" title="Erasure.this.global.Tree">UnitClass</a>  =&gt;
            <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object Erasure.this.global.treeInfo">treeInfo</a> <a href="../ast/TreeInfo.scala.html#551034" title="(tree: Erasure.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a> <a href="#892797" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#515243" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508305" title="=&gt; Erasure.this.global.Symbol">BoxedUnit_UNIT</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#515238" title="(xs: Erasure.this.global.Tree*)Erasure.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#892797" title="Erasure.this.global.Tree">tree</a>, <a href="../ast/TreeDSL.scala.html#515243" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508305" title="=&gt; Erasure.this.global.Symbol">BoxedUnit_UNIT</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#507933" title="Erasure.this.global.Tree">NothingClass</a> =&gt; <a href="#892797" title="Erasure.this.global.Tree">tree</a> <span class="comment">// a non-terminating expression doesn't need boxing</span>
          <span class="keyword">case</span> <a title="Erasure.this.global.Tree" id="892834">x</a>          =&gt;
            <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#892834" title="Erasure.this.global.Symbol">x</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
            <a href="#892797" title="Erasure.this.global.Tree">tree</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="comment">/** Can't always remove a Box(Unbox(x)) combination because the process of boxing x
               *  may lead to throwing an exception.
               *
               *  This is important for specialization: calls to the super constructor should not box/unbox specialized
               *  fields (see TupleX). (ID)
               */</span>
              <span class="keyword">case</span> <span title="Erasure.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="892843">boxFun</a>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Erasure.this.global.Tree])Some[List[Erasure.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="892861">arg</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: Erasure.this.global.Symbol)Boolean">isUnbox</a><span class="delimiter">(</span><a href="#892797" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#892777" title="(cls: Erasure.this.global.Symbol)Boolean">safeToRemoveUnbox</a><span class="delimiter">(</span><a href="#892861" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> =&gt;
                <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;boxing an unbox: &quot;)" class="string">&quot;boxing an unbox: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#892797" title="Erasure.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and replying with &quot;)" class="string">&quot; and replying with &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#892861" title="Erasure.this.global.Tree">arg</a><span class="delimiter">)</span>
                <a href="#892861" title="Erasure.this.global.Tree">arg</a>
              <span class="keyword">case</span> <span title="Erasure.this.global.Apply">_</span> =&gt;
                <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515243" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Erasure.this.global.Tree)Erasure.this.CODE.TreeMethods" class="delimiter">(</a><a href="../../../collection/MapLike.scala.html#73204" title="(key: Erasure.this.global.Symbol)Erasure.this.global.Symbol">boxMethod</a><span class="delimiter">(</span><a href="#892834" title="Erasure.this.global.Symbol">x</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#547502" title="(params: Erasure.this.global.Tree*)Erasure.this.global.Apply">APPLY</a> <a href="#892797" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Erasure.this.global.Apply">setPos</a> <span class="delimiter">(</span><a href="#892797" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Erasure.this.global.Type)Erasure.this.global.Apply">setType</a> <a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Unbox `tree` of boxed type to expected type `pt`.
     *
     *  @param tree the given tree
     *  @param pt   the expected type.
     *  @return     the unboxed tree
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="892779">unbox</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="892919">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Type" id="892920">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> = <a href="#892919" title="Erasure.this.global.Tree">tree</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
<span class="comment">/*
      case Boxed(unboxed) =&gt;
        println(&quot;unbox shorten: &quot;+tree) // this never seems to kick in during build and test; therefore disabled.
        adaptToType(unboxed, pt)
 */</span>
      <span class="keyword">case</span> <span title="Erasure.this.global.LabelDef">LabelDef</span><span class="delimiter">(</span><a title="Erasure.this.global.TermName" id="892927">name</a>, <a title="List[Erasure.this.global.Ident]" id="892928">params</a>, <a title="Erasure.this.global.Tree" id="892929">rhs</a><span class="delimiter">)</span> =&gt;
        <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="892930">rhs1</a> = <a href="#892779" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#892929" title="Erasure.this.global.Tree">rhs</a>, <a href="#892920" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#479117" title="=&gt; Erasure.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560287" title="(tree: Erasure.this.global.Tree, name: Erasure.this.global.Name, params: List[Erasure.this.global.Ident], rhs: Erasure.this.global.Tree)Erasure.this.global.LabelDef">LabelDef</a><span class="delimiter">(</span><a href="#892919" title="Erasure.this.global.Tree">tree</a>, <a href="#892927" title="Erasure.this.global.TermName">name</a>, <a href="#892928" title="List[Erasure.this.global.Ident]">params</a>, <a href="#892930" title="Erasure.this.global.Tree">rhs1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Erasure.this.global.Type)Erasure.this.global.LabelDef">setType</a> <a href="#892930" title="Erasure.this.global.Tree">rhs1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>
      <span class="keyword">case</span> <span title="Erasure.this.global.Tree">_</span> =&gt;
        <a href="../typechecker/Typers.scala.html#507769" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#892919" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#892920" title="Erasure.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
          <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#508423" title="Erasure.this.global.Tree">UnitClass</a>  =&gt;
            <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../ast/Trees.scala.html#479115" title="object Erasure.this.global.treeInfo">treeInfo</a> <a href="../ast/TreeInfo.scala.html#551034" title="(tree: Erasure.this.global.treeInfo.trees.Tree)Boolean">isPureExpr</a> <a href="#892919" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#515193" title="=&gt; Erasure.this.global.Literal">UNIT</a>
            <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#515238" title="(xs: Erasure.this.global.Tree*)Erasure.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#892919" title="Erasure.this.global.Tree">tree</a>, <a href="../ast/TreeDSL.scala.html#515193" title="=&gt; Erasure.this.global.Literal">UNIT</a><span class="delimiter">)</span>
          <span class="keyword">case</span> <a title="Erasure.this.global.Apply" id="892934">x</a>          =&gt;
            <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#892934" title="Erasure.this.global.Symbol">x</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><a href="../ast/TreeDSL.scala.html#515243" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Erasure.this.global.Tree)Erasure.this.CODE.TreeMethods" class="delimiter">(</a><a href="../../../collection/MapLike.scala.html#73204" title="(key: Erasure.this.global.Symbol)Erasure.this.global.Symbol">unboxMethod</a><span class="delimiter">(</span><a href="#892920" title="Erasure.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../ast/TreeDSL.scala.html#547502" title="(params: Erasure.this.global.Tree*)Erasure.this.global.Apply">APPLY</a> <a href="#892919" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Erasure.this.global.Type)Erasure.this.global.Apply">setType</a> <a href="#892920" title="Erasure.this.global.Type">pt</a>
        <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">/** Generate a synthetic cast operation from tree.tpe to pt.
     *  @pre pt eq pt.normalize
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="892780">cast</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="892972">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Type" id="892973">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#892973" title="Erasure.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// See SI-4731 for one example of how this occurs.</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;Attempted to cast to Unit: &quot;)" class="string">&quot;Attempted to cast to Unit: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#892972" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
        <a href="#892972" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441040" title="=&gt; tree.type">duplicate</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Erasure.this.global.Type)tree.type">setType</a> <a href="#892973" title="Erasure.this.global.Type">pt</a>
      <span class="delimiter">}</span>
      <span class="keyword">else</span> <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Erasure.this.global.Tree)Erasure.this.CODE.TreeMethods">tree</a> <a href="../ast/TreeDSL.scala.html#547511" title="(tpe: Erasure.this.global.Type)Erasure.this.global.Tree">AS_ATTR</a> <a href="#892973" title="Erasure.this.global.Type">pt</a>
    <span class="delimiter">}</span>

    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="892781">isUnboxedValueMember</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="892986">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> =
      <a href="#892986" title="Erasure.this.global.Symbol">sym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Erasure.this.global.NoSymbol">NoSymbol</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#892986" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>

    <span class="comment">/** Adapt `tree` to expected type `pt`.
     *
     *  @param tree the given tree
     *  @param pt   the expected type
     *  @return     the adapted tree
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="892782">adaptToType</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="892993">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Type" id="892994">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#892994" title="Erasure.this.global.Type">pt</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Types.scala.html#478729" title="object Erasure.this.global.WildcardType">WildcardType</a><span class="delimiter">)</span>
        <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;adapting &quot;)" class="string">&quot;adapting &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#892993" title="Erasure.this.global.Tree">tree</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; : &quot;)" class="string">&quot; : &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>  <a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Erasure.this.global.Type]">parents</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#892994" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span><span class="comment">//debug</span>
      <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#892994" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#892993" title="Erasure.this.global.Tree">tree</a>
      <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#892994" title="Erasure.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#892782" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#892778" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">box</a><span class="delimiter">(</span><a href="#892993" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#892994" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#478776" title="Erasure.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507180" title="=&gt; List[Erasure.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a>, <span title="java.lang.String(&quot;adapt &quot;)" class="string">&quot;adapt &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#892993" title="Erasure.this.global.Tree">tree</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span title="(x$1: Any)java.lang.String">+</span><span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span><span title="(x$1: Any)java.lang.String">+</span><a href="#892994" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
        <a href="#892782" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#892993" title="Erasure.this.global.Tree">tree</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Erasure.this.global.Apply">setPos</a> <a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Erasure.this.global.Type)Erasure.this.global.Apply">setType</a> <a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; Erasure.this.global.Type">resultType</a>, <a href="#892994" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#892994" title="Erasure.this.global.Type">pt</a> <a href="../symtab/Types.scala.html#507220" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="#892780" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#892993" title="Erasure.this.global.Tree">tree</a>, <a href="#892994" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#892994" title="Erasure.this.global.Type">pt</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#892993" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#892782" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#892779" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#892993" title="Erasure.this.global.Tree">tree</a>, <a href="#892994" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>, <a href="#892994" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="keyword">else</span>
        <a href="#892780" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#892993" title="Erasure.this.global.Tree">tree</a>, <a href="#892994" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="comment">// @PP 1/25/2011: This is less inaccurate than it was (I removed</span>
    <span class="comment">// BoxedAnyArray, asInstanceOf$erased, and other long ago eliminated symbols)</span>
    <span class="comment">// but I do not think it yet describes the code beneath it.</span>

    <span class="comment">/**  Replace member references as follows:
     *
     *   - `x == y` for == in class Any becomes `x equals y` with equals in class Object.
     *   - `x != y` for != in class Any becomes `!(x equals y)` with equals in class Object.
     *   - x.asInstanceOf[T] becomes x.$asInstanceOf[T]
     *   - x.isInstanceOf[T] becomes x.$isInstanceOf[T]
     *   - x.m where m is some other member of Any becomes x.m where m is a member of class Object.
     *   - x.m where x has unboxed value type T and m is not a directly translated member of T becomes T.box(x).m
     *   - x.m where x is a reference type and m is a directly translated member of value type T becomes x.TValue().m
     *   - All forms of x.m where x is a boxed type and m is a member of an unboxed class become
     *     x.m where m is the corresponding member of the boxed class.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="892783">adaptMember</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893026">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="comment">//Console.println(&quot;adaptMember: &quot; + tree);</span>
      <a href="#893026" title="Erasure.this.global.Tree">tree</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">Apply</span><span class="delimiter">(</span>TypeApply<span class="delimiter">(</span><a title="Erasure.this.global.Select" id="893032">sel</a> @ Select<span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893039">qual</a>, <a title="Erasure.this.global.Name" id="893040">name</a><span class="delimiter">)</span>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Erasure.this.global.Tree])Some[List[Erasure.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893053">targ</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Erasure.this.global.Tree])Some[List[Erasure.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508238" title="=&gt; Erasure.this.global.Symbol">Any_asInstanceOf</a> =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="893071">qual1</a> = <a href="../typechecker/Typers.scala.html#507771" title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type)Erasure.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#893039" title="Erasure.this.global.Tree">qual</a>, <span title="Int(0)">NOmode</span>, <a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="comment">// need to have an expected type, see #3037</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="893072">qualClass</a> = <a href="#893071" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>
          <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="893073">targClass</a> = <a href="#893053" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>
<span class="comment">/*
          if (isNumericValueClass(qualClass) &amp;&amp; isNumericValueClass(targClass))
            // convert numeric type casts
            atPos(tree.pos)(Apply(Select(qual1, &quot;to&quot; + targClass.name), List()))
          else
*/</span>
          <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#893073" title="Erasure.this.global.Symbol">targClass</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#892779" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#893071" title="Erasure.this.global.Tree">qual1</a>, <a href="#893053" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">else</span> <a href="#893026" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893090">qual</a>, <a title="Erasure.this.global.Name" id="893091">name</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#893091" title="Erasure.this.global.Name">name</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/StdNames.scala.html#479055" title="object Erasure.this.global.nme">nme</a>.<a href="../symtab/StdNames.scala.html#516546" title="=&gt; Erasure.this.global.nme.NameType">CONSTRUCTOR</a><span class="delimiter">)</span> =&gt;
          <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Symbols.scala.html#478667" title="object Erasure.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
            <a href="#893026" title="Erasure.this.global.Tree">tree</a>
          <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508238" title="=&gt; Erasure.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span>
            <a href="#892783" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Select)Erasure.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893090" title="Erasure.this.global.Tree">qual</a>, <a href="../symtab/Definitions.scala.html#508264" title="=&gt; Erasure.this.global.Symbol">Object_asInstanceOf</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508235" title="=&gt; Erasure.this.global.Symbol">Any_isInstanceOf</a><span class="delimiter">)</span>
            <a href="#892783" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Select)Erasure.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893090" title="Erasure.this.global.Tree">qual</a>, <a href="../symtab/Definitions.scala.html#508262" title="=&gt; Erasure.this.global.Symbol">Object_isInstanceOf</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Erasure.this.global.Symbol">AnyClass</a><span class="delimiter">)</span>
            <a href="#892783" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479182" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Select)Erasure.this.global.Select">atPos</a><span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893090" title="Erasure.this.global.Tree">qual</a>, <a href="../symtab/Definitions.scala.html#508342" title="(owner: Erasure.this.global.Symbol, name: Erasure.this.global.Name)Erasure.this.global.Symbol">getMember</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#507925" title="=&gt; Erasure.this.global.Symbol">ObjectClass</a>, <a href="#893091" title="Erasure.this.global.Name">name</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">var</span> <a title="Erasure.this.global.Tree" id="893190">qual1</a> = <a href="../typechecker/Typers.scala.html#507773" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#893090" title="Erasure.this.global.Tree">qual</a><span class="delimiter">)</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#893190" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#892781" title="(sym: Erasure.this.global.Symbol)Boolean">isUnboxedValueMember</a><span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#893190" title="Erasure.this.global.Tree">qual1</a> = <a href="#892778" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">box</a><span class="delimiter">(</span><a href="#893190" title="Erasure.this.global.Tree">qual1</a><span class="delimiter">)</span>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#893190" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#892781" title="(sym: Erasure.this.global.Symbol)Boolean">isUnboxedValueMember</a><span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#893190" title="Erasure.this.global.Tree">qual1</a> = <a href="#892779" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">unbox</a><span class="delimiter">(</span><a href="#893190" title="Erasure.this.global.Tree">qual1</a>, <a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>

            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#893190" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
              <a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: Erasure.this.global.Symbol)Unit">symbol</a> = <a href="../symtab/Symbols.scala.html#478667" title="object Erasure.this.global.NoSymbol">NoSymbol</a>
            <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#893190" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../symtab/Types.scala.html#478776" title="Erasure.this.global.MethodType">MethodType</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#893190" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507180" title="=&gt; List[Erasure.this.global.Symbol]">params</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="#893190" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509222" title="=&gt; Boolean">isStable</a>, <a href="#893190" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span>;
              <a href="#893190" title="Erasure.this.global.Tree">qual1</a> = <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#893190" title="Erasure.this.global.Tree">qual1</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Erasure.this.global.Apply">setPos</a> <a href="#893190" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Erasure.this.global.Type)Erasure.this.global.Apply">setType</a> <a href="#893190" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507173" title="=&gt; Erasure.this.global.Type">resultType</a>
            <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#893190" title="Erasure.this.global.Tree">qual1</a>.<span title="[T0]=&gt; Boolean">isInstanceOf</span><span title="Boolean" class="delimiter">[</span><a href="../../../reflect/generic/Trees.scala.html#434128" title="Erasure.this.global.Super">Super</a><span class="delimiter">]</span> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <span class="delimiter">(</span><a href="#893190" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <a href="../symtab/Symbols.scala.html#509297" title="(that: Erasure.this.global.Symbol)Boolean">isSubClass</a> <a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span>
              <a href="#893190" title="Erasure.this.global.Tree">qual1</a> = <a href="#892780" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#893190" title="Erasure.this.global.Tree">qual1</a>, <a href="#893026" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <a href="../ast/Trees.scala.html#479117" title="=&gt; Erasure.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560313" title="(tree: Erasure.this.global.Tree, qualifier: Erasure.this.global.Tree, selector: Erasure.this.global.Name)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893026" title="Erasure.this.global.Tree">tree</a>, <a href="#893190" title="Erasure.this.global.Tree">qual1</a>, <a href="#893091" title="Erasure.this.global.Name">name</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Select">SelectFromArray</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893238">qual</a>, <a title="Erasure.this.global.Name" id="893239">name</a>, <a title="Erasure.this.global.Type" id="893240">erasure</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">var</span> <a title="Erasure.this.global.Tree" id="893241">qual1</a> = <a href="../typechecker/Typers.scala.html#507773" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typedQualifier</a><span class="delimiter">(</span><a href="#893238" title="Erasure.this.global.Tree">qual</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#893241" title="Erasure.this.global.Tree">qual1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#893240" title="Erasure.this.global.Type">erasure</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#893241" title="Erasure.this.global.Tree">qual1</a> = <a href="#892780" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">cast</a><span class="delimiter">(</span><a href="#893241" title="Erasure.this.global.Tree">qual1</a>, <a href="#893240" title="Erasure.this.global.Type">erasure</a><span class="delimiter">)</span>
          <a href="../../../reflect/generic/Trees.scala.html#443970" title="(qualifier: Erasure.this.global.Tree, name: Erasure.this.global.Name)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893241" title="Erasure.this.global.Tree">qual1</a>, <a href="#893239" title="Erasure.this.global.Name">name</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441041" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Select">copyAttrs</a> <a href="#893026" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">_</span> =&gt;
          <a href="#893026" title="Erasure.this.global.Tree">tree</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** A replacement for the standard typer's adapt method.
     */</span>
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type, original: Erasure.this.global.Tree)Erasure.this.global.Tree" id="892784">adapt</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893270">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a>, <a title="Int" id="893271">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Erasure.this.global.Type" id="893272">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a>, <a title="Erasure.this.global.Tree" id="893285">original</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> = <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Erasure.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> =
      <a href="#892782" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#893270" title="Erasure.this.global.Tree">tree</a>, <a href="#893272" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>

    <span class="comment">/** A replacement for the standard typer's `typed1' method.
     */</span>
    <span class="keyword">override</span> <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type)Erasure.this.global.Tree" id="892785">typed1</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893286">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a>, <a title="Int" id="893287">mode</a>: <a href="../../../Int.scala.html#386" title="Int">Int</a>, <a title="Erasure.this.global.Type" id="893288">pt</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="893297">tree1</a> = <span class="keyword">try</span> <span class="delimiter">{</span>
        <a href="#513108" title="Erasure.this.Eraser" class="keyword">super</a>.<a href="../typechecker/Typers.scala.html#507764" title="(tree: Erasure.this.global.Tree, mode: Int, pt: Erasure.this.global.Type)Erasure.this.global.Tree">typed1</a><span class="delimiter">(</span><a href="#892783" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptMember</a><span class="delimiter">(</span><a href="#893286" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>, <a href="#893287" title="Int">mode</a>, <a href="#893288" title="Erasure.this.global.Type">pt</a><span class="delimiter">)</span>
      <span class="delimiter">}</span> <span class="keyword">catch</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <a title="Nothing" id="893304">er</a>: <a href="../symtab/Types.scala.html#478998" title="Erasure.this.global.TypeError">TypeError</a> =&gt;
          <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#893286" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
          <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span><a href="#893304" title="Erasure.this.global.TypeError">er</a>.<a href="../symtab/Types.scala.html#711707" title="=&gt; String">msg</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; in file &quot;)" class="string">&quot; in file &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#892786" title="Erasure.this.Context">context</a>.<a href="../typechecker/Contexts.scala.html#508460" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509351" title="=&gt; scala.tools.nsc.io.AbstractFile">sourceFile</a><span class="delimiter">)</span>
          <a href="#893304" title="Erasure.this.global.TypeError">er</a>.<span title="()Unit">printStackTrace</span>
          <a href="../symtab/SymbolTable.scala.html#478160" title="()Nothing">abort</a><span class="delimiter">(</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="Nothing" id="893313">ex</a>: <span title="Exception">Exception</span> =&gt;
          <span class="comment">//if (settings.debug.value)</span>
          <a href="../../../Console.scala.html#507" title="object Console">Console</a>.<a href="../../../Console.scala.html#58055" title="(x: Any)Unit">println</a><span class="delimiter">(</span><span title="java.lang.String(&quot;exception when typing &quot;)" class="string">&quot;exception when typing &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#893286" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>;
          <span title="Nothing" class="keyword">throw</span> <a href="#893313" title="Exception">ex</a>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(cdef: Erasure.this.global.CaseDef)Erasure.this.global.CaseDef" id="893298">adaptCase</a><span class="delimiter">(</span><a title="Erasure.this.global.CaseDef" id="893316">cdef</a>: <a href="../../../reflect/generic/Trees.scala.html#434073" title="Erasure.this.global.CaseDef">CaseDef</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434073" title="Erasure.this.global.CaseDef">CaseDef</a> = <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="893317">body1</a> = <a href="#892782" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#893316" title="Erasure.this.global.CaseDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#442454" title="=&gt; Erasure.this.global.Tree">body</a>, <a href="#893297" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
        <a href="../ast/Trees.scala.html#479117" title="=&gt; Erasure.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560292" title="(tree: Erasure.this.global.Tree, pat: Erasure.this.global.Tree, guard: Erasure.this.global.Tree, body: Erasure.this.global.Tree)Erasure.this.global.CaseDef">CaseDef</a><span class="delimiter">(</span><a href="#893316" title="Erasure.this.global.CaseDef">cdef</a>, <a href="#893316" title="Erasure.this.global.CaseDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#442450" title="=&gt; Erasure.this.global.Tree">pat</a>, <a href="#893316" title="Erasure.this.global.CaseDef">cdef</a>.<a href="../../../reflect/generic/Trees.scala.html#442452" title="=&gt; Erasure.this.global.Tree">guard</a>, <a href="#893317" title="Erasure.this.global.Tree">body1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Erasure.this.global.Type)Erasure.this.global.CaseDef">setType</a> <a href="#893317" title="Erasure.this.global.Tree">body1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>
      <span class="delimiter">}</span>
      <span class="keyword">def</span> <a title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree" id="893299">adaptBranch</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893329">branch</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> =
        <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893329" title="Erasure.this.global.Tree">branch</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Erasure.this.global.EmptyTree">EmptyTree</a><span class="delimiter">)</span> <a href="#893329" title="Erasure.this.global.Tree">branch</a> <span class="keyword">else</span> <a href="#892782" title="(tree: Erasure.this.global.Tree, pt: Erasure.this.global.Type)Erasure.this.global.Tree">adaptToType</a><span class="delimiter">(</span><a href="#893329" title="Erasure.this.global.Tree">branch</a>, <a href="#893297" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>;

      <a href="#893297" title="Erasure.this.global.Tree">tree1</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.If">If</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893337">cond</a>, <a title="Erasure.this.global.Tree" id="893338">thenp</a>, <a title="Erasure.this.global.Tree" id="893339">elsep</a><span class="delimiter">)</span> =&gt;
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Erasure.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560301" title="(tree: Erasure.this.global.Tree, cond: Erasure.this.global.Tree, thenp: Erasure.this.global.Tree, elsep: Erasure.this.global.Tree)Erasure.this.global.If">If</a><span class="delimiter">(</span><a href="#893297" title="Erasure.this.global.Tree">tree1</a>, <a href="#893337" title="Erasure.this.global.Tree">cond</a>, <a href="#893299" title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptBranch</a><span class="delimiter">(</span><a href="#893338" title="Erasure.this.global.Tree">thenp</a><span class="delimiter">)</span>, <a href="#893299" title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptBranch</a><span class="delimiter">(</span><a href="#893339" title="Erasure.this.global.Tree">elsep</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Match">Match</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893350">selector</a>, <a title="List[Erasure.this.global.CaseDef]" id="893351">cases</a><span class="delimiter">)</span> =&gt;
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Erasure.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560302" title="(tree: Erasure.this.global.Tree, selector: Erasure.this.global.Tree, cases: List[Erasure.this.global.CaseDef])Erasure.this.global.Match">Match</a><span class="delimiter">(</span><a href="#893297" title="Erasure.this.global.Tree">tree1</a>, <a href="#893350" title="Erasure.this.global.Tree">selector</a>, <a href="#893351" title="List[Erasure.this.global.CaseDef]">cases</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.CaseDef =&gt; Erasure.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.CaseDef],Erasure.this.global.CaseDef,List[Erasure.this.global.CaseDef]])List[Erasure.this.global.CaseDef]">map</a> <a href="#893298" title="(cdef: Erasure.this.global.CaseDef)Erasure.this.global.CaseDef">adaptCase</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Try">Try</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893410">block</a>, <a title="List[Erasure.this.global.CaseDef]" id="893411">catches</a>, <a title="Erasure.this.global.Tree" id="893412">finalizer</a><span class="delimiter">)</span> =&gt;
          <a href="../ast/Trees.scala.html#479117" title="=&gt; Erasure.this.global.LazyTreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560304" title="(tree: Erasure.this.global.Tree, block: Erasure.this.global.Tree, catches: List[Erasure.this.global.CaseDef], finalizer: Erasure.this.global.Tree)Erasure.this.global.Try">Try</a><span class="delimiter">(</span><a href="#893297" title="Erasure.this.global.Tree">tree1</a>, <a href="#893299" title="(branch: Erasure.this.global.Tree)Erasure.this.global.Tree">adaptBranch</a><span class="delimiter">(</span><a href="#893410" title="Erasure.this.global.Tree">block</a><span class="delimiter">)</span>, <a href="#893411" title="List[Erasure.this.global.CaseDef]">catches</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.CaseDef =&gt; Erasure.this.global.CaseDef)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.CaseDef],Erasure.this.global.CaseDef,List[Erasure.this.global.CaseDef]])List[Erasure.this.global.CaseDef]">map</a> <a href="#893298" title="(cdef: Erasure.this.global.CaseDef)Erasure.this.global.CaseDef">adaptCase</a>, <a href="#893412" title="Erasure.this.global.Tree">finalizer</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">Ident</span><span class="delimiter">(</span>_<span class="delimiter">)</span> | Select<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#893297" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../../../reflect/generic/Symbols.scala.html#435388" title="=&gt; Boolean">isOverloaded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="893473">first</a> = <a href="#893297" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509299" title="=&gt; List[Erasure.this.global.Symbol]">alternatives</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Erasure.this.global.Symbol">head</a>
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="893474">sym1</a> = <a href="#893297" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509300" title="(cond: Erasure.this.global.Symbol =&gt; Boolean)Erasure.this.global.Symbol">filter</a> <span class="delimiter">{</span>
              <a title="Erasure.this.global.Symbol" id="893478">alt</a> =&gt; <a href="#893478" title="Erasure.this.global.Symbol">alt</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#893473" title="Erasure.this.global.Symbol">first</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#893473" title="Erasure.this.global.Symbol">first</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507228" title="(that: Erasure.this.global.Type)Boolean">looselyMatches</a> <a href="#893478" title="Erasure.this.global.Symbol">alt</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#893286" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">ne</span> <a href="#893474" title="Erasure.this.global.Symbol">sym1</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <a href="#893297" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: Erasure.this.global.Symbol)Unit">symbol</a> = <a href="#893474" title="Erasure.this.global.Symbol">sym1</a>
              <a href="#893297" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Erasure.this.global.Type)Unit">tpe</a> = <a href="#893474" title="Erasure.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <a href="#893297" title="Erasure.this.global.Tree">tree1</a>
        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">_</span> =&gt;
          <a href="#893297" title="Erasure.this.global.Tree">tree1</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="comment">/** The erasure transformer */</span>
  <span class="keyword">class</span> <a title="class ErasureTransformer extends Erasure.this.global.Transformer with ScalaObject" id="513109">ErasureTransformer</a><a href="../../../ScalaObject.scala.html#464" title="ScalaObject" class="delimiter">(</a><a title="Erasure.this.global.CompilationUnit" id="890700">unit</a>: <a href="../CompilationUnits.scala.html#479284" title="Erasure.this.global.CompilationUnit">CompilationUnit</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="../ast/Trees.scala.html#479167" title="Erasure.this.global.Transformer">Transformer</a> <span class="delimiter">{</span>
    <span class="comment">/** Emit an error if there is a double definition. This can happen if:
     *
     *  - A template defines two members with the same name and erased type.
     *  - A template defines and inherits two members `m` with different types,
     *    but their erased types are the same.
     *  - A template inherits two members `m` with different types,
     *    but their erased types are the same.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(root: Erasure.this.global.Symbol)Unit" id="890694">checkNoDoubleDefs</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="894310">root</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Unit" id="894402">doubleDefError</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="894407">sym1</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="894408">sym2</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="comment">// the .toString must also be computed at the earlier phase</span>
        <span class="keyword">def</span> <a title="[T](op: =&gt; T)T" id="894409">atRefc</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="894411">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="=&gt; T" id="894414">op</a>: =&gt; T<span class="delimiter">)</span> = <a href="../symtab/SymbolTable.scala.html#478184" title="[T](ph: scala.tools.nsc.Phase)(op: =&gt; T)T">atPhase</a><span title="(ph: scala.tools.nsc.Phase)(op: =&gt; T)T" class="delimiter">[</span><a href="#894411" title="T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482530" title="=&gt; scala.tools.nsc.Phase">refchecksPhase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#894414" title="=&gt; T">op</a><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="894412">tpe1</a> = <a href="#894409" title="(op: =&gt; Erasure.this.global.Type)Erasure.this.global.Type">atRefc</a><span class="delimiter">(</span><a href="#894310" title="Erasure.this.global.Symbol">root</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#894407" title="Erasure.this.global.Symbol">sym1</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="894413">tpe2</a> = <a href="#894409" title="(op: =&gt; Erasure.this.global.Type)Erasure.this.global.Type">atRefc</a><span class="delimiter">(</span><a href="#894310" title="Erasure.this.global.Symbol">root</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#894408" title="Erasure.this.global.Symbol">sym2</a><span class="delimiter">)</span><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#894412" title="Erasure.this.global.Type">tpe1</a>.<a href="../symtab/Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#894413" title="Erasure.this.global.Type">tpe2</a>.<a href="../symtab/Types.scala.html#507191" title="=&gt; Boolean">isErroneous</a><span class="delimiter">)</span>
          <a href="#890700" title="Erasure.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: Erasure.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span>
          <span title="Erasure.this.global.Position" class="keyword">if</span> <span class="delimiter">(</span><a href="#894407" title="Erasure.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#894310" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <a href="#894407" title="Erasure.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Erasure.this.global.Position">pos</a> <span class="keyword">else</span> <a href="#894310" title="Erasure.this.global.Symbol">root</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Erasure.this.global.Position">pos</a>,
          <span class="delimiter">(</span><span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#894407" title="Erasure.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#894408" title="Erasure.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;double definition:\012&quot;)" class="string">&quot;double definition:\n&quot;</span>
           <span class="keyword">else</span> <span title="java.lang.String" class="keyword">if</span> <span class="delimiter">(</span><a href="#894407" title="Erasure.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#894310" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;name clash between defined and inherited member:\012&quot;)" class="string">&quot;name clash between defined and inherited member:\n&quot;</span>
           <span class="keyword">else</span> <span title="java.lang.String(&quot;name clash between inherited members:\012&quot;)" class="string">&quot;name clash between inherited members:\n&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
          <a href="#894407" title="Erasure.this.global.Symbol">sym1</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#894409" title="(op: =&gt; String)String">atRefc</a><span class="delimiter">(</span><a href="#894412" title="Erasure.this.global.Type">tpe1</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
            <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#894407" title="Erasure.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#894310" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <a href="#894407" title="Erasure.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; and\012&quot;)" class="string">&quot; and\n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
          <a href="#894408" title="Erasure.this.global.Symbol">sym2</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#894409" title="(op: =&gt; String)String">atRefc</a><span class="delimiter">(</span><a href="#894413" title="Erasure.this.global.Type">tpe2</a>.<a href="../../../reflect/generic/Types.scala.html#434192" title="()String">toString</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
            <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#894408" title="Erasure.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#894310" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span title="java.lang.String(&quot; at line &quot;)" class="string">&quot; at line &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span class="delimiter">(</span><a href="#894408" title="Erasure.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span>.<a href="../util/Position.scala.html#501514" title="=&gt; Int">line</a> <span class="keyword">else</span> <a href="#894408" title="Erasure.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span>
          <span title="java.lang.String(&quot;\012have same type&quot;)" class="string">&quot;\nhave same type&quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
          <span class="delimiter">(</span><span title="Any" class="keyword">if</span> <span class="delimiter">(</span><a href="#894409" title="(op: =&gt; Boolean)Boolean">atRefc</a><span class="delimiter">(</span><a href="#894412" title="Erasure.this.global.Type">tpe1</a> <a href="../symtab/Types.scala.html#507225" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#894413" title="Erasure.this.global.Type">tpe2</a><span class="delimiter">)</span><span class="delimiter">)</span> <span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span class="keyword">else</span> <span title="java.lang.String(&quot; after erasure: &quot;)" class="string">&quot; after erasure: &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Erasure.this.global.Type)Erasure.this.global.Type">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#894407" title="Erasure.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <a href="#894407" title="Erasure.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Erasure.this.global.Type)sym1.type">setInfo</a><span title="Unit" class="delimiter">(</span><a href="../symtab/Types.scala.html#478727" title="object Erasure.this.global.ErrorType">ErrorType</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Erasure.this.global.Scope" id="894403">decls</a> = <a href="#894310" title="Erasure.this.global.Symbol">root</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Erasure.this.global.Scope">decls</a>
      <span class="keyword">var</span> <a title="Erasure.this.global.ScopeEntry" id="894404">e</a> = <a href="#894403" title="Erasure.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#514334" title="=&gt; Erasure.this.global.ScopeEntry">elems</a>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#894404" title="Erasure.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#894406" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#894404" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">var</span> <a title="Erasure.this.global.ScopeEntry" id="894466">e1</a> = <a href="#894403" title="Erasure.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#514370" title="(entry: Erasure.this.global.ScopeEntry)Erasure.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#894404" title="Erasure.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
          <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#894466" title="Erasure.this.global.ScopeEntry">e1</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="#894468" title="()Unit" class="delimiter">{</a>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#894466" title="Erasure.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a> <a href="../symtab/Types.scala.html#507225" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#894404" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="#894402" title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Unit">doubleDefError</a><span class="delimiter">(</span><a href="#894404" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Erasure.this.global.Symbol">sym</a>, <a href="#894466" title="Erasure.this.global.ScopeEntry">e1</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
            <a href="#894466" title="Erasure.this.global.ScopeEntry">e1</a> = <a href="#894403" title="Erasure.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#514370" title="(entry: Erasure.this.global.ScopeEntry)Erasure.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#894466" title="Erasure.this.global.ScopeEntry">e1</a><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#894404" title="Erasure.this.global.ScopeEntry">e</a> = <a href="#894404" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514523" title="=&gt; Erasure.this.global.ScopeEntry">next</a>
      <span class="delimiter">}</span>

      <span class="keyword">val</span> <a title="Erasure.this.global.overridingPairs.Cursor" id="894405">opc</a> = <a href="#894478" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">new</a> <a href="../Global.scala.html#478222" title="anonymous class $anon extends Erasure.this.global.overridingPairs.Cursor" id="894478">overridingPairs</a>.<a href="OverridingPairs.scala.html#508956" title="Erasure.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#894310" title="Erasure.this.global.Symbol">root</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="894516">exclude</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="894518">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
          <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#894518" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435369" title="=&gt; Boolean">isTerm</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#894518" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#894478" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">super</a>.<a href="OverridingPairs.scala.html#894484" title="(sym: Erasure.this.global.overridingPairs.global.Symbol)Boolean">exclude</a><span class="delimiter">(</span><a href="#894518" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
           <span class="comment">// specialized members have no type history before 'specialize', causing double def errors for curried defs</span>
           <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#894518" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509282" title="(pid: Int)Boolean">hasTypeAt</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482530" title="=&gt; scala.tools.nsc.Phase">refchecksPhase</a>.<a href="../Phase.scala.html#505133" title="=&gt; Int">id</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Boolean" id="894517">matches</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="894522">sym1</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a>, <a title="Erasure.this.global.Symbol" id="894523">sym2</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
          <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#894522" title="Erasure.this.global.Symbol">sym1</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507225" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#894523" title="Erasure.this.global.Symbol">sym2</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#894405" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894513" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#894561" title="()Unit" class="delimiter">{</a>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482530" title="=&gt; scala.tools.nsc.Phase">refchecksPhase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span><span class="delimiter">(</span>
              <a href="#894310" title="Erasure.this.global.Symbol">root</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#894405" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894507" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#507227" title="(that: Erasure.this.global.Type)Boolean">matches</a>
              <a href="#894310" title="Erasure.this.global.Symbol">root</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Erasure.this.global.Type">thisType</a>.<a href="../symtab/Types.scala.html#507207" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Type">memberType</a><span class="delimiter">(</span><a href="#894405" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894510" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;&quot;)" class="string">&quot;&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#894405" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894507" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                     <a href="#894405" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894507" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>.<a href="../symtab/Symbols.scala.html#509370" title="=&gt; java.lang.String">infosString</a> <span title="(x$1: Any)java.lang.String">+</span>
                     <a href="#894405" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894510" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; &quot;)" class="string">&quot; &quot;</span> <span title="(x$1: Any)java.lang.String">+</span>
                     <a href="#894405" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894510" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a>.<a href="../symtab/Symbols.scala.html#509370" title="=&gt; java.lang.String">infosString</a><span class="delimiter">)</span>
          <a href="#894402" title="(sym1: Erasure.this.global.Symbol, sym2: Erasure.this.global.Symbol)Unit">doubleDefError</a><span class="delimiter">(</span><a href="#894405" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894507" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>, <a href="#894405" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894510" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
        <a href="#894405" title="Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894514" title="()Unit">next</a>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

<span class="comment">/*
      for (bc &lt;- root.info.baseClasses.tail; other &lt;- bc.info.decls.toList) {
        if (other.isTerm &amp;&amp; !other.isConstructor &amp;&amp; !(other hasFlag (PRIVATE | BRIDGE))) {
          for (member &lt;- root.info.nonPrivateMember(other.name).alternatives) {
            if (member != other &amp;&amp;
                !(member hasFlag BRIDGE) &amp;&amp;
                atPhase(phase.next)(member.tpe =:= other.tpe) &amp;&amp;
                !atPhase(refchecksPhase.next)(
                  root.thisType.memberType(member) matches root.thisType.memberType(other))) {
              if (settings.debug.value) log(&quot;&quot; + member.locationString + &quot; &quot; + member.infosString + other.locationString + &quot; &quot; + other.infosString);
              doubleDefError(member, other)
            }
          }
        }
      }
*/</span>

    <span class="comment">/**  Add bridge definitions to a template. This means:
     *
     *   If there is a concrete member `m` which overrides a member in a base
     *   class of the template, and the erased types of the two members differ,
     *   and the two members are not inherited or defined by some parent class
     *   of the template, then a bridge from the overridden member `m1` to the
     *   member `m0` is added. The bridge has the erased type of `m1` and
     *   forwards to `m0`.
     *
     *   No bridge is added if there is already a bridge to `m0` with the erased
     *   type of `m1` in the template.
     */</span>
    <span class="keyword">private</span> <span class="keyword">def</span> <a title="(owner: Erasure.this.global.Symbol)(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" id="890695">bridgeDefs</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="894575">owner</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Tuple2.scala.html#1520" title="(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" class="delimiter">(</a>List<span class="delimiter">[</span>Tree<span class="delimiter">]</span>, immutable.Set<span class="delimiter">[</span>Symbol<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">var</span> <a title="scala.collection.immutable.Set[Erasure.this.global.Symbol]" id="894577">toBeRemoved</a>: immutable.<a href="../../../collection/immutable/Set.scala.html#13576" title="scala.collection.immutable.Set[Erasure.this.global.Symbol]">Set</a><span class="delimiter">[</span>Symbol<span class="delimiter">]</span> = immutable.<a href="../../../collection/generic/GenericCompanion.scala.html#48813" title="(elems: Erasure.this.global.Symbol*)scala.collection.immutable.Set[Erasure.this.global.Symbol]">Set</a><span class="delimiter">(</span><span class="delimiter">)</span>
      <span class="comment">//println(&quot;computing bridges for &quot; + owner)//DEBUG</span>
      <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../Global.scala.html#478362" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482536" title="=&gt; scala.tools.nsc.Phase">erasurePhase</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="894578">site</a> = <a href="#894575" title="Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509308" title="=&gt; Erasure.this.global.Type">thisType</a>
      <span class="keyword">val</span> <a title="Erasure.this.global.Scope" id="894579">bridgesScope</a> = <a href="../symtab/Scopes.scala.html#514352" title="()Erasure.this.global.Scope" class="keyword">new</a> <a href="../symtab/Scopes.scala.html#479020" title="Erasure.this.global.Scope">Scope</a>
      <span class="keyword">val</span> <a title="scala.collection.mutable.HashMap[Erasure.this.global.Symbol,Erasure.this.global.Symbol]" id="894580">bridgeTarget</a> = <a href="../../../collection/mutable/HashMap.scala.html#73156" title="()scala.collection.mutable.HashMap[Erasure.this.global.Symbol,Erasure.this.global.Symbol]" class="keyword">new</a> mutable.<a href="../../../collection/mutable/HashMap.scala.html#14905" title="scala.collection.mutable.HashMap[Erasure.this.global.Symbol,Erasure.this.global.Symbol]">HashMap</a><span class="delimiter">[</span>Symbol, Symbol<span class="delimiter">]</span>
      <span class="keyword">var</span> <a title="List[Erasure.this.global.Tree]" id="894581">bridges</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Erasure.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> = List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="opc extends Erasure.this.global.overridingPairs.Cursor" id="894582">opc</a> = <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Erasure.this.global.overridingPairs.Cursor)Erasure.this.global.overridingPairs.Cursor">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482534" title="=&gt; scala.tools.nsc.Phase">explicitouterPhase</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <a href="#894611" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">new</a> <a href="../Global.scala.html#478222" title="anonymous class $anon extends Erasure.this.global.overridingPairs.Cursor" id="894611">overridingPairs</a>.<a href="OverridingPairs.scala.html#508956" title="Erasure.this.global.overridingPairs.Cursor">Cursor</a><span class="delimiter">(</span><a href="#894575" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[Erasure.this.global.Type]" id="894613">parents</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Erasure.this.global.Type]">List</a><span class="delimiter">[</span>Type<span class="delimiter">]</span> = <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Erasure.this.global.Type*)List[Erasure.this.global.Type]">List</a><span class="delimiter">(</span><a href="#894575" title="Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507168" title="=&gt; List[Erasure.this.global.Type]">parents</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Erasure.this.global.Type">head</a><span class="delimiter">)</span>
          <span class="keyword">override</span> <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="894614">exclude</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="894617">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../Boolean.scala.html#65" title="Boolean">Boolean</a> =
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#894617" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435384" title="=&gt; Boolean">isMethod</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#894617" title="Erasure.this.global.Symbol">sym</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435302" title="=&gt; Boolean">isPrivate</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#894611" title="Erasure.this.global.overridingPairs.Cursor" class="keyword">super</a>.<a href="OverridingPairs.scala.html#894484" title="(sym: Erasure.this.global.overridingPairs.global.Symbol)Boolean">exclude</a><span class="delimiter">(</span><a href="#894617" title="Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
      <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><a href="#894582" title="opc extends Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894513" title="=&gt; Boolean">hasNext</a><span class="delimiter">)</span> <a href="#894583" title="()Unit" class="delimiter">{</a>
        <span class="keyword">val</span> <a title="Erasure.this.global.overridingPairs.global.Symbol" id="894638">member</a> = <a href="#894582" title="opc extends Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894507" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overriding</a>
        <span class="keyword">val</span> <a title="Erasure.this.global.overridingPairs.global.Symbol" id="894639">other</a> = <a href="#894582" title="opc extends Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894510" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">overridden</a>
        <span class="comment">//Console.println(&quot;bridge? &quot; + member + &quot;:&quot; + member.tpe + member.locationString + &quot; to &quot; + other + &quot;:&quot; + other.tpe + other.locationString)//DEBUG</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../Global.scala.html#478362" title="=&gt; Erasure.this.global.Run">currentRun</a>.<a href="../Global.scala.html#482534" title="=&gt; scala.tools.nsc.Phase">explicitouterPhase</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>.<a href="../../../reflect/generic/HasFlags.scala.html#435315" title="=&gt; Boolean">isDeferred</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Type" id="894646">otpe</a> = <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#894639" title="Erasure.this.global.overridingPairs.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.overridingPairs.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Boolean" id="894647">bridgeNeeded</a> = <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Boolean)Boolean">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">(</span>
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="#894639" title="Erasure.this.global.overridingPairs.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.overridingPairs.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507225" title="(that: Erasure.this.global.overridingPairs.global.Type)Boolean">=:=</a> <a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.overridingPairs.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><a href="../../../Function1.scala.html#53453" title="(v1: Erasure.this.global.Type)Erasure.this.global.Type">deconstMap</a><span class="delimiter">(</span><a href="#894639" title="Erasure.this.global.overridingPairs.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.overridingPairs.global.Type">tpe</a><span class="delimiter">)</span> <a href="../symtab/Types.scala.html#507225" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="../../../Function1.scala.html#53453" title="(v1: Erasure.this.global.Type)Erasure.this.global.Type">deconstMap</a><span class="delimiter">(</span><a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.overridingPairs.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
            <span class="delimiter">{</span> <span class="keyword">var</span> <a title="Erasure.this.global.ScopeEntry" id="894655">e</a> = <a href="#894579" title="Erasure.this.global.Scope">bridgesScope</a>.<a href="../symtab/Scopes.scala.html#514369" title="(name: Erasure.this.global.Name)Erasure.this.global.ScopeEntry">lookupEntry</a><span class="delimiter">(</span><a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Erasure.this.global.overridingPairs.global.Name">name</a><span class="delimiter">)</span>
              <span title="Unit" class="keyword">while</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#894655" title="Erasure.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">ne</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><span class="delimiter">(</span><span class="delimiter">(</span><a href="#894655" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507225" title="(that: Erasure.this.global.Type)Boolean">=:=</a> <a href="#894646" title="Erasure.this.global.Type">otpe</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <span class="delimiter">(</span><a href="../../../collection/MapLike.scala.html#73204" title="(key: Erasure.this.global.Symbol)Erasure.this.global.Symbol">bridgeTarget</a><span class="delimiter">(</span><a href="#894655" title="Erasure.this.global.ScopeEntry">e</a>.<a href="../symtab/Scopes.scala.html#514515" title="=&gt; Erasure.this.global.Symbol">sym</a><span class="delimiter">)</span> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                <a href="#894655" title="Erasure.this.global.ScopeEntry">e</a> = <a href="#894579" title="Erasure.this.global.Scope">bridgesScope</a>.<a href="../symtab/Scopes.scala.html#514370" title="(entry: Erasure.this.global.ScopeEntry)Erasure.this.global.ScopeEntry">lookupNextEntry</a><span class="delimiter">(</span><a href="#894655" title="Erasure.this.global.ScopeEntry">e</a><span class="delimiter">)</span>
              <span class="delimiter">(</span><a href="#894655" title="Erasure.this.global.ScopeEntry">e</a> <span title="(x$1: AnyRef)Boolean">eq</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span>
            <span class="delimiter">}</span>
          <span class="delimiter">)</span>;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#894647" title="Boolean">bridgeNeeded</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.overridingPairs.global.Symbol" id="894688">bridge</a> = <a href="#894639" title="Erasure.this.global.overridingPairs.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509304" title="(owner: Erasure.this.global.overridingPairs.global.Symbol)Erasure.this.global.overridingPairs.global.Symbol">cloneSymbolImpl</a><span class="delimiter">(</span><a href="#894575" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>
              .<a href="../symtab/Symbols.scala.html#509110" title="(pos: scala.tools.nsc.util.Position)Erasure.this.global.overridingPairs.global.Symbol">setPos</a><span class="delimiter">(</span><a href="#894575" title="Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span>
              .<a href="../symtab/Symbols.scala.html#509261" title="(mask: Long)Erasure.this.global.overridingPairs.global.Symbol">setFlag</a><span class="delimiter">(</span><a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509259" title="=&gt; Long">flags</a> <a href="../../../Long.scala.html#55154" title="(x: Int)Long">|</a> <span title="Int(67108864)">BRIDGE</span><span class="delimiter">)</span>
              .<a href="../symtab/Symbols.scala.html#509262" title="(mask: Long)Erasure.this.global.overridingPairs.global.Symbol">resetFlag</a><span class="delimiter">(</span>ACCESSOR | DEFERRED <span title="Long(2281701392L)">|</span> LAZY <a href="../../../Long.scala.html#55155" title="(x: Long)Long">|</a> <a href="../symtab/Flags.scala.html#478431" title="=&gt; Long">lateDEFERRED</a><span class="delimiter">)</span>
            <span class="comment">// the parameter symbols need to have the new owner</span>
            <a href="#894688" title="Erasure.this.global.overridingPairs.global.Symbol">bridge</a>.<a href="../symtab/Symbols.scala.html#509274" title="(info: Erasure.this.global.overridingPairs.global.Type)bridge.type">setInfo</a><span class="delimiter">(</span><a href="#894646" title="Erasure.this.global.Type">otpe</a>.<a href="../symtab/Types.scala.html#507233" title="(owner: Erasure.this.global.Symbol)Erasure.this.global.Type">cloneInfo</a><span class="delimiter">(</span><a href="#894688" title="Erasure.this.global.overridingPairs.global.Symbol">bridge</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../../../collection/mutable/HashMap.scala.html#73160" title="(key: Erasure.this.global.Symbol, value: Erasure.this.global.Symbol)Unit">bridgeTarget</a><span class="delimiter">(</span><a href="#894688" title="Erasure.this.global.overridingPairs.global.Symbol">bridge</a><span class="delimiter">)</span> = <a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>
            <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Erasure.this.global.Symbol)Erasure.this.global.Symbol">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#894575" title="Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Erasure.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#514360" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Symbol">enter</a><span class="delimiter">(</span><a href="#894688" title="Erasure.this.global.overridingPairs.global.Symbol">bridge</a><span class="delimiter">)</span> <span class="delimiter">}</span>
            <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#894639" title="Erasure.this.global.overridingPairs.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.overridingPairs.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#894575" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">//println(&quot;bridge to same: &quot;+other+other.locationString)//DEBUG</span>
              <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Unit)Unit">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#894575" title="Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Erasure.this.global.Scope">decls</a>.<a href="../symtab/Scopes.scala.html#514366" title="(sym: Erasure.this.global.Symbol)Unit">unlink</a><span class="delimiter">(</span><a href="#894639" title="Erasure.this.global.overridingPairs.global.Symbol">other</a><span class="delimiter">)</span> <span class="delimiter">}</span>
              <a href="#894577" title="scala.collection.immutable.Set[Erasure.this.global.Symbol]">toBeRemoved</a> <a href="../../../collection/SetLike.scala.html#65656" title="(elem: Erasure.this.global.Symbol)scala.collection.immutable.Set[Erasure.this.global.Symbol]">+=</a> <a href="#894639" title="Erasure.this.global.overridingPairs.global.Symbol">other</a>
            <span class="delimiter">}</span>
            <a href="#894579" title="Erasure.this.global.Scope">bridgesScope</a> <a href="../symtab/Scopes.scala.html#514360" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Symbol">enter</a> <a href="#894688" title="Erasure.this.global.overridingPairs.global.Symbol">bridge</a>
            <a href="#894581" title="List[Erasure.this.global.Tree]">bridges</a> =
              <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Erasure.this.global.DefDef)Erasure.this.global.DefDef">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                <a href="../ast/Trees.scala.html#479182" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.DefDef)Erasure.this.global.DefDef">atPos</a><span class="delimiter">(</span><a href="#894688" title="Erasure.this.global.overridingPairs.global.Symbol">bridge</a>.<a href="../symtab/Symbols.scala.html#509109" title="=&gt; Erasure.this.global.overridingPairs.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="keyword">val</span> <a title="Erasure.this.global.DefDef" id="894775">bridgeDef</a> =
                    <a href="../ast/Trees.scala.html#479132" title="(sym: Erasure.this.global.Symbol, rhs: Erasure.this.global.Tree)Erasure.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#894688" title="Erasure.this.global.overridingPairs.global.Symbol">bridge</a>,
                      <a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.overridingPairs.global.Type">tpe</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                        <span class="keyword">case</span> <span title="Erasure.this.global.Literal">MethodType</span><span class="delimiter">(</span><a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Erasure.this.global.Symbol])Some[List[Erasure.this.global.Symbol]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span>, ConstantType<span class="delimiter">(</span><a title="Erasure.this.global.Constant" id="894813">c</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt; <a href="../../../reflect/generic/Trees.scala.html#443172" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#894813" title="Erasure.this.global.Constant">c</a><span class="delimiter">)</span>
                        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">_</span> =&gt;
                          <span class="delimiter">(</span><span class="delimiter">(</span><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479142" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Tree">This</a><span class="delimiter">(</span><a href="#894575" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>, <a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span> <a href="../../../collection/TraversableOnce.scala.html#53624" title="(z: Erasure.this.global.Tree)(op: (Erasure.this.global.Tree, List[Erasure.this.global.overridingPairs.global.Symbol]) =&gt; Erasure.this.global.Tree)Erasure.this.global.Tree">/:</a> <a href="#894688" title="Erasure.this.global.overridingPairs.global.Symbol">bridge</a>.<a href="../symtab/Symbols.scala.html#509288" title="=&gt; List[List[Erasure.this.global.overridingPairs.global.Symbol]]">paramss</a><span class="delimiter">)</span>
                             <span class="delimiter">(</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="894880">fun</a>, <a title="List[Erasure.this.global.overridingPairs.global.Symbol]" id="894881">vparams</a><span class="delimiter">)</span> =&gt; <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="#894880" title="Erasure.this.global.Tree">fun</a>, <a href="#894881" title="List[Erasure.this.global.overridingPairs.global.Symbol]">vparams</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.overridingPairs.global.Symbol =&gt; Erasure.this.global.Ident)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.overridingPairs.global.Symbol],Erasure.this.global.Ident,List[Erasure.this.global.Tree]])List[Erasure.this.global.Tree]">map</a> <a href="../ast/Trees.scala.html#479144" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.Ident">Ident</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                      <span class="delimiter">}</span><span class="delimiter">)</span>;
                  <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
                    <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;generating bridge from &quot;)" class="string">&quot;generating bridge from &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#894639" title="Erasure.this.global.overridingPairs.global.Symbol">other</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;(&quot;)" class="string">&quot;(&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="../symtab/Flags.scala.html#36139" title="object scala.tools.nsc.symtab.Flags">Flags</a>.<a href="../../../reflect/generic/Flags.scala.html#435634" title="(flags: Long)String">flagsToString</a><span class="delimiter">(</span><a href="#894688" title="Erasure.this.global.overridingPairs.global.Symbol">bridge</a>.<a href="../symtab/Symbols.scala.html#509259" title="=&gt; Long">flags</a><span class="delimiter">)</span>  <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;)&quot;)" class="string">&quot;)&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#894646" title="Erasure.this.global.Type">otpe</a> <span title="(x$1: Any)java.lang.String">+</span> <a href="#894639" title="Erasure.this.global.overridingPairs.global.Symbol">other</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; to &quot;)" class="string">&quot; to &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.overridingPairs.global.Type">tpe</a><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#894638" title="Erasure.this.global.overridingPairs.global.Symbol">member</a>.<a href="../symtab/Symbols.scala.html#509367" title="=&gt; java.lang.String">locationString</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; =\012 &quot;)" class="string">&quot; =\n &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#894775" title="Erasure.this.global.DefDef">bridgeDef</a><span class="delimiter">)</span>;
                  <a href="#894775" title="Erasure.this.global.DefDef">bridgeDef</a>
                <span class="delimiter">}</span>
              <span class="delimiter">}</span> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Erasure.this.global.Tree)List[Erasure.this.global.Tree]">::</a> <a href="#894581" title="List[Erasure.this.global.Tree]">bridges</a>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
        <a href="#894582" title="opc extends Erasure.this.global.overridingPairs.Cursor">opc</a>.<a href="OverridingPairs.scala.html#894514" title="()Unit">next</a>
      <span class="delimiter">}</span>
      <a href="../../../Tuple2.scala.html#53390" title="(_1: List[Erasure.this.global.Tree], _2: scala.collection.immutable.Set[Erasure.this.global.Symbol])(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" class="delimiter">(</a><a href="#894581" title="List[Erasure.this.global.Tree]">bridges</a>, <a href="#894577" title="scala.collection.immutable.Set[Erasure.this.global.Symbol]">toBeRemoved</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
<span class="comment">/*
      for (bc &lt;- site.baseClasses.tail; other &lt;- bc.info.decls.toList) {
        if (other.isMethod &amp;&amp; !other.isConstructor) {
          for (member &lt;- site.nonPrivateMember(other.name).alternatives) {
            if (member != other &amp;&amp;
                !(member hasFlag DEFERRED) &amp;&amp;
                (site.memberType(member) matches site.memberType(other)) &amp;&amp;
                !(site.parents exists (p =&gt;
                  (p.symbol isSubClass member.owner) &amp;&amp; (p.symbol isSubClass other.owner)))) {
...
             }
          }
*/</span>

    <span class="keyword">def</span> <a title="(stats: List[Erasure.this.global.Tree], base: Erasure.this.global.Symbol)List[Erasure.this.global.Tree]" id="890696">addBridges</a><span class="delimiter">(</span><a title="List[Erasure.this.global.Tree]" id="894317">stats</a>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Erasure.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span>, <a title="Erasure.this.global.Symbol" id="894318">base</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span>: <a href="../../../collection/immutable/List.scala.html#14047" title="List[Erasure.this.global.Tree]">List</a><span class="delimiter">[</span>Tree<span class="delimiter">]</span> =
      <span title="List[Erasure.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#894318" title="Erasure.this.global.Symbol">base</a>.<a href="../symtab/Symbols.scala.html#509185" title="=&gt; Boolean">isTrait</a><span class="delimiter">)</span> <a href="#894317" title="List[Erasure.this.global.Tree]">stats</a>
      <span class="keyword">else</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a href="../../../Tuple2.scala.html#53390" title="(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])" class="delimiter">(</a><a href="../../../Tuple2.scala.html#53402" title="List[Erasure.this.global.Tree]" id="894963">bridges</a>, <a href="../../../Tuple2.scala.html#53404" title="scala.collection.immutable.Set[Erasure.this.global.Symbol]" id="894964">toBeRemoved</a><span class="delimiter">)</span> = <a href="#890695" title="(owner: Erasure.this.global.Symbol)(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol])">bridgeDefs</a><a href="../../../Tuple2.scala.html#1520" title="(List[Erasure.this.global.Tree], scala.collection.immutable.Set[Erasure.this.global.Symbol]) @unchecked" class="delimiter">(</a><a href="#894318" title="Erasure.this.global.Symbol">base</a><span class="delimiter">)</span>
        <span title="List[Erasure.this.global.Tree]" class="keyword">if</span> <span class="delimiter">(</span><a href="#894963" title="List[Erasure.this.global.Tree]">bridges</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="#894317" title="List[Erasure.this.global.Tree]">stats</a>
        <span class="keyword">else</span> <span class="delimiter">(</span><a href="#894317" title="List[Erasure.this.global.Tree]">stats</a> <a href="../../../collection/TraversableLike.scala.html#49052" title="(p: Erasure.this.global.Tree =&gt; Boolean)List[Erasure.this.global.Tree]">filterNot</a> <span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="894979">stat</a> =&gt; <a href="#894964" title="scala.collection.immutable.Set[Erasure.this.global.Symbol]">toBeRemoved</a> <a href="../../../collection/SetLike.scala.html#65655" title="(elem: Erasure.this.global.Symbol)Boolean">contains</a> <a href="#894979" title="Erasure.this.global.Tree">stat</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../collection/immutable/List.scala.html#49143" title="(prefix: List[Erasure.this.global.Tree])List[Erasure.this.global.Tree]">:::</a> <a href="#894963" title="List[Erasure.this.global.Tree]">bridges</a>
      <span class="delimiter">}</span>

    <span class="comment">/**  Transform tree at phase erasure before retyping it.
     *   This entails the following:
     *
     *   - Remove all type parameters in class and method definitions.
     *   - Remove all abstract and alias type definitions.
     *   - Remove all type applications other than those involving a type test or cast.
     *   - Remove all empty trees in statements and definitions in a PackageDef.
     *   - Check that there are no double definitions in a template.
     *   - Add bridge definitions to a template.
     *   - Replace all types in type nodes and the EmptyTree object by their erasure.
     *     Type nodes of type Unit representing result types of methods are left alone.
     *   - Given a selection q.s, where the owner of `s` is not accessible but the
     *     type symbol of q's type qT is accessible, insert a cast (q.asInstanceOf[qT]).s
     *     This prevents illegal access errors (see #4283).
     *   - Reset all other type attributes to null, thus enforcing a retyping.
     */</span>
    <span class="keyword">private</span> <span class="keyword">val</span> <a title="preTransformer extends Erasure.this.TypingTransformer" id="890697">preTransformer</a> = <a href="#893492" title="Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}" class="keyword">new</a> <a href="TypingTransformers.scala.html#511840" title="anonymous class $anon extends Erasure.this.TypingTransformer" id="893492">TypingTransformer</a><span class="delimiter">(</span><a href="#890700" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span>
      <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="893513">preErase</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893515">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> = <a href="#893515" title="Erasure.this.global.Tree">tree</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.ClassDef">ClassDef</span><span class="delimiter">(</span><a title="Erasure.this.global.Modifiers" id="893542">mods</a>, <a title="Erasure.this.global.TypeName" id="893543">name</a>, <a title="List[Erasure.this.global.TypeDef]" id="893544">tparams</a>, <a title="Erasure.this.global.Template" id="893545">impl</a><span class="delimiter">)</span> =&gt;
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
            <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;defs of &quot;)" class="string">&quot;defs of &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot; = &quot;)" class="string">&quot; = &quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509272" title="=&gt; Erasure.this.global.Type">info</a>.<a href="../symtab/Types.scala.html#507192" title="=&gt; Erasure.this.global.Scope">decls</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#560331" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560232" title="(tree: Erasure.this.global.Tree, mods: Erasure.this.global.Modifiers, name: Erasure.this.global.Name, tparams: List[Erasure.this.global.TypeDef], impl: Erasure.this.global.Template)Erasure.this.global.ClassDef">ClassDef</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>, <a href="#893542" title="Erasure.this.global.Modifiers">mods</a>, <a href="#893543" title="Erasure.this.global.TypeName">name</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#893545" title="Erasure.this.global.Template">impl</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.DefDef">DefDef</span><span class="delimiter">(</span><a title="Erasure.this.global.Modifiers" id="893584">mods</a>, <a title="Erasure.this.global.TermName" id="893585">name</a>, <a title="List[Erasure.this.global.TypeDef]" id="893586">tparams</a>, <a title="List[List[Erasure.this.global.ValDef]]" id="893587">vparamss</a>, <a title="Erasure.this.global.Tree" id="893588">tpt</a>, <a title="Erasure.this.global.Tree" id="893589">rhs</a><span class="delimiter">)</span> =&gt;
          <a href="../ast/Trees.scala.html#560331" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560236" title="(tree: Erasure.this.global.Tree, mods: Erasure.this.global.Modifiers, name: Erasure.this.global.Name, tparams: List[Erasure.this.global.TypeDef], vparamss: List[List[Erasure.this.global.ValDef]], tpt: Erasure.this.global.Tree, rhs: Erasure.this.global.Tree)Erasure.this.global.DefDef">DefDef</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>, <a href="#893584" title="Erasure.this.global.Modifiers">mods</a>, <a href="#893585" title="Erasure.this.global.TermName">name</a>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span>, <a href="#893587" title="List[List[Erasure.this.global.ValDef]]">vparamss</a>, <a href="#893588" title="Erasure.this.global.Tree">tpt</a>, <a href="#893589" title="Erasure.this.global.Tree">rhs</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.EmptyTree.type">TypeDef</span><span class="delimiter">(</span>_, _, _, _<span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/generic/Trees.scala.html#434035" title="object Erasure.this.global.EmptyTree">EmptyTree</a>
        <span class="keyword">case</span> <span title="Erasure.this.global.analyzer.global.Tree">Apply</span><span class="delimiter">(</span><a title="Erasure.this.global.TypeApply" id="893615">instanceOf</a> @ TypeApply<span class="delimiter">(</span><a title="Erasure.this.global.Select" id="893618">fun</a> @ Select<span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893623">qual</a>, <a title="Erasure.this.global.Name" id="893624">name</a><span class="delimiter">)</span>, <a title="List[Erasure.this.global.Tree]" id="893625">args</a> @ <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Erasure.this.global.Tree])Some[List[Erasure.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893638">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Erasure.this.global.Tree])Some[List[Erasure.this.global.Tree]]">List</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="comment">// !!! todo: simplify by having GenericArray also extract trees</span>
              <span class="keyword">if</span> <span class="delimiter">(</span><span class="delimiter">(</span><a href="#893618" title="Erasure.this.global.Select">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508235" title="=&gt; Erasure.this.global.Symbol">Any_isInstanceOf</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#893618" title="Erasure.this.global.Select">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508262" title="=&gt; Erasure.this.global.Symbol">Object_isInstanceOf</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                  <a href="#513083" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a href="#893638" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54775" title="(x: Int)Boolean">&gt;</a> <span title="Int(0)" class="int">0</span><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Int" id="893665">level</a> = <a href="#513083" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a href="#893638" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
          <span class="keyword">def</span> <a title="(arg: Erasure.this.global.Tree)Erasure.this.global.gen.global.Tree" id="893666">isArrayTest</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893667">arg</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span> =
            <a href="../Global.scala.html#478214" title="object Erasure.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507303" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><a href="../../../reflect/generic/StdNames.scala.html#434009" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Erasure.this.global.TermName" class="string">&quot;isArray&quot;</a>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Erasure.this.global.Tree*)List[Erasure.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#893667" title="Erasure.this.global.Tree">arg</a>, <a href="../../../reflect/generic/Trees.scala.html#443172" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/generic/Constants.scala.html#435761" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#893665" title="Int">level</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <a href="TypingTransformers.scala.html#511838" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#478336" title="object Erasure.this.global.typer">typer</a>.<a href="../typechecker/Typers.scala.html#507769" title="(pos: Erasure.this.global.analyzer.global.Position)(tree: Erasure.this.global.analyzer.global.Tree)Erasure.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span title="Erasure.this.global.analyzer.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893665" title="Int">level</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#893666" title="(arg: Erasure.this.global.Tree)Erasure.this.global.gen.global.Tree">isArrayTest</a><span class="delimiter">(</span><a href="#893623" title="Erasure.this.global.Tree">qual</a><span class="delimiter">)</span>
            <span class="keyword">else</span>
              <a href="../Global.scala.html#478214" title="object Erasure.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507314" title="(expr: Erasure.this.global.gen.global.Tree, owner: Erasure.this.global.gen.global.Symbol, unit: Erasure.this.global.gen.global.CompilationUnit)(within: (() =&gt; Erasure.this.global.gen.global.Tree) =&gt; Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span><a href="#893623" title="Erasure.this.global.Tree">qual</a>, <a href="../ast/Trees.scala.html#560333" title="=&gt; Erasure.this.global.Symbol">currentOwner</a>, <a href="#890700" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Erasure.this.global.gen.global.Tree" id="893714">qual1</a> =&gt;
                <a href="../Global.scala.html#478214" title="object Erasure.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507293" title="(tree1: Erasure.this.global.gen.global.Tree, tree2: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">mkAnd</a><span class="delimiter">(</span>
                  <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443835" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#62187" title="()Erasure.this.global.gen.global.Tree">qual1</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="#893618" title="Erasure.this.global.Select">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span>,
                                  <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Erasure.this.global.TypeTree*)List[Erasure.this.global.TypeTree]">List</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479149" title="(tp: Erasure.this.global.Type)Erasure.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#893638" title="Erasure.this.global.Tree">arg</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
                        List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span>,
                  <a href="#893666" title="(arg: Erasure.this.global.Tree)Erasure.this.global.gen.global.Tree">isArrayTest</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#62187" title="()Erasure.this.global.gen.global.Tree">qual1</a><span class="delimiter">(</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
              <span class="delimiter">}</span>
          <span class="delimiter">}</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893760">fun</a>, <a title="List[Erasure.this.global.Tree]" id="893761">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#893760" title="Erasure.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#507921" title="=&gt; Erasure.this.global.Symbol">AnyClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                      <a href="#893760" title="Erasure.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#508264" title="=&gt; Erasure.this.global.Symbol">Object_asInstanceOf</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                                      <a href="#893760" title="Erasure.this.global.Tree">fun</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#508262" title="=&gt; Erasure.this.global.Symbol">Object_isInstanceOf</a><span class="delimiter">)</span> =&gt;
          <span class="comment">// leave all other type tests/type casts, remove all other type applications</span>
          <a href="#893513" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">preErase</a><span class="delimiter">(</span><a href="#893760" title="Erasure.this.global.Tree">fun</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Erasure.this.global.Select" id="893780">fn</a> @ Select<span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893785">qual</a>, <a title="Erasure.this.global.Name" id="893786">name</a><span class="delimiter">)</span>, <a title="List[Erasure.this.global.Tree]" id="893787">args</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#893780" title="Erasure.this.global.Select">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a><span class="delimiter">)</span> =&gt;
          <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#513083" title="(tp: Erasure.this.global.Type)Int">unboundedGenericArrayLevel</a><span class="delimiter">(</span><a href="#893785" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Erasure.this.global.Type">widen</a><span class="delimiter">)</span> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
            <span class="comment">// convert calls to apply/update/length on generic arrays to</span>
            <span class="comment">// calls of ScalaRunTime.array_xxx method calls</span>
            <a href="TypingTransformers.scala.html#511838" title="=&gt; scala.tools.nsc.Global">global</a>.<a href="../Global.scala.html#478336" title="object Erasure.this.global.typer">typer</a>.<a href="../typechecker/Typers.scala.html#507769" title="(pos: Erasure.this.global.analyzer.global.Position)(tree: Erasure.this.global.analyzer.global.Tree)Erasure.this.global.analyzer.global.Tree">typedPos</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../Global.scala.html#478214" title="object Erasure.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507303" title="(meth: Erasure.this.global.gen.global.Name, args: List[Erasure.this.global.gen.global.Tree])Erasure.this.global.gen.global.Tree">mkRuntimeCall</a><span class="delimiter">(</span><span title="java.lang.String(&quot;array_&quot;)" class="string">&quot;array_&quot;</span><a href="../../../reflect/generic/StdNames.scala.html#434009" title="implicit scala.reflect.generic.StdNames.stringToTermName : (s: String)Erasure.this.global.TermName">+</a><a href="#893786" title="Erasure.this.global.Name">name</a>, <a href="#893785" title="Erasure.this.global.Tree">qual</a> <a href="../../../collection/immutable/List.scala.html#49140" title="(x: Erasure.this.global.Tree)List[Erasure.this.global.Tree]">::</a> <a href="#893787" title="List[Erasure.this.global.Tree]">args</a><span class="delimiter">)</span> <span class="delimiter">}</span>
          <span class="keyword">else</span>
            <span class="comment">// store exact array erasure in map to be retrieved later when we might</span>
            <span class="comment">// need to do the cast in adaptMember</span>
            <a href="../ast/Trees.scala.html#560331" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560260" title="(tree: Erasure.this.global.Tree, fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span>
              <a href="#893515" title="Erasure.this.global.Tree">tree</a>,
              <a href="../../../reflect/generic/Trees.scala.html#444253" title="(qualifier: Erasure.this.global.Tree, name: Erasure.this.global.Name, erasure: Erasure.this.global.Type)Erasure.this.global.SelectFromArray">SelectFromArray</a><span class="delimiter">(</span><a href="#893785" title="Erasure.this.global.Tree">qual</a>, <a href="#893786" title="Erasure.this.global.Name">name</a>, <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#893785" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../../../reflect/generic/Trees.scala.html#441041" title="(tree: Erasure.this.global.Tree)Erasure.this.global.SelectFromArray">copyAttrs</a><span class="delimiter">(</span><a href="#893780" title="Erasure.this.global.Select">fn</a><span class="delimiter">)</span>,
              <a href="#893787" title="List[Erasure.this.global.Tree]">args</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Erasure.this.global.Select" id="893822">fn</a> @ Select<span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893827">qual</a>, _<span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#13700" title="object Nil">Nil</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="../../../collection/GenSetLike.scala.html#59062" title="(elem: Erasure.this.global.Symbol)Boolean">interceptedMethods</a><span class="delimiter">(</span><a href="#893822" title="Erasure.this.global.Select">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span> =&gt;
          <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893822" title="Erasure.this.global.Select">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508241" title="=&gt; Erasure.this.global.Symbol">Any_##</a> <a href="../../../Boolean.scala.html#55579" title="(x: Boolean)Boolean">||</a> <a href="#893822" title="Erasure.this.global.Select">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441600" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508256" title="=&gt; Erasure.this.global.Symbol">Object_##</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// This is unattractive, but without it we crash here on ().## because after</span>
            <span class="comment">// erasure the ScalaRunTime.hash overload goes from Unit =&gt; Int to BoxedUnit =&gt; Int.</span>
            <span class="comment">// This must be because some earlier transformation is being skipped on ##, but so</span>
            <span class="comment">// far I don't know what.  For null we now define null.## == 0.</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="893849">arg</a> = <a href="#893827" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507161" title="=&gt; Erasure.this.global.Symbol">typeSymbolDirect</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#508423" title="Erasure.this.global.Block">UnitClass</a>  =&gt; <a href="../ast/TreeDSL.scala.html#515238" title="(xs: Erasure.this.global.Tree*)Erasure.this.global.Block">BLOCK</a><span class="delimiter">(</span><a href="#893827" title="Erasure.this.global.Tree">qual</a>, <a href="../ast/TreeDSL.scala.html#515243" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.gen.global.Tree">REF</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508305" title="=&gt; Erasure.this.global.Symbol">BoxedUnit_UNIT</a><span class="delimiter">)</span><span class="delimiter">)</span>   <span class="comment">// ({ expr; UNIT }).##</span>
              <span class="keyword">case</span> <a href="../symtab/Definitions.scala.html#507931" title="Erasure.this.global.Literal">NullClass</a>  =&gt; <a href="../ast/TreeDSL.scala.html#547417" title="(x: Any)Erasure.this.global.Literal">LIT</a><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>                             <span class="comment">// (null: Object).##</span>
              <span class="keyword">case</span> <span title="Erasure.this.global.Tree">_</span>          =&gt; <a href="#893827" title="Erasure.this.global.Tree">qual</a>
            <span class="delimiter">}</span>
            <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#478214" title="object Erasure.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507273" title="(sym: Erasure.this.global.gen.global.Symbol)Erasure.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508038" title="=&gt; Erasure.this.global.Symbol">scalaRuntimeHash</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Erasure.this.global.Tree*)List[Erasure.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#893849" title="Erasure.this.global.Tree">arg</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
          <span class="comment">// Rewrite 5.getClass to ScalaRunTime.anyValClass(5)</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#893827" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span>
            <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../Global.scala.html#478214" title="object Erasure.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507273" title="(sym: Erasure.this.global.gen.global.Symbol)Erasure.this.global.gen.global.Tree">mkAttributedRef</a><span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508039" title="=&gt; Erasure.this.global.Symbol">scalaRuntimeAnyValClass</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Erasure.this.global.Tree*)List[Erasure.this.global.Tree]">List</a><span class="delimiter">(</span><a href="#893827" title="Erasure.this.global.Tree">qual</a><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="keyword">else</span>
            <a href="#893515" title="Erasure.this.global.Tree">tree</a>

        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">Apply</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893881">fn</a>, <a title="List[Erasure.this.global.Tree]" id="893882">args</a><span class="delimiter">)</span> =&gt;
          <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893881" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508238" title="=&gt; Erasure.this.global.Symbol">Any_asInstanceOf</a><span class="delimiter">)</span>
            <span class="delimiter">(</span><a href="#893881" title="Erasure.this.global.Tree">fn</a>: @<a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree @unchecked">unchecked</a><span class="delimiter">)</span> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Erasure.this.global.Tree">TypeApply</span><span class="delimiter">(</span>Select<span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893894">qual</a>, _<span class="delimiter">)</span>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Erasure.this.global.Tree])Some[List[Erasure.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893907">targ</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893894" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#893907" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <a href="../ast/Trees.scala.html#479182" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Typed)Erasure.this.global.Typed">atPos</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../reflect/generic/Trees.scala.html#443806" title="(expr: Erasure.this.global.Tree, tpt: Erasure.this.global.Tree)Erasure.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#893894" title="Erasure.this.global.Tree">qual</a>, <a href="../ast/Trees.scala.html#479149" title="(tp: Erasure.this.global.Type)Erasure.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#893907" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
                <span class="delimiter">}</span> <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../symtab/Definitions.scala.html#508417" title="(sym: Erasure.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#893894" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a>
                           <a href="../symtab/Definitions.scala.html#508417" title="(sym: Erasure.this.global.Symbol)Boolean">isNumericValueClass</a><span class="delimiter">(</span><a href="#893907" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">{</span>
                  <span class="comment">// convert numeric type casts</span>
                  <span class="keyword">val</span> <a title="Erasure.this.global.TermName" id="893924">cname</a> = <a href="../symtab/Names.scala.html#478402" title="(s: String)Erasure.this.global.TermName">newTermName</a><span class="delimiter">(</span><span title="java.lang.String(&quot;to&quot;)" class="string">&quot;to&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#893907" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>.<a href="../symtab/Symbols.scala.html#509256" title="=&gt; Erasure.this.global.Name">name</a><span class="delimiter">)</span>
                  <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="893925">csym</a> = <a href="#893894" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507200" title="(name: Erasure.this.global.Name)Erasure.this.global.Symbol">member</a><span class="delimiter">(</span><a href="#893924" title="Erasure.this.global.TermName">cname</a><span class="delimiter">)</span>
                  <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="#893925" title="Erasure.this.global.Symbol">csym</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Symbols.scala.html#478667" title="object Erasure.this.global.NoSymbol">NoSymbol</a><span class="delimiter">)</span>
                  <a href="../ast/Trees.scala.html#479182" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Apply)Erasure.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893894" title="Erasure.this.global.Tree">qual</a>, <a href="#893925" title="Erasure.this.global.Symbol">csym</a><span class="delimiter">)</span>, List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
                <span class="delimiter">}</span> <span class="keyword">else</span>
                  <a href="#893515" title="Erasure.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
            <span class="comment">// todo: also handle the case where the singleton type is buried in a compound</span>
          <span class="keyword">else</span> <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893881" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508235" title="=&gt; Erasure.this.global.Symbol">Any_isInstanceOf</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <a href="#893881" title="Erasure.this.global.Tree">fn</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Erasure.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="Erasure.this.global.Select" id="893976">sel</a> @ Select<span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893981">qual</a>, <a title="Erasure.this.global.Name" id="893982">name</a><span class="delimiter">)</span>, <a href="../../../collection/generic/GenSeqFactory.scala.html#48862" title="(x: List[Erasure.this.global.Tree])Some[List[Erasure.this.global.Tree]]">List</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893995">targ</a><span class="delimiter">)</span><span class="delimiter">)</span> =&gt;
                <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#893981" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../symtab/Definitions.scala.html#508366" title="(sym: Erasure.this.global.Symbol)Boolean">isValueClass</a><span class="delimiter">(</span><a href="#893981" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#893995" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#893995" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#507923" title="=&gt; Erasure.this.global.Symbol">AnyRefClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
                  <a href="#890700" title="Erasure.this.global.CompilationUnit">unit</a>.<a href="../CompilationUnits.scala.html#500978" title="(pos: Erasure.this.global.Position, msg: String)Unit">error</a><span class="delimiter">(</span><a href="#893976" title="Erasure.this.global.Select">sel</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a>, <span title="java.lang.String(&quot;isInstanceOf cannot test if value types are references.&quot;)" class="string">&quot;isInstanceOf cannot test if value types are references.&quot;</span><span class="delimiter">)</span>

                <span class="keyword">def</span> <a title="(q: () =&gt; Erasure.this.global.Tree)(tp: Erasure.this.global.Type)Erasure.this.global.Tree" id="893996">mkIsInstanceOf</a><span class="delimiter">(</span><a title="() =&gt; Erasure.this.global.Tree" id="894010">q</a>: <span class="delimiter">(</span><span class="delimiter">)</span> =&gt; Tree<span class="delimiter">)</span><span class="delimiter">(</span><a title="Erasure.this.global.Type" id="894011">tp</a>: <a href="../symtab/Types.scala.html#478720" title="Erasure.this.global.Type">Type</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> =
                  <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span>
                    <a href="../../../reflect/generic/Trees.scala.html#443835" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.TypeApply">TypeApply</a><span class="delimiter">(</span>
                      <a href="../ast/Trees.scala.html#479143" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="../../../Function0.scala.html#62187" title="()Erasure.this.global.Tree">q</a><span class="delimiter">(</span><span class="delimiter">)</span>, <a href="../symtab/Definitions.scala.html#508262" title="=&gt; Erasure.this.global.Symbol">Object_isInstanceOf</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Erasure.this.global.Select">setPos</a> <a href="#893976" title="Erasure.this.global.Select">sel</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a>,
                      <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Erasure.this.global.TypeTree*)List[Erasure.this.global.TypeTree]">List</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479149" title="(tp: Erasure.this.global.Type)Erasure.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#894011" title="Erasure.this.global.Type">tp</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Erasure.this.global.TypeTree">setPos</a> <a href="#893995" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Erasure.this.global.TypeApply">setPos</a> <a href="#893881" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a>,
                    List<a href="../../../collection/immutable/List.scala.html#13700" title="object Nil" class="delimiter">(</a><span class="delimiter">)</span><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Erasure.this.global.Apply">setPos</a> <a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a>
                <a href="#893995" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
                  <span class="keyword">case</span> <span title="Erasure.this.global.Apply">SingleType</span><span class="delimiter">(</span>_, _<span class="delimiter">)</span> | ThisType<span class="delimiter">(</span>_<span class="delimiter">)</span> | SuperType<span class="delimiter">(</span>_, _<span class="delimiter">)</span> =&gt;
                    <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="894071">cmpOp</a> = <span title="Erasure.this.global.Symbol" class="keyword">if</span> <span class="delimiter">(</span><a href="#893995" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="../symtab/Definitions.scala.html#508421" title="=&gt; Erasure.this.global.Symbol">AnyValClass</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span> <a href="../symtab/Definitions.scala.html#508223" title="=&gt; Erasure.this.global.Symbol">Any_equals</a> <span class="keyword">else</span> <a href="../symtab/Definitions.scala.html#508244" title="=&gt; Erasure.this.global.Symbol">Object_eq</a>
                    <a href="../ast/Trees.scala.html#479182" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Apply)Erasure.this.global.Apply">atPos</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                      <a href="../../../reflect/generic/Trees.scala.html#443864" title="(fun: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.Apply">Apply</a><span class="delimiter">(</span><a href="../ast/Trees.scala.html#479143" title="(qualifier: Erasure.this.global.Tree, sym: Erasure.this.global.Symbol)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893981" title="Erasure.this.global.Tree">qual</a>, <a href="#894071" title="Erasure.this.global.Symbol">cmpOp</a><span class="delimiter">)</span>, <a href="../../../collection/immutable/List.scala.html#48877" title="(xs: Erasure.this.global.gen.global.Tree*)List[Erasure.this.global.gen.global.Tree]">List</a><span class="delimiter">(</span><a href="../Global.scala.html#478214" title="object Erasure.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507269" title="(tpe: Erasure.this.global.gen.global.Type)Erasure.this.global.gen.global.Tree">mkAttributedQualifier</a><span class="delimiter">(</span><a href="#893995" title="Erasure.this.global.Tree">targ</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Erasure.this.global.Tree">RefinedType</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Type]" id="894113">parents</a>, <a title="Erasure.this.global.Scope" id="894114">decls</a><span class="delimiter">)</span> <span class="keyword">if</span> <span class="delimiter">(</span><a href="#894113" title="List[Erasure.this.global.Type]">parents</a>.<a href="../../../collection/LinearSeqOptimized.scala.html#71030" title="=&gt; Int">length</a> <a href="../../../Int.scala.html#54782" title="(x: Int)Boolean">&gt;=</a> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span> =&gt;
                    <span class="comment">// Optimization: don't generate isInstanceOf tests if the static type</span>
                    <span class="comment">// conforms, because it always succeeds.  (Or at least it had better.)</span>
                    <span class="comment">// At this writing the pattern matcher generates some instance tests</span>
                    <span class="comment">// involving intersections where at least one parent is statically known true.</span>
                    <span class="comment">// That needs fixing, but filtering the parents here adds an additional</span>
                    <span class="comment">// level of robustness (in addition to the short term fix.)</span>
                    <span class="keyword">val</span> <a title="List[Erasure.this.global.Type]" id="894119">parentTests</a> = <a href="#894113" title="List[Erasure.this.global.Type]">parents</a> <a href="../../../collection/TraversableLike.scala.html#49052" title="(p: Erasure.this.global.Type =&gt; Boolean)List[Erasure.this.global.Type]">filterNot</a> <span class="delimiter">(</span><a href="#893981" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a> <a href="../symtab/Types.scala.html#507220" title="(that: Erasure.this.global.Type)Boolean">&lt;:&lt;</a> <a href="#894123" title="Erasure.this.global.Type">_</a><span class="delimiter">)</span>

                    <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#894119" title="List[Erasure.this.global.Type]">parentTests</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#443172" title="(value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="../../../reflect/generic/Constants.scala.html#435761" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>
                    <span class="keyword">else</span> <a href="../Global.scala.html#478214" title="object Erasure.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507314" title="(expr: Erasure.this.global.gen.global.Tree, owner: Erasure.this.global.gen.global.Symbol, unit: Erasure.this.global.gen.global.CompilationUnit)(within: (() =&gt; Erasure.this.global.gen.global.Tree) =&gt; Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">evalOnce</a><span class="delimiter">(</span><a href="#893981" title="Erasure.this.global.Tree">qual</a>, <a href="../ast/Trees.scala.html#560333" title="=&gt; Erasure.this.global.Symbol">currentOwner</a>, <a href="#890700" title="Erasure.this.global.CompilationUnit">unit</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="() =&gt; Erasure.this.global.gen.global.Tree" id="894144">q</a> =&gt;
                      <a href="../ast/Trees.scala.html#479182" title="(pos: Erasure.this.global.Position)(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">atPos</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a><span class="delimiter">)</span> <span class="delimiter">{</span>
                        <a href="#894119" title="List[Erasure.this.global.Type]">parentTests</a> <a href="../../../collection/TraversableLike.scala.html#49041" title="(f: Erasure.this.global.Type =&gt; Erasure.this.global.Tree)(implicit bf: scala.collection.generic.CanBuildFrom[List[Erasure.this.global.Type],Erasure.this.global.Tree,List[Erasure.this.global.Tree]])List[Erasure.this.global.Tree]">map</a> <a href="#893996" title="(q: () =&gt; Erasure.this.global.Tree)(tp: Erasure.this.global.Type)Erasure.this.global.Tree">mkIsInstanceOf</a><a href="#894165" title="Erasure.this.global.Type" class="delimiter">(</a><a href="#894144" title="() =&gt; Erasure.this.global.gen.global.Tree">q</a><span class="delimiter">)</span> <a href="../../../collection/LinearSeqOptimized.scala.html#71048" title="(op: (Erasure.this.global.Tree, Erasure.this.global.Tree) =&gt; Erasure.this.global.Tree)Erasure.this.global.Tree">reduceRight</a> <a href="../Global.scala.html#478214" title="object Erasure.this.global.gen">gen</a>.<a href="../ast/TreeGen.scala.html#507293" title="(tree1: Erasure.this.global.gen.global.Tree, tree2: Erasure.this.global.gen.global.Tree)Erasure.this.global.gen.global.Tree">mkAnd</a>
                      <span class="delimiter">}</span>
                    <span class="delimiter">}</span>
                  <span class="keyword">case</span> <span title="Erasure.this.global.Tree">_</span> =&gt;
                    <a href="#893515" title="Erasure.this.global.Tree">tree</a>
                <span class="delimiter">}</span>
              <span class="keyword">case</span> <span title="Erasure.this.global.Tree">_</span> =&gt; <a href="#893515" title="Erasure.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>
          <span class="keyword">else</span> <span class="delimiter">{</span>
            <span class="keyword">def</span> <a title="(fn: Erasure.this.global.Tree, qual: Erasure.this.global.Tree)Erasure.this.global.Tree" id="894227">doDynamic</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="894228">fn</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a>, <a title="Erasure.this.global.Tree" id="894229">qual</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
              <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#894228" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#894228" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509340" title="=&gt; List[Erasure.this.global.Symbol]">allOverriddenSymbols</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a><span class="delimiter">)</span>
                <a href="../../../reflect/generic/Trees.scala.html#443893" title="(qual: Erasure.this.global.Tree, args: List[Erasure.this.global.Tree])Erasure.this.global.ApplyDynamic">ApplyDynamic</a><span class="delimiter">(</span><a href="#894229" title="Erasure.this.global.Tree">qual</a>, <a href="#893882" title="List[Erasure.this.global.Tree]">args</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441034" title="(sym: Erasure.this.global.Symbol)Erasure.this.global.ApplyDynamic">setSymbol</a> <a href="#894228" title="Erasure.this.global.Tree">fn</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <a href="../../../reflect/generic/Trees.scala.html#441026" title="(pos: scala.tools.nsc.util.Position)Erasure.this.global.ApplyDynamic">setPos</a> <a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441024" title="=&gt; Erasure.this.global.Position">pos</a>
              <span class="keyword">else</span> <a href="#893515" title="Erasure.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
            <a href="#893881" title="Erasure.this.global.Tree">fn</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
              <span class="keyword">case</span> <span title="Erasure.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="894247">qual</a>, _<span class="delimiter">)</span> =&gt; <a href="#894227" title="(fn: Erasure.this.global.Tree, qual: Erasure.this.global.Tree)Erasure.this.global.Tree">doDynamic</a><span class="delimiter">(</span><a href="#893881" title="Erasure.this.global.Tree">fn</a>, <a href="#894247" title="Erasure.this.global.Tree">qual</a><span class="delimiter">)</span>
              <span class="keyword">case</span> <span title="Erasure.this.global.Tree">TypeApply</span><span class="delimiter">(</span><a title="Erasure.this.global.Select" id="894250">fni</a>@Select<span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="894255">qual</a>, _<span class="delimiter">)</span>, _<span class="delimiter">)</span> =&gt; <a href="#894227" title="(fn: Erasure.this.global.Tree, qual: Erasure.this.global.Tree)Erasure.this.global.Tree">doDynamic</a><span class="delimiter">(</span><a href="#894250" title="Erasure.this.global.Select">fni</a>, <a href="#894255" title="Erasure.this.global.Tree">qual</a><span class="delimiter">)</span><span class="comment">// type parameters are irrelevant in case of dynamic call</span>
              <span class="keyword">case</span> <span title="Erasure.this.global.Tree">_</span> =&gt;
                <a href="#893515" title="Erasure.this.global.Tree">tree</a>
            <span class="delimiter">}</span>
          <span class="delimiter">}</span>

        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">Select</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="894260">qual</a>, <a title="Erasure.this.global.Name" id="894261">name</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="894262">owner</a> = <a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a>
          <span class="comment">// println(&quot;preXform: &quot;+ (tree, tree.symbol, tree.symbol.owner, tree.symbol.owner.isRefinementClass))</span>
          <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="#894262" title="Erasure.this.global.Symbol">owner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435389" title="=&gt; Boolean">isRefinementClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="List[Erasure.this.global.Symbol]" id="894265">overridden</a> = <a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509340" title="=&gt; List[Erasure.this.global.Symbol]">allOverriddenSymbols</a>
            <a href="../../../Predef.scala.html#9566" title="(assertion: Boolean, message: =&gt; Any)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#894265" title="List[Erasure.this.global.Symbol]">overridden</a>.<a href="../../../collection/IterableLike.scala.html#53862" title="=&gt; Boolean">isEmpty</a>, <a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a><span class="delimiter">)</span>
            <a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441033" title="(sym: Erasure.this.global.Symbol)Unit">symbol</a> = <a href="#894265" title="List[Erasure.this.global.Symbol]">overridden</a>.<a href="../../../collection/IterableLike.scala.html#53870" title="=&gt; Erasure.this.global.Symbol">head</a>
          <span class="delimiter">}</span>
          <span class="keyword">def</span> <a title="(sym: Erasure.this.global.Symbol)Boolean" id="894263">isAccessible</a><span class="delimiter">(</span><a title="Erasure.this.global.Symbol" id="894269">sym</a>: <a href="../symtab/Symbols.scala.html#478659" title="Erasure.this.global.Symbol">Symbol</a><span class="delimiter">)</span> = <a href="TypingTransformers.scala.html#893496" title="=&gt; Erasure.this.global.analyzer.Typer">localTyper</a>.<a href="../typechecker/Typers.scala.html#507675" title="Erasure.this.global.analyzer.Context" id="894273">context</a>.<a href="../typechecker/Contexts.scala.html#712152" title="Boolean" id="894278">isAccessible</a><span class="delimiter">(</span><a href="#894269" title="Erasure.this.global.Symbol" id="894276">sym</a>, <a href="#894269" title="Erasure.this.global.Symbol">sym</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a>.<a href="../symtab/Symbols.scala.html#509308" title="Erasure.this.global.Type" id="894277">thisType</a><span class="delimiter">)</span>
          <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#894263" title="(sym: Erasure.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#894262" title="Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#894260" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a> <span title="(x$1: AnyRef)Boolean">!=</span> <span title="Null(null)" class="keyword">null</span><span class="delimiter">)</span> <span class="delimiter">{</span>
            <span class="comment">// Todo: Figure out how qual.tpe could be null in the check above (it does appear in build where SwingWorker.this</span>
            <span class="comment">// has a null type).</span>
            <span class="keyword">val</span> <a title="Erasure.this.global.Symbol" id="894284">qualSym</a> = <a href="#894260" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Erasure.this.global.Type">widen</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a>
            <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#894263" title="(sym: Erasure.this.global.Symbol)Boolean">isAccessible</a><span class="delimiter">(</span><a href="#894284" title="Erasure.this.global.Symbol">qualSym</a><span class="delimiter">)</span> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#894284" title="Erasure.this.global.Symbol">qualSym</a>.<a href="../../../reflect/generic/Symbols.scala.html#435395" title="=&gt; Boolean">isPackageClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="#894284" title="Erasure.this.global.Symbol">qualSym</a>.<a href="../symtab/Symbols.scala.html#509196" title="=&gt; Boolean">isPackageObjectClass</a><span class="delimiter">)</span> <span class="delimiter">{</span>
              <span class="comment">// insert cast to prevent illegal access error (see #4283)</span>
              <span class="comment">// util.trace(&quot;insert erasure cast &quot;) (*/</span>
              <a href="../ast/Trees.scala.html#560331" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560264" title="(tree: Erasure.this.global.Tree, qualifier: Erasure.this.global.Tree, selector: Erasure.this.global.Name)Erasure.this.global.Select">Select</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>, <a href="../ast/TreeDSL.scala.html#515248" title="implicit scala.tools.nsc.ast.TreeDSL.CODE.mkTreeMethods : (target: Erasure.this.global.Tree)Erasure.this.CODE.TreeMethods">qual</a> <a href="../ast/TreeDSL.scala.html#547511" title="(tpe: Erasure.this.global.Type)Erasure.this.global.Tree">AS_ATTR</a> <a href="#894260" title="Erasure.this.global.Tree">qual</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a>.<a href="../symtab/Types.scala.html#507163" title="=&gt; Erasure.this.global.Type">widen</a>, <a href="#894261" title="Erasure.this.global.Name">name</a><span class="delimiter">)</span> <span class="comment">//)</span>
            <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#893515" title="Erasure.this.global.Tree">tree</a>
          <span class="delimiter">}</span> <span class="keyword">else</span> <a href="#893515" title="Erasure.this.global.Tree">tree</a>

        <span class="keyword">case</span> <span title="Erasure.this.global.Template">Template</span><span class="delimiter">(</span><a title="List[Erasure.this.global.Tree]" id="894305">parents</a>, <a title="Erasure.this.global.ValDef" id="894306">self</a>, <a title="List[Erasure.this.global.Tree]" id="894307">body</a><span class="delimiter">)</span> =&gt;
          <a href="../../../Predef.scala.html#9565" title="(assertion: Boolean)Unit">assert</a><span class="delimiter">(</span><a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#560333" title="=&gt; Erasure.this.global.Symbol">currentOwner</a>.<a href="../../../reflect/generic/Symbols.scala.html#435382" title="=&gt; Boolean">isImplClass</a><span class="delimiter">)</span>
          <span class="comment">//Console.println(&quot;checking no dble defs &quot; + tree)//DEBUG</span>
          <a href="#890694" title="(root: Erasure.this.global.Symbol)Unit">checkNoDoubleDefs</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509249" title="=&gt; Erasure.this.global.Symbol">owner</a><span class="delimiter">)</span>
          <a href="../ast/Trees.scala.html#560331" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560241" title="(tree: Erasure.this.global.Tree, parents: List[Erasure.this.global.Tree], self: Erasure.this.global.ValDef, body: List[Erasure.this.global.Tree])Erasure.this.global.Template">Template</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>, <a href="#894305" title="List[Erasure.this.global.Tree]">parents</a>, <a href="../ast/Trees.scala.html#479127" title="object Erasure.this.global.emptyValDef">emptyValDef</a>, <a href="#890696" title="(stats: List[Erasure.this.global.Tree], base: Erasure.this.global.Symbol)List[Erasure.this.global.Tree]">addBridges</a><span class="delimiter">(</span><a href="#894307" title="List[Erasure.this.global.Tree]">body</a>, <a href="../ast/Trees.scala.html#560333" title="=&gt; Erasure.this.global.Symbol">currentOwner</a><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Erasure.this.global.Match">Match</span><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="894322">selector</a>, <a title="List[Erasure.this.global.CaseDef]" id="894323">cases</a><span class="delimiter">)</span> =&gt;
          <a href="../../../reflect/generic/Trees.scala.html#443673" title="(selector: Erasure.this.global.Tree, cases: List[Erasure.this.global.CaseDef])Erasure.this.global.Match">Match</a><span class="delimiter">(</span><a href="../../../reflect/generic/Trees.scala.html#443806" title="(expr: Erasure.this.global.Tree, tpt: Erasure.this.global.Tree)Erasure.this.global.Typed">Typed</a><span class="delimiter">(</span><a href="#894322" title="Erasure.this.global.Tree">selector</a>, <a href="../ast/Trees.scala.html#479149" title="(tp: Erasure.this.global.Type)Erasure.this.global.TypeTree">TypeTree</a><span class="delimiter">(</span><a href="#894322" title="Erasure.this.global.Tree">selector</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span><span class="delimiter">)</span>, <a href="#894323" title="List[Erasure.this.global.CaseDef]">cases</a><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Erasure.this.global.Literal">Literal</span><span class="delimiter">(</span><a title="Erasure.this.global.Constant" id="894335">ct</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#894335" title="Erasure.this.global.Constant">ct</a>.<a href="../../../reflect/generic/Constants.scala.html#434214" title="=&gt; Int">tag</a> <a href="../../../Int.scala.html#54747" title="(x: Int)Boolean">==</a> <span title="Int(12)">ClassTag</span>
                         <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="#894335" title="Erasure.this.global.Constant">ct</a>.<a href="../../../reflect/generic/Constants.scala.html#434238" title="=&gt; Erasure.this.global.Type">typeValue</a>.<a href="../symtab/Types.scala.html#507159" title="=&gt; Erasure.this.global.Symbol">typeSymbol</a> <span title="(x$1: AnyRef)Boolean">!=</span> <a href="../symtab/Definitions.scala.html#479030" title="object Erasure.this.global.definitions">definitions</a>.<a href="../symtab/Definitions.scala.html#508423" title="=&gt; Erasure.this.global.Symbol">UnitClass</a> =&gt;
          <a href="../ast/Trees.scala.html#560331" title="=&gt; Erasure.this.global.TreeCopier">treeCopy</a>.<a href="../ast/Trees.scala.html#560266" title="(tree: Erasure.this.global.Tree, value: Erasure.this.global.Constant)Erasure.this.global.Literal">Literal</a><span class="delimiter">(</span><a href="#893515" title="Erasure.this.global.Tree">tree</a>, <a href="../../../reflect/generic/Constants.scala.html#435761" title="(value: Any)Erasure.this.global.Constant">Constant</a><span class="delimiter">(</span><a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#894335" title="Erasure.this.global.Constant">ct</a>.<a href="../../../reflect/generic/Constants.scala.html#434238" title="=&gt; Erasure.this.global.Type">typeValue</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

        <span class="keyword">case</span> <span title="Erasure.this.global.Tree">_</span> =&gt;
          <a href="#893515" title="Erasure.this.global.Tree">tree</a>
      <span class="delimiter">}</span>

      <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="893514">transform</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="893516">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
        <span class="comment">// Reply to &quot;!!! needed?&quot; which adorned the next line: without it, build fails with:</span>
        <span class="comment">//   Exception in thread &quot;main&quot; scala.tools.nsc.symtab.Types$TypeError:</span>
        <span class="comment">//   value array_this is not a member of object scala.runtime.ScalaRunTime</span>
        <span class="comment">//</span>
        <span class="comment">// What the heck is array_this? See preTransformer in this file:</span>
        <span class="comment">//   gen.mkRuntimeCall(&quot;array_&quot;+name, qual :: args)</span>
        <span title="Erasure.this.global.Tree" class="keyword">if</span> <span class="delimiter">(</span><a href="#893516" title="Erasure.this.global.Tree">tree</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="../symtab/Definitions.scala.html#508099" title="=&gt; Erasure.this.global.Symbol">ArrayClass</a> <a href="../../../Boolean.scala.html#55580" title="(x: Boolean)Boolean">&amp;&amp;</a> <a href="../../../Boolean.scala.html#55576" title="=&gt; Boolean">!</a><a href="../ast/Trees.scala.html#479119" title="implicit scala.tools.nsc.ast.Trees.treeWrapper : (tree: Erasure.this.global.Tree)Erasure.this.global.TreeOps">tree</a>.<a href="../ast/Trees.scala.html#510728" title="=&gt; Boolean">isType</a><span class="delimiter">)</span> <a href="#893516" title="Erasure.this.global.Tree">tree</a>
        <span class="keyword">else</span> <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="894357">tree1</a> = <a href="#893513" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">preErase</a><span class="delimiter">(</span><a href="#893516" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
          <a href="#894357" title="Erasure.this.global.Tree">tree1</a> <span title="Erasure.this.global.Tree" class="keyword">match</span> <span class="delimiter">{</span>
            <span class="keyword">case</span> <a href="../../../reflect/generic/Trees.scala.html#434035" title="tree1.type">EmptyTree</a> | TypeTree<span class="delimiter">(</span><span class="delimiter">)</span> =&gt;
              <a href="#894357" title="Erasure.this.global.Tree">tree1</a> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Erasure.this.global.Type)tree1.type">setType</a> <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#894357" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441028" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>
            <span class="keyword">case</span> <span title="Erasure.this.global.Tree">DefDef</span><span class="delimiter">(</span>_, _, _, _, <a title="Erasure.this.global.Tree" id="894369">tpt</a>, _<span class="delimiter">)</span> =&gt;
              <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="894370">result</a> = <a href="#893492" title="Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#893511" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#894357" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Erasure.this.global.Type)Erasure.this.global.Tree">setType</a> <span title="Null(null)" class="keyword">null</span>
              <a href="#894369" title="Erasure.this.global.Tree">tpt</a>.<a href="../../../reflect/generic/Trees.scala.html#441029" title="(t: Erasure.this.global.Type)Unit">tpe</a> = <a href="#631252" title="(tp: Erasure.this.global.Type)Erasure.this.global.Type">erasure</a><span class="delimiter">(</span><a href="#894357" title="Erasure.this.global.Tree">tree1</a>.<a href="../../../reflect/generic/Trees.scala.html#441032" title="=&gt; Erasure.this.global.Symbol">symbol</a>.<a href="../symtab/Symbols.scala.html#509270" title="=&gt; Erasure.this.global.Type">tpe</a><span class="delimiter">)</span>.<a href="../symtab/Types.scala.html#507173" title="=&gt; Erasure.this.global.Type">resultType</a>
              <a href="#894370" title="Erasure.this.global.Tree">result</a>
            <span class="keyword">case</span> <span title="Erasure.this.global.Tree">_</span> =&gt;
              <a href="#893492" title="Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}" class="keyword">super</a>.<a href="TypingTransformers.scala.html#893511" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#894357" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span> <a href="../../../reflect/generic/Trees.scala.html#441030" title="(tp: Erasure.this.global.Type)Erasure.this.global.Tree">setType</a> <span title="Null(null)" class="keyword">null</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="comment">/** The main transform function: Pretransfom the tree, and then
     *  re-type it at phase erasure.next.
     */</span>
    <span class="keyword">override</span> <span class="keyword">def</span> <a title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree" id="890699">transform</a><span class="delimiter">(</span><a title="Erasure.this.global.Tree" id="894989">tree</a>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a><span class="delimiter">)</span>: <a href="../../../reflect/generic/Trees.scala.html#434028" title="Erasure.this.global.Tree">Tree</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="894992">tree1</a> = <a href="#890697" title="=&gt; Erasure.this.TypingTransformer{def preErase(tree: Erasure.this.global.Tree): Erasure.this.global.Tree}">preTransformer</a>.<a href="TypingTransformers.scala.html#893511" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#894989" title="Erasure.this.global.Tree">tree</a><span class="delimiter">)</span>
      <a href="../symtab/SymbolTable.scala.html#478184" title="(ph: scala.tools.nsc.Phase)(op: =&gt; Erasure.this.global.Tree)Erasure.this.global.Tree">atPhase</a><span class="delimiter">(</span><a href="../symtab/SymbolTable.scala.html#478175" title="=&gt; scala.tools.nsc.Phase">phase</a>.<a href="../Phase.scala.html#505144" title="=&gt; scala.tools.nsc.Phase">next</a><span class="delimiter">)</span> <span class="delimiter">{</span>
        <span class="keyword">val</span> <a title="Erasure.this.global.Tree" id="894999">tree2</a> = <a href="AddInterfaces.scala.html#513070" title="=&gt; Erasure.this.global.Transformer">mixinTransformer</a>.<a href="../ast/Trees.scala.html#560339" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">transform</a><span class="delimiter">(</span><a href="#894992" title="Erasure.this.global.Tree">tree1</a><span class="delimiter">)</span>
        <span title="Unit" class="keyword">if</span> <span class="delimiter">(</span><a href="../Global.scala.html#478200" title="=&gt; scala.tools.nsc.Settings">settings</a>.<a href="../settings/ScalaSettings.scala.html#469727" title="=&gt; scala.tools.nsc.Settings#BooleanSetting">debug</a>.<a href="../settings/MutableSettings.scala.html#470030" title="=&gt; Boolean">value</a><span class="delimiter">)</span>
          <a href="../Global.scala.html#478254" title="(msg: =&gt; AnyRef)Unit">log</a><span class="delimiter">(</span><span title="java.lang.String(&quot;tree after addinterfaces: \012&quot;)" class="string">&quot;tree after addinterfaces: \n&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <a href="#894999" title="Erasure.this.global.Tree">tree2</a><span class="delimiter">)</span>

        <a href="#513107" title="(context: Erasure.this.Context)Erasure.this.Eraser">newTyper</a><span class="delimiter">(</span><a href="../typechecker/Contexts.scala.html#507357" title="(unit: Erasure.this.global.CompilationUnit, tree: Erasure.this.global.Tree, erasedTypes: Boolean)Erasure.this.Context">rootContext</a><span class="delimiter">(</span><a href="#890700" title="Erasure.this.global.CompilationUnit">unit</a>, <a href="#894989" title="Erasure.this.global.Tree">tree</a>, <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">)</span>.<a href="../typechecker/Typers.scala.html#507768" title="(tree: Erasure.this.global.Tree)Erasure.this.global.Tree">typed</a><span class="delimiter">(</span><a href="#894999" title="Erasure.this.global.Tree">tree2</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>